(window.webpackJsonp=window.webpackJsonp||[]).push([[568],{"8gSl":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("zYa8"),a=n("SxMs");const s="ultra.components.directives.bbUiIcon.large.Post";Object(i.a)(a.a,s,"bbUiIconLargePost")},FU3Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("zYa8"),a=n("An0y");const s="ultra.components.directives.bbUiIcon.large.Wiki";Object(i.a)(a.a,s,"bbUiIconLargeWiki")},GbCx:function(e,t,n){},LI5i:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("zYa8"),a=n("Ei1Y");const s="ultra.components.directives.bbUiIcon.large.RetentionCenter";Object(i.a)(a.a,s,"bbUiIconLargeRetentionCenter")},UFXJ:function(e,t,n){"use strict";n.r(t);n("zhNR"),n("1wt3"),n("lGua"),n("8wib");var i=n("Llzl"),a=n("D57K"),s=n("Fvsw"),r=n("r133"),o=n("jhBu"),c=n("lr7J"),l=n("0JpG");function m(e){return function(t){return t.filter((t=>e.indexOf(t.type)>=0))}}var b=n("OaxLs"),d=n("iG2q"),u=n("TnpK"),h=n("lEL+"),p=n("aHpC"),g=n("Sa5G"),y=d.a;const v="ultra.base.stream.controller";let f=class{constructor(e,t,n,i){let a;const s=function(e,n){n&&"base.recentActivity"===t.current.name&&n.run()},r=[n.$onEvent(b.a,s),()=>i.cancel(a),e.$root.$on("$stateChangeSuccess",(function(t,r,o,c){c.name&&(i.cancel(a),a=i((()=>s(0,n.currentTask)),e,2e3,!1))}))];e.$on("$destroy",(()=>{r.forEach((e=>e()))})),s(0,n.currentTask)}};f=Object(a.a)([Object(a.c)(0,Object(p.b)("scope")),Object(a.c)(1,Object(p.b)(u.d)),Object(a.c)(2,Object(p.b)(b.d)),Object(a.c)(3,Object(p.b)(h.b))],f);class w extends f{constructor(e,t,n,i,a,s,r,o,c){super(e,o,a,c),this.$scope=e,this.context=t,this.bbLocalize=n,this.memberships=i,this.streamEntryLoader=a,this.EntitlementService=s,this.$q=r,this.ultraState=o,this.timeoutService=c,this.viewFilters=[],this.viewFilterFocused=!1,e.baseStream=this,this.date=t.getServerTime();const l={label:n.translateSync({locale:n.getLocale(this.$scope),key:"base.stream.filters.all"}),type:"ShowAll",filter:null};this.viewFilters.push(l),this.selectedViewFilter=l,this.hasStudentRole=i.some((e=>e.isStudentMembership())),this.hasInstructorRole=i.some((e=>e.isActAsInstructorMembership())),this.addViewFilters(this.hasStudentRole),this.EntitlementService.hasSystemEntitlement(g.a.CreateSystemAnnouncement).then((e=>{this.isEntitledToCreateSystemAnnouncements=e})),e.$watch("baseStream.selectedViewFilter",(()=>{this.streamEntryLoader.setViewFilter(this.selectedViewFilter.filter)}))}changeFilter(e){this.selectedViewFilter=e}loadNewEntries(){this.$scope.$broadcast(r.b)}hasEntryShown(){return 0!==this.streamEntryLoader.countViewEntries()}isStreamEmpty(){return!this.isStreamLoading()&&!this.selectedViewFilter.filter&&!this.hasEntryShown()}isStreamLoading(){return this.streamEntryLoader.isStreamLoading()}loadMoreEntriesIntoView(){if(this.streamEntryLoader&&this.streamEntryLoader.buckets&&this.streamEntryLoader.buckets.previous&&this.streamEntryLoader.buckets.previous.queuedView&&this.streamEntryLoader.buckets.previous.queuedView.length>0)if(this.ultraState.is("base.recentActivity")){const e=this.$q.defer();this.$scope.$root.$broadcast(c.a,"base-stream",e.promise),this.streamEntryLoader.buckets.previous.loadMoreEntriesIntoView(),e.resolve()}else this.streamEntryLoader.buckets.previous.loadMoreEntriesIntoView()}setViewFilterFocused(e){this.viewFilterFocused=e}addViewFilters(e){e&&this.viewFilters.push({label:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:"base.stream.filters.assignmentsAndTests"}),type:y.AssignmentsAndTests.toString(),filter:m(y.AssignmentsAndTests.getSupportedTypes())}),this.viewFilters.push({label:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:"base.stream.filters.gradesAndFeedback"}),type:y.GradesAndFeedback.toString(),filter:m(y.GradesAndFeedback.getSupportedTypes())})}}w.$inject=["$scope",s.b,l.serviceName,"memberships",b.d,o.b,"$q",u.d,h.b];var E=n("J0Qq"),S=(n("3Yz5"),n("jciN")),x=n("HtY7"),I=n("+g6d"),k=n("IWgv"),L=n("lHMO"),C=n("ZNC7"),T=n("xpqL"),A=n("mCEN"),j=n("zYa8"),O=n("qaIz");const F="ultra.components.directives.bbUiIcon.large.Alert";Object(j.a)(O.a,F,"bbUiIconLargeAlert");var $=n("uvxX"),z=n("hD4Q");const U="ultra.components.directives.bbUiIcon.large.Calendar";Object(j.a)(z.a,U,"bbUiIconLargeCalendar");var N=n("iim8"),M=n("xiEu"),R=n("fnCh"),V=n("WfnG"),D=n("m4m5"),Y=n("8gSl"),G=n("LI5i"),_=n("k12r"),P=n("FU3Y"),J=n("vO4n");const W="ultra.directives.streamEntry";class q{constructor(e,t,n,i,a,s){this.element=e,this.scope=t,this.streamEntryManager=n,this.streamEntryLoader=i,this.timeout=a,this.localize=s,null!=this.scope.item().title&&(this.titleAriaLabel=this.localize.translateSync({locale:this.localize.getLocale(this.scope),key:"base.stream.dismissAccessibleLabel",params:{entryName:this.scope.item().title.replace(/<\/?bdi>/g,"")},noWrap:!0,noEscape:!0}))}removeImportantEntry(e){this.streamEntryManager.removeStreamEntryFromServer(e).then((()=>{this.streamEntryLoader.removeImportantEntry(e)}),(e=>{console.error(e)}))}analyticsContext(e){const t={contextType:"stream",streamType:e.type,id:e.id,courseId:e.courseId};return e.analyticsContext?e.analyticsContext(t):t}displayTime(){this.element.find(".timestamp").addClass("focused")}hideTime(){this.element.find(".timestamp").removeClass("focused")}getNotificationShapeCSS(){const e=[],t=this.scope.item().notificationShapeType;return t?(e.push(Object(C.b)(t.shape)),(!this.scope.previousItem()||!this.scope.previousItem().notificationShapeType&&t.shape!==C.a.DefaultNotification||this.scope.previousItem().notificationShapeType&&this.scope.previousItem().notificationShapeType.shape!==t.shape)&&e.push(Object(C.c)(t.shape))):e.push(Object(C.b)(C.a.DefaultNotification)),e}isUserCourseAvailable(e){const t=this.scope.getUserCourseAvailablities&&this.scope.getUserCourseAvailablities();return!(t&&t[e.courseId]&&!t[e.courseId][e.entrySpecificData.streamUser.id])}getItemIcon(){var e;return null!==(e=this.scope.item().icon)&&void 0!==e?e:""}getItemIconColor(){return this.scope.item().isImportant?"error":"primary"}hasCourseColor(){return!!this.scope.item().courseColorClass}getIconAriaLabel(){return this.scope.item().icon?this.localize.translateSync({key:`components.directives.element-image.element-image-accessibility.img-icon-${this.scope.item().icon}`,locale:this.localize.getLocale(this.scope)}):""}}q.NEW_INDICATOR_FADE_OUT_SELECTOR="ball-bounce-out",q.NEW_INDICATOR_TIME_TO_FADE=3e4,q.$inject=["element","scope",T.b,b.d,h.b,l.serviceName];class B{constructor(e){this.$injector=e,this.replace=!0,this.restrict="E",this.template=J,this.scope={index:"&",item:"&",getUserCourseAvailablities:"&?userCourseAvailablities",previousItem:"&"},this.link=(e,t)=>{e.streamEntry=this.$injector.instantiate(q,{element:t,scope:e})}}}B.$inject=["$injector"],i.module(W,[x.a,I.a,k.a,L.a,r.a,S.a,T.a,b.c,h.a,A.a,F,$.a,U,N.a,M.a,R.a,V.a,D.a,Y.a,G.a,_.a,P.a,"ngSanitize","angular-inview","ngAnimate"]).directive("bbStreamEntry",["$injector",e=>e.instantiate(B)]);var H=n("pjml"),X=n("aExF");n.d(t,"moduleName",(function(){return K})),n.d(t,"controllerName",(function(){return Z})),n.d(t,"template",(function(){return X}));const K="ultra.base.stream",Z=v;i.module(K,["ngAnimate","ngSanitize",E.a,W,s.a,r.a,c.b,H.N,b.c,T.a,u.b,h.a]).controller(v,class extends w{})},WfnG:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("zYa8"),a=n("cdNx");const s="ultra.components.directives.bbUiIcon.large.Kudos";Object(i.a)(a.a,s,"bbUiIconLargeKudos")},aExF:function(e,t){e.exports='<div class="js-base-stream-container" bb-first-time-container bb-cache-compilation="base-stream" bb-offcanvas-pausal-scope>\n  <bb-base-header page-title-key="base.stream.pageTitle" hide-search="true" has-filter="true">\n    \x3c!--FILTER--\x3e\n    <div name="base-header-tools" class="base-header-tools">\n      <div class="base-header-select">\n        <div class="filter-wrapper" bb-translate>base.stream.filters.filterBy</div>\n        <div class="select-wrapper">\n          <div bb-foundation>\n            <button data-dropdown="streams-filter"\n                    ng-focus="baseStream.setViewFilterFocused(true)"\n                    bb-click-focus=".item-selected > a"\n                    ng-blur="baseStream.setViewFilterFocused(false)"\n                    bb-translate-attrs="{ \'aria-label\': \'base.stream.filter.name\' }"\n                    aria-describedby="filter-stream-value"\n                    aria-controls="streams-filter" aria-haspopup="true"\n                    analytics-id="feature.base.stream.filter.dropdown.button">\n              <div class="select-value" ng-class="{focus: baseCourses.courseFilterFocused}">\n                <span id="filter-stream-value" ng-bind="baseStream.selectedViewFilter.label"></span>\n              </div>\n            </button>\n            <ul role="listbox" id="streams-filter" class="f-dropdown feature-filter" data-dropdown-content aria-hidden="true" tabindex="-1">\n              <li ng-repeat="filter in baseStream.viewFilters" ng-class="{\'item-selected\': baseStream.selectedViewFilter === filter}" role="presentation" data-filter-type="{{filter.type}}">\n                <a href="javascript:void(0);" role="option" aria-checked="{{baseStream.selectedViewFilter === filter}}" ng-click="baseStream.changeFilter(filter)" analytics-id="feature.base.stream.select.view.filter.link">\n                  <span>{{filter.label}}</span>\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      \x3c!-- htmlhint:analytics-id:disable --\x3e\n      <a id="stream-settings-button" class="standard-button" bb-peek-sref="notification-settings.content"\n         bb-translate-attrs="{ \'aria-label\': \'base.stream.settings.button\' }"\n         analytics-id="feature.base.stream.settings.button">\n        <bb-svg-icon size="small" icon="settings"></bb-svg-icon>\n        <bb-svg-icon size="medium" icon="settings"></bb-svg-icon>\n      </a>\n      \x3c!-- htmlhint:analytics-id:enable --\x3e\n    </div>\n  </bb-base-header>\n  \x3c!--START-- notification bar --\x3e\n  <div ng-if="baseStream.isEntitledToCreateSystemAnnouncements" class="notification-bar row collapse">\n    <span class="columns small-12 medium-8" bb-translate>base.stream.notification.bar.label</span>\n    <div class="columns small-12 medium-4 button-group equal-buttons buttons-2">\n      \x3c!-- htmlhint:analytics-id:disable --\x3e\n      <a class="button button--secondary" bb-peek-sref="notification-create.steps" bb-translate analytics-id="feature.base.stream.notification.bar.create.button">base.stream.notification.bar.create</a>\n      \x3c!-- htmlhint:analytics-id:enable --\x3e\n    </div>\n  </div>\n  \x3c!--END-- notification bar --\x3e\n  <div id="body-content" class="base-recent-activity">\n\n    \x3c!--STREAM--\x3e\n    <div class="row collapse">\n      <div class="">\n        <div class="activity-stream row collapse" id="activity-stream">\n          \x3c!--IMPORTANT--\x3e\n          <div class="js-importantStreamEntries activity-group notification columns main-column angular-animate" ng-if="baseStream.streamEntryLoader.buckets.important.view.length != 0">\n            <h2 class="activity-group-title" bb-translate>base.stream.groupings.important</h2>\n            <ul class="activity-feed">\n              <bb-stream-entry item="item"\n                               index="$index"\n                               previous-item="important[$index - 1]"\n                               ng-repeat="item in important = baseStream.streamEntryLoader.buckets.important.view track by item.id"\n                               user-course-availablities="baseStream.streamEntryLoader.streamEntryManager.userCourseAvailabilities"\n                               analytics-id="base.stream.groupings.important.streamEntry">\n              </bb-stream-entry>\n            </ul>\n          </div>\n          \x3c!--UPCOMING--\x3e\n          <div class="js-upcomingStreamEntries activity-group columns main-column" ng-if="baseStream.streamEntryLoader.buckets.upcoming.view.length != 0">\n            <h2 class="activity-group-title" bb-translate>base.stream.groupings.upcoming</h2>\n            <ul class="activity-feed">\n              <bb-stream-entry item="item"\n                               index="$index"\n                               previous-item="upcoming[$index-1]"\n                               ng-repeat="item in upcoming = baseStream.streamEntryLoader.buckets.upcoming.view track by item.id"\n                               user-course-availablities="baseStream.streamEntryLoader.streamEntryManager.userCourseAvailabilities"\n                               analytics-id="base.stream.groupings.upcoming.streamEntry">\n              </bb-stream-entry>\n            </ul>\n            \x3c!-- htmlhint:analytics-id:disable --\x3e\n            <button class="js-show-more expand button button--text" ng-if="baseStream.streamEntryLoader.buckets.upcoming.hasMoreInView" ui-sref="base.deadline" analytics-id="feature.base.stream.showMore" bb-translate>base.stream.showMore</button>\n            \x3c!-- htmlhint:analytics-id:enable --\x3e\n          </div>\n          \x3c!--TODAY--\x3e\n          <div class="js-todayStreamEntries activity-group columns main-column" ng-if="baseStream.streamEntryLoader.buckets.today.view.length != 0">\n            <h2 class="activity-group-title" bb-translate>base.stream.groupings.today</h2>\n            <span class="heading-date"><bb-date format="full">baseStream.date</bb-date></span>\n            <ul class="activity-feed">\n              <bb-stream-entry item="item"\n                               index="$index"\n                               previous-item="today[$index - 1]"\n                               ng-repeat="item in today = baseStream.streamEntryLoader.buckets.today.view track by item.id"\n                               user-course-availablities="baseStream.streamEntryLoader.streamEntryManager.userCourseAvailabilities"\n                               analytics-id="base.stream.groupings.today.streamEntry">\n              </bb-stream-entry>\n            </ul>\n          </div>\n          \x3c!--PREVIOUS--\x3e\n          <div class="js-previousStreamEntries activity-group columns main-column"\n              ng-if="baseStream.streamEntryLoader.buckets.previous.view.length != 0 || baseStream.streamEntryLoader.buckets.previous.queuedView.length != 0">\n            <h2 class="activity-group-title" bb-translate>base.stream.groupings.recent</h2>\n            <ul class="activity-feed"\n                bb-infinite-scroll="baseStream.loadMoreEntriesIntoView()"\n                infinite-scroll-immediate-check="true"\n                infinite-scroll-container="\'#main-content-inner\'"\n                infinite-scroll-disabled="baseStream.isStreamLoading()"\n                infinite-scroll-current-count="baseStream.streamEntryLoader.buckets.previous.view.length"\n                infinite-scroll-total-count="baseStream.streamEntryLoader.buckets.previous.allEntries.length"\n                infinite-scroll-load-limit="baseStream.streamEntryLoader.buckets.previous.MAX_ENTRIES_TO_PROGRESSIVE_LOAD"\n                infinite-scroll-tray-id="base-stream"\n                infinite-scroll-focusable-children-selector=".element-card .name a"\n                infinite-scroll-localization-keys-prefix="base.stream.infiniteScroll">\n              <bb-stream-entry item="item"\n                               index="$index"\n                               previous-item="previous[$index - 1]"\n                               ng-repeat="item in previous = baseStream.streamEntryLoader.buckets.previous.view track by item.id"\n                               user-course-availablities="baseStream.streamEntryLoader.streamEntryManager.userCourseAvailabilities"\n                               analytics-id="base.stream.groupings.recent.streamEntry">\n              </bb-stream-entry>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!--Stream entries loading indicator (must use ng-show to properly display)--\x3e\n    <div class="spinner bb-secondary-color-2 relatively-centered" ng-show="baseStream.isStreamLoading()" aria-hidden="true"></div>\n\n    \x3c!--No stream entries based on filter selected indicator--\x3e\n    <div class="empty-note" ng-if="!baseStream.hasEntryShown() && baseStream.selectedViewFilter.filter">\n      <bb-animated-gif src="./static/images/ftue/ftuMMicon_emptyStreamSearch.gif"></bb-animated-gif>\n      <span bb-translate>base.stream.noResults</span>\n      <bb-translate>base.stream.newFilter</bb-translate>\n    </div>\n\n    \x3c!--No stream entries to view at all indicator--\x3e\n    <div class="empty-note" ng-if="baseStream.isStreamEmpty()">\n      <bb-animated-gif src="./static/images/ftue/ftuMMicon_EmptyStream.gif"></bb-animated-gif>\n      <span bb-translate>base.stream.noActivity.{{::baseStream.hasInstructorRole ? \'instructor\' : \'others\'}}</span>\n      <bb-translate>base.stream.connect.{{::baseStream.hasInstructorRole ? \'instructor\' : \'others\'}}</bb-translate>\n    </div>\n    <div ui-view></div>\n  </div>\n\n  <div ui-view="base-recentActivity-base"></div>\n</div>\n'},fnCh:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("zYa8"),a=n("xwJZ");const s="ultra.components.directives.bbUiIcon.large.Grades";Object(i.a)(a.a,s,"bbUiIconLargeGrades")},iYZE:function(e,t,n){(function(n){var i,a,s;!function(n,r){"use strict";"object"==typeof e.exports?e.exports=r():(a=[],void 0===(s="function"==typeof(i=r)?i.apply(t,a):i)||(e.exports=s))}(0,(function(){"use strict";var e="function"==typeof n?function(e){return new n(JSON.stringify(e))}:function(e){return JSON.stringify(e)};function t(e,t){t!==e.head&&(e.end?e.end===t&&(e.end=t.n):e.end=t,i(t.n,t.p),i(t,e.head),e.head=t,e.head.n=null)}function i(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}function a(e){if(!(this instanceof a))return new a(e);this.capacity=e>0?e:Number.MAX_VALUE,this.removeAll()}var s=a.prototype;return s.get=function(e){var n=this.hash[e];if(n)return t(this.linkedList,n),JSON.parse(this.data[e].toString())},s.set=function(n,i){var a=this.hash[n];return void 0===i||(a||(this.hash[n]={key:n},this.linkedList.length+=1,a=this.hash[n]),t(this.linkedList,a),this.data[n]=e(i),this.linkedList.length>this.capacity&&this.remove(this.linkedList.end.key)),this},s.update=function(e,t){if(this.has(e)){var n=this.get(e);this.set(e,t(n))}return this},s.remove=function(e){var t=this.hash[e];return t?(t===this.linkedList.head&&(this.linkedList.head=t.p),t===this.linkedList.end&&(this.linkedList.end=t.n),i(t.n,t.p),delete this.hash[e],delete this.data[e],this.linkedList.length-=1,this):this},s.removeAll=function(){return this.data={},this.hash={},this.linkedList={length:0,head:null,end:null},this},s.info=function(){return{capacity:this.capacity,length:this.linkedList.length}},s.keys=function(){for(var e=[],t=this.linkedList.head;t;)e.push(t.key),t=t.p;return e},s.has=function(e){return!!this.hash[e]},a}))}).call(this,n("+ZX+").Buffer)},iim8:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("zYa8"),a=n("U21b");const s="ultra.components.directives.bbUiIcon.large.Course";Object(i.a)(a.a,s,"bbUiIconLargeCourse")},lGua:function(e,t,n){var i=n("ziER"),a=n("5JeM"),s=new i({id:"icon-small-settings",use:"icon-small-settings-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-settings"><path d="M7.5977 1.5453c.1998-.2709.6048-.2709.8046 0l.9644 1.307a.5.5 0 00.5534.1798l1.5484-.4906c.3209-.1016.6485.1364.651.473l.0119 1.6242a.5001.5001 0 00.342.4707l1.5411.5133c.3193.1064.4445.4916.2486.7653l-.945 1.321a.5002.5002 0 000 .582l.945 1.321c.1959.2737.0707.6589-.2486.7653l-1.5411.5133a.5.5 0 00-.342.4706l-.0119 1.6243c-.0025.3366-.3301.5746-.651.473L9.92 12.9679a.5.5 0 00-.5533.1798l-.9644 1.307c-.1998.2709-.6048.2709-.8046 0l-.9644-1.307a.5.5 0 00-.5534-.1798l-1.5484.4906c-.3209.1016-.6485-.1364-.651-.473l-.012-1.6243a.4999.4999 0 00-.342-.4706l-1.541-.5133c-.3193-.1064-.4445-.4916-.2486-.7653l.945-1.321a.5.5 0 000-.582l-.945-1.321c-.1959-.2737-.0707-.6589.2486-.7653l1.541-.5133a.5.5 0 00.342-.4707l.012-1.6242c.0025-.3366.3301-.5746.651-.473l1.5484.4906a.5.5 0 00.5534-.1798l.9644-1.307z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M10 8c0 1.1046-.8954 2-2 2s-2-.8954-2-2 .8954-2 2-2 2 .8954 2 2z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});a.add(s);e.exports=s},lHMO:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var i=n("D57K"),a=(n("1wt3"),n("GbCx"),n("71td")),s=n("Llzl"),r=n("Y88D"),o=n("dJ97"),c=n("aHpC"),l=n("RPob"),m=n("0JpG"),b=n("av75");const d="ultra.directives.stream.entryBody.streamEntryBody";!function(e){e.fn.truncate=function({length:n=100}){const i=e.extend({},t,{length:n});return this.each((function(){const t=e(this);let n=t.text().length-i.length;n<0||!n&&!i.truncated||e.each(t.contents().get().reverse(),(function(t,a){const s=e(a),r=s.text().length;return r<=n?(i.truncated=!0,n-=r,void s.remove()):3===a.nodeType?(e(a.splitText(r-n-1)).replaceWith(i.ellipsis),!1):(s.truncate(e.extend(i,{length:r-n})),!1)}))}))};const t={length:1/0,ellipsis:"…"}}(e);class u{constructor(e,t){this.id=e,this.content=t,this.showContent=!1}showTheContent(){this.showContent=!0}hideTheContent(){this.showContent=!1}}let h=class{constructor(e,t,n){this.$compile=e,this.$sce=t,this.localize=n,this.replace=!0,this.restrict="E",this.link=(e,t)=>{const n=e.bodyType()||b.a.SimpleText;if(e.bodyContent()&&e.bodyContent().isInteractive&&(e.interactiveBodyContent=new u(e.$id,e.bodyContent())),e.bodyContent()&&e.bodyType()===b.a.SimpleText){const t=e.bodyContent();if("string"==typeof t.fullText){const n=[{tag:"table",replacementText:`[${this.localize.translateSync({key:"base.stream.entryBody.announcements.tableWithContent",locale:this.localize.getLocale(e)})}]`},{tag:"math",replacementText:this.localize.translateSync({key:"course.content.mathPlaceholder",locale:this.localize.getLocale(e)}),replacementTextPlural:this.localize.translateSync({key:"course.content.mathPlaceholder.plural",locale:this.localize.getLocale(e)})},{tagQuery:'img[data-bbtype="collab_video"]',replacementAttribute:"title"}],i=Object(l.B)((new DOMParser).parseFromString(t.fullText,"text/html"),n),s=a("<div></div>").append(i.body.innerHTML).truncate({length:100}).html();e.bodyContent().bodyText=s}}t.replaceWith(this.$compile(Object(b.b)(n))(e))},this.scope={bodyType:"&type",bodyContent:"&content"}}};h=Object(i.a)([Object(i.c)(0,Object(c.b)("$compile")),Object(i.c)(1,Object(c.b)("$sce")),Object(i.c)(2,Object(c.b)(m.serviceName))],h),s.module(d,["ngSanitize",r.a,o.a,m.moduleName]).directive("bbStreamEntryBody",["$injector",e=>e.instantiate(h)])}).call(this,n("71td"))},m4m5:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("zYa8"),a=n("GY9d");const s="ultra.components.directives.bbUiIcon.large.Message";Object(i.a)(a.a,s,"bbUiIconLargeMessage")},uvxX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("zYa8"),a=n("Pam5");const s="ultra.components.directives.bbUiIcon.large.Announcement";Object(i.a)(a.a,s,"bbUiIconLargeAnnouncement")},vO4n:function(e,t){e.exports='<li class="stream-item-container" ng-class="streamEntry.getNotificationShapeCSS()" bb-click-to-invoke-child="a.js-title-link">\n  <div class="stream-item angular-animate">\n    <div class="stream-item-contents">\n      <div class="element-card">\n        <ng-switch on="(item().entrySpecificData && item().entrySpecificData.streamUser.avatar.permanentUrl && \'stream\') ||\n                       (item().entrySpecificData && item().entrySpecificData.contentItem && \'content\') ||\n                       (item().entrySpecificData && item().entrySpecificData.gradebookColumn && \'gradebook\') || \'other\'">\n          <bb-avatar ng-switch-when="stream" class="element-image" user="item().entrySpecificData.streamUser" auto-update="true" inactive="!streamEntry.isUserCourseAvailable(item())"></bb-avatar>\n          <div ng-switch-when="content" class="element-image" bb-content-item-icon="::item().entrySpecificData.contentItem" show-alert-icon="::item().isImportant"></div>\n          <div ng-switch-when="gradebook" class="element-image" bb-content-item-icon content-column="::item().entrySpecificData.gradebookColumn" show-alert-icon="::item().isImportant"></div>\n          <div ng-switch-default class="element-image">\n            <ng-switch on="::streamEntry.getItemIcon()">\n              <bb-ui-icon-large-alert ng-switch-when="alert-error" color="{{::streamEntry.getItemIconColor()}}" title-access="{{::streamEntry.getIconAriaLabel()}}"></bb-ui-icon-large-alert>\n              <bb-ui-icon-large-announcement ng-switch-when="announcement" fill-color="{{::streamEntry.hasCourseColor() ? \'\' : \'none\'}}" color="{{::streamEntry.getItemIconColor()}}" title-access="{{::streamEntry.getIconAriaLabel()}}"></bb-ui-icon-large-announcement>\n              <bb-ui-icon-large-calendar ng-switch-when="calendar" color="{{::streamEntry.getItemIconColor()}}" title-access="{{::streamEntry.getIconAriaLabel()}}"></bb-ui-icon-large-calendar>\n              <bb-ui-icon-large-course ng-switch-when="course" color="{{::streamEntry.getItemIconColor()}}" title-access="{{::streamEntry.getIconAriaLabel()}}"></bb-ui-icon-large-course>\n              <bb-ui-icon-large-document-multiple ng-switch-when="document-multiple" color="{{::streamEntry.getItemIconColor()}}" title-access="{{::streamEntry.getIconAriaLabel()}}"></bb-ui-icon-large-document-multiple>\n              <bb-ui-icon-large-grades ng-switch-when="grades" color="{{::streamEntry.getItemIconColor()}}" title-access="{{::streamEntry.getIconAriaLabel()}}"></bb-ui-icon-large-grades>\n              <bb-ui-icon-large-kudos ng-switch-when="kudos" color="{{::streamEntry.getItemIconColor()}}" title-access="{{::streamEntry.getIconAriaLabel()}}"></bb-ui-icon-large-kudos>\n              <bb-ui-icon-large-message ng-switch-when="message" color="{{::streamEntry.getItemIconColor()}}" title-access="{{::streamEntry.getIconAriaLabel()}}"></bb-ui-icon-large-message>\n              <bb-ui-icon-large-post ng-switch-when="post" color="{{::streamEntry.getItemIconColor()}}" title-access="{{::streamEntry.getIconAriaLabel()}}"></bb-ui-icon-large-post>\n              <bb-ui-icon-large-retention-center ng-switch-when="retention-center" color="{{::streamEntry.getItemIconColor()}}" title-access="{{::streamEntry.getIconAriaLabel()}}"></bb-ui-icon-large-retention-center>\n              <bb-ui-icon-large-survey ng-switch-when="survey" color="{{::streamEntry.getItemIconColor()}}" title-access="{{::streamEntry.getIconAriaLabel()}}"></bb-ui-icon-large-survey>\n              <bb-ui-icon-large-wiki ng-switch-when="wiki" color="{{::streamEntry.getItemIconColor()}}" title-access="{{::streamEntry.getIconAriaLabel()}}"></bb-ui-icon-large-wiki>\n              <bb-ui-content-icon ng-switch-default icon="streamEntry.getItemIcon()" color="{{::streamEntry.getItemIconColor()}}" not-decorative="true"></bb-ui-content-icon>\n            </ng-switch>\n          </div>\n        </ng-switch>\n\n        <div class="element-details {{item().courseColorClass}}" ng-class="{\'with-action-button\': item().isImportant && item().remove}"\n             analytics-context="{{streamEntry.analyticsContext(item())}}">\n\n          <bb-duration date="item().notificationCreationDate" auto-update="true" separate-datetime="true" date-format="Medium"></bb-duration>\n\n          \x3c!-- NOTE: intentionally using ng-if instead of ng-show to improve performance by\n               not calling out to in-view as much since most stream entries will not be NEW entries --\x3e\n          <div class="context ellipsis" ng-switch on="::(item().courseId && \'linkToCourse\')\n                || \'doNotLink\'">\n            \x3c!-- htmlhint:analytics-id:disable --\x3e\n            <a ng-switch-when="linkToCourse"\n               bb-peek-sref="course.outline({courseId: item().courseId, coursesOrOrganizations: item().isOrganization ? \'organizations\' : \'courses\'})"\n               ng-focus="streamEntry.displayTime()"\n               ng-blur="streamEntry.hideTime()"\n               ng-bind-html="item().header"\n               analytics-id="stream.entry.course"></a>\n            \x3c!-- htmlhint:analytics-id:enable --\x3e\n            <span ng-switch-when="doNotLink" ng-bind-html="item().header"></span>\n            <span ng-bind-html="item().headerSubtitle"></span>\n          </div>\n\n          <div class="name">\n            <ng-switch on="(item().body.stateRef && \'linkToPeekState\') ||\n                           (item().body.externalRef && \'linkToExternalUrl\') ||\n                           (item().body.clickHandler && \'linkToHandler\') ||\n                           \'doNotLink\'">\n              \x3c!-- htmlhint:analytics-id:disable --\x3e\n              <a class="js-title-link"\n                 ng-focus="streamEntry.displayTime()"\n                 ng-blur="streamEntry.hideTime()"\n                 ng-switch-when="linkToPeekState"\n                 bb-peek-sref="{{item().body.stateRef}}"\n                 href="javascript:void(0);"\n                 ng-bind-html="item().title"\n                 analytics-id="stream.entry.title"></a>\n              <a class="js-title-link"\n                 ng-blur="streamEntry.hideTime()"\n                 ng-focus="streamEntry.displayTime()"\n                 ng-switch-when="linkToExternalUrl"\n                 target="{{item().body.externalRef.target ? item().body.externalRef.target : _self}}"\n                 ng-href="{{item().body.externalRef.href}}"\n                 ng-bind-template="{{item().title}}"\n                 analytics-id="stream.entry.title"></a>\n              <a class="js-title-link"\n                 ng-blur="streamEntry.hideTime()"\n                 ng-focus="streamEntry.displayTime()"\n                 ng-switch-when="linkToHandler"\n                 ng-click="item().body.clickHandler()"\n                 ng-bind-template="{{item().title}}"\n                 href="javascript:void(0);"\n                 analytics-id="stream.entry.title"></a>\n              \x3c!-- htmlhint:analytics-id:enable --\x3e\n              <span ng-switch-when="doNotLink" ng-bind-html="item().title"></span>\n            </ng-switch>\n          </div>\n\n          <div class="content">\n              <bb-stream-entry-body type="::item().body.type" content="::item().body.content"></bb-stream-entry-body>\n          </div>\n\n        </div>\n      </div>\n    </div>\n    <div class="card-actions" ng-if="::(item().isImportant && item().remove)">\n      <button ng-focus="streamEntry.displayTime()"\n              ng-blur="streamEntry.hideTime()"\n              class="button button--secondary small dismiss-button"\n              bb-click="streamEntry.removeImportantEntry(item())"\n              bb-translate aria-label="{{streamEntry.titleAriaLabel}}"\n              bb-enter-key-up-focus=".element-card .name a"\n              index-to-focus="{{index()+1}}"\n              analytics-id="base.stream.dismiss">\n        base.stream.dismiss\n      </button>\n    </div>\n  </div>\n</li>\n'}}]);