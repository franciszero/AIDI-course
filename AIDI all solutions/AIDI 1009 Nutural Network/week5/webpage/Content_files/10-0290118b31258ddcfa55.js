(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"/9iQ":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-documents",use:"icon-small-documents-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-documents"><path d="M1 4h7.0084L11 7v8H1V4z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M8.0005 4v3h3.0015M4 8h1M4 11h3.9722" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M3 1h11v12" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"/R3n":function(e,t){e.exports='<div class="content-item-course-outline">\n  <div class="name">\n    <ng-switch on="content.getContentDisplay().linkAction()" ng-class="{\'has-indicator\': content.ui.hasIndicator}">\n      <div ng-switch-when="resource/x-bb-folder">\n        <bb-content-item-folder></bb-content-item-folder>\n      </div>\n      <div ng-switch-when="contenturl">\n        \x3c!-- Center content title when it is only one line of text (without edit capability, description, or date restrictions). --\x3e\n        <a bb-prevent-click-if="content.isConditionalReleaseLocked()"\n            ng-click="contentItemBase.onExternalLinkClick()"\n            ng-href="{{content.getContentDisplay().contentUrl()}}" target="_blank" rel="noopener noreferrer" class="content-title"\n            ng-class="{\'name-middle\': contentItemCourseOutline.shouldAlignMiddle()}"\n            aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n            analytics-id="content.item.course.outline.courseContent.link"\n            analytics-context="{{::content.getContentDisplay().contentUrl()}}"\n            aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n            tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}">\n          <span>{{ content.title }}</span>\n        </a>\n      </div>\n      <div ng-switch-when="fileurl">\n        \x3c!-- Open the file preview panel for content that can be previewed --\x3e\n        <a bb-prevent-click-if="content.isConditionalReleaseLocked()"\n            ng-click="contentItemBase.onExternalLinkClick()"\n            bb-peek-sref="preview-file({id: content.id})"\n            ng-class="{\'name-middle\': contentItemCourseOutline.shouldAlignMiddle()}"\n            class="content-title"\n            aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n            analytics-id="content.item.course.outline.courseContent.link"\n            analytics-context="{{::content.getContentDisplay().contentUrl()}}"\n            aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n            tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}">\n          <span>{{ content.title }}</span>\n        </a>\n      </div>\n      <div ng-switch-when="ltilaunch">\n        <bb-content-item-ltilaunch></bb-content-item-ltilaunch>\n      </div>\n      <div ng-switch-when="scormlaunch">\n        <bb-content-item-scormlaunch></bb-content-item-scormlaunch>\n      </div>\n      <div ng-switch-when="resource/x-bb-asmt-agn-link">\n        \x3c!-- open  edit page when an instructor(=entitledToDesignAssessment) is accessing an assignment in a complete course. page will become read only based on canEdit() --\x3e\n        <a ng-if="contentItemBase.entitledToDesignAssessment"\n           class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           bb-peek-sref="gradebook-item.assignment({\n                                 courseId: content.courseId,\n                                 contentId: content.id,\n                                 gradeitemView: \'details\' })"\n           analytics-id="content.item.course.outline.gradebook.item.assignment.link"><span>{{ content.title }}</span></a>\n        \x3c!-- user cannot modify --\x3e\n        <a ng-if="!contentItemBase.entitledToDesignAssessment"\n           bb-peek-sref="assignment.view({assignmentId:content.id})" bb-prevent-click-if="content.isConditionalReleaseLocked()"\n           ng-class="{\'is-late\': contentItemBase.isLate, \'is-restricted\': content.isRestricted()}"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           class="content-title"\n           analytics-id="content.item.course.outline.gradebook.item.assignment.readOnly.link"\n           aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n           tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"><span>{{ content.title }}</span></a>\n      </div>\n      <div ng-switch-when="resource/x-bb-assignment">\n        <a bb-peek-sref="assignment.view({assignmentId:content.id})" class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           ng-class="{\'is-late\': contentItemBase.isLate}"\n           analytics-id="content.item.coures.outline.assignment.link"\n           aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n           tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"><span>{{ content.title }}</span></a>\n      </div>\n      <div ng-switch-when="resource/x-bb-document">\n        <a bb-peek-sref="content-manage.edit.document({id:content.id})" class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           ng-class="{\'is-late\': contentItemBase.isLate}"\n           analytics-id="content.item.coures.outline.document.link"\n           aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n           tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"><span>{{ content.title }}</span></a>\n      </div>\n      <div ng-switch-when="resource/x-bb-page">\n        <bb-content-item-page></bb-content-item-page>\n      </div>\n      <div ng-switch-when="resource/x-bb-asmt-test-link">\n        \x3c!-- open edit page when an instructor(=entitledToDesignAssessment) is accessing content. In a complete course, page will become read only based on canEdit() --\x3e\n        <a ng-if="contentItemBase.entitledToDesignAssessment" class="content-title"\n           bb-peek-sref="gradebook-item.assessment({\n                                 courseId: content.courseId,\n                                 contentId: content.id,\n                                 gradeitemView: \'details\',\n                                 assessmentType: \'test\'})"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           analytics-id="content.item.courses.outline.gradebook.item.assessment.link"><span>{{ content.title }}</span></a>\n        \x3c!-- user cannot modify --\x3e\n        <a ng-if="!contentItemBase.entitledToDesignAssessment" href="javascript:void(0);"\n           ng-click="contentItemBase.openAssessmentItem()" bb-prevent-click-if="content.isConditionalReleaseLocked()"\n           ng-class="{\'is-late\': contentItemBase.isLate, \'is-restricted\': content.isRestricted()}"\n           class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           analytics-id="content.item.courses.outline.gradebook.item.assessment.readOnly.link"\n           aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n           tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"><span>{{ content.title }}</span></a>\n      </div>\n      <a ng-switch-when="resource/x-bb-forumlink" bb-peek-sref="discussion.view.with-grading({contentId:content.id})"\n         bb-prevent-click-if="content.isConditionalReleaseLocked()"\n         class="content-title" aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n         analytics-id="content.item.courses.outline.gradebook.item.forum.link"\n         aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n         tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"><span>{{ content.title }}</span></a>\n      <div ng-switch-when="resource/x-bb-courselink">\n        <bb-web-link-item content="content" target-content="contentItemBase.targetContent" prefix="\'course.outline\'"/>\n      </div>\n      <div ng-switch-when="resource/x-bb-journallink">\n        <a bb-peek-sref="journal.view.with-participation({contentId:content.id})"\n          bb-prevent-click-if="content.isConditionalReleaseLocked()"\n          class="content-title" aria-describedby="activity-indicator-{{::content.id}}"\n          analytics-id="content.item.courses.outline.journal.link"\n          aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n          tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"><span>{{ content.title }}</span></a>\n      </div>\n      <div ng-switch-default class="content-title">{{ content.title }}</div>\n      <bb-svg-icon role="img" aria-hidden="false" bb-translate-attrs="::{\'aria-label\':\'components.directives.content-item-base.aria-label.indicator\'}" ng-if="content.ui.hasIndicator" id="activity-indicator-{{::content.id}}" class="indicator" size="small" icon="activity-indicator"></bb-svg-icon>\n    </ng-switch>\n  </div>\n  <div ng-if="content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date">\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-if="!dueDate" class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-if="dueDate && !gradeDetail" class="content-due-date-label">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-if="dueDate && !gradeDetail" class="content-due-date"></bb-datetime>\n    <span ng-if="content.getTimedTestDetail().hasTimeLimit" class="time-limit ellipse">\n      <span class="vertical-bar"></span>\n      <span bb-translate>components.directives.content-item-base.time-limit</span>\n      <span ng-bind-html="content.getTimedTestDetail().displayedTimeLimitSeconds | timeSpan: \'m\': this "></span>\n    </span>\n    <span class="content-item-course-outline__proctored-tag" ng-if="contentItemCourseOutline.displayProctoredTag()">\n      <span class="vertical-bar"></span>\n      <bb-ui-icon-small-proctor-shield\n        class="content-item-course-outline__proctored-icon"\n        class-name="content-item-course-outline__proctored-icon-svg"\n      >\n      </bb-ui-icon-small-proctor-shield>\n      <span bb-translate>components.services.proctoring.outline.proctored</span>\n    </span>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date"\n       ng-class="{\'is-late\': contentItemBase.isLate}" ng-switch="dueDate != null">\n    \x3c!-- submission card --\x3e\n    \x3c!--  TODO: submissionCard is disabled until LRN-101279 is fixed --\x3e\n    \x3c!-- <bb-submission-card ng-if="gradeDetail"  grade-detail="gradeDetail" inline="true"></bb-submission-card>\n    <bb-submission-card ng-if="!gradeDetail" grading-column="gradingColumn" inline="true"></bb-submission-card> --\x3e\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-switch-default class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-switch-when="true" class="content-no-due-date-label" ng-if="!dueDate">components.directives.content-item-base.no-due-date</span>\n    <span bb-translate ng-switch-when="true"\n          class="content-due-date-label" ng-if="dueDate">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-switch-when="true" class="content-due-date" ng-if="dueDate"></bb-datetime>\n    <span ng-if="content.getTimedTestDetail().hasTimeLimit" class="time-limit ellipse">\n      <span class="vertical-bar"></span>\n      <span bb-translate>components.directives.content-item-base.time-limit</span>\n      <span ng-bind-html="content.getTimedTestDetail().displayedTimeLimitSeconds | timeSpan: \'m\': this "></span>\n    </span>\n    <span class="content-item-course-outline__proctored-tag" ng-if="contentItemCourseOutline.displayProctoredTag()">\n      <span class="vertical-bar"></span>\n      <bb-ui-icon-small-proctor-shield\n        class="content-item-course-outline__proctored-icon"\n        class-name="content-item-course-outline__proctored-icon-svg"\n      >\n      </bb-ui-icon-small-proctor-shield>\n      <span bb-translate>components.services.proctoring.outline.proctored</span>\n    </span>\n  </div>\n  <bb-content-item-peer-assessment ng-if="content.id" content="content"></bb-content-item-peer-assessment>\n  <div ng-if="contentItemBase.isModifyPermissionLoaded && content.canHaveAttempts() && content.isGroupContent" class="group-info">\n    <div class="guidance-wrapper">\n      <div class="group-name">\n        <span><bb-svg-icon size="small" icon="groups"></bb-svg-icon></span>\n        <span class="group-target-guided" bb-guidance-target component-key="contentGroupInfo"\n              ng-if="!contentItemBase.contextCourse.course.isComplete()">\n        </span>\n        <a ng-if="contentItemBase.hasViewGroupsAsAdmin"\n           class="js-groups-link"\n           href="javascript:void(0);"\n           ng-click="contentItemBase.editGroups()"\n           analytics-id="content.item.course.outline.contentItemBase.editGroups.link">\n          <bb-group-count content="content"></bb-group-count>\n        </a>\n        <span ng-if="contentItemBase.canViewGroups && !contentItemBase.hasViewGroupsAsAdmin" class="js-groups-link">\n          <bb-group-count content="content"></bb-group-count>\n        </span>\n        <div ng-if="!(contentItemBase.canViewGroups || contentItemBase.hasViewGroupsAsAdmin)" class="student-group-enrollment">\n          <bb-group-student-enrollment content="content"></bb-group-student-enrollment>\n        </div>\n        \x3c!-- For complete course, will not show this guidance: LRN-107718 --\x3e\n        <span>\n          <bb-guidance ng-if="!contentItemBase.contextCourse.course.isComplete() && !contentItemBase.entitledToDesignAssessment" component-key="contentGroupInfo"\n                       class="guidance-element-group guidance-is-empty-student guidance-element-overlay push-left">\n            <span bb-translate="{{::contentItemCourseOutline.groupAssessmentFtueKey}}" translate-values="{title: contentItemCourseOutline.customCategory}"></span>\n          </bb-guidance>\n        </span>\n      </div>\n    </div>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.isConditionalReleaseLocked()"\n    role="tooltip"\n    aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n    tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"\n    class="lock-info"\n    bb-complex-tooltip\n    enhanced-tooltip="true"\n    tooltip-position="bottom"\n    tooltip-open-on-activation="true"\n    tooltip-disable-on-mouse-over="false"\n    tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n    tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}">\n    <span bb-translate="components.directives.content-item-base.conditionalRelease.lock-info"></span>\n    <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n  </div>\n  <div class="name-controls stop-click-propagation"\n    ng-class="{\n      \'name-conditional-release\': !content.canViewAsInstructor() && content.isConditionalReleaseLocked(),\n      \'selector-disabled\': content.isInForcedSequenceModule()\n    }"\n    ng-if="contentItemBase.showVisibility()">\n    <bb-content-visibility-selector content="content"\n                                    link-content="contentItemBase.targetContent"\n                                    onchange-func="contentItemBase.updateContentVisibility()"\n                                    open-panel-on-restricted="true"\n                                    enable-conditional-release="content.canAccessAdaptiveRelease()"\n                                    disable-restricted="contentItemBase.disableRestricted"\n                                    verbose-restricted-label="true"></bb-content-visibility-selector>\n  </div>\n  <div ng-if="content.canViewAsInstructor() && content.isConditionalRelease()" class="conditional-release-control"\n       ng-class="{\'conditional-release-control-for-complete-course\': contentItemCourseOutline.isCourseCompletedAndInInstructorView()}">\n    <div class="rules">\n      <a href="javascript:void(0);"\n        ng-click="contentItemCourseOutline.canOpenConditionalRelease && contentItemCourseOutline.openConditionalRelease()"\n        bb-complex-tooltip\n        enhanced-tooltip="true"\n        tooltip-position="bottom"\n        tooltip-disable-on-mouse-over="{{!contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-enable-on-mouse-leave-for-all-breakpoints="{{contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-enable-on-mouse-over-for-all-breakpoints="{{contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-open-on-activation="{{!contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-auto-update="true"\n        tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n        tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}"\n        analytics-id="components.directives.content-item-base.conditionalRelease.link">\n        <span>{{contentItemBase.conditionalRelease.getConditionDescription()}}</span>\n        <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n      </a>\n    </div>\n  </div>\n</div>\n'},"/hmo":function(e,t){e.exports='<ng-switch on="targetContent.contentHandler.toString()">\n  <a ng-switch-when="resource/x-bb-blti-link" \n     bb-component-sref="{{prefix}}.engagement.edit({contentId:\'{{targetContent.id}}\'})"\n     class="content-title"\n     analytics-id="course.content.lti.link"><span>{{ content.title }}</span></a>\n</ng-switch>\n'},"0/Nk":function(e,t){e.exports='<div class="group-student-self-enroll-directive" bb-load-bundle="components/directives/group/group-student-enrollment">\n  <div ng-if="$ctrl.content.assignedGroups.length > 0">\n    <span ng-if="!$ctrl.isOpenEnrollment()" class="ellipse title">\n      {{$ctrl.content.assignedGroups[0].groupTitle}}\n    </span>\n    <a ng-if="$ctrl.isSelfEnrollment && $ctrl.isOpenEnrollment()" class="self-enroll-link js-self-enroll-link"\n       href="javascript:void(0);" ng-click="$ctrl.openContentEnrollPanel()"\n       analytics-id="components.directives.group-student-enrollment.groupTitle.link">\n      {{$ctrl.content.assignedGroups[0].groupTitle}}\n    </a>\n  </div>\n  <span ng-if="!($ctrl.content.assignedGroups.length > 0) && !$ctrl.isSelfEnrollment" class="ellipse title" bb-translate\n        translate-values="{title: components.directives.group-student-enrollment.unknown}">\n    components.directives.group-student-enrollment.unknown\n  </span>\n  <div ng-if="!($ctrl.content.assignedGroups.length > 0) && $ctrl.isSelfEnrollment">\n    <div ng-if="$ctrl.isOpenEnrollment()">\n      <a href="javascript:void(0);" ng-click="$ctrl.openContentEnrollPanel()" class="self-enroll-link js-self-enroll-link"\n         bb-translate analytics-id="components.directives.group-student-enrollment.self-enroll-to-participate">components.directives.group-student-enrollment.self-enroll-to-participate</a>\n    </div>\n    <div ng-if="$ctrl.isBeforeEnrollment()" class="self-enroll-date" translate-values="{time: $ctrl.selfEnrollGroupInfo.relativeDate}"\n         bb-translate>components.directives.group-student-enrollment.enrollment-starts</div>\n    <div ng-if="$ctrl.isOpenEnrollmentWithEnding()" class="self-enroll-date"\n         ng-class="{\'is-important\': $ctrl.selfEnrollGroupInfo.isEnrollmentDateImportant}"\n         translate-values="{time: $ctrl.selfEnrollGroupInfo.relativeDate}"\n         bb-translate>components.directives.group-student-enrollment.enrollment-closes</div>\n    <div ng-if="$ctrl.isAfterEnrollment()" class="self-enroll-date"\n         bb-translate>components.directives.group-student-enrollment.enrollment-closed</div>\n  </div>\n</div>\n'},"0rzL":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n("D57K"),i=(n("eWdw"),n("Llzl")),s=n("nbDY"),c=n.n(s),a=n("ckcj"),r=n("dJ97"),l=n("aHpC"),d=n("Bu0u"),u=n("UODz"),p=n("zGdY");const h="ultra.components.directives.submissionCard";class m extends c.a{}m.ATTEMPT=new m("ATTEMPT"),m.GRADE=new m("GRADE"),m.INFO=new m("INFO");let b=class{constructor(e){if(this.scope=e,!e.gradingColumn&&!e.gradeDetail)throw new d.a({message:"gradingColumn or gradeDetail must be provided."});if(this.scope.gradeDetail&&!this.scope.gradeDetail.column)throw new d.a({message:"gradeDetail.column must be provided to display attempt mode."});let t,n;switch(this.scope.gradeDetail&&(this.scope.gradeDetail.ui.groupAttempt||this.scope.gradeDetail.ui.attempt)&&(this.attempt=this.scope.gradeDetail.ui.groupAttempt||this.scope.gradeDetail.ui.attempt,this.currentGradeStatus=this.scope.gradeDetail.ui.attempt.status),(!e.gradeDetail||e.gradeDetail&&!this.attempt)&&e.gradingColumn?this.scope.mode=m.INFO:e.gradeDetail&&this.attempt&&(this.scope.mode=m.ATTEMPT,this.scope.gradingColumn=this.scope.gradeDetail.column),this.showLate=!e.showLate||e.showLate(),e.mode){case m.INFO:n=e.gradingColumn.dueDate?"DUE":"NO_DUE_DATE",t=this.showLate?"UNOPENED_LATE":"UNOPENED";break;case m.ATTEMPT:n=this.attempt.status.toString(),e.hasAttempt=!0,t=p.l.InProgress===this.attempt.status&&this.showLate?"SUBMISSION_LATE":"SUBMISSION";case m.GRADE:}e.status="components.directives.submission-card.attemptStatus."+n,e.title="components.directives.submission-card.title."+t}shouldExpandForRubricIcon(){return(this.scope.showRubricButton&&this.scope.showRubricButton()||this.scope.showRubricDiv&&this.scope.showRubricDiv())&&this.scope.gradingColumn.hasRubricAssociation&&this.scope.gradingColumn.hasRubricAssociation()}get showLateIcon(){return this.showLate&&(!this.scope.gradeDetail||!this.attempt||this.attempt.isInProgress())}};b=Object(o.a)([Object(o.c)(0,Object(l.b)("scope"))],b);let g=class{constructor(e){this.$injector=e,this.restrict="AE",this.template=u,this.scope={gradeDetail:"=?",gradingColumn:"=?",inline:"@?",clickable:"=?",showLate:"&?",showRubricButton:"&?",showRubricDiv:"&?"},this.link=e=>{e.submissionCard=this.$injector.instantiate(b,{scope:e})}}};g=Object(o.a)([Object(o.c)(0,Object(l.b)("$injector"))],g),i.module(h,[a.a,r.a]).directive("bbSubmissionCard",["$injector",e=>e.instantiate(g)])},"1/hr":function(e,t,n){},"5Tom":function(e,t,n){"use strict";var o=n("D57K"),i=n("nYZ0"),s=n("fYJU"),c=n("0JpG"),a=n("TnpK"),r=n("0/Nk"),l=n("M2M2"),d=n("yC9S"),u=n("aHpC");n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));const p="ultra.directives.group.group-student-enrollment";let h=class{constructor(e,t,n,o,i){this.scope=e,this.contentService=t,this.currentUserService=n,this.localize=o,this.ultraState=i,this.isSelfEnrollment=!1}$onInit(){this.render()}async render(){if(this.content.selfEnrollmentGroups&&this.content.selfEnrollmentGroups.length>0){const{locale:e,babelfishFormatter:t}=this.localize.getReactBabelfishParams(this.scope),n=this.content.selfEnrollmentGroups.filter((e=>e.group)).map((e=>e.group));this.selfEnrollGroupInfo=await l.f(n,e,t),this.isSelfEnrollment=this.selfEnrollGroupInfo.isSelfEnrollment}else this.isSelfEnrollment=!1}async openContentEnrollPanel(){this.fromView?this.ultraState.current.name.endsWith("discussion.view.with-grading.peek.discussion-details")?(await this.ultraState.leavePeekState(),await this.ultraState.leavePeekState(),await this.ultraState.goPeekState("content-group-enroll",{courseId:this.content.courseId,contentId:this.content.id,fromView:this.fromView})):(await this.ultraState.leavePeekState(),await this.ultraState.goPeekState("content-group-enroll",{courseId:this.content.courseId,contentId:this.content.id,fromView:this.fromView})):await this.ultraState.goPeekState("content-group-enroll",{courseId:this.content.courseId,contentId:this.content.id})}isBeforeEnrollment(){return this.selfEnrollGroupInfo&&"Before"===this.selfEnrollGroupInfo.enrollmentDateState}isOpenEnrollment(){return this.selfEnrollGroupInfo&&"Open"===this.selfEnrollGroupInfo.enrollmentDateState}isOpenEnrollmentWithEnding(){return this.selfEnrollGroupInfo&&"Open"===this.selfEnrollGroupInfo.enrollmentDateState&&null!=this.selfEnrollGroupInfo.relativeDate}isAfterEnrollment(){return this.selfEnrollGroupInfo&&"After"===this.selfEnrollGroupInfo.enrollmentDateState}};h=Object(o.a)([Object(d.a)({moduleName:p,componentName:"bbGroupStudentEnrollment",template:r,bindings:{content:"<",fromView:"@"},requireModules:[i.d,s.a,c.moduleName,a.b]}),Object(o.c)(0,Object(u.b)("$scope")),Object(o.c)(1,Object(u.b)(i.f)),Object(o.c)(2,Object(u.b)(s.b)),Object(o.c)(3,Object(u.b)(c.serviceName)),Object(o.c)(4,Object(u.b)(a.d))],h)},"66CI":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-lock-circle",use:"icon-small-lock-circle-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-lock-circle"><g stroke-width="2"><circle cx="8" cy="8" r="7" transform="rotate(-90 8 8)" stroke-linecap="round" stroke-linejoin="round" /><path d="M5 8h6v3H5V8z" stroke-linecap="round" stroke-linejoin="round" /><path d="M6 9h4v1H6z" /><path d="M6 8V5.7143C6 4.857 6.6667 4 8 4m0 0c.3333 0-.3333 0 0 0zm0 0c1.3333 0 2 .8571 2 1.7143V8" stroke-linecap="round" stroke-linejoin="round" /></g></symbol>'});i.add(s);e.exports=s},"7UH7":function(e,t){e.exports='<div class="text-editor" tabindex="-1" bb-load-bundle="components/directives/text-editor" bb-cache-compilation="basic-text-editor">\n  <label ng-if="inputLabelKey" class="text-editor-label" for="{{::elementId}}" bb-translate>{{::inputLabelKey}}</label>\n  <textarea id="{{::elementId}}"\n         class="read-mode editor-element"\n         name="{{::elementId}}"\n         tabindex="0"\n         type="text"\n         bb-validate-maxlength="{{::getInputMaxLength()}}"\n         ng-model="ngModel"\n         maxlength="{{::(getInputMaxLength() || \'\')}}"\n         ng-model-options="{ getterSetter: true }"\n         ng-disabled="readonly()"\n         fng-blur="textEditor.onBlur()"\n         fng-focus="textEditor.onFocus()"\n         fng-keyup="textEditor.onChange($event)"\n         fng-keydown="textEditor.onKeydown($event)"\n         bb-translate-attrs="{ \'placeholder\': \'{{placeholderKey}}\' }"\n         aria-label="{{textEditor.getContentLabel()}}"\n         translate-attrs-values="{{::placeholderAttrsValues}}"\n         bb-focus-on="{{::focusOn}}"\n         ng-required="::fieldRequired()"\n         analytics-id="components.textEditor.basicEditor.textarea"></textarea>\n  <div bb-validation-messages\n       ng-if="::!noValidationMessage()"\n       for="{{::elementId}}" immediate="true">\n    <span ng-message="maxlengthImmediate">\n      <span bb-translate translate-values="{ diff: element.$errorImmediate.maxlengthImmediate.diff }">\n        components.directives.validation.messages.errors.maxlength.plural\n      </span>\n    </span>\n  </div>\n</div>\n'},"7XaY":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-export",use:"icon-small-export-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-export"><path d="M7 9l8-8M12 1h3v3M15 9.091V15H1V1h5.909" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"85nY":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-conversation",use:"icon-small-conversation-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-conversation"><path d="M15 4.5C15 6.433 13.433 8 11.5 8c-.4457 0-.872-.0833-1.264-.2352L8 8l.25-2.1985A3.4905 3.4905 0 018 4.5C8 2.567 9.567 1 11.5 1S15 2.567 15 4.5zM7 15c0-2-2-4-4-4M3 11c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"9hUw":function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return O}));var o=n("D57K"),i=n("VdDF"),s=n("DN+C"),c=n("Llzl"),a=n("VAMW"),r=n("6fZB"),l=n("IbyE"),d=n("zGdY"),u=n("nsO7"),p=n("9OUN"),h=n("aHpC"),m=n("nmzr"),b=n("TnpK"),g=n("fYJU"),v=n("12mu"),f=n("0JpG"),w=n("Fvsw"),C=n("U50L"),y=n("aPUy");const I="ultra.components.services.assessment.peerReview",O="peerReview";let S=class{constructor(e,t,n,o,i,s,c,a,r,l,d){this.$rootScope=e,this.$ngRedux=t,this.localizeService=n,this.contextUser=o,this.modal=i,this.ultraState=s,this.context=c,this.$q=a,this.courseId=r,this.contentId=l,this.columnId=d,this.reviewableAttemptsOnly=[],this.deletedAttemptsOnly=[],this.hasLoadedReviewableAttempts=!1}initPeerContentObject(){this.subscribeToReduxStore();const{courseId:e,contentId:t,columnId:n}=this,o=[];return this.content||o.push(this.loadContents({courseId:e,contentId:t}).then((()=>this))),this.column||o.push(this.loadGradebookColumn({courseId:e,columnId:n}).then((()=>this))),this.$q.all(o).then((()=>this))}subscribeToReduxStore(){this.unsubscribeFromReduxStore=this.$ngRedux.connect((e=>{var t;const n=this.courseId,o=this.columnId,i=this.contextUser.userId;return{reviewableAttemptsOnly:Object(u.sortBy)(l.Yb.gradebookAttempt.getReviewableGradebookAttempts(e,n,o,i),["delegatedGraderOrder"]),deletedAttemptsOnly:l.Yb.gradebookAttempt.getDeletedReviewableGradebookAttempts(e,o),content:l.Yb.content.getContentById(e,this.contentId),column:l.Yb.gradebookColumn.getGradebookColumnById(e,o),assessmentHasEnoughSubmissions:null===(t=l.Yb.assessment.getAssessmentByContentId(e,this.contentId))||void 0===t?void 0:t.hasEnoughPeerSubmissions}}),(e=>Object(p.b)({assignNewAttemptForPeerReview:l.V.gradebookAttempt.assignNewAttemptForPeerReview,loadGradebookAttemptsByColumnId:l.V.gradebookAttempt.loadGradebookAttemptsByColumnId,loadGradebookColumn:l.V.gradebookColumn.loadGradebookColumn,loadContents:l.V.content.loadContents},e)))(this)}canPeerViewAttempt(e,t){if(!this.peerGrading||!t)return!1;const n=this.reviewableAttempts.some((e=>e.id===t.id)),o=this.contextUser.userId===t.userId;return!!(n||o)}canDelegatedReconcileAttempt(e){return e.delegatedGrading&&e.isUserReconciler(this.contextUser.userId)}canPeerReviewAttempt(e,t){return this.canPeerViewAttempt(e,t)&&t.userId!==this.contextUser.userId&&!this.canDelegatedReconcileAttempt(e)}canPeerAddFeedbackToAttempt(e,t){return this.canPeerReviewAttempt(e,t)&&!t.isReconciled()&&d.l.Completed!==t.status}get completedPeerReviews(){return this.peerGrading?this.reviewableAttempts.filter((e=>d.l.Completed===(null==e?void 0:e.status))).length:0}openNotEnoughStudentSubmissionsModal(){const e=this.$rootScope.$new();e.translateOpts={title:{key:"components.services.peer-review.modal.error-not-enough-submissions.title"}},e.descriptionKey="components.services.peer-review.modal.error-not-enough-submissions.description";const t={scope:e,template:C,resolve:{translations:[f.serviceName,e=>e.loadBundle("components/services/peer-review")]}};this.modal.open(t)}getReviewableAttemptByDelegatedGraderOrder(e){return this.reviewableAttempts.find((t=>t.delegatedGraderOrder===e))}assignNewPeerReview(){if(!this.peerGrading||this.reviewableAttempts.length===this.numOfPeerReviewsToComplete)return this.$q.resolve(null);const e=this.hasDeletedAttempts?this.deletedAttempts[0].delegatedGraderOrder:null;return this.$q.when(this.assignNewAttemptForPeerReview({courseId:this.column.courseId,columnId:this.column.id,userId:this.contextUser.userId})).then((()=>{const t=null!=e?e:this.reviewableAttempts.length-1;return Object(y.a)(this.$rootScope,{listIndex:t,reviewableAttempt:this.reviewableAttempts[t]}),this.reviewableAttempts[t]})).catch((e=>{throw e instanceof l.e&&this.openNotEnoughStudentSubmissionsModal(),e}))}navigateToPeerReview(e){if(!this.peerGrading)return this.$q.resolve();if(null===this.getReviewableAttemptByDelegatedGraderOrder(e))return this.$q.reject(new Error("Cannot navigate to a row that does not exist"));const t=this.getReviewableAttemptByDelegatedGraderOrder(e),n={courseId:this.column.courseId,columnId:this.column.id,userId:this.contextUser.userId,attemptId:null==t?void 0:t.id,gradeId:null==t?void 0:t.gradeId,initialPeerIndex:e};return this.ultraState.goPeekState(`${m.c.ASSESSMENT_PEER_GRADING}`,n)}loadReviewableAttempts(){var e;return!this.peerGrading||this.loadReviewableAttemptsPromise||this.hasLoadedReviewableAttempts?null!==(e=this.loadReviewableAttemptsPromise)&&void 0!==e?e:this.$q.resolve(this):(this.loadReviewableAttemptsPromise=this.$q.when(this.loadGradebookAttemptsByColumnId({courseId:this.column.courseId,columnId:this.column.id,reviewableAttemptsOnly:!0})).then((()=>(this.hasLoadedReviewableAttempts=!0,this))),this.loadReviewableAttemptsPromise)}get reviewableAttempts(){var e;return this.peerGrading&&null!==(e=this.reviewableAttemptsOnly)&&void 0!==e?e:[]}get deletedAttempts(){var e;return this.peerGrading&&null!==(e=this.deletedAttemptsOnly)&&void 0!==e?e:[]}get hasEnoughSubmissionsForPeerAssessment(){var e;return null!==(e=this.assessmentHasEnoughSubmissions)&&void 0!==e&&e}get hasDeletedAttempts(){return this.deletedAttempts.length>0}get numberOfLatePeerReviews(){return this.peerGrading?this.reviewableAttempts.filter((e=>this.isAfterPeerReviewDueDate(e.attemptLastGradedDate)&&d.l.Completed===e.status)).length:null}get numberOfStartedPeerReviews(){if(!this.peerGrading)return null;return this.reviewableAttempts.filter((e=>d.l.NeedsGrading===e.status)).length+this.deletedAttempts.length}get peerGrading(){var e;return!!(null===(e=this.column)||void 0===e?void 0:e.peerGrading)}get numOfPeerReviewsToComplete(){var e;return this.peerGrading?null===(e=this.content.peerSettings)||void 0===e?void 0:e.peerReviewsPerStudent:null}parseCurrentStringToDateAndMemoize(e){return i.a.parseStringToDate(e)}get peerSubmissionDueDate(){return this.peerGrading?this.parseCurrentStringToDateAndMemoize(this.column.dueDate):null}get peerReviewDueDate(){var e;return this.peerGrading?this.parseCurrentStringToDateAndMemoize(null===(e=this.content.peerSettings)||void 0===e?void 0:e.peerReviewDueDate):null}get allowLatePeerReviews(){return!!this.peerGrading&&!!this.content.peerSettings.allowLatePeerReviews}get isPeerGradingConfigured(){return!!this.peerGrading&&(null!=this.numOfPeerReviewsToComplete&&null!=this.peerReviewDueDate)}get isInPeerReviewWindow(){return!this.isAfterPeerReviewDueDate()&&this.isAfterPeerSubmissionDueDate()}get isAfterPeerReviewWindow(){return this.isAfterPeerReviewDueDate()}isAfterPeerReviewDueDate(e){var t;if(!this.peerGrading)return!1;const n=null!==(t=i.a.parseStringToDate(e))&&void 0!==t?t:new Date;return i.a.isWithinDateRange(n,{end:null,start:this.peerReviewDueDate},!1)}isAfterPeerSubmissionDueDate(e){var t;if(!this.peerGrading)return!1;const n=null!==(t=i.a.parseStringToDate(e))&&void 0!==t?t:new Date;return i.a.isWithinDateRange(n,{end:null,start:this.peerSubmissionDueDate},!1)}};Object(o.a)([Object(s.LRUMemoize)()],S.prototype,"parseCurrentStringToDateAndMemoize",null),S=Object(o.a)([Object(o.c)(0,Object(h.b)("$rootScope")),Object(o.c)(1,Object(h.b)("$ngRedux")),Object(o.c)(2,Object(h.b)(f.serviceName)),Object(o.c)(3,Object(h.b)(g.b)),Object(o.c)(4,Object(h.b)(v.b)),Object(o.c)(5,Object(h.b)(b.d)),Object(o.c)(6,Object(h.b)(w.b)),Object(o.c)(7,Object(h.b)("$q")),Object(o.c)(8,Object(h.b)("courseId")),Object(o.c)(9,Object(h.b)("contentId")),Object(o.c)(10,Object(h.b)("columnId"))],S);class k{constructor(e){this.service=e,this.key=a.d.PeerReview}getOrCreatePeerContentFromContent(e){return Object(r.a)(this.service.getOrCreatePeerContentFromContent(e))}}let x=class{constructor(e,t,n){this.$injector=e,this.$q=t,this.localizeService=n,this.peerContentMap=new Map,Object(a.f)(new k(this))}getPeerContent(e){return this.peerContentMap.get(e)}createPeerContent(e,t,n){const o=this.$injector.instantiate(S,{courseId:e,contentId:t,columnId:n});return this.peerContentMap.set(t,o),o.initPeerContentObject()}getOrCreatePeerContent(e,t,n){const o=this.getPeerContent(t);return o?this.$q.resolve(o):this.createPeerContent(e,t,n)}getDeployedAssessment(e){return(null==e?void 0:e.contentDetail)&&e.getDeployedAssessment()}getOrCreatePeerContentFromContent(e){var t,n;if(!e)return this.$q.resolve(null);const{courseId:o,id:i}=e,s=null===(n=null===(t=this.getDeployedAssessment(e))||void 0===t?void 0:t.gradingColumn)||void 0===n?void 0:n.id;return o&&i&&s?this.getOrCreatePeerContent(o,i,s):this.$q.resolve(null)}getOrCreatePeerContentWithAttemptsFromContent(e){return this.getOrCreatePeerContentFromContent(e).then((e=>null==e?void 0:e.loadReviewableAttempts()))}getOrCreatePeerContentFromColumn(e){if(!e)return this.$q.resolve(null);const{courseId:t,contentId:n,id:o}=e;return t&&n&&o?this.getOrCreatePeerContent(t,n,o):this.$q.resolve(null)}getOrCreatePeerContentWithAttemptsFromColumn(e){return this.getOrCreatePeerContentFromColumn(e).then((e=>null==e?void 0:e.loadReviewableAttempts()))}isPeerEvaluationItem(e){return l.O.PeerEvaluationTest.isEqualTo(e)}wrapPeerEvaluationItemTitle(e,t){return this.localizeService.translateSync({locale:t,key:"components.services.peer-review.peerEvaluationTitleWrapper",params:{itemTitle:e},noWrap:!0,noEscape:!0})}};x=Object(o.a)([Object(o.c)(0,Object(h.b)("$injector")),Object(o.c)(1,Object(h.b)("$q")),Object(o.c)(2,Object(h.b)(f.serviceName))],x);c.module(I,[f.moduleName,g.a,v.a,b.b,w.a]).service(O,x)},BLb8:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}));const o=(e,t)=>{e.$on("refresh-items",t)},i=(e,t)=>{e.$on("close-scorm-launch-frame",t)},s=(e,t)=>{e.content.$fetch().$asPromise().then((n=>{n===e.content?((e,t)=>{t?e.$broadcast("refresh-items",t):e.$broadcast("refresh-items")})(e,t):e.content=n}))}},BXQP:function(e,t){e.exports='<div class="timestamp" bb-load-bundle="components/directives/duration" ng-cloak bb-cache-compilation="duration-directive">\n  <div ng-if="!duration.needAgo()">\n    <div class="js-split-datetime" ng-if="duration.separateDatetime()">\n      <span class="date" ng-bind="duration.date"></span>\n      <span class="time" ng-bind="duration.time"></span>\n    </div>\n    <bb-datetime ng-if="!duration.separateDatetime()" ng-class="{\'date\':duration.date}" value="date" format="Short"></bb-datetime>\n  </div>\n  <div ng-if="duration.needAgo()"\n       class="js-duration-ago"\n       bb-translate="components.directives.duration.agoText"\n       translate-values="{durationDate: duration.date, durationTime: duration.time}"></div>\n</div>'},CuGX:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-class-pulse-future",use:"icon-small-class-pulse-future-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-class-pulse-future"><path d="M9 14c0 .5523-.4477 1-1 1s-1-.4477-1-1 .4477-1 1-1 1 .4477 1 1zM11 6.5a.5.5 0 11-1 0 .5.5 0 011 0zM5.5 9.5a.5.5 0 11-1 0 .5.5 0 011 0z" stroke-width="2" /><path d="M15 11l-4.5-4.5-5.5 3-4-2.357" stroke-width="2" /><path d="M9 2c0 .5523-.4477 1-1 1s-1-.4477-1-1 .4477-1 1-1 1 .4477 1 1z" stroke-width="2" /><path d="M15 2H1v12h14V2z" stroke-width="2" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},DXZ4:function(e,t,n){},DnQR:function(e,t){e.exports='<div bb-load-bundle="components/directives/folder" class="folder" ng-class="{\'is-empty-folder\': content.children.length === 0 && folder.showEmptyMenu, \'learning-module\': content.isLearningModule()}" bb-cache-compilation="content-folder">\n  <div bb-drop-handler on-move-handler="onMoveHandler" on-move-into-folder-handler="onMoveIntoFolderHandler" on-file-drop-handler="onFileDropHandler" content="content" is-folder-open="folder.isOpen" next-content-id="nextContentId" previous-content-id="previousContentId">\n    <div ng-if="::(!content.isLearningModule())"\n         class="row collapse element-list-row folder-row-container js-parent js-course-skip-link-target"\n         can-create="canCreate"\n         bb-content-item-mouseover\n         ng-class="{open: folder.isOpen, \'is-conditional-release\': content.isConditionalReleaseLocked(), \'element-list-row-extra-icon\': folder.isProgressTrackingStateShown(content)}"\n         bb-click-to-invoke-child="button.content-title">\n      <bb-content-item-base contents="contents" content="content" context-area="folder.contextArea" can-move="canMove"></bb-content-item-base>\n      <div class="list-tree-toggle" ng-if="folder.canToggle()">\n        <button class="button super-clear"\n                ng-click="folder.toggleFolder()"\n                aria-controls="{{::\'folder-contents-\' + content.id}}"\n                aria-expanded="{{folder.isOpen}}"\n                bb-translate-attrs="{\'aria-label\':\'components.directives.folder.aria-label.toggle-folder\'}"\n                translate-attrs-values="{folderName: content.title}"\n                analytics-id="course.content.folder.toggle.button">\n          <bb-svg-icon size="small" icon="arrow-down"></bb-svg-icon>\n        </button>\n      </div>\n    </div>\n\n    <div ng-if="::(content.isLearningModule())" ng-class="{open: folder.isOpen}">\n      <bb-learning-module-base-item content="content" contents="contents" context-area="folder.contextArea" can-toggle="::folder.canToggle()"\n        toggle-func="folder.toggleFolder()" can-move="canMove" is-open="folder.isOpen">\n      </bb-learning-module-base-item>\n    </div>\n  </div>\n  <div ng-attr-id="{{::(content.isLearningModule() ? \'learning-module-contents-\' : \'folder-contents-\') + content.id}}" class="folder-contents" aria-expanded="{{folder.isOpen}}" ng-class="{\'not-empty\': content.children && content.children.length > 0}">\n    <div ng-if="(content.children.length > 0 || folder.showOutlineOverride) && folder.isOpen">\n      <bb-content-outline hide-add-menu-override="folder.showOutlineOverride" on-file-drop-handler="onFileDropHandler" on-move-handler="onMoveHandler"\n                          on-move-into-folder-handler="onMoveIntoFolderHandler" load-more-children="loadMoreChildren" parent-folder="folder.content"\n                          contents="folder.content.children" can-create="canCreate" can-move="canMove" context-area="folder.contextArea"\n                          can-copy-import="canCopyImport"></bb-content-outline>\n    </div>\n    <div class=\'drag-element\'>\n      <div bb-drop-handler\n        ng-show="content.children.length === 0"\n        on-move-handler="onMoveHandler"\n        on-move-into-folder-handler="onMoveIntoFolderHandler"\n        on-file-drop-handler="onFileDropHandler"\n        content="{id: content.id + \'blank\', parentId: content.id, depth: content.depth + 1}"\n        empty-target\n      >\n        <span class="empty-message" ng-if="content.children.length === 0 && folder.showEmptyMenu && !canCreate"\n          ng-class="{\'foder-in-force-sequence-empty-message\': content.isForcedSequenceItem()}"\n          bb-translate="{{\n              content.isLearningModule() ?\n                \'components.directives.learning-module.empty\' :\n                \'components.directives.folder.empty\'\n          }}">\n        </span>\n        \x3c!-- (|| false) keep showMenuOverride in watch status in add-content-button directive --\x3e\n        \x3c!-- use ng-show instead of ng-if to keep the element when close add buttons, make sure the upload directive handlers will not be lost --\x3e\n        <ng-switch on="::content.isLearningModule()">\n          <bb-add-content-button ng-switch-when="false" show-menu-override="folder.showMenuOverride || false" depth="(content.depth + 1)" content="content"\n                                 root-content="rootContent()" parent-id="content.id" position-before="\'start\'"\n                                 ng-show="canCreate && folder.showEmptyMenu" context-area="folder.contextArea"\n                                 can-copy-import="canCopyImport" folder-nested-button="true"></bb-add-content-button>\n          <bb-add-content-button ng-switch-when="true" show-menu-override="false" depth="(content.depth + 1)" content="content"\n                                 root-content="content" parent-id="content.id" position-before="\'start\'"\n                                 is-render-by-default="true"\n                                 class="empty-lm-add-content-btn"\n                                 ng-show="canCreate && folder.showEmptyMenu" context-area="folder.contextArea"\n                                 can-copy-import="canCopyImport" folder-nested-button="true"></bb-add-content-button>\n        </ng-switch>\n      </div>\n    </div>\n  </div>\n</div>\n'},Et3n:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("D57K"),i=n("0JpG"),s=n("yC9S"),c=n("dL5/");const a="ultra.directives.group.group-count";let r=class{$onInit(){}isSelfEnrollment(){return!!(this.content.selfEnrollmentGroups&&this.content.selfEnrollmentGroups.length>0)&&this.content.selfEnrollmentGroups.some((e=>e.group&&!e.group.groupSetId))}};r=Object(o.a)([Object(s.a)({moduleName:a,componentName:"bbGroupCount",template:c,bindings:{content:"<"},requireModules:[i.moduleName]})],r)},HE6t:function(e,t){e.exports='<div ng-if="$ctrl.isInitialized && $ctrl.isPeerGrading" class="content-item-peer-assessment">\n  <div ng-if="$ctrl.isPeerGradingConfigured" class="peer-review-due-date">\n    <bb-svg-icon size="small" icon="peer-review"></bb-svg-icon>\n    <span bb-translate class="content-peer-review-due-date-label"\n          translate-values="{ peerReviewsNumber: $ctrl.peerReviewsPerStudent, datetime: $ctrl.peerReviewDueDate }">\n        components.directives.content-item-base.peer-review-due-date\n      </span>\n    <div ng-if="::$ctrl.contextCourseMembership.isStudentMembership()" class="tooltip-container">\n      <bb-ui-content-item-peer-assessment-tooltip tooltip-title="::$ctrl.getTooltipMessage()">\n      </bb-ui-content-item-peer-assessment-tooltip>\n    </div>\n  </div>\n</div>\n'},Jwnl:function(e,t){e.exports='\x3c!-- Center content title when it is only one line of text (without edit capability, description, or date restrictions). --\x3e\n<button ng-if="!contentItemBase.isEngagementOutline()"\n        class="content-title" ng-class="{\'name-middle\': contentItemFolder.shouldAlignMiddle()}"\n        ng-click="contentItemFolder.toggleFolder()"\n        aria-expanded="{{content.ui.isOpen}}"\n        aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n        bb-translate-attrs="{\'aria-label\':\'components.directives.content-item-base.aria-label.toggle-folder\'}"\n        translate-attrs-values="{folderName: content.title}"\n        analytics-id="content.item.folder.toggleFolder.button"\n        aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n        tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"><span>{{ content.title }}</span></button>\n<button ng-if="contentItemBase.isEngagementOutline()"\n        class="content-title name"\n        ng-click="contentItemFolder.toggleFolder()"\n        aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n        aria-expanded="{{content.ui.isOpen}}"\n        analytics-id="content.item.folder.engagementOutline.toggleFolder.button"><span>{{ content.title }}</span></button>\n'},KXuk:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-complete",use:"icon-small-complete-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-complete"><rect x="1" y="1" width="14" height="14" rx="7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M5 8l2 3 4-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"L+81":function(e,t,n){"use strict";var o=n("D57K"),i=(n("zhNR"),n("XPgl"),n("lx16")),s=n("Llzl"),c=n("kC07"),a=n("D8d/"),r=n("lEL+"),l=n("DnQR"),d=(n("lwNT"),n("vcLy"),n("KXuk"),n("CuGX"),n("9OUN")),u=n("Sa5G"),p=n("0JpG"),h=n("MKP7"),m=n("JNtI"),b=n("Ocaa"),g=n("pIXs"),v=n("aTRN"),f=n("nYZ0"),w=n("Qbdf"),C=n("w9Zy"),y=n("TnpK"),I=n("X455"),O=n("oi1r"),S=n("jhBu"),k=n("1ZbL");const x="ultra.features.course.content.banners.bbForcedSequenceWarningBanner",A={Class:n("AuQm").t,withThemeProvider:!0,renderLocalized:!0};s.module(x,[]).component("bbForcedSequenceWarningBanner",Object(k.a)(A));var j=n("VUvS"),E=n("aHpC"),R=n("e6jQ"),T=n("BLb8"),L=n("nmzr"),P=n("/5AG"),$=n("Htol"),M=n("Y+9S"),D=n("IbyE"),B=n("m5Qz"),F=n("tBL6"),z=n("ohO4");const G="ultraUi.components.directives.content.learningModule.learningModuleBaseItem";let V=class{constructor(e,t,n,o,i,s,c,a,r,l,d,p,h,m,b,g){var f;this.scope=e,this.$rootScope=t,this.element=n,this.attrs=o,this.localizeService=i,this.$q=s,this.contentService=c,this.offcanvasService=a,this.timeout=r,this.ultraState=l,this.contextCourseMembership=d,this.entitlementService=h,this.$ngRedux=m,this.contextCourse=b,this.featureFlagService=g,this.lmTitlePlaceholder=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"components.directives.learning-module.base-item.title-placeholder"}),this.description="",this.controlId=Object(R.a)(),this.childrenRefresher=new F.a(this.$q,this.featureFlagService),this.conditionalRelease=p.instantiate(v.a,{scope:e}),e.content.title||(e.content.title=this.lmTitlePlaceholder),e.content.description=null!==(f=e.content.description)&&void 0!==f?f:"",this.scope.$on("refresh-conditional-release-rules",((e,t)=>{this.scope.content.id===t.id&&this.conditionalRelease.getConditions(t)})),this.scope.$on("bb-update-CR-tooltip",((e,t,n,o)=>{t&&(this.rulesCriteria&&this.rulesCriteria.gradeColumnId)===t.id&&this.conditionalRelease.getConditions(this.scope.content,n,o)})),(e.content.isConditionalReleaseLocked()||e.content.isConditionalRelease()||e.content.isForcedSequenceModule())&&this.conditionalRelease.getConditions(e.content),this.entitlementService.hasCourseEntitlement(u.f.ModifyContent,this.scope.content.courseId).then((e=>{this.entitledToModifyContent=e})),this.scope.$on($.b,((t,n)=>{this.childrenRefresher.refreshChildren(n,e.content,this.contextCourseMembership.isStudentMembership())})),this.courseId=this.scope.content.courseId||this.ultraState.params.courseId,this.subscribeToReduxChanges();const w=this.entitlementService.isUserEntitledToRetrieveCourseProgressConfiguration(this.contextCourseMembership.isStudentMembership());!this.courseProgressConfiguration&&this.retrieveCourseProgressConfiguration&&w&&this.retrieveCourseProgressConfiguration({courseId:this.courseId}),Object(T.b)(this.scope,((e,t)=>{this.scope.content.isConditionalReleaseLocked()&&this.scope.content.containsCriteriaWithGradeColumnId(t)&&Object(T.c)(this.scope,t)})),Object(T.a)(this.scope,(e=>{this.scope.content.isConditionalReleaseLocked()&&Object(T.c)(this.scope)}))}deleteContent(){this.scope.$emit("deleteContent",this.scope.content)}getOverflowMenu(){return[{icon:"draw",labelKey:"global.edit",show:()=>this.scope.content.canEdit(),onClick:this.edit.bind(this)},{icon:"class-pulse-future",uniqueId:"content-progress",labelKey:this.contextCourse.course.isOrganization?"components.directives.content-item-base.overflow-menu.content-progress-org":"components.directives.content-item-base.overflow-menu.content-progress",show:()=>this.canViewProgress(),onClick:()=>{this.ultraState.goPeekState(L.k.GENERIC_STUDENT_PROGRES_PEEK_PANEL,{id:this.scope.content.id,courseId:this.courseId})}},{icon:"trash",labelKey:"global.delete",show:()=>this.scope.content.canDelete(),onClick:this.deleteContent.bind(this),confirmationOptions:{lazyLoadTitleKeyAndInstructionsKey:()=>this.getDeleteConfirmationKeyAndShowType().then((e=>{const t=e.confirmationKey.replace(/^resource\//,"");return this.$q.when(m.a(t))}))}}]}edit(){this.ultraState.goPeekState(L.k.EDIT_LEARNING_MODULE_PEEK_PANEL,{id:this.scope.content.id})}getDeleteConfirmationKeyAndShowType(){return this.contentService.generateDeleteConfirmationKey(this.scope.content,this.scope.contextArea).then((e=>({confirmationKey:this.scope.content.ui.deleteConfirmationKey,showType:this.scope.content.ui.modalShowType})))}canViewProgress(){var e;return!!(null===(e=this.courseProgressConfiguration)||void 0===e?void 0:e.progressTrackingEnabled)&&this.entitlementService.isEntitled(P.m.ViewProgressInformation,this.courseId)}subscribeToReduxChanges(){const e=this.$ngRedux.connect((e=>({courseProgressConfiguration:D.Yb.courseProgress.getCourseProgressConfiguration(e,this.courseId)})),(e=>Object(d.b)({retrieveCourseProgressConfiguration:D.V.courseProgress.loadCourseProgressConfiguration},e)))(this);this.scope.$on("$destroy",e)}toggleLM(){var e,t;null===(t=(e=this.scope).toggleFunc)||void 0===t||t.call(e),this.scope.content.ui.isOpen&&this.fetchProgress().then((()=>{const e={type:M.c.LearningModuleOpened,status:M.b.Success,contentId:this.scope.content.id};Object(M.r)(e)}))}isCourseCompletedAndInInstructorView(){return!this.scope.content.canEdit()&&this.entitledToModifyContent}get canOpenConditionalRelease(){return!!(this.scope.content&&this.scope.content.permissions&&this.scope.content.permissions.adaptiveRelease&&this.scope.content.permissions.adaptiveRelease.view)}openConditionalRelease(){this.ultraState.goPeekState(L.k.CONDITIONAL_RELEASE_PEEK_PANEL,{contentId:this.scope.content.id})}getNeighborReviewState(){return P.r.None}shouldShowReviewStateIcon(){return D.j.canHaveReviewState(this.scope.content)&&D.j.canViewReviewState(this.scope.content)&&!!this.scope.content.id}onChangeVisibility(){this.scope.content.visibility=this.contentService.determineVisibility(this.scope.content.isAvailable);this.scope.content.withParams({fields:"id"}).$save(["isAvailable","isPartiallyVisible","adaptiveReleaseRules"]).$asPromise().then((()=>{this.$rootScope.$broadcast("content-update",this.scope.content)}))}fetchProgress(){return this.scope.content.$fetch({expand:"hasProgressed"}).$asPromise().then((e=>{this.scope.content=e}))}shouldShowForcedSequenceWarningBanner(){return this.scope.content.canEdit()&&this.scope.content.isForcedSequenceModule()&&this.scope.isOpen&&!this.scope.content.isHiddenFromStudents()&&this.scope.content.hasProgressed}};V=Object(o.a)([Object(o.c)(0,Object(E.b)("scope")),Object(o.c)(1,Object(E.b)("$rootScope")),Object(o.c)(2,Object(E.b)("element")),Object(o.c)(3,Object(E.b)("attrs")),Object(o.c)(4,Object(E.b)(p.serviceName)),Object(o.c)(5,Object(E.b)("$q")),Object(o.c)(6,Object(E.b)(f.f)),Object(o.c)(7,Object(E.b)(C.e)),Object(o.c)(8,Object(E.b)(r.b)),Object(o.c)(9,Object(E.b)(y.d)),Object(o.c)(10,Object(E.b)(I.d)),Object(o.c)(11,Object(E.b)("$injector")),Object(o.c)(12,Object(E.b)(S.b)),Object(o.c)(13,Object(E.b)("$ngRedux")),Object(o.c)(14,Object(E.b)(w.e)),Object(o.c)(15,Object(E.b)(z.b))],V);class N{constructor(e){this.$injector=e,this.restrict="E",this.template=j,this.scope={content:"=",canToggle:"&",toggleFunc:"&",canMove:"=",contextArea:"=",isOpen:"="},this.link=(e,t,n)=>{e.baseItem=this.$injector.instantiate(V,{scope:e,element:t,attrs:n})}}}N.$inject=["$injector"],s.module(G,[h.a,g.a,f.d,b.a,C.d,r.a,y.b,O.a,S.a,x,B.a]).directive("bbLearningModuleBaseItem",["$injector",e=>e.instantiate(N)]);var q=n("zGdY");n.d(t,"a",(function(){return H}));const H="ultra.directives.folder";let _=class{constructor(e,t,n,o){this.scope=e,this.element=t,this.timeout=n,this.contextCourseMembership=o,this.showEmptyMenu=!0,this.showMenuOverride=!1,this.showOutlineOverride=!1,this.isOpen=!1,this.toggleLabelKey="components.directives.folder.aria-label.open",this.initialChildrenLength=0,this.FOLDER_CONTENTS_SELECTOR=".folder-contents",this.contextArea=e.contextArea,this.loadMoreChildren=e.loadMoreChildren,this.contents=e.contents,this.content.ui?this.content.ui.isOpen=!1:this.content.ui={isOpen:!1},e.$on("toggle-folder",((e,t)=>{this.canToggle()&&t===this.content&&this.toggleFolder()})),e.$on("toggle-folder-by-id",((t,n)=>{this.canToggle()&&n===this.content.id&&(this.scope.$$phase||this.scope.$root&&this.scope.$root.$$phase?this.toggleFolder():e.$apply((()=>{this.toggleFolder()})))})),e.$on("close-folder-immediately-by-id",((e,t)=>{this.isOpen&&this.canToggle()&&t===this.content.id&&this._closeFolderImmediately()})),e.$on("bb-drag-start",(()=>{this.isOpen&&this.canToggle()&&(null==this.content.children||0===this.content.children.length)&&this._closeFolderImmediately()})),e.$on("close-all-add-menus",((e,t)=>{if(this.isOpen&&(null==this.content.children||0===this.content.children.length)&&this.content.id!==t){if(this.content.isLearningModule())return;this.toggleFolder()}})),e.$on("showContentImportProgress",((t,n,o)=>{this.content.id!==o||0!==this.content.children.length||this.showOutlineOverride||(this.showOutlineOverride=!0,this.timeout((()=>{this.scope.$broadcast("showContentImportProgress",n,o)}),e))})),e.$on("keyboard-drag-move",((e,t)=>{this.content.id+"blank"===t?this.showEmptyMenu=!1:this.showEmptyMenu=!0})),e.$on("keyboard-drag-lost-focus",(()=>{this.showEmptyMenu=!0})),e.$on("keyboard-drag-end",(()=>{this.showEmptyMenu=!0}))}_closeFolderImmediately(){this.scope.$$phase||this.scope.$root&&this.scope.$root.$$phase?(this.element.children(".folder").children(this.FOLDER_CONTENTS_SELECTOR).hide(),this.isOpen=!1,this.content.ui.isOpen=!1):this.scope.$apply((()=>{this.element.children(".folder").children(this.FOLDER_CONTENTS_SELECTOR).hide(),this.isOpen=!1,this.content.ui.isOpen=!1}))}toggleFolder(){this.isOpen||null!=this.content.children&&0!==this.content.children.length||this.loadMoreChildren(this.content).$then((()=>{var e;this.content.children&&0===this.content.children.length&&(null===(e=this.scope.content.permissions)||void 0===e?void 0:e.canHaveReviewState)&&this.scope.content.state!==q.u.Completed&&this.scope.content.updateState(q.u.Completed,!0)})),this.content.children&&(this.isOpen=this.content.ui.isOpen=!this.content.ui.isOpen,this.content.children.$then((()=>{this.initialChildrenLength=this.content.children.length,0===this.content.children.length?(this._calculateDurationAndToggle(),this.showMenuOverride=!0,(this.isOpen||this.isOpen&&this.content.isLearningModule())&&this.scope.$root.$broadcast("close-all-add-menus",this.content.id)):this.timeout((()=>{this._calculateDurationAndToggle(),this.showMenuOverride=!1}),this.scope),this.clearWatcher&&this.clearWatcher(),this.clearWatcher=this.scope.$watch((()=>this.content.children&&this.content.children.length),((e,t)=>{this.showMenuOverride=0===e,0===e&&e!==t&&this.isOpen&&this.scope.$root.$broadcast("close-all-add-menus",this.content.id),null==e&&this.isOpen&&(this._closeFolderImmediately(),this.toggleFolder())}))})),this.toggleLabelKey=this.isOpen?"components.directives.folder.aria-label.close":"components.directives.folder.aria-label.open")}_calculateDurationAndToggle(){const e=this.isOpen?1e3:2e3,t=this.element.children(".folder").children(this.FOLDER_CONTENTS_SELECTOR).outerHeight(),n=Math.round(1.17*t),o=Math.min(e,n);this.element.children(".folder").children(this.FOLDER_CONTENTS_SELECTOR).slideToggle(o)}canToggle(){return this.content.canEdit()||!this.content.isRestricted()}get content(){return this.scope.content}isProgressTrackingStateShown(e){var t;return null===(t=e.permissions)||void 0===t?void 0:t.canViewReviewState}};_=Object(o.a)([Object(o.c)(0,Object(E.b)("scope")),Object(o.c)(1,Object(E.b)("element")),Object(o.c)(2,Object(E.b)(r.b)),Object(o.c)(3,Object(E.b)(I.d))],_);class U{constructor(e){this.$injector=e,this.restrict="E",this.scope={content:"=",contextArea:"=",canCreate:"=",contents:"=",canMove:"=",loadMoreChildren:"=",nextContentId:"=?",onFileDropHandler:"=?",onMoveHandler:"=",onMoveIntoFolderHandler:"=",previousContentId:"=?",canCopyImport:"=?",rootContent:"&?"},this.compile=e=>({pre:(e,t)=>{e.folder=this.$injector.instantiate(_,{scope:e,element:t})}}),this.template=l}}U.$inject=["$injector"],s.module(H,[c.b,a.a,i.a,r.a,G]).directive("bbFolder",["$injector",e=>e.instantiate(U)])},LFd7:function(e,t,n){"use strict";var o=n("D57K"),i=n("X455"),s=n("Sa5G"),c=n("aHpC"),a=n("yC9S"),r=n("9hUw"),l=n("0JpG"),d=n("Llzl"),u=n("ERkP"),p=n("1ZbL"),h=n("/n7R"),m=n("0x+l");const b="ultra.components.directives.content.contentItem.contentItemType.contentItemPeerAssessment.tooltip";class g extends u.Component{render(){return u.createElement(h.AnalyticsTooltip,{placement:"top",title:this.props.tooltipTitle,"aria-label":this.props.tooltipTitle,analyticsId:"components.directives.content-item-base.content-item-peer-assessment.tooltip.button"},u.createElement("button",{className:"peer-review-info-tooltip"},u.createElement(m.Information,null)))}}const v={Class:g,bindingNames:["tooltipTitle"]};d.module(b,[]).component("bbUiContentItemPeerAssessmentTooltip",Object(p.a)(v));var f=n("HE6t");n.d(t,"a",(function(){return w}));const w="ultra.components.directives.content.contentItem.contentItemType.contentItemPeerAssessment";let C=class{constructor(e,t,n,o){this.$scope=e,this.contextCourseMembership=t,this.peerReviewService=n,this.localize=o}$onInit(){var e;this.$scope.contentItemPeerAssessment=this,s.g.TestLink.isEqualTo(null===(e=this.content)||void 0===e?void 0:e.contentHandler)?this.peerReviewService.getOrCreatePeerContentFromContent(this.content).then((e=>{this.peerReviewContentObject=e,this.isInitialized=!0})):this.isInitialized=!0}getTooltipMessage(){return this.localize.translateSync({key:"components.directives.content-item-base.content-item-peer-assessment.peer-review-information-tooltip",locale:this.localize.getLocale(this.$scope)})}get peerReviewsPerStudent(){var e,t;return null!==(t=null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.numOfPeerReviewsToComplete)&&void 0!==t?t:0}get peerReviewDueDate(){var e;return null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.peerReviewDueDate}get isPeerGrading(){var e,t;return null!==(t=null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.peerGrading)&&void 0!==t&&t}get isPeerGradingConfigured(){var e,t;return null!==(t=null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.isPeerGradingConfigured)&&void 0!==t&&t}};C=Object(o.a)([Object(a.a)({moduleName:w,componentName:"bbContentItemPeerAssessment",bindings:{content:"<"},template:f,requireModules:[l.moduleName,r.a,b]}),Object(o.c)(0,Object(c.b)("$scope")),Object(o.c)(1,Object(c.b)(i.d)),Object(o.c)(2,Object(c.b)(r.b)),Object(o.c)(3,Object(c.b)(l.serviceName))],C)},LecS:function(e,t,n){"use strict";var o=n("Llzl"),i=n("pjml"),s=n("/hmo");n.d(t,"a",(function(){return c}));const c="ultra.directives.lti";class a{constructor(e){this.CourseModel=e,this.replace=!0,this.restrict="E",this.scope={content:"=",targetContent:"=?",prefix:"="},this.template=s,this.link=(e,t)=>{const n=e.$watch("targetContent.contentHandler",(t=>{null!=t&&(e.$emit("click-to-invoke-child-directive-init"),n())}));!e.targetContent&&e.content&&e.content.contentDetail&&(e.targetContent=e.content.getLinkContentSource(),e.targetContent.$then((()=>{e.content.description=e.targetContent.description})))}}}a.$inject=[i.m.serviceName],o.module(c,[]).directive("bbLtiLinkItem",["$injector",e=>e.instantiate(a)])},MKP7:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n("D57K"),i=n("7UH7"),s=n("Llzl"),c=n("/KQw"),a=n("0JpG"),r=n("TnpK"),l=n("+4Px"),d=n("e6jQ"),u=n("tecA"),p=n("aHpC");const h="ultra.directives.basicTextEditor";let m=class extends u.a{constructor(e,t,n,o,i,s){super(t,n,o,i,s),this.shouldPreventLineBreaking=!0,t.$on(u.b,(()=>{this.updateOriginalValues(),this.isTextTouched=!1})),t.shouldPreventLineBreaking&&(this.shouldPreventLineBreaking=t.shouldPreventLineBreaking())}onKeydown(e){this.shouldPreventLineBreaking&&e.keyCode===l.f&&(e.stopPropagation(),e.preventDefault())}};m.$inject=[],m=Object(o.a)([Object(o.c)(0,Object(p.b)("$q")),Object(o.c)(1,Object(p.b)("scope")),Object(o.c)(2,Object(p.b)("element")),Object(o.c)(3,Object(p.b)("ctrl")),Object(o.c)(4,Object(p.b)(a.serviceName)),Object(o.c)(5,Object(p.b)(r.d))],m);class b{constructor(e){this.$injector=e,this.require=["ngModel"],this.replace=!0,this.restrict="E",this.scope={placeholderKey:"@",placeholderAttrsValues:"@",elementId:"@",readonly:"&",getInputMaxLength:"&?inputMaxLength",onchangeFunc:"&?",onblurFunc:"&?",onFocusFunc:"&",ngModel:"=",fieldRequired:"&?",plainText:"=?",validationMessage:"@?",focusOn:"@?",noValidationMessage:"&?",direction:"&?",shouldPreventLineBreaking:"&?"},this.link=(e,t,n,o)=>{const i=o[0];e.textEditor=this.$injector.instantiate(m,{scope:e,element:t,ctrl:i}),e.elementId||(e.elementId="text-editor-"+d.a())},this.template=i}}b.$inject=["$injector"],s.module(h,[c.a,a.moduleName,r.b]).directive("bbBasicTextEditor",["$injector",e=>e.instantiate(b)])},Mnbc:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-groups",use:"icon-small-groups-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-groups"><path d="M12 15s-1-2-4-2M4 15s1-2 4-2M8 13c1.6569 0 3-1.3431 3-3S9.6569 7 8 7s-3 1.3431-3 3 1.3431 3 3 3zM12 5c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2zM1 7s1-2 3-2 3 2 3 2M9 7s1-2 3-2 3 2 3 2M4 5c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},NEyJ:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-move-item-up-down",use:"icon-small-move-item-up-down-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-move-item-up-down"><path d="M5 11V3M7 4L5 2 3 4M11 5v8M9 12l2 2 2-2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},Ne7M:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-discussion",use:"icon-medium-discussion-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-discussion"><path d="M8 21.4025a10.4446 10.4446 0 01-1.75-.8072L1 22l1.4318-5.2034C1.5217 15.2417 1 13.4318 1 11.5 1 5.701 5.701 1 11.5 1c4.5718 0 8.4611 2.9218 9.9025 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M9 16c0 3.866 3.134 7 7 7 1.3878 0 2.6812-.3803 3.7692-1.0769L23 23l-1.0769-3.2308C22.6197 18.6812 23 17.3878 23 16c0-3.866-3.134-7-7-7s-7 3.134-7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="13" cy="16" r=".5" /><circle cx="16" cy="16" r=".5" /><circle cx="19" cy="16" r=".5" /></symbol>'});i.add(s);e.exports=s},Sq3Z:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-activity-indicator",use:"icon-small-activity-indicator-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-activity-indicator"><path d="M15 8c0 3.866-3.134 7-7 7a6.983 6.983 0 01-2.528-.4704L1 15l.5-4.3969C1.1775 9.7984 1 8.9199 1 8c0-3.866 3.134-7 7-7s7 3.134 7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="8" cy="8" r="2" stroke-width="4" /></symbol>'});i.add(s);e.exports=s},TuNX:function(e,t){e.exports='<bb-modal class="notification proctoring-modal" analytics-id-tag-prefix="components.services.proctoring">\n  <div name="modal-contents">\n    <p bb-translate>{{::requirementsText}}</p>\n    <p ng-bind-html="::downloadText"></p>\n    <p bb-translate>{{::browserText}}</p>\n  </div>\n  \x3c!-- htmlhint:analytics-id:disable --\x3e\n  <button name="modal-footer-button-primary"\n          role="button"\n          class="button js-primary-button proctoring-modal-button"\n          ng-click="$parent.$dismiss()"\n          bb-translate-attrs="{\'aria-label\':\'components.services.proctoring.modal.continue\'}"\n          analytics-id="components.services.proctoring.modal.continue.button"\n  >\n  \x3c!-- htmlhint:analytics-id:enable --\x3e\n    <bb-translate>components.services.proctoring.modal.continue</bb-translate>\n  </button>\n</bb-modal>\n'},U50L:function(e,t){e.exports='<bb-modal id="notification-modal-api-error"\n          class="notification"\n          modal-aria-type="alertdialog"\n          modal-translate-options="translateOpts"\n          analytics-id-tag-prefix="components.services.error-modal.error-not-enough-submissions">\n  <div name="modal-contents">\n    <p bb-translate>{{::descriptionKey}}</p>\n  </div>\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button js-primary-button"\n          bb-translate\n          analytics-id="components.services.error-modal.dismiss">components.services.error-modal.dismiss</button>\n</bb-modal>\n'},UEFj:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-beast-analytics",use:"icon-small-beast-analytics-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-beast-analytics"><rect x="1" y="1" width="14" height="14" rx="7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M8 8V1M8 8l5-4M8 8l4.5 4.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},UODz:function(e,t){e.exports='<div class="submission-card" ng-class="{\'is-late\': isLate, \'inline\': inline}" bb-load-bundle="components/directives/submission-card">\n  <div class="panel" ng-class="{\'clickable-panel\': clickable}">\n    <bb-ui-icon-large-assignments class="submission-card__icon" ng-if="!inline" color="{{::submissionCard.showLateIcon ? \'error\' : \'inherit\'}}"></bb-ui-icon-large-assignments>\n    <div class="info" ng-class="{\'completed\': submissionCard.attempt.isCompleted(), \'rubric-icon-spacing\': submissionCard.shouldExpandForRubricIcon()}">\n      <span class="name ellipsis" bb-translate ng-if="!inline">{{title}}</span>\n      <span class="detail">\n        <span class="test-status ellipsis" ng-show="!!status">\n          <span class="inline-status" ng-if="inline && !hasAttempt && showLate" bb-translate>\n            components.directives.submission-card.outlineStatus.late\n          </span>\n          <span class="inline-status" ng-if="inline && !hasAttempt && !showLate" bb-translate>\n            components.directives.submission-card.outlineStatus.new\n          </span>\n          <span ng-if="inline && !hasAttempt"> - </span>\n          <span bb-translate class="status">{{status}}</span>\n          <ng-switch on="submissionCard.attempt.status" ng-if="submissionCard.attempt">\n            <bb-datetime class="date" format="Short" ng-switch-when="COMPLETED" value="::submissionCard.attempt.attemptLastGradedDate"></bb-datetime>\n            <bb-datetime class="date" format="Short" ng-switch-default value="::submissionCard.attempt.attemptDate"></bb-datetime>\n          </ng-switch>\n          <bb-datetime class="date" format="Short" ng-if="!submissionCard.attempt && gradingColumn.dueDate" value="::gradingColumn.dueDate"></bb-datetime>\n        </span>\n      </span>\n    </div>\n    <div class="grade-container">\n      <ng-switch on="gradeDetail.isPosted()">\n        <bb-display-grade ng-switch-when="true"\n                          grade-detail="gradeDetail"\n                          column="gradingColumn"\n                          display-type="GradeColor"\n                          show-rubric-button="showRubricButton()"\n                          show-rubric-div="showRubricDiv()"></bb-display-grade>\n        <bb-display-grade ng-switch-default\n                          attempt="submissionCard.attempt"\n                          display-type="AttemptStatus"></bb-display-grade>\n      </ng-switch>\n    </div>\n  </div>\n</div>\n'},VUvS:function(e,t){e.exports='<div bb-load-bundle="components/directives/content/learning-module/learning-module-base-item" class="base-content-item bb-lm-base-item"\n  bb-cache-compilation="lm-base-item" role="region" aria-labelledby="::learning-module-title-{{content.id}}">\n  <div class="content-item-base-container guidance-overflow-fix js-content-item-base" ng-paste="$event.stopPropagation()">\n    <div ng-switch on="content.ui.importPlaceholder">\n      \x3c!-- Import placeholder  --\x3e\n      <div ng-switch-when="true" class="placeholder-container" bb-focus>\n        <div class="placeholder-text" bb-translate>components.directives.content-item-base.copy-placeholder</div>\n        <div class="sr-only" bb-translate>components.directives.content-item-base.please-wait</div>\n      </div>\n\n      \x3c!-- Non-imported content --\x3e\n      <div ng-switch-default class="drag-element-row" ng-class="{\'is-restricted\': content.canEdit() && content.isHiddenFromStudents(), \'isNotClickable\': content.isConditionalReleaseLocked() || content.isRestricted() && !content.canEdit()}">\n        <div class="content-item-row">\n          <div class="content-item-details" ng-class="{\'is-uploading\':content.ui.isUploading}">\n            <div class="element-card outline-item">\n\n              <ng-switch on="content.ui.isUploading">\n                \x3c!-- Uploading section begin --\x3e\n\n                <div ng-switch-when="true" class="upload-file">\n                  <bb-progress displayResults="false" id="{{content.ui.fileUploadId}}" class="bb-progress"></bb-progress>\n                </div>\n                \x3c!-- Uploading section end --\x3e\n\n                <div class="outline-item-inner" ng-switch-default>\n\n                  <div class="lm-header-section">\n                    \x3c!-- Learning Module title --\x3e\n                    <div class="lm-header-row"\n                         ng-class="{\'lm-header-row-with-icon\': baseItem.shouldShowReviewStateIcon()}"\n                         bb-click-to-invoke-child=".list-tree-toggle button">\n                      \x3c!-- Header row section --\x3e\n                      <div class="lm-title-container">\n                        <div class="title-container">\n                          \x3c!-- Conditional release section begin --\x3e\n                          <bb-review-state-icon\n                            ng-if="::baseItem.shouldShowReviewStateIcon()"\n                            content-id="content.id"\n                            course-id="content.courseId"\n                            has-automatic-review-state-transition="!content.canUpdateReviewState()"\n                            before-item-state="baseItem.getNeighborReviewState()"\n                            after-item-state="baseItem.getNeighborReviewState()"\n                          ></bb-review-state-icon>\n                          \x3c!-- Conditional release section end --\x3e\n\n                          \x3c!-- Attach event only at Instructor View --\x3e\n                          <div ng-if="::content.canEdit()" class="lm-title-instructor">\n                            <button class="lm-title secondary-title ellipse"\n                              tabindex="0"\n                              bb-translate-attrs="{\'aria-label\': \'components.directives.learning-module.aria-label.toggleLM\'}"\n                              translate-attrs-values="{learningModuleName: content.title}"\n                              aria-expanded="{{isOpen}}"\n                              id="{{::\'learning-module-title-\' + content.id}}"\n                              ng-click="baseItem.toggleLM()"\n                              analytics-id="course.learning.module.base.item.toggleLm.button"\n                              aria-controls="{{::\'learning-module-contents-\' + content.id}}">\n                              {{content.title}}\n                            </button>\n                          </div>\n\n                          \x3c!-- Just display title at Student View --\x3e\n                          <div class="lm-title-student" ng-if="::(!content.canEdit())">\n                            <button class="lm-title secondary-title ellipse"\n                                tabindex="0"\n                                bb-translate-attrs="{\'aria-label\': \'components.directives.learning-module.aria-label.toggleLM\'}"\n                                translate-attrs-values="{learningModuleName: content.title}"\n                                aria-expanded="{{isOpen}}"\n                                ng-click="!content.isConditionalReleaseLocked() && baseItem.toggleLM()"\n                                id="{{::\'learning-module-title-\' + content.id}}"\n                                analytics-id="course.learning.module.base.item.toggleLm.button"\n                                aria-controls="{{::\'learning-module-contents-\' + content.id}}">\n                              {{::content.title}}\n                            </button>\n                            <div ng-if="content.isConditionalReleaseLocked()"\n                              role="tooltip"\n                              tabindex="0"\n                              class="lock-info"\n                              bb-complex-tooltip\n                              enhanced-tooltip="true"\n                              tooltip-position="bottom"\n                              tooltip-open-on-activation="true"\n                              tooltip-disable-on-mouse-over="true"\n                              tooltip-scope="baseItem.conditionalRelease.tooltipScope"\n                              tooltip-template="{{::baseItem.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}">\n                              <span bb-translate>components.directives.content-item-base.conditionalRelease.lock-info</span>\n                              <span class="sr-only">{{baseItem.conditionalRelease.tooltips}}</span>\n                            </div>\n                          </div>\n                        </div>\n\n                        \x3c!-- Learning Module visibility selector  --\x3e\n                        <div class="lm-visibility-selector" ng-if="content.canEdit() || (baseItem.isCourseCompletedAndInInstructorView() && content.isConditionalRelease())">\n                          <bb-content-visibility-selector\n                            ng-if="::content.canEdit()"\n                            content="content"\n                            is-visibility-selector-enabled="true"\n                            onchange-func="baseItem.onChangeVisibility()"\n                            open-panel-on-restricted="true"\n                            disable-restricted="false"\n                            enable-conditional-release="true">\n                          </bb-content-visibility-selector>\n                          <div class="rules" ng-if="(content.canEdit() || baseItem.isCourseCompletedAndInInstructorView()) && content.isConditionalRelease()">\n                            <a href="javascript:void(0);"\n                              ng-click="baseItem.canOpenConditionalRelease && baseItem.openConditionalRelease()"\n                              bb-complex-tooltip\n                              enhanced-tooltip="true"\n                              tooltip-position="bottom"\n                              tooltip-enable-on-mouse-over-for-all-breakpoints="true"\n                              tooltip-enable-on-mouse-leave-for-all-breakpoints="true"\n                              tooltip-auto-update="true"\n                              tooltip-scope="baseItem.conditionalRelease.tooltipScope"\n                              tooltip-template="{{::baseItem.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}"\n                              analytics-id="components.directives.content-item-base.conditionalRelease.link">\n                              <span>{{baseItem.conditionalRelease.getConditionDescription()}}</span>\n                              <span class="sr-only">{{baseItem.conditionalRelease.tooltips}}</span>\n                            </a>\n                          </div>\n                        </div>\n                        <div ng-if="content.isForcedSequenceModule() && content.canEdit()"\n                          class="lm-instructor-note"\n                          bb-translate\n                        >\n                          components.directives.learning-module.base-item.forced-sequence.instructor-note\n                        </div>\n                        \x3c!-- Learning Module control section begin --\x3e\n\n                        \x3c!-- for student --\x3e\n                        \x3c!-- <div ng-if="::(!content.canEdit())">\n                          <span class="lm-counting">{{baseItem.completed}} / {{baseItem.count}}</span>\n                        </div> --\x3e\n\n                        \x3c!-- for instructor --\x3e\n                        <div ng-if="::(content.canEdit() && canMove)" class="lm-drag-button">\n                          <button bb-drag-handle drag-item-id="{{content.id}}"\n                                  drag-item-name="{{content.title}}"\n                                  drag-item-type="{{content.contentHandler}}"\n                                  drag-item-context="{{contextArea}}"\n                                  class="super-clear small button icon js-drag-handle"\n                                  translate-attrs-values="{contentTitle: content.title}"\n                                  bb-translate-attrs="{\'title\': \'components.directives.content-item-base.move\', \'aria-label\': \'components.directives.content-item-base.aria-label.move\'}"\n                                  analytics-id="course.learning.module.base.item.move.button">\n                            <bb-svg-icon size="small" icon="move-item-up-down"></bb-svg-icon>\n                          </button>\n                        </div>\n                        <div bb-foundation-defer>\n                          <bb-overflow-menu ng-if="::(content.canDelete() || content.canEdit() || content.hasConversation() && !content.isConditionalReleaseLocked())"\n                                            element-id="{{::(\'learning-module\' + baseItem.controlId)}}"\n                                            element-name="{{content.title}}"\n                                            menu-items="baseItem.getOverflowMenu()"\n                                            analytics-id-tag-prefix="components.directives.learning-module.base-item.overflowMenu">\n                          </bb-overflow-menu>\n                        </div>\n                      </div>\n\n                      <div class="lm-description" ng-if="content.description">\n                        <bb-course-content-item-description class="description-show-text-container description-show-text"\n                          description="content.description"\n                        ></bb-course-content-item-description>\n                      </div>\n\n                      \x3c!-- Learning Module control section end --\x3e\n                      <div class="list-tree-toggle" ng-if="::(content.canEdit() || !content.isRestricted())">\n                        <button class="button super-clear" ng-click="baseItem.toggleLM()" aria-controls="{{::\'learning-module-contents-\' + content.id}}"\n                          aria-expanded="{{isOpen}}"\n                          bb-translate-attrs="{title: isOpen ? \'components.directives.learning-module.base-item.collapse\' : \'components.directives.learning-module.base-item.expand\'}"\n                          translate-attrs-values="{learningModuleName: content.title}"\n                          analytics-id="course.learning.module.base.item.toggleLm.button"\n                          >\n                          <bb-svg-icon size="small" icon="arrow-down"></bb-svg-icon>\n                        </button>\n                      </div>\n                    </div>\n\n                    <bb-forced-sequence-warning-banner ng-if="baseItem.shouldShowForcedSequenceWarningBanner()"></bb-forced-sequence-warning-banner>\n\n                    \x3c!-- Learning Module title section end --\x3e\n                  </div>\n                </div>\n              </ng-switch>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},XPgl:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-arrow-down",use:"icon-small-arrow-down-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-arrow-down"><path d="M1 4l7 7 7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},YHe3:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return y}));var o=n("D57K"),i=n("Llzl"),s=n("pjml"),c=n("TnpK"),a=n("Q/M7"),r=n("12mu"),l=n("0JpG"),d=n("nYZ0"),u=n("Qbdf"),p=n("vhkR"),h=n("zJP2"),m=n("IbyE"),b=n("zGdY"),g=n("CY5M"),v=n("nmzr"),f=n("DU7P"),w=n("aHpC");n("TuNX");const C="ultra.components.services.proctoring",y="proctoring",I={Respondus:"respondus"},O="components.services.proctoring.overview.",S="components.services.proctoring.delivery.",k="components.services.proctoring.settings.",x="components.services.proctoring.page.";let A=class{constructor(e,t,n,o,i,s,c,a,r,l,d,u,p){this.$q=e,this.$rootScope=t,this.$sce=n,this.$window=o,this.CourseModel=i,this.CourseContentModel=s,this.ProctoringServicesModel=c,this.modal=a,this.contentService=r,this.contextCourse=l,this.localize=d,this.ultraState=u,this.ltiService=p}getBooksAndToolsDescription(e){return"components.services.proctoring.booksAndTools."+I[e.vendor]+".description"}getProctoringServices(){const e=this.$q.defer();return this.ProctoringServicesModel.$search({"availability.available":"Yes"}).$allow(["400-599"]).$asPromise().then((t=>{t.$response&&t.$response.status>=400?e.resolve([]):e.resolve(t)}),(()=>e.resolve([]))),e.promise}getProctoringAssessmentSettingsText(e){return k+I[e]+".toolLink"}getProctoringAssessmentSettingsRequirementsText(e){const t=k;return e.getProctoringServiceHandle()&&e.isSecureBrowserRequiredToTake()?e.isWebcamRequired()?t+I[e.getProctoringServiceVendor()]+".secureBrowserAndWebcamRequired":t+I[e.getProctoringServiceVendor()]+".secureBrowserRequired":null}getProctoringOverviewBrowserText(e){return e.isSecureBrowserRequiredToTake()?"components.services.proctoring.overview."+I[e.getProctoringServiceVendor()]+".browser":null}getProctoringOverviewRequirementsText(e){const t=O;return e.isSecureBrowserRequiredToTake()?e.isWebcamRequired()?t+I[e.getProctoringServiceVendor()]+".secureBrowserAndWebcamRequired":t+I[e.getProctoringServiceVendor()]+".secureBrowserRequired":null}getProctoringOverviewDownloadText(e){return e.getProctoringDownloadUrl()?"components.services.proctoring.overview."+I[e.getProctoringServiceVendor()]+".downloadBrowser":null}openProctoringLTITool(e,t){let n="/webapps/assessment/controller/proctoring/launchProctoringSettings?proctoring_svc_id="+e.id+"&course_id="+this.contextCourse.courseId;t&&(n+="&content_id="+t.id);const o={toolHref:a.c(n)};t&&t.title&&t.title.length>0&&(o.toolSubtitle=t.title),this.ultraState.goPeekState("proctoring-lti-tool",o)}getProctoringReviewButtonText(e){return S+"review."+I[e]+".reviewResults"}getProctoringReviewDownloadText(e){return S+"review."+I[e]+".download"}getProctoringPageRequirementsText(e){return x+I[e]+".requirements"}getProctoringPageDownloadText(e){return x+I[e]+".download"}getProctoringPageBrowserText(e){return x+I[e]+".browser"}getSecureBbEditorOptions(e){return this.ultraState.current.name===v.d.BASE_PROCTORING_ATTEMPT&&(e.attachment=!1,e.image=!1,e.youtubeVideo=!1,e.video=!1,e.contentMarket=!1),e}handleProctoredAssessmentClose(e,t){if("Respondus"===e.getProctoringServiceVendor())a.p(a.c("/ultra/proctoring/close?rldbsm=1&rldbxb=1"));else if(t){const t={handle:e.getProctoringServiceHandle(),linkType:m.i.LtiPlacement};let n=Object(g.k)(t);n=a.a(n,"custom_proctoring_end_assessment_return","true"),n=a.a(n,"course_id",e.courseId),n=a.a(n,"content_id",e.id),n=a.a(n,"from_ultra","true"),this.ultraState.leavePeekState().then((()=>{this.ltiService.launch(n)}))}else this.ultraState.goPeekState(v.c.ASSESSMENT_OVERVIEW,{contentId:e.id})}getProctoringServiceByHandle(e){return this.$q.resolve(h.a.loadProctoringService(e))}fetchProctoringServices(){return this.$q.resolve(h.a.loadAvailableProctoringServices())}fetchProctoringServiceIntegrations(){return this.$q.resolve(h.a.loadAvailableProctoringServicesWithIntegration())}getCurrentProctoringProviderType(e){return e?e===f.b?f.a.Respondus:f.a.IMS:f.a.None}isRespondusProctoringServiceProvider(e){return this.getCurrentProctoringProviderType(e.handle)===f.a.Respondus}isIMSProctoringServiceProvider(e){return this.getCurrentProctoringProviderType(e.handle)===f.a.IMS}isProctoringServiceUnavailable(e,t){return this.isProctoringPlacementUnavailable(e,t)||this.isProctoringUEFUnavailable(e,t)}isProctoringPlacementUnavailable(e,t){return!!e&&(null==t||t.availability.available===b.Jb.No)}isProctoringUEFUnavailable(e,t){if(!!e){return!this.isRespondusProctoringServiceProvider(t)&&!this.getProctoringServiceIntegrationId(t)}return!1}getProctoringServiceIntegrationId(e){var t;if(e)return null===(t=h.a.getProctoringIntegration(e.handle))||void 0===t?void 0:t.integrationId}promptIntegrationToSave(e,t,n,o){return this.$q.resolve(h.a.promptIntegrationToSaveSettings(e,t,n,o))}openRespondusProctoringLaunchLink(t){const n="data:text/plain,";if(e("#respondus-iframe").remove(),t.startsWith(n)){const e=`<iframe src="data://text/plain,${t.substring(n.length)}" id="respondus-iframe" style="display:none"></iframe>`;this.createRespondusIFrameAndSetLocation(e)}else this.setRespondusWindowLocation(t)}createRespondusIFrameAndSetLocation(t){document.body.appendChild(e(t)[0])}setRespondusWindowLocation(e){this.$window.location.assign(e)}};A=Object(o.a)([Object(o.c)(0,Object(w.b)("$q")),Object(o.c)(1,Object(w.b)("$rootScope")),Object(o.c)(2,Object(w.b)("$sce")),Object(o.c)(3,Object(w.b)("$window")),Object(o.c)(4,Object(w.b)(s.m.serviceName)),Object(o.c)(5,Object(w.b)(s.p.serviceName)),Object(o.c)(6,Object(w.b)(s.kb.serviceName)),Object(o.c)(7,Object(w.b)(r.b)),Object(o.c)(8,Object(w.b)(d.f)),Object(o.c)(9,Object(w.b)(u.e)),Object(o.c)(10,Object(w.b)(l.serviceName)),Object(o.c)(11,Object(w.b)(c.d)),Object(o.c)(12,Object(w.b)(p.b))],A);i.module(C,["ngSanitize",d.d,l.moduleName,r.a,c.b,u.b,p.a]).service(y,A)}).call(this,n("71td"))},Youf:function(e,t){e.exports='<a class="content-title"\n   aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n   ng-click="contentItemLtiLaunch.ltiLaunch()"\n   href="javascript:void(0);"\n   analytics-id="content.item.ltilaunch.link"><span>{{ content.title }}</span></a>\n<div ng-if="contentItemBase.isExcludedOrDeletedLtiToolProvider() && !contentItemBase.ltiLinkNeedsApproval() && contentItemBase.scope.content.canViewAsInstructor()">\n      <span class="broken-lti-link" ng-if="!contentItemBase.hasLTIToolConfigurationEntitlement()"\n      bb-translate>components.directives.content-item-base.excluded-lti-provider.instructor</span>\n      <span class="broken-lti-link" ng-if="contentItemBase.hasLTIToolConfigurationEntitlement()"\n      bb-translate>components.directives.content-item-base.excluded-lti-provider.admin</span>\n</div>\n<div ng-if="contentItemBase.isUnlaunchableLtiLink() && !contentItemBase.isExcludedOrDeletedLtiToolProvider() && !contentItemBase.ltiLinkNeedsApproval() && contentItemBase.scope.content.canViewAsInstructor()">\n      <span class="broken-lti-link" ng-if="!contentItemBase.hasLTIToolConfigurationEntitlement()"\n      bb-translate>components.directives.content-item-base.deleted-placement.instructor</span>\n      <span class="broken-lti-link" ng-if="contentItemBase.hasLTIToolConfigurationEntitlement()"\n      bb-translate>components.directives.content-item-base.deleted-placement.admin</span>\n</div>\n<span class="broken-lti-link" ng-if="contentItemBase.isUnlaunchableLtiLink() && contentItemBase.ltiLinkNeedsApproval() && contentItemBase.scope.content.canViewAsInstructor()"\n      bb-translate>components.directives.content-item-base.approval-required</span>\n'},a2qY:function(e,t){e.exports='<div bb-load-bundle="components/directives/content-item-base" ng-class="::contentItemBase.getRootClassName()" bb-cache-compilation="content-item-base">\n  <div class="content-item-base-container guidance-overflow-fix js-content-item-base" bb-click-to-invoke-child=".content-title">\n    <div ng-switch on="content.ui.importPlaceholder" class="content-item-row-container">\n      <div ng-switch-when="true" class="placeholder-container" bb-focus>\n        <div class="placeholder-text" bb-translate>components.directives.content-item-base.copy-placeholder</div>\n        <div class="sr-only" bb-translate>components.directives.content-item-base.please-wait</div>\n      </div>\n      <bb-review-state-icon\n        ng-if="contentItemBase.shouldShowReviewStateIcon()"\n        content-id="content.id"\n        course-id="contentItemBase.courseId"\n        on-review-state-icon-click="contentItemBase.onReviewStateIconClick"\n        has-automatic-review-state-transition="!content.canUpdateReviewState()"\n        before-item-state="contentItemBase.getNeighborReviewState(itemBefore)"\n        after-item-state="contentItemBase.getNeighborReviewState(itemAfter)"\n      ></bb-review-state-icon>\n\n      <div ng-switch-default class="row drag-element-row" ng-class="{\n        \'is-restricted\': content.canViewAsInstructor() ? !content.isAvailable : false,\n        \'hidden-from-student-cr\': content.canViewAsInstructor() && content.isConditionalReleaseWithHiddenFromStudent(),\n        \'isNotClickable\': content.isConditionalReleaseLocked() || content.isRestricted() && !content.canViewAsInstructor()}">\n        <div class="content-item-row">\n          <div class="content-item-details" ng-class="{\'is-uploading\':content.ui.isUploading}">\n            <div class="element-card outline-item">\n              <ng-switch on="content.ui.isUploading">\n                <div ng-switch-when="true" class="upload-file">\n                  <bb-progress displayResults="false" id="{{content.ui.fileUploadId}}" class="bb-progress"></bb-progress>\n                </div>\n\n                <div class="outline-item-inner" ng-switch-default>\n                  <div class="element-image" ng-if="contentItemBase.isGradeLoaded" bb-content-item-icon="content" show-alert-icon="contentItemBase.shouldShowAlertIcon()">\n                  </div>\n                  <div class="element-details">\n                    <div ng-if="shouldShowContent">\n                      <bb-content-item-course-outline ng-if="!contentItemBase.isEngagementOutline()"></bb-content-item-course-outline>\n                      <bb-content-item-engagement-outline ng-if="contentItemBase.isEngagementOutline()"></bb-content-item-engagement-outline>\n                    </div>\n                    <div ng-if="!contentItemBase.shouldShowContent">\n                      {{contentItemBase.overrideMessage}}\n                    </div>\n                  </div>\n                </div>\n              </ng-switch>\n            </div>\n          </div>\n          <div ng-if="content.id" class="item-controls">\n            \x3c!-- Show this if the user has edit permissions on the content and it is movable //--\x3e\n            <button bb-drag-handle\n                    drag-item-id="{{content.id}}"\n                    drag-item-name="{{content.title}}"\n                    drag-item-type="{{contentItemBase.contentHandler}}"\n                    drag-item-context="{{contextArea}}"\n                    class="super-clear small button icon js-drag-handle"\n                    ng-if="canMove && content.canEdit()"\n                    translate-attrs-values="{contentTitle: content.title}"\n                    bb-translate-attrs="{\'title\': \'components.directives.content-item-base.move\', \'aria-label\': \'components.directives.content-item-base.aria-label.move\'}"\n                    analytics-id="content.item.base.move.button"\n                    >\n\n              <bb-svg-icon size="small" icon="move-item-up-down"></bb-svg-icon>\n            </button>\n            <bb-ally-content-ref\n                ng-if="contentItemBase.canShowAlly"\n                content-id="{{content.id}}"\n                file-id="{{::contentItemBase.allyService.getXythosIdFromContentItem(content)}}"\n                file-preview-url="{{::content.getContentDisplay().contentUrl()}}"\n            ></bb-ally-content-ref>\n            <bb-ally-show\n              ng-if="contentItemBase.canShowAlly && contentItemBase.isAllyInstructor"\n              content-id="{{content.id}}"\n              show-view-score-link="true"\n              show-icon="true"\n              class="ally-icon"\n            ></bb-ally-show>\n            <bb-ally-show\n              ng-if="contentItemBase.canShowAllyAlternativeFormats(content)"\n              content-id="{{content.id}}"\n              show-alternative-formats-link="true"\n              show-icon="true"\n              class="ally-icon"\n            ></bb-ally-show>\n            \x3c!-- Show this if the user has edit or delete permissions //--\x3e\n            <div class="right" bb-foundation-defer>\n              <bb-overflow-menu ng-show="contentItemBase.showOverflowMenu()"\n                                element-id="{{content.id}}"\n                                element-name="{{content.title}}"\n                                menu-items="contentItemBase.getOverflowMenu()"\n                                on-menu-toggle="contentItemBase.updateAlly()"\n                                ng-attr-data-ally-content-ref="{{content.id}}"\n                                ng-attr-data-ally-show="{{ contentItemBase.overflowMenuIsAllyConditional() ? \'instructorfeedback\' : undefined }}"\n                                analytics-id-tag-prefix="components.directives.content-item-base.overflowMenu">\n              </bb-overflow-menu>\n            </div>\n          </div>\n        </div>\n\n        <div ng-if="contentItemBase.getDescription()" class="content-item-description">\n          <bb-course-content-item-description\n            description="contentItemBase.getDescription()"\n          ></bb-course-content-item-description>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},aCck:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("Llzl"),i=n("pjml"),s=n("eYRL"),c=n("IbyE");const a="ultra.directives.webLinkItem";class r{constructor(e){this.CourseModel=e,this.replace=!0,this.restrict="E",this.scope={content:"=",targetContent:"=?",prefix:"=",aria:"=?",tabbable:"=?"},this.template=s,this.link=(e,t)=>{const n=e.$watch("targetContent.contentHandler",(t=>{null!=t&&(e.$emit("click-to-invoke-child-directive-init"),n())}));!e.targetContent&&e.content&&e.content.contentDetail&&(e.targetContent=e.content.getLinkContentSource(),e.targetContent.$then((()=>{e.content.description=e.targetContent.description}))),e.ariaDescribedBy="content-item-icon-"+e.content.id,e.content.ui.hasIndicator&&(e.ariaDescribedBy+=" activity-indicator-"+e.content.id),c.j.isNotAccessibleButVisibleForcedSequenceItem(e.content)?(e.aria=!0,e.tabbable=!0):(e.aria=!1,e.tabbable=!1)}}}r.$inject=[i.m.serviceName],o.module(a,[]).directive("bbWebLinkItem",["$injector",e=>e.instantiate(r)])},aPUy:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));const o="peer-review-assigned";function i(e,t){return e.$broadcast(o,t.listIndex,t.reviewableAttempt)}function s(e,t){return e.$on(o,t)}},aTRN:function(e,t,n){"use strict";var o=n("D57K"),i=n("pjml"),s=n("aHpC"),c=n("4GL6"),a=n("0JpG"),r=n("oi1r"),l=n("TnpK"),d=n("Qbdf"),u=n("X455"),p=n("zGdY"),h=n("IbyE"),m=n("nsO7");const b="performance",g="date";let v=class{constructor(e,t,n,o,i,s,c){this.localizeService=e,this.schemaService=t,this.courseModel=n,this.contextCourse=o,this.contextCourseMembership=i,this.scope=c,this.isPerformanceConditionInvalid=!1,this.role=Object(m.memoize)((()=>this.contextCourseMembership.courseMembership&&this.contextCourseMembership.courseMembership.isStudentMembership()?"student":"instructor")),this.courseId=o.courseId?o.courseId:s.params.courseId}getConditions(e,t,n){var o,i;this.content=e;const s=null===(o=e.adaptiveReleaseRules)||void 0===o?void 0:o.rules;if((null==s?void 0:s.length)||e.isForcedSequenceModule())if((null===(i=null==s?void 0:s[0])||void 0===i?void 0:i.criteria)&&(this.allCriteria=s[0].criteria),this.getACLCriteria()?this.setACLCondition():this.aclToolTips=null,this.getPerformanceCriteria()?this.setPerformanceCondition(t,n):this.performanceToolTips=null,this.getDateCriteria()?this.setDateCondition():this.dateToolTips=null,this.contextCourseMembership.courseMembership.isStudentMembership()&&e.isForcedSequenceItem()){const t=0===e.position?"components.directives.content-item-base.conditionalRelease.student-forced-sequence-first-item-tooltip":"components.directives.content-item-base.conditionalRelease.student-forced-sequence-item-tooltip";this.forcedSequenceTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:t,noWrap:!0,noEscape:!0}),this.updateTooltipScope()}else this.forcedSequenceTips=null}getConditionDescription(){const e=!!this.getACLCriteria(),t=!!this.getPerformanceCriteria(),n=!!this.getDateCriteria(),o=[[e,this.contextCourse.course.isOrganization?"organization-membership":"course-membership"],[n,g],[t,b]].filter((e=>!!e[0])).map((e=>`components.directives.content-item-base.conditionalRelease.conditionDescriptions.${e[1]}`));if(0===o.length)return;const i=this.localizeService.getLocale(this.scope),s=o.map(((e,t)=>this.localizeService.translateSync({locale:i,key:`${e}${0===t?"-capitalized":""}`})));return this.localizeService.formatItemsSync(s,s.length,null,this.scope,!1,{noWrap:!0})}getPerformanceCriteria(){return this.getCriteriaByType(h.d.Grade.toString())||this.getCriteriaByType(h.d.GradePercentage.toString())}getDateCriteria(){return this.getCriteriaByType(h.d.Date.toString())}getACLCriteria(){return this.getCriteriaByType(h.d.ACL.toString())}getCriteriaByType(e){return this.allCriteria&&this.allCriteria.find((t=>t.type===e))}setPerformanceCondition(e,t){this.gradeCriteria=this.getPerformanceCriteria();let n=this.gradeCriteria&&this.gradeCriteria.minScore;const o=this.gradeCriteria&&this.gradeCriteria.maxScore,i=this.gradeCriteria&&this.gradeCriteria.gradeColumnId;let s="",c="";if(!i||t){const e=`components.directives.content-item-base.conditionalRelease.${this.role()}-missing-column-error`;return this.performanceToolTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:e,noWrap:!0,noEscape:!0}),this.isPerformanceConditionInvalid=!0,void this.updateTooltipScope()}this.courseModel.$new(this.courseId||this.content.courseId).gradebook.columns.$find(i).$allow([403]).$then((t=>{if(t.$response&&403===t.$response.status)return this.performanceToolTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"components.directives.content-item-base.conditionalRelease.student-missing-column-error",noWrap:!0,noEscape:!0}),this.isPerformanceConditionInvalid=!0,void this.updateTooltipScope();let i=`components.directives.content-item-base.conditionalRelease.${this.role()}-lock-tooltip`;i+=void 0===o?"-common":n===o?"-equal":"-custom";const a=e||t&&t.columnName;this.schemaService.loadSchemas(this.courseId).then((e=>{const r=e&&e.find((e=>e.id===t.gradingSchemaId))||{};this.gradeCriteria&&"Grade_Range"===this.gradeCriteria.type&&(void 0===o&&r.scaleType!==p.Ub.Score&&r.scaleType!==p.Ub.Complete||(s=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),params:{score:n||0},key:"components.directives.content-item-base.conditionalRelease.point.plural",noWrap:!0,noEscape:!0}),c=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),params:{score:o||t.possible},key:"components.directives.content-item-base.conditionalRelease.point.plural",noWrap:!0,noEscape:!0}))),this.gradeCriteria&&"Grade_Range_Percentage"===this.gradeCriteria.type&&(void 0!==o||r.scaleType===p.Ub.Percent?(s=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),params:{score:n||0},key:"components.directives.content-item-base.conditionalRelease.percentage",noWrap:!0,noEscape:!0}),c=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),params:{score:o||t.possible},key:"components.directives.content-item-base.conditionalRelease.percentage",noWrap:!0,noEscape:!0})):r.scaleType===p.Ub.Tabular&&(r.symbols.sort(((e,t)=>e.absoluteTranslation-t.absoluteTranslation)),r.symbols.forEach((e=>{e.absoluteTranslation>=n&&(n=e.symbol,s=n)})))),this.getPerformanceToolTips(i,s,c,a)}))}))}setDateCondition(){if(this.dateCriteria=this.getDateCriteria(),this.dateCriteria){let e=null;this.dateCriteria.start&&this.dateCriteria.end?e="both":this.dateCriteria.start?e="showon":this.dateCriteria.end&&(e="hideafter");const t=`components.directives.content-item-base.conditionalRelease.${this.role()}-${e}-date-tooltip`;this.dateToolTips=e&&this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:t,params:{showon:new Date(this.dateCriteria.start),hideafter:new Date(this.dateCriteria.end)},noWrap:!0,noEscape:!0}),this.updateTooltipScope()}}setACLCondition(){this.aclCriteria=this.getACLCriteria(),this.aclCriteria&&(this.aclToolTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"components.directives.content-item-base.conditionalRelease.acl-tooltip",noWrap:!0,noEscape:!0}),this.updateTooltipScope())}getPerformanceToolTips(e,t,n,o,i=""){this.performanceToolTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:e,params:{minScore:t,maxScore:n,title:o},noWrap:!0,noEscape:!0}),this.isPerformanceConditionInvalid=!1,this.updateTooltipScope()}updateTooltipScope(){angular.isUndefined(this.tooltipScope)&&(this.tooltipScope=this.scope.$new(!0)),this.tooltipScope.items=[],this.aclToolTips&&this.tooltipScope.items.push(this.aclToolTips),this.performanceToolTips&&(this.tooltipScope.items.push(this.performanceToolTips),this.isPerformanceConditionInvalid)?this.tooltips=this.performanceToolTips:(this.dateToolTips&&this.tooltipScope.items.push(this.dateToolTips),this.forcedSequenceTips&&this.tooltipScope.items.push(this.forcedSequenceTips),this.tooltips=this.tooltipScope.items.join(" "))}getConditionalReleaseComplexTooltipTemplate(){return c.a("conditional-release-tooltip")}};v=Object(o.a)([Object(o.c)(0,Object(s.b)(a.serviceName)),Object(o.c)(1,Object(s.b)(r.b)),Object(o.c)(2,Object(s.b)(i.m.serviceName)),Object(o.c)(3,Object(s.b)(d.e)),Object(o.c)(4,Object(s.b)(u.d)),Object(o.c)(5,Object(s.b)(l.d)),Object(o.c)(6,Object(s.b)("scope"))],v),t.a=v},agzH:function(e,t,n){"use strict";var o=n("Llzl"),i=n("0JpG"),s=n("1ZbL"),c=n("/5AG");n.d(t,"a",(function(){return a}));const a="ultra.features.course.outline.review-state-icon",r={Class:c.s,bindingNames:["afterItemState","beforeItemState","contentId","courseId","hasAutomaticReviewStateTransition","onReviewStateIconClick"],renderLocalized:!0,withProvider:!0};o.module(a,[i.moduleName]).component("bbReviewStateIcon",Object(s.a)(r))},bhWV:function(e,t,n){"use strict";var o=n("D57K"),i=(n("Sq3Z"),n("1NX5"),n("uAJz"),n("66CI"),n("Llzl")),s=n("YHe3"),c=n("TnpK"),a=n("Qbdf"),r=n("jhBu"),l=n("wy9x"),d=n("ga7A"),u=n("Is+C"),p=n("yV5t");const h="ultra.components.directives.content.contentItem.contentItemType.contentItemScormlaunch";class m{constructor(e,t){this.scope=e,this.scormService=t}scormLaunch(){if(!this.scope.content.isScorm())throw new Error("Attempted to launch a non-SCORM content item. "+this.scope.content.contentHandler.toString());this.scormService.scormLaunch({courseId:this.scope.content.courseId,contentId:this.scope.content.id,content:this.scope.content,showPreLaunchPanel:!0})}}m.$inject=["scope",u.c];class b{constructor(e){this.$injector=e,this.restrict="E",this.template=p,this.scope=!1,this.link=(e,t,n)=>{e.contentItemScormLaunch=this.$injector.instantiate(m,{scope:e,element:t,attrs:n})}}}b.$inject=["$injector"],i.module(h,[u.b]).directive("bbContentItemScormlaunch",["$injector",e=>e.instantiate(b)]);var g=n("z+6U"),v=n("Sa5G"),f=n("aHpC"),w=n("nmzr"),C=n("pjml"),y=n("/R3n"),I=n("DU7P"),O=n("zYa8"),S=n("l2+p");const k="ultra.components.directives.bbUiIcon.small.ProctorShield";Object(O.a)(S.a,k,"bbUiIconSmallProctorShield");var x=n("zGdY");n.d(t,"a",(function(){return A}));const A="ultra.components.directives.content.contentItem.contentItemCourseOutline";let j=class{constructor(e,t,n,o,i){this.scope=e,this.entitlementService=t,this.proctoringService=n,this.ultraState=o,this.currentCourseService=i,this.customCategory="",this.entitlementService.hasCourseEntitlement(v.f.ModifyContent,this.scope.content.courseId).then((e=>{this.entitledToModifyContent=e}))}get canOpenConditionalRelease(){var e,t,n;return!!(null===(n=null===(t=null===(e=this.scope.content)||void 0===e?void 0:e.permissions)||void 0===t?void 0:t.adaptiveRelease)||void 0===n?void 0:n.view)}shouldAlignMiddle(){const e=this.scope.content;return!e.canViewAsInstructor()&&(!e.description&&(!e.isVisible()||!e.adaptiveReleaseRules))}openConditionalRelease(){if(this.isCourseCompletedAndInInstructorView())return;let e=this.scope.content.id;this.scope.content&&this.scope.content.contentHandler&&this.scope.content.contentDetail&&C.p.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler)&&this.scope.content.getLinkContentSource().$then((t=>{e=t.id})),this.ultraState.goPeekState(w.k.CONDITIONAL_RELEASE_PEEK_PANEL,{contentId:e})}isCourseCompletedAndInInstructorView(){var e;return(null===(e=this.currentCourseService.course)||void 0===e?void 0:e.isComplete())&&this.scope.content.canViewAsInstructor()}displayProctoredTag(){const e=this.scope.content.getProctoringServiceHandle(),t=this.scope.content.isSecureBrowserRequiredToTake(),n=e&&e!==I.b;return t||n}};j=Object(o.a)([Object(o.c)(0,Object(f.b)("scope")),Object(o.c)(1,Object(f.b)(r.b)),Object(o.c)(2,Object(f.b)(s.b)),Object(o.c)(3,Object(f.b)(c.d)),Object(o.c)(4,Object(f.b)(a.e))],j);class E{constructor(e){this.$injector=e,this.restrict="E",this.template=y,this.scope=!1,this.link=e=>{if(e.contentItemCourseOutline=this.$injector.instantiate(j,{scope:e}),e.content.getAssociatedGradingColumn()){const t=e.content.getAssociatedGradingColumn().gradebookCategory;t&&!t.isUserDefined?(e.contentItemCourseOutline.groupAssessmentFtueKey="components.directives.content-item-base.group-assessment-description."+t.title,e.contentItemCourseOutline.groupAssessmentFtueTitleKey="components.directives.content-item-base.group-assessment-title."+t.title):(e.contentItemCourseOutline.customCategory=t&&t.title,e.contentItemCourseOutline.groupAssessmentFtueKey="components.directives.content-item-base.group-assessment-description.custom",e.contentItemCourseOutline.groupAssessmentFtueTitleKey="components.directives.content-item-base.group-assessment-title.custom")}else e.contentItemBase.courseLinkContentHandler.isEqualTo(e.content.contentHandler)&&(e.contentItemCourseOutline.groupAssessmentFtueKey=`components.directives.content-item-base.group-assessment-description.${x.W.Discussion}`,e.contentItemCourseOutline.groupAssessmentFtueTitleKey=`components.directives.content-item-base.group-assessment-title.${x.W.Discussion}`)}}}E.$inject=["$injector"],i.module(A,[l.a,d.a,g.a,h,s.a,c.b,a.b,k]).directive("bbContentItemCourseOutline",["$injector",e=>e.instantiate(E)])},"dL5/":function(e,t){e.exports='<span class="group-count-directive" bb-load-bundle="components/directives/group/group-count">\n  <bb-translate translate-values="{number: $ctrl.content.assignedGroups.length}"\n                ng-if="!$ctrl.isSelfEnrollment()">components.directives.group-count.groups.plural</bb-translate>\n  <bb-translate translate-values="{number: $ctrl.content.assignedGroups.length}"\n                ng-if="$ctrl.isSelfEnrollment()">components.directives.group-count.groups.selfEnroll.plural</bb-translate>\n</span>\n'},e7Kn:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var o=n("D57K"),i=(n("1/hr"),n("Llzl")),s=n("lx16"),c=n("0JpG"),a=n("kC07"),r=n("RPq7"),l=n("nYZ0"),d=n("LdA1"),u=n("sLTT"),p=n("M8+u"),h=n("D8d/"),m=n("L+81"),b=n("lr7J"),g=n("aHpC"),v=n("pjml"),f=n("rtZE"),w=n("tfx2"),C=n("lEL+"),y=n("gkef"),I=n("oQrK"),O=n("fN3Q"),S=n("hDL0"),k=n("W6wm");const x="ultra.directives.contentOutline";let A=class{constructor(t,n,o,i,s,c,a,r){this.scope=t,this.element=n,this.ContentService=i,this.CourseContentModel=s,this.timeout=c,this.windowService=a,this.localizeService=r,this.cloudUploadInProgress={},this.showContentImportProgress=!1,this.LARGE_CONTAINER_SELECTOR=".bb-offcanvas-panel-wrap .panel-wrap",this.SMALL_CONTAINER_SELECTOR=".bb-offcanvas-panel-wrap .panel-wrap .panel-content",this.getContentTrackingId=e=>null!=e.id?e.id:(e.ui.tempId||(e.ui.tempId=this.getTempId()),e.ui.tempId),this.contextArea=t.contextArea,this.addContentButtonLocation=null,this.loadMoreChildren=t.loadMoreChildren,this.parentFolder=t.parentFolder,this.onFileDropHandler=t.onFileDropHandler,this.onMoveHandler=t.onMoveHandler,this.onMoveIntoFolderHandler=t.onMoveIntoFolderHandler,this.canMove=t.canMove&&(!t.contents.permissions||t.contents.permissions.move),this.showMenuOverride=!1,null!=t.contents&&"function"==typeof t.contents.$asPromise&&t.contents.$asPromise().then((()=>{this.showMenuOverride=0===t.contents.length})),this.placeholderContent=this.CourseContentModel.$buildRaw({id:this.parentFolder&&this.parentFolder.id&&this.parentFolder.id+"_placeholder",parentId:this.parentFolder&&this.parentFolder.id,contentHandler:v.p.ContentHandler.Unknown.toString(),depth:this.parentFolder&&this.parentFolder.depth&&this.parentFolder.depth+1}),t.$watch("contents.length",((o,i)=>{this.showMenuOverride=0===o,this.placeholderContent.id=this.parentFolder&&this.parentFolder.id&&this.parentFolder.id+"_placeholder",this.placeholderContent.parentId=this.parentFolder&&this.parentFolder.id,this.resetMovableAddContentButton(n),o<i&&(t.$emit("content-outline-infinite-scroll-check"),e(`#add-button${this.scope.parentFolder.id}`).appendTo(e(`#add-button-container${this.scope.parentFolder.id}`)))})),t.$eval(o.showContentImportProgress)&&this.addImportPlaceholder(),t.$on("bb-drag-start",(()=>{this.resetMovableAddContentButton(n)})),t.$on("keyboard-drag-start",(()=>{this.resetMovableAddContentButton(n)})),t.$on("showContentImportProgress",((e,t,n)=>{"-1"!==n&&this.parentFolder.id!==n||this.addImportPlaceholder()})),t.$on(w.b,((e,t)=>{this.cloudUploadInProgress[t]||(this.cloudUploadInProgress[t]=!0)}))}resetMovableAddContentButton(e){this.addContentButtonLocation=null,e.append(this.getMovableAddContentButton())}addImportPlaceholder(){this.ContentService.getOrMakeContentInContentTree(this.parentFolder,this.parentFolder.courseId,void 0,this.parentFolder.id,"start").then((t=>{t.content.ui.importPlaceholder=!0,this.timeout((()=>{e(".placeholder-container").closest(".js-content-div").scrollintoview({duration:300})}),this.scope,0,!1)}))}getScrollContainerSelector(){return this.windowService.isLargeBreakpoint()?this.LARGE_CONTAINER_SELECTOR:this.SMALL_CONTAINER_SELECTOR}getScrollForceShowSelector(){return`.${a.a}`}isAllContentsLoaded(){return!!(this.scope.contents&&this.scope.contents.paging&&this.scope.contents.paging.count)&&this.scope.contents.length>=this.scope.contents.paging.count}isAddContentButtonUnattached(e){return!!e&&(!this.addContentButtonLocation||e!==this.addContentButtonLocation.id)}placeAddButton(t,n=!1){const o=this.parentFolder?`.movable-add-content-button-folder${this.parentFolder.id}`:"";if(!this.isAddContentButtonUnattached(t.id)||this.contextArea===k.a.Discussions||void 0===t.id)return;const i=!!document.querySelector(".ms-ContextualMenu-list.is-open");!n&&i||(this.getMovableAddContentButton().appendTo(e(`#add-button-placeholder${t.id}`)),this.addContentButtonLocation=t,this.scope.$broadcast("change-add-content-button-position",{reopen:i}),n&&this.element.find(`.movable-add-content-button.movable-add-content-button${o} .button-add-content.js-show-add-options`).focus())}getMovableAddContentButton(){const e=this.parentFolder?`.movable-add-content-button-folder${this.parentFolder.id}`:"";return this.element.find(`.movable-add-content-button${e}`)}getAddButtonLineLabel(e){return this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"components.directives.add-content-button.aria-label.content.add-button-label-item-name-after",params:{itemName:e},noWrap:!0,noEscape:!0})}isMobileDevice(){return I.a.detect().mobile()}shouldShowMenuOverride(){return(!this.parentFolder||0!==this.parentFolder.depth)&&this.showMenuOverride}shouldShowAddButton(){return this.scope.isFirst||this.scope.contents&&0===this.scope.contents.length}hasId(e){return this.scope.contents.some((t=>t.ui.tempId===e||t.id===e))}getTempId(){let e,t=!1;for(;!t;)e=Object(O.v4)(),t=!this.hasId(e);return e}isProgressTrackingStateShown(e){var t;return null===(t=e.permissions)||void 0===t?void 0:t.canViewReviewState}};A=Object(o.a)([Object(o.c)(0,Object(g.b)("scope")),Object(o.c)(1,Object(g.b)("element")),Object(o.c)(2,Object(g.b)("attrs")),Object(o.c)(3,Object(g.b)(l.f)),Object(o.c)(4,Object(g.b)(v.p.serviceName)),Object(o.c)(5,Object(g.b)(C.b)),Object(o.c)(6,Object(g.b)(y.b)),Object(o.c)(7,Object(g.b)(c.serviceName))],A);class j{constructor(e,t){this.link=e,this.recursionHelper=t,this.replace=!0,this.restrict="E",this.scope={canCreate:"=",contents:"=",contextArea:"=",loadMoreChildren:"=",isFirst:"=",parentFolder:"=",onFileDropHandler:"=?",onMoveHandler:"=",onMoveIntoFolderHandler:"=?",canMove:"=",canCreateAllContents:"=?",canCopyImport:"=?",hideAddMenuOverride:"=?"},this.compile=e=>this.recursionHelper.compile("content-outline-directive",e,this.link),this.template=S}}j.$inject=["link",f.b],i.module(x,[s.a,a.b,u.a,p.a,d.a,r.b,l.d,h.a,m.a,b.b,f.a,y.a,c.moduleName]).directive("bbContentOutline",["$injector",l.f,e=>e.instantiate(j,{link:(t,n,o)=>{t.contentOutline=e.instantiate(A,{scope:t,element:n,attrs:o})}})])}).call(this,n("71td"))},eWdw:function(e,t,n){},eYRL:function(e,t){e.exports='<ng-switch on="targetContent.contentHandler.toString()">\n  <a ng-switch-when="resource/x-bb-forumlink" class="content-title"\n     bb-peek-sref="discussion.view.with-grading({contentId:\'{{targetContent.id}}\'})"\n     bb-prevent-click-if="targetContent.isConditionalReleaseLocked()"\n     aria-describedby="{{ariaDescribedBy}}"\n     analytics-id="course.link.item.forumLink.link"\n     aria-hidden="{{ aria }}"\n     tabindex="{{ tabbable ? -1 : 0 }}"><span>{{ content.title }}</span></a>\n  <div ng-switch-default class="content-title">{{ content.title }}</div>\n</ng-switch>\n'},ga7A:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("Llzl"),i=n("pjml"),s=n("vhkR"),c=n("X455"),a=n("Youf"),r=n("Y+9S");const l="ultra.components.directives.content.contentItem.contentItemType.contentItemLtilaunch";class d{constructor(e,t,n){this.scope=e,this.ltiService=t,this.contextCourseMembership=n}ltiLaunch(){if(!this.scope.content.getContentDisplay().isLtiLink())throw new Error("Attempted to LTI launch a non-LTI content item. "+this.scope.content.contentHandler.toString());this.notifyMobileAppOnItemClick(),this.ltiService.ltiLaunch({courseId:this.scope.content.courseId,contentId:this.scope.content.id,content:this.scope.content,showPreLaunchPanel:!0})}notifyMobileAppOnItemClick(){const e={type:r.c.LTILaunched,status:r.b.Success,contentId:this.scope.content.id,contentTitle:this.scope.content.title,contentType:r.e.LTIConnection};Object(r.r)(e)}ltiLinkNeedsApproval(){const e=this.ltiService.getDomainConfigStatusType(this.scope.content);return i.K.LTIStatusType.NeedsApproval===e}}d.$inject=["scope",s.b,c.d];class u{constructor(e){this.$injector=e,this.restrict="E",this.template=a,this.scope=!1,this.link=(e,t,n)=>{e.contentItemLtiLaunch=this.$injector.instantiate(d,{scope:e,element:t,attrs:n})}}}u.$inject=["$injector"],o.module(l,[s.a,c.a]).directive("bbContentItemLtilaunch",["$injector",e=>e.instantiate(u)])},hDL0:function(e,t){e.exports='<div class="content-outline" bb-load-bundle="components/directives/content/content-outline">\n  <bb-add-content-button ng-if="!hideAddMenuOverride && canCreate"\n                         can-create-all-contents="canCreateAllContents"\n                         is-render-by-default="contentOutline.parentFolder.depth === 0"\n                         show-menu-override="contentOutline.shouldShowMenuOverride()"\n                         parent-id="contentOutline.parentFolder.id" root-content="contentOutline.parentFolder"\n                         position-before="\'start\'" item-name="contents[0].title"\n                         depth="(contentOutline.parentFolder.depth + 1)"\n                         always-show="contentOutline.shouldShowAddButton()" context-area="contentOutline.contextArea"\n                         can-copy-import="canCopyImport">\n  </bb-add-content-button>\n  <div class="add-element" ng-if="hideAddMenuOverride && !canCreate"> </div>\n  <div ng-if="contents">\n    <div class="content-outline-scroll-container"\n         bb-infinite-scroll="contentOutline.loadMoreChildren(contentOutline.parentFolder)"\n         infinite-scroll-immediate-check="true" infinite-scroll-disabled="contentOutline.isAllContentsLoaded()"\n         infinite-scroll-container="contentOutline.getScrollContainerSelector()"\n         infinite-scroll-listen-for-event="content-outline-infinite-scroll-check"\n         infinite-scroll-current-count="contents.length" infinite-scroll-total-count="contents.paging.count"\n         infinite-scroll-load-limit="contents.paging.limit"\n         infinite-scroll-tray-id="content-outline-{{::contentOutline.parentFolder.id}}"\n         infinite-scroll-focusable-children-selector=".content-title"\n         infinite-scroll-localization-keys-prefix="components.directives.content.content-outline.infiniteScroll.{{::contentOutline.contextArea === \'discussions\' ? \'discussions\' : \'content\'}}"\n         infinite-scroll-force-show-ancestor-selector="{{::contentOutline.getScrollForceShowSelector()}}"\n         sortable-parent>\n      <div class="content-outline-scroll-list" data-parent-id="{{::contentOutline.parentFolder.id}}">\n        <div class="js-content-div drag-element"\n             ng-class="{\'last\': $last, \'has-conversation-indicator\': content.ui.hasIndicator}"\n             ng-repeat="content in contents track by contentOutline.getContentTrackingId(content)" data-content-id="{{content.id}}"\n             ng-mouseenter="contentOutline.placeAddButton(content)">\n            <ng-switch on="(content.isFolder() && !content.isBbPage()) || content.isLearningModule()">\n              <div ng-switch-when="true">\n                <bb-folder root-content="contentOutline.parentFolder"\n                          on-file-drop-handler="contentOutline.onFileDropHandler"\n                          on-move-handler="contentOutline.onMoveHandler"\n                          on-move-into-folder-handler="contentOutline.onMoveIntoFolderHandler" contents="contents"\n                          content="content" next-content-id="contents[$index + 1].id"\n                          previous-content-id="contents[$index - 1].id"\n                          load-more-children="contentOutline.loadMoreChildren" can-create="canCreate"\n                          can-move="contentOutline.canMove" context-area="contentOutline.contextArea"\n                          can-copy-import="canCopyImport"></bb-folder>\n              </div>\n              <div ng-switch-when="false" bb-drag drag-item="::content.id" can-move="contentOutline.canMove">\n                <div ng-if="!content.isGroupContent || content.assignedGroups.length >= 0 || contentOutline.canMove">\n                  <div bb-drop-handler on-file-drop-handler="contentOutline.onFileDropHandler"\n                      on-move-handler="contentOutline.onMoveHandler"\n                      on-move-into-folder-handler="contentOutline.onMoveIntoFolderHandler" content="content"\n                      root-content="contentOutline.parentFolder" next-content-id="contents[$index + 1].id"\n                      previous-content-id="contents[$index - 1].id">\n                    <div class="row collapse element-list-row js-course-skip-link-target" can-create="canCreate"\n                        can-move="contentOutline.canMove" bb-content-item-mouseover\n                        ng-class="{ \'element-list-row-extra-icon\': contentOutline.isProgressTrackingStateShown(content) }">\n                      <bb-content-item-base contents="contents" content="content" context-area="contentOutline.contextArea"\n                                            can-move="contentOutline.canMove"\n                                            item-before="contents[$index - 1]"\n                                            item-after="contents[$index + 1]"\n                                            ></bb-content-item-base>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </ng-switch>\n\n            <div id="add-button-placeholder{{content.id}}"\n                class="add-element-container"\n                ng-if="::canCreate">\n              <div ng-if="contentOutline.isAddContentButtonUnattached(content.id)"\n                  id="add-button-line{{content.id}}" class="add-element" tabindex="0" role="button"\n                  ng-class="{\'mobile-center-content-button\': contentOutline.isMobileDevice()}"\n                  aria-label="{{::contentOutline.getAddButtonLineLabel(content.title)}}"\n                  ng-focus="contentOutline.placeAddButton(content, true)">\n                <bb-svg-icon size="small" icon="add" class="mobile-add-content-icon" ng-if="contentOutline.isMobileDevice()"></bb-svg-icon>\n              </div>\n            </div>\n          <bb-progress\n              ng-if="contentOutline.cloudUploadInProgress[content.id]"\n              target-div="#progress{{content.id}}"\n              primary-key="\'progress\' + content.id"\n              display-results="false"\n          >\n          </bb-progress>\n        </div>\n        <div class="drag-element">\n          <div drag-item-id="{{contentOutline.placeholderContent.id}}"></div>\n          <div class="drop-placeholder" bb-drop-handler content="contentOutline.placeholderContent"\n               on-move-handler="contentOutline.onMoveHandler"\n               on-move-into-folder-handler="contentOutline.onMoveIntoFolderHandler">\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- LRN-123904: For file upload content items `positionAfter` is set to `content.id` in course-outline.html. But when file upload is\n  in progress, `content.id` stays undefined. As a result `positionAfter` receives undefined.\n  `positionAfter` value is not used when `content.id` is not available. i.e.: When upload-in-progress file is very first item - `positionAfter` value is not\n  available, therefore `positionBefore` is used instead. --\x3e\n  <bb-add-content-button\n    class="movable-add-content-button movable-add-content-button-folder{{::contentOutline.parentFolder.id}}"\n    ng-hide="!contentOutline.addContentButtonLocation"\n    ng-if="::canCreate && !content.ui.importPlaceholder"\n    can-create-all-contents="canCreateAllContents"\n    content="contentOutline.addContentButtonLocation"\n    root-content="contentOutline.parentFolder"\n    is-button-location-changable="true"\n    parent-id="contentOutline.parentFolder.id"\n    position-after="contentOutline.addContentButtonLocation.id || contentOutline.addContentButtonLocation.positionAfter"\n    position-before="(contentOutline.addContentButtonLocation.id || contentOutline.addContentButtonLocation.positionAfter) ? null : contentOutline.addContentButtonLocation.positionBefore"\n    item-name="contentOutline.addContentButtonLocation.title"\n    depth="contentOutline.addContentButtonLocation.depth"\n    context-area="contentOutline.contextArea"\n    can-copy-import="canCopyImport">\n  </bb-add-content-button>\n</div>\n'},hKQ4:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-discussion",use:"icon-small-discussion-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-discussion"><path d="M15 8c0 3.866-3.134 7-7 7a6.983 6.983 0 01-2.528-.4704L1 15l.5-4.3969C1.1775 9.7984 1 8.9199 1 8c0-3.866 3.134-7 7-7s7 3.134 7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="5" cy="8" r=".5" /><circle cx="8" cy="8" r=".5" /><circle cx="11" cy="8" r=".5" /></symbol>'});i.add(s);e.exports=s},j3m2:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-chat",use:"icon-small-chat-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-chat"><path d="M15 8c0 3.866-3.134 7-7 7a6.983 6.983 0 01-2.528-.4704L1 15l.5-4.3969C1.1775 9.7984 1 8.9199 1 8c0-3.866 3.134-7 7-7s7 3.134 7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},kC07:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return ae})),n.d(t,"a",(function(){return re}));var o=n("D57K"),i=(n("DXZ4"),n("Ne7M"),n("yiTm"),n("UEFj"),n("j3m2"),n("qDdO"),n("ueuW"),n("85nY"),n("hKQ4"),n("/9iQ"),n("7XaY"),n("Mnbc"),n("NEyJ"),n("p/lC"),n("nsO7")),s=n("Llzl"),c=n("yC9S"),a=n("+O05"),r=n("FpRh"),l=n("laCM"),d=n("cs5G"),u=n("nYZ0"),p=n("bhWV"),h=n("xAaQ"),m=n("ga7A"),b=n("z+6U"),g=n("LFd7"),v=n("Fvsw"),f=n("Et3n"),w=n("5Tom"),C=n("Qbdf"),y=n("X455"),I=n("bF8R"),O=n("UioO"),S=n("jhBu"),k=n("Oyr+"),x=n("ujI6"),A=n("0JpG"),j=n("vhkR"),E=n("w9Zy"),R=n("r6lH"),T=n("lEL+"),L=n("Tn43"),P=n("lmMM"),$=n("4nF1"),M=n("IWgv"),D=n("LecS"),B=n("aCck"),F=n("Ocaa"),z=n("Sa5G"),G=n("ZQFV"),V=n("oi1r"),N=n("pjml"),q=n("JNtI"),H=n("0rzL"),_=n("nmzr"),U=n("TnpK"),K=n("a2qY"),W=n("aTRN"),J=n("+4Px"),Y=n("agzH"),Q=n("BLb8"),X=n("aHpC"),Z=n("/5AG"),ee=n("Htol"),te=n("IbyE"),ne=n("zGdY"),oe=n("kcGO"),ie=n("9OUN"),se=n("Y+9S"),ce=n("m5Qz");const ae="ultra.directives.contentItemBase",re="base-content-item";let le=class{constructor(e,t,n,o,s,a,r,l,d,u,p,h,m,b,g,v,f,w,C,y){this.$q=t,this.$rootScope=n,this.$ngRedux=o,this.element=s,this.scope=a,this.CourseModel=r,this.schemaService=l,this.contentService=d,this.contextService=u,this.contextCourse=p,this.contextCourseMembership=h,this.courseContentService=m,this.entitlementService=b,this.localizeService=g,this.ltiService=v,this.telemetryService=f,this.timeoutService=w,this.ultraState=C,this.allyService=y,this.courseLinkContentHandler=N.p.ContentHandler.CourseLink,this.disableRestricted=!1,this.displayTelemetryUserActivity=!1,this.displayTelemetryDiscussionActivity=!1,this.entitledToDesignAssessment=!1,this.isModifyPermissionLoaded=!1,this.isGettingConfirmationOptions=!1,this.getNextReviewState=()=>ne.u.Started===this.contentReviewState?ne.u.Completed:ne.u.Completed===this.contentReviewState?ne.u.Started:null,this.onReviewStateIconClick=()=>{const e=this.getNextReviewState();if(!this.scope.content.canUpdateReviewState()||this.scope.content.inSequence||!e||!this.scope.content.courseId||!this.scope.content.id)return this.$q.resolve();const t=this.updateContentReviewState(this.scope.content.courseId,this.scope.content.id,e);return this.$q.when(t).then((()=>{}))},this.showEditButtonFromLTILink=()=>!this.isExcludedOrDeletedLtiToolProvider()&&!!this.ltiService.placementExists(this.scope.content),this.displayGradeInfo=!1,this.isLate=!1,this.scope.shouldShowContent=!0,this.canViewGroups=this.entitlementService.isEntitled(z.o.ViewGroups),this.hasViewGroupsAsAdmin=this.entitlementService.isEntitled(z.o.ViewGroupsAsAdmin),this.courseId=p.courseId?p.courseId:this.ultraState.params.courseId,this.conditionalRelease=e.instantiate(W.a,{scope:a}),this.subscribeToReduxChanges();const I=this.entitlementService.isUserEntitledToRetrieveCourseProgressConfiguration(this.contextCourseMembership.isStudentMembership());!this.courseProgressConfiguration&&this.retrieveCourseProgressConfiguration&&I&&this.retrieveCourseProgressConfiguration({courseId:this.courseId}),this.scope.content.$then((e=>{this.entitlementService.hasAnyCourseEntitlement([z.j.ModifyAssessment,z.j.ViewAssessment],e.courseId).then((t=>{if(this.entitledToDesignAssessment=t,this.isModifyPermissionLoaded=!0,e.canHaveAttempts()&&!this.entitledToDesignAssessment&&e.contentDetail){const t=e.getAssociatedGradingColumn(),n=r.$new(e.courseId).gradebook.columns.$buildRaw(t);let o;this.scope.gradingColumn=n,o=this.displayGradeInfo?this.courseContentService.loadContentAndGrades({course:this.CourseModel.$buildRaw({id:e.courseId}),content:e,column:n}):this.$q.when({courseContent:e,gradingColumn:n}),o.then((e=>{this.displayGradeInfo&&this.scope.gradingColumn.isLate()&&(!e.gradeDetail||e.gradeDetail.ui.attempt.isInProgress())&&(this.isLate=!0),this.isGradeLoaded=!0,e.gradeDetail&&e.gradeDetail.column.id===n.id&&(this.scope.gradeDetail=e.gradeDetail)}))}else this.isLate=!1,this.isGradeLoaded=!0})),this.entitlementService.hasAnyCourseEntitlement([G.q.ViewGrades],e.courseId).then((e=>{this.canViewQuestionAnalysis=e})),this.contextService.getSystemInfo().$asPromise().then((e=>{e.telemetryEnabled&&(this.telemetryService.determineContentSupportsActivityData(this.scope.content).then((e=>{this.displayTelemetryUserActivity=e&&!this.contextCourseMembership.isStudentMembership()})),this.displayTelemetryDiscussionActivity=this.shouldShowDiscussionAnalytics()&&!this.contextCourseMembership.isStudentMembership())})),this.allyService.isAvailable().then((e=>{e&&this.allyService.isAllySupportedContentItem(this.scope.content)?(this.canShowAlly=!0,this.updateAlly()):this.canShowAlly=!1;const t=this.getOverflowMenu();this.isAllyInstructor=this.allyService.isAllyInstructor(),this.$rootScope.$broadcast("menuItems.update",this.scope.content.id,t)})),a.content.title||N.p.ContentHandler.UltraAssignment.isEqualTo(this.scope.content.contentHandler)||N.p.ContentHandler.TestLink.isEqualTo(this.scope.content.contentHandler)||this.localizeService.loadBundle("features/course/content/course-content").then((()=>{a.content.title=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"course.content.contentTitlePlaceholder"})}));const t=e=>{e.getLinkContentSource().$then((e=>{this.targetContent=e,this.contentHandler=e.contentHandler&&e.contentHandler.toString()}),(t=>{403===t.$response.status&&i.remove(this.scope.contents,(t=>t.$pk===e.$pk))}))};this.scope.$watch("::content.id",(()=>{if(N.p.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler))if(this.scope.content.contentDetail)t(this.scope.content);else{const e=this.scope.$watch("content.isConditionalReleaseUnlocked()",(n=>{n&&(t(this.scope.content),e())}))}})),Object(Q.b)(this.scope,((e,t)=>{this.scope.content.isConditionalReleaseLocked()&&this.scope.content.containsCriteriaWithGradeColumnId(t)&&Object(Q.c)(this.scope,t)})),Object(Q.a)(this.scope,(()=>{this.scope.content.isConditionalReleaseLocked()&&Object(Q.c)(this.scope)})),c.b.OnRootScope(this.scope,"grade-attempt",((e,t,n)=>{this.scope.content.id===t&&(this.scope.gradeDetail=n)})),a.content.contentHandler?a.content.isBbPage()?this.contentHandler=N.p.ContentHandler.Document.toString():this.contentHandler=a.content.contentHandler.toString():this.contentHandler=N.p.ContentHandler.Document.toString(),this.disableRestricted=N.p.ContentHandler.PartnerCloud.isEqualTo(this.contentHandler),this.conditionalRelease.getConditions(this.scope.content),this.hasViewB2Entitlement()})),this.scope.$on("refresh-conditional-release-rules",((e,t)=>{this.scope.content.id===t.id&&this.conditionalRelease.getConditions(t)})),this.scope.$on("content-update",((e,t)=>{this.scope.content.id!==t.id||this.scope.content.ui.linkSource||(this.scope.content=t),this.scope.content.ui.linkSource&&this.scope.content.ui.linkSource.id===t.id&&(this.scope.content.ui.linkSource=t);const n=this.scope.content.getDueDate();this.scope.dueDate=n&&new Date(n)})),this.scope.$on("bb-update-CR-tooltip",((e,t,n,o)=>{t&&(this.conditionalRelease.gradeCriteria&&this.conditionalRelease.gradeCriteria.gradeColumnId)===t.id&&this.conditionalRelease.getConditions(this.scope.content,n,o)})),this.scope.$on("show-override-message",((e,t,n)=>{this.scope.content&&this.scope.content.id===n&&(t?(this.scope.shouldShowContent=!1,this.overrideMessage=t):this.scope.shouldShowContent=!0)}));const O=i.once((()=>{this.scope.$watch((()=>this.scope.content.getDueDate()),(e=>{this.scope.dueDate=e&&new Date(e)}))}));this.scope.$watch("content.contentHandler",(()=>{a.content.ui.importPlaceholder||O()})),this.scope.$on("discussion-group-content-update",((e,t)=>{this.scope.content&&N.p.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler)&&this.scope.content.contentDetail&&this.scope.content.getLinkContentSource().$then((e=>{e.id===t.id&&this.scope.content.applyGroupSettings(t)}))}))}get canDownload(){return this.scope.content.getContentDisplay().canDownload()}get contentReviewState(){return this.scope.content.state}set contentReviewState(e){e&&this.scope.content&&(this.scope.content.state=e)}subscribeToReduxChanges(){const e=this.$ngRedux.connect((e=>({contentReviewState:te.Yb.contentReviewState.getContentReviewStateForContextUser(e,this.scope.content.id),courseProgressConfiguration:te.Yb.courseProgress.getCourseProgressConfiguration(e,this.courseId)})),(e=>Object(ie.b)({updateContentReviewState:te.V.contentReviewState.persistContentReviewState,retrieveCourseProgressConfiguration:te.V.courseProgress.loadCourseProgressConfiguration},e)))(this);this.scope.$on("$destroy",e)}isEngagementOutline(){return"discussions"===this.scope.contextArea}getDescription(){return this.scope.content.systemGeneratedLocalizableDescription?this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:this.scope.content.systemGeneratedLocalizableDescription.languageKey}):this.scope.content.description}getAriaDescribedBy(){let e="content-item-icon-"+this.scope.content.id;return this.scope.content.ui.hasIndicator&&(e+=" activity-indicator-"+this.scope.content.id),e}getDeleteConfirmationKeyAndShowType(){return this.contentService.generateDeleteConfirmationKey(this.scope.content,this.scope.contextArea).then((e=>({confirmationKey:this.scope.content.ui.deleteConfirmationKey,showType:this.scope.content.ui.modalShowType})))}deleteContent(){N.p.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler)?this.scope.content.getLinkContentSource().$then((e=>{var t;const n=null===(t=null==e?void 0:e.contentHandler)||void 0===t?void 0:t.toString();ne.t.Discussion===n?this._deleteContent(e):this._deleteContentAndBroadcastUpdateCRTooltip()})):this._deleteContentAndBroadcastUpdateCRTooltip()}_deleteContentAndBroadcastUpdateCRTooltip(){this._deleteContent(this.scope.content),this.$rootScope.$broadcast("bb-update-CR-tooltip",this.scope.content.getAssociatedGradingColumn(),"",!0)}_deleteContent(t){t.hasCourseLinks()?t.getSoftLinks().$asPromise().then((e=>{e.length?this.$q.all(e.map((e=>this.CourseModel.$new(t.courseId).contents.$new(e.courseContent).$fetch().$asPromise().then((e=>{this.$rootScope.$broadcast("deleteContent",e,!1)}))))).then((()=>{this.$rootScope.$broadcast("deleteContent",t)})):this.$rootScope.$broadcast("deleteContent",t)})):this.$rootScope.$broadcast("deleteContent",t);const n=this.element.closest(".js-content-div"),o=n.next(".js-content-div");if(o.length>0)o.find(".js-content-item-base").first().find(".content-title").focus();else{const t=n.prev(".js-content-div");if(t.length>0)t.find(".js-content-item-base").first().find(".content-title").focus();else{const t=n.closest(".folder");t.length>0?t.find(".js-content-item-base").first().find(".content-title").focus():this.timeoutService((()=>{e(".js-create").focus()}),this.scope.$root,0,!1)}}}hasSupportedConversation(){return!!this.scope.content.hasConversation()&&$.a.create(this.scope.content).supportsConversations()}shouldShowAlertIcon(){return this.isLate||this.scope.content.canViewAsInstructor()&&this.isUnlaunchableLtiLink()}shouldShowDiscussionAnalytics(){return this.scope.content.contentHandler&&z.g.Discussion.isEqualTo($.a.create(this.scope.content).viewHandler())}shouldShowScormAnalysisReport(){return this.scope.content&&this.entitlementService.isEntitled(G.q.FullGradebookAccess,this.scope.content.courseId||this.courseId)&&this.scope.content.isScorm()&&this.scope.content.hasReport()}getContentProgressRoute(){var e;if(!!(null===(e=this.courseProgressConfiguration)||void 0===e?void 0:e.progressTrackingEnabled)&&this.entitlementService.isEntitled(Z.m.ViewProgressInformation,this.scope.content.courseId||this.courseId))return $.a.create(this.scope.content).getContentProgressRoute()}isUnlaunchableLtiLink(){return this.scope.content.id&&this.scope.content.getContentDisplay().isLtiLink()&&(!this.scope.content.getContentDisplay().isXplorLtiLink()&&!this.ltiService.getLaunchLinkFromContent(this.scope.content)||void 0!==this.ltiService.placementExists(this.scope.content)&&!this.ltiService.placementExists(this.scope.content))}hasViewB2Entitlement(){this.entitlementService.hasSystemEntitlement(z.t.ViewBuildingBlock).then((e=>this.canViewB2=e))}hasLTIToolConfigurationEntitlement(){return this.canViewB2}isExcludedOrDeletedLtiToolProvider(){const e=this.ltiService.getDomainConfigStatusType(this.scope.content);return this.scope.content.id&&this.scope.content.getContentDisplay().isLtiLink()&&(void 0!==this.ltiService.ltiToolProviderExists(this.scope.content)&&!this.ltiService.ltiToolProviderExists(this.scope.content)||N.K.LTIStatusType.Excluded===e)}showVisibility(){return!this.isUnlaunchableLtiLink()&&!this.scope.hideVisibilitySelector}usesEditButton(){const e=this.scope.content.getContentDisplay();return e.usesEditButton()&&e.canUseEditButton()}openEditContentPanel(){this.ultraState.goPeekState(this.scope.content.getContentDisplay().getEditState(),this.scope.content.getContentDisplay().getEditStateParams())}updateContentVisibility(){return this.targetContent&&this.scope.content?(this.targetContent.applyAvailabilitySettings(this.scope.content),this.updateVisibilityImpl(this.targetContent).then((()=>this.updateVisibilityImpl(this.scope.content)))):this.scope.content?this.updateVisibilityImpl(this.scope.content):this.$q.resolve()}updateVisibilityImpl(e){e.visibility=this.contentService.determineVisibility(e.isAvailable);const t=["isAvailable","isPartiallyVisible","adaptiveReleaseRules"],n=e.getAssociatedGradingColumn();return n&&(n.visible=e.isAvailable,t.push("contentDetail")),e.withParams({fields:"id"}).$save(t).$asPromise().then((()=>{this.$rootScope.$broadcast("content-update",e)}))}updateAlly(){this.canShowAlly&&this.allyService.update(this.scope,this.scope.content.id,this.allyService.getXythosIdFromContentItem(this.scope.content))}getOverflowMenu(){return[{icon:"draw",labelKey:"global.edit",show:()=>{var e,t;let n=this.isGettingConfirmationOptions?this.lastIsEditButtonShow:this.usesEditButton();return this.scope.content.isLtiLink()&&(null===(t=null===(e=this.scope.content.contentDetail)||void 0===e?void 0:e[this.contentHandler])||void 0===t?void 0:t.itemOrigin)===te.D.CloudDocument&&(n=this.showEditButtonFromLTILink()&&this.scope.content.canViewAsInstructor()),this.lastIsEditButtonShow=n,n},onClick:this.openEditContentPanel.bind(this)},{icon:"conversation",labelKey:"components.directives.content-item-base.overflow-menu.open-conversation",show:this.hasSupportedConversation.bind(this),onClick:()=>{this.ultraState.goPeekState("conversations",{courseId:this.scope.content.courseId,contentId:this.scope.content.id})}},{icon:"beast-analytics",labelKey:"components.directives.content-item-base.overflow-menu.student-activity",show:()=>this.displayTelemetryUserActivity&&!this.isAnonymouslyGraded(),onClick:()=>{this.ultraState.goPeekState(_.K.CONTENT_ACTIVITY_IN_DETAIL,{contentId:this.scope.content.id})}},{icon:"beast-analytics",uniqueId:"scorm-analytics-report",labelKey:"components.directives.content-item-base.overflow-menu.view-analytics",show:()=>this.shouldShowScormAnalysisReport()&&!this.contextCourseMembership.isStudentMembership(),onClick:()=>{this.ultraState.goPeekState("scorm-analytics-report",{courseId:this.scope.content.courseId,contentId:this.scope.content.id})}},{icon:"beast-analytics",uniqueId:"discussion-insights",labelKey:"components.directives.content-item-base.overflow-menu.view-analytics",show:()=>this.displayTelemetryDiscussionActivity,onClick:()=>{const e=this.scope.content.contentDetail["resource/x-bb-courselink"]?this.scope.content.contentDetail["resource/x-bb-courselink"].linkSourceId:this.scope.content.id;this.ultraState.goPeekState(_.K.DISCUSSION_FORUM_INSIGHTS,{contentId:e,forumContentId:this.scope.content.id})}},{icon:"question-analysis",labelKey:"components.directives.content-item-base.overflow-menu.question-analysis",show:()=>this.canViewQuestionAnalysis&&this.scope.content.isQuestionAnalysisAvailable(),onClick:()=>{this.ultraState.goPeekState("question-analysis.report",{qaContentId:this.scope.content.id})}},{icon:"class-pulse-future",uniqueId:"content-progress",labelKey:this.contextCourse.course.isOrganization?"components.directives.content-item-base.overflow-menu.content-progress-org":"components.directives.content-item-base.overflow-menu.content-progress",show:()=>void 0!==this.getContentProgressRoute(),onClick:()=>{const e=this.getContentProgressRoute();void 0!==e&&this.ultraState.goPeekState(e.stateName,e.args)}},{icon:"trash",labelKey:"global.delete",show:()=>this.scope.content.canDelete(),onClick:this.deleteContent.bind(this),confirmationOptions:{lazyLoadTitleKeyAndInstructionsKey:()=>(this.isGettingConfirmationOptions=!0,this.getDeleteConfirmationKeyAndShowType().then((e=>{const t=e.confirmationKey.replace(/^resource\//,"");return this.isGettingConfirmationOptions=!1,this.$q.when(q.a(t))})))}},{icon:"download",labelKey:this.canShowAlly?"ally.context_menu.download_original_file":"global.download",show:()=>this.canDownload,onClick:()=>{Object(se.o)(se.c.DownloadLinkClicked),window.open(this.scope.content.getContentDisplay().contentUrl(),"_blank"),this.automaticallyUpdateContentReviewState(this.scope.content)}},{labelKey:"ally.context_menu.view_accessibility_score",icon:"ally-indicator-unscored",show:()=>this.canShowAlly&&this.isAllyInstructor,onClick:()=>{},additionalAttributes:{"data-ally-show":"instructorfeedback","data-ally-content-ref":this.scope.content.id,"data-ally-invoke":"instructorfeedback",style:"display:none;",onkeydown:`(function(e) {\n              if (e.keyCode === ${J.f} || e.keyCode === ${J.t}) {\n                $(e.target).closest("li").click();\n              }\n              })(event)`}},{icon:"ally-alt-formats",labelKey:"ally.context_menu.download_alternative_formats",show:()=>this.canShowAlly&&this.canDownload,onClick:()=>{},additionalAttributes:{"data-ally-show":"alternativeformats","data-ally-content-ref":this.scope.content.id,"data-ally-invoke":"alternativeformats",style:"display:none;",onkeydown:`(function(e) {\n                if (e.keyCode === ${J.f} || e.keyCode === ${J.t}) {\n                 $(e.target).closest("li").click();\n                }\n              })(event)`}}]}overflowMenuIsAllyConditional(){var e;return!(!(null===(e=this.scope.content)||void 0===e?void 0:e.isFile())||0===this.getOverflowMenu().length)&&this.getOverflowMenu().filter((e=>{var t;return null===(t=e.show)||void 0===t?void 0:t.call(e)})).every((e=>{var t;return void 0!==(null===(t=e.additionalAttributes)||void 0===t?void 0:t["data-ally-show"])}))}canShowAllyAlternativeFormats(){var e,t,n,o;return(null===(e=this.scope.content)||void 0===e?void 0:e.isFile())&&Object(ne.Oc)(null===(o=null===(n=null===(t=this.scope.content)||void 0===t?void 0:t.contentDetail)||void 0===n?void 0:n[ne.t.File])||void 0===o?void 0:o.fileAssociationMode)}get deployedAssessment(){return this.scope.content&&this.scope.content.getDeployedAssessment()}isAnonymouslyGraded(){const e=this.scope.content.getAssociatedGradingColumn();return e&&e.anonymousGrading}async editGroups(){let e,t=this.scope.content.id;if(this.scope.content.isAssignment()||this.scope.content.isTest())e=this.deployedAssessment.gradingColumn.id;else if(e=this.scope.gradeColumn&&this.scope.gradeColumn.id,N.p.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler)&&this.scope.content.contentDetail){t=(await this.scope.content.getLinkContentSource().$asPromise()).id}this.ultraState.goPeekState("course-group",{groupCourseId:this.scope.content.courseId||this.ultraState.params.courseId,groupContentId:t,groupColumnId:e})}showOverflowMenu(){const e=this.scope.content;return e.canDelete()||e.canViewAsInstructor()||this.usesEditButton()||e.hasConversation()||this.canDownload||this.canShowAlly&&!e.isConditionalReleaseLocked()}openAssessmentItem(){a.a.isExternalSubmissionsAssessment(this.scope.content)?this.ultraState.goPeekState(_.c.ASSESSMENT_EXTERNAL_OVERVIEW,{contentId:this.scope.content.id}):this.ultraState.goPeekState(_.c.ASSESSMENT_OVERVIEW,{contentId:this.scope.content.id})}onExternalLinkClick(){var e;this.notifyMobileAppOnItemClick(),(null===(e=this.scope.content.permissions)||void 0===e?void 0:e.canHaveReviewState)&&this.automaticallyUpdateContentReviewState(this.scope.content)}automaticallyUpdateContentReviewState(e){const t=Object(oe.f)(e);t&&this.updateContentReviewState(e.courseId,e.id,t).then((()=>{this.$rootScope.$broadcast(ee.b,this.scope.content,t)}))}notifyMobileAppOnItemClick(){let e,t;if(N.p.ContentHandler.File.isEqualTo(this.scope.content.contentHandler)?(e=se.c.FileOpened,t=se.e.Document):N.p.ContentHandler.ExternalLink.isEqualTo(this.scope.content.contentHandler)&&(e=se.c.LinkOpened,t=se.e.Link),N.p.ContentHandler.File.isEqualTo(this.scope.content.contentHandler)||N.p.ContentHandler.ExternalLink.isEqualTo(this.scope.content.contentHandler)){const n={type:e,status:se.b.Success,contentId:this.scope.content.id,contentTitle:this.scope.content.title,contentType:t};Object(se.r)(n)}}getRootClassName(){return re}shouldShowReviewStateIcon(){var e,t;const n=null===(e=this.scope.showReviewStateIcon)||void 0===e||e,o=!!(null===(t=this.courseProgressConfiguration)||void 0===t?void 0:t.progressTrackingEnabled)||this.scope.content.inSequence;return n&&o&&this.contextCourseMembership.isStudentMembership()}getNeighborReviewState(e){return this.scope.content.inSequence&&e&&!e.isUiFolder()?e.state===ne.u.Completed?Z.r.Completed:Z.r.Incomplete:Z.r.None}setForcedSequenceLearningModuleAttributes(){return te.j.isNotAccessibleButVisibleForcedSequenceItem(this.scope.content)}};le=Object(o.a)([Object(o.c)(0,Object(X.b)("$injector")),Object(o.c)(1,Object(X.b)("$q")),Object(o.c)(2,Object(X.b)("$rootScope")),Object(o.c)(3,Object(X.b)("$ngRedux")),Object(o.c)(4,Object(X.b)("element")),Object(o.c)(5,Object(X.b)("scope")),Object(o.c)(6,Object(X.b)(N.m.serviceName)),Object(o.c)(7,Object(X.b)(V.b)),Object(o.c)(8,Object(X.b)(u.f)),Object(o.c)(9,Object(X.b)(v.b)),Object(o.c)(10,Object(X.b)(C.e)),Object(o.c)(11,Object(X.b)(y.d)),Object(o.c)(12,Object(X.b)(I.b)),Object(o.c)(13,Object(X.b)(S.b)),Object(o.c)(14,Object(X.b)(A.serviceName)),Object(o.c)(15,Object(X.b)(j.b)),Object(o.c)(16,Object(X.b)(R.b)),Object(o.c)(17,Object(X.b)(T.b)),Object(o.c)(18,Object(X.b)(U.d)),Object(o.c)(19,Object(X.b)(d.b))],le);class de{constructor(e){this.$injector=e,this.restrict="E",this.scope={content:"=",contents:"=",contextArea:"=",canMove:"=",itemBefore:"<",itemAfter:"<",showReviewStateIcon:"<?",hideVisibilitySelector:"<?"},this.template=K,this.link=(e,t)=>{e.contentItemBase=this.$injector.instantiate(le,{scope:e,element:t}),e.$on(k.e,((n,o,i,s)=>{s===k.c.FileDrop&&e.content===i.content&&(i.targetElement=t.find(".bb-progress"),e.$root.$broadcast(k.e,o,i,e.content.ui.fileUploadId,i.targetElement,k.c.LinkProgress))}))}}}de.$inject=["$injector"],s.module(ae,[p.a,h.a,m.a,b.a,g.a,O.a,f.a,w.b,j.a,E.d,Y.a,P.d,M.a,B.a,D.a,F.a,x.c,A.moduleName,u.d,I.a,V.a,q.b,H.a,L.a,r.a,l.a,ce.a]).directive("bbContentItemBase",["$injector",e=>e.instantiate(de)])}).call(this,n("71td"))},lwNT:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-lock",use:"icon-small-lock-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-lock"><path d="M3 8h10v7H3V8zM5 8V4c0-1.5 1-3 3-3m0 0c.5 0-.5 0 0 0zm0 0c2 0 3 1.5 3 3v4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},m5Qz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("Llzl"),i=n("1ZbL"),s=n("0JpG"),c=n("/5AG");const a="ultra.course.content.outline.react.contentitem.description",r={Class:c.a,renderLocalized:!0,withProvider:!0,bindingNames:["description"]};o.module(a,[s.moduleName]).component("bbCourseContentItemDescription",Object(i.a)(r))},"p/lC":function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-question-analysis",use:"icon-small-question-analysis-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-question-analysis"><path d="M11 1H5l1 2v4l-5 8h14l-5-8V3l1-2zM4.125 10h7.75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},qDdO:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-class-pulse-future",use:"icon-small-class-pulse-future-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-class-pulse-future"><path d="M9 14c0 .5523-.4477 1-1 1s-1-.4477-1-1 .4477-1 1-1 1 .4477 1 1zM11 6.5a.5.5 0 11-1 0 .5.5 0 011 0zM5.5 9.5a.5.5 0 11-1 0 .5.5 0 011 0z" stroke-width="2" /><path d="M15 11l-4.5-4.5-5.5 3-4-2.357" stroke-width="2" /><path d="M9 2c0 .5523-.4477 1-1 1s-1-.4477-1-1 .4477-1 1-1 1 .4477 1 1z" stroke-width="2" /><path d="M15 2H1v12h14V2z" stroke-width="2" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},r133:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var o=n("Llzl"),i=n("Fvsw"),s=n("0JpG"),c=n("0+Qs"),a=n("BXQP");const r="ultra.directives.bbDuration",l="refresh.relative.dates";class d{constructor(e,t,n,o){this.scope=e,this.bbContext=t,this.bbLocalize=n,this.interval=o,this.date="",this.time="",this.lessThanOneDay=!1;const i=e.$watch("date",(()=>{this._localizeRelativeDate(),e.autoUpdate&&!e.autoUpdate()&&e.date&&i()}));e.$on(l,(()=>{this._localizeRelativeDate()})),this.interval((()=>{this._localizeRelativeDate()}),this.scope,d.DEFAULT_REFRESH_INTERVAL)}needAgo(){return!!(this.scope.hasAgo&&this.scope.hasAgo()&&this.lessThanOneDay)}separateDatetime(){return!(!this.scope.separateDatetime||!this.scope.separateDatetime())}_localizeRelativeDate(){if(this.scope.date){let e={},t=new Date;const n=this.scope.isRelativeToServerDate&&this.scope.isRelativeToServerDate();(null==n||n)&&(e={relativeTo:this.bbContext.getServerTime()},t=this.bbContext.getServerTime());const o=t.getTime()-this.scope.date.getTime();if(o>=6e4&&this.scope.date.setSeconds(30),this.lessThanOneDay=o<=864e5,this.needAgo()||this.separateDatetime()){const t=this.bbLocalize.getFormatEnum(s.ILocaleDateFormat,this.scope.dateFormat)||s.ILocaleDateFormat.Short;this.bbLocalize.formatDuration(this.scope.date,this.scope,e,t).then((e=>{this.date=e.date||"",this.time=e.time||""}))}}}}d.DEFAULT_REFRESH_INTERVAL=18e4,d.$inject=["scope",i.b,s.serviceName,c.b];class u{constructor(e){this.$injector=e,this.restrict="E",this.replace=!0,this.template=a,this.scope={date:"=",autoUpdate:"&?",isRelativeToServerDate:"&?",dateFormat:"@?",hasAgo:"&?",separateDatetime:"&?"},this.link=e=>{e.duration=this.$injector.instantiate(d,{scope:e})}}}u.$inject=["$injector"],o.module(r,[i.a,s.moduleName,c.a]).directive("bbDuration",["$injector",e=>e.instantiate(u)])},rtZE:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var o=n("nsO7"),i=n("Llzl");
/*
 * An Angular service which helps with creating recursive directives.
 * @author Mark Lagendijk
 * @license MIT
 */
const s="ultra.service.RecursionHelper",c="recursionHelper";
/**
 * An Angular service which helps with creating recursive directives.
 * @author Mark Lagendijk
 * @license MIT
 *
 * Sample usage:
 * ```typescript
 *
 * var link = (scope: IScope, element: JQuery) => {
 *   // do stuff
 * };
 *
 * var compile = (element: JQuery) => {
 *   return recursiveHelper.compile(element, link);
 * };
 *
 * ```
 *
 */
class a{constructor(e){this.$compile=e,this.compileContents=o.memoize(this.compileContents)}compileContents(e,t){return this.$compile(t)}compile(e,t,n){i.isFunction(n)&&(n={post:n});const o=t.contents();return t.empty(),{pre:n&&n.pre?n.pre:null,post:(t,i,...s)=>{this.compileContents(e,o)(t,(function(e){i.append(e)})),n&&n.post&&n.post.apply(null,[t,i,...s])}}}}a.$inject=["$compile"];i.module(s,[]).service(c,a)},sB2Z:function(e,t){e.exports='<div class="content-wrapper" ng-class="{\'nocontent\': !content.canViewAsInstructor()}">\n  <div class="name">\n    <ng-switch on="content.getContentDisplay().viewHandler()" ng-class="{\'has-indicator\': content.ui.hasIndicator}">\n      <div ng-switch-when="resource/x-bb-folder" class="engagement-folder">\n        <bb-content-item-folder></bb-content-item-folder>\n      </div>\n      <a ng-switch-when="resource/x-bb-forumlink"\n         bb-peek-sref="discussion.view.with-grading({contentId:content.id})"\n         bb-prevent-click-if="content.isConditionalReleaseLocked()"\n         ng-attr-tabindex="{{ content.isConditionalReleaseLocked() ? -1 : 0 }}"\n         class="content-title"\n         analytics-id="content.item.engagement.outline.forumLink.link"\n         aria-describedby="activity-indicator-{{::content.id}}"\n      >\n        <span>{{ content.title }}</span>\n      </a>\n      <div ng-switch-default class="content-title">{{ content.title }}</div>\n      <bb-svg-icon role="img" aria-hidden="false" bb-translate-attrs="::{\'aria-label\':\'components.directives.content-item-base.aria-label.indicator\'}" ng-if="content.ui.hasIndicator" id="activity-indicator-{{::content.id}}" class="indicator" size="small" icon="activity-indicator" status="active"></bb-svg-icon>\n    </ng-switch>\n  </div>\n  <div ng-if="content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date">\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-if="!dueDate" class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-if="dueDate && !gradeDetail" class="content-due-date-label">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-if="dueDate && !gradeDetail" class="content-due-date"></bb-datetime>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date"\n       ng-class="{\'is-late\': contentItemBase.isLate}" ng-switch="dueDate != null">\n    \x3c!-- submission card --\x3e\n    \x3c!--  TODO: submissionCard is disabled until LRN-101279 is fixed --\x3e\n    \x3c!-- <bb-submission-card ng-if="gradeDetail"  grade-detail="gradeDetail" inline="true"></bb-submission-card>\n    <bb-submission-card ng-if="!gradeDetail" grading-column="gradingColumn" inline="true"></bb-submission-card> --\x3e\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-switch-default class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-switch-when="true" class="content-due-date-label">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-switch-when="true" class="content-due-date"></bb-datetime>\n  </div>\n  <div ng-if="contentItemBase.isModifyPermissionLoaded && content.canHaveAttempts() && content.isGroupContent" class="group-info">\n    <div class="group-name">\n      <span><bb-svg-icon size="small" icon="groups"></bb-svg-icon></span>\n      <a href="javascript:void(0);"\n         ng-if="contentItemBase.hasViewGroupsAsAdmin"\n         ng-click="contentItemBase.editGroups()"\n         analytics-id="content.item.engagement.outline.contentItemBase.editGroups.link"\n      >\n        <bb-group-count content="content"></bb-group-count>\n      </a>\n      <span ng-if="contentItemBase.canViewGroups && !contentItemBase.hasViewGroupsAsAdmin">\n        <bb-group-count content="content"></bb-group-count>\n      </span>\n      <div ng-if="!contentItemBase.canViewGroups && !contentItemBase.hasViewGroupsAsAdmin" class="title">\n        <bb-group-student-enrollment content="content"></bb-group-student-enrollment>\n      </div>\n    </div>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.isConditionalReleaseLocked()"\n    role="tooltip"\n    class="lock-info"\n    tabindex="0"\n    bb-complex-tooltip\n    enhanced-tooltip="true"\n    tooltip-position="bottom"\n    tooltip-open-on-activation="true"\n    tooltip-disable-on-mouse-over="true"\n    tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n    tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}">\n    <span bb-translate="components.directives.content-item-base.conditionalRelease.lock-info"></span>\n    <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n  </div>\n  <div class="student-created-info" ng-if="::contentItemEngagementOutline.isDiscussionCreatedByStudent()">\n    <span bb-translate="components.directives.content-item-base.content.discussionAuthorship.student"></span>\n  </div>\n  <div class="name-controls stop-click-propagation"\n    ng-class="{\n      \'name-conditional-release\': !content.canViewAsInstructor() && content.isConditionalReleaseLocked(),\n      \'selector-disabled\': content.isInForcedSequenceModule()\n    }"\n    ng-if="contentItemBase.showVisibility()">\n    <bb-content-visibility-selector content="content"\n                                    link-content="contentItemBase.targetContent"\n                                    onchange-func="contentItemBase.updateContentVisibility()"\n                                    disable-restricted="contentItemBase.disableRestricted"\n                                    open-panel-on-restricted="true"\n                                    verbose-restricted-label="true"></bb-content-visibility-selector>\n  </div>\n  <div ng-if="content.canViewAsInstructor() && content.isConditionalRelease()" class="conditional-release-control">\n    <div class="rules">\n      <a href="javascript:void(0);"\n        ng-click="contentItemEngagementOutline.openConditionalRelease()"\n        bb-complex-tooltip\n        enhanced-tooltip="true"\n        tooltip-position="bottom"\n        tooltip-enable-on-mouse-over-for-all-breakpoints="true"\n        tooltip-enable-on-mouse-leave-for-all-breakpoints="true"\n        tooltip-auto-update="true"\n        tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n        tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}"\n        analytics-id="components.directives.content-item-base.conditionalRelease.link">\n        <span>{{contentItemBase.conditionalRelease.getConditionDescription()}}</span>\n        <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n      </a>\n    </div>\n  </div>\n</div>\n'},sa5q:function(e,t){e.exports='<div ng-switch on="content.canViewAsInstructor() || !content.shouldRestrict()">\n  \x3c!-- Center content title when it is only one line of text (without edit capability, description, or date restrictions). --\x3e\n  <a class="content-title"\n     bb-peek-sref="content-manage.edit.document({id:content.id})"\n     ng-switch-when="true"\n     ng-class="{\'name-middle\': contentItemBase.shouldAlignMiddle()}"\n     aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n     analytics-id="content.item.page.edit.document.link"\n     aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n     tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}">\n     <span>{{ content.title }}</span>\n  </a>\n  <span class="content-title"\n        ng-switch-default\n        ng-class="{\'name-middle\': contentItemBase.shouldAlignMiddle()}"\n        aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n        tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}">{{ content.title }}</span>\n</div>\n'},tecA:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var o=n("D57K"),i=n("Llzl"),s=n("0JpG"),c=n("TnpK"),a=n("+4Px"),r=n("g66W"),l=n("aHpC");const d="text-editor-update-original-value";let u=class{constructor(e,t,n,o,i){this.scope=e,this.element=t,this.ctrl=n,this.bbLocalize=o,this.bbUltraState=i,this.focusOnAuthorControls=!1,this.isTextTouched=!1,this.myDirection="down",this.preventBlur=!1,this.currentStateName=i.current.name,e.disableInlineEditing=null!=e.disableInlineEditing&&e.disableInlineEditing,this.scope.$stopDigestPropagation=!0,this.originalNgModel=this.scope.ngModel,e.direction&&null!=e.direction()&&(this.myDirection=e.direction());const s=!(this.scope.ngModel&&this.scope.ngModel.length);e.$emit("text-editor-empty",{textEditor:this,isEmpty:s}),e.$root.$on("bb-bbml-editor-bbml-pre-redraw",(()=>{this.updateOriginalValues()})),e.$on("text-editor-set-pristine",(()=>{this.isTextTouched=!1})),e.$on("text-editor-viewValue-initialized",(()=>{this.truncatedViewValue=this.ctrl.$viewValue})),e.$on("text-editor-reset-to-original-value",(()=>{this.isDirty()&&this.updateOriginalValues(),this.resetEditor(!1)})),e.$on(d,(()=>{this.updateOriginalValues(),this.isTextTouched=!1})),e.$on("$destroy",(()=>{this.isTextTouched=!1}))}isEditorDirty(){return this.isTextTouched}getContentLabel(){const e=this.getPlaceholderKey();return this.truncatedViewValue||e}getPlaceholderKey(){return this.scope.placeholderAttrsValues===this.originalPlaceholderAttrValues&&null!=this.placeholderText||(this.placeholderText=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:this.scope.placeholderKey,params:this.scope.$eval(this.scope.placeholderAttrsValues)}),this.originalPlaceholderAttrValues=this.scope.placeholderAttrsValues),this.placeholderText}get truncatedViewValue(){return this._truncatedViewValue}set truncatedViewValue(e){const t=this.element.find(".editor-element"),n=t.length?t.text():void 0;this._truncatedViewValue=r.f(n,100)}onChange(e){e&&e.keyCode===a.u||this.scope.hasFocus&&(this.isTextTouched=!0,this.scope.onchangeFunc&&this.scope.onchangeFunc({event:e}))}onKeydown(e){}isUploadProgressModalOpen(){const e=i.element(".progress-indicator-modal");return e&&e.length>0}isAddContentSelectorOpened(){return this.bbUltraState.current.name.length>this.currentStateName.length&&r.i(this.bbUltraState.current.name,this.currentStateName)}onBeforeBlur(){return!this.preventBlur&&!this.scope.disableInlineEditing}onBlur(){return this.scope.hasFocus=!1,this.ctrl.$focused=!1,this.scope.onblurFunc&&this.scope.onblurFunc(),!0}onFocus(){this.focusOnAuthorControls=!1,this.scope.readonly()||this.scope.hasFocus||(this.scope.hasFocus=!0,this.ctrl.$focused=!0,this.scope.onFocusFunc&&this.scope.onFocusFunc(),this.scope.$emit("entering-edit-state"))}isDirty(){return!(this.originalText||this.isTextTouched)}updateOriginalValues(){this.scope.ngModel===this.originalNgModel&&(this.originalText=this.scope.ngModel,this.originalPlainText=this.scope.plainText)}restoreFromOriginalValues(){this.originalText||(this.originalText="",this.originalPlainText=""),this.scope.ngModel=this.originalText,this.scope.plainText=this.originalPlainText}resetEditor(e){this.restoreFromOriginalValues()}isValidInputLength(){let e=null;if(null!=this.scope.getInputMaxLength&&(e=this.scope.getInputMaxLength()),null==e)return!0;if(e){const t=this.scope.plainText;return!!t&&t.trim().length<=e}return!0}};u=Object(o.a)([Object(o.c)(0,Object(l.b)("scope")),Object(o.c)(1,Object(l.b)("element")),Object(o.c)(2,Object(l.b)("ctrl")),Object(o.c)(3,Object(l.b)(s.serviceName)),Object(o.c)(4,Object(l.b)(c.d))],u)},tqR7:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("Llzl"),i=n("lEL+");const s="ultra.components.directives.clickOutside";class c{constructor(e,t,n,o,i){this.scope=e,this.element=t,this.attrs=n,this.$document=o,this.timeout=i;const s=e=>this.applyExpression(e),c=this.getContainer()||o;this.scope.$watch(this.attrs.isActive,((e,t)=>{e?this.timeout((()=>{c.on("click",s)}),this.scope,0,!1):c.off("click",s)})),this.scope.$on("$destroy",(()=>{c.off("click",s)}))}applyExpression(e){const t=this.element.is(e.target),n=this.element.has(e.target).length>0;t||n||this.scope.$apply(this.attrs.bbClickOutside)}getContainer(){if("currentPanelOnly"in this.attrs){let e=this.element;for(;e.parent().length;)if(e=e.parent(),e.is(".bb-offcanvas-panel,#main-content-inner"))return e}}}c.$inject=["scope","element","attrs","$document",i.b];class a{constructor(e){this.$injector=e,this.priority=100,this.restrict="A",this.compile=(e,t)=>({pre:(e,t,n)=>this.$injector.instantiate(c,{scope:e,element:t,attrs:n})})}}a.$inject=["$injector"],o.module(s,[]).directive("bbClickOutside",["$injector",e=>e.instantiate(a)])},uAJz:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-peer-review",use:"icon-small-peer-review-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-peer-review"><path d="M6.5 10C7.8807 10 9 8.8807 9 7.5S7.8807 5 6.5 5 4 6.1193 4 7.5 5.1193 10 6.5 10zM6.5 10C3.2288 10 1 12.5 1 15M11.5 6C12.8807 6 14 4.8807 14 3.5S12.8807 1 11.5 1 9 2.1193 9 3.5 10.1193 6 11.5 6zM12 6c.7226 0 1.4451.464 2 1.0569M10 13l2 2 3-5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},ujI6:function(e,t,n){"use strict";n("RB+a");var o=n("Llzl"),i=n("71td"),s=n("tqR7"),c=n("H8CZ"),a=n("lEL+"),r=n("+4Px"),l=n("ytQ2");n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));const d="ultra.components.directives.foundationOffcanvas",u="OFFCANVASE-TOGGLE-CLOSE",p="OFFCANVAS-TOGGLE-OPEN";class h{constructor(e,t,n,o,s,c,a){this.scope=e,this.element=t,this.attrs=n,this.$compile=o,this.$parse=s,this.$q=c,this.timeout=a,this.overrideButtonClass=!1,this.isPanelOpen=!1,this.justOpenedPanel=!1,this.isFromKeyBoard=!1,this.wiredup=!1,this.position="right",this.dialogModel=!1,this.initialProperties(),a((()=>{if(this.openButtonElement=i("#"+this.attrs.bbFoundationOffcanvasOpenButton),0===this.openButtonElement.length)throw new Error('The bbFoundationOffcanvas directive couldn\'t find an "Open Menu" button with an ID of '+this.attrs.bbFoundationOffcanvasOpenButton);this.openButtonElement.on("click.bbFoundationOffcanvas",(()=>{this.scope.$apply((()=>{this.togglePanel()}))})),this.openButtonElement.on("keydown.bbFoundationOffcanvas",(e=>{e.keyCode===r.f&&(this.isFromKeyBoard=!0)}))}),e,0,!1)}initialProperties(){this.attrs.bbFoundationOffcanvasPosition&&(this.position=this.attrs.bbFoundationOffcanvasPosition),this.attrs.bbFoundationOffcanvasEventDelegate&&(this.scope.$on(p,(()=>{this.openPanel()})),this.scope.$on(u,(()=>{this.closePanel()}))),this.attrs.bbFoundationOffcanvasDialogModel&&(this.dialogModel=this.attrs.bbFoundationOffcanvasDialogModel)}wireup(){return this.wiredup=!0,this.timeout((()=>{if(this.closeButtonElement=i("#"+this.attrs.bbFoundationOffcanvasCloseButton),0===this.closeButtonElement.length)throw new Error('The bbFoundationOffcanvas directive couldn\'t find a "Close Menu" button with an ID of '+this.attrs.bbFoundationOffcanvasCloseButton);if(this.wrapperElement=this.element,this.offcanvasPanelElement=this.element.children().children(),1!==this.offcanvasPanelElement.length)throw new Error("bbFoundationOffcanvas directive must have exactly one child element. Fix the usage in the html template.");if(this.offcanvasPanelElement.addClass(this.position+"-off-canvas-menu"),this.attrs.bbFoundationOffcanvasOverrideButtonClass&&(this.overrideButtonClass=this.$parse(this.attrs.bbFoundationOffcanvasOverrideButtonClass)(this.scope)),this.offcanvasPanelElement.find("a, button").attr("tabindex","-1"),this.closeButtonElement.addClass("exit-off-canvas-overlay").on("click.bbFoundationOffcanvas",(()=>{this.scope.$apply((()=>{this.closePanel()}))})),this.offcanvasPanelElement.find("a, button").last().on("keydown.bbFoundationOffcanvas",(e=>{e.keyCode!==r.u||e.shiftKey||(e.preventDefault(),this.scope.$apply((()=>{this.closePanel()})))})),this.offcanvasPanelElement.find("a, button").first().on("keydown.bbFoundationOffcanvas",(e=>{e.keyCode===r.u&&e.shiftKey&&(e.preventDefault(),this.scope.$apply((()=>{this.closePanel()})))})),this.scope.$on("foundation-offcanvas-close-panel",(()=>{this.closePanel()})),null!=this.attrs.bbFoundationOffcanvasCommonParent){if(this.commonParent=i("#"+this.attrs.bbFoundationOffcanvasCommonParent),0===this.commonParent.length)throw new Error("The bbFoundationOffcanvas directive couldn't find a common parent element with an ID of "+this.attrs.bbFoundationOffcanvasCommonParent)}else this.commonParent=i(this.wrapperElement).parents().has(this.closeButtonElement).first();if(this.commonParent.hasClass("group-list")||this.commonParent.addClass("off-canvas-wrap off-canvas-overlay"),!this.overrideButtonClass){const e=this.offcanvasPanelElement.find("li").not(".ng-hide").length;this.commonParent.addClass("buttons-"+e)}c.b(this.commonParent,(e=>(this.isPanelOpen&&(e.data.noTransitions||"right"===e.originalEvent.propertyName)&&(this.isFromKeyBoard?this.offcanvasPanelElement.find("a, button").first().focus():(this.offcanvasPanelElement.parent().attr("tabindex",0),this.offcanvasPanelElement.parent().focus())),!1))),this.element.foundation(),this.scope.$on("$destroy",(()=>{this.element.off("click.bbFoundationOffcanvas"),this.closeButtonElement.off("click.bbFoundationOffcanvas"),this.offcanvasPanelElement.find("a, button").last().off("keydown.bbFoundationOffcanvas"),this.offcanvasPanelElement.find("a, button").first().off("keydown.bbFoundationOffcanvas"),this.commonParent.removeClass("off-canvas-wrap off-canvas-overlay")}))}),this.scope,0,!1)}getPosition(){switch(this.position){case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return"right"}}_openPanel(){this.offcanvasPanelElement.css("display","block"),this.justOpenedPanel=!0,this.timeout((()=>{this.offcanvasPanelElement.foundation("offcanvas","show","move-"+this.getPosition()),this.isPanelOpen=!0,this.offcanvasPanelElement.find("a, button").attr("tabindex","0"),this.justOpenedPanel=!1}),this.scope,0,!1)}openPanel(){if(this.wiredup)this._openPanel();else{const e=this.$q.defer();this.scope.$watch("::foundationOffcanvas.wiredup",(t=>{t&&e.resolve()})),this.$q.all([this.wireup(),e.promise]).then((()=>{this._openPanel()}))}}closePanel(){this.offcanvasPanelElement.foundation("offcanvas","hide","move-"+this.getPosition()),this.isPanelOpen=!1,this.isFromKeyBoard=!1,this.offcanvasPanelElement.parent().removeAttr("tabindex"),this.offcanvasPanelElement.find("a, button").attr("tabindex","-1"),this.openButtonElement.focus(),this.timeout((()=>{this.isPanelOpen||this.offcanvasPanelElement.css("display","none")}),this.scope,300,!1)}handleClickOutside(){this.dialogModel||i("body").hasClass("modal-open")||this.justOpenedPanel||this.closePanel()}togglePanel(){this.isPanelOpen?this.closePanel():this.openPanel()}}h.$inject=["scope","element","attrs","$compile","$parse","$q",a.b];class m{constructor(e){this.$injector=e,this.transclude=!0,this.restrict="E",this.link=(e,t,n)=>{if(null==n.bbFoundationOffcanvasOpenButton||null==n.bbFoundationOffcanvasCloseButton)throw new Error('Please provide jQuery selectors for both the "Open Menu" and "Close Menu" buttons');const o=n.$observe("bbFoundationOffcanvasCloseButton",(i=>{i&&(e.foundationOffcanvas=this.$injector.instantiate(h,{scope:e,element:t,attrs:n}),o())}))},this.template=l}}m.$inject=["$injector"],o.module(d,[s.a,a.a]).directive("bbFoundationOffcanvas",["$injector",e=>e.instantiate(m)])},vcLy:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-small-started",use:"icon-small-started-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-started"><circle cx="8" cy="8" r="7" transform="rotate(-90 8 8)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M12 8H4s0 4 4 4 4-4 4-4z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M10.8247 9a3.594 3.594 0 01-.2191.5528c-.1907.3814-.461.7323-.8478.9901C9.3773 10.7966 8.825 11 8 11c-.825 0-1.3773-.2034-1.7578-.4571-.3868-.2578-.657-.6087-.8478-.9901A3.5857 3.5857 0 015.1754 9h5.6493z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},wy9x:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("Llzl"),i=n("Jwnl"),s=n("Y+9S");const c="ultra.components.directives.content.contentItem.contentItemType.contentItemFolder";class a{constructor(e,t,n){this.scope=e,this.element=t,this.attrs=n}toggleFolder(){if(!this.scope.content.ui.isOpen){const e={type:s.c.FolderOpened,status:s.b.Success,contentId:this.scope.content.id};Object(s.r)(e)}this.scope.$emit("toggle-folder",this.scope.content)}shouldAlignMiddle(){const e=this.scope.content;return!e.canViewAsInstructor()&&(!e.description&&(!e.isVisible()||!e.adaptiveReleaseRules))}}a.$inject=["scope","element","attrs"];class r{constructor(e){this.$injector=e,this.restrict="E",this.template=i,this.scope=!1,this.link=(e,t,n)=>{e.contentItemFolder=this.$injector.instantiate(a,{scope:e,element:t,attrs:n})}}}r.$inject=["$injector"],o.module(c,[]).directive("bbContentItemFolder",["$injector",e=>e.instantiate(r)])},xAaQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("Llzl"),i=n("wy9x"),s=n("jhBu"),c=n("Sa5G"),a=n("TnpK"),r=n("sB2Z"),l=n("nmzr");const d="ultra.components.directives.content.contentItem.contentItemEngagementOutline";class u{constructor(e,t,n){this.scope=e,this.entitlementService=t,this.ultraState=n,this.entitlementService.hasCourseEntitlement(c.f.ModifyContent,this.scope.content.courseId).then((e=>{this.entitledToModifyContent=e}))}get canOpenConditionalRelease(){return!!(this.scope.content&&this.scope.content.permissions&&this.scope.content.permissions.adaptiveRelease&&this.scope.content.permissions.adaptiveRelease.view)}openConditionalRelease(){this.isCourseCompletedAndInInstructorView()||this.ultraState.goPeekState(l.k.CONDITIONAL_RELEASE_PEEK_PANEL,{contentId:this.scope.content.id})}isCourseCompletedAndInInstructorView(){return!this.scope.content.canEdit()&&this.scope.content.canViewAsInstructor()}isDiscussionCreatedByStudent(){var e;let t=!1;const n=null===(e=this.scope.content.contentDetail)||void 0===e?void 0:e["resource/x-bb-forumlink"];return n&&(t=n.isDiscussionCreatedByStudent),!!t}}u.$inject=["scope",s.b,a.d];class p{constructor(e){this.$injector=e,this.restrict="E",this.template=r,this.scope=!1,this.link=e=>{e.contentItemEngagementOutline=this.$injector.instantiate(u,{scope:e})}}}p.$inject=["$injector"],o.module(d,[i.a,a.b]).directive("bbContentItemEngagementOutline",["$injector",e=>e.instantiate(p)])},yV5t:function(e,t){e.exports='<a class="content-title"\n   ng-click="contentItemScormLaunch.scormLaunch()"\n   href="javascript:void(0);"\n   aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n   analytics-id="content.item.scormlaunch.link"\n   aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n   tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}">\n  <span>{{ content.title }}</span>\n</a>\n'},yiTm:function(e,t,n){var o=n("ziER"),i=n("5JeM"),s=new o({id:"icon-medium-groups",use:"icon-medium-groups-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-groups"><g clip-path="url(#icon-medium-groups_clip0)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 23.0644C17.3246 21.1155 14.8704 20 12 20s-5.3246 1.1155-7 3.0644M12 20c2.7614 0 5-2.2386 5-5s-2.2386-5-5-5-5 2.2386-5 5 2.2386 5 5 5zM18.5 8C20.433 8 22 6.433 22 4.5S20.433 1 18.5 1 15 2.567 15 4.5 16.567 8 18.5 8z" /><path d="M23 11s-1-3-4.5-3c-2.1456 0-3.3517 1.1274-3.9639 2M5.5 8C3.567 8 2 6.433 2 4.5S3.567 1 5.5 1 9 2.567 9 4.5 7.433 8 5.5 8zM1 11s1-3 4.5-3c2.1456 0 3.3517 1.1274 3.9639 2" /></g><defs><clipPath id="icon-medium-groups_clip0"><path d="M0 0h24v24H0z" /></clipPath></defs></symbol>'});i.add(s);e.exports=s},ytQ2:function(e,t){e.exports='<div ng-if="::foundationOffcanvas.wiredup || undefined"\n      class="bb-foundation-offcanvas"\n      ng-transclude\n      bb-click-outside="foundationOffcanvas.handleClickOutside()"\n      is-active="foundationOffcanvas.isPanelOpen"\n      aria-hidden="{{!foundationOffcanvas.isPanelOpen}}"\n      current-panel-only>\n</div>'},"z+6U":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("Llzl"),i=n("sa5q");const s="ultra.components.directives.content.contentItem.contentItemType.contentItemPage";class c{constructor(e){this.scope=e}shouldAlignMiddle(){return!this.scope.content.canViewAsInstructor()}}c.$inject=["scope"];class a{constructor(e){this.$injector=e,this.restrict="E",this.template=i,this.scope=!1,this.link=(e,t,n)=>{e.contentItemPage=this.$injector.instantiate(c,{scope:e,element:t,attrs:n})}}}a.$inject=["$injector"],o.module(s,[]).directive("bbContentItemPage",["$injector",e=>e.instantiate(a)])}}]);