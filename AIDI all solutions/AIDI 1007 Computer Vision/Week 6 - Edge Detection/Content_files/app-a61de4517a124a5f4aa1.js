!function(e){function t(t){for(var i,s,r=t[0],l=t[1],c=t[2],d=0,m=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},s={251:0,551:0},a={251:0,551:0},o=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[];const n=function(n){s[e]?t.push(s[e]):0!==s[e]&&{0:1,1:1,3:1,4:1,6:1,7:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,19:1,20:1,23:1,25:1,26:1,27:1,30:1,32:1,33:1,35:1,36:1,39:1,42:1,43:1,44:1,46:1,50:1,51:1,52:1,54:1,55:1,58:1,59:1,60:1,61:1,62:1,63:1,64:1,68:1,69:1,70:1,71:1,72:1,73:1,75:1,76:1,78:1,79:1,81:1,82:1,83:1,85:1,89:1,124:1,125:1,126:1,127:1,128:1,129:1,131:1,132:1,133:1,134:1,136:1,137:1,138:1,139:1,140:1,141:1,142:1,143:1,144:1,146:1,149:1,154:1,155:1,158:1,159:1,160:1,555:1,556:1,557:1,558:1,559:1,560:1,561:1,562:1,563:1,564:1,565:1,566:1,567:1,568:1,569:1,570:1,571:1,572:1,573:1,574:1,575:1,576:1,577:1,578:1,579:1,580:1,581:1,582:1,583:1,584:1,585:1,586:1,587:1,588:1,589:1,590:1,591:1,592:1,593:1,594:1,595:1,596:1,597:1,598:1,599:1,600:1,601:1,602:1,603:1,604:1,605:1,606:1,607:1,608:1,609:1,610:1,611:1,612:1,613:1,614:1,615:1,616:1,617:1,618:1,619:1,621:1,622:1,623:1,624:1,625:1,626:1,627:1,628:1,629:1,632:1,633:1,635:1,636:1,637:1,638:1,639:1,640:1,641:1,643:1,644:1,645:1,646:1,647:1,648:1,649:1,650:1,652:1,653:1,655:1,656:1,657:1,659:1,660:1,661:1,662:1,663:1,664:1,665:1,666:1,667:1,668:1,669:1,671:1,672:1,674:1,677:1,679:1,682:1,683:1,684:1,685:1,686:1,687:1,688:1,689:1,692:1,694:1,695:1,699:1,700:1,702:1,732:1,733:1}[e]&&t.push(s[e]=new Promise((function(t,n){var i=e+"-a61de4517a124a5f4aa1.css";i="rtl"===document.getElementsByTagName("html")[0].getAttribute("dir")?i.replace(".css",".rtl.css"):i;for(var a=r.p+i,o=document.getElementsByTagName("link"),l=0;l<o.length;l++){var c=(u=o[l]).getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===i||c===a))return t()}var d=document.getElementsByTagName("style");for(l=0;l<d.length;l++){var u;if((c=(u=d[l]).getAttribute("data-href"))===i||c===a)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css";m.onerror=m.onload=function(i){if(m.onerror=m.onload=null,"load"===i.type)t();else{var o=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.href||a,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=r,delete s[e],m.parentNode.removeChild(m),n(l)}},m.href=a,document.head.appendChild(m)})).then((function(){s[e]=0})))};document.getElementsByTagName("html")[0].hasAttribute("has-applied-locale-text-direction")?n():document.addEventListener("initializePageDirection",n);var i=a[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise((function(t,n){i=a[e]=[t,n]}));t.push(i[2]=o);var l,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=function(e){return r.p+""+({23:"institution-page",68:"courses",91:"locale-ar-sa",92:"locale-az-az",93:"locale-cs-cz",94:"locale-cy-gb",95:"locale-da-dk",96:"locale-de-de",97:"locale-en",98:"locale-en-au",99:"locale-en-gb",100:"locale-en-us-k12",101:"locale-en-us-pro",102:"locale-es-es",103:"locale-fr-ca",104:"locale-fr-fr",105:"locale-he-il",106:"locale-it-it",107:"locale-ja-jp",108:"locale-ko-kr",109:"locale-ms-my",110:"locale-nb-no",111:"locale-nl-nl",112:"locale-nn-no",113:"locale-pl-pl",114:"locale-pt-br",115:"locale-pt-pt",116:"locale-ru-ru",117:"locale-sv-se",118:"locale-th-th",119:"locale-tr-tr",120:"locale-uk-ua",121:"locale-zh-cn",122:"locale-zh-tw",252:"app_develop",253:"cldrdata-ar",254:"cldrdata-ar-001",255:"cldrdata-ar-AE",256:"cldrdata-ar-BH",257:"cldrdata-ar-DJ",258:"cldrdata-ar-DZ",259:"cldrdata-ar-EG",260:"cldrdata-ar-EH",261:"cldrdata-ar-ER",262:"cldrdata-ar-IL",263:"cldrdata-ar-IQ",264:"cldrdata-ar-JO",265:"cldrdata-ar-KM",266:"cldrdata-ar-KW",267:"cldrdata-ar-LB",268:"cldrdata-ar-LY",269:"cldrdata-ar-MA",270:"cldrdata-ar-MR",271:"cldrdata-ar-OM",272:"cldrdata-ar-PS",273:"cldrdata-ar-QA",274:"cldrdata-ar-SA",275:"cldrdata-ar-SD",276:"cldrdata-ar-SO",277:"cldrdata-ar-SS",278:"cldrdata-ar-SY",279:"cldrdata-ar-TD",280:"cldrdata-ar-TN",281:"cldrdata-ar-YE",282:"cldrdata-bg",283:"cldrdata-bg-BG",284:"cldrdata-ca",285:"cldrdata-ca-AD",286:"cldrdata-ca-ES",287:"cldrdata-ca-ES-VALENCIA",288:"cldrdata-ca-FR",289:"cldrdata-ca-IT",290:"cldrdata-cs",291:"cldrdata-cs-CZ",292:"cldrdata-cy",293:"cldrdata-cy-GB",294:"cldrdata-da",295:"cldrdata-da-DK",296:"cldrdata-da-GL",297:"cldrdata-dav",298:"cldrdata-dav-KE",299:"cldrdata-de",300:"cldrdata-de-AT",301:"cldrdata-de-BE",302:"cldrdata-de-CH",303:"cldrdata-de-DE",304:"cldrdata-de-LI",305:"cldrdata-de-LU",306:"cldrdata-en",307:"cldrdata-en-001",308:"cldrdata-en-150",309:"cldrdata-en-AG",310:"cldrdata-en-AI",311:"cldrdata-en-AS",312:"cldrdata-en-AU",313:"cldrdata-en-BB",314:"cldrdata-en-BE",315:"cldrdata-en-BM",316:"cldrdata-en-BS",317:"cldrdata-en-BW",318:"cldrdata-en-BZ",319:"cldrdata-en-CA",320:"cldrdata-en-CC",321:"cldrdata-en-CK",322:"cldrdata-en-CM",323:"cldrdata-en-CX",324:"cldrdata-en-DG",325:"cldrdata-en-DM",326:"cldrdata-en-ER",327:"cldrdata-en-FJ",328:"cldrdata-en-FK",329:"cldrdata-en-FM",330:"cldrdata-en-GB",331:"cldrdata-en-GD",332:"cldrdata-en-GG",333:"cldrdata-en-GH",334:"cldrdata-en-GI",335:"cldrdata-en-GM",336:"cldrdata-en-GU",337:"cldrdata-en-GY",338:"cldrdata-en-HK",339:"cldrdata-en-IE",340:"cldrdata-en-IM",341:"cldrdata-en-IN",342:"cldrdata-en-IO",343:"cldrdata-en-JE",344:"cldrdata-en-JM",345:"cldrdata-en-KE",346:"cldrdata-en-KI",347:"cldrdata-en-KN",348:"cldrdata-en-KY",349:"cldrdata-en-LC",350:"cldrdata-en-LR",351:"cldrdata-en-LS",352:"cldrdata-en-MG",353:"cldrdata-en-MH",354:"cldrdata-en-MO",355:"cldrdata-en-MP",356:"cldrdata-en-MS",357:"cldrdata-en-MT",358:"cldrdata-en-MU",359:"cldrdata-en-MW",360:"cldrdata-en-MY",361:"cldrdata-en-NA",362:"cldrdata-en-NF",363:"cldrdata-en-NG",364:"cldrdata-en-NR",365:"cldrdata-en-NU",366:"cldrdata-en-NZ",367:"cldrdata-en-PG",368:"cldrdata-en-PH",369:"cldrdata-en-PK",370:"cldrdata-en-PN",371:"cldrdata-en-PR",372:"cldrdata-en-PW",373:"cldrdata-en-RW",374:"cldrdata-en-SB",375:"cldrdata-en-SC",376:"cldrdata-en-SD",377:"cldrdata-en-SG",378:"cldrdata-en-SH",379:"cldrdata-en-SL",380:"cldrdata-en-SS",381:"cldrdata-en-SX",382:"cldrdata-en-SZ",383:"cldrdata-en-TC",384:"cldrdata-en-TK",385:"cldrdata-en-TO",386:"cldrdata-en-TT",387:"cldrdata-en-TV",388:"cldrdata-en-TZ",389:"cldrdata-en-UG",390:"cldrdata-en-UM",391:"cldrdata-en-US",392:"cldrdata-en-US-POSIX",393:"cldrdata-en-VC",394:"cldrdata-en-VG",395:"cldrdata-en-VI",396:"cldrdata-en-VU",397:"cldrdata-en-WS",398:"cldrdata-en-ZA",399:"cldrdata-en-ZM",400:"cldrdata-en-ZW",401:"cldrdata-es",402:"cldrdata-es-419",403:"cldrdata-es-AR",404:"cldrdata-es-BO",405:"cldrdata-es-CL",406:"cldrdata-es-CO",407:"cldrdata-es-CR",408:"cldrdata-es-CU",409:"cldrdata-es-DO",410:"cldrdata-es-EA",411:"cldrdata-es-EC",412:"cldrdata-es-ES",413:"cldrdata-es-GQ",414:"cldrdata-es-GT",415:"cldrdata-es-HN",416:"cldrdata-es-IC",417:"cldrdata-es-MX",418:"cldrdata-es-NI",419:"cldrdata-es-PA",420:"cldrdata-es-PE",421:"cldrdata-es-PH",422:"cldrdata-es-PR",423:"cldrdata-es-PY",424:"cldrdata-es-SV",425:"cldrdata-es-US",426:"cldrdata-es-UY",427:"cldrdata-es-VE",428:"cldrdata-fi",429:"cldrdata-fi-FI",430:"cldrdata-fr",431:"cldrdata-fr-BE",432:"cldrdata-fr-BF",433:"cldrdata-fr-BI",434:"cldrdata-fr-BJ",435:"cldrdata-fr-BL",436:"cldrdata-fr-CA",437:"cldrdata-fr-CD",438:"cldrdata-fr-CF",439:"cldrdata-fr-CG",440:"cldrdata-fr-CH",441:"cldrdata-fr-CI",442:"cldrdata-fr-CM",443:"cldrdata-fr-DJ",444:"cldrdata-fr-DZ",445:"cldrdata-fr-FR",446:"cldrdata-fr-GA",447:"cldrdata-fr-GF",448:"cldrdata-fr-GN",449:"cldrdata-fr-GP",450:"cldrdata-fr-GQ",451:"cldrdata-fr-HT",452:"cldrdata-fr-KM",453:"cldrdata-fr-LU",454:"cldrdata-fr-MA",455:"cldrdata-fr-MC",456:"cldrdata-fr-MF",457:"cldrdata-fr-MG",458:"cldrdata-fr-ML",459:"cldrdata-fr-MQ",460:"cldrdata-fr-MR",461:"cldrdata-fr-MU",462:"cldrdata-fr-NC",463:"cldrdata-fr-NE",464:"cldrdata-fr-PF",465:"cldrdata-fr-PM",466:"cldrdata-fr-RE",467:"cldrdata-fr-RW",468:"cldrdata-fr-SC",469:"cldrdata-fr-SN",470:"cldrdata-fr-SY",471:"cldrdata-fr-TD",472:"cldrdata-fr-TG",473:"cldrdata-fr-TN",474:"cldrdata-fr-VU",475:"cldrdata-fr-WF",476:"cldrdata-fr-YT",477:"cldrdata-ga",478:"cldrdata-ga-IE",479:"cldrdata-he",480:"cldrdata-he-IL",481:"cldrdata-it",482:"cldrdata-it-CH",483:"cldrdata-it-IT",484:"cldrdata-it-SM",485:"cldrdata-ja",486:"cldrdata-ja-JP",487:"cldrdata-ko",488:"cldrdata-ko-KP",489:"cldrdata-ko-KR",490:"cldrdata-kok",491:"cldrdata-kok-IN",492:"cldrdata-ms",493:"cldrdata-ms-Latn",494:"cldrdata-ms-Latn-BN",495:"cldrdata-ms-Latn-MY",496:"cldrdata-ms-Latn-SG",497:"cldrdata-nb",498:"cldrdata-nb-NO",499:"cldrdata-nb-SJ",500:"cldrdata-nl",501:"cldrdata-nl-AW",502:"cldrdata-nl-BE",503:"cldrdata-nl-BQ",504:"cldrdata-nl-CW",505:"cldrdata-nl-NL",506:"cldrdata-nl-SR",507:"cldrdata-nl-SX",508:"cldrdata-nn",509:"cldrdata-nn-NO",510:"cldrdata-pl",511:"cldrdata-pl-PL",512:"cldrdata-pt",513:"cldrdata-pt-AO",514:"cldrdata-pt-BR",515:"cldrdata-pt-CV",516:"cldrdata-pt-GW",517:"cldrdata-pt-MO",518:"cldrdata-pt-MZ",519:"cldrdata-pt-PT",520:"cldrdata-pt-ST",521:"cldrdata-pt-TL",522:"cldrdata-ru",523:"cldrdata-ru-BY",524:"cldrdata-ru-KG",525:"cldrdata-ru-KZ",526:"cldrdata-ru-MD",527:"cldrdata-ru-RU",528:"cldrdata-ru-UA",529:"cldrdata-sv",530:"cldrdata-sv-AX",531:"cldrdata-sv-FI",532:"cldrdata-sv-SE",533:"cldrdata-th",534:"cldrdata-th-TH",535:"cldrdata-tr",536:"cldrdata-tr-CY",537:"cldrdata-tr-TR",538:"cldrdata-vi",539:"cldrdata-vi-VN",540:"cldrdata-zh",541:"cldrdata-zh-Hans",542:"cldrdata-zh-Hans-CN",543:"cldrdata-zh-Hans-HK",544:"cldrdata-zh-Hans-MO",545:"cldrdata-zh-Hans-SG",546:"cldrdata-zh-Hant",547:"cldrdata-zh-Hant-HK",548:"cldrdata-zh-Hant-MO",549:"cldrdata-zh-Hant-TW",550:"datepicker-locales",554:"vendors~app_develop"}[e]||e)+"-a61de4517a124a5f4aa1.js"}(e);var d=new Error;l=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",d.name="ChunkLoadError",d.type=i,d.request=s,n[1](d)}a[e]=void 0}};var u=setTimeout((function(){l({type:"timeout",target:c})}),12e4);c.onerror=c.onload=l,document.head.appendChild(c)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;o.push(["e6ZA",123,553,90]),n()}({"+4Px":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return p})),n.d(t,"p",(function(){return h})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return b})),n.d(t,"s",(function(){return f})),n.d(t,"t",(function(){return v})),n.d(t,"u",(function(){return y})),n.d(t,"v",(function(){return k})),n.d(t,"w",(function(){return x})),n.d(t,"h",(function(){return S})),n.d(t,"k",(function(){return C})),n.d(t,"o",(function(){return E})),n.d(t,"n",(function(){return I})),n.d(t,"x",(function(){return w})),n.d(t,"y",(function(){return A})),n.d(t,"A",(function(){return O})),n.d(t,"z",(function(){return D}));const i=8,s=188,a=46,o=40,r=35,l=13,c=27,d=36,u=37,m=110,p=108,h=34,g=33,b=190,f=39,v=32,y=9,k=38,x=48,S=53,C=57,E=96,I=105;function w(e){const t=e.keyCode;return t===k||t===o||t===u||t===f}function A(e){return e.keyCode===l||e.keyCode===p}function O(e){return e.keyCode===y&&!e.shiftKey}function D(e){return e.keyCode===y&&e.shiftKey}},"+IM5":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("QLzv");var i=n("yCC5"),s=n("Rjd/"),a=n("nkTj"),o=n("zGdY");const r=i.Ub;s.a.factory(r,["restmod",a.c,e=>e.model().mix({ui:{init:()=>({rendered:!1})},$extend:{Record:{getContentIdForGoalAlignment(){return`blackboard.data.qti.asi.AsiObject;${this.id}`},getContentTitleForGoalAlignment(){return this.title},isCurrentUserEligibleToAlignGoals(){return this.permissions&&!0===this.permissions.edit},saveAlignedGoals(e){return e&&(this.alignedGoals=e.map((e=>({goalId:e.id,isVisibleToStudent:!0,goal:e})))),this.$send({method:"PATCH",url:this.$url(),data:{alignedGoals:this.alignedGoals,questionType:this.questionType}}).$then((()=>{this.$getPreviousVersion()&&(this.$getPreviousVersion().alignedGoals=this.alignedGoals)}))},isPresentationOnly(){return o.Qb.PresentationOnly===this.questionType}},Collection:{getInsertIndex(e){let t=-1;const n=e.positionBefore,i=e.positionAfter;return null!=n&&(t="start"===n.toLowerCase()?0:this.indexOfItemById(n)),t<0&&null!=i&&("end"===i.toLowerCase()?t=this.length:(t=this.indexOfItemById(i),t>=0&&t++)),t},indexOfItemById(e){return this.$indexOf((t=>t.id===e))}}}})])},"+O05":function(e,t,n){"use strict";n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return k})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return S}));var i=n("D57K"),s=n("nsO7"),a=n("Llzl"),o=n("pjml"),r=n("12mu"),l=n("0JpG"),c=n("IbyE"),d=n("zGdY"),u=n("5Dl8"),m=n("aHpC"),p=n("klG7");const h="ultra.services.assessment",g="assessment",b="components.services.assessment.feedbackModeDisplay.afterIndividualGradePosted",f="components.services.assessment.feedbackModeDisplay.noneSpecified",v="course.content.assessment.feedbackOption",y=[d.f.UserAnswers,d.f.InstructorFeedback,d.f.Score,d.f.CorrectAnswers],k={[d.f.UserAnswers]:{visible:"visible",invisible:"invisible"},[d.f.InstructorFeedback]:{visible:"feedback",invisible:"feedback"},[d.f.Score]:{visible:"grade",invisible:"grade"},[d.f.CorrectAnswers]:{visible:"check-circle",invisible:"check-circle"}};var x;!function(e){e.FOLDER="folder",e.ASSESSMENT="assessment",e.BANK="bank"}(x||(x={}));let S=class{constructor(e,t,n,i,s,a){this.modal=e,this.$rootScope=t,this.$q=n,this.localizeService=i,this.AttemptModel=s,this.GroupAttemptModel=a}static isAssessment(e){return o.p.ContentHandler.TestLink.isEqualTo(e.contentHandler)||o.p.ContentHandler.SurveyLink.isEqualTo(e.contentHandler)}static isExternalSubmissionsAssessment(e){return c.j.isExternalSubmissionsAssessment(e)}static isExternalSubmissionByDeployedAssessment(e){var t;return!!(null===(t=null==e?void 0:e.deploymentSettings)||void 0===t?void 0:t.isCollectExternalSubmissions)}static getQuestionsForAttempt(e,t){if(!e.getToolAttemptDetailItem(t))return[];const n=e.getToolAttemptDetailItem(t).questionAttempts;return n&&n.length>0?n.map((e=>e.question)):[]}static studentCanViewAttemptGradeAndFeedback(e,t){return t?!!(e&&e.isSubmitted()&&t.isPosted()):this.studentCanViewAttemptResults(e)}static studentCanViewAttemptResults(e){return!!(null==e?void 0:e.isCompleted())}static attemptHasFeedback(e){const t=e&&e.getFeedbackToUser();return!!t&&!!t.rawText}static groupAttemptHasIndividualFeedback(e){const t=e&&e.attempts&&e.attempts[0].getGroupIndividualFeedbackToUser();return!!t&&!!t.rawText}static canViewAssessmentException(e,t,n,i){return!e&&!t&&n&&!i}static getSubmissionListAllExceptions(e,t){return null==e||null==t?null:e.assessments.$buildRaw(t.getDeployedAssessment().assessment).exceptions.$resolve().$allow([404]).$asPromise()}static initAssessmentExceptionsIndicators(e,t){return null==e||null==t||void 0===t.getDeployedAssessment()?null:this.getSubmissionListAllExceptions(e,t).then((n=>this.generateCssStyle(e,t,n)))}static generateCssStyle(e,t,n){const i={},s=e.assessments.$buildRaw(t.getDeployedAssessment().assessment),a=this.setAssessmentExceptionStyleTag(s.id)();return n.length&&n.forEach((t=>{this.setAssessmentExceptionClass(a,e.id,t,!0,i)})),a}static updateAssessmentExceptionIndicator(e,t,n=!0,i){if(null==e||null==t)return;const s=e.assessments.$buildRaw(t.getDeployedAssessment().assessment),a=this.setAssessmentExceptionStyleTag(s.id)();this.setAssessmentExceptionClass(a,e.id,i,n)}static setAssessmentExceptionStyleTag(e){const t="css_assessment_exceptions"+e;return s.once((()=>{let e=a.element(document).find(`#${t}`);return 0===e.length&&(e=a.element(`<style id="${t}"></style>`).appendTo("head")),e}))}static setAssessmentExceptionClass(e,t,n,i=!0,a){const o=new u.a,r=i?"inline-block":"none",l=n.target.id,c=n.target.type;let m;c===d.d.User&&o.selector(`.cc${t} .assessment-exception bb-username.course_user${l}:before`).rule("display",r),c===d.d.Group&&(o.selector(`.cc${t} .assessment-exception .show-exceptions.submission_row_group${l}:before`).rule("display",r),o.selector(`.cc${t} .slick_title${l} .assessment-exception .show-exceptions:before`).rule("display",r),o.selector(`.cc${t} .assign_group${l}.show-exceptions:before`).rule("display",r)),a&&(a[l]=o.build(),m=s(a).sortBy().map(((e,t)=>e)).join("\n")),m&&m!==e.text()&&e.text(m),m||(m=e.text(),e.text([m,o.build()].join("\n")))}static getSubmissionRowException(e,t,n,i){const s=e.assessments.$buildRaw(t.getDeployedAssessment().assessment);return n===d.d.Group?s.groupExceptions.$new(i).$resolve().$allow([404]).$asPromise():n===d.d.User?s.userExceptions.$new(i).$resolve().$allow([404]).$asPromise():void 0}static deleteException(e,t,n,i){const s=e.assessments.$buildRaw(t.getDeployedAssessment().assessment);return n===d.d.User?s.userExceptions.$new(i).deleteException():n===d.d.Group?s.groupExceptions.$new(i).deleteException():void 0}static setSubmissionRowException(e,t,n,i,s){const a=e.assessments.$buildRaw(t.getDeployedAssessment().assessment),o={start:s.start,end:s.end,attempts:s.attempts};return n===d.d.User?a.userExceptions.$new(i).saveException(o):n===d.d.Group?a.groupExceptions.$new(i).saveException(o):void 0}static isFeedbackOptionEnabled(e,t){const{mode:n}=c.s.getFeedbackModeByOption(e,t);return null!=n}isUserAnswersOption(e){return e===d.f.UserAnswers}getFeedbackModeLabelByOption(e,t){const{mode:n,associatedDate:i}=c.s.getFeedbackModeByOption(e,t);return n?this.localizeService.loadBundle("components/services/assessment").then((()=>{switch(n){case d.e.AfterAttemptGraded:return this.localizeService.translateSync({locale:this.localizeService.getLocale(this.$rootScope),key:"components.services.assessment.feedbackModeDisplay.afterPosted"});case d.e.AfterDueDate:return this.localizeService.translateSync({locale:this.localizeService.getLocale(this.$rootScope),key:"components.services.assessment.feedbackModeDisplay.afterDueDate"});case d.e.AfterSubmission:{const t=e===d.f.Score||e===d.f.CorrectAnswers;return this.localizeService.translateSync({locale:this.localizeService.getLocale(this.$rootScope),key:t?b:"components.services.assessment.feedbackModeDisplay.afterSubmission"})}case d.e.OnSpecifiedDate:return this.localizeService.translateSync({locale:this.localizeService.getLocale(this.$rootScope),key:"components.services.assessment.feedbackModeDisplay.onSpecificDate",params:{date:i},noWrap:!0});case d.e.AfterIndividualGradeIsPosted:return this.localizeService.translateSync({locale:this.localizeService.getLocale(this.$rootScope),key:b});default:console.error(`Feedback mode: ${n} is not yet supported`)}})):this.$q.resolve(null)}getFeedbackModeLabels(e,t){const n=e.map((e=>this.getFeedbackModeLabelByOption(e,t)));return this.$q.all(n)}isAfterIndividualGradeIsPostedFeedbackMode(e,t){switch(e){case d.f.UserAnswers:return c.s.getFeedbackModeByOption(e,t).mode===d.e.AfterIndividualGradeIsPosted;case d.f.CorrectAnswers:case d.f.Score:return c.s.getFeedbackModeByOption(e,t).mode===d.e.AfterSubmission;default:return!1}}isAfterAllGradesArePostedFeedbackMode(e,t){return c.s.getFeedbackModeByOption(e,t).mode===d.e.AfterAttemptGraded}isExternallyRefQuestionsAPIError(e){return 409===e.status&&s.includes(e.code,d.b)}openHasExternallyRefQuestionsModal(e){const t=this.$rootScope.$new();t.translateOpts={title:{key:`components.services.assessment.modal.error-external-questions.${e.toString()}.title`}},t.descriptionKey=`components.services.assessment.modal.error-external-questions.${e.toString()}.description`;const n={scope:t,template:p,resolve:{translations:[l.serviceName,e=>e.loadBundle("components/services/assessment")]}};this.modal.open(n)}launchAttempt(e,t,n,i){const s={scoreProviderHandle:c.Q.Test,status:d.l.InProgress,toolAttemptDetail:{"resource/x-bb-assessment":{type:d.h.Test,password:t}}},a=n?this.GroupAttemptModel.$build(s):this.AttemptModel.$build(s);return e.launchAttempt(a,{},n,i).then((e=>{var t,n;return(null===(n=null===(t=null==e?void 0:e.$response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.status)===d.S.Forbidden?e.$asPromise():e.$fetch({expand:"toolAttemptDetail,alignedGoals"}).$asPromise()}))}};S=Object(i.a)([Object(i.c)(0,Object(m.b)(r.b)),Object(i.c)(1,Object(m.b)("$rootScope")),Object(i.c)(2,Object(m.b)("$q")),Object(i.c)(3,Object(m.b)(l.serviceName)),Object(i.c)(4,Object(m.b)(o.A.serviceName)),Object(i.c)(5,Object(m.b)(o.E.serviceName))],S);a.module(h,[r.a]).service(g,S)},"+brj":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u}));n("qY1S");var i=n("Llzl"),s=n("dzwE"),a=n("Ymz8"),o=n("Fvsw"),r=n("TnpK"),l=n("fYJU");const c="ultra.components.services.browserStorage",d="browserStorage";var u;!function(e){e.LocalStorage="localStorage",e.SessionStorage="sessionStorage"}(u||(u={}));class m{constructor(e,t,n,i,s,o){this.$rootScope=e,this.$q=t,this.DSCacheFactory=n,this.context=i,this.ultraState=s,this.contextUser=o,this.QUOTA_EXCEEDED_ERR=22,this.QUOTA_EXCEEDED_ERR_FIREFOX=22,this.BROWSER_STORAGE_PREFERENCE_KEY="ultraui.browserstorage.key",this.CACHE_PREFIX="ultraui.browserstorage",this.sjcl=a,this.crypto=window.crypto,this.BROWSER_STORAGE_RECORD_MAX_AGE=864e5,this.BROWSER_STORAGE_RECORD_MAX_COUNT=10,this._isEncryptNativeSupported=(()=>this.crypto&&this.crypto.subtle?this.crypto.subtle.digest({name:"SHA-256"},this._stringToArrayBuffer("x")).then((()=>this.$q.when(!0))).catch((()=>this.$q.when(!1))):this.$q.when(!1))()}serializeCurrentRouteScopes(e,t){return this.saveToStorage(this._getCurrentRouterStateObject(),t,e,(function(e,t){if(!(t&&t instanceof Array&&t.length>=1e9)&&"_userModel"!==e&&(t&&t.$type&&t.$type===t.constructor&&"$pk"in t&&(t.ui.isRestModObject=!0),("_"!==e[0]||this.ui&&!0===this.ui.isRestModObject||t&&t.ui&&!0===t.ui.isRestModObject)&&("$"!==e[0]||-1!==["$viewValue","$modelValue"].indexOf(e))))return t}))}deserializeCurrentRouteScopes(e,t){return this.getFromStorage(this._getCurrentRouterStateObject(),e)}deleteCurrentRouteScopes(e){return this.deleteFromStorage(this._getCurrentRouterStateObject(),e)}_getCurrentRouterStateObject(){return{componentState:this.ultraState.current.name.slice(this.ultraState.getBaseState().length+1),stateParams:this.ultraState.getCurrentUrlParams()}}saveToStorage(e,t,n,i){const a=this._getBrowserStorageCache(n);a.removeExpired();const o=s.stringify(t,i);return this._getUserEncryptionPassword().then((t=>this._encrypt(t,o).then((t=>{try{return a.put(this._toSortedKeyJSON(e),t)}catch(e){e.code&&e.code===this.QUOTA_EXCEEDED_ERR||e.code===this.QUOTA_EXCEEDED_ERR_FIREFOX?console.warn("Local storage is at capacity",e):console.warn("Local storage not permitted.",e),this.saveToStorage=(e,t,n)=>this.$q.when(void 0)}}))))}getFromStorage(e,t,n){const i=this._getBrowserStorageCache(t).get(this._toSortedKeyJSON(e));return null!=i?this._getUserEncryptionPassword().then((e=>this._decrypt(e,i).then((e=>s.parse(e,n))))):this.$q.when(void 0)}updateStorageKey(e,t,n,i){return this.getFromStorage(e,n).then((s=>{this.deleteFromStorage(e,n);const a=i||s;if(a)return this.saveToStorage(t,a,n)}))}deleteFromStorage(e,t){const n=this._getBrowserStorageCache(t);return n.removeExpired(),!!n.remove(this._toSortedKeyJSON(e))}_toSortedKeyJSON(e){return JSON.stringify(e,((e,t)=>"object"!=typeof t?t:Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{})))}_getBrowserStorageCache(e){const t=this.CACHE_PREFIX+"."+e.toString()+"."+this.contextUser.userId;let n=this.DSCacheFactory.get(t);if(!n)switch(e){case u.LocalStorage:n=this.DSCacheFactory.createCache(t,{capacity:this.BROWSER_STORAGE_RECORD_MAX_COUNT,maxAge:this.BROWSER_STORAGE_RECORD_MAX_AGE,storageMode:u.LocalStorage.toString()});break;case u.SessionStorage:n=this.DSCacheFactory.createCache(t,{capacity:this.BROWSER_STORAGE_RECORD_MAX_COUNT,storageMode:u.SessionStorage.toString()})}return n}_getUserEncryptionPassword(){this._sjclForceReady();const e=this.sjcl.codec.base64.fromBits(this.sjcl.random.randomWords(6));return this.storageKeyPromise=this.storageKeyPromise||this.context.getPreference(this.BROWSER_STORAGE_PREFERENCE_KEY,e).then((e=>(e.value&&!e.$resolved&&e.$save(),e.value)))}_sjclForceReady(){if(!this.sjcl.random.isReady()){const e=[];for(let t=0;t<32;t++)e.push(Math.floor(4294967296*Math.random()));this.sjcl.random.addEntropy(e,1024,"IE10 fallback entrophy")}}_encrypt(e,t){return this._isEncryptNativeSupported.then((n=>n?this._subtleCryptoEncrypt(e,t).then((e=>({SubtleCryptoEncrypted:e}))):this.$q.when(this.sjcl.encrypt(e,t)).then((e=>({SjclCipherEncrypted:e})))))}_decrypt(e,t){return this._isEncryptNativeSupported.then((n=>n?this._subtleCryptoDecrypt(e,t.SubtleCryptoEncrypted):this.$q.when(this.sjcl.decrypt(e,t.SjclCipherEncrypted))))}_subtleCryptoEncrypt(e,t){return this._subtleCryptoGetPasswordKey(e).then((e=>{const n=this.crypto.getRandomValues(new Uint8Array(16));return this.crypto.subtle.encrypt({name:"AES-CBC",iv:n},e,this._stringToArrayBuffer(t)).then((e=>({vector:this._arrayBufferToBase64(n),encrypted:this._arrayBufferToBase64(e)})))}))}_subtleCryptoDecrypt(e,t){return this._subtleCryptoGetPasswordKey(e).then((e=>{const n=this._base64ToArrayBuffer(t.vector);return this.crypto.subtle.decrypt({name:"AES-CBC",iv:n},e,this._base64ToArrayBuffer(t.encrypted)).then((e=>this._arrayBufferToString(e)))}))}_subtleCryptoGetPasswordKey(e){return this.crypto.subtle.digest({name:"SHA-256"},this._stringToArrayBuffer(e)).then((e=>this.crypto.subtle.importKey("raw",e,{name:"AES-CBC"},!1,["encrypt","decrypt"])))}_arrayBufferToString(e,t){const n=t&&new Uint8Array(e)||new Uint16Array(e);let i="";for(let e=0;e<n.length;e++)i+=String.fromCharCode(n[e]);return i}_arrayBufferToBase64(e){return window.btoa(this._arrayBufferToString(e,!0))}_stringToArrayBuffer(e,t){const n=t&&new ArrayBuffer(e.length)||new ArrayBuffer(2*e.length),i=t&&new Uint8Array(n)||new Uint16Array(n);for(let t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return n}_base64ToArrayBuffer(e){return this._stringToArrayBuffer(window.atob(e),!0)}}m.$inject=["$rootScope","$q","DSCacheFactory",o.b,r.d,l.b];i.module(c,["angular-data.DSCacheFactory",o.a,r.b]).service(d,m)},"+e2k":function(e,t,n){"use strict";var i,s,a=n("D57K"),o=(n("DlnX"),n("yC9S")),r=n("aHpC");!function(e){e[e.LeftToRight=0]="LeftToRight",e[e.Bidirectional=1]="Bidirectional"}(i||(i={})),function(e){e.Small="small",e.Medium="medium",e.Large="large",e.Custom="custom"}(s||(s={}));const l={directionality:i.Bidirectional},c=e=>e.reduce(((e,t)=>({...e,[t]:{...l}})),{}),d={[s.Small]:c(["peer-review","history","time","timer","reminder","add-reminder","no-time-limit","faster","slower","help","information","search","accommodation","away","add-circle-extended","invisible","netstats-unavailable","text","camera","type-size","close-captioning","bulk-edit","draw","edit","highlighter","erase","link","unlinked","check","attempts","attendance","square-checked","complete","play-start","volume-low","volume-medium","volume-mute","volume","mute-audio","telephony","mute-phone","audio","collab","collab-off","mute-video","record","recording","stop-recording","video","start","stop","raise-hands","lower-hand","hand-pointer","approval","disapproval","status-approval","edit-tool","course-complete","notes","safe-assign","app","broken-app","custom-content","whiteboard","format_text_default","format_text","italicize_default","italicize","subscript_default","subscript","superscript_default","superscript","underline_default","underline","bold_default","bold","calculation","strikethrough","insert_formula"]),[s.Medium]:c(["peer-review","hand-raise","shape-line","history","time","timer","reminder","add-reminder","no-time-limit","help","help-circle","information","search","zoom-in","zoom-out","exempt","disabled","status-away","invisible","risk-low","text","camera","capture","type-size","close-captioning","download-captions","link","pencil","highlighter","erase","tools","pen","brush","check","check-circle","attempts","audio-mute","cam-mic","audio","telephony","mute-phone","hang-up","sound-on","sound-off","collab","download-recording","video","record","stop-recording","video","video-mute","stop-action","play-start","raise-hand","lower-hand","hand-pointer","pan","asl-interpreter","edit-tool","course-complete","content-view","safe-assign","grades","attendance","wiki","app","app-off","calculation","whiteboard"]),[s.Large]:c(["app-c","attendance-a","attendance","audio-a","audio-c","audio","calculation-a","calculation-c","calculation","certification-a","certification-c","certification","check-circle-c","check-circle","collaborate-a","collaborate-c","collaborate","coming-soon","course-complete","database-connected","diploma-a","diploma-c","diploma","field-work-a","field-work-c","field-work","fill-in-the-blank-a","fill-in-the-blank","grades-a","grades-c","grades","help-a","help-c","help","information","raise-hand-a","raise-hand-c","raise-hand","record-a","record-c","record","reminder-a","reminder-c","reminder","rubric-a","rubric-c","rubric","scormengine-a","scormengine-sco-a","scormengine-sco","scormengine","stop-recording-a","stop-recording-c","stop-recording","support-document-a","support-document-c","support-document","technical-diploma-a","technical-diploma-c","technical-diploma","text-box-a","text-box","timer-a","timer-c","timer","video-a","video-c","video","whiteboard-a","whiteboard-c","whiteboard","wiki-a","wiki-c","wiki"]),[s.Custom]:{}};var u=n("ZzR9");n.d(t,"a",(function(){return p}));const m=["active","alert","success","warning"],p="ultra.components.directives.svgIcon";let h=class{constructor(e,t){this.$rootScope=e,this.$element=t}$onInit(){this.windowHref=window.location.href,this.updateIconState(),this.setStatusStyles(),this.destroyLocationChangeListener=this.$rootScope.$on(u.a.$locationChangeSuccess,(()=>{this.windowHref=window.location.href,this.updateIconState()}))}$onChanges(){this.updateIconState()}$onDestroy(){this.destroyLocationChangeListener()}updateIconState(){var e,t;this.directionalStyles=(null===(t=null===(e=d[this.size])||void 0===e?void 0:e[this.icon])||void 0===t?void 0:t.directionality)===i.Bidirectional?"":"directional-icon",this.iconHref=`${this.windowHref}#icon-${this.size}-${this.icon}`}setStatusStyles(){this.color?this.statusStyles="color":null!=m.find((e=>this.status))?this.statusStyles=this.status:this.statusStyles="default"}};h=Object(a.a)([Object(o.a)({moduleName:p,componentName:"bbSvgIcon",template:'\n    <svg\n      class="svg-icon svg-icon-directive {{::$ctrl.size}}-icon {{::$ctrl.statusStyles}} {{\n        $ctrl.directionalStyles\n      }}"\n      focusable="false"\n      aria-hidden="true"\n      bb-cache-compilation="svg-icon"\n    >\n      <use xlink:href="" ng-href="{{ $ctrl.iconHref }}"></use>\n    </svg>\n  ',bindings:{icon:"@",color:"<",size:"@",status:"@"}}),Object(a.c)(0,Object(r.b)("$rootScope")),Object(a.c)(1,Object(r.b)("$element"))],h)},"+g6d":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));n("MFWY");var i=n("Llzl"),s=n("lEL+");const a="ultra.components.directives.clickToInvokeChild",o="bbClickToInvokeChild";class r{constructor(t,n,i,s){if(this.scope=t,this.element=n,this.attrs=i,this.timeout=s,this.linkSelector=i[o],!this.linkSelector&&void 0!==this.linkSelector)throw new Error(o+" has no child selector specified.");this.setClickableStyle(),t.$on("click-to-invoke-child-directive-init",(()=>{this.setClickableStyle()})),n.on("click",(t=>{if(!e(t.target).closest("a, button, [ng-click], .stop-click-propagation, [bb-click-to-invoke-child]",this.element.get(0)).length){const e=this.element.find(this.linkSelector).get(0);e&&(e.click(),i.stopPropagation&&"true"===i.stopPropagation&&t.stopPropagation())}}))}setClickableStyle(){this.timeout((()=>{this.element.find(this.linkSelector).first().length?(void 0===this.element.attr("tabindex")&&this.element.attr("tabindex","-1"),this.element.addClass("child-is-invokable")):(this.element.removeAttr("tabindex"),this.element.removeClass("child-is-invokable"))}),this.scope,0,!1)}}r.$inject=["scope","element","attrs",s.b];class l{constructor(e){this.$injector=e,this.scope=!1,this.restrict="A",this.link=(e,t,n)=>{this.$injector.instantiate(r,{scope:e,element:t,attrs:n})}}}l.$inject=["$injector"],i.module(a,[s.a]).directive(o,["$injector",e=>e.instantiate(l)])}).call(this,n("71td"))},"+iNq":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-visible",use:"icon-small-visible-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-visible"><path d="M8 3C4.6406 3 1 8 1 8s3.6406 5 7 5 7-5 7-5-3.6406-5-7-5z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="8" cy="8" r="1" stroke-width="2" /></symbol>'});s.add(a);e.exports=a},"+wu9":function(e,t){e.exports='<div class="typeahead-selected-options" ng-class="{\'empty\': selectedOptions.length === 0}" bb-load-bundle="components/directives/typeahead">\n  <ul bb-translate-attrs="{ \'aria-label\': selectedOptionsListLabel }">\n    <li ng-repeat="option in selectedOptions">\n      <span>{{::option.displayName}}</span>\n      <button class="button button--text"\n              ng-click="typeaheadSelectedOptions.removeOption(option)"\n              bb-translate-attrs="{ \'aria-label\': \'typeahead.typeahead-options.remove\' }"\n              translate-attrs-values="{ displayName: option.displayName }"\n              analytics-id="components.directives.typeaheadSelectedOptions.removeOption.button">\n        <bb-svg-icon size="small" icon="clear" />\n      </button>\n    </li>\n  </ul>\n</div>'},"/0oN":function(e,t){e.exports='<svg viewBox="0 0 240 186" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M238.484 37.43a67.869 67.869 0 0 1-1.648 16.812c-62.272 2.694-124.644 2.145-186.966 1.596-15.93-.15-32.56 1.048-48.34-.549-4.494-16.412 15.381-13.818 25.668-14.217a5941.954 5941.954 0 0 1 51.885-1.596 5869.139 5869.139 0 0 1 102.722-1.796c4.644-.05 56.679-.55 56.679-.25ZM237.735 75.892c1.748-6.036 2.297-12.421 1.698-18.657-11.635-.898-23.271.748-34.856 2.145-59.027 6.984-118.702 6.635-178.128 4.19-5.842-.249-18.277-2.843-23.27.749C-.967 67.262-.118 75.643.581 79.933c15.23 1.447 31.56-.399 46.891-.698 15.33-.25 30.662-.549 45.993-.799l93.033-1.646c4.694-.1 50.587 1.297 51.236-.898ZM.382 130.218c79.55-7.583 159.451-.399 238.952-8.979-.749-9.628-1.449-19.256-2.198-28.884-.05-.749-2.097-3.393-3.046-3.193-31.56 5.537-211.435 5.886-222.621 4.989-6.442-.499-5.494 1.646-7.142 11.922-.4 2.295-3.246 24.045-3.945 24.145Z" fill="#009A8F"/><path d="M204.327 32.392c2.447.698 5.144.748 7.391-.35 2.297-1.097 4.045-3.442 3.895-5.986-3.496 0-6.642-1.796-9.688-3.542-.849-.499-1.698-.997-2.097-1.895-.3-.799-.2-1.846-.799-2.445-.3-.3-.7-.399-1.099-.499-.949-.25-2.097-.299-2.846.3-.7.548-.899 1.496-.999 2.344-.599 5.538.549 10.526 6.242 12.073ZM147.298 165.537c-2.447.699-5.143.748-7.39-.349-2.298-1.098-4.045-3.442-3.896-5.986 3.496 0 6.642-1.796 9.688-3.542.849-.499 1.698-.998 2.098-1.896.299-.798.199-1.846.799-2.444.299-.3.699-.399 1.098-.499.949-.25 2.098-.299 2.847.299.699.549.899 1.497.998 2.345.6 5.487-.549 10.526-6.242 12.072Z" fill="#F6AC3D"/><path d="M16.262 158.703c-.2 1.646-.5 3.342-1.448 4.639-.949 1.347-2.897 2.095-4.295 1.297-.849-.499-1.448-1.446-2.447-1.646-1.648-.299-2.596 2.145-1.648 3.492.95 1.347 2.747 1.746 4.395 1.796 2.946.15 6.242-.399 8.14-2.694.899-1.097 1.348-2.444 1.797-3.791 3.246-10.027 5.494-20.653 4.345-31.129-7.99-1.197-6.891 4.091-7.191 9.977-.35 6.136-.849 12.122-1.648 18.059ZM203.228 155.859c.5 1.148 1.099 2.295 2.098 3.093 1.298 1.098 3.046 1.447 4.744 1.497 1.748.05 3.545-.25 4.894-1.347 1.348-1.098 1.997-3.143 1.148-4.59l-6.442 1.647c-.549.149-1.148.299-1.648.049-.998-.399-1.148-1.696-1.148-2.793.05-6.236.1-12.521.1-18.757 0-2.445.349-11.574-4.744-7.782-2.497 1.895-1.748 10.226-1.798 12.87-.05 5.537.549 11.075 2.796 16.113Z" stroke="#009A8F" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M103.353 104.726c43.795-.548 87.641-.598 131.436-.199M4.477 106.772c8.59-.25 17.228-.499 25.867-.699" stroke="#000" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M189.296 79.284c-.2 3.443-.35 6.935-.55 10.377 0 .349 0 .748.25.997.2.2.549.2.849.2h4.195c.349 0 .699 0 .999-.2.449-.299.499-.897.549-1.446.15-3.592.349-7.184.499-10.776-2.746-.099-5.493.05-8.19.499M20.357 82.278c-.15 2.843-.35 5.737-.5 8.58 0 .399 0 .798.25 1.048.2.199.55.249.9.249.998 0 1.997-.2 2.945-.549.45-3.392.65-6.784.55-10.176-2.148-.2-4.295-.1-6.442.249" stroke="#009A8F" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M1.53 55.29c.3-2.196-2.496-4.29 2.048-10.427 1.548-2.095 5.293-2.294 13.084-2.943 7.84-.648 29.862-1.247 29.862-1.247M175.563 46.709c6.292.1 12.584-.948 18.527-3.043.449-.15.998-.599.749-.998-.1-.15-.25-.2-.4-.25-1.897-.797-4.194-.698-5.992.3-.3.15-.599.4-.599.699 0 .249.199.399.349.548 3.546 3.243 8.989 3.043 13.783 2.644 3.396-.3 6.891-.598 9.937-2.095M164.027 64.369c24.719-5.637 50.088-8.381 75.456-8.231-1.398 6.934-2.796 13.868-4.195 20.852a189.606 189.606 0 0 1-24.969 2.245" stroke="#000" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M202.18 32.192a16.908 16.908 0 0 0-.55 4.19M206.624 33.14c-.1 1.297-.05 2.544.05 3.841M200.082 22.065c-2.047-.15-2.447.749-3.995.25M149.446 165.338a16.95 16.95 0 0 1 .549 4.19M145.001 166.286c.1 1.297.05 2.544-.05 3.841M151.543 155.211c2.197 1.147 2.247-.399 3.645.349" stroke="#A67243" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M162.03 167.034c-.05.05-.05.1 0 .149h.05c.35-.099.15-.399-.05-.149Z" stroke="#F6AC3D" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M150.744 152.667c-.05.049-.05.099 0 .149h.05c.35-.05.15-.349-.05-.149Z" stroke="#000" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M162.729 169.378s0 .05.05.05h.05c.749-.399-.4-.648-.1-.05ZM165.476 169.129s0 .05 0 0c.15.15.2-.1.05-.2-.05.05-.1.15-.05.2Z" stroke="#F6AC3D" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M200.482 19.172c-.05.05-.05.1 0 .15h.05c.35-.05.15-.35-.05-.15Z" stroke="#000" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M63.139 31.835h9.666c1.961.057 4.946 1.024 7.334 1.905 2.303.853 7.648 19.7 7.932 24.989l-1.706 26.666 6.71 22.259s-6.71 4.122-25.757 4.122-26.865-4.975-26.865-4.975l8.159-23.453-.682-27.462c.312-2.587 3.468-21.236 5.97-22.004 3.155-.966 7.363-2.104 9.239-2.047Z" fill="#DA80A0"/><path d="m50.26 43.264-2.387 12.622 1.82 47.021" stroke="#000" stroke-width=".569" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M77.268 34.053c2.757-1.109 5.856.34 6.794 3.155l9.61 29.566s2.074 8.614-3.839 10.291c-5.998 1.677-9.267-8.102-9.267-8.102l-6.397-29.082c-.54-2.417.768-4.89 3.099-5.828Z" fill="#DA80A0"/><path d="m56.401 81.5 28.6-14.669s5.287-2.275 7.732 2.018c3.269 5.8-2.445 8.728-2.445 8.728L61.15 89.403 56.401 81.5Z" fill="#DA80A0"/><path d="m49.55 85.423-10.433 3.753s-.626 1.99 2.445 1.648l8.585-3.07-.597-2.331Z" fill="#A67243"/><path d="M61.178 84.485 56.401 81.5s-6.795 3.411-6.795 3.525c0 .142-7.818 6.396-7.818 6.396l-4.946 7.392a.868.868 0 0 0 .255 1.194l.313.199a.835.835 0 0 0 1.166-.256l4.037-6.169 1.222-.995-3.184 8.045a.859.859 0 0 0 .597 1.081l.17.056a.87.87 0 0 0 1.024-.511l2.644-6.937.625-1.052-2.16 7.449a.858.858 0 0 0 .597 1.08l.17.057a.871.871 0 0 0 1.024-.512l2.644-6.937.568-.085-2.018 6.112a.862.862 0 0 0 .483.967c.426.199.938 0 1.109-.455l2.473-5.828.142-.369c1.763-.342 4.89-.313 7.022-4.492l4.748-1.592-1.337-4.378Z" fill="#A67243"/><path d="M85 66.859 49.55 85.423l-7.76 5.998-4.35 6.482" stroke="#000" stroke-width=".569" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M56.657 34.45c-2.643-1.364-5.884-.198-7.05 2.502L37.241 65.495s-2.9 8.386 2.843 10.603c5.827 2.246 10.006-7.164 10.006-7.164l9.126-28.343a5.21 5.21 0 0 0-2.559-6.14Z" fill="#DA80A0"/><path d="M72.18 85.707 46.45 66.433s-4.832-3.127-7.96.682c-4.207 5.174.967 9.012.967 9.012l26.723 16.545 5.998-6.965Z" fill="#DA80A0"/><path d="m78.263 90.711 9.637 5.458s.285 2.075-2.7 1.222l-7.932-4.463.995-2.217Z" fill="#A67243"/><path d="m64.902 91.905 4.406 2.388c1.393 4.463 4.492 5.003 6.169 5.6l.085.398 1.45 6.169a.848.848 0 0 0 1.024.626c.398-.086.653-.455.625-.882l-.91-6.425.54.171 1.422 7.278c.085.426.483.71.91.682l.17-.029a.866.866 0 0 0 .768-.966l-.882-7.704.455 1.137 1.422 7.278c.085.426.483.71.91.682l.17-.028a.868.868 0 0 0 .768-.967L82.64 98.87l1.052 1.194 2.928 6.766c.17.426.682.625 1.109.455l.34-.143c.456-.17.655-.682.456-1.137l-3.668-8.102s-6.652-7.477-6.623-7.619c.028-.142-6.084-4.634-6.084-4.634l-5.203 2.133-2.046 4.122Z" fill="#A67243"/><path d="m46.537 80.874 18.365 11.031 2.075-4.094M56.43 49.177l-6.368 19.729 28.23 21.435 6.623 7.591 2.218 4.975" stroke="#000" stroke-width=".569" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M38.157 99.863c0-7.506 6.681-9.695 11.457-9.695l19.019-9.949c4.776 0 22.743 11.143 22.743 19.644 0 8.5-2.673 15.976-26.183 15.976-23.51 0-27.035-8.471-27.035-15.976Z" fill="#F0E7D9"/><path d="m75.314 148.959 1.478 14.072-3.374 2.047-5.098-1.621-.966-15.437c.028.029 3.724-.483 7.96.939Z" fill="#A67243"/><path d="m68.274 163.363-.227 7.051s-1.421 1.364-.825 3.638c0 0 1.678 6.795 6.568 9.495 4.89 2.701 11.57 4.293 8.556-4.434l-5.6-16.148c-.199-1.393-1.848-1.336-8.472.398Z" fill="#009A8F"/><path d="M80.442 177.293s-2.473 1.734-5.345-1.336l-3.866-13.333s4.065-1.393 4.264-.625l4.947 15.294Z" fill="#84CCAA"/><path d="M75.408 161.728c.149-.048.31.034.358.183l4.946 15.295a.285.285 0 0 1-.54.175l-4.947-15.295a.284.284 0 0 1 .183-.358ZM68.36 170.432v.011c0 .008 0 .021.002.038l.01.154c.01.136.029.335.06.586.064.504.181 1.216.395 2.046.427 1.664 1.237 3.789 2.766 5.666 1.528 1.875 4.006 3.545 6.297 4.361 1.145.408 2.22.594 3.092.501.863-.092 1.502-.451 1.852-1.118a.285.285 0 1 1 .503.263c-.46.881-1.3 1.315-2.295 1.42-.988.105-2.154-.107-3.343-.531-2.379-.847-4.947-2.574-6.546-4.537-1.598-1.961-2.437-4.171-2.877-5.883a17.371 17.371 0 0 1-.407-2.116 12.866 12.866 0 0 1-.077-.824v-.017l.283-.01-.284.01a.284.284 0 1 1 .568-.02ZM76.71 168.185a.284.284 0 1 0-.155-.547l-2.53.711a.284.284 0 1 0 .154.547l2.53-.711ZM77.418 169.228a.284.284 0 0 1-.197.35l-2.53.711a.284.284 0 1 1-.154-.547l2.53-.711a.285.285 0 0 1 .35.197ZM77.673 171.256a.283.283 0 1 0-.148-.548l-2.53.682a.284.284 0 1 0 .148.549l2.53-.683ZM78.242 172.269a.284.284 0 0 1-.196.351l-2.502.711a.284.284 0 0 1-.155-.547l2.502-.711a.284.284 0 0 1 .35.196ZM78.529 174.354a.284.284 0 1 0-.154-.547l-2.53.711a.283.283 0 1 0 .153.547l2.53-.711Z" fill="#000"/><path d="m76.86 164.017-5.06.256c-.768.028-1.337.682-1.308 1.45.028.767.682 1.336 1.45 1.307l5.572-.284a.56.56 0 0 0 .483-.767l-.597-1.592c-.057-.256-.284-.398-.54-.37Z" fill="#DA80A0"/><path d="m77.275 155.952 5.856-50.915s.768-8.586-6.169-9.922c-11.286-2.161-10.689 9.41-10.689 9.41l.029 53.19 10.973-1.763Z" fill="#F0E7D9"/><path d="m45.464 127.268-9.723 14.726 2.283 3.212h5.563l9.069-13.532c-.029.029-2.7-4.321-7.192-4.406Z" fill="#A67243"/><path d="m43.84 144.996-2.469 6.608s.797 1.802-.62 3.679c0 0-4.133 5.647-9.682 6.288-5.55.64-12.334-.426-6.23-7.354l11.316-12.808c.713-1.213 2.217-.534 7.685 3.587Z" fill="#009A8F"/><path d="M27.292 153.258s1.629 2.544 5.451.795l8.643-10.864s-3.231-2.833-3.707-2.199l-10.387 12.268Z" fill="#84CCAA"/><path d="M37.863 140.773a.284.284 0 0 0-.4.033l-10.388 12.268a.285.285 0 1 0 .434.367l10.387-12.267a.285.285 0 0 0-.033-.401ZM41.075 151.502v.002l-.004.008-.017.035a12.005 12.005 0 0 1-.347.657c-.25.442-.629 1.056-1.141 1.743-1.028 1.376-2.585 3.035-4.712 4.19-2.126 1.153-5.053 1.757-7.482 1.641-1.214-.058-2.279-.294-3.05-.711-.764-.413-1.219-.988-1.288-1.739a.283.283 0 0 0-.31-.256.283.283 0 0 0-.256.309c.091.99.703 1.71 1.584 2.186.874.472 2.032.719 3.294.779 2.522.12 5.554-.502 7.779-1.71 2.223-1.206 3.839-2.932 4.896-4.349a17.31 17.31 0 0 0 1.181-1.802c.13-.23.227-.415.292-.544l.073-.149.02-.04.004-.011.002-.003v-.001l-.259-.118.26.118a.284.284 0 1 0-.518-.235ZM34.205 146.251a.284.284 0 1 1 .35-.448l2.07 1.619a.284.284 0 0 1-.35.448l-2.07-1.619ZM33.154 146.946a.284.284 0 0 0 .049.399l2.07 1.619a.284.284 0 1 0 .35-.448l-2.07-1.618a.285.285 0 0 0-.4.048ZM32.147 148.726a.285.285 0 0 1 .346-.452l2.08 1.593a.284.284 0 1 1-.345.451l-2.081-1.592ZM31.236 149.446a.284.284 0 0 0 .048.399l2.044 1.608a.285.285 0 1 0 .351-.447l-2.044-1.607a.284.284 0 0 0-.399.047ZM30.178 151.266a.284.284 0 1 1 .35-.448l2.07 1.619a.284.284 0 0 1-.35.448l-2.07-1.619Z" fill="#000"/><path d="m35.65 142.338 4.584 2.16c.699.318.976 1.139.658 1.838-.318.699-1.139.977-1.838.659l-5.046-2.381a.56.56 0 0 1-.155-.893l1.157-1.246c.15-.215.414-.26.64-.137Z" fill="#DA80A0"/><path d="m39.55 135.171 20.014-47.163s3.582-7.846 10.263-5.601c10.888 3.696 4.662 13.447 4.662 13.447l-26.296 46.253-8.643-6.936Z" fill="#F0E7D9"/><path d="m54.987 130.111 17.967-31.158s2.132-4.577 5.941.426" stroke="#000" stroke-width=".569" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="m75.526 22.664.284 11.855-4.918 7.988-4.691-7.675-.256-6.596 9.58-5.572Z" fill="#A67243"/><path d="M69.158 3.532c-5.913-.54-11.741 4.776-10.86 13.475.938 8.983 7.25 14.64 10.718 14.64 4.349 0 9.807-8.585 9.41-15.863-.399-7.277-3.071-11.655-9.268-12.252Z" fill="#A67243"/><path d="M63.705 14.413c.215-.227.52-.394.842-.409.322-.015.658.136.796.41M70.44 14.413c.215-.227.521-.394.843-.409.32-.015.658.136.796.41" stroke="#000" stroke-width=".569" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M64.394 18.355c.38 0 .689-.434.689-.97s-.308-.97-.689-.97c-.38 0-.689.434-.689.97s.309.97.689.97ZM71.436 18.355c.38 0 .688-.434.688-.97s-.308-.97-.688-.97c-.38 0-.69.434-.69.97s.31.97.69.97Z" fill="#000"/><path d="M67.697 17.831c.06 2.112-.912 3.456-.897 3.678.015.221.553.886 1.136.782M66.222 24.533s.87 1.125 4.025 0" stroke="#000" stroke-width=".569" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M76.919 16.552s1.563-1.791 2.473-.91c.91.882 1.649 5.004-1.734 5.43 0 0-3.099-.114-.74-4.52ZM59.833 16.552s-1.563-1.791-2.473-.91c-.91.882-1.65 5.004 1.734 5.43 0 0 3.099-.114.739-4.52Z" fill="#A67243"/><path d="M70.465 31.676s4.691-2.928 5.885-6.766M79.221 17.263s-1.308-.882-1.109 2.103c0 0 .54-1.194.626-.824M57.616 17.263s1.307-.882 1.108 2.103c0 0-.54-1.194-.625-.824M69.954 43.843l.17 9.95" stroke="#000" stroke-width=".569" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M77.26 34.69c.312-.995-.711-1.65-.597-2.73.312-2.928 1.904-5.401 2.956-8.073 2.132-5.459 2.53-13.078-.597-17.825-3.155-4.776-9.95-6.112-14.64-3.525-4.009 2.217-7.96 4.32-9.95 15.266-1.251 6.823-.683 9.95 1.336 13.22 2.018 3.809 7.277 8.272 7.76 13.616 0 0 2.161-1.137 3.298-3.383 0 0 4.634 3.355 5.373 5.43-.028.029 5.487-8.841 5.06-11.996ZM67.85 9.985c7.96.768 9.523 3.781 9.523 7.05 0 4.776-2.615 9.61-3.582 11.827-.739 1.705-1.108 3.809-.625 5.6-.938-1.08-2.7-1.592-3.781-2.331 0 0-8.5-3.44-10.149-10.69-.74-3.268-.142-12.309 8.614-11.456Z" fill="#DA80A0"/><path d="M77.402 13.766c-6.738-6.197-15.238-4.918-17.796.74-2.104 4.633-1.934 13.531 13.56 19.132 2.16.796 1.791 7.277-2.502 4.974M80.415 11.435c.91-12.65-12.992-12.281-16.488-9.012" stroke="#000" stroke-width=".569" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M66.713 40.432a33.83 33.83 0 0 1-3.213 4.236c-.511-8.7-10.632-11.144-10.206-23.312.143-4.179 3.554-17.568 16.262-16.772M67.85 42.166c1.45.91 2.729 2.16 3.752 3.639.171.256.455.569.711.426a.865.865 0 0 0 .228-.227c1.051-1.507 1.734-3.326 2.388-5.089l2.302-6.225" stroke="#000" stroke-width=".569" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/></svg>'},"/5AG":function(e,t,n){"use strict";var i=n("ERkP"),s=n.n(i),a=n("7O4Y"),o=n("nmzr"),r=n("8jBL"),l=n("tN4z"),c=n("eqO1"),d=n("VQ4P"),u=n("uDfI"),m=n("IbyE"),p=n("GuFu"),h=n("Agfx");const g=Object(h.makeStyles)((e=>Object(h.createStyles)({root:{borderBottom:`1px solid ${e.palette.border.main}`},navigationList:{paddingLeft:0,[e.breakpoints.up("md")]:{paddingLeft:"16px"}},studentPreview:{marginLeft:"auto",padding:"0 16px"},studentPreviewLabel:{"& span":{marginLeft:"8px"}}}))),b=e=>{const{navigationListItems:t,showStudentPreviewButton:n,studentPreviewOnclick:s}=e,h=Object(d.a)(),b=g(e),f=Object(u.e)((e=>m.gc.app.getRoute(e).name)),v=e=>(null==f?void 0:f.indexOf(e))>=0,y=Object(c.t)(),k=Object(c.s)(y.breakpoints.up("md"));var x;const S=h((x="cr.components.courseNavigation.studentPreview",Object(p.i)("cr.components.courseNavigation","cr.components.courseNavigation.organization")(x)));return i.createElement(l.AnalyticsNavigationListScrollWrapper,{className:Object(a.a)(b.root,"js-course-navigation"),scrollLeftButtonAriaLabel:h("cr.components.courseNavigation.scrollLeftButtonAriaLabel"),scrollRightButtonAriaLabel:h("cr.components.courseNavigation.scrollRightButtonAriaLabel"),analyticsId:"course.navigation.list.scroll.wrapper"},i.createElement(l.AnalyticsNavigationList,{className:b.navigationList,navTagAriaLabel:h("cr.components.courseNavigation.navTagAriaLabel"),orientation:"horizontal",analyticsId:"course.navigation.list"},t.map((e=>{const t=(n=e.route).indexOf(o.o.COURSE_ANALYTICS)>=0?"course.getAnalytics.link":`${n}.link`;var n;return i.createElement(l.AnalyticsNavigationListItem,{href:e.href,active:void 0===e.activeTabRoute?v(e.route):v(e.activeTabRoute),analyticsId:t,key:e.route,className:e.className},i.createElement(l.AnalyticsListItemText,{analyticsId:`${t}.text`},i.createElement(l.AnalyticsTypography,{component:"span",variant:"subtitle2"},e.title)))}))),n&&i.createElement(l.AnalyticsIconButton,{analyticsId:"course.outline.studentPreview.link",className:Object(a.a)(b.studentPreview,"js-student-preview"),"aria-label":S,classes:{label:b.studentPreviewLabel},onClick:s},i.createElement(r.StudentPreview,null),k&&i.createElement(l.AnalyticsTypography,{className:"js-student-preview-label",component:"span",variant:"inherit"},S)))};var f=n("0x+l"),v=n("THXI");const y={width:"2px"},k="4px",x=Object(h.makeStyles)((e=>Object(h.createStyles)({autoMarked:{color:v.c.granite,backgroundColor:v.c.fog,borderRadius:"50%"},completed:{color:e.palette.success.main},container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},iconWrapper:{minWidth:"38px",minHeight:"38px",display:"flex",alignItems:"center",justifyContent:"center",margin:"-8px 0","& > span > span":{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}},offsetIconPositioning:{flex:"0 0 auto",margin:"-8px 0"},centeredIconPositioning:{flex:"0 0 auto",margin:"0"},completionLineBefore:{...y,flex:"0 0 auto",height:"28px",borderBottomLeftRadius:k,borderBottomRightRadius:k},completionLineAfter:{...y,flex:"1 1 auto",height:"8px",borderTopLeftRadius:k,borderTopRightRadius:k},completionLineAutoGrow:{flex:"1 1 auto",height:"unset"},completionComplete:{backgroundColor:e.palette.success.main},completionIncomplete:{backgroundColor:e.palette.secondary.main},completionHidden:{backgroundColor:"transparent"},noNeighborsCompletion:{display:"none"},noIconSpacing:{width:"38px"},completedHovering:{borderRadius:"50%","&:hover":{boxShadow:`0 0 0 8px ${e.palette.success.main}48`}},startedHovering:{borderRadius:"50%","&:hover":{boxShadow:`0 0 0 8px ${e.palette.primary.main}48`}},lockIcon:{cursor:"default"}})));var S,C=n("zGdY");!function(e){e.None="none",e.Incomplete="incomplete",e.Completed="completed"}(S||(S={}));const E=(e,t,n)=>{const i=Object(d.a)(),s=x();if(e.visibility!==C.w.Visible)return C.u.Completed!==t?{iconStyles:"",tooltipText:""}:{iconStyles:s.completed,tooltipText:"",buttonStyles:""};if((e=>!(!m.i.Folder.isEqualTo(null==e?void 0:e.contentHandler)||m.j.isBbPage(e))||!!m.i.LearningModule.isEqualTo(null==e?void 0:e.contentHandler))(e))return C.u.Completed===t?{iconStyles:s.completed,tooltipText:""}:{iconStyles:s.autoMarked,tooltipText:i("courseCore.course.progress.reviewStateIcon.tooltips.childrenUpdatesWillAutoUpdateFolder")};if(C.u.None===t)return{iconStyles:s.autoMarked,tooltipText:i("courseCore.course.progress.reviewStateIcon.tooltips.unopened")};if(n){if(C.u.Started===t)return{iconStyles:s.autoMarked,tooltipText:i("courseCore.course.progress.reviewStateIcon.tooltips.submissionWillAutoUpdate")};if(C.u.Completed===t)return e.inSequence?{iconStyles:s.completed,tooltipText:""}:{iconStyles:s.completed,tooltipText:i("courseCore.course.progress.reviewStateIcon.tooltips.newAttemptWillAutoUpdate")}}if(!e.inSequence&&e.permissions.canUpdateReviewState){if(C.u.Started===t)return{iconStyles:s.startedHovering,tooltipText:i("courseCore.course.progress.reviewStateIcon.tooltips.canTransitionToComplete")};if(C.u.Completed===t)return{iconStyles:`${s.completed} ${s.completedHovering}`,tooltipText:i("courseCore.course.progress.reviewStateIcon.tooltips.canTransitionToStarted")}}return C.u.Completed===t?{iconStyles:s.completed,tooltipText:""}:{iconStyles:"",tooltipText:""}},I=({content:e,contentState:t,onReviewStateIconClick:n,hasAutomaticReviewStateTransition:s,beforeItemState:o,afterItemState:r,centerButton:c})=>{var u;const p=x(),{StateIcon:h,ariaLabel:g,ariaChecked:b}=((e,t)=>{const n=Object(d.a)(),i={contentItemTitle:e.title};let s="false";return t===C.u.Completed?s="true":t===C.u.Started&&(s="mixed"),e.visibility&&e.visibility!==C.w.Visible?{StateIcon:f.LockCircle,ariaLabel:n("courseCore.course.progress.reviewStateIcon.ariaLabel.locked",i),ariaChecked:s}:C.u.Completed===t?{StateIcon:f.Complete,ariaLabel:n("courseCore.course.progress.reviewStateIcon.ariaLabel.completed",i),ariaChecked:s}:C.u.Started===t?{StateIcon:f.Started,ariaLabel:n("courseCore.course.progress.reviewStateIcon.ariaLabel.started",i),ariaChecked:s}:C.u.None===t?{StateIcon:f.Circle,ariaLabel:n("courseCore.course.progress.reviewStateIcon.ariaLabel.none",i),ariaChecked:s}:{StateIcon:f.Circle,ariaLabel:n("courseCore.course.progress.reviewStateIcon.ariaLabel.unlocked",i),ariaChecked:s}})(e,t),{iconStyles:v,tooltipText:y}=E(e,t,s),{beforeLineStateStyle:k,afterLineStateStyle:I,iconPositioning:w}=((e,t,n,i,s)=>{const a=x();let o=a.completionHidden,r=a.completionHidden,l=a.offsetIconPositioning;return m.i.LearningModule.isEqualTo(e.contentHandler)?(o=a.noNeighborsCompletion,r=a.noNeighborsCompletion,l=a.centeredIconPositioning):(n!==S.None&&(o=n===S.Completed?a.completionComplete:a.completionIncomplete),i!==S.None&&(r=t===C.u.Completed?a.completionComplete:a.completionIncomplete)),s&&(o+=` ${a.completionLineAutoGrow}`,r+=` ${a.completionLineAutoGrow}`),{beforeLineStateStyle:o,afterLineStateStyle:r,iconPositioning:l}})(e,t,o,r,null!=c&&c);return!!(null===(u=e.permissions)||void 0===u?void 0:u.canViewReviewState)?i.createElement("div",{className:p.container},i.createElement("div",{className:`${p.completionLineBefore} ${k}`}),e.permissions.canHaveReviewState?i.createElement(l.AnalyticsTooltip,{analyticsId:"course.outline.course-progress.review-state-icon-button.tooltip",title:y,placement:"top",className:w},i.createElement(l.AnalyticsIconButton,{"aria-disabled":e.inSequence||s||t===C.u.None,"aria-label":g,analyticsId:"course.outline.course-progress.review-state-icon-button.button",className:Object(a.a)("js-review-state-icon-button",{[p.lockIcon]:e.visibility!==C.w.Visible}),onClick:n,role:"checkbox","aria-checked":b},i.createElement("span",{"aria-hidden":"true"},i.createElement(h,{className:v})))):i.createElement("span",{className:p.iconWrapper},i.createElement("span",{className:w},i.createElement("span",{"aria-hidden":"true"},i.createElement(h,{className:v})))),i.createElement("div",{className:`${p.completionLineAfter} ${I}`})):i.createElement("div",{className:p.noIconSpacing})},w=({afterItemState:e,beforeItemState:t,contentId:n,courseId:s,hasAutomaticReviewStateTransition:a,onReviewStateIconClick:o})=>{const r=Object(p.a)(s,n),l=Object(p.b)(s,n)||C.u.None;return r?i.createElement(I,{afterItemState:e,beforeItemState:t,content:r,contentState:l,hasAutomaticReviewStateTransition:a,onReviewStateIconClick:o}):null};var A=n("UE5/"),O=n("jZnR");const D=Object(A.a)((e=>Object(O.a)({instructions:{marginBottom:"16px"},instructionBullets:{marginLeft:"8px"},beforeYouSaveHeader:{marginBottom:"16px"},beforeYouSave:{marginTop:"16px",display:"flex",flexDirection:"row"},informationIcon:{verticalAlign:"middle",marginRight:"8px",marginTop:"3px"},delayedChanges:{marginLeft:"42px",color:Object(c.h)("text.secondary",e)}}))),T=({disabled:e,courseProgressConfiguration:t,onCourseProgressConfigurationChanged:n})=>{const s=Object(p.i)("courseCore.course","courseCore.organization"),o=Object(d.a)(),r=D(),c=t.progressTrackingEnabled?"courseCore.course.progress.courseProgressConfiguration.toggleLabelOn":"courseCore.course.progress.courseProgressConfiguration.toggleLabelOff",[u,m]=Object(i.useState)(!1),[h]=Object(i.useState)(t.progressTrackingEnabled),g=i.useCallback((()=>{const e=!t.progressTrackingEnabled;n({...t,progressTrackingEnabled:e}),m(h&&!e)}),[t.progressTrackingEnabled,h,n,m]);return i.createElement("div",null,i.createElement("div",{className:Object(a.a)(r.instructions,"course-progress-configuration-instructions")},o("courseCore.course.progress.courseProgressConfiguration.instructionsHeader")),i.createElement("ul",null,i.createElement("li",{className:r.instructionBullets},o(s("courseCore.course.progress.courseProgressConfiguration.instructionsBulletPoint1"))),i.createElement("li",{className:r.instructionBullets},o(s("courseCore.course.progress.courseProgressConfiguration.instructionsBulletPoint2")))),i.createElement(l.AnalyticsFormControlLabel,{analyticsId:"features.course.oultine.course-progress-configuration.enable.switch.label",checked:t.progressTrackingEnabled,className:"js-enable-progress-tracking",control:i.createElement(l.AnalyticsSwitch,{analyticsId:"features.course.outline.course-progress-configuration.enable.switch",id:"progressTrackingEnable"}),disabled:e,htmlFor:"progressTrackingEnable","aria-label":o("courseCore.course.progress.courseProgressConfiguration.toggleAriaLabel"),label:o(c),onChange:g}),i.createElement("div",{className:r.delayedChanges},o("courseCore.course.progress.courseProgressConfiguration.delayedChanges")),u&&i.createElement("div",{className:r.beforeYouSave},i.createElement("div",{className:Object(a.a)(r.beforeYouSaveHeader,"course-progress-configuration-before-you-save-header")},i.createElement(f.Information,{className:r.informationIcon})),i.createElement("div",null,o(s("courseCore.course.progress.courseProgressConfiguration.beforeYouSave")))))};var P=n("caKH"),$=n("MC1S"),G=n("WBPx");const j=({onStay:e,onProceed:t,show:n})=>{const s=Object(d.a)();return i.createElement(P.c,{hidden:!n,onDismiss:e,dialogContentProps:{type:$.DialogType.small,title:s("courseCore.course.progress.courseProgressConfiguration.confirmationModal.title"),showCloseButton:!0,isAlert:!0},analyticsId:"courseProgress.courseProgressConfiguration.saveConfirmation.dialog"},i.createElement("p",null,s("courseCore.course.progress.courseProgressConfiguration.confirmationModal.studentsWontSeeProgressMarks")),i.createElement($.DialogFooter,null,i.createElement(G.AnalyticsDefaultButton,{onClick:e,analyticsId:"courseProgress.courseProgressConfiguration.saveConfirmation.dialog.cancel"},s("courseCore.course.progress.courseProgressConfiguration.confirmationModal.cancel")),i.createElement(G.AnalyticsPrimaryButton,{onClick:t,analyticsId:"courseProgress.courseProgressConfiguration.saveConfirmation.dialog.close"},s("courseCore.course.progress.courseProgressConfiguration.confirmationModal.confirm"))))};var L=n("AuQm");function N(e,t){return!t.inSequence||m.j.isFolderContentItem(t)||!e||m.j.isFolderContentItem(e)?S.None:e.state===C.u.Completed?S.Completed:S.Incomplete}var B=n("nsO7");const M=[C.w.Visible,C.w.Restricted],R=[C.w.Visible,C.w.Restricted,C.w.Hidden],F=({courseId:e,userId:t,visibility:n,contentId:s,total:a})=>{const o=Object(u.d)(),r=Object(p.E)({courseId:e,contentId:"ROOT"}),l=null==r?void 0:r.id,c="ROOT"===s&&null!=l?l:s,d=Object(u.e)((e=>m.gc.contentReviewState.getContentReviewStateFirstUserContent(e,{userId:t,contentId:c,visibility:n})),B.isEqual),h=Object(i.useMemo)((()=>({courseId:e,userId:t,contentId:c,limit:20})),[e,t,c]),{isLoading:g,canLoadMore:b,nextOffset:f,count:v}=Object(u.e)((e=>m.gc.contentReviewState.hasMoreContentReviewStateUserContent(e,h)),B.isEqual);Object(i.useEffect)((()=>{!l||g||!b||d.length>=a||o(m.X.contentReviewState.fetchMoreContentReviewStateUserContent({courseId:e,userId:t,contentId:c,paging:{offset:f,limit:20}}))}),[o,l,g,b,d.length,a,e,t,c,f]);const y=g||b&&d.length<a;return Object(i.useMemo)((()=>({canLoadMore:b,count:v,isLoading:y,items:d})),[d,b,y,v])};var V=n("n7/H"),_=n("HuI8");const U=Object(h.makeStyles)((e=>Object(h.createStyles)({row:{"& td":{padding:0,border:0,borderBottom:`1px solid ${e.palette.border.main}`,height:"100%"}},rowExpandable:{cursor:"pointer","&:hover > td":{backgroundColor:e.palette.background.b3}},rowIsExpanded:{"& td:first-child":{borderLeft:`1px solid ${e.palette.border.main}`},"& td:last-child":{borderRight:`1px solid ${e.palette.border.main}`}},rowLearningModule:{backgroundColor:e.palette.background.paper,"& > td":{borderBottom:`1px solid ${e.palette.border.main}`},"& td:first-child":{borderLeft:`1px solid ${e.palette.border.main}`},"& td:last-child":{borderRight:`1px solid ${e.palette.border.main}`}},rowIsChild:{"& td":{borderBottom:0},"& td:first-child":{borderLeft:`1px solid ${e.palette.border.main}`},"& td:last-child":{borderRight:`1px solid ${e.palette.border.main}`},"& $cellTitleContent, & $cellStatusExpandContainer":{borderBottom:`1px solid ${e.palette.border.main}`}},rowIsLastOnLevel:{"& td":{borderBottom:`1px solid ${e.palette.border.main}`},"& $cellTitleContent, & $cellStatusExpandContainer":{borderBottom:"0"}},rowText:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%",padding:"16px 0"},cellTitleContainer:{display:"flex",flexDirection:"row",alignItems:"center",position:"relative",height:"100%"},cellTitleReviewIcon:{height:"100%",position:"absolute",top:"0",bottom:"0"},cellTitleContentIconTitle:{marginLeft:"36px",display:"flex",flexDirection:"row",alignItems:"center",flexGrow:1,height:"100%"},cellTitleContent:{display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"center",padding:"24px 0",height:"100%",minHeight:"70px"},cellStatusExpandContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%"},statusContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",height:"100%",padding:"20px"},expandContainer:{display:"flex",justifyContent:"flex-end",height:"100%",padding:"20px","& > div":{alignItems:"center"}},expandButton:{marginInlineStart:"auto"}})));var H=n("50Q+");function z(e,t){return Math.max(("sm"===t?32:38)*e,0)}const q=Object(i.createContext)(0),W=q.Provider;function K(){return Object(i.useContext)(q)}const J=()=>Object(h.useMediaQuery)((e=>e.breakpoints.up("sm")))?"md+":"sm",Q=Object(h.makeStyles)((e=>({contentItemIcon:{marginRight:"10px",marginLeft:"34px"},contentItemComponent:{position:"relative",flex:"1 1 auto","&::after":{content:'""',position:"absolute",left:0,right:"var(--divider-inline-end, 0)",bottom:"-20px",borderTop:`1px solid ${e.palette.secondary.main}`},".content-list-item.root:last-of-type &":{position:"inherit"},".content-list-item.addable-item &::after":{display:"none"}},contentItemComponentDetails:{display:"flex"},contentVisibility:{display:"flex",flexDirection:"column",width:"fit-content",gap:"4px",[e.breakpoints.up("sm")]:{flexDirection:"row",gap:"12px"}},contentItemContentArea:{width:0,flex:"1 1 auto",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"38px"},contentItemContextArea:{display:"flex",minHeight:"29px",alignItems:"center",marginTop:"5px"},contentItemDescription:{padding:"8px 15px 0 0",marginBottom:0},dragHandle:{display:"flex",flexDirection:"column",justifyContent:"center"},overlaidIcon:({nestingLevel:e,indentationBreakpoint:t})=>({position:"absolute",height:"inherit",top:0,bottom:0,zIndex:1,marginLeft:`${z(e,t)}px`}),contentItemOverlaidIcon:{left:"-2px"}}))),Z=()=>{const e=K(),t=J();return Q({nestingLevel:e,indentationBreakpoint:t})},Y=e=>({backgroundColor:e.palette.brand.light,border:`2px solid ${e.palette.brand.main}`,borderLeft:"0",borderRight:"0",content:"''",position:"absolute",height:"13px",left:0,right:0});function X(e,t){return e<0?0:z(e,t)+82}const ee=Object(h.makeStyles)((e=>({contentList:({nestingLevel:t})=>({"--divider-inline-start":`${X(t,"sm")}px`,"--divider-inline-end":(t>0?12:0)+"px",[e.breakpoints.up("sm")]:{"--divider-inline-start":`${X(t,"md+")}px`}}),topDivider:({nestingLevel:t})=>({"--divider-inline-start":`${X(t-1,"sm")}px`,"--divider-inline-end":(t>1?12:0)+"px",[e.breakpoints.up("sm")]:{"--divider-inline-start":`${X(t-1,"md+")}px`}}),centeredDivider:{"--divider-inline-end":"15px","--divider-inline-start":"15px"},divider:({isButtonVisible:e})=>({"--add-button-opacity":e?1:0}),contentListItem:{position:"relative","&.root":{position:"relative"},"&.root:last-of-type":{"--divider-inline-start":0},"&.native-drag-top::before":{...Y(e),top:"-3px"},"&.native-drag-bottom::after":{...Y(e),bottom:"0"}},togglableBottom:{position:"absolute",top:"0"}}))),{darken:te}=h.colorManipulator,ne=Object(h.makeStyles)((e=>({contentItemIcon:{position:"relative"},customIcon:{width:38},restrictedContentItemIcon:{"&::before":{content:'""',display:"block",position:"absolute",top:"16px",width:"50px",height:"1px",background:te(e.palette.border.main,.2),boxShadow:`0 0 0 2px ${e.palette.background.default}`,zIndex:1,"&":{flip:!1,left:"-8px",transform:"rotate(-45deg)"}}}}))),ie=Object(h.makeStyles)((()=>Object(h.createStyles)({contentIconContainer:{display:"inline-flex",position:"relative",margin:"0 18px 0 5px"},contentIcon:{width:"24px"},restrictedContentIcon:{"&::before":{top:"18px",width:"40px"}}})));const se=e=>{var t,n,i;const{content:o}=e,r=ie(),l=ne(),c=function(e){if(!e)return!1;switch(m.j.getContentHandler(e).toString()){case C.t.File:case C.t.Journal:case C.t.LtiLink:case C.t.LtiPlacement:case C.t.Page:case C.t.RusticiScorm:case C.t.TestLink:return!0;default:return!1}}(Object(p.a)(null!==(t=o.courseId)&&void 0!==t?t:"",null===(i=null===(n=o.contentDetail)||void 0===n?void 0:n[C.t.CourseLink])||void 0===i?void 0:i.linkSourceId)),d=o.visibility===C.w.Hidden,u=s.a.createElement(H.a,{className:r.contentIcon,item:o,withLabel:!1});return s.a.createElement("span",{className:Object(a.a)(r.contentIconContainer,d?r.restrictedContentIcon:void 0,d?l.restrictedContentItemIcon:void 0)},c?s.a.createElement(L.C,null,u):u)},ae=Object(h.makeStyles)((e=>Object(h.createStyles)({cellTitleContent:{fontWeight:e.typography.fontWeightSemiBold},cellTitleContentHidden:{color:e.palette.text.secondary},conditionalRelease:{display:"inline-flex",flexDirection:"row","& svg":{marginInlineEnd:"8px"}},conditionalReleaseText:{color:e.palette.text.secondary},statusCompactContainer:{[e.breakpoints.up("sm")]:{display:"none"}},statusCompact:{paddingInlineEnd:"4px"},visibilityHint:{color:e.palette.text.hint}}))),oe=Object(h.makeStyles)((e=>Object(h.createStyles)({conditionalRelease:{display:"inline-flex",flexDirection:"row","& svg":{marginInlineEnd:"8px"}},conditionalReleaseText:{color:e.palette.text.secondary},conditionalReleaseButton:{display:"flex",backgroundColor:"unset",border:"none",padding:0,fontWeight:e.typography.fontWeightRegular,minHeight:"unset","&:hover, &:active, &:hover:active":{textDecoration:"underline",backgroundColor:"unset"}}})));var re=n("VAMW");function le(){const[e]=Object(i.useState)((()=>Object(re.e)(re.d.CurrentCourseMembership).isStudentMembership()?"student":"instructor"));return e}const ce=Object(i.createContext)(null);var de=n("iFXv");function ue(){var e;const t=Object(i.useContext)(ce),n=Object(u.e)((e=>de.c.getRoute(e).params.courseId));return null!==(e=null!=t?t:n)&&void 0!==e?e:""}const me=new Map;function pe(e,t=""){const n=Object(u.d)(),s=Object(u.e)((e=>m.gc.gradebookColumn.getGradebookColumnById(e,t))),a=Object(u.e)((e=>m.gc.gradebookColumn.isLoading(e))),o=function(e,t=""){var n;return null!==(n=me.get(`${e}${t}`))&&void 0!==n&&n}(e,t),r=!!s;return Object(i.useEffect)((()=>{!e||!t||r||a||o||(!function(e,t=""){me.set(`${e}${t}`,!0)}(e,t),n(m.X.gradebookColumn.loadGradebookColumn({columnId:t,courseId:e,allowedErrors:[C.S.Forbidden]})))}),[n,e,t,r,a,o]),s}function he(e){const t=function(e){const t=Object(d.a)();if(e)return t("components.directives.content-item-base.conditionalRelease.acl-tooltip")}(m.h.getACLCriterion(e)),n=function(e){const t=Object(d.a)(),n=le();let i="";if((null==e?void 0:e.start)&&(null==e?void 0:e.end))i="both";else if(null==e?void 0:e.start)i="showon";else{if(!(null==e?void 0:e.end))return;i="hideafter"}return t(`components.directives.content-item-base.conditionalRelease.${n}-${i}-date-tooltip`,{showon:e.start?new Date(e.start):void 0,hideafter:e.end?new Date(e.end):void 0})}(m.h.getDateCriterion(e)),i=function(e){const t=Object(d.a)(),n=le(),i=m.h.getForcedSequenceCriterion(e),s=0===e.position;if(i&&"instructor"!==n)return t(`components.directives.content-item-base.conditionalRelease.student-forced-sequence${s?"-first":""}-item-tooltip`)}(e);return{acl:t,date:n,forcedSequence:i,performance:function(e){var t,n,i,s;const a=Object(d.a)(),o=le(),r=ue(),l=pe(r,null==e?void 0:e.gradeColumnId),c=Object(p.t)(r,null==l?void 0:l.gradingSchemaId);if(!e)return;if(!e.gradeColumnId||!l||!c)return{text:a(`components.directives.content-item-base.conditionalRelease.${o}-missing-column-error`),valid:!1};let u=`components.directives.content-item-base.conditionalRelease.${o}-lock-tooltip`;"number"!=typeof e.maxScore?u+="-common":e.minScore===e.maxScore?u+="-equal":u+="-custom";const m=l.columnName;switch(e.type){case C.Z.Grade:{if(void 0===e.maxScore&&c.scaleType!==C.ac.Score&&c.scaleType!==C.ac.Complete)break;const i="components.directives.content-item-base.conditionalRelease.point.plural";return{text:a(u,{title:m,minScore:a(i,{score:null!==(t=e.minScore)&&void 0!==t?t:0}),maxScore:a(i,{score:null!==(n=e.maxScore)&&void 0!==n?n:l.possible})}),valid:!0}}case C.Z.GradePercentage:if(void 0!==e.maxScore||c.scaleType===C.ac.Percent){const t="components.directives.content-item-base.conditionalRelease.percentage";return{text:a(u,{title:m,minScore:a(t,{score:null!==(i=e.minScore)&&void 0!==i?i:0}),maxScore:a(t,{score:null!==(s=e.maxScore)&&void 0!==s?s:l.possible})}),valid:!0}}if(c.scaleType===C.ac.Tabular){const t=[...c.symbols].sort(((e,t)=>e.absoluteTranslation-t.absoluteTranslation)).find((({absoluteTranslation:t})=>{var n;return t>=(null!==(n=e.minScore)&&void 0!==n?n:0)}));return{text:a(u,{title:m,minScore:null==t?void 0:t.symbol}),valid:!0}}}return{text:a(u,{title:m,minScore:"",maxScore:""}),valid:!0}}(m.h.getPerformanceCriterion(e))}}const ge=Object(h.makeStyles)((()=>({tooltipList:{margin:"0px 0px 0px 12px"}}))),be=e=>{var t,n,i;const{item:a}=e,{translate:o,formatItems:r}=Object(_.a)(),c=ge(),d=he(a);let u;u=!1===(null===(t=d.performance)||void 0===t?void 0:t.valid)?[d.performance.text]:[d.acl,null===(n=d.performance)||void 0===n?void 0:n.text,d.date,d.forcedSequence].filter((e=>!!e));const m=function(e){let t="";return e.acl&&e.date&&e.performance?t="courseCore.components.contentItems.conditionalRelease.courseMembersAndDateAndTimeAndPerformance":e.acl&&e.performance?t="courseCore.components.contentItems.conditionalRelease.courseMembersAndPerformance":e.acl&&e.date?t="courseCore.components.contentItems.conditionalRelease.courseMembersAndDateAndTime":e.date&&e.performance?t="courseCore.components.contentItems.conditionalRelease.dateAndTimeAndPerformance":e.acl?t="courseCore.components.contentItems.conditionalRelease.courseMembers":e.date?t="courseCore.components.contentItems.conditionalRelease.dateAndTime":e.performance&&(t="courseCore.components.contentItems.conditionalRelease.performance"),t}(d),p=a.title;return s.a.createElement(l.AnalyticsTooltip,{analyticsId:"components.common.conditional-release-tooltip","aria-label":`${o(m,{contentItemTitle:p})} ${r(u)}`,title:u.length>1?s.a.createElement("ul",{className:c.tooltipList},u.map((e=>s.a.createElement("li",{key:e},e)))):s.a.createElement("div",null,null!==(i=u[0])&&void 0!==i?i:"")},e.children)},fe=e=>{const{analyticsId:t,content:n}=e,i=Object(d.a)(),a=oe(),o=Object(p.i)("courseCore.course","courseCore.organization");if(n.visibility===C.w.Visible)return s.a.createElement(s.a.Fragment,null);const r=m.j.hasAdaptiveReleaseRules(n);return s.a.createElement("span",{className:a.conditionalRelease},n.inSequence?s.a.createElement(l.AnalyticsTypography,{variant:"caption",className:a.conditionalReleaseText},i(o("courseCore.course.progress.student.studentsNeedToCompletePrevious"))):r?s.a.createElement(be,{item:n},s.a.createElement(l.AnalyticsDefaultButton,{analyticsId:`${t}.releaseButton`,className:a.conditionalReleaseButton},s.a.createElement(f.Lock,null),s.a.createElement(l.AnalyticsTypography,{variant:"caption",className:a.conditionalReleaseText},i("components.directives.content-visibility.conditional-availability")))):s.a.createElement(l.AnalyticsTypography,{variant:"caption",className:a.conditionalReleaseText},i(o("courseCore.course.progress.student.hiddenForThisStudent"))))},ve=Object(h.makeStyles)((e=>Object(h.createStyles)({statusLine:{textDecoration:"underline",backgroundColor:"unset",border:"none",padding:0,fontWeight:e.typography.fontWeightRegular,"&:hover, &:active, &:hover:active":{textDecoration:"underline",backgroundColor:"unset"}}}))),ye=({analyticsId:e,children:t,isAnonymousTest:n,result:i})=>{const a=ve(),o=Object(d.a)(),[r,c]=s.a.useState(!1);if(i.status||!n)return s.a.createElement(s.a.Fragment,null,t);const u=o("courseContent.contentProgress.progressAvailableAfterPostingGrades");return s.a.createElement(l.AnalyticsTooltip,{analyticsId:`${e}.notAvailableTooltip`,title:u,open:r,onOpen:()=>c(!0),onClose:()=>c(!1)},s.a.createElement(l.AnalyticsDefaultButton,{className:a.statusLine,onClick:()=>c((e=>!e)),analyticsId:`${e}.notAvailableButton`},t))},ke=e=>{const{analyticsId:t,className:n,isAnonymousTest:i,result:o,statusLabel:r,statusDate:l}=e,{translate:c,formatDatetime:d}=Object(_.a)(),u=ae(),m=s.a.createElement(ye,{analyticsId:t,isAnonymousTest:i,result:o},s.a.createElement("span",{className:"js-progress-status-label"},r)),p=o.content.visibility===C.w.Hidden;return s.a.createElement("div",{className:n},s.a.createElement("span",{className:Object(a.a)(u.cellTitleContent,p?u.cellTitleContentHidden:void 0)},o.content.title),s.a.createElement(fe,{analyticsId:`${t}.release`,content:o.content}),s.a.createElement("span",{className:u.statusCompactContainer},s.a.createElement("span",{className:u.statusCompact},c("courseCore.course.progress.student.statusColonLabel",{status:s.a.createElement("strong",null,c("courseCore.course.progress.student.status")),statusLabel:m})),l?s.a.createElement("span",null,d(l,V.ILocaleDatetimeFormat.Short)):void 0))},xe=s.a.memo((function({analyticsId:e,courseId:t,userId:n,result:i,level:o,indexOnLevel:r,numberOfItemsOnlevel:c,lastItemOnLevel:d,beforeItemState:u,afterItemState:g,contentLoader:b,visibility:f}){var v,y,k,x,S,E,w,A;const O=U(),{formatDatetime:D}=Object(_.a)(),T=(e=>{const t=Object(h.useTheme)();return{paddingInlineStart:e*(Object(h.useMediaQuery)(t.breakpoints.down("xs"))?20:32)+"px"}})(o),P=Object(h.useTheme)(),$=Object(h.useMediaQuery)(P.breakpoints.down("xs")),[G,j]=s.a.useState(!1),N=m.j.getContentHandler(i.content),B=Object(p.s)({courseId:t}),M=B.gradebookColumns.find((e=>e.contentId===i.contentId)),R=!0===(null==M?void 0:M.anonymousGrading),F=m.j.requiresManualMarking(i.content),z=Object(p.c)(null===(v=i.status)||void 0===v?void 0:v.state,F),q=null!==(S=null!==(k=null===(y=i.status)||void 0===y?void 0:y.reviewedDate)&&void 0!==k?k:null===(x=i.status)||void 0===x?void 0:x.startedDate)&&void 0!==S?S:null,W=o>0,K=m.C.isLearningModule(i.content),J=m.j.isFolderContentItem(i.content)||K,Q=s.a.useCallback((e=>{j((e=>!e)),e.stopPropagation()}),[j]),Z=Object(H.s)(t,i.content),Y=0===o&&0===r?0:-1;let X;return J&&(X=G?"true":"false"),!B.view||B.view.isLoading?s.a.createElement(s.a.Fragment,null):s.a.createElement(s.a.Fragment,null,s.a.createElement(l.AnalyticsTableRow,{analyticsId:e,"aria-level":o+1,"aria-expanded":X,"aria-posinset":r+1,"aria-setsize":c,role:"row",tabIndex:Y,onClick:J?Q:void 0,className:Object(a.a)({[O.row]:!0,[O.rowExpandable]:J,[O.rowIsExpanded]:G,[O.rowLearningModule]:K,[O.rowIsChild]:W,[O.rowIsLastOnLevel]:!G&&d})},s.a.createElement(l.AnalyticsTableCell,{analyticsId:`${e}.name`,role:"gridcell"},s.a.createElement("div",{className:O.cellTitleContainer,style:T},s.a.createElement("div",{className:O.cellTitleReviewIcon},s.a.createElement(I,{content:i.content,contentState:null!==(w=null===(E=i.status)||void 0===E?void 0:E.state)&&void 0!==w?w:C.u.None,hasAutomaticReviewStateTransition:null!==(A=i.content.inSequence)&&void 0!==A&&A,beforeItemState:u,afterItemState:g,centerButton:!0})),s.a.createElement("div",{className:O.cellTitleContentIconTitle},!K&&s.a.createElement(se,{content:i.content}),s.a.createElement("span",{className:"sr-only"},Z),s.a.createElement(ke,{analyticsId:`${e}.title`,result:i,isAnonymousTest:R,statusLabel:z,statusDate:q,className:O.cellTitleContent}),b))),!$&&s.a.createElement(s.a.Fragment,null,s.a.createElement(l.AnalyticsTableCell,{analyticsId:`${e}.status`,role:"gridcell"},s.a.createElement("div",{className:O.cellStatusExpandContainer},s.a.createElement("div",{className:O.statusContainer},s.a.createElement(ye,{analyticsId:e,isAnonymousTest:R,result:i},s.a.createElement("span",{className:"js-progress-status-label"},z)),q?s.a.createElement(l.AnalyticsTypography,{variant:"body2"},D(q,V.ILocaleDatetimeFormat.Short)):void 0),s.a.createElement("div",{className:O.expandContainer},J?s.a.createElement(L.g,{open:G}):void 0))))),G?s.a.createElement(Ae,{key:`row-container-${i.contentId}-children`,courseId:t,userId:n,level:o+1,lastItemOnLevel:d,parentContentId:i.contentId,parentContentHandler:N,analyticsId:e,visibility:f}):void 0)})),Se=Object(h.makeStyles)((e=>Object(h.createStyles)({empty:{textAlign:"center",borderLeft:`1px solid ${e.palette.border.main}`,borderRight:`1px solid ${e.palette.border.main}`,padding:"20px"},emptyRootLevel:{border:0}})));var Ce=n("ajRr"),Ee=n.n(Ce);const Ie=({analyticsId:e,contentHandler:t,level:n,courseId:i,userId:o,parentContentId:r})=>{const c=Object(d.a)(),u=Se(),g=Object(h.useTheme)(),b=Object(h.useMediaQuery)(g.breakpoints.down("xs")),f=Object(p.i)("courseCore.course","courseCore.organization"),{items:v}=F({courseId:i,userId:o,visibility:R,contentId:r,total:1}),y=0===n,k=c(function(e,t,n){return t.length>0?e.isEqualTo(m.i.LearningModule)?n("courseCore.course.progress.student.emptyLearningModuleWithNotVisibleItems"):n("courseCore.course.progress.student.emptyFolderWithNotVisibleItems"):e.isEqualTo(m.i.LearningModule)?"components.directives.learning-module.empty":"components.directives.folder.empty"}(t,v,f));return s.a.createElement(l.AnalyticsTableRow,{analyticsId:`${e}.empty.row`},s.a.createElement(l.AnalyticsTableCell,{analyticsId:`${e}.empty.row.cell`,colSpan:b?1:2,className:Object(a.a)({[u.empty]:!0,[u.emptyRootLevel]:y})},y?s.a.createElement(L.A,{illustration:Ee.a,prominentText:c(f("courseCore.course.progress.student.thisIsWhereYouViewProgress"))}):k))},we=Object(h.makeStyles)((e=>Object(h.createStyles)({loading:{padding:"20px"},loadingSpinner:{display:"flex",justifyContent:"center"},loadingBorder:{border:`1px solid ${e.palette.border.main}`,borderTop:0}}))),Ae=Object(i.memo)((function({analyticsId:e,courseId:t,userId:n,visibility:o,level:r,lastItemOnLevel:c,parentContentId:u,parentContentHandler:m}){const p=Object(d.a)(),g=Object(h.useTheme)(),b=Object(h.useMediaQuery)(g.breakpoints.down("xs")),f=we(),[v,y]=Object(i.useState)(20),{items:k,canLoadMore:x,isLoading:S,count:C}=F({courseId:t,userId:n,visibility:o,contentId:u,total:v}),E=Math.min(20,C?C-k.length:20),I=s.a.useCallback((async()=>{y((e=>e+20))}),[y]);return s.a.createElement(s.a.Fragment,null,!S&&0===k.length&&!x&&s.a.createElement(Ie,{courseId:t,userId:n,parentContentId:u,analyticsId:e,contentHandler:m,level:r}),S&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:b?1:2,className:Object(a.a)(f.loading,r>0?f.loadingBorder:void 0)},s.a.createElement("div",{className:f.loadingSpinner},s.a.createElement(l.AnalyticsCircularProgress,{ariaLabel:p("global.loading"),size:"medium"})))),k.map(((i,a)=>{var l,d;const u=null===(l=k[a-1])||void 0===l?void 0:l.content,m=null===(d=k[a+1])||void 0===d?void 0:d.content,p=N(u,i.content),h=N(m,i.content),g=(c||1===r)&&a===k.length-1;return s.a.createElement(xe,{courseId:t,userId:n,result:i,level:r,key:`student-progress-item-${i.content.id}`,analyticsId:`${e}.row`,beforeItemState:p,afterItemState:h,numberOfItemsOnlevel:null!=C?C:k.length,indexOnLevel:a,lastItemOnLevel:g,visibility:o,contentLoader:a===k.length-1?s.a.createElement(L.y,{loader:I,incomingLoadCount:S||void 0!==C&&C<k.length?0:E}):void 0})})))})),Oe=Object(h.makeStyles)((e=>Object(h.createStyles)({table:{tableLayout:"fixed",height:"1px"},tableHeaderCell:{width:"100%"},tableHeaderStatus:{width:"300px",[e.breakpoints.up("lg")]:{width:"500px"}},tableHeaderExpand:{width:"64px"}})));var De=n("P+Wz");const Te='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function Pe(e){let t=e.nextElementSibling;for(;null!==t&&"row"!==t.getAttribute("role");)t=t.nextElementSibling;return t instanceof HTMLElement?t:null}function $e(e){let t=e.previousElementSibling;for(;null!==t&&"row"!==t.getAttribute("role");)t=t.previousElementSibling;return t instanceof HTMLElement?t:null}function Ge(e,t){return Array.from(t.querySelectorAll('[role="gridcell"]')).indexOf(e)}function je(e,t){return e.querySelectorAll('[role="gridcell"]').item(t)}function Le(e,t){const n=e.parentElement;if(!n||!t)return null;return je(t,Ge(e,n))}function Ne(e){let t=e;for(;null!==t&&"row"!==t.getAttribute("role");)t=t.parentElement;return t}function Be(e){const t=e.querySelectorAll(`[role="row"], [role="gridcell"], ${Te}`);null==t||t.forEach((e=>e.setAttribute("tabindex","-1")))}function Me(e,t){if(t){Be(e),t.setAttribute("tabindex","0"),t.focus();const n=Ne(t);n&&(n.setAttribute("tabindex","0"),n.querySelectorAll(Te).forEach((e=>e.setAttribute("tabindex","0"))))}}function Re(e){return{onKeyDown:s.a.useCallback((t=>{var n;const i=e.current;if(!i)return;const s=document.activeElement,a="row"===(null==s?void 0:s.getAttribute("role")),o="gridcell"===(null==s?void 0:s.getAttribute("role")),r=null!==(n=null==i?void 0:i.querySelectorAll('[role="row"]'))&&void 0!==n?n:[],l=r[0],c=r[r.length-1],d=Ne(s);switch(t.key){case De.Key.ArrowDown:return void(a?Me(i,Pe(s)):o&&Me(i,function(e){const t=e.parentElement;return t?Le(e,Pe(t)):null}(s)));case De.Key.ArrowUp:return void(a?Me(i,$e(s)):o&&Me(i,function(e){const t=e.parentElement;return t?Le(e,$e(t)):null}(s)));case De.Key.ArrowRight:if(a)"false"===s.getAttribute("aria-expanded")?s.click():Me(i,null==s?void 0:s.querySelector('[role="gridcell"]'));else if(o&&d){Me(i,je(d,Ge(s,d)+1))}return;case De.Key.ArrowLeft:if(a)if("true"===s.getAttribute("aria-expanded"))s.click();else{const e=s.getAttribute("aria-level"),t=null!==e?parseInt(e,10):NaN;if(!Number.isNaN(t)&&t>1){let t=s.previousElementSibling;for(;null!==t&&t.getAttribute("aria-level")===e;)t=t.previousElementSibling;Me(i,t instanceof HTMLElement?t:null)}}else if(o&&d){const e=Ge(s,d);Me(i,0===e?s.parentElement:je(d,e-1))}return;case De.Key.Home:if(a)Me(i,l),t.preventDefault();else if(o&&d)if(t.ctrlKey){Me(i,je(l,Ge(s,d))),t.preventDefault()}else Me(i,null==d?void 0:d.querySelector('[role="gridcell"]')),t.preventDefault();return;case De.Key.End:if(a)Me(i,c),t.preventDefault();else if(o){const e=s.parentElement;if(e)if(t.ctrlKey){Me(i,je(c,Ge(s,e))),t.preventDefault()}else{const n=e.querySelectorAll('[role="gridcell"]');Me(i,n[n.length-1]),t.preventDefault()}}return;case De.Key.Tab:Be(i),d&&(d.setAttribute("tabindex","0"),d.querySelectorAll(Te).forEach((e=>e.setAttribute("tabindex","0"))))}}),[e])}}const Fe=({analyticsId:e,courseId:t,userId:n,visibility:i})=>{const o=Object(d.a)(),r=Oe(),c=Object(h.useTheme)(),u=Object(h.useMediaQuery)(c.breakpoints.down("xs")),p=s.a.useRef(null),{onKeyDown:g}=Re(p);return s.a.createElement("div",{ref:p,onKeyDown:g},s.a.createElement(l.AnalyticsTable,{analyticsId:`${e}.table`,className:r.table,role:"treegrid","aria-label":o("courseCore.course.progress.student.tableAriaLabel")},s.a.createElement(l.AnalyticsTableHead,{analyticsId:`${e}.table.head`},s.a.createElement(l.AnalyticsTableRow,{analyticsId:`${e}.table.head.row`},s.a.createElement(l.AnalyticsTableCell,{analyticsId:`${e}.table.head.row.name`,className:r.tableHeaderCell},o("courseCore.course.progress.student.itemName")),!u&&s.a.createElement(l.AnalyticsTableCell,{analyticsId:`${e}.table.head.row.status`,className:Object(a.a)(r.tableHeaderCell,r.tableHeaderStatus)},o("courseCore.course.progress.student.status")))),s.a.createElement(l.AnalyticsTableBody,{analyticsId:`${e}.table.body`},s.a.createElement(Ae,{courseId:t,userId:n,visibility:i,level:0,lastItemOnLevel:!1,parentContentId:"ROOT",parentContentHandler:m.i.Folder,analyticsId:`${e}.table.body`}))))},Ve=Object(h.makeStyles)((()=>Object(h.createStyles)({studentProgress:{paddingTop:"18px"},filters:{marginBottom:"20px"}}))),_e=Object(h.makeStyles)((e=>Object(h.createStyles)({filter:{width:"100%",[e.breakpoints.up("sm")]:{minWidth:"250px",width:"unset"}}})));var Ue;!function(e){e.StudentVisible="StudentVisible",e.All="All"}(Ue||(Ue={}));const He=Object(i.memo)((function({analyticsId:e,visibility:t,onVisibilityChange:n}){const i=_e(),a=Object(d.a)(),o=Object(p.i)("courseCore.course","courseCore.organization"),r=[{value:Ue.StudentVisible,label:a(o("courseCore.course.progress.student.availability.visible"))},{value:Ue.All,label:a("courseCore.course.progress.student.availability.all")}];return s.a.createElement(l.AnalyticsTextField,{analyticsId:e,select:!0,id:"course-student-progress-filter-availability",label:a("courseCore.course.progress.student.availability.content"),floatingLabel:!0,className:i.filter,value:t,onChange:e=>n(e.target.value)},r.map((t=>s.a.createElement(l.AnalyticsMenuItem,{button:!0,key:t.value,value:t.value,analyticsId:`${e}.menu.${t.value}`},t.label))))})),ze=Object(i.memo)((function({analyticsId:e,visibility:t,onVisibilityChange:n}){return s.a.createElement(He,{visibility:t,onVisibilityChange:n,analyticsId:`${e}.filters.visibility`})}));var qe=n("RPob");const We=({courseId:e,userId:t,analyticsId:n})=>{const a=Ve(),o=Object(d.a)(),[r,l]=Object(i.useState)(Ue.StudentVisible),c=r===Ue.StudentVisible?M:R;return s.a.createElement("div",{className:a.studentProgress},s.a.createElement("div",{className:a.filters},s.a.createElement(ze,{analyticsId:n,visibility:r,onVisibilityChange:e=>{switch(l(e),e){case Ue.StudentVisible:Object(qe.z)(o("courseCore.course.progress.student.availability.ariaLiveVisibleToStudents"));break;case Ue.All:Object(qe.z)(o("courseCore.course.progress.student.availability.ariaLiveAll"))}}})),s.a.createElement(Fe,{analyticsId:n,courseId:e,userId:t,visibility:c}))};var Ke;!function(e){e.ModifyConfiguration="course.progress.settings.MODIFY",e.ViewConfiguration="course.progress.settings.VIEW",e.ViewProgressInformation="course.progress.information.VIEW"}(Ke||(Ke={}));var Je=n("kcGO");function Qe(e){const t=Object(Je.f)(e);t&&e.updateState(t,!0)}var Ze=n("np6O");const Ye=Object(h.makeStyles)((e=>Object(h.createStyles)({courseBannerWrapper:{position:"relative",width:"100%",maxHeight:"240px",height:"calc((100vw - 16px) / 4)",[e.breakpoints.up("md")]:{height:"calc((100vw - 34px) / 5)"},display:"flex",justifyContent:"flex-end",alignContent:"center"},courseBanner:e=>({position:"absolute",top:0,left:0,bottom:0,right:0,backgroundImage:`url("${e.bannerUrl}")`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",width:"100%"}),editBannerButton:{backgroundColor:e.palette.background.default,color:e.palette.text.secondary,height:"max-content",borderRadius:36,"&:active, &:focus, &:hover":{color:e.palette.text.primary},margin:"10px",[e.breakpoints.up("sm")]:{margin:"20px"}}}))),Xe=e=>{const{bannerUrl:t,onEditBanner:n,bannerAltText:s}=e,o=Object(d.a)(),r=Ye(e),l=!!t,c=!!n;return i.createElement(i.Fragment,null,l&&i.createElement("div",{className:r.courseBannerWrapper},i.createElement("div",{role:s?"img":void 0,"aria-label":s||void 0,className:Object(a.a)("js-course-banner",r.courseBanner)}),c&&i.createElement(Ze.AnalyticsIconButton,{analyticsId:"course.course-overview.course-banner.edit.banner.button",className:r.editBannerButton,"aria-label":o("course.course-overview.banner.edit-banner-button"),onClick:n},i.createElement(f.Edit,null))))},et=Object(h.makeStyles)((e=>Object(h.createStyles)({mainContainer:{display:"flex",height:"36px",alignItems:"center",borderBottom:`1px solid ${e.palette.secondary.main}`,marginBottom:"12px",paddingBottom:"16px",[e.breakpoints.up("sm")]:{marginBottom:"15px"}},headerWrapper:{flex:"1",maxWidth:"none",display:"flex",alignItems:"center"}}))),tt=Object(h.makeStyles)((e=>Object(h.createStyles)({courseOverviewInfoHeaderControls:{display:"flex"}}))),nt=e=>{const{children:t}=e,n=tt();return i.createElement("div",{className:Object(a.a)("js-course-overview-info-header-controls",n.courseOverviewInfoHeaderControls)},t)},it=Object(h.makeStyles)((e=>Object(h.createStyles)({headerInfoToggle:{display:"flex",[e.breakpoints.up("md")]:{display:"none"}}}))),st=e=>{const{id:t,analyticsId:n,panelControlId:a,isExpanded:o,preferenceKey:r,title:c,setIsExpanded:d}=e,u=it(),m=Object(p.J)(r),h=Object(p.A)(),[g,b]=Object(i.useState)(!1);Object(i.useEffect)((()=>{m&&!g&&d("true"===m.value)}),[m,g,d]);return s.a.createElement(l.AnalyticsIconButton,{id:t,analyticsId:n,onClick:()=>{b(!0),d(!o),h({key:r,value:o?"false":"true"})},className:u.headerInfoToggle,"aria-label":c,"aria-expanded":o,"aria-controls":o?a:void 0},s.a.createElement(L.g,{open:o,hideOnDesktop:!0}))},at=(e,t)=>`${e}${t}`.replace(/_/g,"."),ot=e=>{const{analyticsId:t,courseId:n,children:o,className:r,headerControls:c,title:d,expansionButtonId:u,isStudentPreview:m,preferenceKey:p,panelControlId:g}=e,b=et(),[f,v]=Object(i.useState)(!0),y=at(m?p+".student.preview":p,n),k=Object(h.useMediaQuery)((e=>e.breakpoints.up("md")));return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:Object(a.a)("js-course-overview-info-header",r,b.mainContainer)},s.a.createElement("div",{className:b.headerWrapper},s.a.createElement(l.AnalyticsTypography,{component:"h2",variant:"h2"},d)),s.a.createElement(nt,null,c,s.a.createElement(st,{id:u,analyticsId:t,isExpanded:f,preferenceKey:y,setIsExpanded:v,title:d,panelControlId:g}))),(f||k)&&o)};var rt=n("6RBU");const lt=Object(h.makeStyles)((e=>Object(h.createStyles)({courseInstructorsRoot:{marginBottom:"36px"},fullListContainer:{zIndex:10,width:"300px"},fullListContent:{padding:"8px 16px 0 16px"},viewAllButton:{color:e.palette.link.active,backgroundColor:"transparent",textDecoration:"underline",marginTop:"4px",display:"block",lineHeight:"21px"},closeButton:{position:"absolute",top:"9px",right:"9px"},fullListWrapper:{paddingTop:"12px"},listRoot:{paddingTop:0},emptyState:{backgroundColor:e.palette.background.b3,color:e.palette.text.primary,display:"flex",justifyContent:"center",alignItems:"center",height:"50px",fontStyle:"italic"},listItemAvatar:{minWidth:"unset"},listItemRoot:{padding:"4px 0px","&:first-child":{paddingTop:"1px"}},listItemWithMessageLinkRoot:{cursor:"pointer"},instructorAvatar:{display:"flex",marginLeft:"-4px"},username:{whiteSpace:"nowrap",marginRight:"9px",textOverflow:"ellipsis",overflow:"hidden",color:e.palette.text.primary,backgroundColor:e.palette.background.default},messageLinkRoot:{display:"flex","&, &:focus, &:hover, &:active, &:active:hover":{color:e.palette.primary.main}},roleBadge:{textTransform:"uppercase",fontSize:e.typography.fontSizeXSmall,fontWeight:e.typography.fontWeightBold,color:e.palette.text.primary,backgroundColor:e.palette.background.b3,padding:"0px 10px"}}))),ct=e=>{const{id:t,currentUserId:n,courseId:s,instructorListMemberships:r,canCurrentUserSendMessage:c,ariaLabelledBy:u}=e,m=Object(d.a)(),[h,g]=Object(i.useState)(!1),b=lt(),[f,v]=Object(i.useMemo)((()=>{const e=[],t=[];return r.forEach((n=>{1===n.displayOrder?e.push(n):t.push(n)})),[e,t]}),[r]),y=f.length?f:v,k=h?"courseCore.components.courseInstructors.showLess":"courseCore.components.courseInstructors.showMore",x=Object(p.i)("courseCore.components.courseInstructors","courseCore.components.courseInstructors.organization"),S=x(h?"courseCore.components.courseInstructors.showLessAriaLabel":"courseCore.components.courseInstructors.showMoreAriaLabel"),C=Object(i.useCallback)(((e,t)=>{var n;e.stopPropagation(),s&&(null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.id)&&o.bb.goPeekState(Object(o.cb)({courseId:s,recipientIds:t.user.id}))}),[s]);return r?i.createElement("div",{id:t,role:"region","aria-labelledby":u,className:Object(a.a)(b.courseInstructorsRoot,"js-course-instructors-root")},0===r.length&&i.createElement("div",{className:Object(a.a)(b.emptyState,"js-empty-state")},m(x("courseCore.components.courseInstructors.emptyStateText"))),r.length>0&&i.createElement(l.AnalyticsList,{analyticsId:"courseCore.components.courseInstructors.list",classes:{root:b.listRoot}},(h?[...f,...v]:y.slice(0,2)).map((e=>{var t,s,o;const r=c&&(null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.id)!==n;return i.createElement(l.AnalyticsListItem,{analyticsId:"courseCore.components.courseInstructors.listItem",key:e.id,classes:{root:Object(a.a)(b.listItemRoot,r?b.listItemWithMessageLinkRoot:"","js-instructor-list-item")},onClick:r?t=>C(t,e):void 0},i.createElement(l.AnalyticsListItemAvatar,{className:b.listItemAvatar,analyticsId:"courseCore.components.courseInstructors.listItemAvatar"},i.createElement(l.AnalyticsAvatar,{className:Object(a.a)(b.instructorAvatar,"js-instructor-avatar"),size:"medium",src:null===(o=null===(s=e.user)||void 0===s?void 0:s.avatar)||void 0===o?void 0:o.permanentUrl,alt:m("courseCore.components.courseInstructors.avatarAltText",{user:e.user})})),i.createElement(l.AnalyticsListItemText,{analyticsId:"courseCore.components.courseInstructors.listItemText",primary:i.createElement("div",{className:Object(a.a)(b.username,"js-instructor-username")},i.createElement(H.f,{ariaHidden:!0,format:V.ILocaleUsernameFormat.Short,user:e.user})),secondary:e.roleBadgeText&&i.createElement(l.AnalyticsBadge,{classes:{badge:Object(a.a)(b.roleBadge,"js-role-badge")},position:"inline",badgeContent:e.roleBadgeText})}),r&&i.createElement(l.AnalyticsLink,{analyticsId:"courseCore.components.courseInstructors.link",href:"#",onClick:r?t=>C(t,e):void 0,classes:{root:Object(a.a)(b.messageLinkRoot,"js-send-message-link")},"aria-label":m("courseCore.components.courseInstructors.sendMessageAriaLabel",{instructor:e.user})},i.createElement(rt.a,null)))}))),r&&r.length>2&&i.createElement("button",{"data-analytics-id":"courseOverviewInstructorListComponent.toggleFullListButton",className:Object(a.a)(b.viewAllButton,"js-toggle-full-list-button"),id:"view-all-button",onClick:()=>g(!h),"aria-expanded":h,"aria-label":m(S)},m(k))):null},dt="course-instructors-panel",ut="course-instructors-expansion-button",mt=(e,t,n)=>{if(t){if(t.identifier.toString()in m.jc){let i=m.jc[t.identifier.toString()];return n&&(i=i.replace("global.course","global.organization")),e(i)}return n?t.orgName.rawValue:t.courseName.rawValue}},pt=e=>{const{courseId:t,isOrganization:n,isStudentPreview:a}=e,o=Object(d.a)(),{memberships:r,users:l}=Object(p.h)((e=>({courseId:e,sort:[{field:C.ib.Role,direction:C.cc.Ascending},{field:C.ib.DisplayOrder,direction:C.cc.Ascending},{field:C.ib.FamilyName,direction:C.cc.Ascending},{field:C.ib.GivenName,direction:C.cc.Ascending}],filter:{roleBucket:[C.y.Teaching],membershipAvailable:!0}}))(t)),c=Object(p.i)("courseCore.components.courseInstructors","courseCore.components.courseInstructors.organization"),u=Object(i.useMemo)((()=>r&&l?r.map((e=>({...e,user:l[e.userId],roleBadgeText:mt(o,e.courseRole,n)}))):[]),[r,l,n,o]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(ot,{analyticsId:"courseOverview.courseInstructors.expandOrCollapse",courseId:t,title:o(c("courseCore.components.courseInstructors.headerText")),isStudentPreview:a,expansionButtonId:ut,panelControlId:dt,preferenceKey:"course.outline.faculty.expanded",className:"js-course-skip-link-target"},s.a.createElement(ct,{id:dt,ariaLabelledBy:ut,instructorListMemberships:u,...e})))},ht=Object(h.makeStyles)((e=>Object(h.createStyles)({root:{marginBottom:"36px"},addCourseScheduleButtonWrapper:{display:"flex",flexDirection:"column"},addCourseScheduleButton:{width:"100%","&, &:focus, &:hover, &:active, &:active:hover":{color:e.palette.primary.main,textDecoration:"none"}},skipLink:{marginTop:"8px"},editButton:{marginLeft:"auto",height:"38px",width:"38px",display:"flex",alignItems:"center",justifyContent:"center"}})));var gt=n("wgY5"),bt=n.n(gt),ft=n("EZIA"),vt=n("7yMF"),yt=n("WcH3"),kt=n("wPSj"),xt=n("Kftt"),St=n("M0dR"),Ct=n("6lVL"),Et=n("Jt4C");const It=Object(h.makeStyles)((e=>Object(h.createStyles)({scheduleList:{color:e.palette.text.primary},scheduleItem:{flexWrap:"wrap",paddingTop:"0",paddingBottom:"16px",marginBottom:"16px",borderBottom:`1px solid ${e.palette.border.main}`,"&:last-of-type":{paddingBottom:"0",marginBottom:"0",borderBottom:"none"}},scheduleItemSection:{width:"100%",display:"flex"},alignItemsFlexStart:{marginTop:"4px"},otherMeetingTimesLink:{display:"block",marginTop:"16px"}}))),wt=(e,t,n)=>((e,t)=>{const n=bt()(e);return 1439===bt()(t).diff(n,"minutes")})(e,t)?n("courseCore.components.courseSchedule.allDayEvent"):n("courseCore.components.courseSchedule.eventTime",{startTime:e,endTime:t}),At=(e,t,n,i)=>{const s=e=>((e,t,n,i)=>{const{recurRules:s}=e,a=new Date;if(s)switch(s.freq){case"DAILY":return t(s,a);case"MONTHLY":return n(s,a);default:return i(s,a)}return e.startDate})(e,t,n,i);return e.length>1&&e.sort(((e,t)=>s(e)>s(t)?1:-1)),e},Ot=e=>{const{id:t,courseSchedule:n,courseSchedulePanelHref:s,ariaLabelledBy:o,getNextEventForMonthlyRepeat:r,getNextEventForDailyRepeat:l,getNextEventForWeeklyRepeat:c}=e,{translate:d,formatDate:u}=Object(_.a)(),m=It(),p=e=>{const{recurRules:t}=e;if(!(null==t?void 0:t.freq))return null;if(t.freq===C.r.Weekly)return((e,t,n)=>{var i,s;return null===(s=null===(i=e.recurRules)||void 0===i?void 0:i.byWeekDay)||void 0===s?void 0:s.map((e=>bt()(e,"dd").format())).sort(((e,t)=>e>t?1:-1)).map((e=>n(new Date(e),V.ILocaleDateFormat.LongWeekday))).join(t("courseCore.components.courseSchedule.weekdayDelimiter",{},{noWrap:!0}))})(e,d,u);const n=new Date;return t.freq===C.r.Monthly?d("courseCore.components.courseSchedule.nextMonthlyEvent",{nextMonthlyEventDate:r(t,n)}):t.freq===C.r.Daily?d("courseCore.components.courseSchedule.nextDailyEvent",{nextDailyEventDate:l(t,n)}):void 0};return i.createElement("div",{className:m.scheduleList,id:t,role:"region","aria-labelledby":o},i.createElement(vt.a,{analyticsId:"courseOverview.courseSchedule.list"},(()=>{const e=At(n,l,r,c);return e.length>2?e.slice(0,2):e})().map((e=>{var t;return i.createElement(yt.a,{className:m.scheduleItem,alignItems:"flex-start",analyticsId:"courseOverview.courseSchedule.listItem",key:null===(t=e.recurRules)||void 0===t?void 0:t.repeatRuleId},i.createElement("div",{className:m.scheduleItemSection},i.createElement(kt.a,{analyticsId:"courseOverview.courseSchedule.listItem.time.icon",classes:{alignItemsFlexStart:m.alignItemsFlexStart}},i.createElement(Ct.a,{"aria-label":d("courseCore.components.courseSchedule.time")})),i.createElement(xt.a,{primary:p(e),secondary:i.createElement(i.Fragment,null,i.createElement(St.a,{component:"span",color:"textPrimary"},wt(e.startDate,e.endDate,d))),analyticsId:"courseOverview.courseSchedule.listItem.time.text"})),e.location?i.createElement("div",{className:m.scheduleItemSection},i.createElement(kt.a,{analyticsId:"courseOverview.courseSchedule.listItem.location.icon",classes:{alignItemsFlexStart:m.alignItemsFlexStart}},i.createElement(Et.a,{role:"presentation"})),i.createElement(xt.a,{primary:d("courseCore.components.courseSchedule.location"),secondary:i.createElement(L.D,{plainText:e.location,analyticsIdTagPrefix:"courseCore.components.courseSchedule.location.text"}),analyticsId:"courseOverview.courseSchedule.listItem.location.text"})):null)}))),n.length<=2?null:i.createElement(ft.a,{className:Object(a.a)(m.otherMeetingTimesLink,"js-other-meeting-times-link"),analyticsId:"courseCode.components.courseSchedule.view.link",href:s},d("courseCore.components.courseSchedule.otherMeetingTimesLink",{number:n.length-2})))},Dt=e=>{const{courseId:t,courseSchedulePanelHref:n,canCreateCourseSchedule:i}=e,o=Object(d.a)(),r=ht(),c=at("hide.add.courseSchedule.button.course",t),u=Object(p.J)(c),m="true"===(null==u?void 0:u.value),h=Object(p.A)(),g=Object(p.i)("courseCore.components.courseSchedule","courseCore.components.courseSchedule.organization");return m||!i?null:s.a.createElement("div",{className:Object(a.a)(r.addCourseScheduleButtonWrapper,"button-wrap")},s.a.createElement(l.AnalyticsDashedButton,{className:Object(a.a)(r.addCourseScheduleButton,"js-add-course-schedule-button"),analyticsId:"courseCore.components.courseSchedule.add.link",href:n},o(g("courseCore.components.courseSchedule.addCourseScheduleButton"))),s.a.createElement(l.AnalyticsLink,{className:Object(a.a)(r.skipLink,"js-skip-link"),analyticsId:"courseCore.components.courseSchedule.skip.link",component:"button",onClick:()=>{h({key:c,value:"true"})}},o("courseCore.components.courseSchedule.skipLink")))},Tt="course-schedule-panel",Pt="course-schedule-expansion-button",$t=e=>{const{courseId:t,courseSchedule:n,isStudentPreview:i}=e,r=Object(d.a)(),c=ht(),u=Object(p.v)(t,["course.calendar-entry.course-schedule.CREATE"]),m=Object(o.eb)(o.l.CourseSchedule({courseId:t})),h=Object(p.i)("courseCore.components.courseSchedule","courseCore.components.courseSchedule.organization");return n?s.a.createElement("div",{className:c.root},n.length?s.a.createElement(s.a.Fragment,null,s.a.createElement(ot,{analyticsId:"courseOverview.courseSchedule.expandOrCollapse",courseId:t,title:r(h("courseCore.components.courseSchedule.headerText")),isStudentPreview:i,expansionButtonId:Pt,panelControlId:Tt,preferenceKey:"course.outline.schedule.expanded",headerControls:s.a.createElement(s.a.Fragment,null,u&&s.a.createElement(l.AnalyticsLink,{className:Object(a.a)(c.editButton,"js-edit-course-schedule-button"),analyticsId:"courseOverview.courseSchedule.edit.link","aria-label":r(h("courseCore.components.courseSchedule.editCourseScheduleButton")),href:m,color:"secondary"},s.a.createElement(f.Edit,null)))},s.a.createElement(Ot,{id:Tt,ariaLabelledBy:Pt,courseSchedulePanelHref:m,...e}))):s.a.createElement(Dt,{courseId:t,courseSchedulePanelHref:m,canCreateCourseSchedule:!!u})):null};var Gt=n("TUnR");const jt=e=>{const t=Object(d.a)();return s.a.createElement(Gt.a,{buttonAriaLabel:t("components.directives.content-visibility.usersAndGroupsAnnouncement.buttonAriaLabel"),announcementTitle:t("components.directives.content-visibility.usersAndGroupsAnnouncement.title"),content:t("components.directives.content-visibility.usersAndGroupsAnnouncement.content"),componentKey:"contentVisibility.membersAndGroups",doneButtonText:t("components.directives.content-visibility.usersAndGroupsAnnouncement.doneButtonText"),linkHref:t("components.directives.content-visibility.usersAndGroupsAnnouncement.moreInfoLinkUrl"),linkText:t("components.directives.content-visibility.usersAndGroupsAnnouncement.moreInfoLinkText"),closeLabel:t("global.close")})};var Lt=n("S1JE"),Nt=n("SPaM"),Bt=n("EIeI");const Mt=e=>{const t=Object(p.p)("feature.course.progress.tracking"),n=Object(p.i)("course.outline.courseProgressFtue","organization.outline.courseProgressFtue"),i=Object(d.a)(),a=[{imageAriaLabel:i("course.outline.courseProgressFtue.step1.ariaLabel"),imageSource:Lt.toString(),title:i("course.outline.courseProgressFtue.step1.title"),body:i(n("course.outline.courseProgressFtue.step1.body")),primaryButtonText:i("course.outline.courseProgressFtue.step1.primaryButton"),secondaryButtonText:i("course.outline.courseProgressFtue.step1.secondaryButton")},{imageAriaLabel:i("course.outline.courseProgressFtue.step2.ariaLabel"),imageSource:Nt.toString(),title:i("course.outline.courseProgressFtue.step2.title"),body:i("course.outline.courseProgressFtue.step2.body"),primaryButtonText:i("course.outline.courseProgressFtue.step2.primaryButton"),secondaryButtonText:i("course.outline.courseProgressFtue.step2.secondaryButton")},{imageAriaLabel:i("course.outline.courseProgressFtue.step3.ariaLabel"),imageSource:Bt.toString(),title:i("course.outline.courseProgressFtue.step3.title"),body:i("course.outline.courseProgressFtue.step3.body"),primaryButtonText:i("course.outline.courseProgressFtue.step3.primaryButton"),secondaryButtonText:i("course.outline.courseProgressFtue.step3.secondaryButton")}];return t?s.a.createElement(Gt.b,{componentKey:"courseProgress.Ftue",iconButtonAriaLabel:i("course.outline.courseProgressFtue.buttonAriaLabel"),steps:a}):null},Rt=Object(h.makeStyles)((()=>({searchContainer:{display:"flex",flexDirection:"column",position:"relative"},searchTextContainer:{width:"100%",margin:"0 0 10px"},popper:{width:"25vw"}})));var Ft=n("kNOQ");const Vt="search-dropdown-list-item",_t=Object(h.makeStyles)((e=>({loading:{justifyContent:"center"},link:{color:e.palette.link.active,cursor:"default","&:hover":{textDecoration:"underline"}},withLeftSpace:{marginLeft:e.spacing(1)},menuItemShowAll:{"&:hover":{cursor:"pointer"}},showAllTitle:{paddingLeft:e.spacing(3),color:e.palette.link.active,textDecoration:"underline",cursor:"pointer"}}))),Ut=({itemsCount:e,onShowAll:t,children:n})=>{const i=Object(d.a)(),o=_t();return 0===e?s.a.createElement(l.AnalyticsListSubheader,{analyticsId:"courseCore.components.contentSearch.error.noResultsFound",className:o.menuItem,role:"option"},s.a.createElement("span",null,i("courseCore.components.contentSearch.error.noResultsFound"))):s.a.createElement(s.a.Fragment,null,s.a.createElement(l.AnalyticsListSubheader,{analyticsId:"content.search.dropdown.subHeader",className:o.menuItem,role:"option"},s.a.createElement(l.AnalyticsTypography,{variant:"h6",component:"h3",id:"results-container-heading"},i("courseCore.components.contentSearch.dropdown.title"))),n,s.a.createElement(l.AnalyticsListItem,{analyticsId:"content.search.dropdown.showAll",className:Object(a.a)("show-all-results-option",o.menuItemShowAll),onClick:t,role:"option",button:!0},s.a.createElement(l.AnalyticsListItemText,{analyticsId:"content.search.dropdown.showAll.text",className:o.showAllTitle},i("courseCore.components.contentSearch.dropdown.showAllItemsLink",{number:e}))))},Ht=({onTryAgain:e})=>{const t=Object(d.a)(),n=_t();return s.a.createElement(l.AnalyticsListItem,{analyticsId:"content.search.dropdown.networkError",className:n.menuItem,onClick:()=>e(),role:"option",autoFocus:!0},s.a.createElement(l.AnalyticsTypography,{variant:"body1",id:"results-container-heading"},t("courseCore.components.contentSearch.error.networkError")),s.a.createElement(l.AnalyticsTypography,{variant:"body1",className:Object(a.a)(n.link,n.withLeftSpace)},t("courseCore.components.contentSearch.error.tryAgain")))},zt=()=>{const e=_t();return s.a.createElement(l.AnalyticsListItem,{analyticsId:"content.search.dropdown.spinner",className:e.loading},s.a.createElement(l.AnalyticsCircularProgress,{id:"content.search.dropdown.loader",ariaLabel:"content.search.dropdown.loader",size:"medium"}))},qt=({itemsCount:e,isLoading:t,isError:n,onShowAll:i,onTryAgain:a,children:o})=>{let r;return r=t?s.a.createElement(zt,null):n?s.a.createElement(Ht,{onTryAgain:a}):s.a.createElement(Ut,{itemsCount:e,onShowAll:i},o),s.a.createElement(l.AnalyticsList,{analyticsId:"content.search.dropdown.list",role:t?void 0:"listbox","aria-labelledby":t?void 0:"results-container-heading","aria-label":t?void 0:"search-listbox",id:"search-listbox-id",tabIndex:-1,disablePadding:!0},r)};function Wt(e){var t,n,i;const s=null===(t=e.contentHandler)||void 0===t?void 0:t.toString();return!!s&&m.E.CloudDocument===(null===(i=null===(n=null==e?void 0:e.contentDetail)||void 0===n?void 0:n[s])||void 0===i?void 0:i.itemOrigin)}const Kt=(e,t)=>{if(e.id)return t?Object(o.U)({courseId:e.courseId,contentId:e.id,gradeitemView:"details",assessmentType:"test"}):m.j.isExternalSubmissionsAssessment(e)?Object(o.O)({contentId:e.id}):Object(o.P)({contentId:e.id})};var Jt;!function(e){e[e.SemiBold=0]="SemiBold",e[e.Bold=1]="Bold"}(Jt||(Jt={}));const Qt=Object(h.makeStyles)((e=>({highlight:({weight:t})=>({color:e.palette.brand.main,fontWeight:t===Jt.SemiBold?e.typography.fontWeightSemiBold:e.typography.fontWeightBold})}))),Zt=s.a.memo((e=>{const{children:t,highlight:n,weight:o}=e,r=Qt({weight:null!=o?o:Jt.SemiBold}),l=(({text:e,textToFind:t,ignoreCase:n})=>Object(i.useMemo)((()=>{if(0===t.length)return[{text:e,doesMatch:!1}];let i=t;n&&(i=new RegExp(Object(L.cb)(t),"i"));let s=0;return e.split(i).reduce(((i,a,o)=>{if(o>0){const a={text:n?e.substring(s,s+t.length):t,doesMatch:!0};i.push(a),s+=t.length}if(a.length>0){const e={text:a,doesMatch:!1};i.push(e),s+=a.length}return i}),[])}),[e,t,n]))({text:null!=t?t:"",textToFind:n,ignoreCase:!0});return s.a.createElement(s.a.Fragment,null,l.map(((e,t)=>s.a.createElement("span",{key:t,className:Object(a.a)({[r.highlight]:e.doesMatch})},e.text))))})),Yt=Object(h.makeStyles)((e=>({link:{color:e.palette.text.primary,textDecoration:"none","&:hover, &:active:hover, &:focus":{color:e.palette.text.primary,textDecoration:"none"},overflow:"hidden"}}))),Xt=s.a.forwardRef((function(e,t){const{analyticsId:n,children:i,...a}=e,o=Yt();let r="span";return e.href?r="a":e.onClick&&(r="button"),s.a.createElement(l.AnalyticsLink,{className:o.link,component:r,ref:t,tabIndex:0,analyticsId:`${n}.link`,...a},i)})),en=Object(h.makeStyles)((e=>({menuItem:{padding:e.spacing(1.5),"&:hover":{backgroundColor:e.palette.background.paper,cursor:"pointer"},"&:focus":{boxShadow:`0 0 0 1px ${e.palette.focus.main}`}},contentType:{color:e.palette.text.secondary,marginLeft:"auto",whiteSpace:"nowrap"},itemIcon:{alignItems:"center"},text:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},textContent:{display:"inline"}})));function tn(e){var t,n,i;if(e.contentHandler){const s=e.contentHandler.toString();if(s===C.t.File){const s=null===(i=null===(n=null===(t=e.contentDetail)||void 0===t?void 0:t["resource/x-bb-file"])||void 0===n?void 0:n.file)||void 0===i?void 0:i.mimeType;if(s)return Object(m.Gb)(s)}if(s===C.t.Folder&&m.j.isBbPage(e))return m.i.Document.iconClass;if(s===C.t.CourseLink){const t=m.j.getContentHandlerByIconUrl(e);return t===C.t.Discussion?m.i.parse(t).iconClass:m.i.ExternalLink.iconClass}if(s===C.t.TestLink){const t=e.gradingColumn;if(t&&t.gradebookCategory){if(t.gradebookCategory.title===C.W.Assignment)return m.i.UltraAssignment.iconClass}return m.i.TestLink.iconClass}return m.j.getContentHandler(e).iconClass}return""}var nn=n("1hyT");const sn="click-to-forward-ref";const an=e=>{const{item:t,linkProps:n,searchTerm:o}=e,r=Object(d.a)(),c=en(),u=Object(i.useRef)(null),m=Object(i.useRef)(null),{Icon:p,ariaLabelKey:h}=((e,t)=>{var n,i;const s=tn(e);return e.visibility!==C.w.Restricted||(null===(n=e.permissions)||void 0===n?void 0:n.edit)?s?(null===(i=e.contentHandler)||void 0===i?void 0:i.toString())!==C.t.Folder||Object(nn.e)(e)?{Icon:Object(H.q)(s),ariaLabelKey:Object(H.l)(s)}:{Icon:Object(H.q)("folder-open"),ariaLabelKey:Object(H.l)(s)}:t||{Icon:Object(H.q)("document-blank"),ariaLabelKey:Object(H.l)("document-blank")}:{Icon:f.LockCircle,ariaLabelKey:Object(H.l)(s)}})(t),g=r(h);return s.a.createElement(l.AnalyticsListItem,{analyticsId:n.analyticsId,className:Object(a.a)(Vt,c.menuItem),ref:u,onClick:e=>{!function(e,t,n,i){var s,a,o;null===(s=n.current)||void 0===s||s.classList.add(sn),Object(L.db)(e.target,i,sn)===t.current&&(null===(a=n.current)||void 0===a||a.click()),null===(o=n.current)||void 0===o||o.classList.remove(i)}(e,u,m,Vt)},onKeyPress:e=>{var t;"Enter"===e.key&&(null===(t=u.current)||void 0===t||t.click())},role:"option",tabIndex:-1},s.a.createElement(l.AnalyticsListItemIcon,{analyticsId:"icon",className:c.itemIcon},s.a.createElement(p,{titleAccess:g})),s.a.createElement(Xt,{tabIndex:-1,...n,ref:m},s.a.createElement(l.AnalyticsListItemText,{analyticsId:"item-text",className:c.text,primaryTypographyProps:{className:c.textContent}},s.a.createElement(Zt,{highlight:o},t.title))),s.a.createElement("span",{"aria-hidden":"true",className:c.contentType},g))},on=e=>!!Object(p.w)(e,["course.assessment.MODIFY","course.assessment.VIEW"]),rn=e=>{const{item:t,linkedItem:n,searchTerm:i}=e,a=null!=n?n:t,r=on(a.courseId),l=Kt(a,r),c=Object(o.eb)(l);return s.a.createElement(an,{item:t,searchTerm:i,linkProps:{analyticsId:"content.search.dropdown.item.test",href:c}})},ln=e=>{if(e.id&&!m.j.isConditionalReleaseLocked(e))return o.r.DiscussionWithGrading({contentId:e.id,view:"discussions"})},cn=e=>{const{item:t,linkedItem:n,searchTerm:i}=e,a=null!=n?n:t,r=ln(a),l=Object(o.eb)(r);return s.a.createElement(an,{item:a,searchTerm:i,linkProps:{analyticsId:"content.search.dropdown.item.discussion",href:l}})},dn=e=>{if(e.id)return o.j.Document({id:e.id})},un=e=>{const{item:t,linkedItem:n,searchTerm:i}=e,a=dn(null!=n?n:t),r=Object(o.eb)(a);return s.a.createElement(an,{item:t,searchTerm:i,linkProps:{analyticsId:"content.search.dropdown.item.document",href:r}})},mn=e=>{if(e.id&&!m.j.isConditionalReleaseLocked(e))return o.A.JournalWithParticipation({contentId:e.id})},pn=e=>{const{item:t,linkedItem:n,searchTerm:i}=e,a=mn(null!=n?n:t),r=Object(o.eb)(a);return s.a.createElement(an,{item:t,searchTerm:i,linkProps:{analyticsId:"content.search.dropdown.item.journal",href:r}})};var hn=n("WQFv");const gn=()=>{const e=Object(u.d)();return Object(i.useCallback)(((t,n,i)=>e(m.X.contentReviewState.persistContentReviewState(t,n,i))),[e])};const bn=(e,t,n)=>{var i,s;const a=null!==(i=e.id)&&void 0!==i?i:"",o=null!==(s=e.courseId)&&void 0!==s?s:"",r=Object(Je.f)(e);r&&(t(o,a,r),e.inSequence&&n(a,r))},fn=Object(i.createContext)((()=>{})),vn=fn.Provider;function yn(){return Object(i.useContext)(fn)}const kn=e=>{const{item:t,linkedItem:n,searchTerm:i}=e,a=null!=n?n:t,r=function(e){const t=ue(),n=gn(),i=function(e){var t;const n=e.contentHandler&&(null===(t=e.contentDetail)||void 0===t?void 0:t[e.contentHandler.toString()]);return!!(n&&n.gradebookItems||[]).length}(e),s=Object(p.n)(t);return{isGradable:i,isStudentInCourse:!!s&&Object(hn.b)(s),updateContentReviewState:n}}(a),l=yn();return s.a.createElement(an,{item:t,searchTerm:i,linkProps:{analyticsId:"content.search.dropdown.item.scormlaunch",onClick:()=>(async(e,t,n)=>{const{isGradable:i,isStudentInCourse:s,updateContentReviewState:a}=t,{courseId:r,id:l}=e;if(!i){const t=(e=>{var t;const n=null!==(t=e.contentHandler)&&void 0!==t?t:"",i=e.contentDetail&&e.contentDetail[n.toString()];return i&&i.launchUrl||null})(e);if(!t)return Promise.reject(new Error("Attempted to launch a SCORM link without a valid launchLink."));let i=Object(qe.f)(t);return i=Object(qe.c)(i,"from_ultra","true"),e.launchInNewWindow?(Object(qe.x)(i),bn(e,a,n),Promise.resolve()):o.bb.goPeekState(o.J.ScormLaunchFrame({courseId:r,contentId:l,toolHref:i})).then((t=>(bn(e,a,n),t)))}return m.j.canEdit(e)?o.bb.goPeekState(o.J.GradebookItemScormSubmissions({courseId:r,contentId:l,gradeitemView:"students"})):s?o.bb.goPeekState(o.J.ScormOverviewStudent({courseId:r,contentId:l})):Promise.resolve()})(a,r,l).catch(console.error)}})},xn=e=>{var t,n,i;const s=null===(i=null===(n=null===(t=e.contentDetail)||void 0===t?void 0:t[C.t.File])||void 0===n?void 0:n.file)||void 0===i?void 0:i.permanentUrl;if(s)return Object(qe.f)(s)},Sn=e=>{var t;const n=Object(p.p)("feature.course.content.inline-render"),s=Object(o.eb)(o.u.PreviewFile({id:e.id})),a=xn(e),r=null===(t=e.contentDetail)||void 0===t?void 0:t[C.t.File];return Object(i.useMemo)((()=>{if(!e.id)return{hasFilePreview:!1,href:void 0};const t=null==r?void 0:r.fileAssociationMode,i=(null==r?void 0:r.file)?Object(L.kb)(r.file):void 0,o=t!==C.G.Link&&i&&Object(L.Z)(i,n);return n&&o?{hasFilePreview:!0,href:s}:{hasFilePreview:!1,href:a}}),[e.id,r,n,a,s])};var Cn=n("Y+9S");const En=(e,t,{id:n,title:i})=>{Object(Cn.r)({type:e,status:Cn.b.Success,contentId:n,contentTitle:i,contentType:t})},In=e=>{En(Cn.c.FileOpened,Cn.e.Document,e)},wn=e=>{const{item:t,linkedItem:n,searchTerm:i}=e,a=null!=n?n:t,o=Sn(a),r=gn(),l=yn();return s.a.createElement(an,{item:t,searchTerm:i,linkProps:{analyticsId:"content.search.dropdown.item.file",href:o.href,onClick:()=>(e=>{var t,n;const i=Object(Je.f)(e),s=null!==(t=e.id)&&void 0!==t?t:"",a=null!==(n=e.courseId)&&void 0!==n?n:"";In(e),i&&r(a,s,i).then((()=>{l(s,i)}))})(a),target:o.hasFilePreview?void 0:"_blank",rel:o.hasFilePreview?void 0:"noopener noreferrer"}})};var An=n("CY5M");const On=async(e,t,n,i,s)=>{let a=Object(qe.f)(e);return a=Object(qe.c)(a,"from_ultra","true"),t?(Object(qe.x)(a),Promise.resolve()):s?o.bb.goPeekState(o.C.LaunchLtiPeek({toolHref:a,courseId:n,contentId:i})):o.bb.goPeekState(o.C.LaunchLtiFrame({toolHref:a}))},Dn=(e,t,n)=>{var i,s;const a=null!==(i=e.id)&&void 0!==i?i:"",o=null!==(s=e.courseId)&&void 0!==s?s:"",r=Object(Je.f)(e);r&&(n&&n(o,a,r),e.inSequence&&t(a,r))},Tn=async(e,t,n)=>{var i;const s=e.contentHandler;if(!s)return Promise.reject(new Error("Attempted to launch an LTI link without a valid contentHandler."));const{courseId:a,id:o,contentDetail:r}=e;if(m.i.LtiPlacement.startsWith(s)||m.i.LtiLink.isEqualTo(s)){const e=m.E.CloudDocument===(null===(i=null==r?void 0:r[s.toString()])||void 0===i?void 0:i.itemOrigin);return On(t,n,a,o,e)}return m.i.PartnerCloud.isEqualTo(s)?On(t,n,a,o,!1):Promise.reject(new Error("Attempted to launch an LTI link without a valid contentHandler."))};const Pn=({item:e,linkedItem:t,analyticsId:n,launchNewWindow:i,searchTerm:a})=>{var r,l,c,d,u;const m=null!=t?t:e,h=function(e){const t=ue(),n=Object(p.x)(t,"system.admin.VIEW"),i=gn(),s=function(e){var t,n;return!(!e.contentHandler||!(null===(n=null===(t=e.contentDetail)||void 0===t?void 0:t[e.contentHandler.toString()])||void 0===n?void 0:n.gradingColumn))}(e),a=Object(p.n)(t);return{isEntitled:n,isGradable:s,isStudentInCourse:!!a&&Object(hn.b)(a),updateContentReviewState:i}}(m),g=yn(),b=m.contentHandler&&(null===(c=null===(l=null===(r=m.contentDetail)||void 0===r?void 0:r[m.contentHandler.toString()])||void 0===l?void 0:l.domainConfig)||void 0===c?void 0:c.statusType),f=m.contentHandler&&(null===(u=null===(d=m.contentDetail)||void 0===d?void 0:d[m.contentHandler.toString()])||void 0===u?void 0:u.supportEmail),v=!!Object(An.k)(m),{displayModal:y,modal:k}=Object(L.qb)(An.h,{email:f});return s.a.createElement(s.a.Fragment,null,s.a.createElement(an,{item:e,searchTerm:a,linkProps:{analyticsId:n,onClick:()=>{v?(async(e,t,n,i)=>{const s=Object(An.k)(e);if(!s)return Promise.reject(new Error("Attempted to launch an LTI link without a valid launchLink."));const{isEntitled:a,isGradable:r,isStudentInCourse:l,updateContentReviewState:c}=n||{},{launchNewWindow:d}=i||{},u=void 0!==d?d:!!s.launchNewWindow;if(a&&c)return Tn(e,s.link,u).then((n=>(Dn(e,t,c),n)));if(r&&l){const{courseId:n,id:i}=e;return o.bb.goPeekState(o.C.LaunchLti({courseId:n,contentId:i})).then((n=>(Dn(e,t,c),n)))}return Tn(e,s.link,u).then((n=>(Dn(e,t,c),n)))})(m,g,h,{launchNewWindow:i}).catch(console.error):b&&re.a.NeedsApproval===b&&y()}}}),k)},$n=e=>{const{item:t,linkedItem:n,searchTerm:i}=e;return s.a.createElement(Pn,{item:t,searchTerm:i,linkedItem:n,analyticsId:"content.search.dropdown.item.lti-placement"})},Gn=e=>{const{item:t,linkedItem:n,searchTerm:i}=e;return s.a.createElement(Pn,{item:t,searchTerm:i,linkedItem:n,analyticsId:"content.search.dropdown.item.lti-link"})},jn=e=>{const{item:t,searchTerm:n}=e;return s.a.createElement(an,{item:t,searchTerm:n,linkProps:{analyticsId:"content.search.dropdown.item.default"}})};function Ln(e){if(!e||!e.contentHandler)return;const t=e.contentHandler.toString();return t.startsWith(C.t.LtiPlacement)?C.t.LtiPlacement:m.j.isBbPage(e)?C.t.Document:t}const Nn=e=>{const{item:t,linkedItem:n,searchTerm:i,setDropdownVisibility:a,courseContentSearch:r,setSearchMessage:l}=e,c=null!=n?n:t,u=tn(t),m=Object(d.a)();return s.a.createElement(an,{item:c,searchTerm:i,linkProps:{analyticsId:`content.search.dropdown.item.${u}`,href:"#",onClick:()=>{let e=t.id;if(a&&a(!1),t.inSequence&&(e=t.parentId),null==r||r(void 0,C.cb.courseContent,void 0,!0,e),l){const e=Object(H.l)(u),n=`${m(e)}: "${t.title}"`;l(n)}o.bb.search({search:c.title})}}})};const Bn=e=>{var t;const{item:n,courseContentSearch:i,setSearchMessage:a,searchTerm:o,setDropdownVisibility:r}=e,l=function(e){var t,n;const i=null===(n=null===(t=e.contentDetail)||void 0===t?void 0:t[C.t.CourseLink])||void 0===n?void 0:n.linkSourceId,s=ue();return Object(p.a)(s,i)}(n),c=Ln(l);if(n.visibility===C.w.Restricted&&!(null===(t=n.permissions)||void 0===t?void 0:t.edit)){const e=c===C.t.Discussion;return s.a.createElement(Nn,{item:n,linkedItem:e?l:void 0,searchTerm:o,setDropdownVisibility:r,courseContentSearch:i,setSearchMessage:a})}switch(c){case C.t.TestLink:return s.a.createElement(rn,{item:n,linkedItem:l,searchTerm:o});case C.t.Discussion:return s.a.createElement(cn,{item:n,linkedItem:l,searchTerm:o});case C.t.Document:return s.a.createElement(un,{item:n,linkedItem:l,searchTerm:o});case C.t.Journal:return s.a.createElement(pn,{item:n,linkedItem:l,searchTerm:o});case C.t.RusticiScorm:return s.a.createElement(kn,{item:n,linkedItem:l,searchTerm:o});case C.t.File:return s.a.createElement(wn,{item:n,linkedItem:l,searchTerm:o});case C.t.LtiPlacement:return s.a.createElement($n,{item:n,linkedItem:l,searchTerm:o});case C.t.LtiLink:return s.a.createElement(Gn,{item:n,linkedItem:l,searchTerm:o});default:return s.a.createElement(jn,{item:n,linkedItem:l,searchTerm:o})}},Mn=e=>{const{item:t,courseContentSearch:n,setSearchMessage:i,searchTerm:a,setDropdownVisibility:r}=e,l=Object(d.a)();return s.a.createElement(an,{item:t,searchTerm:a,linkProps:{analyticsId:"content.search.dropdown.item.folder",href:"#",onClick:()=>{if(r&&r(!1),null==n||n(void 0,C.cb.courseContent,void 0,!0,t.id),i){const e=tn(t),n=Object(H.l)(e),s=`${l(n)}: "${t.title}"`;i(s)}o.bb.search({search:t.title})}}})},Rn=e=>{const{item:t,courseContentSearch:n,setSearchMessage:i,searchTerm:a,setDropdownVisibility:r}=e,l=Object(d.a)();return s.a.createElement(an,{item:t,searchTerm:a,linkProps:{analyticsId:"content.search.dropdown.item.learning-module",href:"#",onClick:()=>{if(r&&r(!1),null==n||n(void 0,C.cb.courseContent,void 0,!0,t.id),i){const e=tn(t),n=Object(H.l)(e),s=`${l(n)}: "${t.title}"`;i(s)}o.bb.search({search:t.title})}}})},Fn=e=>{const{item:t,linkedItem:n,searchTerm:i}=e;return s.a.createElement(Pn,{item:t,searchTerm:i,linkedItem:n,analyticsId:"content.search.dropdown.item.onedrive-lti"})},Vn=(e,t)=>{if(e.id&&(e=>!!m.j.canEdit(e)||!m.j.isRestricted(e))(e))return o.j.Document({id:e.id,view:t})},_n=e=>{const{item:t,searchTerm:n}=e,i=Vn(t,"content"),a=Object(o.eb)(i);return s.a.createElement(an,{item:t,searchTerm:n,linkProps:{analyticsId:"content.search.dropdown.item.document-text",href:a}})},Un=e=>{var t,n;const{item:i,linkedItem:a,searchTerm:o}=e,r=null===(n=null===(t=(null!=a?a:i).contentDetail)||void 0===t?void 0:t[m.i.PartnerCloud.toString()])||void 0===n?void 0:n.providerId,l=Object(p.B)(r),c=!(null==l?void 0:l.responsive);return s.a.createElement(Pn,{item:i,searchTerm:o,linkedItem:a,analyticsId:"content.search.dropdown.item.partner-cloud-lti",launchNewWindow:c})};var Hn=n("KjBU"),zn=n.n(Hn);const qn=e=>{var t,n;let i=null===(n=null===(t=e.contentDetail)||void 0===t?void 0:t[C.t.ExternalLink])||void 0===n?void 0:n.url;if(i)return i=zn()(i),Object(qe.h)(i)},Wn=e=>{const{item:t,searchTerm:n}=e,i=qn(t);return s.a.createElement(an,{item:t,searchTerm:n,linkProps:{analyticsId:"content.search.dropdown.item.url",href:i,target:"_blank",rel:"noopener noreferrer"}})};function Kn(e){if(e)return e.startsWith(C.t.LtiPlacement)?C.t.LtiPlacement:e}const Jn=({item:e,searchTerm:t,setDropdownVisibility:n,courseContentSearch:i,setSearchMessage:a})=>{var o,r;const l=Kn(null===(o=e.contentHandler)||void 0===o?void 0:o.toString());if(l===C.t.CourseLink)return s.a.createElement(Bn,{item:e,searchTerm:t,setDropdownVisibility:n,courseContentSearch:i,setSearchMessage:a});if(e.visibility===C.w.Restricted&&!(null===(r=e.permissions)||void 0===r?void 0:r.edit))return s.a.createElement(Nn,{item:e,searchTerm:t,setDropdownVisibility:n,courseContentSearch:i,setSearchMessage:a});switch(l){case C.t.TestLink:return s.a.createElement(rn,{searchTerm:t,item:e});case C.t.Discussion:return s.a.createElement(cn,{searchTerm:t,item:e});case C.t.Document:case C.t.Page:return s.a.createElement(un,{searchTerm:t,item:e});case C.t.Folder:return m.j.isBbPage(e)?s.a.createElement(_n,{searchTerm:t,item:e}):s.a.createElement(Mn,{item:e,searchTerm:t,setDropdownVisibility:n,courseContentSearch:i,setSearchMessage:a});case C.t.Journal:return s.a.createElement(pn,{searchTerm:t,item:e});case C.t.LearningModule:return s.a.createElement(Rn,{item:e,searchTerm:t,setDropdownVisibility:n,courseContentSearch:i,setSearchMessage:a});case C.t.RusticiScorm:return s.a.createElement(kn,{searchTerm:t,item:e});case C.t.File:return s.a.createElement(wn,{searchTerm:t,item:e});case C.t.ExternalLink:return s.a.createElement(Wn,{searchTerm:t,item:e});case C.t.PartnerCloud:return s.a.createElement(Un,{searchTerm:t,item:e});case C.t.LtiPlacement:return s.a.createElement($n,{searchTerm:t,item:e});case C.t.LtiLink:return Wt(e)?s.a.createElement(Fn,{searchTerm:t,item:e}):s.a.createElement(Gn,{searchTerm:t,item:e});default:return s.a.createElement(jn,{searchTerm:t,item:e})}},Qn=Object(h.makeStyles)((e=>({paper:{boxShadow:e.shadows[0]}}))),Zn=({className:e,isOpen:t,anchorEl:n,isFloating:i,onKeyDown:a,children:o})=>{const r=Qn();return t?i||null==o?s.a.createElement(l.AnalyticsPopper,{analyticsId:"content.search.dropdown",role:"presentation",anchorEl:n,open:t,onKeyDown:a,className:e,disablePortal:!0,id:"results-container",modifiers:{flip:{enabled:!1},preventOverflow:{enabled:!1,boundariesElement:"view"},hide:{enabled:!1}}},s.a.createElement(h.Paper,{variant:"dropdown",className:r.paper},o)):o:null},Yn=e=>{const{clearSearchCallback:t,isShownInPanel:n,message:a}=e,r=Object(d.a)(),c=Object(h.useTheme)(),u=Object(i.useRef)(null);return Object(i.useEffect)((()=>{var e;null===(e=u.current)||void 0===e||e.focus()}),[a]),s.a.createElement(h.Box,{display:"flex",flexDirection:n?"column":"row",alignItems:n?"flex-start":"normal",gridGap:c.spacing(1)},s.a.createElement(l.AnalyticsTypography,{ref:u,tabIndex:0,component:"h3",variant:"h4"},r("courseCore.components.contentSearch.allItemsSearch.showingResultsFor")," ",s.a.createElement(Zt,{highlight:a},a)),s.a.createElement(l.AnalyticsLink,{component:"button",tabIndex:0,onClick:()=>{o.bb.search({search:void 0}),t()},analyticsId:"content.search.clear-search.button"},s.a.createElement(l.AnalyticsTypography,{variant:"body2"},r("courseCore.components.contentSearch.allItemsSearch.clearSearch"))))};function Xn(){var e;return{search:null!==(e=Object(p.C)("search"))&&void 0!==e?e:""}}const ei=e=>{const{hideFilter:t,className:n,isShownInPanel:a,courseContentSearch:r,setHeaderMessage:c}=e,{search:u}=Xn(),m=a&&""!==u,[h,g]=Object(i.useState)(u),[b,f]=Object(i.useState)(!1),[v,y]=Object(i.useState)(""),[k,x]=Object(i.useState)(null),S=ue(),{contents:E,count:I,isLoading:w,isError:A,search:O}=Object(p.d)(S),D=Object(i.useRef)(null),T=Object(d.a)(),P=Rt(),$=Object(Ft.a)((e=>{O(e,4),f(!0)}),250),G=()=>{t&&(f(!1),""===h&&t(!0))},j=e=>{var n;if("Tab"===e.key)setTimeout((()=>{var e;t&&""===h&&t(!0),(null===(e=D.current)||void 0===e?void 0:e.contains(document.activeElement))||f(!1)}),0);else if("ArrowDown"===e.key||"ArrowUp"===e.key){const t=document.querySelectorAll("#search-listbox-id > li")[1];if("LI"!==(null===(n=document.activeElement)||void 0===n?void 0:n.tagName))null==t||t.focus();else{const t="ArrowDown"===e.key?document.activeElement.nextSibling:document.activeElement.previousSibling;t&&t.focus()}e.preventDefault()}else"Escape"===e.key&&G()},N=()=>{""!==h&&(a?y(`"${h}"`):c&&c(`"${h}"`),f(!1),o.bb.search({search:h}).then((()=>{r(h,C.cb.courseContent,C.bc.MODIFIED_DATE_DESC,!0)})))};return Object(i.useEffect)((()=>{""===u&&g(u)}),[u]),s.a.createElement(o.e,null,s.a.createElement(l.AnalyticsClickAwayListener,{onClickAway:G,analyticsId:"course-outline.filter.clickAwayListener"},s.a.createElement("div",{className:P.searchContainer,ref:D},s.a.createElement("div",{className:null!=n?n:P.searchTextContainer,ref:x},s.a.createElement(L.M,{inputId:"course-content-filter-input",analyticsId:"course.outline.filter.searchBox",label:T("courseCore.components.contentSearch.searchBox.searchBoxPlaceholder"),clearButtonAriaLabel:T("courseCore.components.contentSearch.searchBox.searchBoxClearButton"),TextFieldProps:{fullWidth:!0},InputProps:{autoFocus:!0,inputProps:{"aria-invalid":"false",role:"combobox","aria-autocomplete":"list","aria-expanded":b,"aria-controls":"search-listbox-id"}},onKeyDown:j,onSearch:N,onChange:e=>{g(e),""!==e?$(e):f(!1)},value:h})),s.a.createElement(Zn,{className:P.popper,isOpen:b,anchorEl:k,isFloating:!a,onKeyDown:j},s.a.createElement(qt,{itemsCount:null!=I?I:0,isLoading:w,isError:A,onShowAll:N,onTryAgain:()=>{O(h,4)}},E.map((e=>s.a.createElement(Jn,{key:e.id,item:e,searchTerm:h,setDropdownVisibility:f,courseContentSearch:r,setSearchMessage:null!=c?c:y}))))))),m&&s.a.createElement(Yn,{clearSearchCallback:r,isShownInPanel:!0,message:v}))};var ti=n("2mBv");const ni=Object(h.makeStyles)((e=>({searchAction:{display:"inline-flex",alignItems:"center",justifyContent:"center",color:e.palette.primary.main,minWidth:40,minHeight:40,textAlign:"center","&:visited":{color:e.palette.primary.main},"&:hover":{color:e.palette.primary.main},"&:active":{color:e.palette.primary.main}},searchButton:{height:"40px",width:"40px"},searchTextContainerInline:{width:"25vw",boxSizing:"border-box"}}))),ii=e=>{const{courseContentSearch:t,setSearchMessage:n}=e,[a,r]=Object(i.useState)(!0),{search:u}=Xn(),m=Object(d.a)(),p=ni(),h=Object(c.t)(),g=Object(c.s)(h.breakpoints.down("sm")),b=Object(o.eb)(o.j.ContentSearch());Object(i.useEffect)((()=>{const e=()=>{var e;const n=null!==(e=new URL(window.location.href).searchParams.get("search"))&&void 0!==e?e:"";r(""===n),n?t(n,C.cb.courseContent,C.bc.MODIFIED_DATE_DESC,!0):t()};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}),[t]),Object(i.useEffect)((()=>{""!==u&&r(!1)}),[u]);const f=g?s.a.createElement(l.AnalyticsLink,{analyticsId:"course-outline.filter.search.button","aria-label":m("courseCore.components.contentSearch.searchBox.searchButtonAriaLabel"),href:b,className:p.searchAction},s.a.createElement(ti.a,{"aria-hidden":"true",role:"presentation"})):s.a.createElement(l.AnalyticsIconButton,{analyticsId:"course-outline.filter.search.button","aria-label":m("courseCore.components.contentSearch.searchBox.searchButtonAriaLabel"),onClick:()=>{r(!1)},className:p.searchButton},s.a.createElement(ti.a,{"aria-hidden":"true",role:"presentation"})),v=a||g;return s.a.createElement(s.a.Fragment,null,v?f:s.a.createElement(ei,{hideFilter:r,className:p.searchTextContainerInline,isShownInPanel:!1,courseContentSearch:t,setHeaderMessage:n}))},si=Object(h.makeStyles)((e=>({header:{paddingTop:e.spacing(3),paddingBottom:e.spacing(2),marginBottom:e.spacing(1),position:"sticky",top:0,zIndex:e.zIndex.appBar,backgroundColor:e.palette.background.default,transition:e.transitions.create("box-shadow",{duration:e.transitions.duration.standard,easing:e.transitions.easing.easeInOut}),[e.breakpoints.up("md")]:{top:e.spacing(2)},"&::before":{content:'""',position:"absolute",inset:0,backgroundColor:e.palette.background.default,zIndex:-1}},headerBordered:{paddingBottom:e.spacing(3),marginBottom:0,borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:e.palette.border.main},headerDetached:{"&::after":{content:'""',position:"absolute",inset:0,boxShadow:"0px 5px 0px rgba(0, 0, 0, 0.04)",zIndex:-1}},content:{display:"flex",flexDirection:"column",alignItems:"stretch",position:"relative"}})));function ai(e){return`course.outline.copyDetails.overflowMenu.menu.${e}.link`}function oi({canAccessBatchEdit:e,hasCurrentCopyDetailsErrors:t,openExportModal:n,openCopyDetailsPanel:i,onClose:a}){const r=Object(d.a)(),l=Object(p.i)("course.outline","organization.outline"),c=ue(),u=Object(p.e)(c),h=Object(p.E)({courseId:c,contentId:m.P.Root}),g=function(e){return{isComplete:!!e&&Object(m.Nb)(e),canExport:!!e&&Object(m.fb)(e),canArchive:!!e&&Object(m.bb)(e),canImport:!!e&&Object(m.gb)(e),canCopy:!!e&&Object(m.db)(e),canConvert:!!e&&Object(m.cb)(e)}}(u),b=function({t:e,courseFlags:t,canAccessBatchEdit:n,onClose:i}){const{isComplete:a}=t;return{key:"bulkEditItemKey",analyticsId:ai("course.outline.bulkEditLink"),icon:s.a.createElement(f.BulkEdit,{color:"action"}),text:e("course.outline.bulkEditLink"),hidden:!(!a&&n),onClick(){o.bb.goPeekState(o.j.BulkEditContent()),i()}}}({t:r,courseFlags:g,canAccessBatchEdit:e,onClose:a}),v=function({t:e,root:t,courseFlags:n,onClose:i}){const{canImport:a}=n;return{key:"importItemKey",analyticsId:ai("course.outline.operation.importContent"),icon:s.a.createElement(f.Import,{color:"action"}),text:e("course.outline.operation.importContent"),hidden:!a,onClick(){t&&t.id&&o.bb.goPeekState(o.j.ImportContent({parentId:t.id})),i()}}}({t:r,root:h,courseFlags:g,onClose:a}),y=function({t:e,resolve:t,courseFlags:n,onClose:i}){const{canCopy:a}=n;return{key:"copyContentItemKey",analyticsId:ai(t("course.outline.operation.granularCopy")),icon:s.a.createElement(f.Duplicate,{color:"action"}),text:e(t("course.outline.operation.granularCopy")),hidden:!a,onClick(){o.bb.goPeekState(o.j.CopyContent({positionAfter:"end",depth:1})),i()}}}({t:r,resolve:l,courseFlags:g,onClose:a}),k=function({t:e,resolve:t,courseFlags:n,openExportModal:i,onClose:a}){const{canArchive:o,canExport:r}=n;return{key:"exportItemKey",analyticsId:ai(t("course.outline.operation.export")),icon:s.a.createElement(f.Export,{color:"action"}),text:e(t("course.outline.operation.export")),hidden:!(o||r),onClick:()=>{i(),a()}}}({t:r,resolve:l,courseFlags:g,openExportModal:n,onClose:a}),x=function({t:e,resolve:t,courseFlags:n,onClose:i}){const{canCopy:a,canConvert:r,canExport:l,canArchive:c,canImport:d}=n;return{key:"viewCourseTasksKey",analyticsId:ai(t("course.outline.operation.viewCourseTasks")),icon:s.a.createElement(f.Attention,{color:"action"}),text:e(t("course.outline.operation.viewCourseTasks")),hidden:!(a||r||l||c||d),onClick(){o.bb.goPeekState(o.p.Tasks()),i()}}}({t:r,resolve:l,courseFlags:g,onClose:a}),S=function({t:e,courseFlags:t,hasCurrentCopyDetailsErrors:n,openCopyDetailsPanel:i,onClose:a}){const{canCopy:o}=t;return{key:"copyDetailsItemKey",analyticsId:ai("course.outline.operation.copyDetails"),icon:s.a.createElement(f.Attention,{color:"error"}),text:e("course.outline.operation.copyDetails"),hidden:!(o&&n),onClick:()=>{i(),a()}}}({t:r,courseFlags:g,hasCurrentCopyDetailsErrors:t,openCopyDetailsPanel:i,onClose:a});return[b,v,y,k,x,S]}const ri=Object(h.makeStyles)((e=>({menu:{marginRight:e.spacing(4),[e.breakpoints.up("sm")]:{marginRight:0}},paper:{width:"95%",[e.breakpoints.up("sm")]:{width:"280px"}}}))),li=e=>{const t=Object(d.a)(),n=Object(p.i)("course.outline","organization.outline"),i=ri(),o=Object(h.useTheme)(),r=Object(h.useMediaQuery)(o.breakpoints.up("sm")),[c,u]=s.a.useState(null),m=null!==c,g="course.outline.copyDetails.overflowMenu.showMenu.button",b=()=>{u(null)},v=oi({...e,onClose:b}),y=t("components.directives.overflow-menu.menu-button.aria-label",{elementName:t(n("course.outline.courseContent"))});return s.a.createElement(s.a.Fragment,null,s.a.createElement(l.AnalyticsIconButton,{analyticsId:"course.outline.copyDetails.overflowMenu.showMenu.button",className:Object(a.a)("overflow-menu-button",{open:m}),title:y,"aria-controls":c?g:void 0,"aria-expanded":m,"aria-haspopup":"true","aria-label":y,onClick:e=>{u(e.currentTarget)}},s.a.createElement(f.Menu,null)),s.a.createElement(L.j,{id:g,analyticsId:"course.outline.copyDetails.overflowMenu.menu",className:Object(a.a)("react-container",i.menu),classes:{paper:i.paper},anchorEl:c,anchorOrigin:{vertical:"bottom",horizontal:r?"right":"left"},transformOrigin:{vertical:"top",horizontal:"right"},open:m,items:v,onClick:b,onClose:b}))},ci=()=>Object(u.e)((e=>!!m.gc.app.getQueryParams(e).search)),di=e=>{const{courseContentSearch:t,courseOutlineIsEmpty:n,shouldShowOverflowMenu:o,canAccessBatchEdit:r,hasCurrentCopyDetailsErrors:c,openExportModal:u,openCopyDetailsPanel:g,childrenRefresher:b,isLoading:f}=e,{search:v}=Xn(),[y,k]=Object(i.useState)(`"${v}"`),x=ci(),S=ue(),C=Object(p.e)(S),E=Object(p.n)(S),I=C&&Object(m.eb)(C),w=E&&m.n.isStudentMembership(E),A=Object(i.useRef)(null),[O,D]=Object(i.useState)(!1),T=O||!f&&(n||x||!!w),P=si(),$=Object(d.a)();return Object(i.useEffect)((()=>{const e=new IntersectionObserver((e=>{D(!e[0].isIntersecting)}),{rootMargin:"-48px 0px 0px 0px",threshold:[0]});return A.current&&e.observe(A.current),()=>e.disconnect()}),[]),s.a.createElement(vn,{value:b},s.a.createElement("span",{ref:A}),s.a.createElement(h.Box,{component:"header",className:Object(a.a)("outline-header react-container",P.header,{[P.headerDetached]:O,[P.headerBordered]:T})},s.a.createElement(h.Box,{className:P.content},s.a.createElement(h.Box,{display:"flex",alignItems:"center"},s.a.createElement(h.Box,{flexGrow:1,display:"flex",alignItems:"center"},s.a.createElement(l.AnalyticsTypography,{variant:"h2"},$("course.outline.contentHeaderLabel")),I&&s.a.createElement(jt,null),w&&s.a.createElement(Mt,null)),s.a.createElement(ii,{courseContentSearch:t,setSearchMessage:k}),o&&s.a.createElement(li,{canAccessBatchEdit:r,hasCurrentCopyDetailsErrors:c,openExportModal:u,openCopyDetailsPanel:g})),x&&s.a.createElement(h.Box,{mt:3},s.a.createElement(Yn,{clearSearchCallback:t,isShownInPanel:!1,message:y})))))},ui=Object(h.makeStyles)((e=>({container:{display:"flex",flexDirection:"column",alignItems:"center",gap:e.spacing(2)},withTopSpace:{marginTop:e.spacing(8),[e.breakpoints.up("sm")]:{marginTop:e.spacing(20)},[e.breakpoints.up("md")]:{marginTop:e.spacing(30)}}}))),mi=({hasNetworkError:e,retryLastLoad:t,courseOutlineIsEmpty:n,courseContentSearch:i,contentLoadInProgress:r})=>{const c=ui(),u=Object(d.a)(),m=Object(h.useTheme)(),p=Object(h.useMediaQuery)(m.breakpoints.down("sm")),g=ci();return r?null:s.a.createElement(h.Box,{display:"flex",justifyContent:"center"},e&&s.a.createElement(h.Box,{className:Object(a.a)(c.container,c.withTopSpace)},s.a.createElement(l.AnalyticsTypography,{variant:"h2"},u("courseCore.components.contentSearch.error.networkErrorOutline")),s.a.createElement(l.AnalyticsPrimaryButton,{analyticsId:"content.search.state.networkError.button",onClick:()=>{t(!0)}},u("courseCore.components.contentSearch.error.tryAgain"))),g&&n&&!e&&s.a.createElement(h.Box,{className:Object(a.a)(c.container,c.withTopSpace)},s.a.createElement(l.AnalyticsTypography,{variant:"h2"},u("courseCore.components.contentSearch.error.noResultsFound")),s.a.createElement(l.AnalyticsPrimaryButton,{analyticsId:"course-outline.filter.search.button",onClick:()=>{o.bb.search({search:void 0}).then((()=>{p&&o.bb.leavePeekState()})),i()}},u("courseCore.components.contentSearch.error.goBackToCourseContent")),s.a.createElement("div",{className:"sr-only",role:"status","aria-live":"assertive"},u("courseCore.components.contentSearch.error.noResultsFound"))))};function pi(e){var t;return!!(null===(t=e.permissions)||void 0===t?void 0:t.create)}const hi=Object(i.createContext)({AddContentButton:()=>null,fileUploads:!1});function gi(){const{fileUploads:e}=Object(i.useContext)(hi);if(!e)throw new Error("ContentOutline is trying to upload files without the context to do so!");return e}const bi=Object(h.makeStyles)((e=>({placeholderContainer:{backgroundColor:e.palette.background.b5,margin:"10px 0",padding:"20px"},placeholderText:{fontWeight:e.typography.fontWeightBold,textAlign:"center"}}))),fi=()=>{const e=Object(d.a)(),t=bi(),n=Object(i.useRef)(null);return Object(i.useEffect)((()=>{var e;null===(e=n.current)||void 0===e||e.focus()}),[]),s.a.createElement("div",{className:t.placeholderContainer,ref:n,tabIndex:-1},s.a.createElement("div",{className:t.placeholderText},e("components.directives.content-item-base.copy-placeholder")),s.a.createElement("div",{className:"sr-only"},e("components.directives.content-item-base.please-wait")))};var vi=n("C9bf"),yi=n("fN3Q");const ki=new WeakMap;function xi(e,t){if((null==t?void 0:t.stable)&&ki.has(e))return ki.get(e);if(e.id)return e.id;let n=ki.get(e);return n||(n=Object(yi.v4)()),ki.set(e,n),n}function Si(e,t){const n=null!=t?t:document,i=xi(e);return n.querySelector(`[data-content-id="${i}"]`)}function Ci(e){return(null==e?void 0:e.matches("[data-content-id]"))?e:null}function Ei(e){return Ci(e.nextElementSibling)}function Ii(e){return Ci(e.previousElementSibling)}function wi(e){var t;return Ci(null===(t=e.parentElement)||void 0===t?void 0:t.closest("[data-content-id]"))}function Ai(e){const t=function(e){return null==e?void 0:e.querySelector(".ax-focusable-title")}(e);null==t||t.focus()}var Oi=n("fpIG"),Di=n("ZvIw");function Ti(e){var t;return!!(null===(t=e.ui)||void 0===t?void 0:t.isUploading)}const Pi=e=>{var t,n,s;const a=null!==(s=null===(n=null===(t=e.contentDetail)||void 0===t?void 0:t[C.t.CourseLink])||void 0===n?void 0:n.linkSourceId)&&void 0!==s?s:"",o=Object(re.g)();return Object(i.useEffect)((()=>{a&&o((()=>e.getLinkContentSource()))}),[o,a,e]),e.ui.linkSource};function $i(e){return!!m.j.canViewAsInstructor(e)&&!e.isAvailable}function Gi(e){return m.j.isConditionalReleaseLocked(e)||m.j.isRestricted(e)&&!m.j.canViewAsInstructor(e)}const ji=e=>{const{item:t}=e,n=Pi(t),i=n&&$i(n),a=n&&Gi(n);switch(Object(re.i)(re.b.ContentUpdate,((e,n)=>{var i;n.id&&(null===(i=t.ui.linkSource)||void 0===i?void 0:i.id)===n.id&&(t.ui.linkSource=n)})),Object(re.i)(re.b.UpdateReviewState,((e,i)=>{const s=Object(re.e)(re.d.CurrentCourseMembership).isStudentMembership();Object(re.e)(re.d.LearningModuleRefreshChildrenOperations).refreshCourseLinksWhichTargetIsInLearningModule(t,s,n)})),Ln(n)){case C.t.TestLink:return s.a.createElement(Ro,{item:t,linkedItem:n,isRestricted:i,readOnly:a});case C.t.Discussion:return s.a.createElement(Ya,{item:t,linkedItem:n,isRestricted:i,readOnly:a});case C.t.Document:return s.a.createElement(no,{item:t,linkedItem:n,isRestricted:i,readOnly:a});case C.t.Journal:return s.a.createElement(Oo,{item:t,linkedItem:n,isRestricted:i,readOnly:a});case C.t.RusticiScorm:return s.a.createElement(Bo,{item:t,linkedItem:n,isRestricted:i,readOnly:a});case C.t.File:return s.a.createElement(so,{item:t,linkedItem:n,isRestricted:i,readOnly:a});case C.t.LtiPlacement:return s.a.createElement(Qo,{item:t,linkedItem:n});case C.t.LtiLink:return s.a.createElement(Ko,{item:t,linkedItem:n});default:return s.a.createElement(Ja,{item:t})}};var Li=n("MlM1"),Ni=n("zJ2Y");const Bi=Object(h.makeStyles)((e=>({icon:{verticalAlign:"text-top",color:e.palette.indicatorPrimary.main}}))),Mi=e=>{const{id:t}=e,n=Bi(),i=Object(d.a)();return s.a.createElement(Ni.a,{id:t,className:n.icon,titleAccess:i("components.directives.content-item-base.aria-label.indicator")})},Ri=Object(h.makeStyles)((e=>({container:{display:"flex",alignItems:"baseline",gap:"8px"},contentItemTitle:{maxWidth:"100%",width:"fit-content",color:e.palette.text.primary,fontWeight:e.typography.fontWeightSemiBold,fontSize:e.typography.fontSizeMedium,lineHeight:"1.4",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",textDecoration:"inherit","&:hover, &:focus, &:active:hover":{color:"inherit",textDecoration:"inherit"}},hoverable:{"&:hover, &:active:hover":{textDecoration:"underline"}},isRestricted:{color:e.palette.text.secondary,cursor:"pointer","&:hover, &:focus, &:active:hover":{color:e.palette.text.secondary}},readOnly:{cursor:"default","&:hover, &:active:hover":{textDecoration:"none",cursor:"default"}}}))),Fi=s.a.forwardRef((function(e,t){const{analyticsId:n,"aria-describedby":o,children:r,className:c,isRestricted:d=!1,notAccessible:u=!1,hasActivityIndicator:m=!1,readOnly:p,...h}=e,[g]=Object(i.useState)((()=>Object(yi.v4)())),b=Ri(),f=p?void 0:n,{href:v,onClick:y,"aria-expanded":k,"aria-controls":x,...S}=h;let C="span";p?C="div":e.href?C="a":e.onClick&&(C="button");const E=Object(a.a)(o,m&&g);return s.a.createElement("div",{className:b.container},s.a.createElement(l.AnalyticsLink,{className:Object(a.a)(b.contentItemTitle,p?b.readOnly:b.hoverable,d&&b.isRestricted,c,"ax-focusable-title"),"aria-describedby":E||void 0,"aria-expanded":p?void 0:k,"aria-controls":p?void 0:x,component:C,analyticsId:f,ref:t,"aria-hidden":u,tabIndex:u?-1:0,...p?S:h},r),m&&s.a.createElement(Mi,{id:g}))})),Vi=Object(h.makeStyles)((e=>{var t;const n=Object(c.p)(null!==(t=e.palette.brand.light)&&void 0!==t?t:e.palette.brand.main,.3);return{contentItem:{width:"100%",height:"100%",display:"flex",padding:"20px 0px","&:hover":{backgroundColor:e.palette.background.b3},position:"relative","@media (hover: none) and (pointer: coarse)":{userSelect:"none","-webkit-user-select":"none","-webkit-touch-callout":"none"}},clickable:{cursor:"pointer"},draggable:{cursor:"grab"},dragOverlayOuter:{backgroundColor:e.palette.background.b3,outline:`${e.palette.brand.main} solid 2px`,boxShadow:e.shadows[10],cursor:"grabbing",opacity:.9},dragOverlay:{pointerEvents:"none"},draggingOuter:{backgroundColor:e.palette.brand.light},dragging:{opacity:0},highlighted:{"&&":{outline:`${e.palette.brand.main} solid 1px`,backgroundColor:n,"&:hover":{backgroundColor:n}}},nesting:({nestingLevel:e,indentationBreakpoint:t})=>({paddingLeft:`${z(e,t)}px`})}})),_i=Object(i.createContext)({isSorting:!1}),Ui=Object(vi.c)({key:"contentOutline/highlightedContentIdState",default:void 0}),Hi=Object(vi.d)({key:"contentOutline/isHighlightedState",get:e=>({get:t})=>!!e&&t(Ui)===e}),zi=Object(vi.c)({key:"contentOutline/togglablesOpenState",default:{}}),qi=Object(vi.d)({key:"contentOutline/isTogglableOpen",get:e=>({get:t})=>{var n;return!!e&&(null!==(n=t(zi)[e])&&void 0!==n&&n)},set:e=>({get:t,set:n},i)=>{e&&n(zi,{...t(zi),[e]:!(i instanceof vi.a)&&i})}}),Wi=e=>{const{className:t,contentId:n,readOnly:o,draggable:r,...l}=e,{isDragOverlay:c,isDragging:d,listeners:u,isSorting:m}=Object(i.useContext)(_i),p=Object(vi.g)(Hi(n)),h=(({nestingLevel:e})=>{const t=J();return Vi({nestingLevel:e,indentationBreakpoint:t})})({nestingLevel:K()}),g=Object(a.a)(h.contentItem,h.nesting,{[h.clickable]:!o,[h.dragOverlay]:c,[h.dragging]:d,[h.draggable]:r&&!m,[h.highlighted]:p},t);return s.a.createElement("div",{className:Object(a.a)(c&&[h.dragOverlayOuter,"dragOverlay"],d&&h.draggingOuter,"itemContainer")},s.a.createElement(L.f,{className:g,...u,...l}))},Ki=e=>{const{Icon:t,className:n,showAlertIcon:i,isRestricted:o,titleAccess:r,showLinkBadge:l,customIconUrl:c}=e,d=ne(e),u=i?"error":"primary",m=c?s.a.createElement("img",{src:Object(qe.f)(c),className:d.customIcon,alt:r}):s.a.createElement(t,{color:u,titleAccess:r});return s.a.createElement("div",{className:Object(a.a)(d.contentItemIcon,o&&d.restrictedContentItemIcon,n)},l?s.a.createElement(L.C,null,m):m)};function Ji(e){var t;const n=Object(d.a)();return(null===(t=e.systemGeneratedLocalizableDescription)||void 0===t?void 0:t.languageKey)?n(e.systemGeneratedLocalizableDescription.languageKey):e.description}const Qi=Object(i.createContext)({});const Zi=e=>{const{previousNeighborId:t,nextNeighborId:n}=e,a=Object(i.useMemo)((()=>({neighborBefore:{contentId:t},neighborAfter:{contentId:n}})),[t,n]),o=Qi.Provider;return s.a.createElement(o,{value:a},e.children)};function Yi(e,t){const{neighborBefore:n,neighborAfter:s}=Object(i.useContext)(Qi),a=Object(p.a)(e,null==n?void 0:n.contentId),o=Object(p.a)(e,null==s?void 0:s.contentId);return{beforeItemState:N(a,t),afterItemState:N(o,t)}}const Xi=e=>{var t;const{item:n,supportsManualTransition:i}=e,a=null!==(t=n.id)&&void 0!==t?t:"",o=ue(),r=Object(p.b)(o,a),l=function(){const e=Object(u.d)();return(t,n,i)=>{var s;const a=null!==(s=n.id)&&void 0!==s?s:"",o=null!=i?i:C.u.None,r=Object(Je.g)(o);m.j.canUpdateReviewState(n)&&r&&a&&t&&!n.inSequence&&e(m.X.contentReviewState.persistContentReviewState(t,a,r))}}(),c=i?()=>l(o,n,r):()=>{},{beforeItemState:d,afterItemState:h}=Yi(o,n);return s.a.createElement(I,{beforeItemState:d,afterItemState:h,content:n,contentState:r||C.u.None,hasAutomaticReviewStateTransition:!m.j.canUpdateReviewState(n),onReviewStateIconClick:c})};function es(e){return!!e.id&&m.j.canHaveReviewState(e)&&m.j.canViewReviewState(e)}const ts=Object(h.makeStyles)((()=>Object(h.createStyles)({visibilityIcon:{marginRight:"8px"},root:{display:"flex",alignItems:"center",lineHeight:1.4}})));var ns=n("2Lcf"),is=n("p87j");const ss=e=>{const{variant:t}=e,n=ts(),i=Object(d.a)(),a=Object(p.i)("components.directives.content-visibility","components.directives.content-visibility.organization");return s.a.createElement("div",{className:n.root},"medium"===t?s.a.createElement(ns.a,{className:n.visibilityIcon}):s.a.createElement(is.a,{className:n.visibilityIcon}),s.a.createElement("span",null,i(a("components.directives.content-visibility.visible"))))};var as=n("L87A"),os=n("STfh");const rs=e=>{const{variant:t}=e,n=ts(),i=Object(d.a)(),a=Object(p.i)("components.directives.content-visibility","components.directives.content-visibility.organization");return s.a.createElement("div",{className:n.root},"medium"===t?s.a.createElement(as.a,{className:n.visibilityIcon}):s.a.createElement(os.a,{className:n.visibilityIcon}),s.a.createElement("span",null,i(a("components.directives.content-visibility.hidden"))))};var ls=n("5jhJ"),cs=n("GAfu");const ds=e=>{const{variant:t}=e,n=Object(d.a)(),i=ts();return s.a.createElement("div",{className:i.root},"medium"===t?s.a.createElement(ls.a,{className:i.visibilityIcon}):s.a.createElement(cs.a,{className:i.visibilityIcon}),s.a.createElement("span",null,n("components.directives.content-visibility.conditional-availability")))};function us(e){return m.h.hasOnlyForcedSequenceConditionalReleaseCriteria(e)?!!e.isAvailable:m.j.isVisibleToStudents(e)}function ms(e){return m.h.hasOnlyForcedSequenceConditionalReleaseCriteria(e)?!e.isAvailable:m.j.isHiddenFromStudents(e)}function ps(e){return!us(e)&&!ms(e)&&m.h.isConditionalRelease(e)}const hs=e=>{const{item:t,variant:n="small"}=e;return us(t)?s.a.createElement(ss,{variant:n}):ms(t)?s.a.createElement(rs,{variant:n}):ps(t)?s.a.createElement(ds,{variant:n}):s.a.createElement(s.a.Fragment,null)};var gs=n("4vxQ"),bs=n("izEs"),fs=n("AfZX");const vs=Object(h.makeStyles)((()=>Object(h.createStyles)({visibilityIcon:{marginRight:"8px"},visibilityText:{overflow:"hidden",textOverflow:"ellipsis"},root:{marginTop:"5px",marginLeft:"1px",alignSelf:"start",maxWidth:"100%"},inputRoot:{border:0,backgroundColor:"transparent"},inputFocused:{"&&":{boxShadow:"none"}},selectRoot:{paddingLeft:0,minHeight:"inherit"}})));function ys(e){const t=Object(re.e)(re.d.ConditionalReleaseCourseModelOperations);e.visibility=function(e){return e.isAvailable?C.w.Visible:C.w.Hidden}(e);const n=["isAvailable","isPartiallyVisible","adaptiveReleaseRules"],i=e.getAssociatedGradingColumn();return i&&(i.visible=e.isAvailable,n.push("contentDetail")),t.save(e,n,["assignedGroups,selfEnrollmentGroups.group"])}async function ks(e,t,n){const i=Object(re.e)(re.d.ConditionalReleaseCourseModelOperations),s=Object(re.e)(re.d.Content);return m.h.isConditionalRelease(t)&&i.conditionalReleaseAsync(t,"DELETE"),function(e,t){switch(e.adaptiveReleaseRules={startDate:null,endDate:null},t){case C.w.Visible:e.isAvailable=!0,e.isPartiallyVisible=!1;break;case C.w.Hidden:e.isAvailable=!1,e.isPartiallyVisible=!1;break;case C.w.Restricted:e.isAvailable=!0,e.isPartiallyVisible=!0}}(t,e),n?(a=t,(o=n).adaptiveReleaseRules=a.adaptiveReleaseRules,o.isAvailable=a.isAvailable,o.isPartiallyVisible=a.isPartiallyVisible,await ys(n),await s.updateCourseLinks(n,!0)):(await ys(t),await s.updateCourseLinks(t,!0));var a,o}async function xs(e,t,n,i){const{confirmed:s}=await function(e,t,n){return m.h.isConditionalRelease(t)&&!m.h.hasOnlyForcedSequenceConditionalReleaseCriteria(t)?n():Promise.resolve({confirmed:!0})}(0,t,i);s&&await ks(e,t,n)}function Ss(e,t){return!m.h.isConditionalRelease(e)||function(e,t){const n=(i=e.adaptiveReleaseRules,(null==i?void 0:i.rules)?i.rules.map((e=>e.criteria)).filter((e=>void 0!==e)).reduce(((e,t)=>t.concat(e)),[]):null);var i;return t.entitledToDeleteConditionalRelease||!n||m.h.canDeleteAllCriteria(e,n)}(e,t)}function Cs(e,t,n){return!n&&!!e.id&&!!t.entitledToViewConditionalRelease}const Es={visibilityType:C.w.Visible,textKey:"components.directives.content-visibility.visible",resolveKey:!0,analyticsId:"components.directives.content-visibility.visible.link",mediumIcon:ns.a,smallIcon:is.a,displayPredicate:Ss},Is={visibilityType:C.w.Hidden,textKey:"components.directives.content-visibility.hidden",resolveKey:!0,analyticsId:"components.directives.content-visibility.hidden.link",mediumIcon:as.a,smallIcon:os.a,displayPredicate:Ss},ws={visibilityType:C.w.Restricted,textKey:"components.directives.content-visibility.conditional-availability",resolveKey:!1,analyticsId:"components.directives.content-visibility.conditional-availability.link",mediumIcon:ls.a,smallIcon:cs.a,displayPredicate:Cs},As=e=>{const{exitCallback:t}=e,[n,a]=Object(i.useState)(!1),[o,r]=Object(i.useState)(!1),c=Object(d.a)(),u=(e=!1)=>{r(e),a(!0)};return s.a.createElement(P.a,{analyticsId:"course.conditionalRelease.removeConditionalAvailability",open:!n,TransitionProps:{onExited:()=>{t(o),a(!1)}}},s.a.createElement(l.AnalyticsDialogTitle,{analyticsId:"course.conditionalRelease.removeConditionalAvailability.dialogTitle",onClose:()=>u()},c("course.conditionalRelease.removeConditionalAvailability.title")),s.a.createElement(l.AnalyticsDialogContent,{analyticsId:"course.conditionalRelease.removeConditionalAvailability.dialogContent"},s.a.createElement(l.AnalyticsDialogContentText,{analyticsId:"course.conditionalRelease.removeConditionalAvailability.dialogContentText"},c("course.conditionalRelease.removeConditionalAvailability.instructions"))),s.a.createElement(l.AnalyticsDialogActions,{analyticsId:"course.conditionalRelease.removeConditionalAvailability.dialogactions"},s.a.createElement(l.AnalyticsDefaultButton,{analyticsId:"course.conditionalRelease.removeConditionalAvailability.global.cancel",onClick:()=>u()},c("global.cancel")),s.a.createElement(l.AnalyticsPrimaryButton,{analyticsId:"course.conditionalRelease.removeConditionalAvailability.global.continue",onClick:()=>u(!0)},c("global.continue"))))},Os=Object(h.makeStyles)((e=>Object(h.createStyles)({courseLinkVisibilityWarningBanner:{padding:"12px"},fixedMaxWidth:{maxWidth:"200px"}})));var Ds=n("flm2");const Ts=({fixedMaxWidth:e})=>{const t=Os(),n=Object(d.a)(),i=Object(p.i)("components.directives.content-visibility","components.directives.content-visibility.organization");return s.a.createElement(Ds.a,{severity:"info",className:t.courseLinkVisibilityWarningBanner},s.a.createElement("div",{className:Object(a.a)({[t.fixedMaxWidth]:e})},n(i("components.directives.content-visibility.courseLinkInfo"))))};const Ps=e=>{const{item:t,variant:n,entitlements:a,disableRestricted:r,showCourseLinkWarning:l}=e,{displayModal:c,modal:u}=Object(L.qb)(As),h=Object(d.a)(),g=vs(),[b,f]=Object(i.useState)(l),v=Object(p.i)("components.directives.content-visibility","components.directives.content-visibility.organization"),y=Pi(t),k=function(e){return us(e)?C.w.Visible:ms(e)?C.w.Hidden:ps(e)?C.w.Restricted:void 0}(t);function x(e){const i="medium"===n?e.mediumIcon:e.smallIcon,o=e.resolveKey?v(e.textKey):e.textKey;return e.displayPredicate(t,a,r)?s.a.createElement(bs.a,{button:!0,value:e.visibilityType,analyticsId:e.analyticsId},s.a.createElement(i,{className:g.visibilityIcon}),s.a.createElement("span",{className:g.visibilityText},h(o))):null}return s.a.createElement(s.a.Fragment,null,u,s.a.createElement(gs.a,{select:!0,value:k,className:g.root,onChange:e=>{!async function(e,t,n,i){var s;if(e!==C.w.Restricted)return xs(e,t,n,i);o.bb.goPeekState(o.j.EditConditionalRelease({contentId:null!==(s=t.id)&&void 0!==s?s:""}))}(e.target.value,t,y,c)},InputProps:{classes:{root:g.inputRoot,focused:g.inputFocused}},SelectProps:{MenuProps:fs.b,classes:{root:g.selectRoot},onOpen:()=>{if(!(l||m.j.isFolderContentItem(t)||m.j.isDiscussion(t)||m.C.isLearningModule(t)||m.j.isLink(t))){Object(re.e)(re.d.CourseContentModelOperations).hasCourseLinks(t).then((e=>f(e)))}}},analyticsId:"course.content.visibility.button"},x(Es),x(Is),x(ws),b&&s.a.createElement(Ts,{fixedMaxWidth:!0})))};function $s(e,t,n){return!function(e,t,n){return!Ss(e,t)&&!Cs(e,t,n)}(e,t,n)&&(!!m.j.canEdit(e)||(!!m.j.canEditAvailability(e)||!e.id))}const Gs=e=>{var t;const{item:n,variant:i,disableRestricted:a=!1,showCourseLinkWarning:o}=e,r=null!==(t=n.courseId)&&void 0!==t?t:"";let l=Object(p.w)(r,["course.content.designer.VIEW"]),c=Object(p.w)(r,["course.adaptiverelease.VIEW"]),d=Object(p.w)(r,["course.adaptiverelease.DELETE"]);n.permissions&&(l=m.j.canViewAsInstructor(n),n.permissions.adaptiveRelease&&(c=n.permissions.adaptiveRelease.view,d=n.permissions.adaptiveRelease.delete));const u={entitledToViewDesigner:l,entitledToViewConditionalRelease:c,entitledToDeleteConditionalRelease:d};return $s(n,u,a)?s.a.createElement(Ps,{item:n,variant:i,disableRestricted:a,entitlements:u,showCourseLinkWarning:o}):u.entitledToViewDesigner?s.a.createElement(hs,{item:n,variant:i}):s.a.createElement(s.a.Fragment,null)};function js(e,t){return function(e){return e===m.i.Unknown.iconClass}(t)&&function(e){return m.i.CourseLink.isEqualTo(e.contentHandler)}(e)?function(e){const t=Object(nn.d)(e);return m.i.parse(t).iconClass}(e):t}async function Ls(e){const t=await async function(e){const t=Object(re.e)(re.d.ContentIcon);return await t.getIconClass(e)}(e);return js(e,t)}var Ns=n("+Koh");const Bs=Object(h.makeStyles)((e=>({overflowMenu:{padding:"0 16px",color:e.palette.text.secondary,"&:hover":{color:e.palette.action.active}}}))),Ms=e=>{const{nativeEvent:t}=e;return(e=>e.composedPath().filter((e=>e instanceof HTMLElement)))(t).some((e=>"allyContentRef"in e.dataset))},Rs=Object(h.makeStyles)((()=>({overflowMenuList:{width:"280px"}}))),Fs=e=>{const{id:t,onCloseMenu:n,anchorEl:i,overflowMenuItems:a}=e,o=Rs(),r=Object(d.a)(),l=a.map((({subAnalyticsId:e,translationKey:t,onClick:i,...s})=>({...s,analyticsId:`components.directives.content-item-base.overflowMenu.${e}.link`,text:r(t),onClick:e=>{null==i||i(e),n()}})));if(!i)return null;return s.a.createElement(L.j,{id:t,analyticsId:"components.directives.content-item-base.overflowMenu",open:!0,onClose:n,onClick:n,onMouseUp:e=>{Ms(e)&&setTimeout(n)},onKeyDown:e=>{"Escape"!==e.key&&"Enter"!==e.key&&" "!==e.key||(Ms(e)?setTimeout(n):"Escape"===e.key&&n())},anchorEl:i,classes:{list:o.overflowMenuList},transformOrigin:{vertical:12,horizontal:278},items:l})};const Vs=e=>{const{item:t,exitCallback:n}=e,[a,o]=Object(i.useState)(!1),[r,c]=Object(i.useState)(!1),u=function(e){const[t,n]=Object(i.useState)(),s=Object(p.e)(e.courseId),{textOnPage:a}=Object(i.useContext)(hi);return Object(i.useEffect)((()=>{var t;Object(re.e)(re.d.Content).generateDeleteConfirmationKey(e,null!==(t=null==a?void 0:a.deleteConfirmationKeyVariant)&&void 0!==t?t:"course-outline",null==s?void 0:s.isOrganization).then((t=>{var i;const s=t.ui.deleteConfirmationKey;n(null!=s?s:null===(i=e.contentHandler)||void 0===i?void 0:i.toString())}))}),[e,null==s?void 0:s.isOrganization,null==a?void 0:a.deleteConfirmationKeyVariant]),t}(t),m=null==u?void 0:u.replace(/^resource\//,""),h=`components.directives.confirmation-needed.title-${m}`,g=`components.directives.confirmation-needed.instructions-${m}`,b=Object(d.a)(),f=(e=!1)=>{c(e),o(!0)};return s.a.createElement(s.a.Fragment,null,!!u&&s.a.createElement(P.a,{analyticsId:"components.directives.content-item-base.overflowMenu.dialog","aria-labelledby":"delete-content-confirmation-dialog-heading-id",open:!a,TransitionProps:{onExited:()=>{n(r),o(!1)}},isAlert:!0},s.a.createElement(l.AnalyticsDialogTitle,{analyticsId:"components.directives.content-item-base.overflowMenu.dialogTitle",onClose:()=>f(),id:"delete-content-confirmation-dialog-heading-id",ariaDescribedby:"delete-content-confirmation-dialog-message-id"},b(h)),s.a.createElement(l.AnalyticsDialogContent,{analyticsId:"components.directives.content-item-base.overflowMenu.dialogContent"},s.a.createElement(l.AnalyticsDialogContentText,{id:"delete-content-confirmation-dialog-message-id",analyticsId:"components.directives.content-item-base.overflowMenu.dialogContentText"},b(g))),s.a.createElement(l.AnalyticsDialogActions,{analyticsId:"components.directives.content-item-base.overflowMenu.dialogActions"},s.a.createElement(l.AnalyticsDefaultButton,{analyticsId:"components.directives.content-item-base.overflowMenu.cancel.button",onClick:()=>f()},b("global.cancel")),s.a.createElement(l.AnalyticsPrimaryButton,{analyticsId:"components.directives.content-item-base.overflowMenu.confirm.button",onClick:()=>f(!0)},b("global.delete")))))};const _s=e=>{const{children:t}=e,n=e=>e.stopPropagation();return s.a.createElement("div",{onMouseDown:n,onTouchStart:n},t)},Us=e=>{var t;const{item:n,overflowMenuItems:a,onOpenMenu:o}=e,[r,c]=Object(i.useState)(void 0),u=!!r,{displayModal:m,modal:p}=Object(L.qb)(Vs,{item:n});a.forEach((e=>{var t;(function(e){return void 0!==e.confirmableAction})(e)&&(e.onClick=(t=e.confirmableAction,async()=>{const{confirmed:e}=await m();e&&t()}))}));const h=Object(d.a)();let g;g=null!==n.title&&void 0!==n.title?h("components.directives.overflow-menu.menu-button.aria-label",{elementName:n.title}):h("components.directives.overflow-menu.menu-button.title");const b=`content-item-overflow-menu-${n.id}`,f=Bs(),v=a.filter((e=>!e.hidden)),y=v.length>0&&v.every((e=>void 0!==e["data-ally-show"])),k=y&&(null===(t=v[0])||void 0===t?void 0:t["data-ally-content-ref"]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(l.AnalyticsIconButton,{analyticsId:"components.directives.content-item-base.overflowMenu.showMenu.button",className:f.overflowMenu,onClick:e=>{null==o||o(e),c(e.currentTarget)},id:`content-item-overflow-menu-button-${n.id}`,title:g,"aria-expanded":u,"aria-label":g,"aria-haspopup":"true","aria-controls":r?b:void 0,"data-ally-show":y?"instructorfeedback":void 0,"data-ally-content-ref":y?k:void 0},s.a.createElement(Ns.Menu,null)),!!r&&s.a.createElement(_s,null,s.a.createElement(Fs,{id:b,item:n,onCloseMenu:()=>{c(void 0)},anchorEl:r,overflowMenuItems:a})),p)};var Hs=n("vK8H");const zs=Object(h.makeStyles)((e=>Object(h.createStyles)({groupIcon:{marginRight:"8px",alignSelf:"baseline",height:e.typography.body1.lineHeight+"rem"},root:{marginLeft:"1px",marginTop:"4px",display:"flex"}})));const qs=e=>{var t;const{item:n}=e,i=Object(d.a)(),a=function(e){return!!(e.selfEnrollmentGroups&&e.selfEnrollmentGroups.length>0)&&e.selfEnrollmentGroups.some((e=>e.group&&!e.group.groupSetId))}(n),o=a?"components.directives.group-count.groups.selfEnroll.plural":"components.directives.group-count.groups.plural";return s.a.createElement("span",null,i(o,{number:null===(t=null==n?void 0:n.assignedGroups)||void 0===t?void 0:t.length}))},Ws=e=>{var t;const{item:n}=e,{analyticsIds:a}=Object(i.useContext)(hi),r=(e=>{const t=Pi(e),n=ue();let s,a=e.id;if(m.i.UltraAssignment.isEqualTo(e.contentHandler)||m.i.TestLink.isEqualTo(e.contentHandler)){const t=e.getDeployedAssessment();s=null==t?void 0:t.gradingColumn.id}else m.i.CourseLink.isEqualTo(e.contentHandler)&&e.contentDetail&&(null==t?void 0:t.id)&&(a=t.id);const r=Object(i.useMemo)((()=>{if(a)return o.l.CourseGroup({groupCourseId:n,groupColumnId:s,groupContentId:a})}),[n,s,a]);return Object(o.eb)(r)})(n);return s.a.createElement(l.AnalyticsLink,{analyticsId:null!==(t=null==a?void 0:a.editableGroupCount)&&void 0!==t?t:"content.outline.item.editGroups.link",href:r},s.a.createElement(qs,{item:n}))};var Ks=n("gqzd");function Js(e){return(null==e?void 0:e.enrollmentDateState)===Ks.c.OPEN}const Qs=Object(h.makeStyles)((e=>Object(h.createStyles)({groupNameTitle:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",wordWrap:"normal",display:"block"},selfEnrollDate:{fontWeight:e.typography.fontWeightBold},deadlineSoon:{color:e.palette.error.main},groupInfoDisplay:{display:"block"}}))),Zs=e=>{var t,n,i,a;const{item:r,selfEnrollGroupInfo:c}=e,d=Qs(),u=null!==(n=null===(t=r.assignedGroups)||void 0===t?void 0:t[0].groupTitle)&&void 0!==n?n:"",m=Object(o.eb)(Object(o.gb)({courseId:null!==(i=r.courseId)&&void 0!==i?i:"",contentId:null!==(a=r.id)&&void 0!==a?a:""}));return Js(c)?(null==c?void 0:c.isSelfEnrollment)?s.a.createElement(l.AnalyticsLink,{href:m,analyticsId:"components.directives.group-student-enrollment.groupTitle.link"},u):null:s.a.createElement("div",{className:d.groupNameTitle},u)},Ys=e=>function(e){return(null==e?void 0:e.enrollmentDateState)===Ks.c.BEFORE}(e)?"components.directives.group-student-enrollment.enrollment-starts":function(e){return(null==e?void 0:e.enrollmentDateState)===Ks.c.OPEN&&!!e.relativeDate}(e)?"components.directives.group-student-enrollment.enrollment-closes":function(e){return(null==e?void 0:e.enrollmentDateState)===Ks.c.AFTER}(e)?"components.directives.group-student-enrollment.enrollment-closed":"",Xs=e=>{var t,n;const{item:i,selfEnrollGroupInfo:r}=e,c=Object(d.a)(),u=Qs(),m=Object(o.eb)(Object(o.gb)({courseId:null!==(t=i.courseId)&&void 0!==t?t:"",contentId:null!==(n=i.id)&&void 0!==n?n:""}));if(!function(e,t){return!!(e.selfEnrollmentGroups&&e.selfEnrollmentGroups.length>0)&&!!(null==t?void 0:t.isSelfEnrollment)}(i,r))return s.a.createElement("div",{className:u.groupNameTitle},c("components.directives.group-student-enrollment.unknown"));const p="components.directives.group-student-enrollment.self-enroll-to-participate";return s.a.createElement("div",{className:u.groupInfoDisplay},Js(r)&&s.a.createElement(l.AnalyticsLink,{href:m,analyticsId:p},c(p)),!function(e){return(null==e?void 0:e.enrollmentDateState)===Ks.c.OPEN&&!e.relativeDate}(r)&&s.a.createElement("div",{className:Object(a.a)(u.selfEnrollDate,(null==r?void 0:r.isEnrollmentDateImportant)&&u.deadlineSoon)},c(Ys(r),{time:null==r?void 0:r.relativeDate})))},ea=e=>{var t,n;const{item:a}=e,o=(e=>{const{babelfishFormat:t,locale:n}=Object(_.a)(),[s,a]=Object(i.useState)();return Object(i.useEffect)((()=>{const i=[];e.forEach((e=>{e.group&&i.push(e.group)})),Object(Ks.n)(i,n,t).then((e=>{a(e)}))}),[e,t,n]),s})(null!==(t=a.selfEnrollmentGroups)&&void 0!==t?t:[]);return(null!==(n=a.assignedGroups)&&void 0!==n?n:[]).length>0?s.a.createElement(Zs,{item:a,selfEnrollGroupInfo:o}):s.a.createElement(Xs,{item:a,selfEnrollGroupInfo:o})},ta=e=>{const{item:t}=e,n=ue(),i=Object(p.w)(n,["course.groups.admin.VIEW"]),a=Object(p.w)(n,["course.groups.VIEW"]),o=zs();return m.j.canHaveAttempts(t)&&t.isGroupContent&&t.assignedGroups?s.a.createElement("div",{className:o.root},s.a.createElement(Hs.a,{className:o.groupIcon}),i?s.a.createElement(Ws,{item:t}):a?s.a.createElement(qs,{item:t}):s.a.createElement(ea,{item:t})):null};var na=n("l2+p");const ia=Object(h.makeStyles)({proctorContainer:{display:"inline-flex",alignItems:"center"},proctorIcon:{marginRight:"6px"}});const sa=e=>{const t=Object(d.a)(),n=ia();return s.a.createElement("div",{className:Object(a.a)(n.proctorContainer,e.className)},s.a.createElement(na.a,{className:n.proctorIcon}),t("components.services.proctoring.outline.proctored"))};function aa(e){const t=function(e){const t=e.getTimedTestDetail();return t.hasTimeLimit?Math.floor(t.displayedTimeLimitSeconds/60):void 0}(e);if(!e.hasDueDate()&&"number"!=typeof t)return;const n=function(e){const t=e.getDueDate();return t instanceof Date?t:"string"==typeof t?new Date(t):void 0}(e),i=function(e){const t=Object(m.Ob)(e),n=Object(m.Jb)(e),i=!(!n||n===m.O);return t||i}(e);return{dueDate:n,timeLimitMinutes:t,isProctored:i}}const oa=Object(h.makeStyles)({gradeInfo:{display:"flex",flexWrap:"wrap",overflow:"hidden"},gradeDetail:{marginRight:"16px","& + &":{position:"relative","&:before":{position:"absolute",content:'"|"',left:"-11px",top:"-1px"}}}}),ra=e=>{const{dueDate:t,timeLimitMinutes:n,isProctored:i}=e,a=Object(d.a)(),o=oa();return s.a.createElement("div",{className:o.gradeInfo},s.a.createElement("div",{className:o.gradeDetail},a("courseCore.components.contentItems."+(t?"dueDate":"noDueDate"),{date:t})),"number"==typeof n&&s.a.createElement("div",{className:o.gradeDetail},a("courseCore.components.contentItems.timeLimit",{timeLimit:n})),i&&s.a.createElement(sa,{className:o.gradeDetail}))};var la=n("1toc"),ca=n("ECG1"),da=n("/n7R");const ua=Object(h.makeStyles)({container:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px"}}),ma="components.directives.content-item-base.content-item-peer-assessment.peer-review-information-tooltip",pa=e=>{var t;const{item:n}=e,[a]=Object(i.useState)((()=>Object(re.e)(re.d.CurrentCourseMembership).isStudentMembership())),o=function(e){const[t,n]=Object(i.useState)(void 0);return Object(i.useEffect)((()=>{Object(re.e)(re.d.PeerReview).getOrCreatePeerContentFromContent(e).then(n)}),[e]),t}(n),r=Object(d.a)(),c=ua();return(null==o?void 0:o.peerGrading)&&o.isPeerGradingConfigured?s.a.createElement("div",{className:c.container},s.a.createElement(la.a,null),s.a.createElement(l.AnalyticsTypography,null,r("components.directives.content-item-base.peer-review-due-date",{peerReviewsNumber:null!==(t=o.numOfPeerReviewsToComplete)&&void 0!==t?t:0,datetime:o.peerReviewDueDate})),a&&s.a.createElement(da.AnalyticsTooltip,{analyticsId:"components.directives.content-item-base.content-item-peer-assessment.tooltip.button",placement:"top",title:r(ma),"aria-label":r(ma)},s.a.createElement(l.AnalyticsButtonBase,{analyticsId:"components.directives.content-item-base.content-item-peer-assessment.tooltip.buttonBase"},s.a.createElement(ca.a,null)))):null};var ha=n("t3aq");const ga=Object(h.makeStyles)((()=>({allyWidget:{width:"auto","& > [data-ally-show]":{margin:"9px 16px","& > svg":{fontSize:"20px"}}}})));function ba(e,t,n){Object(re.e)(re.d.Ally).update(e,t,n)}const fa=e=>{var t;const{contentId:n,fileId:a,...o}=e,r=ue(),l=null!==(t=Object(p.w)(r,["course.content.MODIFY"]))&&void 0!==t&&t,{translate:c,locale:d}=Object(_.a)(),u=ga();return Object(i.useEffect)((()=>{ba(d,n,a)}),[d,n,a]),s.a.createElement(s.a.Fragment,null,s.a.createElement(ha.a,{contentId:n,fileId:a,...o}),!!l&&s.a.createElement("div",{"data-testid":"score_indicator",className:u.allyWidget},s.a.createElement(ha.b,{contentRef:n,widgetType:ha.d.ScoreIndicator})),s.a.createElement("div",{className:u.allyWidget},s.a.createElement(ha.b,{contentRef:n,widgetType:ha.d.AlternativeFormats,ariaLabel:c("ally.download_alternative_formats")})))},va=Object(h.makeStyles)((()=>({contentItemDescriptionContainer:{padding:"10px 15px 0 0"}}))),ya=e=>{const{description:t}=e,n=va(),i=Object(d.a)();return s.a.createElement("div",{className:n.contentItemDescriptionContainer},s.a.createElement(L.V,{textContent:t,analyticsId:"components.course-core.content-item.content-item-decription.text-truncate-button",readLessText:i("courseCore.components.contentItems.showLess"),readMoreText:i("courseCore.components.contentItems.showMore"),textClassName:"js-description"}))};var ka=n("ml91");const xa=e=>{if(e)return()=>{o.bb.goPeekState(e)}};function Sa(e,t){const n=!!e&&t;return{subAnalyticsId:"global.edit",translationKey:"global.edit",icon:s.a.createElement(ka.a,null),onClick:xa(e),key:"components.directives.content-item-base.overflowMenu.edit",hidden:!n}}var Ca=n("7VeY");var Ea=n("rq4T");function Ia(e,t){const n=m.j.hasConversation(e)&&t,i=(e=>{if(e.id)return o.r.Conversation({contentId:e.id,courseId:e.courseId})})(e);return{subAnalyticsId:"components.directives.content-item-base.overflow-menu.open-conversation",translationKey:"components.directives.content-item-base.overflow-menu.open-conversation",icon:s.a.createElement(Ea.a,null),onClick:xa(i),key:"components.directives.content-item-base.overflowMenu.conversation",hidden:!n}}function wa(e,t){return!m.j.isExternalSubmissionsAssessment(e)&&(!!function(e){return(m.i.TestLink.isEqualTo(e.contentHandler)||m.i.UltraAssignment.isEqualTo(e.contentHandler))&&e.hasGradingColumn()}(e)&&(null!=t&&t))}const Aa=e=>{var t;const n=Object(re.e)(re.d.Context),[s,a]=Object(i.useState)(void 0),[r,l]=Object(i.useState)(!1),c=Object(p.w)(null!==(t=e.courseId)&&void 0!==t?t:"",["course.gradebook-grades.VIEW"]);return Object(i.useEffect)((()=>{n.isTelemetryEnabled().then(l)}),[n]),Object(i.useEffect)((()=>{const t=wa(e,c),n=function(e,t,n){var i;const s=Object(re.e)(re.d.CurrentCourseMembership);return n&&t&&!s.isStudentMembership()&&!(null===(i=e.getAssociatedGradingColumn())||void 0===i?void 0:i.anonymousGrading)}(e,t,r);e.id&&n?a(o.K.ContentActivityInDetail({contentId:e.id})):a(void 0)}),[e,c,r]),s};var Oa=n("CTZr");function Da(e){var t;const n=null!==(t=e.courseId)&&void 0!==t?t:"",i=Object(p.w)(n,["course.gradebook-grades.VIEW"])&&m.j.isQuestionAnalysisAvailable(e),a=(e=>{if(e.id)return o.F.QuestionAnalysis({qaContentId:e.id})})(e);return{subAnalyticsId:"components.directives.content-item-base.overflow-menu.question-analysis",translationKey:"components.directives.content-item-base.overflow-menu.question-analysis",icon:s.a.createElement(Oa.a,null),onClick:xa(a),key:"components.directives.content-item-base.overflowMenu.questionAnalysis",hidden:!i}}var Ta=n("67dj"),Pa=n("Ptl6");var $a=n("7N5c");function Ga(e){const t=function(e){if(!e)return;const t=[Ei,Ii,wi];for(const n of t){const t=n(e);if(t)return t}}(Si(e));if(t)Ai(t);else{const e=document.querySelector('[id^="add-content-menu-button-start-"]');null==e||e.focus()}}function ja(e){const t={hidden:!m.j.canDelete(e),subAnalyticsId:"global.delete",translationKey:"global.delete",icon:s.a.createElement($a.Trash,null),key:"delete"};return Object.defineProperty(t,"confirmableAction",{value:()=>{Object(re.e)(re.d.DeleteContentCourseModelOperations).deleteContent(e),Ga(e)},enumerable:!1}),t}var La=n("+pNa");function Na(e){const[t,n]=Object(i.useState)(!1),s=Object(re.e)(re.d.Ally),a=s.isAllySupportedContentItem(e);return Object(i.useEffect)((()=>{s.isAvailable().then(n)}),[s]),t&&a}function Ba(e,t){const n=ue(),i=Object(p.w)(n,[Ke.ViewProgressInformation]),a=Object(p.y)(),o=Object(re.e)(re.d.CurrentCourseMembership),r=Object(p.k)(n,o.isStudentMembership());let l;return!!(null==r?void 0:r.progressTrackingEnabled)&&i&&(l=t),{subAnalyticsId:"components.directives.content-item-base.overflow-menu.content-progress",translationKey:a?"components.directives.content-item-base.overflow-menu.content-progress-org":"components.directives.content-item-base.overflow-menu.content-progress",icon:s.a.createElement(f.ClassPulseFuture,null),onClick:xa(l),key:"components.directives.content-item-base.overflowMenu.contentProgress",hidden:!l}}function Ma(e,t={},n){const{editContentRoute:i,contentProgressRoute:a,usesEditButton:o,supportsConversations:r,analyticsRoute:l,discussionStudentActivityRoute:c,downloadUrl:d}=t,u=Sa(i,o),m=Ia(e,r),h=function(e){const t=Aa(e);return{subAnalyticsId:"components.directives.content-item-base.overflow-menu.student-activity",translationKey:"components.directives.content-item-base.overflow-menu.student-activity",icon:s.a.createElement(Ca.a,null),onClick:xa(t),key:"components.directives.content-item-base.overflowMenu.studentActivity",hidden:!t}}(e),g=function(e){return{subAnalyticsId:"components.directives.content-item-base.overflow-menu.view-analytics",translationKey:"components.directives.content-item-base.overflow-menu.view-analytics",icon:s.a.createElement(Ca.a,null),onClick:xa(e),key:"components.directives.content-item-base.overflowMenu.analytics",hidden:!e}}(l),b=function(e){return{subAnalyticsId:"components.directives.content-item-base.overflow-menu.student-activity",translationKey:"components.directives.content-item-base.overflow-menu.student-activity",icon:s.a.createElement(Ca.a,null),onClick:xa(e),key:"components.directives.content-item-base.overflowMenu.student-activity",hidden:!e}}(c),f=Da(e),v=Ba(0,a),y=ja(e),k=function(e,t){var n;const i=[],a=e=>{if("Enter"===e.key||" "===e.key){const t=new MouseEvent("click",{cancelable:!0,bubbles:!0});e.currentTarget.dispatchEvent(t)}};return null!==(n=Object(p.w)(null==e?void 0:e.courseId,["course.content.MODIFY"]))&&void 0!==n&&n&&i.push({subAnalyticsId:"ally.context_menu.view_accessibility_score",key:"ally-view-accessibility-score",translationKey:"ally.context_menu.view_accessibility_score",icon:s.a.createElement(Pa.a,null),hidden:!t,"data-ally-show":"instructorfeedback","data-ally-show-display":"flex","data-ally-content-ref":e.id,"data-ally-invoke":"instructorfeedback",style:{display:"none"},onKeyDown:a}),i.push({subAnalyticsId:"ally.context_menu.download_alternative_formats",key:"ally-download-alternative-formats",icon:s.a.createElement(Ta.a,null),translationKey:"ally.context_menu.download_alternative_formats",hidden:!t,"data-ally-show":"alternativeformats","data-ally-show-display":"flex","data-ally-content-ref":e.id,"data-ally-invoke":"alternativeformats",style:{display:"none"},onKeyDown:a}),i}(e,n),x=function(e,t){const n=Na(e);return{subAnalyticsId:"global.download",key:"download",icon:s.a.createElement(La.a,null),translationKey:n?"ally.context_menu.download_original_file":"global.download",hidden:!t,onClick:()=>{if(t){Object(Cn.o)(Cn.c.DownloadLinkClicked);const n=new URL(t);n.searchParams.has("xythos-download")||n.searchParams.set("xythos-download","true"),window.open(n,"_blank"),Qe(e)}}}}(e,d);return[u,m,h,g,b,f,v,y,x,...k]}const Ra=s.a.forwardRef(((e,t)=>{const{conditions:n,contentId:i,entitled:a,...r}=e,{translate:c,formatItems:d}=Object(_.a)(),u=Object(p.y)(),m=Object(o.eb)(o.j.EditConditionalRelease({contentId:null!=i?i:""})),h=[[n.acl,(u?"organization":"course")+"-membership"],[n.date,"date"],[n.performance,"performance"]].filter((([e])=>!!e)).map((([,e],t)=>c(`components.directives.content-item-base.conditionalRelease.conditionDescriptions.${e}${0===t?"-capitalized":""}`)));return s.a.createElement(l.AnalyticsLink,{analyticsId:"components.directives.content-item-base.conditionalRelease.link",href:a?m:void 0,ref:t,...r},d(h))})),Fa=Object(h.makeStyles)((e=>({linkTarget:{marginTop:"4px",width:"fit-content"},readonlyTarget:{width:"fit-content",color:e.palette.text.secondary,lineHeight:"inherit","&:hover":{textDecoration:"underline"}}}))),Va=e=>{var t,n;const{item:i}=e,o=Object(d.a)(),r=Fa(),c=he(i),u=null!==(t=e.visibleAsInstructor)&&void 0!==t?t:m.j.canViewAsInstructor(i),p=null!==(n=e.tabbableByStudents)&&void 0!==n?n:!m.j.isNotAccessibleButVisibleForcedSequenceItem(i);return m.j.isConditionalReleaseLocked(i)||m.h.isConditionalRelease(i)&&u?s.a.createElement(be,{item:i},u?s.a.createElement(Ra,{className:r.linkTarget,conditions:c,contentId:i.id,entitled:m.j.canOpenConditionalRelease(i)}):s.a.createElement(l.AnalyticsButtonBase,{analyticsId:"components.common.conditional-release-info.buttonBase",className:Object(a.a)(r.readonlyTarget),"aria-hidden":!p,tabIndex:p?0:-1},o("components.directives.content-item-base.conditionalRelease.lock-info"))):null},_a=e=>{const t=(e=>{const t=ue();return e||(e=t),Object(u.e)((t=>{const n=e?m.gc.course.getCourseById(t,e):void 0;return!!n&&Object(m.Nb)(n)}))})(null==e?void 0:e.courseId),n=Object(p.w)(null==e?void 0:e.courseId,["course.content.MODIFY"]),i=ci();return!!e&&m.j.canEdit(e)&&!t&&!!n&&!i},Ua=Object(i.createContext)({dragHandleRef:()=>{}}),Ha=Object(h.makeStyles)((()=>({dragHandle:{pointerEvents:"none",height:"38px",width:38,opacity:0,"&:focus":{opacity:1},".dragOverlay &":{opacity:1,outline:"none"},"@media (hover)":{".itemContainer:hover &":{opacity:1,"&.otherItemDragging":{opacity:0}}},"@media (hover: none)":{opacity:1}}}))),za=e=>{const{itemTitle:t}=e,n=Object(d.a)(),o=Ha(),r=Object(i.useRef)(null),{isSorting:c,isDragging:u,isDragOverlay:m}=Object(i.useContext)(_i),{attributes:p,activationEvent:h,dragHandleRef:g}=Object(i.useContext)(Ua),b=u&&"keyboard"===h;Object(i.useEffect)((()=>{b&&requestAnimationFrame((()=>{var e;null===(e=r.current)||void 0===e||e.focus()}))}),[b]);const{"aria-roledescription":v,"aria-describedby":y,...k}=null!=p?p:{},x=n("courseCore.course.dragAndDrop.announcements.dragHandleFocus",{contentItemTitle:t}),S=b?{}:{"aria-label":x,"aria-describedby":y};return s.a.createElement("div",{role:"application"},s.a.createElement(l.AnalyticsIconButton,{analyticsId:"content.item.base.move.button",ref:e=>{g(e),r.current=e},className:Object(a.a)(o.dragHandle,{dragOverlay:m,otherItemDragging:!m&&c}),...S,...k},s.a.createElement(f.MoveItemUpDown,{color:m?"action":"disabled"})))},qa=e=>{var t,n,o;const{additionalControls:r,children:l,item:c,overflowMenuProps:u,showAlertIcon:p,showContentVisibility:h=!0,defaultIconDetails:g,overrideIconDetails:b,allyContentProps:f,showLinkBadge:v=!1,onOpenOverflowMenu:y,authorship:k}=e,x=Z(),S=Object(d.a)(),{Icon:C,ariaLabelKey:E}=((e,t)=>{const[n,s]=Object(i.useState)(),a=Pi(e),o=Object(i.useRef)(!0);let r=e;a&&m.i.CourseLink.isEqualTo(e.contentHandler)&&(r=a);const l=Ls(r);return Object(i.useEffect)((()=>()=>{o.current=!1}),[]),Object(i.useEffect)((()=>{l.then((e=>{o.current&&s(e)}))}),[l]),n?{Icon:Object(H.p)(n),ariaLabelKey:Object(H.l)(n)}:t||{Icon:Object(H.p)("document-blank"),ariaLabelKey:Object(H.l)("document-blank")}})(c,g),I=$i(c),w=Ji(c),A=aa(c),O=function(e){return m.i.TestLink.isEqualTo(e.contentHandler)}(c),D=es(c),T=_a(c),P=Na(c),$=function(e,t,n){return m.j.canDelete(e)||m.j.canViewAsInstructor(e)||(null==t?void 0:t.usesEditButton)||!!(null==t?void 0:t.downloadUrl)||(m.j.hasConversation(e)||n)&&!m.j.isConditionalReleaseLocked(e)}(c,u,P),G=Ma(c,u,P);return s.a.createElement(s.a.Fragment,null,T&&s.a.createElement("div",{className:Object(a.a)(x.dragHandle,x.overlaidIcon,x.contentItemOverlaidIcon)},s.a.createElement(za,{itemTitle:null!==(t=c.title)&&void 0!==t?t:""})),D&&s.a.createElement("div",{className:Object(a.a)(x.overlaidIcon,x.contentItemOverlaidIcon)},s.a.createElement(Xi,{item:c,supportsManualTransition:!0})),s.a.createElement(Ki,{className:x.contentItemIcon,Icon:null!==(n=null==b?void 0:b.Icon)&&void 0!==n?n:C,showLinkBadge:v,titleAccess:S(null!==(o=null==b?void 0:b.ariaLabelKey)&&void 0!==o?o:E),isRestricted:I,showAlertIcon:p,customIconUrl:null==g?void 0:g.customIconUrl}),s.a.createElement("div",{className:x.contentItemComponent},s.a.createElement("div",{className:x.contentItemComponentDetails},s.a.createElement("div",{className:x.contentItemContentArea},l,!!A&&s.a.createElement(ra,{...A}),O&&s.a.createElement(pa,{item:c}),s.a.createElement(ta,{item:c}),k,h&&s.a.createElement("div",{className:x.contentVisibility},s.a.createElement(_s,null,s.a.createElement(Gs,{item:c,showCourseLinkWarning:v})),m.j.hasAdaptiveReleaseRules(c)&&s.a.createElement(Va,{item:c}))),s.a.createElement("div",{className:x.contentItemContextArea},!!f&&s.a.createElement(fa,{...f}),$&&s.a.createElement(Us,{item:c,overflowMenuItems:G,onOpenMenu:y}),r)),w&&s.a.createElement(ya,{description:w})))},Wa=({children:e})=>{const{search:t}=Xn();return e?""===t?s.a.createElement(s.a.Fragment,null,e):s.a.createElement(Zt,{weight:Jt.Bold,highlight:t},e):null},Ka=e=>{const{children:t,item:n,linkProps:a,isRestricted:o,readOnly:r,...l}=e,c=null!=o?o:$i(n),d=null!=r?r:Gi(n)||!a.onClick&&!a.href,u=Object(i.useRef)(null),p=_a(n);return s.a.createElement(Wi,{elementToClickRef:u,readOnly:d,draggable:p,contentId:n.id},s.a.createElement(qa,{item:n,...l},s.a.createElement(Fi,{...a,isRestricted:c,readOnly:d,hasActivityIndicator:n.ui.hasIndicator,ref:u,notAccessible:m.j.isNotAccessibleButVisibleForcedSequenceItem(n)},s.a.createElement(Wa,null,n.title)),t))},Ja=e=>{const{item:t}=e;return s.a.createElement(Ka,{linkProps:{analyticsId:"content.item.courses.outline.default.link"},item:t,defaultIconDetails:{Icon:Li.a,ariaLabelKey:Object(H.l)("document-blank")}})};var Qa=n("4iFr");const Za=(e,t)=>{const[n,s]=Object(i.useState)(!1),{id:a}=e,{id:r}=null!=t?t:{},l=function(e,t){return m.i.CourseLink.isEqualTo(e.contentHandler)&&m.i.Discussion.isEqualTo(null==t?void 0:t.contentHandler)||m.i.Discussion.isEqualTo(e.contentHandler)}(e,t);Object(i.useEffect)((()=>{Object(re.e)(re.d.Context).isTelemetryEnabled().then(s)}),[]);return Object(i.useMemo)((()=>{const e=Object(re.e)(re.d.CurrentCourseMembership);if(a&&r&&n&&l&&!e.isStudentMembership())return o.r.DiscussionWithGrading({contentId:r,view:"studentActivity"})}),[a,l,r,n])},Ya=e=>{var t;const{item:n,linkedItem:a,isRestricted:r,readOnly:l,showStudentAuthorship:c}=e,{analyticsIds:u}=Object(i.useContext)(hi),p=ln(null!=a?a:n),h=Object(o.eb)(p),g=Za(n,null!=a?a:n),b=Object(d.a)(),f=c&&m.q.isCreatedByStudent(n),v={analyticsId:a?"course.link.item.forumLink.link":null!==(t=null==u?void 0:u.discussionTitle)&&void 0!==t?t:"content.outline.forumLink.link",href:h},y={editContentRoute:p,usesEditButton:m.j.canEditAvailability(n)&&!!p,discussionStudentActivityRoute:g,supportsConversations:!1};return s.a.createElement(Ka,{linkProps:v,item:n,isRestricted:r,readOnly:l,overflowMenuProps:y,defaultIconDetails:{Icon:Qa.a,ariaLabelKey:Object(H.l)("discussion")},authorship:f&&s.a.createElement("span",null,b("components.directives.content-item-base.content.discussionAuthorship.student"))})};var Xa=n("OhrW");const eo=e=>{if(e.id&&m.j.canEdit(e))return o.t.EditExternalLink({id:e.id})},to=(e,t)=>m.i.CourseLink.isEqualTo(t.contentHandler)?eo(t):e,no=e=>{const{item:t,linkedItem:n,isRestricted:i,readOnly:a}=e,r=dn(null!=n?n:t),l=to(r,t),c={analyticsId:"content.item.coures.outline.document.link",href:Object(o.eb)(r)},d={editContentRoute:l,usesEditButton:m.j.canEditAvailability(t)&&!!r,supportsConversations:!0};return s.a.createElement(Ka,{linkProps:c,item:t,isRestricted:i,readOnly:a,showLinkBadge:!!n,defaultIconDetails:{Icon:Xa.a,ariaLabelKey:Object(H.l)("document-text")},overflowMenuProps:d})};const io=e=>{const t=function(e){var t,n,i;return null===(i=null===(n=null===(t=e.contentDetail)||void 0===t?void 0:t[C.t.File])||void 0===n?void 0:n.file)||void 0===i?void 0:i.mimeType}(e),n=Object(m.Hb)(t);return{Icon:Object(H.o)(t),ariaLabelKey:Object(H.l)(n)}};const so=e=>{const{item:t,linkedItem:n,isRestricted:i,readOnly:a}=e,r=null!=n?n:t,{locale:l}=Object(_.a)(),c=(e=>{if(e.id&&m.j.canEdit(e))return o.u.EditFile({id:e.id})})(r),d=to(c,t),u=Na(r),p=Sn(r),h=xn(r),g=function(e){return Object(re.e)(re.d.Ally).getXythosIdFromContentItem(e)}(r),b=function(e,t){var n,i;if(Gi(e))return;const s=null===(i=null===(n=e.contentDetail)||void 0===n?void 0:n[C.t.File])||void 0===i?void 0:i.fileAssociationMode;return s&&Object(C.Xc)(s)?t:void 0}(r,h),f=(e=>{if(e.id)return o.u.PreviewFile({id:e.id,view:"progress"})})(t);let v;u&&r.id&&h&&g&&(v={contentId:r.id,fileId:g,filePreviewUrl:h});const y={editContentRoute:d,usesEditButton:m.j.canEditAvailability(r)&&!!c,supportsConversations:!1,downloadUrl:b,contentProgressRoute:f};return s.a.createElement(Ka,{linkProps:{analyticsId:"content.item.course.outline.courseContent.link",href:p.href,onClick:()=>(e=>{In(e),Qe(e)})(r),target:p.hasFilePreview?void 0:"_blank",rel:p.hasFilePreview?void 0:"noopener noreferrer"},item:t,isRestricted:i,readOnly:a,showLinkBadge:!!n,overflowMenuProps:y,defaultIconDetails:io(t),allyContentProps:v,onOpenOverflowMenu:()=>{u&&function(e,t){const n=Object(re.e)(re.d.Ally);if(!n.isAllySupportedContentItem(e))return;ba(t,e.id,n.getXythosIdFromContentItem(e))}(r,l)}})};var ao=n("xQgz");const oo=Object(h.makeStyles)((e=>{const t=e.palette.background.b4;return{chevronContainer:{position:"relative",display:"none","&::before":{content:'""',position:"absolute",borderLeft:`1px solid ${e.palette.border.main}`,top:"-13px",height:"40px"},[e.breakpoints.up("sm")]:{display:"flex"}},folderContents:{position:"relative",backgroundColor:e.palette.background.b2,boxShadow:`inset 0px -5px 0px 0px ${t}, inset 0px 5px 0px 0px ${t}`,padding:"0 0 20px","& .content-list-item:first-child":{marginTop:"5px"}},emptyFolderContents:{padding:"25px 0"},emptyReadOnlyFolderContents:{padding:"30px 0"}}})),ro=Object(i.createContext)(void 0),lo=Object(h.makeStyles)((e=>({highlighted:{position:"relative",outline:`${e.palette.brand.main} solid 1px`,"&:before":{content:'""',position:"absolute",left:0,right:0,top:"-1px",zIndex:1,borderTop:`1px solid ${e.palette.brand.main}`}}}))),co=e=>{var t;const{children:n,className:o,togglableId:r}=e,l=lo(),{folderId:c,item:d}=null!==(t=Object(i.useContext)(ro))&&void 0!==t?t:{},u=c===r&&(null==d?void 0:d.parentId)!==r;return s.a.createElement("div",{className:Object(a.a)(u&&l.highlighted,o)},n)};function uo(e){return m.j.canEdit(e)||!m.j.isRestricted(e)}var mo=n("qrV5");const po=e=>{const{id:t,open:n,children:i,...a}=e,o=K();return s.a.createElement("div",{id:t},s.a.createElement(W,{value:o+1},s.a.createElement(mo.a,{in:n,unmountOnExit:!0,timeout:"auto",...a},i)))};function ho(e){return!m.j.isUnknownContentItem(e)}var go;function bo(e){return Object(re.j)((()=>{var t,n;const i=null===(t=null==e?void 0:e.children)||void 0===t?void 0:t.length;return"number"!=typeof i?go.Unopened:0===i||(null!==(n=null==e?void 0:e.children)&&void 0!==n?n:[]).every((e=>!ho(e)))?go.Empty:go.HasChildren}),[null==e?void 0:e.children])}function fo(e,t){var n;const[s,a]=Object(vi.f)(qi(e.id)),o="number"==typeof(null===(n=e.children)||void 0===n?void 0:n.length),[r,l]=Object(i.useState)(o);Object(i.useEffect)((()=>()=>{e.id&&a(!1)}),[e.id,a]),Object(re.i)(re.b.CloseFolderById,((t,n)=>{n&&n===e.id&&(l(!1),a(!1))})),Object(i.useEffect)((()=>{!async function(){try{s&&!r&&t&&(await t(e,!1),l(!0),function(e){var t;e.children&&0===e.children.length&&(null===(t=e.permissions)||void 0===t?void 0:t.canHaveReviewState)&&e.state!==C.u.Completed&&e.updateState(C.u.Completed,!0)}(e))}catch(e){console.error(e)}}()}),[s,r,t,e]),Object(i.useEffect)((()=>{r&&!o&&(a(!1),l(!1))}),[o,r,a]);const c=Object(i.useCallback)((()=>{a((e=>!e))}),[a]);return[s&&r,c]}!function(e){e[e.Unopened=0]="Unopened",e[e.Empty=1]="Empty",e[e.HasChildren=2]="HasChildren"}(go||(go={}));const vo=Object(h.makeStyles)((e=>({emptyListMessage:{display:"flex",justifyContent:"center",color:e.palette.text.secondary},emptyContainer:{"& .native-drag-top::after, & .native-drag-bottom::after":{...Y(e),top:"0",bottom:"1px",height:void 0}}})));var yo,ko=n("Eptt");!function(e){e.Container="container",e.Item="item",e.EndOfList="endOfList"}(yo||(yo={}));const xo=e=>{const{parentId:t,disabled:n=!1,children:i}=e,a=K(),{setNodeRef:o}=Object(ko.n)({id:`${t}-contents`,disabled:n,data:{type:yo.Container,parentId:t,nestingLevel:a}});return s.a.createElement("div",{ref:o},i)},So=Object(i.createContext)((()=>{}));function Co(e){var t;const n=Object(i.useContext)(ro),s=bo(e);if(n&&s!==go.Unopened){const i=n.item.parentId!==e.id&&n.folderId===e.id,a=n.item.parentId===e.id&&n.folderId!==e.id&&1===(null===(t=e.children)||void 0===t?void 0:t.length);switch(s){case go.Empty:if(i)return go.HasChildren;break;case go.HasChildren:if(a)return go.Empty;break;default:return s}}return s}const Eo=e=>{const{item:t,isOpen:n,loadMoreContent:o,containerId:r,emptyMessage:l,centerDivider:c=!0,classes:d}=e,u=vo(),m=Object(i.useContext)(So),{shouldShowEmptyListMessage:p=(()=>!0)}=Object(i.useContext)(hi),h=Co(t);return s.a.createElement(po,{id:r,open:n,className:h===go.Empty?u.emptyContainer:void 0,classes:{wrapperInner:null==d?void 0:d.wrapperInner},onEntered:()=>{m(xi(t))}},s.a.createElement(xo,{parentId:t.id},h===go.Empty&&p(t)?s.a.createElement("div",{className:Object(a.a)(u.emptyListMessage,null==d?void 0:d.emptyMessage)},s.a.createElement("span",null,l)):s.a.createElement(Or,{parentFolder:t,contents:t.children,loadMoreContent:o,showTopAddButton:h===go.Empty,centeredDivider:c})))},Io=e=>{if(e.id)return o.j.GenericStudentProgress({id:e.id})},wo=e=>{var t;const{item:n,loadMoreContent:r}=e,{analyticsIds:l}=Object(i.useContext)(hi),c=Object(d.a)(),[u,p]=fo(n,r),h=Co(n),g=!!n.children&&pi(n.children),b=oo(),f=(e=>{if(e.id)return o.j.EditFolder({id:e.id})})(n),v=Io(n),y={editContentRoute:f,usesEditButton:m.j.canEditAvailability(n)&&!!f,contentProgressRoute:v},k=uo(n),x=`folder-contents-${n.id}`,S="components.directives.element-image.element-image-accessibility.img-icon-"+(u?"folder-open":"folder"),C=h!==go.HasChildren,E=Object(a.a)(b.folderContents,{[b.emptyFolderContents]:C,[b.emptyReadOnlyFolderContents]:C&&!g});return s.a.createElement(co,{togglableId:n.id},s.a.createElement(Ka,{item:n,overrideIconDetails:{Icon:ao.a,ariaLabelKey:S},linkProps:{analyticsId:null!==(t=null==l?void 0:l.folderTitle)&&void 0!==t?t:"content.outline.folder.toggleFolder.button","aria-controls":x,"aria-expanded":u,onClick:k?p:void 0},overflowMenuProps:y,additionalControls:k&&s.a.createElement("div",{className:b.chevronContainer},s.a.createElement(L.g,{open:u}))}),s.a.createElement(Eo,{item:n,isOpen:u,loadMoreContent:r,containerId:x,emptyMessage:c("components.directives.folder.empty"),centerDivider:h!==go.HasChildren,classes:{wrapperInner:E}}))};var Ao=n("BY8f");const Oo=e=>{const{item:t,linkedItem:n,isRestricted:i,readOnly:a}=e,r=null!=n?n:t,l=mn(r),c=to(l,t),d=Object(o.eb)(l),u={analyticsId:"content.item.courses.outline.journal.link",href:d},p={editContentRoute:c,usesEditButton:m.j.canEditAvailability(r)&&!!d,supportsConversations:!1};return s.a.createElement(Ka,{linkProps:u,item:t,isRestricted:i,readOnly:a,overflowMenuProps:p,showLinkBadge:!!n,defaultIconDetails:{Icon:Ao.a,ariaLabelKey:Object(H.l)("journal")}})},Do=Object(h.makeStyles)((e=>({region:{border:`solid 1px ${e.palette.border.main}`,position:"relative"},containerWithDragHandle:{paddingLeft:"33px",backgroundColor:e.palette.background.paper,"&:hover":{backgroundColor:({readOnly:t})=>t?e.palette.background.paper:void 0}},learningModuleComponent:{flex:"1 1 auto"},learningModuleComponentDetails:{position:"relative"},learningModuleReviewStateIcon:{left:"-36px"},learningModuleDragHandle:{left:"-3px"},title:{"&:hover, &:active:hover":{textDecoration:"none"}}})));const To=Object(h.makeStyles)((e=>Object(h.createStyles)({instructorNote:{color:e.palette.text.secondary,marginTop:"5px"}}))),Po=e=>{const{item:t}=e,n=Object(d.a)(),i=To();return m.C.isForcedSequenceModule(t)&&m.j.canEdit(t)?s.a.createElement("div",{className:i.instructorNote},n("components.directives.learning-module.base-item.forced-sequence.instructor-note")):null};const $o=e=>{var t;const{contentsContainerId:n,item:r,open:l,toggleContents:c}=e,[h,g]=function(e){const t=Object(u.d)(),n=ue();return[Object(u.e)((t=>{var n,i;return null!==(i=null===(n=t.content.contents[null!=e?e:""])||void 0===n?void 0:n.hasProgressed)&&void 0!==i&&i})),Object(i.useCallback)((()=>{e&&t(m.X.content.loadContents({contentId:e,courseId:n,hasProgressed:!0}))}),[t,n,e])]}(r.id),b=Object(p.w)(r.courseId,["course.content.MODIFY"]),f=Object(d.a)(),v=Object(i.useRef)(null),y=Ji(r),k=!uo(r),x=function(e){return{...Z(),...Do(e)}}({readOnly:k});Object(i.useEffect)((()=>{l&&((e=>{Object(Cn.r)({type:Cn.c.LearningModuleOpened,status:Cn.b.Success,contentId:e.id})})(r),g())}),[l,r,g]);const S=es(r),C=m.j.canEdit(r),E=l&&function(e,t){return m.j.canEdit(e)&&m.C.isForcedSequenceModule(e)&&!m.j.isHiddenFromStudents(e)&&t}(r,h),I=`learning-module-title-${r.id}`,w=(e=>{if(e.id)return o.j.EditLearningModule({id:e.id})})(r),A={editContentRoute:w,usesEditButton:C&&!!w,contentProgressRoute:Io(r)},O=function(e){return m.j.canDelete(e)||m.j.canEdit(e)}(r),D=function(e,t={}){const{editContentRoute:n,usesEditButton:i,contentProgressRoute:s}=t;return[Sa(n,i),Ba(0,s),ja(e)]}(r,A),T=_a(r);return s.a.createElement("div",{role:"region","aria-labelledby":I,className:x.region},s.a.createElement(Wi,{className:x.containerWithDragHandle,elementToClickRef:v,readOnly:k,draggable:T,contentId:r.id},T&&s.a.createElement("div",{className:Object(a.a)(x.dragHandle,x.overlaidIcon,x.learningModuleDragHandle)},s.a.createElement(za,{itemTitle:null!==(t=r.title)&&void 0!==t?t:""})),s.a.createElement("div",{className:x.learningModuleComponent},s.a.createElement("div",{className:Object(a.a)(x.contentItemComponentDetails,x.learningModuleComponentDetails)},S&&s.a.createElement("div",{className:Object(a.a)(x.overlaidIcon,x.learningModuleReviewStateIcon)},s.a.createElement(Xi,{item:r,supportsManualTransition:!1})),s.a.createElement("div",{className:x.contentItemContentArea},s.a.createElement(Fi,{id:I,analyticsId:"course.learning.module.base.item.toggleLm.button","aria-controls":n,"aria-expanded":l,"aria-label":f("components.directives.learning-module.aria-label.toggleLM",{learningModuleName:r.title}),className:x.title,readOnly:k,onClick:c,ref:v},s.a.createElement(Wa,null,r.title)),s.a.createElement("div",{className:x.contentVisibility},s.a.createElement(_s,null,C&&s.a.createElement(Gs,{item:r})),m.j.hasAdaptiveReleaseRules(r)&&s.a.createElement(Va,{item:r,tabbableByStudents:!0,visibleAsInstructor:C||b})),s.a.createElement(Po,{item:r})),s.a.createElement("div",{className:x.contentItemContextArea},O&&s.a.createElement(Us,{item:r,overflowMenuItems:D}),!k&&s.a.createElement(L.g,{open:l}))),y&&s.a.createElement(ya,{description:y}))),E&&s.a.createElement(L.t,null))},Go=Object(h.makeStyles)((e=>({container:{padding:"20px 0"},learningModuleContents:{position:"relative",border:`solid 1px ${e.palette.border.main}`,borderTop:"0",padding:"25px 0",boxShadow:`inset 0px 3px ${e.palette.background.paper},\n       inset 0px -3px ${e.palette.background.paper}`},emptyReadOnlyLearningModuleContents:{padding:"5px 0"}}))),jo=e=>{const{item:t,loadMoreContent:n}=e,i=Object(d.a)(),[a,o]=fo(t,n),r=Go();Object(re.i)(re.b.UpdateReviewState,((e,n)=>{const i=Object(re.e)(re.d.CurrentCourseMembership).isStudentMembership();Object(re.e)(re.d.LearningModuleRefreshChildrenOperations).refreshChildren(n,t,i)}));const l=`learning-module-contents-${t.id}`;return s.a.createElement("div",{className:r.container},s.a.createElement(co,{togglableId:t.id},s.a.createElement($o,{contentsContainerId:l,item:t,open:a,toggleContents:o}),s.a.createElement(Eo,{item:t,isOpen:a,loadMoreContent:n,containerId:l,emptyMessage:i("components.directives.learning-module.empty"),classes:{emptyMessage:r.emptyReadOnlyLearningModuleContents,wrapperInner:r.learningModuleContents}})))},Lo=e=>{const{item:t}=e,n=Vn(t,"content"),i=Vn(t,"progress"),a={analyticsId:"content.item.coures.outline.document.link",href:Object(o.eb)(n)},r={editContentRoute:n,contentProgressRoute:i,usesEditButton:m.j.canEditAvailability(t)&&!!n,supportsConversations:!0};return s.a.createElement(Ka,{linkProps:a,item:t,overflowMenuProps:r,defaultIconDetails:{Icon:Xa.a,ariaLabelKey:Object(H.l)("document-text")}})};var No=n("MTZf");const Bo=e=>{const{item:t,linkedItem:n,isRestricted:a,readOnly:r}=e,l=null!=n?n:t,c=(e=>{if(e.id&&m.j.canEdit(e))return o.J.EditScorm({contentId:e.id})})(l),d=to(c,t),u=(e=>{var t,n;const[s,a]=Object(i.useState)(void 0),r=ue(),l=null!==(n=Object(p.w)(r,["course.gradebook.MODIFY"])&&(null===(t=e.hasReport)||void 0===t?void 0:t.call(e)))&&void 0!==n&&n,{id:c}=e;return Object(i.useEffect)((()=>{const e=Object(re.e)(re.d.CurrentCourseMembership),t=l&&!e.isStudentMembership();a(c&&t?o.J.ScormAnalyticsReport({contentId:c,courseId:r}):void 0)}),[c,r,l]),s})(t),h=Io(t),g={editContentRoute:d,usesEditButton:m.j.canEditAvailability(l)&&!!d,analyticsRoute:u,supportsConversations:!0,contentProgressRoute:h};return s.a.createElement(Ka,{linkProps:{analyticsId:"content.item.scormlaunch.link",href:"#",onClick:()=>(async e=>{const t=Object(re.e)(re.d.Scorm);e.id&&e.courseId&&await t.scormLaunch({contentId:e.id,courseId:e.courseId,content:e,showPreLaunchPanel:!0})})(l)},item:t,isRestricted:a,readOnly:r,showLinkBadge:!!n,overflowMenuProps:g,defaultIconDetails:{Icon:No.a,ariaLabelKey:Object(H.l)("scormengine")}})};var Mo=n("RrOo");const Ro=e=>{var t;const{item:n,linkedItem:i,isRestricted:a,readOnly:r}=e,l=null!=i?i:n,c=on(l.courseId),d=Kt(l,c),u=to(d,n),m=Object(o.eb)(d),p=null===(t=l.getDeployedAssessment())||void 0===t?void 0:t.permissions,h=!(!p||!p.modify&&!p.view),g={analyticsId:c?"content.item.courses.outline.gradebook.item.assessment.link":"content.item.courses.outline.gradebook.item.assessment.readOnly.link",href:m},b={editContentRoute:u,usesEditButton:h,supportsConversations:!0};return s.a.createElement(Ka,{linkProps:g,item:n,isRestricted:a,readOnly:r,showLinkBadge:!!i,overflowMenuProps:b,defaultIconDetails:{Icon:Mo.a,ariaLabelKey:Object(H.l)("test")}})};var Fo=n("36Bh");const Vo=e=>{const{item:t}=e,n=qn(t),i=eo(t),a=Io(t),o=e=>{(e=>{En(Cn.c.LinkOpened,Cn.e.Link,e)})(e),Qe(e)},r={editContentRoute:i,usesEditButton:m.j.canEditAvailability(t)&&!!i,supportsConversations:!1,contentProgressRoute:a};return s.a.createElement(Ka,{linkProps:{analyticsId:"content.item.course.outline.courseContent.link",href:n,onClick:()=>o(t),target:"_blank",rel:"noopener noreferrer"},item:t,overflowMenuProps:r,defaultIconDetails:{Icon:Fo.a,ariaLabelKey:Object(H.l)("link")}})};var _o=n("13AT");const Uo=e=>{const t=Object(re.e)(re.d.Lti).getDomainConfigStatusType(e),n=!!e.id&&m.D.isLtiLink(e),i=t===re.a.Excluded,s=!1===m.D.ltiToolProviderExists(e);return n&&(s||i)};function Ho(e,t){const n=(i=e,Object(re.e)(re.d.Lti).getDomainConfigStatusType(i)===re.a.NeedsApproval);var i;const s=Uo(e),a=m.D.isUnlaunchableLtiLink(e),o=t?"admin":"instructor";return s&&!n?`courseCore.components.contentItems.ltiExcludedProvider.${o}`:a&&!n?`courseCore.components.contentItems.ltiDeletedPlacement.${o}`:a&&n?"courseCore.components.contentItems.ltiApprovalRequired":"courseCore.components.contentItems.ltiBrokenLink"}const zo=Object(h.makeStyles)((e=>({alertLtiLink:{fontSize:e.typography.fontSizeSmall,fontWeight:e.typography.fontWeightSemiBold,color:e.palette.error.main}})));const qo=e=>{const{item:t}=e,n=(e=>{const[t,n]=Object(i.useState)(!1);return Object(i.useEffect)((()=>{Object(re.e)(re.d.Entitlement).hasSystemEntitlement(e).then(n)}),[e]),t})("system.buildingblocks.VIEW"),a=Object(d.a)(),o=zo(e);return s.a.createElement("span",{className:o.alertLtiLink,dangerouslySetInnerHTML:{__html:a(Ho(t,n))}})},Wo=e=>{const{item:t,children:n,editRoute:i,usesEditButton:a,supportsConversations:o,iconDetails:r,linkedItem:l}=e,c=null!=l?l:t,d=to(i,t),u=(Uo(p=c)||m.D.isUnlaunchableLtiLink(p))&&m.j.canViewAsInstructor(p);var p;const h=Io(t),g={analyticsId:"content.item.course.outline.courseContent.link",href:"#",onClick:()=>(async e=>Object(re.e)(re.d.Lti).ltiLaunch({courseId:e.courseId,contentId:e.id,content:e,showPreLaunchPanel:!0}))(c).catch((e=>{console.error(e)}))};u&&(g.href=void 0,g.onClick=void 0);const b={editContentRoute:d,usesEditButton:a,supportsConversations:o,contentProgressRoute:h};return s.a.createElement(Ka,{linkProps:g,overflowMenuProps:b,item:t,showLinkBadge:null!=l,defaultIconDetails:r,showAlertIcon:m.D.isUnlaunchableLtiLink(c),showContentVisibility:!m.D.isUnlaunchableLtiLink(c)},u&&s.a.createElement(qo,{item:c}),n)};const Ko=e=>{var t,n;const{item:i,linkedItem:a}=e,r=null!=a?a:i,l=(e=>{if(e.id)return o.C.EditLti({id:e.id})})(r),c=function(e,t){return m.j.canEditAvailability(e)&&!!t}(r,l);return s.a.createElement(Wo,{...e,iconDetails:{Icon:_o.a,ariaLabelKey:Object(H.l)("lti"),customIconUrl:null===(n=null===(t=i.contentDetail)||void 0===t?void 0:t["resource/x-bb-blti-link"])||void 0===n?void 0:n.customIconUrl},editRoute:l,usesEditButton:c,supportsConversations:!0})};function Jo(e){var t,n;const i=null==e?void 0:e.contentHandler;if(i)return null===(n=null===(t=e.contentDetail)||void 0===t?void 0:t[`${i}`].placement)||void 0===n?void 0:n.iconUrl}const Qo=e=>{const{item:t,linkedItem:n}=e,i=null!=n?n:t,a=(e=>{var t;if(e.id)return e.contentHandler&&(null===(t=e.contentDetail)||void 0===t?void 0:t[e.contentHandler.toString()].placement)?o.C.EditLtiPlacement({id:e.id}):void 0})(i),r=function(e,t){return m.j.canEditAvailability(e)&&!!t}(i,a);return s.a.createElement(Wo,{...e,iconDetails:{Icon:_o.a,ariaLabelKey:Object(H.l)("lti"),customIconUrl:Jo(t)},editRoute:a,usesEditButton:r,supportsConversations:!0})},Zo=e=>s.a.createElement(Wo,{...e,iconDetails:{Icon:_o.a,ariaLabelKey:Object(H.l)("lti")},editRoute:void 0,usesEditButton:!1,supportsConversations:!1});var Yo=n("6/tG");const Xo=e=>{const{item:t}=e,n=(e=>{var t,n,i;if(!e.id)return;const s=null!==(t=e.contentHandler)&&void 0!==t?t:"",a=null===(i=null===(n=e.contentDetail)||void 0===n?void 0:n[s.toString()])||void 0===i?void 0:i.launchLink;if(!a)return;const r=Object(qe.f)(a),l=Object(qe.c)(r,"from_ultra","true");return o.C.EditLtiCloudDocument({courseId:e.courseId,contentId:e.id,toolHref:l})})(t),i=function(e){var t;return null!==(t=Object(p.w)(null==e?void 0:e.courseId,["course.content.MODIFY"]))&&void 0!==t&&t&&!Uo(e)&&!!m.D.ltiPlacementExists(e)}(t);return s.a.createElement(Wo,{...e,iconDetails:{Icon:Yo.a,ariaLabelKey:Object(H.l)("onedrive")},editRoute:n,usesEditButton:i,supportsConversations:!0})},er=Object(h.makeStyles)((e=>({container:({nestingLevel:t})=>({margin:"20px 0",marginLeft:`${z(t,"sm")}px`,[e.breakpoints.up("sm")]:{marginLeft:`${z(t,"md+")}px`}})}))),tr=(e,t)=>n=>{((e,t)=>{var n;t.title=e.displayName,(null===(n=t.contentDetail)||void 0===n?void 0:n["resource/x-bb-file"])&&e.render&&(t.contentDetail["resource/x-bb-file"].fileAssociationMode=Object(nn.c)(e.render))})(n,e),t()},nr=(e,t)=>()=>{e(),t()};const ir=e=>{const{item:t}=e,n=(()=>{const e=K();return er({nestingLevel:e})})(),a=Object(u.d)(),{deleteContent:o}=gi(),[r,l]=Object(i.useState)(!1),c=Object(u.e)((e=>m.gc.fileUpload.getFileUploadById(e,t.ui.uploadCorrelationId))),{filename:d,uploadProgress:p,uploadDetails:h,isCloudUpload:g,error:b}=null!=c?c:{},{progress:f,aborter:v}=null!=p?p:{},{errorType:y,errorCode:k}=null!=b?b:{},x=null==h?void 0:h.canUpdateFileDetails;if(Object(i.useEffect)((()=>{"number"==typeof(null==f?void 0:f.total)&&(null==f?void 0:f.loaded)===f.total&&l(!0)}),[null==f?void 0:f.loaded,null==f?void 0:f.total]),!c)return null;function S(){null==v||v.abort(),o(t)}function C(e=!1){t.ui.uploadCorrelationId&&a(m.X.fileUpload.fileDetailsUpdated({correlationId:t.ui.uploadCorrelationId},e))}const E=f?function(e){if(e.lengthComputable)return Math.round(e.loaded/e.total*100)}(f):0,I=t?((e,t)=>{var n,i,s,a,o,r,l,c,d;const u=null!==(a=null===(s=null===(i=null===(n=e.contentDetail)||void 0===n?void 0:n["resource/x-bb-file"])||void 0===i?void 0:i.file)||void 0===s?void 0:s.fileName)&&void 0!==a?a:"";return{resourceUrl:null!==(o=e.ui.webLocation)&&void 0!==o?o:"",viewerUrl:void 0,fileName:u,alternativeText:u,displayName:u,mimeType:null!==(d=null===(c=null===(l=null===(r=e.contentDetail)||void 0===r?void 0:r["resource/x-bb-file"])||void 0===l?void 0:l.file)||void 0===c?void 0:c.mimeType)&&void 0!==d?d:"",render:m.t.Inline,fileSize:null==t?void 0:t.filesize}})(t,c):void 0,w=y&&y!==m.V.Oversized;return s.a.createElement(s.a.Fragment,null,s.a.createElement(L.q,{className:n.container,filename:d,onCancel:S,percentage:E,processing:r,displayAsError:void 0!==y}),x&&I&&s.a.createElement(L.o,{file:I,onCancel:nr(S,(()=>C(!0))),onSave:tr(t,C),hidden:!1,supportsInlineDocumentRender:!0,canProvideDescription:!1,analyticsId:"course-outline.upload-file"}),w&&s.a.createElement(H.j,{isCloudUpload:g,errorCode:k,processError:function(){o(t)},filename:d}))},sr=e=>{var t;const{item:n,loadMoreContent:i,showStudentAuthorship:a}=e;switch(Kn(null===(t=n.contentHandler)||void 0===t?void 0:t.toString())){case C.t.TestLink:return s.a.createElement(Ro,{item:n});case C.t.CourseLink:return s.a.createElement(ji,{item:n});case C.t.Discussion:return s.a.createElement(Ya,{item:n,showStudentAuthorship:a});case C.t.Document:case C.t.Page:return s.a.createElement(no,{item:n});case C.t.Folder:return Object(nn.e)(n)?s.a.createElement(Lo,{item:n}):s.a.createElement(wo,{item:n,loadMoreContent:i});case C.t.Journal:return s.a.createElement(Oo,{item:n});case C.t.LearningModule:return s.a.createElement(jo,{item:n,loadMoreContent:i});case C.t.RusticiScorm:return s.a.createElement(Bo,{item:n});case C.t.File:return Ti(n)?s.a.createElement(ir,{item:n}):s.a.createElement(so,{item:n});case C.t.ExternalLink:return s.a.createElement(Vo,{item:n});case C.t.PartnerCloud:return s.a.createElement(Zo,{item:n});case C.t.LtiPlacement:return s.a.createElement(Qo,{item:n});case C.t.LtiLink:return Wt(n)?s.a.createElement(Xo,{item:n}):s.a.createElement(Ko,{item:n});default:return s.a.createElement(Ja,{item:n})}};function ar(e){const t={...e,$scope:void 0,$_ultra_previous_version:void 0,$last:void 0,children:void 0};return t.ui.file=void 0,t.ui.linkSource&&(t.ui={...e.ui,linkSource:ar(t.ui.linkSource)}),t}const or=Object(i.createContext)({dndRef:()=>{}});const rr=Object(i.createContext)({onDrop:void 0,onDragOver:void 0,onDragEnter:void 0,onDragLeave:void 0,registerNode:void 0});function lr(e){return{x:e.clientX,y:e.clientY}}function cr(e,t){var n;const{currentTarget:i}=e,{top:s,right:a,bottom:o,left:r,width:l,height:c}=i.getBoundingClientRect(),{id:d,data:u}=null!==(n=t.get(i))&&void 0!==n?n:{};return{id:d,element:i,rect:{top:s,right:a,bottom:o,left:r,width:l,height:c},data:u}}const dr=e=>{const{onDrop:t,onDragOver:n,onDragEnter:a,onDragLeave:o,children:r}=e,l=Object(i.useRef)(new WeakMap),c=Object(i.useMemo)((()=>({registerNode(e,t){l.current.set(e,t)},onDragOver(e){e.preventDefault(),e.stopPropagation(),null==n||n(e,cr(e,l.current),lr(e))},onDragEnter(e){e.preventDefault(),e.stopPropagation(),null==a||a(e,cr(e,l.current),lr(e))},onDragLeave(e){e.preventDefault(),e.stopPropagation(),null==o||o(e,cr(e,l.current),lr(e))},onDrop(e){e.preventDefault(),e.stopPropagation(),t(e,cr(e,l.current),lr(e))}})),[t,n,a,o]);return s.a.createElement(rr.Provider,{value:c},r)},ur=e=>{const{id:t,disabled:n=!1,data:s}=e,a=Object(i.useRef)(null),{onDrop:o,onDragOver:r,onDragEnter:l,onDragLeave:c,registerNode:d}=Object(i.useContext)(rr);let u={};return n||(u={onDrop:o,onDragOver:r,onDragEnter:l,onDragLeave:c}),{setNodeRef:e=>{a.current=e,e&&(null==d||d(e,{id:t,data:s}))},listeners:u}},mr=e=>{const{id:t,item:n,children:a,...o}=e,{style:r,dndRef:l}=Object(i.useContext)(or),c=_a(n),d=K(),{setNodeRef:u,listeners:m}=ur({id:t,disabled:!c,data:{item:n,nestingLevel:d}}),p=function(...e){return t=>{t&&e.forEach((e=>e(t)))}}(l,u);return s.a.createElement("div",{"data-content-id":t,...o,...m,style:r,ref:p},a)},pr=s.a.memo((e=>{const{item:t,parentId:n,loadMoreContent:a,showAddButton:o,neighborBeforeId:r,neighborAfterId:l,className:c,showStudentAuthorship:d}=e,{AddContentButton:u}=Object(i.useContext)(hi);Object(re.j)((()=>ar(t)),[t]);if(!ho(t))return null;const m=xi(t);return s.a.createElement(mr,{id:m,item:t,className:c},s.a.createElement(Zi,{previousNeighborId:r,nextNeighborId:l},s.a.createElement(sr,{item:t,loadMoreContent:a,showStudentAuthorship:d}),o&&!Ti(t)&&s.a.createElement(u,{id:m,parentId:n,item:t})))}));function hr(e){return!!e&&(m.j.isFolderContentItem(e)||m.i.LearningModule.isEqualTo(e.contentHandler))}function gr(){return Object(vi.e)((({set:e})=>(t,n)=>{e(qi(t),n)}),[])}function br(){return Object(vi.e)((({snapshot:e})=>t=>!e.getLoadable(qi(t)).getValue()),[])}function fr(){return Object(vi.e)((({snapshot:e})=>t=>e.getLoadable(qi(t)).getValue()),[])}function vr({active:e,over:t}){if(!t||!e)return"neither";return e.top+e.height/2<=t.top+t.height/2?"top":"bottom"}function yr(){const{active:e,over:t}=Object(ko.k)();return function(e,t,n){return i=>{var s,a;const{activeIndex:o,index:r,rects:l,overIndex:c}=i,d=null!==(s=l[o])&&void 0!==s?s:i.activeNodeRect,u=null===(a=null==t?void 0:t.data.current)||void 0===a?void 0:a.item,m=o===r,p=c===r;if(!d||!hr(u)||!m&&!p)return Object(Oi.d)(i);const h=vr({active:null==e?void 0:e.rect.current.translated,over:l[c]}),g=o<c&&"top"===h,b=o>c&&"bottom"===h,f=n(u.id)||g||b;if(m&&f){const e=l[c-1];if(e&&o<c)return{x:0,y:e.top+e.height-(d.top+d.height),scaleX:1,scaleY:1};const t=l[c+1];if(t&&o>c)return{x:0,y:t.top-d.top,scaleX:1,scaleY:1}}return p&&f?{x:0,y:0,scaleX:1,scaleY:1}:Object(Oi.d)(i)}}(e,t,fr())}const kr=e=>e-1,xr=s.a.memo((function(e){const{sortableProps:t,dragHandleProps:n,dndContainerProps:i,...a}=e;return s.a.createElement(_i.Provider,{value:t},s.a.createElement(or.Provider,{value:i},s.a.createElement(Ua.Provider,{value:n},s.a.createElement(pr,{...a}))))})),Sr=Object(i.memo)((function(e){const{item:t,parentId:n}=e,a=K(),o=yr(),r=_a(t),{activatorEvent:l}=Object(ko.k)(),{attributes:c,listeners:d,setNodeRef:u,setActivatorNodeRef:m,transform:p,transition:h,isDragging:g,isSorting:b,active:f}=Object(Oi.c)({id:xi(t),strategy:o,data:{type:yo.Item,item:t,parentId:n,nestingLevel:a},disabled:!r}),v=Object(i.useMemo)((()=>({listeners:d,isDragging:g,isSorting:b})),[d,g,b]);let y;l&&(y=l instanceof KeyboardEvent?"keyboard":"pointer");const k=Object(i.useMemo)((()=>({attributes:c,dragHandleRef:m,activationEvent:y})),[c,y,m]),x=Di.a.Transform.toString(p),S=(({active:e,itemParentId:t})=>!Object(Oi.b)(e)||e.data.current.sortable.containerId!==t)({active:f,itemParentId:t.parentId})?void 0:h,C=Object(i.useMemo)((()=>({style:{transform:x,transition:S,touchAction:"manipulation"},dndRef:u})),[x,u,S]);return s.a.createElement(xr,{sortableProps:v,dragHandleProps:k,dndContainerProps:C,...e})}));const Cr=(e,t)=>{const n=e[t];if(n)return{contentId:n.id}};const Er=e=>`${e}-end-of-list`,Ir=e=>{const{parentId:t,lastContentIdInList:n}=e,i=K(),a=Object(vi.g)(qi(n)),{setNodeRef:o}=Object(Oi.c)({id:Er(t),disabled:!a,data:{type:yo.EndOfList,parentId:t,nestingLevel:i,lastContentIdInList:n}});return s.a.createElement("div",{ref:o})},wr=e=>{const{id:t,items:n,children:a}=e,{measureDroppableContainers:o}=Object(ko.k)(),r=Object(re.h)((()=>(null!=n?n:[]).map((e=>xi(e))).concat(Er(t))),[n]),l=Object(i.useCallback)((e=>{const t=r.findIndex((t=>t===e))+1,n=r[t];n&&o([n])}),[o,r]);return s.a.createElement(So.Provider,{value:l},s.a.createElement(Oi.a,{id:t,items:r,strategy:Oi.d},a,s.a.createElement(Ir,{parentId:t,lastContentIdInList:null==r?void 0:r[r.length-2]})))};const Ar="start",Or=s.a.memo((e=>{var t;const{parentFolder:n,loadMoreContent:o,showTopAddButton:r=!1,root:l=!1,centeredDivider:c=!1,showStudentAuthorship:d}=e,{AddContentButton:u,textOnPage:p}=Object(i.useContext)(hi),h=K(),g=function(e,t){const n=Object(re.h)((()=>e),[e]);return Object(re.i)(re.b.ContentUpdate,((e,i)=>{!function(e,t,n){var i;const{parentId:s,id:a}=n;let{position:o}=n;s&&t&&s!==t||("number"==typeof o&&(null===(i=null==e?void 0:e[o])||void 0===i?void 0:i.id)!==a&&(o=void 0),s&&"number"==typeof o||(o=null==e?void 0:e.findIndex((e=>e.id===a))),"number"==typeof o&&(null==e?void 0:e[o])&&(e[o]=n))}(n,t,i)})),n}(e.contents,null==n?void 0:n.id),b=function(e,t){var n,s;const a=Object(i.useContext)(ro);if(!e)return t;let o=null!==(n=null==t?void 0:t.concat())&&void 0!==n?n:[];return e===(null==a?void 0:a.item.parentId)&&(o=o.filter((e=>e!==a.item))),e===(null==a?void 0:a.folderId)&&o.splice(null!==(s=a.insertPosition)&&void 0!==s?s:0,0,a.item),o}(null==n?void 0:n.id,g),f=ee({nestingLevel:h,isButtonVisible:l||r}),v=Object(i.useRef)(null),y=function(e){if(!e||0===e.length||e.paging.count<e.length)return 0;const t=e.paging.count-e.length;return Math.min(t,e.paging.limit)}(g),k=Object(i.useRef)(),x=ci(),S=_a(n),{setNodeRef:C,listeners:E}=ur({id:`${null==n?void 0:n.id}-contents-external-file-droppable`,data:{parentId:null==n?void 0:n.id,nestingLevel:h},disabled:!S});Object(i.useEffect)((()=>()=>{k.current=y}));const I=!!g&&pi(g),w=I&&!x;return s.a.createElement(wr,{id:n?xi(n):void 0,items:b},s.a.createElement("div",{ref:C,...E},w&&s.a.createElement(u,{id:`start-${null!==(t=null==n?void 0:n.id)&&void 0!==t?t:Object(yi.v4)()}`,parentId:null==n?void 0:n.id,positionBefore:Ar,item:null==g?void 0:g[0],classes:{divider:Object(a.a)(f.divider,c?f.centeredDivider:f.topDivider)}}),s.a.createElement("div",{"data-togglable-bottom":n?xi(n):"",className:c?f.togglableBottom:""}),s.a.createElement("div",{ref:v,className:f.contentList},null==b?void 0:b.map(((e,t,i)=>{const r=Object(a.a)({root:l,"addable-item":I},"content-list-item",f.contentListItem),{neighborBefore:c,neighborAfter:u}={neighborBefore:Cr(p=i,(h=t)-1),neighborAfter:Cr(p,h+1)};var p,h;const g=!l&&m.C.isInForcedSequenceLearningModule(e);return s.a.createElement(Sr,{key:xi(e,{stable:!0}),item:e,parentId:null==n?void 0:n.id,loadMoreContent:o,showAddButton:w,neighborBeforeId:g?null==c?void 0:c.contentId:void 0,neighborAfterId:g?null==u?void 0:u.contentId:void 0,className:r,showStudentAuthorship:d})})),s.a.createElement(L.y,{afterLoad:()=>{var e;const t=function(e,t){return null==e?void 0:e[e.length-t]}(g,null!==(e=k.current)&&void 0!==e?e:y);t&&function(e,t){Ai(Si(e,t.current))}(t,v)},loader:()=>function(e,t){return e&&t?t(e,!0):Promise.resolve()}(n,o),incomingLoadCount:y,axLoadMoreButtonLabelKey:null==p?void 0:p.axLoadMoreButtonLabelKey,showLoadButtonOnFocus:!0}))))}));var Dr=n("7nmT");const Tr=s.a.memo(sr),Pr=e=>{const{item:t,nestingLevel:n=0,showStudentAuthorship:a}=e,o=Object(i.useMemo)((()=>({isDragOverlay:!0,isSorting:!0})),[]);return s.a.createElement(_i.Provider,{value:o},s.a.createElement(W,{value:n},Object(Dr.createPortal)(s.a.createElement(ko.b,{zIndex:1011},t&&s.a.createElement(Tr,{item:t,showStudentAuthorship:a})),document.body)))},$r=(e,t)=>{var n,i;return!!(e&&t&&hr(t))&&(e===(null==t?void 0:t.id)||e===(null===(i=null===(n=null==t?void 0:t.children)||void 0===n?void 0:n[0])||void 0===i?void 0:i.id))};function Gr(e,t,n){n((n=>{var i,s;const a=null===(i=e.data.current)||void 0===i?void 0:i.item,o=null==t?void 0:t.data.current,r=null==o?void 0:o.item;if(!a||(null==n?void 0:n.item)&&n.item===r||$r(null==o?void 0:o.parentId,a))return n;if((null==o?void 0:o.type)===yo.Container)return{item:a,folderId:null==o?void 0:o.parentId,targetId:void 0,insertPosition:0};if((null==o?void 0:o.type)===yo.EndOfList&&!o.disabled)return{item:a,folderId:null==o?void 0:o.parentId,targetId:o.lastContentIdInList,insertPosition:null===(s=null==o?void 0:o.sortable)||void 0===s?void 0:s.items.length};if(!r)return n;if(!n&&a.parentId!==r.parentId||n&&n.folderId!==r.parentId){let t=null==o?void 0:o.sortable.index;const n=e.data.current;return(null==o?void 0:o.parentId)&&(null==n?void 0:n.parentId)&&(null==o?void 0:o.parentId)!==(null==n?void 0:n.parentId)&&o.sortable.index+1===o.sortable.items.length&&!hr(r)&&(t+=1),{item:a,folderId:r.parentId,targetId:r.id,insertPosition:t}}return n}))}function jr(e,t){return{top:t.y,height:e.height,bottom:t.y+e.height,left:t.x,width:e.width,right:t.x+e.width}}const Lr=e=>{var t,n,i,s,a;const{active:o}=e,r=Object(ko.g)(e),l=null===(s=null===(i=null===(n=null===(t=r[0])||void 0===t?void 0:t.data)||void 0===n?void 0:n.droppableContainer)||void 0===i?void 0:i.data)||void 0===s?void 0:s.current;return(null==l?void 0:l.type)===yo.EndOfList&&(null==l?void 0:l.parentId)===(null===(a=o.data.current)||void 0===a?void 0:a.parentId)?r.slice(1):r};const Nr=20;function Br(e){const{collisionRect:t,over:n,draggingFrom:i,distance:s=Nr}=e,a="above"===i?-1:1;return n.bottom-n.height/2-t.height/2+a*s}function Mr(e,t){if(!Object(Oi.b)(e)||!Object(Oi.b)(t))return!1;const n=e.data.current.sortable.index<t.data.current.sortable.index,i=vr({active:e.rect.current.translated,over:t.rect});return n&&"top"===i||!n&&"bottom"===i}const Rr=[ko.c.Down,ko.c.Right,ko.c.Up,ko.c.Left];const Fr=30;function Vr(e,t,n,i){return(s,a)=>{var o,r,l,c,d,u,p,h,g,b,f,v,y,k,x,S,C,E,I,w,A,O,D,T,P,$,G,j,L,N,B;if(B=s.code,!Rr.includes(B))return;s.preventDefault();const{active:M,collisionRect:R,droppableRects:F,droppableContainers:V,over:_}=a.context,U=null===(r=null===(o=null==M?void 0:M.data.current)||void 0===o?void 0:o.item)||void 0===r?void 0:r.id;if(!(M&&U&&R&&_))return;if([ko.c.Left,ko.c.Right].includes(s.code))return function(e){var t,n,i,s;const{active:a,activeId:o,code:r,collisionRect:l,over:c,isOpen:d,setTogglableOpenState:u,setDndActionState:m}=e,p=null===(t=c.data.current)||void 0===t?void 0:t.item,h=null==p?void 0:p.id;if(hr(p)&&h&&o!==h)if(r===ko.c.Right&&!d(h)&&Mr(a,c)){const e="bottom"===vr({active:l,over:c.rect});if(u(h,!0),e){const e=null!==(n=a.rect.current.initial)&&void 0!==n?n:l,t=jr(c.rect,{x:c.rect.left,y:c.rect.top+e.height});return m({folderId:p.parentId,item:null===(i=a.data.current)||void 0===i?void 0:i.item,targetId:p.id,insertPosition:null===(s=c.data.current)||void 0===s?void 0:s.sortable.index}),{x:c.rect.left+Fr,y:Br({collisionRect:l,over:t,draggingFrom:"above"})}}}else if(r===ko.c.Left&&d(h))return u(h,!1),{x:c.rect.left+Fr,y:Br({collisionRect:l,over:c.rect,draggingFrom:"above"})}}({active:M,activeId:U,code:s.code,collisionRect:R,over:_,isOpen:e,setTogglableOpenState:t,setDndActionState:i});const H=null===(l=_.data.current)||void 0===l?void 0:l.item;if(hr(H)&&!e(H.id)&&U!==H.id){const e=vr({active:R,over:_.rect});if(s.code===ko.c.Down&&"top"===e)return Mr(M,_)?{x:_.rect.left,y:Math.max(_.rect.bottom-R.height,Br({collisionRect:R,over:_.rect,draggingFrom:"below",distance:1})),announcement:{type:"move"}}:{x:_.rect.left+Fr,y:Br({collisionRect:R,over:_.rect,draggingFrom:"below"}),announcement:{type:"moveOnTogglable"}};if(s.code===ko.c.Up&&"bottom"===e)return Mr(M,_)?{x:_.rect.left,y:Math.min(_.rect.top,Br({collisionRect:R,over:_.rect,draggingFrom:"above",distance:1})),announcement:{type:"move"}}:{x:_.rect.left+Fr,y:Br({collisionRect:R,over:_.rect,draggingFrom:"above"}),announcement:{type:"moveOnTogglable"}}}const z=function(e){var t,n,i,s,a,o,r,l,c,d,u,m,p,h,g,b,f;const{active:v,over:y,code:k,collisionRect:x,droppableContainers:S,droppableRects:C}=e,E=[];S.getEnabled().forEach((e=>{if(!e||e.disabled)return;const t=C.get(e.id);t&&(k===ko.c.Down&&x.top<t.top||k===ko.c.Up&&x.top>t.top)&&E.push(e)}));const I=Lr({active:v,collisionRect:x,droppableRects:C,droppableContainers:E,pointerCoordinates:null});let w=null===(t=I.shift())||void 0===t?void 0:t.id;w===(null==y?void 0:y.id)&&(w=null!==(i=null===(n=I.shift())||void 0===n?void 0:n.id)&&void 0!==i?i:w);{const e=S.get(w);(null===(s=null==e?void 0:e.data.current)||void 0===s?void 0:s.type)===yo.Container&&e.data.current.parentId===(null===(a=v.data.current)||void 0===a?void 0:a.parentId)&&(w=null!==(r=null===(o=I.shift())||void 0===o?void 0:o.id)&&void 0!==r?r:w)}return(null===(l=y.data.current)||void 0===l?void 0:l.type)===yo.Container&&y.data.current.parentId===(null===(d=null===(c=S.get(w))||void 0===c?void 0:c.data.current)||void 0===d?void 0:d.parentId)&&(w=null!==(m=null===(u=I.shift())||void 0===u?void 0:u.id)&&void 0!==m?m:w),w===Er(null===(p=y.data.current)||void 0===p?void 0:p.parentId)&&(null===(h=v.data.current)||void 0===h?void 0:h.parentId)===(null===(g=y.data.current)||void 0===g?void 0:g.parentId)&&(w=null!==(f=null===(b=I.shift())||void 0===b?void 0:b.id)&&void 0!==f?f:w),{rect:w?C.get(w):void 0,container:w?S.get(w):void 0}}({active:M,over:_,code:s.code,collisionRect:R,droppableContainers:V,droppableRects:F}),q=null===(d=null===(c=z.container)||void 0===c?void 0:c.data.current)||void 0===d?void 0:d.item;if(!z.rect||!z.container||_.id===z.container.id)return;if((null===(u=null==M?void 0:M.data.current)||void 0===u?void 0:u.parentId)!==(null===(h=null===(p=z.container)||void 0===p?void 0:p.data.current)||void 0===h?void 0:h.parentId)){if(((e,t,n)=>{var i;const s=null===(i=null==t?void 0:t.data.current)||void 0===i?void 0:i.sortable;switch(e){case ko.c.Down:return s.index!==kr(s.items.length)-1;case ko.c.Up:return n!==yo.EndOfList&&n!==yo.Container;default:return!0}})(s.code,M,null===(g=z.container.data.current)||void 0===g?void 0:g.type)?Gr(M,{...z.container,rect:z.rect},i):Gr(M,{...z.container,rect:z.rect},n),s.code===ko.c.Down){const e=V.get(null===(f=null===(b=M.data)||void 0===b?void 0:b.current)||void 0===f?void 0:f.parentId);if(e){const t=null===(v=e.data.current)||void 0===v?void 0:v.item,n=null!==(x=null===(k=null===(y=M.data.current)||void 0===y?void 0:y.sortable)||void 0===k?void 0:k.index)&&void 0!==x?x:0,i=null===(E=null===(C=null===(S=M.data.current)||void 0===S?void 0:S.sortable)||void 0===C?void 0:C.items)||void 0===E?void 0:E.length;if(t&&m.j.isFolderContentItem(t)&&0===n&&2===i){const e=30;return{x:z.rect.left,y:z.rect.top-R.height+e,announcement:{type:"moveToDifferentContainer",nextOver:z.container}}}}return{x:z.rect.left,y:z.rect.top-R.height,announcement:{type:"moveToDifferentContainer",nextOver:z.container}}}const e=null!==(I=M.rect.current.initial)&&void 0!==I?I:R;if((null==q?void 0:q.id)===(null===(w=M.data.current)||void 0===w?void 0:w.parentId))return{x:z.rect.left+Fr,y:Br({collisionRect:R,over:jr(z.rect,{x:z.rect.left,y:z.rect.top+e.height}),draggingFrom:"above"}),announcement:{type:"moveOnTogglable",nextOver:z.container}};if((null===(O=null===(A=z.container)||void 0===A?void 0:A.data.current)||void 0===O?void 0:O.type)===yo.Container)return{x:z.rect.left+Fr,y:z.rect.top+e.height,announcement:{type:"moveToDifferentContainer",nextOver:z.container}};const t=V.get(null===(P=null===(T=null===(D=z.container)||void 0===D?void 0:D.data)||void 0===T?void 0:T.current)||void 0===P?void 0:P.parentId);if(t){const e=null===(G=null===($=t.data)||void 0===$?void 0:$.current)||void 0===G?void 0:G.item,n=null!==(N=null===(L=null===(j=z.container.data.current)||void 0===j?void 0:j.sortable)||void 0===L?void 0:L.index)&&void 0!==N?N:0;if(e&&m.j.isFolderContentItem(e)&&0===n){const e=25;return{x:z.rect.left,y:z.rect.bottom-e,announcement:{type:"moveToDifferentContainer",nextOver:z.container}}}}return{x:z.rect.left,y:z.rect.bottom,announcement:{type:"moveToDifferentContainer",nextOver:z.container}}}if(Object(Oi.b)(M)&&Object(Oi.b)(z.container)&&hr(q)){const e=M.data.current.sortable.index,t=z.container.data.current.sortable.index;if(s.code===ko.c.Down&&e<t)return{x:z.rect.left+Fr,y:Br({collisionRect:R,over:z.rect,draggingFrom:"above"}),announcement:{type:"moveOnTogglable",nextOver:z.container}};if(s.code===ko.c.Up&&e>t)return{x:z.rect.left+Fr,y:Br({collisionRect:R,over:z.rect,draggingFrom:"below"}),announcement:{type:"moveOnTogglable",nextOver:z.container}}}var W,K;const J=(W=M,K=z.container,!(!Object(Oi.b)(W)||!Object(Oi.b)(K))&&W.data.current.sortable.containerId===K.data.current.sortable.containerId&&W.data.current.sortable.index<K.data.current.sortable.index)?R.height-z.rect.height:0;return{x:z.rect.left,y:z.rect.top-J,announcement:{type:"move",nextOver:z.container}}}}const _r=Object(vi.c)({key:"contentOutline/dnd/refresher",default:()=>{}}),Ur=()=>{const{measureDroppableContainers:e}=Object(ko.k)(),t=Object(vi.h)(_r),n=Object(i.useRef)();return Object(i.useEffect)((()=>()=>{clearTimeout(n.current)}),[]),Object(i.useEffect)((()=>{t((()=>()=>{n.current=setTimeout((()=>{e([]),n.current=void 0}),30)}))}),[e,t]),null};function Hr(e){const t=Object(i.useRef)(),n=fr();Object(i.useEffect)((()=>()=>{clearTimeout(t.current)}),[]);const s=function(e,t){const n=Object(d.a)();return(i,s)=>{var a,o,r,l,c,d,u,p;const h=e(i,s),{active:g,over:b}=s.context;if(Object(Oi.b)(g)&&Object(Oi.b)(b)&&(v=h)&&"announcement"in v){const e=h.announcement,i=null===(a=g.data.current)||void 0===a?void 0:a.item,s=(null==e?void 0:e.nextOver)?null===(o=e.nextOver.data.current)||void 0===o?void 0:o.item:null===(r=b.data.current)||void 0===r?void 0:r.item,v=(null==e?void 0:e.nextOver)&&Object(Oi.b)(null==e?void 0:e.nextOver)?e.nextOver.data.current:b.data.current;switch(null==e?void 0:e.type){case"move":Object(qe.y)(n("courseCore.course.dragAndDrop.announcements.dragMove",{contentItemTitle:i.title,currentPosition:(null==v?void 0:v.sortable.index)+1,contentItemsCount:kr(null==v?void 0:v.sortable.items.length)}));break;case"moveToDifferentContainer":{const t=(null===(c=null===(l=null==e?void 0:e.nextOver)||void 0===l?void 0:l.data.current)||void 0===c?void 0:c.type)===yo.Container,s=(null!==(p=null===(u=null===(d=b.data.current)||void 0===d?void 0:d.item.children)||void 0===u?void 0:u.length)&&void 0!==p?p:0)+1;Object(qe.y)(n("courseCore.course.dragAndDrop.announcements.dragMove",{contentItemTitle:i.title,currentPosition:t?1:(null==v?void 0:v.sortable.index)+1,contentItemsCount:t?s:kr(null==v?void 0:v.sortable.items.length)+1}));break}case"moveOnTogglable":Object(qe.y)(n(`courseCore.course.dragAndDrop.announcements.dragMoveOn${t(null==s?void 0:s.id)?"Open":"Closed"}Togglable`,{contentItemTitle:null==i?void 0:i.title,togglableTitle:null==s?void 0:s.title,type:n("courseCore.course.dragAndDrop.announcements."+(f=s,f&&m.j.isFolderContentItem(f)?"folder":"learningModule"))}))}}var f,v;if(function(e){return!!e&&"x"in e&&"y"in e}(h))return{x:h.x,y:h.y}}}(Vr(n,gr(),e,((...n)=>{t.current=setTimeout((()=>{e(...n),t.current=void 0}),30)})),n);return function(e){const t=Object(vi.g)(_r);return(n,i)=>{const s=e(n,i);return s&&t(),s}}(s)}const zr={start:[ko.c.Space,ko.c.Enter],cancel:[ko.c.Esc,"Tab"],end:[ko.c.Space,ko.c.Enter]};const qr={onDragStart:()=>{},onDragMove:()=>{},onDragOver:()=>{},onDragEnd:()=>{},onDragCancel:()=>{}},Wr=()=>{const e=(()=>{const e=Object(d.a)(),t=Object(i.useRef)(null);return Object(i.useMemo)((()=>({onDragStart({active:n}){if(!Object(Oi.b)(n))return;const i=n.data.current.item,{index:s,containerId:a,items:o}=n.data.current.sortable;return t.current={containerId:a,index:s},e("courseCore.course.dragAndDrop.announcements.dragStart",{contentItemTitle:null==i?void 0:i.title,currentPosition:s+1,contentItemsCount:kr(o.length)})},onDragCancel({active:n}){if(t.current=null,!Object(Oi.b)(n))return;const i=n.data.current.item;return e("courseCore.course.dragAndDrop.announcements.dragCancel",{contentItemTitle:null==i?void 0:i.title})},onDragEnd({active:n,over:i}){if(!Object(Oi.b)(n)||!Object(Oi.b)(i))return;const s=n.data.current.item,{index:a,containerId:o,items:r}=i.data.current.sortable,l=null==t?void 0:t.current;if(t.current=null,o===(null==l?void 0:l.containerId)&&a===(null==l?void 0:l.index)){if(n.data.current.sortable.containerId===l.containerId)return e("courseCore.course.dragAndDrop.announcements.dragEndPositionRetained",{contentItemTitle:null==s?void 0:s.title});const{index:t,items:i}=n.data.current.sortable;return e("courseCore.course.dragAndDrop.announcements.dragEnd",{contentItemTitle:null==s?void 0:s.title,finalPosition:t+1,contentItemsCount:kr(i.length)})}return e("courseCore.course.dragAndDrop.announcements.dragEnd",{contentItemTitle:null==s?void 0:s.title,finalPosition:a+1,contentItemsCount:kr(r.length)})}})),[e])})();return Object(ko.l)(Object(i.useMemo)((()=>({onDragStart({active:t}){const n=e.onDragStart({active:t});n&&Object(qe.y)(n)},onDragEnd({active:t,over:n}){const i=e.onDragEnd({active:t,over:n});i&&Object(qe.y)(i)},onDragCancel({active:t,over:n}){const i=e.onDragCancel({active:t,over:n});i&&Object(qe.y)(i)}})),[e])),null};function Kr(e){const t=document.querySelector('[data-base-state-name="base.courses.peek"]'),n=null==t?void 0:t.style;n&&(n.position="enable"===e?"fixed":"",n.top="enable"===e?"0":"")}function Jr(e){if(e.dataset.contentId){const t=e.querySelector(`[data-togglable-bottom="${e.dataset.contentId}"]`);if(t){const n=Object(ko.h)(e,{ignoreTransform:!0}),i=Object(ko.h)(t,{ignoreTransform:!0});return{...n,height:i.bottom-n.top,bottom:i.bottom}}}return Object(ko.h)(e,{ignoreTransform:!0})}const Qr=(e={highlight:!0})=>{const t=Object(i.useRef)(null),n=Object(vi.h)(Ui),s=gr();function a(){t.current&&(clearTimeout(t.current.timeoutId),n(void 0),t.current=null)}return{cancelOpenTogglableTimer:a,startOpenTogglableTimer(i){var o;(null==i?void 0:i.id)&&i.id!==(null===(o=null==t?void 0:t.current)||void 0===o?void 0:o.togglableId)&&(a(),e.highlight&&n(i.id),t.current={togglableId:i.id,timeoutId:setTimeout((()=>{s(i.id,!0),a()}),750)})}}};function Zr(e){var t;if(!m.j.isFolderContentItem(e))return 0;let n=0;for(const i of null!==(t=e.children)&&void 0!==t?t:[]){if(!m.j.isFolderContentItem(i))continue;const e=1+Zr(i);e>n&&(n=e)}return n}function Yr(e,t){if(void 0===e)return!0;let n=0;return e&&m.j.isFolderContentItem(e)?(n=Zr(e),n+t<2):t<=2}const Xr=()=>{const e=Object(d.a)(),t=Object(p.i)("course.outline.courseLinkMoveError.course","course.outline.courseLinkMoveError.organization"),{enqueueSnackbar:n,dequeueSnackbar:i}=Object(L.rb)(L.S.CourseContentOutlineDragAndDrop,!0),a=Object(u.f)();return async(o,r,l,c)=>{var d,u,p;if(!Object(Oi.b)(o))return!0;const h=o.data.current.item,g=null===(d=null==r?void 0:r.data.current)||void 0===d?void 0:d.parentId;if(!h||$r(g,h))return!0;const b=function(e,t,n){var i,s,a,o;const r=null!==(s=null===(i=e.data.current)||void 0===i?void 0:i.nestingLevel)&&void 0!==s?s:0;if(Object(Oi.b)(t)&&Object(Oi.b)(e)&&e.data.current.sortable.containerId!==t.data.current.sortable.containerId&&n instanceof KeyboardEvent)return r;return null!==(o=null===(a=null==t?void 0:t.data.current)||void 0===a?void 0:a.nestingLevel)&&void 0!==o?o:r}(o,r,c);if(!Yr(h,b)){const t={snackbarMessage:e("course.outline.folderMaxDepthError.text"),isErrorOrWarning:!0,icon:s.a.createElement(f.AlertError,null)};return i(),n(t),!0}if(null==l?void 0:l.folderId){if(((e,t)=>!!t&&(m.j.isFolderContentItem(e)||m.i.CourseLink.isEqualTo(e.contentHandler))&&(m.C.isForcedSequenceModule(t)||m.C.isInForcedSequenceLearningModule(t)))(h,m.gc.content.getContentById(a.getState(),null!==(p=null===(u=null==r?void 0:r.data.current)||void 0===u?void 0:u.parentId)&&void 0!==p?p:l.folderId))){const a={snackbarMessage:e(t("course.outline.courseLinkMoveError.course.text")),isErrorOrWarning:!0,icon:s.a.createElement(f.AlertError,null)};if(m.i.CourseLink.isEqualTo(h.contentHandler)&&!(e=>{const t=e.getLinkContentSource();return!!t&&m.i.Discussion.isEqualTo(t.contentHandler)})(h)&&h.id)return i(),n(a),!0;if(m.j.isFolderContentItem(h)){if(!await Object(re.e)(re.d.CanEnableForcedSequenceService).canForcedSequenceBeEnabled(h))return i(),n(a),!0}}}return!1}};var el=n("myse");const tl=(e,t,n)=>{var i,s,a,o,r;if(!Object(Oi.b)(e)||!Object(Oi.b)(t))return null!==(a=null===(s=null===(i=null==t?void 0:t.data.current)||void 0===i?void 0:i.sortable)||void 0===s?void 0:s.index)&&void 0!==a?a:null===(r=null===(o=e.data.current)||void 0===o?void 0:o.sortable)||void 0===r?void 0:r.index;const l=e.data.current,c=t.data.current,d=e.data.current.sortable.index,u=t.data.current.sortable.index;if(-1===d&&-1===u)return;if(-1===u)return d;const m=null==t?void 0:t.rect,p=null==e?void 0:e.rect.current.translated;if(!p)return u;const h=vr({active:p,over:m});if(l.sortable.containerId!==c.sortable.containerId||-1===d)return"bottom"!==h||hr(c.item)&&n(c.item.id)?u:u+1;if(!(hr(c.item)&&function(e,t){if(!e||!t)return!1;const n=e.top+e.height/2;return t.top<=n&&n<=t.bottom}(p,m)&&l.item.id!==c.item.id))return hr(c.item)&&n(c.item.id)?d:u;const g=d<u;if(n(c.item.id)&&g)return u-1;const b=d<u&&"top"===h,f=d>u&&"bottom"===h;return n(c.item.id)||!b&&!f?u:u+("top"===h?-1:1)},nl=Object(B.throttle)(((e,t,n)=>{Gr(e,t,n)}),100),il=e=>{const{children:t,moveContent:n,showStudentAuthorship:a=!1}=e,[o,r]=Object(i.useState)(),[l,c]=Object(i.useState)(0),u=Object(vi.e)((({set:e})=>t=>{hr(t)&&e(qi(t.id),!1)}),[]),{startOpenTogglableTimer:m,cancelOpenTogglableTimer:p}=Qr(),h=function(){const e=br();return(t,n,i)=>{var s,a;const o=null===(s=n.data.current)||void 0===s?void 0:s.item,r=null===(a=null==i?void 0:i.data.current)||void 0===a?void 0:a.item;if(t instanceof KeyboardEvent||!Object(Oi.b)(n)||!Object(Oi.b)(i)||!o||!(null==r?void 0:r.id))return!1;const l=n.data.current.sortable.index<i.data.current.sortable.index,c=vr({active:n.rect.current.translated,over:i.rect}),d=l&&"top"===c||!l&&"bottom"===c;return hr(r)&&r.id!==(null==o?void 0:o.id)&&d&&e(r.id)}}(),g=function(e){const t=Hr(e);return Object(ko.p)(Object(ko.o)(ko.e,{activationConstraint:{distance:15}}),Object(ko.o)(ko.f,{activationConstraint:{delay:400,tolerance:5}}),Object(ko.o)(ko.d,{coordinateGetter:t,keyboardCodes:zr}))}(r),b=Object(d.a)(),f=fr(),v=Xr();function y(){p(),Kr("disable"),Object(Dr.unstable_batchedUpdates)((()=>{r(void 0)})),nl.cancel()}const k=Object(el.useAnalyticsAugmentEventOnElement)(el.AnalyticsEventTypes.CHANGE_EVENT,(e=>{var t,n;const i=null===(t=e.active.data.current)||void 0===t?void 0:t.item,s=null===(n=e.active.data.current)||void 0===n?void 0:n.nestingLevel;Object(re.e)(re.d.AngularMenuCloserService).closeAnyOpenAngularMenus(),Kr("enable"),i&&Object(Oi.b)(e.active)&&(u(i),r({item:i,folderId:null==i?void 0:i.parentId,targetId:null==i?void 0:i.id,insertPosition:e.active.data.current.sortable.index})),"number"==typeof s&&c(s)}),"content.outline.content.item.drag.start"),x=Object(el.useAnalyticsAugmentEventOnElement)(el.AnalyticsEventTypes.CHANGE_EVENT,(async({active:e,over:t})=>{var i,s,a,l;(null==o?void 0:o.item)&&r({...o,folderId:null!==(a=null===(s=null===(i=null==t?void 0:t.data.current)||void 0===i?void 0:i.sortable)||void 0===s?void 0:s.containerId)&&void 0!==a?a:o.folderId,insertPosition:null!==(l=tl(e,t,f))&&void 0!==l?l:o.insertPosition}),await async function(e,t,n,i,s){var a,o,r,l,c,d;const u=null===(a=null==e?void 0:e.data.current)||void 0===a?void 0:a.item,m=null===(o=null==t?void 0:t.data.current)||void 0===o?void 0:o.item;if(!Object(Oi.b)(e)||!(null==u?void 0:u.id))return;if((null===(r=null==t?void 0:t.data.current)||void 0===r?void 0:r.type)===yo.Container&&(null==n?void 0:n.folderId)&&await i({dragContentId:u.id,parentFolderId:n.folderId,positionBeforeId:n.targetId}),!Object(Oi.b)(t)||!(null==m?void 0:m.parentId))return;if((null==n?void 0:n.folderId)&&t.id===e.id&&n.insertPosition===(null===(l=e.data.current)||void 0===l?void 0:l.sortable.items.length)-1)return void await i({dragContentId:u.id,parentFolderId:n.folderId,positionAfterId:n.targetId});(null==n?void 0:n.folderId)&&m.id===n.item.id&&await i({dragContentId:u.id,parentFolderId:n.folderId,positionBeforeId:n.targetId});const p=null===(c=e.data)||void 0===c?void 0:c.current.sortable.index,h=null===(d=t.data)||void 0===d?void 0:d.current.sortable.index;let g=p>h;if(p!==h){if(hr(m)){const n="top"===vr({active:null==e?void 0:e.rect.current.translated,over:null==t?void 0:t.rect}),i=p<h&&n,a=p>h&&n;g=s(m.id)||i||a}g?await i({dragContentId:u.id,parentFolderId:m.parentId,positionBeforeId:m.id}):await i({dragContentId:u.id,parentFolderId:m.parentId,positionAfterId:m.id})}}(e,t,o,n,f),y()}),"content.outline.content.item.drag.end");return s.a.createElement(ro.Provider,{value:o},s.a.createElement(ko.a,{accessibility:{announcements:qr,screenReaderInstructions:{draggable:b("courseCore.course.dragAndDrop.announcements.draggableScreenReaderInstructions")}},measuring:{droppable:{measure:Jr}},collisionDetection:Lr,sensors:g,onDragStart:k,onDragMove:({activatorEvent:e,active:t,over:n})=>{var i;h(e,t,n)?m(null===(i=null==n?void 0:n.data.current)||void 0===i?void 0:i.item):p()},onDragOver:({active:e,over:t,activatorEvent:n})=>{var i;const s=null===(i=null==t?void 0:t.data.current)||void 0===i?void 0:i.nestingLevel;"number"==typeof s&&c(s),n instanceof KeyboardEvent||nl(e,t,r)},onDragEnd:x,onDragCancel:y,cancelDrop:({active:e,over:t,activatorEvent:n})=>v(e,t,o,n)},s.a.createElement(Wr,null),s.a.createElement(Ur,null),t,s.a.createElement(Pr,{item:null==o?void 0:o.item,nestingLevel:l,showStudentAuthorship:a})))},sl="course.file.content.upload",al="course.cloud.file.content.upload";async function ol(e,t,n,i){const s=Object(yi.v4)(),a=await e(void 0,n,s,i,t);if(a)return{content:a,correlationId:s,file:n}}async function rl(e,t,n,i,s,a){const o=Object(yi.v4)(),r=await async function(e,t,n,i){const s=[];for(const a of e)s.push(ol(t,n,a,i));return(await Promise.all(s)).filter((e=>void 0!==e))}(e,i,s,a);if(r.length>0){n(o,r.map((({correlationId:e})=>e))),t(function(e,t,n){return{type:sl,payload:n,meta:{groupUploadId:e,isInsideFolder:t}}}(o,a,r))}}async function ll(e,t,n,i,s,a){return e.map((e=>async function(e,t,n,i,s,a){const{files:o,directories:r}=e.children,l=await s(e.name,a);return cl(o,r,t,n,i,s,{parentId:null==l?void 0:l.id},!0)}(e,t,n,i,s,a)))}async function cl(e,t,n,i,s,a,o,r){const l=ll(t,n,i,s,a,o),c=rl(e,n,i,s,o,r);await Promise.all([l,c])}const dl=()=>{const e=Object(u.d)(),{onStartUpload:t,createFileContent:n,createEmptyFolder:s}=gi();return Object(i.useCallback)((async i=>{const{droppedFiles:a,locationData:o,isInsideFolder:r}=i;return async function(e,t,n,i,s,a,o){const{files:r,directories:l}=Object(qe.j)(e);return cl(r,l,t,n,i,s,a,o)}(a,e,t,n,s,o,r)}),[e,t,n,s])};function ul(e,t){const n=t.top+t.height/2;return e.y<=n?"top":"bottom"}const ml="native-drag-top",pl="native-drag-bottom";function hl(e,t,n){e.classList.remove(t),e.classList.add(n)}function gl(e){e.classList.remove(ml,pl)}function bl(e,t,n){var i;const s=null===(i=e.data)||void 0===i?void 0:i.item;let a;if(hr(s)&&!n(null==s?void 0:s.id)){const n=Jr(e.element);a=t.y>n.top&&t.y<n.bottom?"top":"bottom"}else a=ul(t,e.rect);!function(e,t){"bottom"===t?hl(e,ml,pl):hl(e,pl,ml)}(e.element,a)}const fl=(e,t)=>{var n;if(!t)return{filteredChildren:[],isMaxDepthExceeded:!0};const i=[];let s=!1;return null===(n=e.children)||void 0===n||n.forEach((e=>{if(e.type===qe.b.File&&t>=1)i.push(e);else if(e.type===qe.b.Folder)if(t>1){const n=fl(e,t-1);i.push({...e,children:n.filteredChildren}),s=s||n.isMaxDepthExceeded}else s=!0})),{filteredChildren:i,isMaxDepthExceeded:s}},vl=e=>{const{children:t}=e,{enqueueSnackbar:n,dequeueSnackbar:i}=Object(L.rb)(L.S.CourseContentOutlineDragAndDrop,!0),a=dl(),{cancelOpenTogglableTimer:o,startOpenTogglableTimer:r}=Qr({highlight:!1}),l=br(),c=Object(d.a)(),u={snackbarMessage:c("course.outline.externalFolderMaxDepthError.text"),isErrorOrWarning:!0,icon:s.a.createElement(f.AlertError,null)};return s.a.createElement(dr,{onDragOver:(e,t,n)=>{var i;const s=null===(i=t.data)||void 0===i?void 0:i.item;bl(t,n,l),!function(e,t,n){var i;const s=null===(i=e.data)||void 0===i?void 0:i.item;if(hr(s)&&n(null==s?void 0:s.id)){const n=function(e,t){const n=t.height/3,i=t.top+n,s=t.top+2*n;return e.y<=i?"top":e.y<=s?"center":"bottom"}(t,e.rect);return"center"===n}return!1}(t,n,l)?o():r(s)},onDragEnter:(e,t,n)=>{bl(t,n,l)},onDragLeave:(e,t)=>{gl(t.element),o()},onDrop:async(e,t,r)=>{var l,d;gl(t.element),o();const{droppedFiles:m}=await Object(qe.o)(e.nativeEvent),p=m.filter((e=>e.type!==qe.b.Folder));p.length!==m.length&&(i(),n({snackbarMessage:c("components.directives.fileUpload.disallowFolderUploadFullNotChromeNoMoreFiles"),isErrorOrWarning:!0,icon:s.a.createElement(f.AlertError,null)}));const h=null!==(d=null===(l=t.data)||void 0===l?void 0:l.nestingLevel)&&void 0!==d?d:0,{filteredFiles:g,isMaxDepthExceeded:b}=((e,t)=>{const n=2-t,i=[];let s=!1;return e.forEach((e=>{if(e.type===qe.b.Folder)if(n>0){const t=fl(e,n);i.push({...e,children:t.filteredChildren}),s=s||t.isMaxDepthExceeded}else s=!0;else e.type===qe.b.File&&i.push(e)})),{filteredFiles:i,isMaxDepthExceeded:s}})(p,h);b&&(i(),n(u));const v=((e,t)=>{var n,i,s;let a={positionBefore:"start"};if(null===(n=e.data)||void 0===n?void 0:n.item){const n=e.data.item,i=ul(t,e.rect);a=function(e,t,n){var i;const s={parentId:e};return"bottom"===n?(s.positionAfter=null!==(i=t.id)&&void 0!==i?i:t.positionAfter,s.positionBefore=s.positionAfter?void 0:t.positionBefore,t&&void 0!==t.position&&(s.position=t.position+1)):(s.positionAfter=t.positionAfter,s.positionBefore=t.id,t&&void 0!==t.position&&(s.position=t.position-1)),s}(null==n?void 0:n.parentId,n,i)}else(null===(i=e.data)||void 0===i?void 0:i.parentId)&&(a={parentId:null===(s=e.data)||void 0===s?void 0:s.parentId,positionBefore:"start"});return a})(t,r);a({droppedFiles:g,locationData:v,isInsideFolder:!1})}},t)},yl=Object(h.makeStyles)((e=>({root:{position:"relative","& > .native-drag-top::after, & > .native-drag-bottom::after":{...Y(e),top:"-5px",bottom:"-5px",left:"-5px",right:"-5px",height:void 0}}}))),kl=e=>{var t;const{contents:n,parentFolder:a,loadMoreContent:r,moveContent:l,showStudentAuthorship:c}=e,d=yl(),{fileUploads:u}=Object(i.useContext)(hi);let m=s.a.createElement(Or,{contents:n,loadMoreContent:r,parentFolder:a,root:!0,showStudentAuthorship:c});return u&&(m=s.a.createElement(vl,null,m)),s.a.createElement(vi.b,null,s.a.createElement(W,{value:0},s.a.createElement(o.e,null,s.a.createElement("div",{className:(null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0)>0?void 0:d.root},s.a.createElement(il,{moveContent:l,showStudentAuthorship:c},m)))))};var xl=n("5vtU"),Sl=n("dCsl");const Cl=Object(h.makeStyles)((e=>{const t=`1px solid ${e.palette.secondary.main}`,n=`2px solid ${e.palette.brandAlt.main}`;return{divider:{position:"relative",zIndex:1,"&::before":{content:'""',position:"absolute",top:"45%",left:0,right:0,borderTop:t}},addButton:{width:"100%",margin:"-10px 0",padding:"2px 0",display:"flex",justifyContent:"center",alignContent:"center",lineHeight:0,transition:"opacity .25s linear","&:hover":{"& $addButtonIcon":{color:e.palette.brand.main},"&::after":{borderTop:n}},"&::after":{content:'""',position:"absolute",top:"45%",left:0,right:0,borderTop:t,transition:"all .25s linear",transitionProperty:"border-top-color, border-top-width, left, right"}},activeAddButton:{"& $addButtonIcon":{color:e.palette.brand.main},"&$addButton::after":{borderTop:n,left:0,right:0}},addButtonIcon:{background:e.palette.background.default,borderRadius:"50%",transition:"all .25s linear",transitionProperty:"color, transform",color:e.palette.text.secondary,zIndex:1},rotatedIcon:{transform:"rotate(-45deg)",color:e.palette.brand.main}}})),El=s.a.forwardRef(((e,t)=>{const{className:n,active:i,...o}=e,r=Cl(e);return s.a.createElement("div",{className:r.divider},s.a.createElement(xl.a,{...o,ref:t,classes:{focusVisible:r.activeAddButton},className:Object(a.a)(n,r.addButton,i&&r.activeAddButton)},s.a.createElement(Sl.a,{className:Object(a.a)(r.addButtonIcon,i&&r.rotatedIcon)})))})),Il=e=>{const{id:t,buttonAriaLabel:n,buttonAnalyticsId:a,menuAnalyticsId:o,items:r,classes:l}=e,[c,d]=Object(i.useState)(void 0),[u,m]=Object(i.useState)(!1),p=!!c,h=`add-content-menu-${t}`,g=`add-content-menu-button-${t}`,b=Object(i.useCallback)((()=>{d(void 0),m(!0)}),[]),f=Object(i.useCallback)((e=>{d(e.currentTarget)}),[]),v=Object(i.useMemo)((()=>r.map((e=>({...e,onClick:t=>{var n;try{null===(n=e.onClick)||void 0===n||n.call(e,t)}finally{b()}}})))),[r,b]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(El,{analyticsId:a,id:g,"aria-controls":c?h:void 0,"aria-haspopup":"menu","aria-label":n,"aria-expanded":p,active:p||u,onClick:f,classes:l}),s.a.createElement(L.j,{id:h,anchorEl:c,open:p,onClose:b,MenuListProps:{"aria-labelledby":g},TransitionProps:{onExited:()=>m(!1)},items:v,analyticsId:o}))};async function wl(e,t,n){const i=Object(yi.v4)(),s=await e(void 0,null,i,!1,t);if(s)return{content:s,correlationId:i,file:n}}async function Al(e,t,n,i,s){const a=Object(re.e)(re.d.CloudDriveService),o=await a.cloudDriveStorage.openFilePicker(i,!0);if(!(null==o?void 0:o.length))return;const r=Object(yi.v4)(),l=await async function(e,t,n){const i=[];for(const s of e)i.push(wl(t,n,s));return(await Promise.all(i)).filter((e=>void 0!==e))}(o,n,s);if(l.length>0){t(r,l.map((({correlationId:e})=>e))),e(function(e,t){return{type:al,payload:t,meta:{groupUploadId:e}}}(r,l))}}function Ol(e){const{createFileContent:t,onStartUpload:n}=gi(),{locale:a}=Object(_.a)(),o=Object(u.d)(),r=Object(d.a)();return{hidden:!function(){const[e,t]=Object(i.useState)(!1);return Object(i.useEffect)((()=>{Object(re.e)(re.d.CloudDriveService).isCloudServiceAvailable().then((e=>t(!!e)))}),[]),e}(),key:"cloud-storage",analyticsId:"components.directives.add-content-button.course-outline.importContentFromCloudStorage.button",click:()=>{Al(o,n,t,a,e)},text:r("components.directives.add-content-button.importContentFromCloudStorage.title"),icon:s.a.createElement(f.UploadCloud,null)}}function Dl(e){const t=Object(d.a)(),{onStartUpload:n,createFileContent:i}=gi(),a=Ol(e),r=Object(u.d)();return[{key:"create",analyticsId:"components.directives.add-content-button.contextualMenu.menuItem",text:t("components.directives.add-content-button.create"),icon:s.a.createElement(f.Add,null),route:o.j.CreateContent(e)},{key:"copy",analyticsId:"components.directives.add-content-button.course-outline.import.link",text:t("components.directives.add-content-button.copy"),icon:s.a.createElement(f.Duplicate,null),route:o.j.CopyContent(e)},{key:"upload",analyticsId:"components.directives.add-content-button.course-outline.upload.button",text:t("components.directives.add-content-button.upload"),icon:s.a.createElement(f.UploadFile,null),click:()=>{!async function(e,t,n,i){try{rl(await Object(qe.C)({multiple:!0}),e,t,n,i,!1)}catch(e){}}(r,n,i,e)}},a,{key:"content-market",analyticsId:"components.directives.add-content-button.course-outline.openContentMarket.link",text:t("components.directives.add-content-button.contentMarket"),icon:s.a.createElement(f.ContentMarket,null),route:o.j.ContentMarket(e)},{key:"content-collection",analyticsId:"components.directives.add-content-button.course-outline.contentCollection.link",text:t("components.directives.add-content-button.contentCollection"),icon:s.a.createElement(f.ContentCollection,null),route:o.g.ContentCollection(e)}]}const Tl=e=>{const{id:t,buttonAriaLabel:n,locationData:i,classes:a}=e,r=Object(d.a)(),l=Dl(i).map((({route:e,click:t,...n})=>{const i=n;return e?i.onClick=()=>{o.bb.goPeekState(e)}:t&&(i.onClick=()=>t()),i}));return s.a.createElement(Il,{id:t,buttonAriaLabel:null!=n?n:r("components.directives.add-content-button.aria-label.content.add-button-label"),buttonAnalyticsId:"components.directives.add-content-button.course-outline.addContentMenu.button",menuAnalyticsId:"components.directives.add-content-button.contextualMenu",classes:a,items:l})},Pl=Object(h.makeStyles)((e=>({divider:{"&::before":{left:"var(--divider-inline-start)",right:"var(--divider-inline-end)"}},addButton:{opacity:1,"&:hover, &:active":{opacity:1},"&::after":{left:"var(--divider-inline-start)",right:"var(--divider-inline-end)"},[e.breakpoints.up("sm")]:{opacity:"var(--add-button-opacity, 0)"}},activeAddButton:{"&&":{opacity:1}}})));function $l(e,t,n,i,s){const a=function(e,t){var n;const i={parentId:e};return i.positionAfter=null!==(n=null==t?void 0:t.id)&&void 0!==n?n:null==t?void 0:t.positionAfter,i.positionBefore=i.positionAfter||null==t?void 0:t.positionBefore,t&&void 0!==t.position&&(i.position=t.position+1),i}(e,t);return a.depth=s,function(e,t,n){const i={...e};return t?(i.positionAfter=t,delete i.positionBefore):n&&(delete i.positionAfter,i.positionBefore=n,n===Ar&&(i.position=0)),i}(a,n,i)}const Gl=e=>{const{classes:t,parentId:n,item:i,id:o}=e;let r,l;"positionBefore"in e?r=e.positionBefore:"positionAfter"in e&&(l=e.positionAfter);const c=K(),u=Pl(),m=$l(n,i,l,r,c+1),p=function(e,t){const n=Object(d.a)();if(!t)return;return n("components.directives.add-content-button.aria-label.content.add-button-label-item-name-"+(e.positionAfter?"after":"before"),{itemName:t.title})}(m,i);return s.a.createElement(Tl,{id:o,locationData:m,classes:{divider:Object(a.a)(null==t?void 0:t.divider,u.divider),addButton:Object(a.a)(null==t?void 0:t.addButton,u.addButton),activeAddButton:u.activeAddButton},buttonAriaLabel:p})};function*jl(e){if(yield e,e.children)for(let t=0;t<e.children.length;t++)yield*jl(e.children[t])}const Ll=(e,t,n)=>{if(t)for(const i of jl(t)){const{uploadCorrelationId:t}=i.ui;t&&(e.includes(t)&&n(i))}};function Nl(e){let t=[];return e.forEach((({oversizedFiles:e})=>{t=t.concat(e)})),t}const Bl=(e,t,n)=>{const{oversizedUploadIds:s,untrackUploadIds:a}=(e=>{const t=Object(H.u)(e),[n,s]=Object(i.useState)((()=>Nl(t)));return Object(i.useEffect)((()=>{const e=Nl(t);s((t=>{const n=e.filter((e=>!t.includes(e)));return 0===n.length?t:[...t,...n]}))}),[t]),{oversizedUploadIds:n,untrackUploadIds:Object(i.useCallback)((e=>{s((t=>t.filter((t=>!e.includes(t)))))}),[])}})(e.current),{displayModal:o,modal:r}=Object(L.qb)(H.h,{uploadIds:s});return Object(i.useEffect)((()=>{0!==s.length&&async function(e){try{await o()}finally{a(e),Ll(e,t,n)}}(s)}),[s,o,a,t,n]),r},Ml=e=>{const{exitCallback:t}=e,[n,a]=Object(i.useState)(!1),[o,r]=Object(i.useState)(!1),c=Object(d.a)(),u=(e=!1)=>{r(e),a(!0)};return s.a.createElement(P.a,{analyticsId:"components.directives.fileUpload.confirmLeave.dialog","aria-labelledby":"confirm-leave-page-dialog-heading-id",open:!n,TransitionProps:{onExited:()=>{t(o),a(!1)}}},s.a.createElement(l.AnalyticsDialogTitle,{analyticsId:"components.directives.fileUpload.closeDuringUploadTitle",onClose:()=>u(),id:"confirm-leave-page-dialog-heading-id","aria-describedby":"confirm-leave-page-dialog-message-id"},c("components.directives.fileUpload.closeDuringUploadTitle")),s.a.createElement(l.AnalyticsDialogContent,{analyticsId:"components.directives.fileUpload.closeDuringUpload"},s.a.createElement(l.AnalyticsDialogContentText,{id:"confirm-leave-page-dialog-message-id",analyticsId:"components.directives.fileUpload.closeDuringUploadInstructions"},c("components.directives.fileUpload.closeDuringUploadInstructions"))),s.a.createElement(l.AnalyticsDialogActions,{analyticsId:"components.directives.fileUpload.closeDuringUploadActions"},s.a.createElement(l.AnalyticsDefaultButton,{analyticsId:"components.directives.fileUpload.closeDuringUploadGoBack",onClick:()=>u()},c("components.directives.fileUpload.closeDuringUploadGoBack")),s.a.createElement(l.AnalyticsPrimaryButton,{analyticsId:"components.directives.fileUpload.closeDuringUploadClose",onClick:()=>u(!0)},c("components.directives.fileUpload.closeDuringUploadClose"))))};function Rl(e){const t=Object(u.d)(),{displayModal:n,modal:i}=Object(L.qb)(Ml,{});return Object(re.i)(re.b.RouterStateChangeStart,(async(i,s,a,r)=>{r.name!==s.name&&await async function(i,s,a){if(e.current.size<=0)return;i.preventDefault(),(await n()).confirmed&&(e.current.forEach((e=>{t(m.X.fileUpload.abortGroupUploads(e))})),e.current.clear(),o.bb.goRoute(s.name,a))}(i,s,a)})),i}function Fl(e){return!e.children||!pi(e.children)}const Vl=e=>{var t;const{showContentImportProgress:n,createFileContent:a,createEmptyFolder:o,deleteContentItem:r,...l}=e;Object(p.z)(null===(t=l.parentFolder)||void 0===t?void 0:t.courseId);const{modals:c,startUpload:d}=function(e,t){const n=Object(i.useRef)(new Set),a=Object(H.t)(n),o=Rl(n),r=Bl(n,e,t),l=Object(i.useCallback)(((e,t)=>{n.current.add(e),a(e,t)}),[a]);return{modals:s.a.createElement(s.a.Fragment,null,o,r),startUpload:l}}(l.parentFolder,r),u=Object(i.useMemo)((()=>({AddContentButton:Gl,shouldShowEmptyListMessage:Fl,fileUploads:{createFileContent:a,deleteContent:r,createEmptyFolder:o,onStartUpload:d},textOnPage:{axLoadMoreButtonLabelKey:"components.directives.content.content-outline.infiniteScroll.content.loadMoreButton.label.plural",deleteConfirmationKeyVariant:"course-outline"},analyticsIds:{folderTitle:"content.item.folder.toggleFolder.button",discussionTitle:"content.item.courses.outline.gradebook.item.forum.link",editableGroupCount:"content.item.course.outline.contentItemBase.editGroups.link"}})),[a,r,o,d]);return s.a.createElement(s.a.Fragment,null,c,n&&s.a.createElement(fi,null),s.a.createElement(hi.Provider,{value:u},s.a.createElement(kl,{...l})))};var _l=n("OrNH");function Ul(e){return function(){Object(re.e)(re.d.CreateContentCourseModelOperations).createContent(e)}}function Hl(e,t){var n;e.title=decodeURIComponent(null!==(n=t.fileName)&&void 0!==n?n:""),e.contentDetail={"resource/x-bb-file":{file:{fileName:t.fileName,fileLocation:t.fileLocation,mimeType:t.mimeType},fileAssociationMode:C.G.Embed}},t.webLocation&&(e.ui.webLocation=t.webLocation)}function zl(e,t){return function*(n){var i,s;const{file:a}=n.payload,o=n.meta.uploadId.correlationId,r=e(n);Hl(r,a);const l=yield Object(_l.e)(m.gc.fileUpload.getFileUploadById,o),c=yield Object(_l.e)(null===(i=m.gc.fileUpload)||void 0===i?void 0:i.getGroupStatusById,null!==(s=l.groupId)&&void 0!==s?s:""),d=(null==c?void 0:c.uploads.length)>1,u=Ul(r);d||t?u():(yield function*(e){e.ui.uploadCorrelationId&&(yield Object(_l.c)(m.X.fileUpload.canUpdateFileDetails({correlationId:e.ui.uploadCorrelationId})))}(r),yield Object(_l.h)((e=>e.type===m.Bb.UPDATED_FILE_DETAILS&&e.meta.uploadId.correlationId===o),(e=>{e.payload.cancelled||u()})))}}function*ql(e){const t=e.payload,n=t.reduce(((e,{correlationId:t,content:n})=>(e[t]=n,e)),{}),i=Object.keys(n),{groupUploadId:s,isInsideFolder:a}=e.meta;yield Object(_l.c)(m.X.fileUpload.filesUploadRequest(t,s)),yield Object(_l.h)((e=>e.type===`${m.Bb.FILE_UPLOAD}.ok`&&i.includes(e.meta.uploadId.correlationId)),zl((({meta:e})=>n[e.uploadId.correlationId]),a))}function Wl(e){return`${e.account}|${e.id}`}function*Kl(e){const t=e.payload,{groupUploadId:n}=e.meta,i=t.reduce(((e,{correlationId:t,content:n})=>(e[t]=n,e)),{}),s=Object.keys(i),a=[];for(const{correlationId:e,file:i}of t){const t=i.bearer_token.key,s=Wl(i);let o;try{o=yield Object(_l.b)(m.Fb,"CloudStorageIntegration",s,t)}catch(t){yield Object(_l.c)(m.X.fileUpload.invalidFileUpload(i,{correlationId:e,groupId:n},!0));continue}a.push({correlationId:e,accessToken:t,file:o})}var o;yield Object(_l.c)(m.X.fileUpload.cloudFilesUploadRequest(a,n)),yield Object(_l.h)((e=>e.type===`${m.Bb.FILE_UPLOAD}.ok`&&s.includes(e.meta.uploadId.correlationId)),(o=({meta:e})=>i[e.uploadId.correlationId],function(e){const{file:t}=e.payload,n=o(e);Hl(n,t),Ul(n)()}))}var Jl=n("0uRC");async function Ql(e){return new Promise((t=>{setTimeout(t,e)}))}function Zl(e,t){return Object(m.Eb)(t,e)}function Yl(e,t,n){return n.status===C.s.Complete?(e(m.X.fileUpload.fileUploadSuccess(t,function(e){const t={fileName:void 0,fileLocation:void 0};return e&&(t.fileName=e.fileName,t.fileLocation=e.fileLocation,t.webLocation=e.webLocation,t.mimeType=e.mimeType,t.isMedia=e.isMedia),t}(n))),e(Jl.a),!0):(n.status===C.s.Incomplete||n.status===C.s.CompleteErrors)&&(e(m.X.fileUpload.fileUploadFailure(t,m.V.Api)),e(Jl.a),!0)}function Xl(e,t,n){const i={lengthComputable:!1,loaded:n.completePercentage,total:100};e(m.X.fileUpload.updateFileUploadProgress(t,i))}function ec(e,t){e(m.X.fileUpload.fileUploadAborted(t)),e(Jl.a)}async function tc(e,t,n,i,s){const a=t=>{let n;t instanceof C.a&&(n=t.body.status),e(m.X.fileUpload.fileUploadFailure(i,m.V.Api,n))};let o;try{o=await function(e,t){return Object(m.ic)("CloudStorageIntegration",e.id,t)}(t,n)}catch(e){return void a(e)}Xl(e,i,o);let r=Yl(e,i,o);for(;!r;){if(await Ql(2e3),s.signal)return r=!0,void ec(e,i);let t;try{t=await Zl(n,o.taskId)}catch(e){return void a(e)}Xl(e,i,t),r=Yl(e,i,t)}}class nc{constructor(){this._signal=!1}abort(){this._signal=!0}get signal(){return this._signal}}function*ic(e,t,n){const i=new nc;yield Object(_l.c)(m.X.fileUpload.startFileUpload(n,i));const s=function(e,t,n,i){return Object(Jl.c)((s=>(tc(s,e,t,n,i),()=>{})))}(e,t,n,i);for(;;){const e=yield Object(_l.g)(s);yield Object(_l.c)(e)}}var sc={uploadFileContentItemSaga:function*(){yield Object(_l.h)(sl,ql)},cloudUploadFileContentItemSaga:function*(){yield Object(_l.h)(al,Kl)},cloudUploadRequestWatcherSaga:function*(){yield Object(_l.h)(m.Bb.CLOUD_FILE_UPLOAD_REQUEST,(function*(e){const{file:t,accessToken:n}=e.payload,{uploadId:i}=e.meta;yield Object(_l.b)(ic,t,n,i)}))}};const ac=Object(h.makeStyles)((e=>Object(h.createStyles)({mainContainer:{display:"flex",height:"36px",alignItems:"center"},headerWrapper:{flex:"1",maxWidth:"none",display:"flex",alignItems:"center"}}))),oc="course.outline.details.and.action.expanded",rc=e=>{const{isStudentPreview:t,courseId:n,isExpanded:i,setIsExpanded:o}=e,r=at(t?oc+".student.preview":oc,n),c=Object(d.a)(),u=ac();return s.a.createElement("div",{className:Object(a.a)("js-course-skip-link-target","js-details-header",u.mainContainer)},s.a.createElement("div",{className:u.headerWrapper},s.a.createElement(l.AnalyticsTypography,{component:"h2",variant:"h2"},c("course.outline.detailsActionsLabel"))),s.a.createElement(nt,null,s.a.createElement(st,{id:"details-actions-expansion-button",analyticsId:'"courseOverview.detailsAndActions.expandOrCollapse"',isExpanded:i,preferenceKey:r,setIsExpanded:o,title:c("course.outline.detailsActionsLabel"),panelControlId:"details-and-actions-panel"})))},lc=Object(h.makeStyles)((e=>({container:{padding:e.spacing(0),display:"flex",height:"100%",[e.breakpoints.up("sm")]:{height:"calc(100vh - 232px)"},[e.breakpoints.up("md")]:{height:"calc(100vh - 226px)"}}}))),cc="keyword",dc="category",uc=[{id:"DOCUMENT",name:"document-text",contentHandler:[C.t.Document,C.t.Folder]},{id:"ASSESSMENTS",name:"assessments",contentHandler:[C.t.TestLink]},{id:"SCORM",name:"scormengine",contentHandler:[C.t.RusticiScorm]},{id:"FILE",name:"file",contentHandler:[C.t.File]},{id:"LTI",name:"lti",contentHandler:[C.t.LtiLink,C.t.LtiPlacement]},{id:"JOURNAL",name:"journal",contentHandler:[C.t.Journal]}],mc=()=>({filters:uc.map((({id:e,name:t,contentHandler:n})=>({id:e,name:t,selected:!1,length:0,contentHandler:n}))),[cc]:""});var pc=n("N79G");const hc=Object(h.makeStyles)((e=>({container:{width:"100%",minWidth:"170px",display:"flex",flexDirection:"column",[e.breakpoints.up("sm")]:{width:"360px",minWidth:"225px",boxShadow:`5px 0 0 0 ${Object(pc.d)(e.palette.border.main,.1)}`}},clearAll:{color:e.palette.link.disabled,"&:enabled":{color:e.palette.link.active,textDecoration:"underline"}},searchItemsContainer:{overflow:"auto",display:"flex",flexDirection:"column",flexGrow:1,[e.breakpoints.up("sm")]:{padding:e.spacing(0,3,0,0)}},header:{display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:`1px solid ${e.palette.border.main}`,whiteSpace:"nowrap",minHeight:"76px",[e.breakpoints.up("sm")]:{marginRight:e.spacing(3)}},headerText:{"&&":{marginBottom:"0px"}},icon:{transition:"transform 200ms"},iconClose:{transform:"rotate(-180deg)"},blocksContainer:{overflow:"auto"},keywordSearch:{paddingTop:e.spacing(1.25)},keywordInputField:{marginBottom:e.spacing(2),"& fieldset":{border:0},"& input":{margin:0},"& label":{color:e.palette.text.hint}},blockHeader:{display:"flex",justifyContent:"space-between",alignItems:"center"},blockHeaderTitle:{fontWeight:e.typography.fontWeightBold},block:{borderBottom:`1px solid ${e.palette.border.main}`,padding:e.spacing(1,0,1,0),display:"inline-block",width:"100%","&:last-child":{borderBottom:"none"}},itemContainer:{paddingLeft:e.spacing(1.5),paddingTop:e.spacing(.625),whiteSpace:"nowrap",overflowX:"hidden"},footer:{borderTop:`1px solid ${e.palette.border.main}`,padding:e.spacing(1,1.5),display:"flex",justifyContent:"end",[e.breakpoints.up("sm")]:{marginRight:e.spacing(3)},[e.breakpoints.down("xs")]:{position:"sticky",bottom:0,backgroundColor:e.palette.background.default}}}))),gc=mc(),bc=({criteriaConfig:e,onPanelClose:t,isOpen:n,setFocusOnCloseButton:o})=>{const{onSearchClick:r,currentFilterState:c}=e,[u,m]=Object(i.useState)({[cc]:{expanded:!0},[dc]:{expanded:!0}}),p=Object(d.a)(),g=hc(),b=Object(h.useMediaQuery)((e=>e.breakpoints.down("xs"))),[v,y]=Object(i.useState)(c),k=Object(i.useRef)(null);Object(i.useEffect)((()=>{var e;n&&o&&(null===(e=k.current)||void 0===e||e.focus())}),[n,o]),Object(i.useEffect)((()=>{y(c)}),[c]);const x=e=>{m({...u,[e]:{expanded:!u[e].expanded}})};if(!n)return null;const S=p("courseLink.searchPanel.keywordSearch.header"),C=p("courseLink.searchPanel.linkableItems.label"),E=u.keyword.expanded,I=u.category.expanded,w=(e=>{const{keyword:t,filters:n}=e;return!n.some((e=>e.selected))&&!t.trim()})(v);return s.a.createElement("div",{role:"search",className:g.container},s.a.createElement("div",{className:g.header},s.a.createElement("div",null,s.a.createElement(l.AnalyticsTypography,{variant:"h2",className:g.headerText},p("courseLink.searchPanel.header")),s.a.createElement(xl.a,{analyticsId:p("courseLink.searchPanel.clearAll"),className:g.clearAll,onClick:()=>{y(gc)},disabled:w,"aria-label":p("courseLink.searchPanel.clearAll")},p("courseLink.searchPanel.clearAll"))),s.a.createElement(l.AnalyticsIconButton,{analyticsId:"courseLink.searchPanel.iconButton",onClick:t,"aria-label":p("courseLink.searchPanel.closeLabel"),"aria-expanded":"true",ref:k},s.a.createElement(f.Close,null))),s.a.createElement("div",{className:g.searchItemsContainer},s.a.createElement("div",{className:g.block},s.a.createElement("div",{className:g.blockHeader},s.a.createElement(l.AnalyticsTypography,{variant:"h4",component:"h3",className:g.blockHeaderTitle},S),s.a.createElement(l.AnalyticsIconButton,{analyticsId:"courseLink.searchPanel.iconButton",id:"button-keyword-search-input-field",className:Object(a.a)(g.icon,{[g.iconClose]:!E}),onClick:()=>x(cc),"aria-label":p("courseLink.searchPanel.keywordSearch.ariaLabel"),"aria-expanded":u.keyword.expanded,"aria-controls":"keyword-region"},s.a.createElement(f.ChevronUp,null))),E&&s.a.createElement(l.AnalyticsFormControl,{analyticsId:"courseLink.searchPanel.formControl",fullWidth:!0,className:g.keywordSearch,id:"keyword-region",role:"region","aria-labelledby":"button-keyword-search-input-field"},s.a.createElement(l.AnalyticsTextField,{analyticsId:"courseLink.searchPanel.textField",id:"keyword-input-field",type:"text",className:g.keywordInputField,label:p("courseLink.searchPanel.keywordSearch.placeholder"),floatingLabel:!0,value:v.keyword,onChange:e=>{return t=e.target.value,void y((e=>({...e,[cc]:t})));var t},inputProps:{"aria-label":p("courseLink.searchPanel.keywordSearch.placeholder")}}))),s.a.createElement("div",{className:g.block},s.a.createElement("div",{className:g.blockHeader},s.a.createElement(l.AnalyticsTypography,{variant:"h4",component:"h3",className:g.blockHeaderTitle},C),s.a.createElement(l.AnalyticsIconButton,{analyticsId:"courseLink.searchPanel.iconButton",id:"button-category-search-checkboxes",className:Object(a.a)(g.icon,{[g.iconClose]:!I}),onClick:()=>x(dc),"aria-expanded":I,"aria-label":p("courseLink.searchPanel.linkableItems.ariaLabel"),"aria-controls":"categories-region"},s.a.createElement(f.ChevronUp,null))),s.a.createElement("div",{id:"categories-region",role:"region","aria-labelledby":"button-category-search-checkboxes"},I&&v.filters.map((e=>s.a.createElement("div",{key:e.id,className:g.itemContainer},s.a.createElement(l.AnalyticsFormControlLabel,{analyticsId:"courseLink.searchPanel.formControlLabel",label:p(`courseLink.searchPanel.linkableItems.types.${e.name}`,{totalResults:e.length}),htmlFor:e.id,control:s.a.createElement(l.AnalyticsCheckbox,{analyticsId:"courseLink.searchPanel.checkbox",id:e.id,checked:e.selected,onChange:t=>((e,t)=>{const n=v.filters.map((n=>n.id===e?{...n,selected:t}:n));y((e=>({...e,filters:n})))})(e.id,t.target.checked)})}))))))),s.a.createElement("div",{className:g.footer},s.a.createElement(l.AnalyticsPrimaryButton,{analyticsId:"courseLink.searchPanel.primaryButton",onClick:()=>{const{filters:e,keyword:n}=v;r({filters:e.map((e=>({...e,length:0}))),keyword:n}),b&&t()},disabled:w},p("courseLink.searchPanel.buttonText"))))},fc=({criteriaConfig:e,children:t})=>{const[n,a]=(()=>{const e=Object(h.useTheme)(),t=Object(h.useMediaQuery)(e.breakpoints.down("sm")),[n,s]=Object(i.useState)(!t);return[n,s]})(),[o,r]=Object(i.useState)(!1),l=lc(),c=()=>{a((e=>!e)),o||r(!0)};return s.a.createElement("div",{className:l.container},s.a.createElement(bc,{criteriaConfig:e,isOpen:n,onPanelClose:c,setFocusOnCloseButton:o}),t(c,n))},vc=Object(h.makeStyles)((e=>({header:{display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:"min-content",padding:e.spacing(1.25,0),[e.breakpoints.up("sm")]:{minHeight:"76px",padding:e.spacing(.5,0)}},headerButton:{marginRight:e.spacing(1.875),[e.breakpoints.up("sm")]:{marginRight:e.spacing(1)}},results:{"&&":{marginBottom:"0px"},[e.breakpoints.up("sm")]:{whiteSpace:"nowrap"}},emptyDiv:{display:"none",[e.breakpoints.up("sm")]:{display:"flex",width:"50px"}}}))),yc=({isSearchPanelOpen:e,openSearchPanel:t,totalResults:n,loadedResults:i,initialState:a})=>{const o=Object(d.a)(),r=Object(p.i)("courseLink.contentPanel.header.helper.course","courseLink.contentPanel.header.helper.organization"),c=vc();return s.a.createElement(h.Box,{className:c.header},!e&&s.a.createElement(h.Box,{className:c.headerButton,role:"search"},s.a.createElement(l.AnalyticsPrimaryButton,{onClick:t,analyticsId:"courseLink.containerPanel.openSearchPanelButton","aria-expanded":"false"},o("courseLink.contentPanel.header.searchButton"))),!!n&&!a&&s.a.createElement(h.Box,null,s.a.createElement(l.AnalyticsTypography,{variant:"h2",className:c.results},o("courseLink.contentPanel.header.searchResults",{loadedResults:i,totalResults:n})),s.a.createElement(l.AnalyticsTypography,{variant:"body1"},o(r("courseLink.contentPanel.header.helper.course")))),!e&&s.a.createElement(h.Box,{className:c.emptyDiv}))};var kc=n("p2I/"),xc=n.n(kc);const Sc=Object(h.makeStyles)((()=>({container:{display:"flex",flexDirection:"column",alignItems:"center",margin:"30px auto 0 auto"},image:{display:"inline-block",lineHeight:1,strokeWidth:1.1,stroke:"transparent",fill:"none",verticalAlign:"inherit",width:"200px",height:"200px",marginBottom:"10px"},title:{fontSize:"20px !important",marginBottom:"10px !important",marginTop:0,textAlign:"center"},message:{textAlign:"center",marginBottom:"28px",whiteSpace:"pre-wrap"}}))),Cc=e=>{const{headerKey:t,messageKey:n}=e,i=Object(d.a)(),a=Object(p.i)("courseLink.emptyState.initialHeader.course","courseLink.emptyState.initialHeader.organization"),o=Object(p.i)("courseLink.emptyState.initialMessage.course","courseLink.emptyState.initialMessage.organization"),r=Sc();return s.a.createElement("div",{className:r.container},s.a.createElement("div",{className:r.image,dangerouslySetInnerHTML:{__html:xc.a}}),s.a.createElement(l.AnalyticsTypography,{variant:"h2",className:r.title},i(a(t))),s.a.createElement("div",{className:r.message},i(o(n),{keyword:s.a.createElement("strong",null,i("courseLink.searchPanel.keywordSearch.header")),linkableItems:s.a.createElement("strong",null,i("courseLink.searchPanel.linkableItems.label"))})))},Ec=Object(h.makeStyles)((e=>({container:{display:"flex",flexDirection:"column",flexGrow:1,width:"100%"},loadingContainer:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",[e.breakpoints.down("xs")]:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},containerOff:{paddingLeft:e.spacing(4),width:"67vw",[e.breakpoints.down("xs")]:{display:"none"}}}))),Ic=({isSearchPanelOpen:e,openSearchPanel:t,totalResults:n,children:i,initialState:o,isLoading:r,loadedResults:c})=>{const u=Ec(),m=Object(d.a)();return s.a.createElement("div",{className:Object(a.a)(u.container,{[u.containerOff]:e})},!r&&s.a.createElement(yc,{isSearchPanelOpen:e,openSearchPanel:t,totalResults:n,loadedResults:c,initialState:o}),r?s.a.createElement("div",{className:u.loadingContainer},s.a.createElement(l.AnalyticsCircularProgress,{id:"courseLink.contentPanel.loader",ariaLabel:m("courseLink.contentPanel.loader")})):o||!n?s.a.createElement(Cc,{headerKey:o?"courseLink.emptyState.initialHeader.course":"courseLink.emptyState.zeroResultsHeader",messageKey:o?"courseLink.emptyState.initialMessage.course":"courseLink.emptyState.zeroResultsMessage"}):i)},wc=Object(h.makeStyles)((e=>({content:{overflow:"hidden",display:"flex",flexDirection:"column"},subHeader:{height:"40px",display:"grid",gridTemplateColumns:"1fr",[e.breakpoints.up("sm")]:{gridTemplateColumns:"2fr 1fr"},alignItems:"center",borderBottom:`1px solid ${e.palette.border.main}`,borderTop:`1px solid ${e.palette.border.main}`},itemsContent:{display:"flex",flexDirection:"column",overflowY:"auto",overflowX:"clip"},category:{display:"flex",flexDirection:"row",gap:"34px",alignItems:"center",[e.breakpoints.down("xs")]:{display:"none"}},divider:{height:"25px"},title:{paddingRight:e.spacing(1)},headerName:{padding:e.spacing(.125,5),display:"flex",height:"40px",alignItems:"center"}})));var Ac=n("9wcI");const Oc=Object(h.makeStyles)((e=>({iconDisabled:{marginRight:"-40px"},visibilityText:{paddingLeft:e.spacing(.75)}}))),Dc=({type:e,visible:t})=>{const n=Oc(),i=Object(H.p)(e);return i?t?s.a.createElement(i,{"data-testid":e}):s.a.createElement(s.a.Fragment,null,s.a.createElement(Ac.a,{"data-testid":"disabled",className:n.iconDisabled}),s.a.createElement(i,{"data-testid":e})):null},Tc=Object(h.makeStyles)((e=>({content:{padding:e.spacing(2.5,0),display:"flex"},checkbox:{paddingLeft:e.spacing(1.5)},icon:{paddingRight:e.spacing(1.5),alignSelf:"center"},item:{display:"grid",flexGrow:1,gridTemplateColumns:"1fr",[e.breakpoints.up("sm")]:{gridTemplateColumns:"2fr 1fr"}},itemHideCategoryColumn:{gridTemplateColumns:"1fr"},itemName:{display:"flex"},itemTitle:{display:"grid",gap:"4px"},itemCategoryVisible:{display:"none",[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(4.5),paddingRight:e.spacing(2),display:"grid"}},itemCategoryHidden:{display:"none"},visibilityContentPanelOff:{"&& div":{lineHeight:"unset"},display:"flex",flexDirection:"column",gap:"4px",[e.breakpoints.up("sm")]:{flexDirection:"row",gap:"12px",alignItems:"center"}},visibilityContentPanelOn:{"&& div":{lineHeight:"unset"},display:"flex",flexDirection:"column",gap:"4px",[e.breakpoints.up("md")]:{flexDirection:"row",gap:"12px",alignItems:"center"}},contentFooter:{borderBottom:`1px solid ${e.palette.border.main}`,marginLeft:e.spacing(12.25),"&:last-child":{marginLeft:e.spacing(0),marginBottom:e.spacing(2),paddingLeft:e.spacing(12.25)}},checkedContent:{display:"flex",flexDirection:"column",paddingBottom:e.spacing(2.5)},displayName:{marginBottom:e.spacing(2),width:"260px","& div":{border:0},"& input":{margin:0},[e.breakpoints.down("xs")]:{width:"100%"}},description:{"& div, div:hover":{border:`1px solid ${e.palette.background.b5}`}},itemText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}))),Pc=({record:e,selectedItem:t,setSelectedItem:n,isSearchPanelOpen:i,hideCategoryColumn:o})=>{const r=Tc(),c=Object(d.a)(),{type:u,categoryType:m,name:p,isAvailable:h,id:g}=e,b=g===(null==t?void 0:t.id);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:r.content},s.a.createElement("div",{className:Object(a.a)(r.item,o&&r.itemHideCategoryColumn)},s.a.createElement("div",{className:r.itemName},s.a.createElement(l.AnalyticsFormControlLabel,{analyticsId:"course.link.search.content.item.formControlLabel",label:"",htmlFor:g,className:r.checkbox,control:s.a.createElement(l.AnalyticsRadio,{analyticsId:"course.link.search.content.item.radio",id:g,"aria-label":p,checked:b,value:g,onClick:()=>(()=>{const t={...e,displayName:e.name};n(t)})()})}),s.a.createElement("div",{className:r.icon},s.a.createElement(Dc,{visible:h,type:u})),s.a.createElement("div",{className:r.itemTitle},s.a.createElement(l.AnalyticsTypography,{variant:"h4",component:"h3",className:r.itemText},p),s.a.createElement("div",{className:i?r.visibilityContentPanelOn:r.visibilityContentPanelOff},s.a.createElement(hs,{item:e}),ps(e)&&s.a.createElement("div",null,s.a.createElement(Va,{item:e}))))),s.a.createElement("div",{className:Object(a.a)(o?r.itemCategoryHidden:r.itemCategoryVisible)},s.a.createElement(l.AnalyticsTypography,{className:r.itemText,variant:"body1"},m)))),s.a.createElement("div",{className:r.contentFooter},b&&s.a.createElement("div",{className:r.checkedContent},s.a.createElement(l.AnalyticsTextField,{analyticsId:"course.link.search.content.item.textField",id:"item-display-name",type:"text",className:r.displayName,label:c("courseLink.contentPanel.item.displayName"),placeholder:c("courseLink.contentPanel.item.displayNamePlaceholder"),onChange:e=>{return i=e.target.value,void(t&&n({...t,displayName:i}));var i},value:t.displayName,required:!0,error:!t.displayName,helperText:t.displayName?"":c("courseLink.contentPanel.item.displayNameHelperText"),inputProps:{"aria-label":c("courseLink.contentPanel.item.displayName"),maxLength:333}}),s.a.createElement(l.AnalyticsTextField,{id:"item-description",analyticsId:"course.link.search.content.item.textField",type:"text",className:r.description,label:c("courseLink.contentPanel.item.description"),placeholder:c("courseLink.contentPanel.item.descriptionPlaceholder"),onChange:e=>{return i=e.target.value,void(t&&n({...t,description:i}));var i},value:t.description,inputProps:{"aria-label":c("courseLink.contentPanel.item.description"),maxLength:750},fullWidth:!0,multiline:!0,rows:5,helperText:c("course.content.descriptionMaxCharactersLabel")}))))};var $c;!function(e){e.Name="name",e.Category="categoryType"}($c||($c={}));const Gc=({records:e,setSelectedCourseItem:t,loadData:n,hasMore:a,isSearchPanelOpen:o})=>{const r=Object(d.a)(),{sortBySubHeader:c,sortOrder:u,sortedRecords:m}=(e=>{const[t,n]=Object(i.useState)({}),s=Object(i.useMemo)((()=>{const{type:n,isAsc:i}=t;if(!n)return e;const s=[...e].sort(((e,t)=>n===$c.Category?e[n].localeCompare(t[n])||e[$c.Name].localeCompare(t[$c.Name]):e[n].localeCompare(t[n])));return i?s:s.reverse()}),[e,t]);return{sortOrder:t,sortBySubHeader:e=>{t.type===e?n((t=>({type:e,isAsc:!t.isAsc}))):n({type:e,isAsc:!0})},sortedRecords:s}})(e),{isAsc:p,type:g}=u,b=wc(),v=Object(L.mb)(n,a),y=Object(h.useMediaQuery)((e=>e.breakpoints.down("xs"))),k=Object(h.useMediaQuery)((e=>e.breakpoints.down("sm")))&&o||y,[x,S]=Object(i.useState)(),C=e=>g===e?p?s.a.createElement(f.SortArrowAscending,null):s.a.createElement(f.SortArrowDescending,null):s.a.createElement(f.SortArrows,null),E=e=>{S(e),t(e)},I=Object(i.useMemo)((()=>[{id:"courseLink.contentPanel.subHeader.name",title:r("courseLink.contentPanel.subHeader.name"),onClick:()=>c($c.Name),ariaLabel:r("courseLink.contentPanel.subHeader.name."+(p?"ascending":"descending")),icon:C($c.Name),className:b.headerName,hasDivider:!1},{id:"courseLink.content.panel.subHeader.category",title:r("courseLink.contentPanel.subHeader.category"),onClick:()=>c($c.Category),ariaLabel:r("courseLink.contentPanel.subHeader.category."+(p?"ascending":"descending")),icon:C($c.Category),className:b.category,hasDivider:!0}]),[u]),w=Object(i.useCallback)((()=>(k?[I[0]]:I).map((({id:e,title:t,onClick:n,ariaLabel:i,icon:o,className:r,hasDivider:c})=>a?s.a.createElement("div",{className:r,key:e},c&&s.a.createElement(h.Divider,{orientation:"vertical",className:b.divider}),s.a.createElement(l.AnalyticsTypography,{variant:"h4"},t)):s.a.createElement("div",{className:r,key:e},c&&s.a.createElement(h.Divider,{orientation:"vertical",className:b.divider}),s.a.createElement(l.AnalyticsIconButton,{analyticsId:"course.link.search.content.iconButton",onClick:()=>n(),"aria-label":i},s.a.createElement(l.AnalyticsTypography,{variant:"h4",className:b.title},t),o))))),[a,u,k]);return s.a.createElement("div",{className:b.content},s.a.createElement("div",{className:b.subHeader},w()),s.a.createElement("div",{className:b.itemsContent},s.a.createElement(l.AnalyticsRadioGroup,{analyticsId:"course.link.search.content.radioGroup",hasCustomLegend:!0},m.map((e=>s.a.createElement(Pc,{record:e,selectedItem:x,key:e.id,setSelectedItem:E,isSearchPanelOpen:o,hideCategoryColumn:k}))),v)))},jc={offset:0,limit:10},Lc="courseLink.searchPanel.linkableItems.types",Nc=(e,t,n,i)=>m.i.TestLink.isEqualTo(i)?(null==n?void 0:n.isUserDefined)?`${t(`${Lc}.assessment`)} (${null==n?void 0:n.title})`:`${t(`${Lc}.assessment`)} (${t(`course.content.assessment.test.settings.grading.category.${null==n?void 0:n.title}`)})`:(null==i?void 0:i.toString())===m.i.File.handle?`${t(`${Lc}.file`)}`:(null==i?void 0:i.toString())===m.i.LtiLink.handle||(null==i?void 0:i.toString())===m.i.LtiPlacement.handle||"document-blank"===e?`${t(`${Lc}.singlelti`)}`:t(`${Lc}.${e}`),Bc=({getCourseContentChildren:e,setSelectedCourseItem:t})=>{const[n,a]=Object(i.useState)({records:[]}),[o,r]=Object(i.useState)(!1),[l,c]=Object(i.useState)(!0),u=Object(d.a)(),m=mc(),[p,h]=Object(i.useState)(m),g=t=>{const{pagingParams:i}=n,{filters:s,keyword:o}=t||p,r=s.filter((e=>e.selected)).map((e=>e.id)).join(", "),l=(e=>{if(e){const{offset:t,limit:n}=e;return{offset:t+n,limit:n}}return jc})(t?void 0:i),c=o.trim();return c!==o&&h((e=>({...e,[cc]:c}))),e(c,r,l,!t).then((({paging:e,items:t})=>{const n=t.map((e=>({...e,categoryType:Nc(e.type,u,e.gradebookType,e.contentHandler)})));a((({records:t})=>({records:t.concat(n),pagingParams:e}))),(e=>{const t=p.filters.some((e=>e.selected));h((n=>({...n,filters:n.filters.map((n=>(e.forEach((e=>{t&&!n.selected||n.contentHandler.find((t=>{var n;return null===(n=e.contentHandler)||void 0===n?void 0:n.startsWith(t)}))&&(n.length+=1)})),n)))})))})(n)}))},b={currentFilterState:p,onSearchClick:async e=>{if(!o){a({records:[]}),h(e),r(!0);try{await g(e),l&&c(!1)}finally{r(!1)}}}},{records:f,pagingParams:v}=n,y=Object(i.useMemo)((()=>((e,t)=>{var n;if(!t)return!1;const i=(null!==(n=null==t?void 0:t.count)&&void 0!==n?n:0)-e;return Math.min(i,t.limit)>0})(f.length,v)),[v,f.length]);return s.a.createElement(fc,{criteriaConfig:b},((e,n)=>{var i;return s.a.createElement(Ic,{isSearchPanelOpen:n,openSearchPanel:e,totalResults:null!==(i=null==v?void 0:v.count)&&void 0!==i?i:0,loadedResults:f.length,initialState:l,isLoading:o},s.a.createElement(Gc,{records:f,setSelectedCourseItem:t,loadData:()=>g(),hasMore:y,isSearchPanelOpen:n}))}))},Mc=Object(h.makeStyles)((e=>({contentLinkTabs:{borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:e.palette.border.main}})));var Rc;!function(e){e.WebLink="webLink",e.CourseLink="courseLink"}(Rc||(Rc={}));const Fc=[{id:Rc.WebLink,displayKey:"courseCore.course.courseLinks.webLinkTabLabel"},{id:Rc.CourseLink,displayKey:"courseCore.course.courseLinks.courseLinkTabLabel"}],Vc=e=>{const{onChange:t,value:n}=e,i=Mc(),a=Object(d.a)(),o=Object(p.i)("courseCore.course","courseCore.organization");return s.a.createElement("div",{className:i.contentLinkTabs},s.a.createElement(l.AnalyticsTabs,{onChange:(e,n)=>t(n),value:n,analyticsId:"contentlink.tabs"},Fc.map((e=>s.a.createElement(l.AnalyticsTab,{analyticsId:`contentlink.tab.${e.id}`,key:e.id,value:e.id,label:a(o(e.displayKey)),id:`tab-${e.id}`,"aria-controls":`tabpanel-${e.id}`})))))},_c=e=>{var t,n,s;const{courseId:a}=e,o=Object(p.m)(a,C.Y.CourseRoster),r=null!==(t=null==o?void 0:o.toolEnabledSetting.isAvailable)&&void 0!==t&&t,l=null!==(n=null==o?void 0:o.toolEnabledSetting.isLocked)&&void 0!==n&&n,c=Object(p.F)(a,C.Y.CourseRoster),d=null!==(s=Object(p.w)(a,["course.configure-tools.EXECUTE"]))&&void 0!==s&&s,u=!l&&d;return Object(p.w)(a,["course.user.VIEW"])&&o?i.createElement(Ks.f,{groupSetVisibility:r,onVisibilityChanged:c,disabled:!u,analyticsId:"course.roster.visibility.button",borderless:!0}):null};n.d(t,"p",(function(){return b})),n.d(t,"y",(function(){return S})),n.d(t,"z",(function(){return w})),n.d(t,"q",(function(){return T})),n.d(t,"r",(function(){return j})),n.d(t,"w",(function(){return We})),n.d(t,"s",(function(){return Ke})),n.d(t,"B",(function(){return Qe})),n.d(t,"g",(function(){return Xe})),n.d(t,"m",(function(){return pt})),n.d(t,"v",(function(){return $t})),n.d(t,"t",(function(){return Mt})),n.d(t,"i",(function(){return di})),n.d(t,"k",(function(){return mi})),n.d(t,"h",(function(){return ei})),n.d(t,"j",(function(){return Vl})),n.d(t,"f",(function(){return kl})),n.d(t,"b",(function(){return go})),n.d(t,"C",(function(){return bo})),n.d(t,"a",(function(){return hi})),n.d(t,"c",(function(){return ya})),n.d(t,"x",(function(){return ce})),n.d(t,"A",(function(){return sc})),n.d(t,"l",(function(){return rc})),n.d(t,"n",(function(){return Bc})),n.d(t,"e",(function(){return Vc})),n.d(t,"d",(function(){return Rc})),n.d(t,"o",(function(){return Ts})),n.d(t,"u",(function(){return _c}))},"/9iQ":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-documents",use:"icon-small-documents-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-documents"><path d="M1 4h7.0084L11 7v8H1V4z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M8.0005 4v3h3.0015M4 8h1M4 11h3.9722" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M3 1h11v12" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"/J7e":function(e,t,n){"use strict";function i(e){if(null==e)return!1;if("boolean"==typeof e)return e;if("string"==typeof e){const t=e.trim();return"true"===t.toLowerCase()||"1"===t}if("number"==typeof e)return 0!==e;throw new Error('Cannot convert "'+e+'" to boolean')}n.d(t,"a",(function(){return i}))},"/KQw":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("Llzl");const s="ultra.components.directives.cacheCompilation";class a{constructor(e){this.$compile=e,this.compiled=Object.create(null),this.priority=2e3}compile(e,t){const n=t.bbCacheCompilation;if(!n)throw new Error("Cache compilation key is required");const i=e.contents();return e.empty(),null==this.compiled[n]&&(this.compiled[n]=this.$compile(i)),(e,t)=>{this.compiled[n](e,(function(e,n){t.append(e)}))}}}a.$inject=["$compile"],i.module(s,[]).directive("bbCacheCompilation",["$injector",e=>e.instantiate(a)])},"/R3n":function(e,t){e.exports='<div class="content-item-course-outline">\n  <div class="name">\n    <ng-switch on="content.getContentDisplay().linkAction()" ng-class="{\'has-indicator\': content.ui.hasIndicator}">\n      <div ng-switch-when="resource/x-bb-folder">\n        <bb-content-item-folder></bb-content-item-folder>\n      </div>\n      <div ng-switch-when="contenturl">\n        \x3c!-- Center content title when it is only one line of text (without edit capability, description, or date restrictions). --\x3e\n        <a bb-prevent-click-if="content.isConditionalReleaseLocked()"\n            ng-click="contentItemBase.onExternalLinkClick()"\n            ng-href="{{content.getContentDisplay().contentUrl()}}" target="_blank" rel="noopener noreferrer" class="content-title"\n            ng-class="{\'name-middle\': contentItemCourseOutline.shouldAlignMiddle()}"\n            aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n            analytics-id="content.item.course.outline.courseContent.link"\n            analytics-context="{{::content.getContentDisplay().contentUrl()}}"\n            aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n            tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}">\n          <span>{{ content.title }}</span>\n        </a>\n      </div>\n      <div ng-switch-when="fileurl">\n        \x3c!-- Open the file preview panel for content that can be previewed --\x3e\n        <a bb-prevent-click-if="content.isConditionalReleaseLocked()"\n            ng-click="contentItemBase.onExternalLinkClick()"\n            bb-peek-sref="preview-file({id: content.id})"\n            ng-class="{\'name-middle\': contentItemCourseOutline.shouldAlignMiddle()}"\n            class="content-title"\n            aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n            analytics-id="content.item.course.outline.courseContent.link"\n            analytics-context="{{::content.getContentDisplay().contentUrl()}}"\n            aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n            tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}">\n          <span>{{ content.title }}</span>\n        </a>\n      </div>\n      <div ng-switch-when="ltilaunch">\n        <bb-content-item-ltilaunch></bb-content-item-ltilaunch>\n      </div>\n      <div ng-switch-when="scormlaunch">\n        <bb-content-item-scormlaunch></bb-content-item-scormlaunch>\n      </div>\n      <div ng-switch-when="resource/x-bb-asmt-agn-link">\n        \x3c!-- open  edit page when an instructor(=entitledToDesignAssessment) is accessing an assignment in a complete course. page will become read only based on canEdit() --\x3e\n        <a ng-if="contentItemBase.entitledToDesignAssessment"\n           class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           bb-peek-sref="gradebook-item.assignment({\n                                 courseId: content.courseId,\n                                 contentId: content.id,\n                                 gradeitemView: \'details\' })"\n           analytics-id="content.item.course.outline.gradebook.item.assignment.link"><span>{{ content.title }}</span></a>\n        \x3c!-- user cannot modify --\x3e\n        <a ng-if="!contentItemBase.entitledToDesignAssessment"\n           bb-peek-sref="assignment.view({assignmentId:content.id})" bb-prevent-click-if="content.isConditionalReleaseLocked()"\n           ng-class="{\'is-late\': contentItemBase.isLate, \'is-restricted\': content.isRestricted()}"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           class="content-title"\n           analytics-id="content.item.course.outline.gradebook.item.assignment.readOnly.link"\n           aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n           tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"><span>{{ content.title }}</span></a>\n      </div>\n      <div ng-switch-when="resource/x-bb-assignment">\n        <a bb-peek-sref="assignment.view({assignmentId:content.id})" class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           ng-class="{\'is-late\': contentItemBase.isLate}"\n           analytics-id="content.item.coures.outline.assignment.link"\n           aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n           tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"><span>{{ content.title }}</span></a>\n      </div>\n      <div ng-switch-when="resource/x-bb-document">\n        <a bb-peek-sref="content-manage.edit.document({id:content.id})" class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           ng-class="{\'is-late\': contentItemBase.isLate}"\n           analytics-id="content.item.coures.outline.document.link"\n           aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n           tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"><span>{{ content.title }}</span></a>\n      </div>\n      <div ng-switch-when="resource/x-bb-page">\n        <bb-content-item-page></bb-content-item-page>\n      </div>\n      <div ng-switch-when="resource/x-bb-asmt-test-link">\n        \x3c!-- open edit page when an instructor(=entitledToDesignAssessment) is accessing content. In a complete course, page will become read only based on canEdit() --\x3e\n        <a ng-if="contentItemBase.entitledToDesignAssessment" class="content-title"\n           bb-peek-sref="gradebook-item.assessment({\n                                 courseId: content.courseId,\n                                 contentId: content.id,\n                                 gradeitemView: \'details\',\n                                 assessmentType: \'test\'})"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           analytics-id="content.item.courses.outline.gradebook.item.assessment.link"><span>{{ content.title }}</span></a>\n        \x3c!-- user cannot modify --\x3e\n        <a ng-if="!contentItemBase.entitledToDesignAssessment" href="javascript:void(0);"\n           ng-click="contentItemBase.openAssessmentItem()" bb-prevent-click-if="content.isConditionalReleaseLocked()"\n           ng-class="{\'is-late\': contentItemBase.isLate, \'is-restricted\': content.isRestricted()}"\n           class="content-title"\n           aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n           analytics-id="content.item.courses.outline.gradebook.item.assessment.readOnly.link"\n           aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n           tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"><span>{{ content.title }}</span></a>\n      </div>\n      <a ng-switch-when="resource/x-bb-forumlink" bb-peek-sref="discussion.view.with-grading({contentId:content.id})"\n         bb-prevent-click-if="content.isConditionalReleaseLocked()"\n         class="content-title" aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n         analytics-id="content.item.courses.outline.gradebook.item.forum.link"\n         aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n         tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"><span>{{ content.title }}</span></a>\n      <div ng-switch-when="resource/x-bb-courselink">\n        <bb-web-link-item content="content" target-content="contentItemBase.targetContent" prefix="\'course.outline\'"/>\n      </div>\n      <div ng-switch-when="resource/x-bb-journallink">\n        <a bb-peek-sref="journal.view.with-participation({contentId:content.id})"\n          bb-prevent-click-if="content.isConditionalReleaseLocked()"\n          class="content-title" aria-describedby="activity-indicator-{{::content.id}}"\n          analytics-id="content.item.courses.outline.journal.link"\n          aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n          tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"><span>{{ content.title }}</span></a>\n      </div>\n      <div ng-switch-default class="content-title">{{ content.title }}</div>\n      <bb-svg-icon role="img" aria-hidden="false" bb-translate-attrs="::{\'aria-label\':\'components.directives.content-item-base.aria-label.indicator\'}" ng-if="content.ui.hasIndicator" id="activity-indicator-{{::content.id}}" class="indicator" size="small" icon="activity-indicator"></bb-svg-icon>\n    </ng-switch>\n  </div>\n  <div ng-if="content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date">\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-if="!dueDate" class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-if="dueDate && !gradeDetail" class="content-due-date-label">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-if="dueDate && !gradeDetail" class="content-due-date"></bb-datetime>\n    <span ng-if="content.getTimedTestDetail().hasTimeLimit" class="time-limit ellipse">\n      <span class="vertical-bar"></span>\n      <span bb-translate>components.directives.content-item-base.time-limit</span>\n      <span ng-bind-html="content.getTimedTestDetail().displayedTimeLimitSeconds | timeSpan: \'m\': this "></span>\n    </span>\n    <span class="content-item-course-outline__proctored-tag" ng-if="contentItemCourseOutline.displayProctoredTag()">\n      <span class="vertical-bar"></span>\n      <bb-ui-icon-small-proctor-shield\n        class="content-item-course-outline__proctored-icon"\n        class-name="content-item-course-outline__proctored-icon-svg"\n      >\n      </bb-ui-icon-small-proctor-shield>\n      <span bb-translate>components.services.proctoring.outline.proctored</span>\n    </span>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date"\n       ng-class="{\'is-late\': contentItemBase.isLate}" ng-switch="dueDate != null">\n    \x3c!-- submission card --\x3e\n    \x3c!--  TODO: submissionCard is disabled until LRN-101279 is fixed --\x3e\n    \x3c!-- <bb-submission-card ng-if="gradeDetail"  grade-detail="gradeDetail" inline="true"></bb-submission-card>\n    <bb-submission-card ng-if="!gradeDetail" grading-column="gradingColumn" inline="true"></bb-submission-card> --\x3e\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-switch-default class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-switch-when="true" class="content-no-due-date-label" ng-if="!dueDate">components.directives.content-item-base.no-due-date</span>\n    <span bb-translate ng-switch-when="true"\n          class="content-due-date-label" ng-if="dueDate">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-switch-when="true" class="content-due-date" ng-if="dueDate"></bb-datetime>\n    <span ng-if="content.getTimedTestDetail().hasTimeLimit" class="time-limit ellipse">\n      <span class="vertical-bar"></span>\n      <span bb-translate>components.directives.content-item-base.time-limit</span>\n      <span ng-bind-html="content.getTimedTestDetail().displayedTimeLimitSeconds | timeSpan: \'m\': this "></span>\n    </span>\n    <span class="content-item-course-outline__proctored-tag" ng-if="contentItemCourseOutline.displayProctoredTag()">\n      <span class="vertical-bar"></span>\n      <bb-ui-icon-small-proctor-shield\n        class="content-item-course-outline__proctored-icon"\n        class-name="content-item-course-outline__proctored-icon-svg"\n      >\n      </bb-ui-icon-small-proctor-shield>\n      <span bb-translate>components.services.proctoring.outline.proctored</span>\n    </span>\n  </div>\n  <bb-content-item-peer-assessment ng-if="content.id" content="content"></bb-content-item-peer-assessment>\n  <div ng-if="contentItemBase.isModifyPermissionLoaded && content.canHaveAttempts() && content.isGroupContent" class="group-info">\n    <div class="guidance-wrapper">\n      <div class="group-name">\n        <span><bb-svg-icon size="small" icon="groups"></bb-svg-icon></span>\n        <span class="group-target-guided" bb-guidance-target component-key="contentGroupInfo"\n              ng-if="!contentItemBase.contextCourse.course.isComplete()">\n        </span>\n        <a ng-if="contentItemBase.hasViewGroupsAsAdmin"\n           class="js-groups-link"\n           href="javascript:void(0);"\n           ng-click="contentItemBase.editGroups()"\n           analytics-id="content.item.course.outline.contentItemBase.editGroups.link">\n          <bb-group-count content="content"></bb-group-count>\n        </a>\n        <span ng-if="contentItemBase.canViewGroups && !contentItemBase.hasViewGroupsAsAdmin" class="js-groups-link">\n          <bb-group-count content="content"></bb-group-count>\n        </span>\n        <div ng-if="!(contentItemBase.canViewGroups || contentItemBase.hasViewGroupsAsAdmin)" class="student-group-enrollment">\n          <bb-group-student-enrollment content="content"></bb-group-student-enrollment>\n        </div>\n        \x3c!-- For complete course, will not show this guidance: LRN-107718 --\x3e\n        <span>\n          <bb-guidance ng-if="!contentItemBase.contextCourse.course.isComplete() && !contentItemBase.entitledToDesignAssessment" component-key="contentGroupInfo"\n                       class="guidance-element-group guidance-is-empty-student guidance-element-overlay push-left">\n            <span bb-translate="{{::contentItemCourseOutline.groupAssessmentFtueKey}}" translate-values="{title: contentItemCourseOutline.customCategory}"></span>\n          </bb-guidance>\n        </span>\n      </div>\n    </div>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.isConditionalReleaseLocked()"\n    role="tooltip"\n    aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n    tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"\n    class="lock-info"\n    bb-complex-tooltip\n    enhanced-tooltip="true"\n    tooltip-position="bottom"\n    tooltip-open-on-activation="true"\n    tooltip-disable-on-mouse-over="false"\n    tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n    tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}">\n    <span bb-translate="components.directives.content-item-base.conditionalRelease.lock-info"></span>\n    <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n  </div>\n  <div class="name-controls stop-click-propagation"\n    ng-class="{\n      \'name-conditional-release\': !content.canViewAsInstructor() && content.isConditionalReleaseLocked(),\n      \'selector-disabled\': content.isInForcedSequenceModule()\n    }"\n    ng-if="contentItemBase.showVisibility()">\n    <bb-content-visibility-selector content="content"\n                                    link-content="contentItemBase.targetContent"\n                                    onchange-func="contentItemBase.updateContentVisibility()"\n                                    open-panel-on-restricted="true"\n                                    enable-conditional-release="content.canAccessAdaptiveRelease()"\n                                    disable-restricted="contentItemBase.disableRestricted"\n                                    verbose-restricted-label="true"></bb-content-visibility-selector>\n  </div>\n  <div ng-if="content.canViewAsInstructor() && content.isConditionalRelease()" class="conditional-release-control"\n       ng-class="{\'conditional-release-control-for-complete-course\': contentItemCourseOutline.isCourseCompletedAndInInstructorView()}">\n    <div class="rules">\n      <a href="javascript:void(0);"\n        ng-click="contentItemCourseOutline.canOpenConditionalRelease && contentItemCourseOutline.openConditionalRelease()"\n        bb-complex-tooltip\n        enhanced-tooltip="true"\n        tooltip-position="bottom"\n        tooltip-disable-on-mouse-over="{{!contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-enable-on-mouse-leave-for-all-breakpoints="{{contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-enable-on-mouse-over-for-all-breakpoints="{{contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-open-on-activation="{{!contentItemCourseOutline.canOpenConditionalRelease}}"\n        tooltip-auto-update="true"\n        tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n        tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}"\n        analytics-id="components.directives.content-item-base.conditionalRelease.link">\n        <span>{{contentItemBase.conditionalRelease.getConditionDescription()}}</span>\n        <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n      </a>\n    </div>\n  </div>\n</div>\n'},"/hmo":function(e,t){e.exports='<ng-switch on="targetContent.contentHandler.toString()">\n  <a ng-switch-when="resource/x-bb-blti-link" \n     bb-component-sref="{{prefix}}.engagement.edit({contentId:\'{{targetContent.id}}\'})"\n     class="content-title"\n     analytics-id="course.content.lti.link"><span>{{ content.title }}</span></a>\n</ng-switch>\n'},"/jNt":function(e,t,n){"use strict";n("t04/"),n("kH1j");var i=n("Llzl"),s=n("UP3t"),a=n("pjml"),o=n("z6Q5"),r=n("TnpK"),l=n("gkef"),c=n("ZzYr"),d=n("0JpG");n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));const u="ultra.directives.courseCatalogLink",m="course",p="org",h="ultraui.coursecatalog.link",g="ultraui.organizationcatalog.link",b="classic_course_catalog_link_ind",f="classic_course_catalog_link",v={[h]:"Disabled",[g]:"Disabled",[b]:"N",[f]:""};class y{constructor(e,t,n,i,a,o,r,l){this.scope=e,this.attrs=t,this.$q=n,this.SystemPreferenceModel=i,this.batchService=a,this.ultraState=o,this.windowSizeService=r,this.bbLocalize=l,this.template=s,a.performBatch((()=>{n.all([i.$find(this.getCatalogLinkKey()).$allow([404]).$asPromise(),i.$find(b).$allow([404]).$asPromise(),i.$find(f).$allow([404]).$asPromise()]).then((e=>{this.handleSystemPreferencesResponse(e)}))}));const c=t.catalogType===p?"base.organization-catalog":"base.course-catalog";e.handleCatalogLink=()=>{o.goToRoute(c)},e.windowSizeService=r,r.isLargeBreakpoint()||this.bbLocalize.loadBundle("base/baseCourses").then((()=>{e.ariaLabel=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"base.baseCourses.link"})}))}handleSystemPreferencesResponse(e){const t=this.getPreferenceValueByKey(e,this.getCatalogLinkKey())||v[this.getCatalogLinkKey()];this.scope.shouldDisplayCatalogLink="Enabled"===t;const n=this.getPreferenceValueByKey(e,b)||v[b];this.scope.isExternalCatalog="Y"===n,this.scope.externalCatalogUrl=this.getPreferenceValueByKey(e,f)||v[f]}getPreferenceValueByKey(e,t){const n=e.find((e=>e.key===t));return n?n.value:null}getCatalogLinkKey(){return this.attrs.catalogType===m?h:g}}y.$inject=["scope","attrs","$q",a.qb.serviceName,o.b,r.d,l.b,d.serviceName];class k{constructor(e){this.$injector=e,this.template=s,this.link=(e,t,n)=>{e.courseCatalogLink=this.$injector.instantiate(y,{scope:e,element:t,attrs:n})}}}k.$inject=["$injector"],i.module(u,[a.N,o.a,r.b,l.a,c.a]).directive("bbCourseCatalogLink",["$injector",e=>e.instantiate(k)])},"/qpZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Llzl"),s=n("+4Px");const a="ultra.directives.accessibility.keyboardEnter";class o{constructor(){this.restrict="A",this.link=(e,t,n)=>{t.on("keydown keypress",(i=>{i.keyCode===s.f&&(n.bbBlurBeforeEnter&&t.blur(),e.$apply((function(){e.$eval(n.bbKeyboardEnter,{$event:i})})),i.preventDefault())}))}}}i.module(a,[]).directive("bbKeyboardEnter",["$injector",e=>e.instantiate(o)])},"/z4E":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("Llzl"),s=n("Oyr+"),a=n("0JpG"),o=n("Vsv2"),r=n("zXZW"),l=n("pjml"),c=n("12mu"),d=n("lEL+"),u=n("DMV0"),m=n("ol3u");const p="ultra.directives.bbCloudStorageIntegration";class h{constructor(e,t,n,i,s,a,o,r){this.scope=e,this.$q=t,this.$exceptionHandler=n,this.bbLocalize=i,this.$modal=s,this.CloudDriveModel=a,this.CloudDriveTaskModel=o,this.timeout=r,this.bbLocalize.loadBundle("components/directives/cloudStorageIntegration")}getFileId(e){return e.account+"|"+e.id}onFileSelect(e){this.scope.$emit(s.d,e,this.scope.primaryKey&&this.scope.primaryKey()),this.scope.onFilesSelected&&this.scope.onFilesSelected(e)}getDownloadFileInfo(e){const t=this.getFileId(e);return this.CloudDriveModel.$new("CloudStorageIntegration").contents.$new(t).$fetch({accessToken:this.accessToken}).$asPromise()}downloadFiles(e,t,n,i){const a={accessToken:this.accessToken,expand:"mimeType,isMedia"};this.scope.fileLocation&&(a.fileLocation=this.scope.fileLocation),this.scope.webLocation&&(a.webLocation=this.scope.webLocation),(n?this.CloudDriveTaskModel.$new(i||e.id):this.CloudDriveModel.$new("CloudStorageIntegration").contents.$new(i||e.id).download).$fetch(a).$then((n=>{if("COMPLETE"===n.status){const i=this.scope.$on(s.e,((a,o,r)=>{r!==s.c.UploadProgressComplete||e.ui.fileId&&o!==e.ui.fileId||(this.attachHandler(n,e,t),i())}))}else this.timeout((()=>{this.downloadFiles(e,t,!0,n.taskId)}),this.scope,2e3);(n.completePercentage<100||"COMPLETE"===n.status)&&this.scope.$root.$broadcast(s.e,e.ui.index,n.completePercentage,null,s.c.UpdateProgress,e.inProgressFileId,e.ui.targetDiv,e.ui.fileId)}),(t=>{this.displayUploadError(),this.scope.$root.$broadcast(s.e,e.ui.fileId,e,s.c.Error,e.ui.targetDiv,this.scope.primaryKey&&this.scope.primaryKey()),this.$exceptionHandler(t,"source")}))}attachHandler(e,t,n){const i=this.$q.defer(),s={fileName:null,fileLocation:null};return e&&(s.fileName=e.fileName,s.fileLocation=e.fileLocation,s.webLocation=e.webLocation,s.mimeType=e.mimeType,s.isMedia=e.isMedia),this.scope.attachHandler(s,t,this.scope.isUploadMultipleFiles,void 0,n).then((e=>{i.resolve(e)}),(e=>{i.reject(e)})),i.promise}displayUploadError(){this.$modal.open({template:u,scope:this.scope})}}h.$inject=["scope","$q","$exceptionHandler",a.serviceName,c.b,l.h.serviceName,l.i.serviceName,d.b];class g{constructor(e,t,n,s,a){this.$injector=e,this.$q=t,this.$modal=n,this.CloudDriveService=s,this.bbLocalize=a,this.scope={attachHandler:"=",isFlatten:"=?",primaryKey:"&?",primaryKeyValue:"@?",fileLocation:"@?",webLocation:"@?",disableClick:"&?",allowMultiple:"=?",onFilesSelected:"=?",onCancelFocus:"=?"},this.restrict="A",this.link=(e,t,n)=>{const s=this;e.cloudStorageIntegration=this.$injector.instantiate(h,{scope:e}),e.folderBranchCounts=0,e.isInitialized=!!s.CloudDriveService.cloudDriveStorage,e.isInitialized||s.CloudDriveService.initializeCloudDrive();const a=function(t){const n=[];if(t&&t.length>0){for(let i=0;i<t.length;i++)n.push(e.cloudStorageIntegration.getDownloadFileInfo(t[i]));s.$q.all(n).then((t=>{s.CloudDriveService.isGettingFilesInfo=!1,e.cloudStorageIntegration.onFileSelect(t),t.length>1&&(e.isUploadMultipleFiles=!0)}),(()=>{s.CloudDriveService.isGettingFilesInfo=!1}))}};t.on("click",(()=>{if((!e.disableClick||!e.disableClick())&&e.isInitialized){const n=this.bbLocalize.getLocale(e);s.CloudDriveService.cloudDriveStorage.openFilePicker(n,e.allowMultiple).then((n=>{if((n||[]).length>0){if(!n[0]||!n[0].bearer_token||!n[0].bearer_token.key)return void this.$modal.open({template:m,scope:e});e.cloudStorageIntegration.accessToken=n[0].bearer_token.key,s.CloudDriveService.isGettingFilesInfo=!0,i.isDefined(e.allowMultiple)&&!1===e.allowMultiple&&n.length>1?a([n[0]]):a(n)}else e.onCancelFocus?e.onCancelFocus():t.focus()})),e.$on("$destroy",(()=>{s.CloudDriveService.isGettingFilesInfo=!1,t.off("click")}))}})),e.$on("downloadFile",((t,n,i)=>{n.ui.primaryKey===(e.primaryKey&&e.primaryKey())&&n.file.$url().indexOf("CloudStorageIntegration")>=0&&e.cloudStorageIntegration.downloadFiles(n,i)}))}}}g.$inject=["$injector","$q","$modal",o.b,a.serviceName],i.module(p,[a.moduleName,o.a,r.a,c.a,d.a]).directive("bbCloudStorageIntegration",["$injector",e=>e.instantiate(g)])},0:function(e,t){},"0+Qs":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n("Llzl"),s=n("5MwF");const a="ultra.services.interval",o="interval";i.module(a,[]).factory(o,["$interval",e=>{const t=(t,n,i,a,o)=>{if(!s.a.production&&i<5e3&&!a&&(null==o||o)){if(i<1e3)throw new Error("Short duration interval, repeating indefinitely, which invokes apply was registered!");console.warn("Short duration interval, repeating indefinitely, which invokes apply was registered!\n"+(new Error).stack)}const r=e(t,i,a,o);return r.__bb_unregister_scope_destroy__=n.$on("$destroy",(()=>{e.cancel(r)})),r};return t.cancel=t=>{t&&t.__bb_unregister_scope_destroy__&&(t.__bb_unregister_scope_destroy__(),t.__bb_unregister_scope_destroy__=null),e.cancel(t)},t}])},"0/Nk":function(e,t){e.exports='<div class="group-student-self-enroll-directive" bb-load-bundle="components/directives/group/group-student-enrollment">\n  <div ng-if="$ctrl.content.assignedGroups.length > 0">\n    <span ng-if="!$ctrl.isOpenEnrollment()" class="ellipse title">\n      {{$ctrl.content.assignedGroups[0].groupTitle}}\n    </span>\n    <a ng-if="$ctrl.isSelfEnrollment && $ctrl.isOpenEnrollment()" class="self-enroll-link js-self-enroll-link"\n       href="javascript:void(0);" ng-click="$ctrl.openContentEnrollPanel()"\n       analytics-id="components.directives.group-student-enrollment.groupTitle.link">\n      {{$ctrl.content.assignedGroups[0].groupTitle}}\n    </a>\n  </div>\n  <span ng-if="!($ctrl.content.assignedGroups.length > 0) && !$ctrl.isSelfEnrollment" class="ellipse title" bb-translate\n        translate-values="{title: components.directives.group-student-enrollment.unknown}">\n    components.directives.group-student-enrollment.unknown\n  </span>\n  <div ng-if="!($ctrl.content.assignedGroups.length > 0) && $ctrl.isSelfEnrollment">\n    <div ng-if="$ctrl.isOpenEnrollment()">\n      <a href="javascript:void(0);" ng-click="$ctrl.openContentEnrollPanel()" class="self-enroll-link js-self-enroll-link"\n         bb-translate analytics-id="components.directives.group-student-enrollment.self-enroll-to-participate">components.directives.group-student-enrollment.self-enroll-to-participate</a>\n    </div>\n    <div ng-if="$ctrl.isBeforeEnrollment()" class="self-enroll-date" translate-values="{time: $ctrl.selfEnrollGroupInfo.relativeDate}"\n         bb-translate>components.directives.group-student-enrollment.enrollment-starts</div>\n    <div ng-if="$ctrl.isOpenEnrollmentWithEnding()" class="self-enroll-date"\n         ng-class="{\'is-important\': $ctrl.selfEnrollGroupInfo.isEnrollmentDateImportant}"\n         translate-values="{time: $ctrl.selfEnrollGroupInfo.relativeDate}"\n         bb-translate>components.directives.group-student-enrollment.enrollment-closes</div>\n    <div ng-if="$ctrl.isAfterEnrollment()" class="self-enroll-date"\n         bb-translate>components.directives.group-student-enrollment.enrollment-closed</div>\n  </div>\n</div>\n'},"01PJ":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-post",use:"icon-small-post-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-post"><path d="M9 15L1 9l14-8-6 14zM5 12L15 1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M5 12v3l1.5-1.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"06yj":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("6/tG");const a="ultra.components.directives.bbUiIcon.large.DocumentCloud";Object(i.a)(s.a,a,"bbUiIconLargeDocumentCloud")},"07HN":function(e,t){e.exports='<div tabindex="-1" id="{{::addContentButton.getButtonWrapperId()}}">\n  <button\n    aria-expanded="{{addContentButton.isMenuVisible}}"\n    aria-label="{{addContentButton.addButtonAriaLabel}}"\n    ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n    ng-focus="addContentButton.showButton()"\n    ng-blur="addContentButton.hideButton()"\n    class="button-add-content"\n    id="{{::addContentButton.getTargetId()}}"\n    ng-click="addContentButton.toggleAddContentMenu()"\n    analytics-id="components.directives.add-content-button.grades.button"\n  >\n  </button>\n</div>\n<bb-ui-contextual-menu\n  items="addContentButton.items"\n  target-id="::addContentButton.getTargetId()"\n  show="addContentButton.isMenuVisible"\n  directional-hint="::addContentButton.getDirectionalHint()"\n  dismiss="addContentButton.hideAddContentMenu"\n  analytics-id="components.directives.add-content-button.contextualMenu"\n>\n</bb-ui-contextual-menu>'},"07uq":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("Llzl");const s="ultra.directives.bbMouseLeaveEnter";class a{constructor(e){this.$rootScope=e,this.restrict="A",this.link=(e,t,n)=>{const i=()=>{e.$apply((()=>{this.$rootScope.$broadcast(n.bbMouseLeaveEnter+"-mouse-enter")}))},s=()=>{e.$apply((()=>{this.$rootScope.$broadcast(n.bbMouseLeaveEnter+"-mouse-leave")}))};e.$on("$destroy",(()=>{t.off("mouseenter",i),t.off("mouseleave",s)})),t.on("mouseenter",i),t.on("mouseleave",s)}}}a.$inject=["$rootScope"],i.module(s,[]).directive("bbMouseLeaveEnter",["$injector",e=>e.instantiate(a)])},"0AOT":function(e,t,n){e.exports=n.p+"29560560fa9ff2c494c76c86210daa15.png"},"0B2D":function(e,t){e.exports='<bb-modal class="notification" modal-title-key="course.content.assessment.alreadySubmitted.title"\n  analytics-id-tag-prefix="course.content.assessment.alreadySubmitted">\n  <div name="modal-contents">\n    <p bb-translate>course.content.assessment.alreadySubmitted.backend</p>\n  </div>\n  <button name="modal-footer-button-primary" ng-click="$parent.$close(); customClose();"\n    class="button confirm-ok js-primary-button ng-scope" bb-translate\n    analytics-id="course.content.groupAttempt.edit.alreadySubmitted.dismiss">\n    course.content.groupAttempt.edit.alreadySubmitted.dismiss\n  </button>\n</bb-modal>\n'},"0BVo":function(e,t){e.exports='<bb-modal role="alertdialog" class="notification gradebook-upload-failed-modal upload-failed-button" bb-translate-attrs="{\'aria-label\': \'course.grades.grades-upload-settings.failedToUpload.title\'}" \n          modal-title-key="course.grades.grades-upload-settings.failedToUpload.title" aria-describedby="failed-to-upload"\n          analytics-id-tag-prefix="course.grades.gradesUploadSettingsFailed">\n<div name="modal-contents">\n    <p id="failed-to-upload" translate-values="{ count: failedItemsCount, errorItems: failedItems }"\n       bb-translate="course.grades.grades-upload-settings.failedToUpload.content.plural"></p>\n</div>\n  <button name="modal-footer-button-primary" \n          class="button js-discard-changes js-primary-button failed-to-upload-button" \n          ng-click="$dismiss()"\n          analytics-id="course.grades.gradesUploadSettingsFailed.closeButton.button">\n      <span bb-translate="course.grades.grades-upload-settings.closeButton"></span>\n  </button>\n</bb-modal>'},"0JpG":function(e,t,n){"use strict";n.d(t,"moduleName",(function(){return m})),n.d(t,"serviceName",(function(){return p})),n.d(t,"providerName",(function(){return h})),n.d(t,"localeQuerystringRegex",(function(){return g})),n.d(t,"Service",(function(){return v}));var i=n("D57K"),s=n("nsO7"),a=n("Llzl"),o=n("5MwF"),r=n("lAEu"),l=n("n7/H"),c=n("m2oH"),d=n("C3Ga"),u=n("tfZW");n.o(l,"ILocaleComposedDurationFormat")&&n.d(t,"ILocaleComposedDurationFormat",(function(){return l.ILocaleComposedDurationFormat})),n.o(l,"ILocaleDateFormat")&&n.d(t,"ILocaleDateFormat",(function(){return l.ILocaleDateFormat})),n.o(l,"ILocaleDatetimeFormat")&&n.d(t,"ILocaleDatetimeFormat",(function(){return l.ILocaleDatetimeFormat})),n.o(l,"ILocaleTimeFormat")&&n.d(t,"ILocaleTimeFormat",(function(){return l.ILocaleTimeFormat})),n.o(l,"ILocaleTimezoneFormat")&&n.d(t,"ILocaleTimezoneFormat",(function(){return l.ILocaleTimezoneFormat})),n.o(l,"LocaleCategory")&&n.d(t,"LocaleCategory",(function(){return l.LocaleCategory})),n.o(l,"PreferredDisplayName")&&n.d(t,"PreferredDisplayName",(function(){return l.PreferredDisplayName})),n.d(t,"ILocaleUsernameFormat",(function(){return l.ILocaleUsernameFormat}));const m="ultra.services.BbLocalize",p="bbLocalize",h=p+"Provider",g=/setLang=([^&]*)/,b=function(e,t,n){const i=n.value;n.value=function(...e){return this.$q.when(i.apply(this,e))}};class f{constructor(e,t){this.$q=e,this.$rootScope=t,this.defaultLocale="en",this.percentageFormatters={},this.currencyFormatters={},this.bundlePromises={},this.intl=d.a.getInstance(),this.frmt=new r.a(this.intl,{production:f.production,urlRoot:f.urlRoot,defaultLocale:this.defaultLocale}),this.overrideLoader=u.a.getInstance()}isRTL(e){if(!o.a.features.rightToLeftSupport)return!1;const t=this.getAppLocale();return Object(c.a)(t)}getDecimalStringForScope(e){const t=this.getLocale(e);return this.frmt.number.getDecimalStringSync(t)}getGroupingStringForScope(e){const t=this.getLocale(e);return this.frmt.number.getGroupingStringSync(t)}setUltraLocaleData(e){this.frmt.setUltraLocaleData(this.normalizeLocaleData(e))}normalizeLocaleData(e){const t={};for(const n of Object.keys(e))t[this.preProcessFormatterLocale(n)]=e[n];return t}isValidNumber(e,t){const n=this.getLocale(t);return this.frmt.number.isValidSync(e,n)}loadBundle(e,t){null==t&&(t=this.getLocale(null));const n="locales/[locale]/"+e+".json";return this.intl.addBundles(n),this.intl.loadBundles(t)}loadAllBundles(e){return this.intl.loadBundles(e)}insertLocaleData(e,t){return this.intl.storeLocaleData(e,t)}resetLocaleData(){return this.intl.reset()}translateSync(e){let t=e?{...e.params}:{};return Object.keys(t).forEach((e=>{void 0===t[e]&&(t[e]="")})),t=this.frmt.processTranslationParams(t,{locale:e.locale,noWrap:e.noWrap,noEscape:e.noEscape}),this.intl.translateSync(e.locale||this.getLocale(null),e.key,t)}translate(e){let t=e?e.params:{};return t=this.frmt.processTranslationParams(t,{locale:e.locale,noWrap:e.noWrap,noEscape:e.noEscape}),this.intl.translate(e.locale||this.getLocale(null),e.key,t)}_getFormatter(e){return this.frmt.getFormatterSync(e)}getAppLocale(){return this.intl.normalizeLocale(this.getUserLocale()||this.defaultLocale)}getAppLocaleISO(){return this.getUserLocale()||this.defaultLocale}getLocale(e){if(!e)return this.getAppLocale();let t=e.locale;for(;!t&&e.$parent;)t=(e=e.$parent).locale;return this.intl.normalizeLocale(t)||this.getAppLocale()}getUserLocale(){return this.userLocale}preProcessFormatterLocale(e){return this.frmt.preProcessFormatterLocale(e)}getPreferredLocales(e){return this.intl.normalizeLocales(this.frmt.getPreferredLocales(e))}validateLocale(e){try{this.intl.getMf("isLocaleExists",this.intl.normalizeLocale(e))}catch(e){return!1}return!0}setLocale(e,t){return t||(t=this.getAppLocale()),e&&(e.locale=t),this.loadLocale(t).then((()=>{this.$rootScope.$broadcast("$translateChangeSuccess",{language:t})}))}setUserLocale(e){this.userLocale=e}setSystemDefaultLocale(e){this.defaultLocale=e}addOverride(e,t){this.overrideLoader.addOverrideBundle(e,t)}loadLocale(e){return this.frmt.loadLocale(e)}formatNumber(e,t,n){const i=this.getLocale(t);return this.frmt.number.format(e,i,n)}formatNumberSync(e,t,n){const i=this.getLocale(t);return this.frmt.number.formatSync(e,i,n)}regroupNumber(e,t){const n=this.getLocale(t);return this.frmt.number.regroup(e,n)}regroupNumberSync(e,t){const n=this.getLocale(t);return this.frmt.number.regroupSync(e,n)}parseNumber(e,t){const n=this.getLocale(t);return this.frmt.number.parse(e,n)}parseNumberSync(e,t){const n=this.getLocale(t);return this.frmt.number.parseSync(e,n)}formatDate(e,t,n){const i=this.getLocale(n);return this.frmt.datetime.formatDate(e,t,i)}formatDateSync(e,t,n){const i=this.getLocale(n);return this.frmt.datetime.formatDateSync(e,t,i)}parseDate(e,t,n,i){const s=this.getLocale(n);return this.frmt.datetime.parseDate(e,t,s,i)}parseDateSync(e,t,n,i){const s=this.getLocale(n);return this.frmt.datetime.parseDateSync(e,t,s,i)}formatTime(e,t,n){const i=this.getLocale(n);return this.frmt.datetime.formatTime(e,t,i)}formatTimeSync(e,t,n){const i=this.getLocale(n);return this.frmt.datetime.formatTimeSync(e,t,i)}getDayPeriodsFormatSync(e){return this.frmt.getFormatterSync(e).cldr.main("dates").calendars.gregorian.dayPeriods.format.abbreviated}getTimePattern(e,t){const n=this.getLocale(t);return this.frmt.datetime.getTimePattern(e,n)}getTimePatternSync(e,t){const n=this.getLocale(t);return this.frmt.datetime.getTimePatternSync(e,n)}parseTime(e,t,n,i){const s=this.getLocale(n);return this.frmt.datetime.parseTime(e,t,s,i)}parseTimeSync(e,t,n,i){const s=this.getLocale(n);return this.frmt.datetime.parseTimeSync(e,t,s,i)}formatDatetime(e,t,n){const i=this.getLocale(n);return this.frmt.datetime.formatDatetime(e,t,i)}formatDatetimeSync(e,t,n){const i=this.getLocale(n);return this.frmt.datetime.formatDatetimeSync(e,t,i)}formatDurationBetweenSync(e,t,n,i){const s=this.getLocale(n);return this.frmt.datetime.formatDurationBetweenSync(e,t,s,i)}formatDuration(e,t,n,i){const s=this.getLocale(t);return this.frmt.datetime.formatDuration(e,s,n,i)}formatComposedDurationSync(e,t,n){const i=this.getLocale(n);return this.frmt.datetime.formatComposedDurationSync(e,t,i)}formatTimezone(e,t,n){const i=this.getLocale(n);return this.frmt.datetime.formatTimezone(e,t,i)}formatTimezoneSync(e,t,n){const i=this.getLocale(n);return this.frmt.datetime.formatTimezoneSync(e,t,i)}formatUsername(e,t,n,i){const s=this.getLocale(n);return this.frmt.username.format(e,t,s,i)}formatUsernameSync(e,t,n,i){const s=this.getLocale(n);return this.frmt.username.formatSync(e,t,s,i)}formatUsernameList(e,t,n,i){const s=this.getLocale(n);return this.frmt.username.formatList(e,t,s,i)}formatItems(e,t,n,i,s){const a=this.getLocale(n);return this.frmt.items.format(e,e.length,t,a,i,s)}formatItemsSync(e,t,n,i,s,a){const o=this.getLocale(i);return this.frmt.items.formatSync(e,t,n,o,s,a)}getFormatEnum(e,t){if(!t)return null;const n=e[t=t.charAt(0).toUpperCase()+t.slice(1)];if(null==n)throw new Error("Invalid format `"+t+"` is used");return n}getFormatId(e,t){if(null==t)return 0;const n=e[t=t.charAt(0).toUpperCase()+t.toLowerCase().slice(1)];if(null==n)throw new Error("Invalid format `"+t+"` is used");return n}formatPercentage(e,t){const n=this.getLocale(t);return this.frmt.number.format(e,n,{style:"percent"})}formatPercentageSync(e,t,n){const i=this.getLocale(t);return this.frmt.number.formatSync(e,i,{style:"percent",maximumFractionDigits:n})}formatCurrency(e,t,n,i){const s=this.getLocale(t);return this.frmt.currency.format(e,s,n,i)}formatCurrencySync(e,t,n,i){const s=this.getLocale(t);return this.frmt.currency.formatSync(e,s,n,i)}getReactBabelfishParams(e){return{locale:this.getLocale(e),babelfishInstance:this.intl,babelfishFormatter:this.frmt,isRtl:this.isRTL()}}}f.$inject=["$q","$rootScope"],f.production=!1,f.urlRoot=".",f.defaultDecimalPrecision=l.Number.defaultDecimalPrecision,f.minDecimalPrecision=1,f.maxDecimalPrecision=4,Object(i.a)([b],f.prototype,"loadBundle",null),Object(i.a)([b],f.prototype,"translate",null),Object(i.a)([b],f.prototype,"formatNumber",null),Object(i.a)([b],f.prototype,"regroupNumber",null),Object(i.a)([b],f.prototype,"parseNumber",null),Object(i.a)([b],f.prototype,"formatUsername",null),Object(i.a)([b],f.prototype,"formatUsernameList",null),Object(i.a)([b],f.prototype,"formatPercentage",null);class v extends f{}class y{constructor(){this.$get=["$injector",e=>e.instantiate(f)]}setOptions(e={}){s.forOwn(e,((e,t)=>{f[t]=e}))}}a.module(m,[]).provider(p,y)},"0Y4C":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-collab",use:"icon-small-collab-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-collab"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 3h10v3l4-1.974V12l-4-2v3H1V3z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M4 6l1 2-1 2M7.5 6l1 2-1 2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"0fB1":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var i=n("nsO7"),s=n("Llzl"),a=n("5MwF"),o=n("w9Zy");const r="ultra.offcanvas-scope.offcanvas-scope-pausal-scope",l="bbOffcanvasPausalScope";class c{constructor(){this.restrict="A",this.link=function(t,n,s){const r=function(e){return e.hasClass("bb-offcanvas-overlay")&&((t=e.next()).hasClass("bb-offcanvas-panel")&&(t.hasClass("full")||(n=t.css("max-width"),i.findIndex([void 0,"none"],(e=>e===n))>=0)));var t,n};t.$newOffcanvasScope=function(...e){const t=this.constructor.prototype.$new.apply(this,e);return t.$$__digestPaused=!1,t};const c=()=>{t.$$__digestPaused=function(){const t=n.is(".hide-in-background")?n:n.parents(".hide-in-background");return"true"===t.attr("aria-hidden")&&(()=>{const n=t.nextAll();for(let t=0;t<n.length;t+=2)if(r(e(n.get(t))))return!0;return!1})()}(),!1!==t.$$__digestPaused||t.$root.$$phase||t.$digest()};if(t.$on(o.c,c),t.$on(o.b,c),!a.a.production){const e=function(t){return t?e(t.$parent)+"."+t.$id+(t.$$digestPaused?"P":"A"):""},n=function(){s.$set(l,e(t))};t.$on(o.c,n),t.$on(o.b,n),n()}}}}s.module(r,[]).directive(l,["$injector",e=>e.instantiate(c)])}).call(this,n("71td"))},"0lMW":function(e,t,n){},"0rzL":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("D57K"),s=(n("eWdw"),n("Llzl")),a=n("ckcj"),o=n("dJ97"),r=n("aHpC"),l=n("Bu0u"),c=n("UODz"),d=n("zGdY");const u="ultra.components.directives.submissionCard";var m;!function(e){e.Attempt="ATTEMPT",e.Grade="GRADE",e.Info="INFO"}(m||(m={}));let p=class{constructor(e){if(this.scope=e,!e.gradingColumn&&!e.gradeDetail)throw new l.a({message:"gradingColumn or gradeDetail must be provided."});if(this.scope.gradeDetail&&!this.scope.gradeDetail.column)throw new l.a({message:"gradeDetail.column must be provided to display attempt mode."});let t,n;switch(this.scope.gradeDetail&&(this.scope.gradeDetail.ui.groupAttempt||this.scope.gradeDetail.ui.attempt)&&(this.attempt=this.scope.gradeDetail.ui.groupAttempt||this.scope.gradeDetail.ui.attempt,this.currentGradeStatus=this.scope.gradeDetail.ui.attempt.status),(!e.gradeDetail||e.gradeDetail&&!this.attempt)&&e.gradingColumn?this.scope.mode=m.Info:e.gradeDetail&&this.attempt&&(this.scope.mode=m.Attempt,this.scope.gradingColumn=this.scope.gradeDetail.column),this.showLate=!e.showLate||e.showLate(),e.mode){case m.Info:n=e.gradingColumn.dueDate?"DUE":"NO_DUE_DATE",t=this.showLate?"UNOPENED_LATE":"UNOPENED";break;case m.Attempt:n=this.attempt.status.toString(),e.hasAttempt=!0,t=d.l.InProgress===this.attempt.status&&this.showLate?"SUBMISSION_LATE":"SUBMISSION";case m.Grade:}e.status="components.directives.submission-card.attemptStatus."+n,e.title="components.directives.submission-card.title."+t}shouldExpandForRubricIcon(){return(this.scope.showRubricButton&&this.scope.showRubricButton()||this.scope.showRubricDiv&&this.scope.showRubricDiv())&&this.scope.gradingColumn.hasRubricAssociation&&this.scope.gradingColumn.hasRubricAssociation()}get showLateIcon(){return this.showLate&&(!this.scope.gradeDetail||!this.attempt||this.attempt.isInProgress())}};p=Object(i.a)([Object(i.c)(0,Object(r.b)("scope"))],p);let h=class{constructor(e){this.$injector=e,this.restrict="AE",this.template=c,this.scope={gradeDetail:"=?",gradingColumn:"=?",inline:"@?",clickable:"=?",showLate:"&?",showRubricButton:"&?",showRubricDiv:"&?"},this.link=e=>{e.submissionCard=this.$injector.instantiate(p,{scope:e})}}};h=Object(i.a)([Object(i.c)(0,Object(r.b)("$injector"))],h),s.module(u,[a.a,o.a]).directive("bbSubmissionCard",["$injector",e=>e.instantiate(h)])},"0wat":function(e,t){e.exports='<div id="body-content" class="tools-frame" ng-controller="ultra.legacy.tool.controller">\n  <div id="side-panel" class="tools-overlay full bb-offcanvas-right side-panel">\n    <div class="panel-wrap">\n      <header class="panel-header">\n        <div class="columns" id="global-title">\n          <h1 class="panel-title ng-scope" bb-translate="{{tool.getToolTitleByKey(legacyTool.toolName)}}"></h1>\n          <button class="left-off-canvas-toggle menu-toggle" aria-expanded="true"\n                  analytics-id="base.tools.frame.menu.button">\n            <bb-svg-icon size="small" icon="main-menu"></bb-svg-icon>\n            <span class="sr-only" bb-translate>base.menu</span>\n          </button>\n        </div>\n      </header>\n      <div class="iframe-wrapper">\n        <iframe name="legacy-tool-iframe" bb-iframe-max-height seamless="seamless" ng-src="{{::legacyTool.getUrl()}}"\n                bb-iframe-event-repeater="keydown"\n                bb-translate-attrs="{\'title\': \'{{tool.getToolTitleByKey(legacyTool.toolName)}}\'}"></iframe>\n      </div>\n    </div>\n  </div>\n</div>\n'},1:function(e,t){},"1/43":function(e,t,n){"use strict";n.r(t),n.d(t,"EmailSettingGeneralSettingValue",(function(){return i})),n.d(t,"SmsSettingGeneralSettingValue",(function(){return s})),n.d(t,"PushNotificationGeneralSettingValue",(function(){return a})),n.d(t,"serviceName",(function(){return d}));n("QLzv");var i,s,a,o=n("5MwF"),r=n("yCC5"),l=n("Rjd/"),c=n("nkTj");!function(e){e.Digest="D",e.Immediate="I",e.None="N"}(i||(i={})),function(e){e.Enabled="A",e.Disabled="N"}(s||(s={})),function(e){e.Everyone="E",e.Instructor="I"}(a||(a={}));const d=r.sb;l.a.factory(d,["restmod",c.c,e=>e.model().mix({$url:()=>o.a.apiBasePath+"/v1/notification/settings/generalSettings/course"})])},"1/hr":function(e,t,n){},"10QP":function(e,t,n){},"12mu":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));n("imME");var i=n("Llzl"),s=n("w9Zy"),a=n("9zo4"),o=n("H8CZ"),r=n("wWlP"),l=n("cQcs"),c=n("A4cK"),d=n("fmWv");const u="mm.foundation.modal",m="$modal";i.module(u,[s.d]).directive("modalBackdrop",["$modalStack","$timeout",function(e,t){return{restrict:"EA",replace:!0,template:l,link(n){n.animate=!1,t((function(){n.animate=!0})),n.close=function(t){const n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,template:c,link(e,n,i){e.windowClass=i.windowClass||"",t((function(){e.animate=!0,n[0].querySelectorAll("[autofocus]").length>0?n[0].querySelectorAll("[autofocus]")[0].focus():n[0].querySelector("div").focus()}))}}}]).factory("$modalStack",["$window","$timeout","$document","$compile","$rootScope",s.e,a.c,function(t,n,s,a,l,c,d){const u="modal-open";let m,p;const h=r.a,g={};function b(){let e=-1;const t=h.keys();for(let n=0;n<t.length;n++)h.get(t[n]).value.backdrop&&(e=n);return e}function f(e,t){const n=s.find("body").eq(0),i=h.get(e).value;h.remove(e),v(i.modalDomEl,i.modalScope,300,(function(){i.modalScope.$destroy(),n.toggleClass(u,h.length()>0),function(e){if(m&&-1===b()){let t=p;v(m,p,150,(function(){t.$destroy(),t=null,e()})),m=void 0,p=void 0}else e()}(t),d.revertAccessibilityHandling()}))}function v(e,t,i,s){const a=n(r,i);function r(){r.done||(r.done=!0,e.remove(),s&&s())}o.a(e,(function(){n.cancel(a),r(),t.$apply()})),t.animate=!1}return l.$watch(b,(function(e){p&&(p.index=e)})),g.open=function(n,o){h.add(n,{deferred:o.deferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard});const r=s.find("body").eq(0),f=b();f>=0&&!m&&(p=l.$new(!0),p.index=f,m=a("<div modal-backdrop></div>")(p),r.append(m));const v=i.element('<div class="reveal-modal" style="z-index:-1""></div>');r.append(v[0]);const y=parseInt(getComputedStyle(v[0]).top,10)||0;v.remove();const k=(t.pageYOffset||0)+y;function x(e){let t;27===e.which&&(t=h.top(),t&&t.value.keyboard&&l.$apply((function(){g.dismiss(t.key)})))}return c.getTopElement().then((e=>{const t=i.element('<div modal-window style="visibility: visible; top:'+k+'px;"></div>');t.attr("window-class",o.windowClass),t.attr("index",h.length()-1),t.attr("animate","animate"),e&&e.name&&t.attr("data-base-state-name",e.name),t.append(o.content);const s=a(t)(o.scope);d.applyAccessibilityHandlingForPanel(s),h.top().value.modalDomEl=s,s&&!h.get(n).value.modalDomEl&&(h.get(n).value.modalDomEl=s),r.append(s),r.addClass(u)})),p&&(p.darkenBackdrop=o.darkenBackdrop),s.bind("keydown",x),o.scope.$on("$destroy",(function(){e(document).off("keydown",x)})),h},g.close=function(e,t){if(!h.get(e))return;const n=h.get(e).value;n&&f(e,(()=>{n.deferred.resolve(t)}))},g.dismiss=function(e,t){if(!h.get(e))return;const n=h.get(e).value;n&&f(e,(()=>{n.deferred.reject(t)}))},g.dismissAll=function(e){let t=this.getTop();for(;t;)this.dismiss(t.key,e),t=this.getTop()},g.getTop=function(){return h.top()},g}]).provider(m,(function(){const e={options:{backdrop:!0,keyboard:!0,darkenBackdrop:!1},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,s,a,o,l,c){new d.a(r.a).start();const u={};return u.open=function(a){const o=s.defer(),r=s.defer(),d={result:o.promise,opened:r.promise,close(e){c.close(d,e)},dismiss(e){c.dismiss(d,e)}};if((a=i.extend({},e.options,a)).resolve=a.resolve||{},!a.template)throw new Error("Template is required. Use requireJs to load template string if needed.");const u=s.all([s.when(a.template)].concat(function(e){const n=[];return i.forEach(e,(function(e,a){(i.isFunction(e)||i.isArray(e))&&n.push(s.when(t.invoke(e)))})),n}(a.resolve)));return u.then((function(e){const t=(a.scope||n).$new();t.$close=d.close,t.$dismiss=d.dismiss;const s={};let r=1;a.controller&&(s.$scope=t,s.$modalInstance=d,i.forEach(a.resolve,(function(t,n){s[n]=e[r++]})),l(a.controller,s)),c.open(d,{scope:t,deferred:o,content:e[0],backdrop:a.backdrop,keyboard:a.keyboard,windowClass:a.windowClass,darkenBackdrop:a.darkenBackdrop})}),(function(e){o.reject(e)})),u.then((function(){r.resolve(!0)}),(function(){r.reject(!1)})),d},u}]};return e}))}).call(this,n("71td"))},"1I+h":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("JzsJ");var i=n("Llzl"),s=n("5MwF"),a=n("0JpG"),o=n("TnpK");const r="ultra.course.collab.router";i.module(r,[a.moduleName,o.b]).config([o.c,e=>{s.a.features.collab&&e.peekState("collab",{url:"/collab/:launchType",require:()=>n.e(705).then(n.bind(null,"6DVw")),pageTitle:"course.outline.collab.ultraCollabTitle",panelClass:"full",resolve:{translations:[a.serviceName,e=>e.loadBundle("features/course/collab/course-collab")]},onExit:["$rootScope",e=>{e.$broadcast("collab-exit")}]})}])},"1NX5":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-information",use:"icon-small-information-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-information"><circle cx="8" cy="8" r="7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M7 7h1v4M6 11h4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="8" cy="4" r=".5" /></symbol>'});s.add(a);e.exports=a},"1Niw":function(e,t){e.exports='<div tabindex="-1" id="{{::addContentButton.getButtonWrapperId()}}">\n  <button\n    class="button-add-content js-show-add-options"\n    aria-expanded="{{addContentButton.isMenuVisible}}"\n    ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n    aria-label="{{addContentButton.addButtonAriaLabel}}"\n    ng-focus="addContentButton.showButton()"\n    ng-blur="addContentButton.hideButton()"\n    id="{{::addContentButton.getTargetId()}}"\n    ng-click="addContentButton.toggleAddContentMenu()"\n    analytics-id="components.directives.add-content-button.editor.button">\n  </button>\n</div>\n<bb-ui-contextual-menu\n  items="::addContentButton.items"\n  target-id="::addContentButton.getTargetId()"\n  show="addContentButton.isMenuVisible"\n  directional-hint="::addContentButton.getDirectionalHint()"\n  dismiss="addContentButton.hideAddContentMenu"\n  analytics-id="components.directives.add-content-button.contextualMenu"\n>\n</bb-ui-contextual-menu>\n\x3c!--\n  The elements are kept around to trigger download actions.\n  The \'ng-hide\' class is added to prevent the buttons from interfering with AX (tab order, screen readers)\n--\x3e\n<ul class="element-list-add-menu angular-animate ng-hide">\n  <li>\n    <button type="button"\n            class="js-add-text-block"\n            ng-click="addContentButton.addTextBlock()"\n            analytics-id="components.directives.add-content-button.editor.addText.button">\n      <div>\n        <i class="icon-doc-pencil-2"></i>\n        <span bb-translate>components.directives.add-content-button.addContent</span>\n      </div>\n    </button>\n  </li>\n  <li ng-if="addContentButton.canEditUnsafeHtml">\n    <button type="button"\n            ng-click="addContentButton.addHtmlBlock()"\n            analytics-id="components.directives.add-content-button.editor.addHtml.button">\n      <div>\n        <bb-svg-icon size="small" icon="code"></bb-svg-icon>\n        <span bb-translate>components.directives.add-content-button.addHtml</span>\n      </div>\n    </button>\n  </li>\n  <li>\n    <bb-file-upload\n      url="/v1/files"\n      data="{}"\n      monitor-leave="true"\n      allow-multiple="true"\n      hide-transclude-during-upload="false"\n      primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n      skip-zip-file-check="true"\n      click-enabled="true"\n      disable-drag="false"\n      class="js-file-upload"\n      web-location="{{webLocation}}"\n      file-location="{{fileLocation}}"\n      target-div="{{\'#\' + fileListViewId}}"\n      disallow-folder-uploads="true"\n      is-third-party-upload="false"\n      ignored-states="::ignoredStates()">\n        <button\n          type="button"\n          class="file-upload-button"\n          ng-click="addContentButton.assignPosition()"\n          aria-label="{{addContentButton.uploadAriaLabel}}"\n          analytics-id="components.directives.add-content-button.editor.fileUpload.button">\n          <div ng-if="!addContentButton.isMobile">\n            <i class="icon-arrow-upload"></i>\n            <span bb-translate>components.directives.add-content-button.uploadFromComputer</span>\n          </div>\n          <div ng-if="addContentButton.isMobile">\n            <i class="icon-arrow-upload"></i>\n            <span bb-translate>components.directives.add-content-button.uploadFromDevice</span>\n          </div>\n        </button>\n    </bb-file-upload>\n  </li>\n  <li ng-if="addContentButton.isCloudServiceAvailable">\n    <bb-file-upload\n      allow-multiple="false"\n      monitor-leave="true"\n      target-div="{{\'#\' + fileListViewId}}"\n      hide-transclude-during-upload="false"\n      click-enabled="false"\n      primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n      skip-zip-file-check="true"\n      disable-drag="true"\n      is-third-party-upload="true"\n      third-party-download-handler="addContentButton.downloadFile"\n      ignored-states="::ignoredStates()">\n      <button\n        type="button"\n        class="js-upload-from-cloud-storage-integration"\n        ng-click="addContentButton.assignPosition()"\n        bb-cloud-storage-integration\n        primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n        attach-handler="attachHandler || addContentButton.defaultAttachHandler"\n        web-location="{{webLocation}}"\n        file-location="{{fileLocation}}"\n        allow-multiple="false"\n        on-cancel-focus="!initialUpload ? addContentButton.focusAddButton : null"\n        analytics-id="components.directives.add-content-button.editor.uploadFromCloudStorage.button">\n          <div>\n            <i class="icon-cloud"></i>\n            <span bb-translate>components.directives.add-content-button.uploadFromCloudStorage</span>\n          </div>\n        </button>\n    </bb-file-upload>\n  </li>\n  <li>\n    <button type="button"\n            ng-class="{\'disabled\': !isDocumentSaved()}"\n            class="js-browse-content-collection-block"\n            ng-click="addContentButton.browseContentCollection()"\n            analytics-id="components.directives.add-content-collection-button.editor.addText.button">\n      <div>\n        <span bb-translate>course.contentCollection.browseContentCollection</span>\n      </div>\n    </button>\n  </li>\n</ul>\n'},"1ZbL":function(e,t,n){"use strict";var i=n("5MwF"),s=n("nsO7"),a=n("ERkP"),o=n("7nmT"),r=n("0JpG"),l=n("k9iv");class c extends a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){console.error("ErrorBoundary caught exception",e),"undefined"!=typeof NREUM&&NREUM.noticeError(e),this.props.errorModalService.showDefaultErrorModal()}render(){return this.state.hasError?a.createElement("div"):this.props.children}}var d=n("Qbdf"),u=n("VAMW"),m=n("/5AG"),p=n("Uhei"),h=n("x2Ev"),g=n("uDfI"),b=n("A4Z1");n.d(t,"a",(function(){return w}));class f{constructor(){this.__isFirstRender=!0,this.state={},this.props={}}$onChanges(e){const t=this.props,n=Object(s.mapValues)(e,"currentValue"),i=Object(s.assign)({},this.props,n);if(this.__isFirstRender)Object(s.assign)(this,{props:i}),this.componentWillMount(),this.render(),this.__isFirstRender=!1;else{if(!this.didPropsChange(n,t))return;this.componentWillReceiveProps(i);const e=this.shouldComponentUpdate(i,this.state);if(Object(s.assign)(this,{props:i}),!e)return;this.componentWillUpdate(this.props,this.state),this.render(),this.componentDidUpdate(this.props,this.state)}}$postLink(){this.componentDidMount()}$onDestroy(){this.componentWillUnmount()}didPropsChange(e,t){return Object(s.some)(e,((e,n)=>e!==t[n]))}componentWillMount(){}componentDidMount(){}componentWillReceiveProps(e){}shouldComponentUpdate(e,t){return!0}componentWillUpdate(e,t){}componentDidUpdate(e,t){}componentWillUnmount(){}render(){}}function v(e,t){let n;return i.a.unitTesting&&(n=Object(h.a)()),a.createElement(p.a,{...t,mockLocalize:n},e)}function y(e){return e.withProvider}function k(e){return e.withThemeProvider||!!e.renderLocalized}function x(e){return k(e)||!!e.withTransitScope}function S(e){return!1!==e.withErrorModalBoundary}function C(e){return e.withCurrentCourse}function E(e,t,n){let i=e;if(t.renderLocalized){const{localize:e,$scope:s}=n;let a={locale:e.getLocale(s),babelfishInstance:e.intl,babelfishFormatInstance:e.frmt,isRtl:e.isRTL()};const o=t.renderLocalized;"object"==typeof o&&(a={...a,...o}),i=v(i,a)}if(t.withProvider){const{store:e}=n;i=function(e,t){const n={store:t};return a.createElement(g.a,n,e)}(i,e)}if(t.withThemeProvider&&(i=function(e,t){const n={theme:"light",isRtl:t.isRTL(),cssReset:"none",zIndex:{modal:1350}};return a.createElement(b.a,n,e)}(i,n.localize)),!1!==t.withErrorModalBoundary){const{errorModalService:e}=n;i=function(e,t){const n={errorModalService:t};return a.createElement(c,n,e)}(i,e)}if(t.withCurrentCourse){const{currentCourseService:e}=n;i=function(e,t){return a.createElement(m.x.Provider,{value:t.courseId},e)}(i,e)}if(t.withTransitScope){const{$scope:e}=n;i=function(e,t){return a.createElement(u.c,{value:t},e)}(i,e)}return i}function I(e,t){return class extends f{constructor(n,...i){super(),this.$element=n,this.injectedProps={},this.injectedModules={},t.forEach(((e,t)=>{this.injectedModules[e]=i[t]})),(e.injectNames||[]).forEach((e=>{this.injectedProps[e]=this.injectedModules[e]}))}render(){const t={};y(e)&&(t.store=this.injectedModules.$ngRedux),S(e)&&(t.errorModalService=this.injectedModules[l.c]),k(e)&&(t.localize=this.injectedModules[r.serviceName]),x(e)&&(t.$scope=this.injectedModules.$scope),C(e)&&(t.currentCourseService=this.injectedModules[d.e]);let n=a.createElement(e.Class,{...this.injectedProps,...this.props},null);n=E(n,e,t),Object(o.render)(n,this.$element[0])}componentWillUnmount(){Object(o.unmountComponentAtNode)(this.$element[0])}}}function w(e){var t;e.injectNames=e.injectNames||[],e.withThemeProvider=null===(t=e.withThemeProvider)||void 0===t||t;const n=e.bindingNames||e.Class.propTypes&&Object.keys(e.Class.propTypes)||[],i=e.attributes||[],a=[];S(e)&&a.push(l.c),k(e)&&a.push(r.serviceName),x(e)&&a.push("$scope"),y(e)&&a.push("$ngRedux"),C(e)&&a.push(d.e);const o=Object(s.uniq)([...a,...e.injectNames]);return{bindings:{...Object(s.fromPairs)(n.map((e=>[e,"<"]))),...Object(s.fromPairs)(i.map((e=>[e,"@"])))},controller:["$element",...o,I(e,o)]}}},"1ZiP":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n("JzsJ");var i=n("Llzl"),s=n("pjml"),a=n("w9Zy"),o=n("0JpG"),r=n("Is+C"),l=n("Qbdf"),c=n("TnpK"),d=n("bF8R"),u=n("Fvsw"),m=n("gkef"),p=n("36CG"),h=n("+O05"),g=n("nmzr"),b=n("X455");const f="ultra.course.content.scorm.routes",v={onEnter:["contentData","attempt",a.e,c.d,"$stateParams",m.b,(e,t,n,i,s,a)=>{if(!s.forceOpenFeedbackPanel||s.skipTransitionEvents)return;i.isPeekPanelOpen()&&n.expandTopPanel();const o=h.a.attemptHasFeedback(t),r=h.a.studentCanViewAttemptGradeAndFeedback(t,e.gradeDetail),l=i.next.name.indexOf("assessment-submission-feedback")>=0,c=!i.prev.name,d=a.isSmallBreakpoint();!o||!r||d||l||c||i.goPeekState("assessment-submission-feedback",{attemptId:t.id})}],onExit:["contentData",a.e,c.d,"$q","$stateParams",(e,t,n,i,s)=>{if(!s.skipTransitionEvents&&e.gradingColumn.isMultipleAttempts()){let s=i.when();n.isPeekPanelOpen()&&(s=t.shrinkTopPanel()),s.then((()=>{n.goPeekState("scorm-overview.student.multiple-attempt",{contentId:e.courseContent.id,columnId:e.gradingColumn.id,gradeId:e.gradeDetail.id,courseId:e.courseContent.courseId})}))}}]};i.module(f,[o.moduleName,c.b,l.b,p.a]).config([c.c,l.c,b.b,p.b,(e,t,i)=>{e.peekState("scorm",{abstract:!0,url:"/scorm"}).peekState("scorm.open",{url:"/open",params:{contentId:null,courseId:null},routingFunction:[c.d,r.c,(e,t)=>{t.scormLaunch({courseId:e.nextParams.courseId,contentId:e.nextParams.contentId,showPreLaunchPanel:!0})}]}).peekState("scorm-settings",{url:"/scorm/settings?parentId&positionBefore&positionAfter&contentId",pageTitle:"course.content.scorm.settings.panelTitle",require:[()=>n.e(563).then(n.bind(null,"7Six"))],resolve:{[l.d]:t.resolve,translations:[o.serviceName,e=>e.loadBundle("features/course/content/scorm/scorm")]},peekViewName:"scorm-goal-peek",allowChildPeekStates:!0,peekStates:["goal-picker-legacy",g.k.CONDITIONAL_RELEASE_PEEK_PANEL,"content-collection-picker"]}).peekState("scorm-launch-frame",{url:"/scorm/launchFrame?toolHref&courseId&contentId",resolve:{translations:[o.serviceName,e=>e.loadBundle("features/course/content/scorm/scorm")]},panelClass:"full",require:[()=>n.e(583).then(n.bind(null,"26hv"))],pageTitle:"course.content.scorm.launch.frameTitle"}).peekState("gradebook-item.scorm-submissions",{pageTitle:"course.content.scorm.settings.gradingTitle",url:"/scorm/:contentId/columns/:columnId/submissions?courseId&gradeitemView&gradingStatus&studentStatus",panelClass:"full",resolve:{translations:["$q",o.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/scorm/scorm"),t.loadBundle("features/course/content/course-content"),t.loadBundle("features/course/grades/gradebook-item/submissions"),t.loadBundle("features/course/content/assessment/assessment"),t.loadBundle("features/course/goal-alignment/goal")])]},views:{"gradebook-item-scorm-slider@":{require:()=>n.e(689).then(n.bind(null,"2eYu"))},"gradebook-item-students@":{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(20),n.e(44),n.e(66)]).then(n.bind(null,"hmMQ"))}},onExit:["$rootScope",e=>{e.$broadcast("deadline-refresh")}],peekStates:["conversations",g.o.COURSE_MESSAGE,g.k.CONDITIONAL_RELEASE_PEEK_PANEL,"scorm-settings","scorm-launch-frame",g.x.SUBMISSION_GRADING,g.o.COURSE_GRADES_MULTIPLE_ATTEMPT,"per-gradable-item-settings"],peekViewName:"gradebook-item-panel@"}).peekState("scorm-overview",{abstract:!0,resolve:{[l.d]:t.resolve,contentData:[l.d,d.b,c.d,p.c,(e,t,n,i)=>t.loadContentAndGrades({course:e,contentId:n.nextParams.contentId}).then((e=>(i.setCurrentContent(e.courseContent),e)))],[b.c]:i.resolve,translations:["$q",o.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/scorm/scorm"),t.loadBundle("features/course/goal-alignment/goal"),t.loadBundle("features/course/content/assessment/assessment")])]},onEnter:["contentData",u.b,(e,t)=>{t.column=e.gradingColumn}],onExit:[u.b,e=>{e.column=null}],require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(18),n.e(19),n.e(25),n.e(7),n.e(37),n.e(43),n.e(60),n.e(733)]).then(n.bind(null,"HwBC"))}).peekState("scorm-overview.student",{url:"/scorm/overview/{contentId:_[0-9]+_1}?courseId",peekViewName:"assessment-overview-peek@",allowChildPeekStates:!0,peekStates:["conversations",g.o.COURSE_MESSAGE],views:{"scorm-grading-section@":{require:()=>n.e(708).then(n.bind(null,"all8"))}}}).peekState("scorm-overview.student.multiple-attempt",{url:"/scorm-attempts/:columnId/:gradeId",resolve:{scormContentData:[l.d,"contentData",r.c,d.b,c.d,(e,t,n,i,s)=>{const a=n.currentContentData||t&&t.gradingColumn.id===s.nextParams.columnId&&t;return a||i.loadContentAndGrades({course:e,contentId:s.nextParams.contentId,columnId:s.nextParams.columnId})}],translations:["$q",o.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/assessment/assessment")])]},pageTitle:"course.content.assessment.overview.multiple-attempt.pageTitle",require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(20),n.e(29),n.e(30),n.e(621)]).then(n.bind(null,"x3h6"))}).peekState("scorm-overview.student.attempt",{url:"/column/{columnId:_[0-9]+_1}/attempt/{attemptId:_[0-9]+_1}",panelClass:"full",resolve:{contentData:["contentData",l.d,d.b,c.d,(e,t,n,i)=>e.gradeDetail.ui.groupAttempt?e:n.loadContentAndGrades({course:t,contentId:i.nextParams.contentId,columnId:i.nextParams.columnId})],currentContent:["contentData",e=>e.courseContent],currentColumn:["contentData",e=>e.gradingColumn],attempt:["$q","contentData",s.m.serviceName,c.d,s.A.serviceName,s.E.serviceName,(e,t,n,i)=>{const s=i.nextParams.attemptId;return n.$buildRaw({id:t.courseContent.courseId}).gradebook.attempts.$find(s,{expand:["toolAttemptDetail","alignedGoals"].join(",")}).$then((e=>{t.attempt=e})).$asPromise()}]},require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(19),n.e(20),n.e(29),n.e(30),n.e(42),n.e(137)]).then(n.bind(null,"H0q3")),...v,params:{commentPanelInitiallyOpen:!1,forceOpenFeedbackPanel:!1,skipTransitionEvents:!1,peekStateToOpen:null},peekViewName:"assessment-attempt-review-peek",peekStates:["assessment-submission-feedback","conversations",g.o.COURSE_MESSAGE]}).peekState("scorm-analytics-report",{url:"/scorm-report/{contentId:_[0-9]+_1}?courseId",resolve:{[l.d]:t.resolve,content:[l.d,c.d,s.m.serviceName,(e,t,n)=>n.$new(e.id).contents.$find(t.nextParams.contentId).$asPromise()],translations:[o.serviceName,e=>e.loadBundle("features/course/content/scorm/scorm")]},panelClass:"full",require:()=>n.e(596).then(n.bind(null,"0rof")),pageTitle:"course.content.scorm.report.pageTitle"})}])},2:function(e,t){},"2E9T":function(e,t){e.exports='<bb-svg-icon size="small" icon="add" class="js-add-plus add-circle-default"></bb-svg-icon>\n<bb-svg-icon size="small" icon="add" status="active" class="js-add-plus add-circle-active"></bb-svg-icon>'},"2Tae":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var i=n("Llzl"),s=n("3bn4"),a=n("0JpG"),o=n("TnpK");const r="ultra.course.rubric.rubric-goal-alignment",l="rubric-goal-alignment",c=["course","goal-alignment","goal"];class d extends s.a{constructor(){super(...arguments),this.url="/goalAlignment/:rowId",this.panelClass="peek rubric-goal-peek"}resolveGoalAlignableContent(){return["$q","currentCourse","currentRubric",a.serviceName,o.d,(e,t,n,i,s)=>e.when(i.loadBundle(`features/${c.join("/")}`)).then((()=>t.rubrics.$find(n.id,{expand:"rows.alignedGoals,permissions"}).$asPromise().then((e=>{e.rows.forEach((e=>{e.id&&s.nextParams&&s.nextParams.rowId&&e.id===s.nextParams.rowId&&(this.rubricRow=e)}))})))).then((()=>this.rubricRow?this.setupGoalAlignableContent(this.rubricRow,i):e.when([])))]}getPeekStateName(){return l}getOverrideSubTitle(){return["currentRubric",o.d,(e,t)=>{let n="";return e.rows.forEach((e=>{e.id&&t.nextParams&&t.nextParams.rowId&&e.id===t.nextParams.rowId&&(n=e.header)})),n}]}setupGoalAlignableContent(e,t){return[{getContentTitleForGoalAlignment:()=>t.translateSync({locale:null,key:`${c.join(".")}.goalsAlignedWithRubricCriteria`}),getContentIdForGoalAlignment:()=>e.getContentIdForGoalAlignment(),isCurrentUserEligibleToAlignGoals:()=>e.isCurrentUserEligibleToAlignGoals(),alignedGoals:e.alignedGoals.map((t=>(t.content=e,t)))}]}}d.$inject=["$injector","$q"],i.module(r,[o.b,a.moduleName]).config([o.c,e=>{const t=new d;e.peekState(t.getPeekStateName(),t)}])},"2VX+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("Llzl"),s=n("1ZbL"),a=n("AuQm");const o="ultra.components.directives.grade.course-grades-grader",r={Class:a.b,bindingNames:["sortable","sort"]};i.module(o,[]).component("bbArrowSortIndicator",Object(s.a)(r))},"2a+M":function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var i=n("nsO7"),s=n("Llzl"),a=n("0JpG");const o="ultra.services.dragDrop",r="dragDropService";var l;!function(e){e.Top="TOP",e.Bottom="BOTTOM",e.Folder="FOLDER",e.Self="SELF"}(l||(l={}));class c{constructor(e,t){this.$timeout=e,this.bbLocalize=t,this.dragHoverClass="dz-drag-hover",this.dragElementSelector=".drag-element",this.onFolderClass="on-folder",this.onNestedFolderClass="on-nested-folder",this.originalElementClass="drag-element-original",this.movableElementClass="drag-element-movable",this.queuedScreenReaderMessages="",this.bbLocalize.loadBundle("components/services/drag-drop").then((()=>{this.folderDepthMessageKey="components.services.drag-drop.folderDepthMessage"}))}createDropPlaceholderElement(t){this.dropPlaceholderElement=e('<div class="dragdropplaceholder js-no-file-drop" style="height: '+t.height()+"px; width: "+t.width()+'px"></div>')}setDropTarget(e){this.lastDropTargetId=this.currentDropTargetId,this.currentDropTargetId=e}clearDropTarget(){this.setDropTarget(void 0)}isCurrentDropTarget(e){return this.currentDropTargetId===e}isNotSameDropTarget(){return this.currentDropTargetId!==this.lastDropTargetId}scrollDragDropItemsContainer(e,t){const n=this._getScrollingContainerElement();if(n){const i=e<c.SCROLLING_CONSTANTS.scrollZoneHeight,s=e>n.height()-c.SCROLLING_CONSTANTS.scrollZoneHeight,a=n.scrollTop();i?n.scrollTop(a-t):s&&n.scrollTop(a+t)}}_getScrollingContainerElement(){const e=c.SCROLL_CONTAINERS_SELECTORS.map((e=>this.originalElement.closest(e)));return i.find(e,(e=>this._elementHasScrollbar(e)))}_elementHasScrollbar(e){return e.get(0).scrollHeight>e.innerHeight()}}c.SCROLLING_CONSTANTS={scrollZoneHeight:200,mouseInteractionDistanceToScroll:30,keyboardInteractionDistanceToScroll:200},c.SCROLL_CONTAINERS_SELECTORS=[".panel-wrap",".panel-content"],c.$inject=["$timeout",a.serviceName];s.module(o,[a.moduleName]).service(r,c)}).call(this,n("71td"))},"2bSy":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("Llzl"),s=n("LN5R"),a=n("dF44"),o=n("qH3X"),r=n("KeOq");const l="ultra.components.directives.gradeGridColumnHeaderStudentReborn";class c{constructor(e,t,n,i){this.scope=e,this.element=t,this.attrs=n,this.gradeGridRebornController=i,e.studentsTotal=i.getRowCount(),e.$on(a.b.CELL_FOCUSED,(()=>{t.find(".content").focus()}));[o.a.GRADEBOOK_CLEAR_SEARCHBOX_SELECTION,o.a.ADVANCED_FILTERS_ROWS,a.b.ROW].forEach((t=>{e.$on(t,(()=>{this.scope.studentsTotal=i.getRowCount()}))})),e.$on(o.a.GRADEBOOK_USER_SELECTED,(()=>{this.scope.studentsTotal=1}))}}c.$inject=["scope","element","attrs","gradeGridRebornController"];class d{constructor(e){this.$injector=e,this.restrict="E",this.template=r,this.scope=!0,this.require=`^${s.a}`,this.link=(e,t,n,i)=>{e.gradeGridColumnHeaderStudentReborn=this.$injector.instantiate(c,{scope:e,element:t,attrs:n,gradeGridRebornController:i})}}}d.$inject=["$injector"],i.module(l,[]).directive("bbGradeGridColumnHeaderStudentReborn",["$injector",e=>e.instantiate(d)])},"2i58":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-content-market",use:"icon-small-content-market-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-content-market"><path d="M2 2h13l-1 8H4" stroke-width="2" stroke-linejoin="round" /><circle cx="13" cy="14" r="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="4" cy="14" r="1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M3 6h11.5M7 2v8M11 2v8M1 1h1l2 12h9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"2o5C":function(e,t,n){"use strict";n.d(t,"e",(function(){return I})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return A})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return D}));var i=n("D57K"),s=n("Llzl"),a=n("aHpC"),o=n("8W6D"),r=n("Sa5G"),l=n("tka7"),c=n("oi1r"),d=n("P2dS"),u=n("+4Px"),m=n("0JpG"),p=n("lEL+"),h=n("TnpK"),g=n("JNtI"),b=n("MoIS"),f=n("jhBu"),v=n("X/qj"),y=n("Fvsw"),k=n("o5Lu"),x=n("nmzr"),S=n("cR84"),C=n("zGdY"),E=n("fN3Q");const I="ultra.features.course.grades.gradesSettings.controller",w="update-telemetry-settings",A="bb-update-grade-settings-overall-grade",O="refresh-after-update-settings";let D=class e{constructor(e,t,n,i,a,l,c,d,u,m,p,h,g,b,f){this.$scope=e,this.$rootScope=t,this.$q=n,this.course=i,this.$modal=a,this.localizeService=l,this.timeout=c,this.GradeNotationModel=d,this.ultraState=u,this.schemaService=m,this.categoryService=p,this.gradebookPermissionService=h,this.entitlementService=g,this.context=b,this.grade=f,this.isShowSettingPage=!0,this.isSchemaTitleEditable=!1,this.notations=[],this.isCodeValidate=!0,this.hasTelemetryData=!1,this.showAddNewCategory=!1,this.newCategoryName="",this.isInputBluredByCancelAdd=!1,this.isInputBlurredByCancelButton=!1,this.currentEditedCategory=null,this.focusNotationEventName="add-notation-button-focus",this.isPastZeroAssigned=!0,e.gradesSettings=this,this.courseId=this.ultraState.nextParams.courseId,this.hasGradebookModifyAccess=this.gradebookPermissionService.canModify(),this.hasContentDeleteAccess=this.entitlementService.isEntitled(r.f.DeleteContent,this.courseId),this.hasContentModifyAccess=this.entitlementService.isEntitled(r.f.ModifyContent,this.courseId),this.hasContentCreateAccess=this.entitlementService.isEntitled(r.f.CreateContent,this.courseId),this.canViewTelemetrySettingsUI=this.hasContentDeleteAccess&&this.hasContentModifyAccess&&this.hasContentCreateAccess,i&&(m.loadSchemas(i).then((e=>{e.forEach((e=>{e.localizableTitle&&(e.ui.displayTitle=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.$scope),key:e.ui.displayTitleKey}))})),this.schemas=e.filter((e=>e.scaleType===C.ac.Tabular))})),i.gradebook.settings.$resolve().$then((e=>{this.gradebookSettings=e,this.isPastZeroAssigned=e.countUnsubmittedWorkAsZero,this.isPastZeroCompleted=this.course.isComplete()})),this.categoryService.getOrLoadCategoriesForCourse(i.id,!0).then((e=>{this.categories=e})),i.gradebook.performancecodes.$refresh().$then((e=>{e.forEach((e=>{const t={model:e,id:this.generateNotationId(),isEditing:!1,code:e.code,description:e.description};this.notations.push(t)})),this.notations.permissions=e.permissions})),this.loadOverallGradeColumn(f),this.loadTelemetrySettings(i),this.$scope.$on(w,((e,t)=>{this.studentFailingThreshold=t.studentFailingThreshold,this.studentAbsentThreshold=t.studentAbsentThreshold,this.studentAlertsEnabled=t.studentAlertsEnabled})),this.$scope.$on(A,((e,t,n)=>{this.hasOverallGradeColumn=n,this.overallGradeColumnId=t}))),this.validationManager={isEmpty:e=>!e,isNotationNumberOnly:e=>!Number.isNaN(Number(e)),isNotationExist:e=>this.notations.some((t=>t!==e&&t.code===e.code)),isNotationSchemaDuplicate:e=>this.schemas[0].symbols.some((t=>t.symbol===e.code)),isCategoryDuplicate:(e,t)=>this.categories.some((n=>{if(n===t)return!1;let i=n.localizableTitle.languageKey;return n.isUserDefined||(i=i.substr(0,i.indexOf("."))),i.toLocaleLowerCase()===e.toLocaleLowerCase()})),execute:(e,...t)=>{const n=this.validationManager;return n[e]&&n[e].apply(n,[].slice.call(t,0))}},this.validationManager.execute(),this.entitlementService.hasCourseEntitlement(r.l.CreateRubrics,this.courseId).then((t=>{e.hasRubricCreateAccess=t})),this.context.getSystemInfo().$asPromise().then((e=>{e.telemetryEnabled&&(this.hasTelemetryData=!0)})),e.$on("$stateChangeStart",((t,n,i,s,a)=>{if(s.name.endsWith(x.x.GRADE_SETTING)&&!n.name.endsWith(x.x.GRADE_SETTING)&&e.gradesSettings.saveTelemetrySettings(),s.name===n.name||e.gradeSchemasPanelForm&&(!e.gradeSchemasPanelForm||e.gradeSchemasPanelForm.$dirty)){if(n.name.indexOf("rubric.mode")>1&&o.a.Copy===o.b(i.mode))return!0;t.preventDefault()}else this.leaveEditMode(this.activeNotation,"confirm")})),e.$watch("gradeSchemasPanelForm.$dirty",(()=>{this.isShowSettingPage||(e.gradeSchemasPanelForm&&e.gradeSchemasPanelForm.$dirty?(s.element(".bb-offcanvas-panel.peek .bb-close").hide(),s.element(".bb-offcanvas-panel.peek .panel-wrap").addClass("has-footer")):(s.element(".bb-offcanvas-panel.peek .bb-close").show(),s.element(".bb-offcanvas-panel.peek .panel-wrap").removeClass("has-footer")))}))}loadOverallGradeColumn(e){e.loadColumns(this.courseId,!0).then((e=>{const t=e.find((e=>e.externalGrade));t&&!this.overallGradeColumnId?(this.hasOverallGradeColumn=!0,this.overallGradeColumnId=t.id):this.hasOverallGradeColumn=!1}))}loadTelemetrySettings(t){t.preferences.getPreference(e.INITIAL_FAILING_PREF_ARGS).then((e=>{this.studentFailingThreshold=e.value&&!Number.isNaN(Number(e.value))?Number(e.value):void 0})),t.preferences.getPreference(e.INITIAL_ABSENT_PREF_ARGS).then((t=>{null==t.value?this.studentAbsentThreshold=e.STUDENT_ABSENT_DEFAULT:0===Number(t.value)||Number.isNaN(Number(t.value))?this.studentAbsentThreshold=void 0:this.studentAbsentThreshold=Number(t.value)})),t.preferences.getPreference(e.INITIAL_ENABLE_PREF_ARGS).then((e=>{this.studentAlertsEnabled=e.value}))}set postOption(e){this.gradebookSettings.promptUserToPostWhenDone="true"===e}get postOption(){return this.gradebookSettings&&this.gradebookSettings.promptUserToPostWhenDone?"true":"false"}switchView(e,t){this.isShowSettingPage=e,t&&(this.currentViewSchema=t,this.originCurrentViewSchema=s.copy(this.currentViewSchema))}goToTelemetryView(){this.ultraState.goPeekState(x.L.INSTRUCTOR_CLASS)}toggleSchemaTitleEditable(){this.course.isComplete()||(!this.isSchemaTitleEditable||this.currentViewSchema.title&&this.currentViewSchema.title.length>0)&&(this.isSchemaTitleEditable?this.currentViewSchema.ui.displayTitle=this.currentViewSchema.title:this.currentViewSchema.localizableTitle?this.currentViewSchema.title=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.$scope),key:this.originCurrentViewSchema.ui.displayTitleKey}):this.currentViewSchema.title=this.originCurrentViewSchema.ui.displayTitle,this.isSchemaTitleEditable=!this.isSchemaTitleEditable)}adjustLowerBound(e,t){if(t<this.currentViewSchema.symbols.length-1){const n=this.currentViewSchema.symbols[t+1];n.upperBound=e.lowerBound,n.absoluteTranslation=(n.lowerBound+n.upperBound)/2}e.absoluteTranslation=(e.lowerBound+e.upperBound)/2}isValidSymbolStr(e){let t=0;for(let n=0;n<this.currentViewSchema.symbols.length;n++)this.currentViewSchema.symbols[n].symbol===e.symbol&&t++;return 1===t}addSymbol(e,t){if(!(t<this.currentViewSchema.symbols.length-1))throw new Error("Can not add a symbol to the last symbol in the array.");{const n=this.currentViewSchema.symbols[t+1],i=(n.lowerBound+n.upperBound)/2;this.currentViewSchema.symbols.splice(t+1,0,{id:Object(E.v4)(),schemaId:e.schemaId,lowerBound:i,upperBound:n.upperBound,absoluteTranslation:(i+n.upperBound)/2,symbol:void 0}),n.upperBound=i,n.absoluteTranslation=(n.lowerBound+n.upperBound)/2,this.currentViewSchema.symbols[t+2]=n,this.timeout((()=>{this.$scope.$broadcast("bb-grades-schema-symbol-change",{action:"add",index:t+1})}),this.$scope)}}deleteSymbol(e,t){if(!(t!==this.currentViewSchema.symbols.length-1&&this.currentViewSchema.symbols.length>2))throw new Error("Can not delete the two last symbols in the array.");{const n=this.currentViewSchema.symbols[t+1];n.upperBound=e.upperBound,n.absoluteTranslation=(n.lowerBound+n.upperBound)/2,this.currentViewSchema.symbols.splice(t,1),this.timeout((()=>{this.$scope.$broadcast("bb-grades-schema-symbol-change",{action:"delete",index:t})}),this.$scope)}}validate(){var e;return null===(e=this.$scope.gradeSchemasPanelForm)||void 0===e?void 0:e.$valid}cancel(){s.copy(this.originCurrentViewSchema.symbols,this.currentViewSchema.symbols),this.currentViewSchema.title=this.originCurrentViewSchema.title,this.currentViewSchema.localizableTitle?this.currentViewSchema.ui.displayTitle=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.$scope),key:this.originCurrentViewSchema.ui.displayTitleKey}):this.currentViewSchema.ui.displayTitle=this.originCurrentViewSchema.ui.displayTitle,this.$scope.gradeSchemasPanelForm.$setPristine()}save(){this.currentViewSchema.$patch().$then((e=>{this.$rootScope.$broadcast("bb-grades-schema-save",e),this.originCurrentViewSchema=s.copy(this.currentViewSchema),this.originCurrentViewSchema.title=this.currentViewSchema.title,this.$scope.gradeSchemasPanelForm.$setPristine()}))}validateTelemetrySettings(){var e;return null===(e=this.$scope.telemetrySettingsForm)||void 0===e?void 0:e.$valid}saveTelemetrySettings(){if(!this.course||!this.canViewTelemetrySettingsUI)return this.$q.when(!0);const t={key:e.STUDENT_FAILING_PREFERENCE_KEY,value:this.studentFailingThreshold,visibleToStudents:!0},n={key:e.STUDENT_ABSENT_PREFERENCE_KEY,value:this.studentAbsentThreshold?this.studentAbsentThreshold:e.DISABLE_ABSENT_NOTICES,visibleToStudents:!0},i={key:e.STUDENT_ALERTS_ENABLED,value:this.studentAlertsEnabled,visibleToStudents:!0};return null!=this.studentFailingThreshold?this.$q.all([this.course.preferences.setPreference(t),this.course.preferences.setPreference(n),this.course.preferences.setPreference(i)]):this.$q.all([this.course.preferences.deletePreference(e.STUDENT_FAILING_PREFERENCE_KEY),this.course.preferences.setPreference(n),this.course.preferences.setPreference(i)])}getCourseColor(){return this.$scope.course.courseColorClass}addNewCategory(){this.currentEditedCategory&&this.cancelEditCategory(this.currentEditedCategory),this.isInputBluredByCancelAdd=!1,this.showAddNewCategory=!0,this.timeout((()=>{s.element("#add-new-category-input").on("keydown",(e=>{e.keyCode!==u.u||e.shiftKey||(this.isInputBluredByCancelAdd=!0)}));const e=s.element("#cancel-add-category-button");e.on("mousedown",(()=>{this.isInputBluredByCancelAdd=!0})),e.on("keydown",(e=>{e.keyCode===u.u&&e.shiftKey?this.isInputBluredByCancelAdd=!1:e.keyCode===u.u&&(this.isInputBluredByCancelAdd=!1,this.validateAndAddCategory())}))}),this.$scope,0,!1)}cancelAddNewCategory(){this.newCategoryName="",this.showAddNewCategory=!1,this.clearValidationForAddCategory()}editCategory(e){this.showAddNewCategory&&this.cancelAddNewCategory(),this.currentEditedCategory&&this.cancelEditCategory(this.currentEditedCategory),this.switchEditMode(e,!0),e.isUserDefined&&this.timeout((()=>{s.element("#cancel-update-category-button-"+e.id).on("mousedown",(()=>{this.isInputBlurredByCancelButton=!0}))}),this.$scope)}cancelEditCategory(e){this.switchEditMode(e,!1),this.clearValidationForUpdateCategory(e)}switchEditMode(e,t){this.timeout((()=>{this.isInputBlurredByCancelButton=!t,this.currentEditedCategory=t?e:null,this.newCategoryName=t?e.localizableTitle.languageKey:"",e.ui.isEditMode=t}),this.$scope),t&&this.timeout((()=>{this.addEventHandlerForEditCategory(e)}),this.$scope)}validateCategory(e,t){const n=this.validationManager,i=n.execute("isEmpty",this.newCategoryName),s=!i&&n.execute("isCategoryDuplicate",this.newCategoryName,t),a=t?t.ui.form[e+t.id]:this.$scope.addCategoryForm[e];return a&&(i||s)&&(a.$setValidity("required",!i),a.$setValidity("nameDuplicate",!s),a.$setDirty()),!i&&!s}createCategory(){this.isInputBluredByCancelAdd||this.course.gradebook.categories.$create({title:this.newCategoryName}).$then((e=>{const t=this.categories.length;if(t>0){this.categoryService.reorderCategories(this.categories,t-1),this.cancelAddNewCategory();const n=this.$scope.addCategoryForm["add-new-category-input"];n&&n.$setPristine(),this.categoryService.updateCategoriesForCourse(this.course.id,e),e.permissions={delete:!0,edit:!0},this.timeout((()=>{this.addEventHandlerForEditCategory(e)}),this.$scope)}}))}addEventHandlerForEditCategory(e){s.element("#update-category-input-"+e.id).on("keydown",(e=>{e.keyCode!==u.u||e.shiftKey||(this.isInputBlurredByCancelButton=!0)}));const t=s.element("#cancel-update-category-button-"+e.id);t.on("mousedown",(e=>{this.isInputBlurredByCancelButton=!0})),t.on("keydown",(t=>{t.keyCode===u.u&&t.shiftKey?this.isInputBlurredByCancelButton=!1:t.keyCode===u.u&&(this.isInputBlurredByCancelButton=!1,this.validateAndUpdateCategory(e))}))}deleteCategory(e){const t=this.categories[e];this.categories[e].$destroy().$allow(["400"]).$asPromise().then((e=>{e&&e.$response&&e.$response.data&&400===e.$response.data.status?this.$modal.open({template:S,scope:this.$scope,resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/grades/course-grades")]}}):this.categoryService.deleteCategoriesForCourse(this.course.id,t)}))}updateCategory(e){this.isInputBlurredByCancelButton||(e.localizableTitle.languageKey=this.newCategoryName,e.title=e.localizableTitle.languageKey,e.$save(["title"]).$then((()=>{this.switchEditMode(e,!1),this.categoryService.updateCategoriesForCourse(this.course.id,e)})))}getCategoryIcon(e){return this.categoryService.getCategoryIcon(e)}validateAndAddCategory(){this.validateCategory("add-new-category-input")&&this.createCategory()}validateAndUpdateCategory(e){this.validateCategory("update-category-input-",e)&&this.updateCategory(e)}getCategoryMaxLength(){return 64}getCategoryMaxLengthDiff(){const e=this.$scope.addCategoryForm["add-new-category-input"].$error;return e&&e.maxlength?e.maxlength.diff:0}getCategoryMaxLengthDiffUpdate(e){const t=e.ui.form["update-category-input-"+e.id].$error;return t&&t.maxlength?t.maxlength.diff:0}showOptionsForCategory(e){return e.title!==C.W.Attendance&&(!e.permissions||(e.permissions.delete||e.permissions.edit))}getCategoryOverflowMenu(e){const t=[];return e.permissions&&e.permissions.edit&&t.push({icon:"draw",onClick:()=>{this.editCategory(e)},labelKey:"global.edit"}),e.permissions&&e.permissions.delete&&t.push({icon:"trash",onClick:()=>{this.deleteCategory(this.categories.indexOf(e))},confirmationOptions:{lazyLoadTitleKeyAndInstructionsKey:()=>this.$q.when(g.a("x-bb-category-delete"))},labelKey:"global.delete"}),t}clearValidationForAddCategory(){const e=this.$scope.addCategoryForm["add-new-category-input"];e&&(e.$setValidity("required",!0),e.$setValidity("nameDuplicate",!0),e.$setPristine())}clearValidationForUpdateCategory(e){const t=e.ui.form["update-category-input-"+e.id];t&&(t.$setValidity("required",!0),t.$setValidity("nameDuplicate",!0),t.$setPristine())}getCodeOverflowMenu(e){const t=[];return e.model.permissions&&e.model.permissions.update&&t.push({icon:"draw",onClick:this.updateNotation.bind(this,e),labelKey:"global.edit"}),e.model.permissions&&e.model.permissions.delete&&t.push({icon:"trash",onClick:this.deleteNotation.bind(this,e),confirmationOptions:{lazyLoadTitleKeyAndInstructionsKey:()=>this.$q.when(g.a("x-bb-grade-notation"))},labelKey:"global.delete"}),t}get isNotationEditing(){return this.notations.some((e=>e.isEditing))}get activeNotation(){return this.notations.filter((e=>e.isEditing))[0]}showOptionsForNotation(e){const t=e.model.permissions;return!t||(t.delete||t.update)}createNotation(e){this.isNotationEditing||(e.stopPropagation(),this.buildNewNotation())}updateNotation(e){e.model.permissions.update&&!this.isNotationEditing&&(e.code=e.model.code,e.description=e.model.description,this.timeout((()=>{e.isEditing=!0}),this.$scope))}leaveEditMode(e,t){this.isNotationEditing&&("cancel"===t?this.cancelEdit(e):(this.validateNotation(e),this.confirmEdit(e)),this.$scope.$broadcast("focus",this.focusNotationEventName))}confirmEdit(e){const t=this.isCodeValidate;let n=!1;if(e.model.code===e.code&&e.model.description===e.description||(n=!0),t)e.isEditing=!1,e.model.code=e.code,e.model.description=e.description,e.model.id?n&&e.model.$save().$then((e=>{this.$scope.$emit("grade-notation-update",this.course.id),this.$rootScope.$broadcast("bb-reload-grid-view")})):this.course.gradebook.performancecodes.$create(e.model).$then((t=>{e.model=t,this.$scope.$emit("grade-notation-update",this.course.id),this.$rootScope.$broadcast("bb-reload-grid-view")}));else{const t=e.form["title-"+e.id],n=e.form["detail-"+e.id];t.$setTouched(),n.$setTouched()}}cancelEdit(e){e.isEditing=!1,""!==e.model.code&&""!==e.model.description||this.deleteNotation(e)}validateNotation(e){const t=e.form["title-"+e.id],n=e.form["detail-"+e.id],i=this.validationManager,s=i.execute("isEmpty",e.code),a=i.execute("isNotationNumberOnly",e.code),o=i.execute("isEmpty",e.description),r=i.execute("isNotationExist",e),l=i.execute("isNotationSchemaDuplicate",e),c=e=>{t.$setValidity("required","isNotationEmpty"!==e),t.$setValidity("notationNumberOnly","isNotationNumberOnly"!==e),t.$setValidity("notationExist","isNotationExist"!==e),t.$setValidity("notationSchemaDuplicate","isNotationSchemaDuplicate"!==e),n.$setValidity("required","descriptionEmpty"!==e)};s?c("isNotationEmpty"):a?c("isNotationNumberOnly"):r?c("isNotationExist"):l?c("isNotationSchemaDuplicate"):o?c("descriptionEmpty"):c(),t.$setDirty(),n.$setDirty(),this.isCodeValidate=!(s||a||o||r||l)}deleteNotation(e){const t=this.notations.indexOf(e);e.model.$destroy().$allow(["400"]).$asPromise().then((e=>{this.$scope.$emit("grade-notation-update",this.course.id),this.notations.splice(t,1),this.$rootScope.$broadcast("bb-reload-grid-view")}))}buildNewNotation(){const e={id:this.generateNotationId(),code:"",description:"",model:this.GradeNotationModel.$build({code:"",description:"",permissions:{delete:!0,update:!0}}),isEditing:!0};return this.notations.push(e),e}generateNotationId(){return"grade_notation_"+e.uid++}pastDueCheckboxEvent(){this.$scope.$broadcast(b.b,this.isPastZeroAssigned)}automaticZeroConfirm(e){let t;this.isPastZeroAssigned?(t={countUnsubmittedWorkAsZero:!0},delete this.gradebookSettings.retainAutoZero):(l.a.Retain.isEqualTo(e.choice)&&(t={countUnsubmittedWorkAsZero:!1,retainAutoZero:!0}),l.a.Delete.isEqualTo(e.choice)&&(t={countUnsubmittedWorkAsZero:!1,retainAutoZero:!1})),this.updatePastDueZero(t)}automaticZeroCancel(){this.isPastZeroAssigned=!this.isPastZeroAssigned}updatePastDueZero(e){Object.assign(this.gradebookSettings,e),this.gradebookSettings.$patch().$then((()=>{this.$rootScope.$broadcast(O)}))}};D.STUDENT_FAILING_PREFERENCE_KEY="telem.threshold.failing.grade",D.STUDENT_ABSENT_PREFERENCE_KEY="telem.threshold.days.absent",D.STUDENT_ALERTS_ENABLED="telem.student.alerts.enabled",D.STUDENT_ABSENT_DEFAULT=5,D.DISABLE_ABSENT_NOTICES=0,D.INITIAL_FAILING_PREF_ARGS={key:D.STUDENT_FAILING_PREFERENCE_KEY},D.INITIAL_ABSENT_PREF_ARGS={key:D.STUDENT_ABSENT_PREFERENCE_KEY},D.INITIAL_ENABLE_PREF_ARGS={key:D.STUDENT_ALERTS_ENABLED,defaultValue:"true"},D.uid=0,D=Object(i.a)([Object(i.c)(0,Object(a.b)("$scope")),Object(i.c)(1,Object(a.b)("$rootScope")),Object(i.c)(2,Object(a.b)("$q")),Object(i.c)(3,Object(a.b)("currentCourse")),Object(i.c)(4,Object(a.b)("$modal")),Object(i.c)(5,Object(a.b)(m.serviceName)),Object(i.c)(6,Object(a.b)(p.b)),Object(i.c)(7,Object(a.b)("GradeNotationModel")),Object(i.c)(8,Object(a.b)(h.d)),Object(i.c)(9,Object(a.b)(c.b)),Object(i.c)(10,Object(a.b)(d.c)),Object(i.c)(11,Object(a.b)(v.b)),Object(i.c)(12,Object(a.b)(f.b)),Object(i.c)(13,Object(a.b)(y.b)),Object(i.c)(14,Object(a.b)(k.n))],D)},"2qV7":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return le}));n("JzsJ"),n("h3Te");var i=n("nsO7"),s=n("Llzl"),a=n("TnpK"),o=n("pjml"),r=n("Fvsw"),l=n("fYJU"),c=n("0JpG"),d=n("neh4"),u=n("vWx0"),m=n("VfFK"),p=n("OMme"),h=n("jj6p"),g=n("cacA"),b=n("sb+l"),f=n("Nrpd"),v=n("rmtn"),y=n("iAaI"),k=n("qOsI"),x=n("qtHE"),S=n("Sjpn"),C=n("DDbI"),E=n("P43K"),I=n("YVo+"),w=n("iwI+"),A=n("yGso"),O=n("YfM7"),D=n("pUR+"),T=n("Hbkz"),P=n("CPqS"),$=n("GNXM"),G=n("3hz+"),j=n("FE+f"),L=n("fzj8"),N=n("yXB1"),B=n("1I+h"),M=n("JRp+"),R=n("gOJg"),F=n("y3by"),V=n("uNsL"),_=n("8HGT"),U=n("jnoB"),H=n("7oqQ"),z=n("RJ/U"),q=n("7QJo"),W=n("UiBk"),K=n("YRs5"),J=n("U8wS"),Q=n("sNuB"),Z=n("BrA8"),Y=n("IVtk"),X=n("hWgD"),ee=n("IVCC"),te=n("1ZiP"),ne=n("cwoR"),ie=n("j2IR"),se=n("Q/M7"),ae=n("tfZW"),oe=n("5MwF"),re=n("7/CN");const le="ultra.routes";function ce(e,t){return{systemInfo:[r.b,e=>e.getSystemInfo().$asPromise()],currentUser:[l.b,e=>e.userModel.$asPromise()],languages:["currentUser",o.J.serviceName,(e,n)=>{if(t&&e.locale)return n.$collection().$fetch({limit:1e4}).$asPromise()}],user:["currentUser","languages",(e,n)=>(t&&e.locale&&!i.find(n,{locale:e.locale})&&(e.locale=null),e.$patch().$asPromise())],localize:["$q","$rootScope","user","systemInfo",c.serviceName,"$cookies","$window",(t,n,i,s,a,o,r)=>{let l=i.locale||s.defaultLocaleIdentifier;const d=o.get("guest.session.locale");i.isGuest()&&d&&(l=d);const u=ae.a.getInstance();if(s.siteId&&s.ultraCustomLocaleLocation&&u.setOverrideLocation(s.ultraCustomLocaleLocation,s.siteId),s.ultraLocaleData){const e=Object.keys(s.ultraLocaleData);e.forEach((e=>{const t=s.ultraLocaleData[e];t.ultraOverrideCode&&a.addOverride(e,t.ultraOverrideCode)})),e.indexOf(l)<0&&(l=s.defaultLocaleIdentifier)}const m=(e=>e.location)(r).href.match(c.localeQuerystringRegex);m&&oe.a.features.devtools_enableSetLangQuery&&(l=m[1]),a.setUltraLocaleData(s.ultraLocaleData),a.setUserLocale(l),a.setSystemDefaultLocale(s.defaultLocaleIdentifier),re.g.initialize(a.isRTL()?re.b.RightToLeft:re.b.LeftToRight);const p=[a.setLocale(n,l),...e.map((e=>a.loadBundle(e))),t.when(re.g.getCSSLoadedPromise())];return t.all(p)}]}}s.module(le,[o.N,r.a,l.a,c.moduleName,a.b,d.a,u.a,m.a,p.a,O.a,x.a,h.a,g.a,S.a,C.a,E.a,I.a,w.a,b.a,f.a,v.a,y.a,k.a,A.a,T.a,P.a,$.a,G.a,j.a,L.a,N.a,B.a,M.a,R.a,F.a,V.a,_.a,U.a,H.a,z.a,q.a,W.a,K.a,J.a,Q.a,D.a,Z.a,X.a,ee.a,te.a,ne.a,ie.a,"ngCookies"]).config([a.c,t=>{t.state("base",{abstract:!0,resolve:ce(["features/base/base","global","common/grades-common","components/services/grade"]),require:()=>Promise.all([n.e(654),n.e(27),n.e(26),n.e(31),n.e(47),n.e(77),n.e(560)]).then(n.bind(null,"03Un"))}).state("welcome",{resolve:ce(["features/welcome"],!0),require:()=>n.e(672).then(n.bind(null,"IYP1")),pageTitle:"welcome.welcome.title"}).state("register-succeeded",{url:"/startLearn?registerStatusCode?courseId?enrollStatusCode",require:()=>n.e(729).then(n.bind(null,"90MB"))}).state("base.not-found",{resolve:{translations:[c.serviceName,e=>e.loadBundle("features/base/not-found/base-not-found")]},require:()=>n.e(679).then(n.bind(null,"A15Z")),pageTitle:"base.not-found.pageNotFoundTitle"}).state("logout",{url:"^/logout",onEnter:()=>{e("body").addClass("bb-logout"),window.location.href=se.c("/webapps/login/?action=logout")}}).state("classicRedirect",{url:"/classicRedirect?legacyUrl",onEnter:[a.d,e=>{const t=e.nextParams.legacyUrl,n=t?se.b(t).course_id:null;n&&e.goPeekState("course.classic.outline",{courseId:n,legacyUrl:t})}]}).state("mobileApiCall",{url:"^/mobileApiCall?action&courseId&contentId&attemptId&columnId",onEnter:[a.d,e=>{Y.a(e)}]})}])}).call(this,n("71td"))},3:function(e,t){},"3+vU":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("1ZbL"),s=n("TUnR");const a="ultra.components.directives.content.guidance-feature-announcement",o=Object(i.a)({Class:s.a,bindingNames:["announcementTitle","content","componentKey","doneButtonText","buttonAriaLabel","linkHref","linkText","onCloseAnnouncement","closeLabel"],withProvider:!0,withErrorModalBoundary:!1});angular.module(a,[]).component("bbGuidanceFeatureAnnouncement",o)},"367g":function(e,t,n){},"36CG":function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return y}));var i=n("D57K"),s=n("pjml"),a=n("lVRt"),o=n("TnpK"),r=n("Qbdf"),l=n("kcGO"),c=n("zGdY"),d=n("aHpC"),u=n("yC9S"),m=n("ZzR9");const p="ultra.service.course-context.content",h="currentContentModel",g=h+"Provider",b=a.b,f=p,v=h,y=g;let k=class{constructor(e,t,n){this.$q=e,this.$rootScope=t,this.$ngRedux=n,this.dispatchContentOpened=()=>{},this.dispatchContentClosed=()=>{},this.onStateHasContentInContextChanged=(e,t,n)=>{n&&!t&&this.clear()},this.connectToRedux(),u.b.OnRootScope(t,m.b.$stateHasContentInContextChanged,this.onStateHasContentInContextChanged)}get contentId(){return this._contentId}get content(){return this._content}connectToRedux(){this.$ngRedux.connect(null,(e=>({dispatchContentOpened:t=>{e(Object(l.e)(t))},dispatchContentClosed:t=>{e(Object(l.d)(t))}})))(this)}setCurrentContent(e){e!==this.content&&(e||this.content)&&(this.content&&this.dispatchContentClosed(this.content),this._contentId=e?e.id:null,this._content=e,this.content&&this.dispatchContentOpened(this.content))}clear(){this.setCurrentContent(null)}load(e,t){return e?this.contentId===t&&this.content?this.content.$asPromise():this.loadContent(e,t).then((e=>(this.setCurrentContent(e),e.$asPromise()))).catch((e=>this.$q.reject(e))):this.$q.when(null)}loadContent(e,t){return e.$find(t).$allow([404]).$asPromise().then((e=>{const n=e.$response;return n&&n.status===c.S.NotFound?this.$q.reject(new Error(`Content  ${t} not found`)):e.$asPromise()}))}};k=Object(i.a)([Object(i.c)(0,Object(d.b)("$q")),Object(i.c)(1,Object(d.b)("$rootScope")),Object(i.c)(2,Object(d.b)("$ngRedux"))],k);const x=[s.N];angular.module(p,x).provider(h,class{constructor(){this.$get=["$injector",e=>e.instantiate(k)],this.name=b,this.resolve=["$q",o.d,h,r.d,(e,t,n,i)=>{var a;const o=null!==(a=t.nextParams.contentId)&&void 0!==a?a:t.nextParams.id;return o&&o!==s.p.CREATE_CONTENT_ID?n.load(i.contents,o):e.resolve(void 0)}]}})},"3C2s":function(e,t){e.exports='<button ng-if="!overflowMenu.isSingleMode() && overflowMenu.menuItems.length > 0"\n        ng-show="overflowMenu.show()"\n        ng-disabled="isDisabled()"\n        class="overflow-menu-button"\n        data-dropdown="{{elementId}}-menu-icon-dropdown"\n        data-options="{{::overflowMenu.menuDirection}}"\n        aria-haspopup="true"\n        title="{{overflowMenu.getButtonAriaLabel()}}"\n        ng-click="overflowMenu.showMenu=true"\n        aria-label="{{overflowMenu.getButtonAriaLabel()}}"\n        analytics-id="{{analyticsIdTagPrefix}}.showMenu.button">\n  <bb-svg-icon size="small" icon="menu"></bb-svg-icon>\n</button>\n\n\x3c!--Single mode toggle button--\x3e\n<button ng-if="overflowMenu.isSingleMode() && overflowMenu.menuItems.length > 0"\n        ng-show="overflowMenu.singleMenuItem.show()"\n        ng-click="overflowMenu.showMenu=true; overflowMenu.singleMenuItem.onClick()"\n        ng-disabled="isDisabled()"\n        class="overflow-menu-button"\n        bb-click-focus="{{overflowMenu.singleMenuItem.hasConfirmation() ? \'\' : overflowMenu.singleMenuItem.bbClickFocus}}"\n        data-dropdown="{{elementId}}-menu-icon-dropdown"\n        data-options="{{::overflowMenu.menuDirection}}"\n        aria-haspopup="true"\n        title="{{overflowMenu.singleMenuItem.ariaLabel()}}"\n        aria-label="{{overflowMenu.singleMenuItem.ariaLabel()}}"\n        analytics-id="{{analyticsIdTagPrefix}}.showSingleMenu.button">\n  <bb-svg-icon size="small" icon="{{overflowMenu.singleMenuItem.icon}}" status="{{overflowMenu.singleMenuItem.status}}"></bb-svg-icon>\n</button>\n\n\x3c!--Menu --\x3e\n<div id="{{::elementId}}-menu-icon-dropdown" ng-if="overflowMenu.showMenu" ng-show="overflowMenu.show()" class="f-dropdown f-dropdown-overflow-menu"\n     data-dropdown-content aria-autoclose="false">\n  \x3c!--Menu item list--\x3e\n  <ul ng-show="!overflowMenu.isSingleMode()"\n      class="js-menu-item-list"\n      ng-class="{\'with-option-text\': overflowMenu.hasOptionText(), \'ignore-accordion\': overflowMenu.ignoreAccordion()}"\n      role="menu">\n    <li ng-repeat="menuItem in overflowMenu.menuItems | filter:overflowMenu.visibleMenuItemsFilter track by menuItem.id"\n      bb-click-to-invoke-child="a.js-menu-item-link"\n      custom-attributes="{{ ::menuItem.addAdditionalAttributes() }}"\n      id="{{ ::menuItem.id + \'_li\' }}"\n      role="menuitem">\n      <a href="javascript:void(0);"\n         ng-if="!menuItem.disable()"\n         class="js-menu-item-link"\n         id="{{::menuItem.id}}"\n         ng-click="menuItem.onClick()"\n         bb-click-focus="{{menuItem.hasConfirmation() ? \'\' : menuItem.bbClickFocus}}"\n         aria-label="{{menuItem.ariaLabel()}}"\n         ng-keydown="overflowMenu.onOptionKeydown($event)"\n         analytics-id="{{::overflowMenu.buildAnalyticsId(menuItem)}}">\n        \x3c!-- Icon --\x3e\n        <bb-overflow-menu-icon icon-name="{{menuItem.icon}}" status="{{menuItem.status}}"></bb-overflow-menu-icon>\n        \x3c!-- Label --\x3e\n        <span bb-translate>{{::menuItem.labelKey}}</span>\n        <p ng-if="::menuItem.textKey" class="option-text" bb-translate>{{::menuItem.textKey}}</p>\n      </a>\n      <a href="javascript:void(0);"\n         ng-if="menuItem.disable()"\n         class="js-menu-item-link disable"\n         ng-click="menuItem.onClick()"\n         aria-disabled="true"\n         bb-tooltip\n         enhanced-tooltip="true"\n         tooltip-position="bottom"\n         title="{{menuItem.disableInfo}}"\n         analytics-id="{{analyticsIdTagPrefix}}.{{::menuItem.labelKey}}.disabled.link">\n        \x3c!-- Icon --\x3e\n        <bb-overflow-menu-icon icon-name="{{menuItem.icon}}" status="{{menuItem.status}}"></bb-overflow-menu-icon>\n        \x3c!-- Label --\x3e\n        <span bb-translate>{{::menuItem.labelKey}}</span>\n        <p ng-if="::menuItem.textKey" class="option-text" bb-translate>{{::menuItem.textKey}}</p>\n        <span class="sr-only">{{menuItem.disableInfo}}</span>\n      </a>\n    </li>\n  </ul>\n\n  \x3c!-- Confirmation - shows when the corresponding button is pressed from the menu --\x3e\n  <div role="alertdialog"\n       aria-label="{{overflowMenu.getTextByKey(menuItem.options.confirmationOptions.titleKey)}}"\n       ng-repeat="menuItem in overflowMenu.confirmationNeededMenuItems"\n       ng-show="menuItem.show()" id="{{::menuItem.confirmationId}}"\n       class="menu-icon-confirmation"\n       ng-class="{\'menu-icon-confirmation-single-mode\': overflowMenu.isSingleMode()}">\n    <h1 aria-describedby="{{::(\'overflow-confirmation-instructions\' + menuItem.confirmationId)}}"\n        bb-focus="menuItem.isConfirmationMenuVisible()"\n        ng-blur="menuItem.blur()"\n        keep-trigger-focus="true">{{overflowMenu.getTextByKey(menuItem.options.confirmationOptions.titleKey)}}</h1>\n    <p id="{{\'overflow-confirmation-instructions\' + menuItem.confirmationId}}">{{overflowMenu.getTextByKey(menuItem.options.confirmationOptions.instructionsKey)}}</p>\n    <div class="choice" ng-show="menuItem.hasChoices()" ng-repeat="choice in menuItem.options.confirmationOptions.choices">\n      <input id="{{choice.key + elementId}}"\n             ng-disabled="choice.isDisable"\n             ng-model="choice.value"\n             type="checkbox"\n             ng-keydown="overflowMenu.onOptionKeydown($event)"\n             analytics-id="{{analyticsIdTagPrefix}}.isDisabled.input.checkbox"/>\n      <label for="{{choice.key + elementId}}" bb-translate="{{choice.localizedKey}}"></label>\n    </div>\n    <hr>\n    <div class="menu-icon-confirmation-footer">\n      <button class="button button--secondary"\n              ng-click="menuItem.onCancel()"\n              analytics-id="{{analyticsIdTagPrefix}}.cancel.button">\n        <span bb-translate>global.cancel</span>\n      </button>\n      <button class="button js-delete-confirm"\n              ng-click="menuItem.onConfirm($event)"\n              bb-click-focus="{{::menuItem.bbClickFocus}}"\n              analytics-id="{{analyticsIdTagPrefix}}.confirm.button">\n        <span bb-translate>{{::menuItem.options.comfirmLabelKey || menuItem.labelKey}}</span>\n      </button>\n    </div>\n  </div>\n</div>\n'},"3FFP":function(e,t,n){"use strict";var i=n("nsO7"),s=n("71td"),a=n("Llzl"),o=n("nbDY"),r=n.n(o),l=n("rxY8"),c=n("lEL+"),d=n("0JpG"),u=n("yC9S"),m=n("LsF/"),p=n("DyQT"),h=n("yo/t");n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}));const g="ultra.components.directives.saveTray";class b extends r.a{constructor(e,t,n,i){super(e),this.template=t,this.msgKeysSuffix=n,this.eventName=i}getTemplateHtml(){return this.template}static getTrayType(e){switch(e){case"LoadMoreResults":return b.LoadMoreResults;case"Toast":return b.Toast;default:return b.Default}}}b.Default=new b("Default",m,{inProgress:"saving",success:"success",error:"error"},"bb-save-tray-start"),b.LoadMoreResults=new b("LoadMoreResults",p,{inProgress:"loadingMoreItems",success:"itemsLoaded",error:"itemsFailedToLoad"},"bb-load-more-results-start"),b.Toast=new b("Toast",h);class f{constructor(e,t,n,a,o){if(this.scope=e,this.spinner=n,this.timeout=a,this.bbLocalize=o,this.inProgress=!1,this.localizationKeysPrefix=e.trayLocalizationKeysPrefix||"components.directives.save-tray",this.footer=t.closest("footer"),e.toastMessage&&e.toastMessage()){if(t.find(".notification-container span.progress-status").html(e.toastMessage()),e.toastShortMessage&&e.toastShortMessage()){let n,a=!1,o=!1,r=!0;const l=t.find(".notification-container span.progress-status"),c=()=>{const t=s(window).width();l[0].offsetWidth<l[0].scrollWidth?(a||(n=t),a=!0,r&&(o=!0),l.html(e.toastShortMessage())):t>n&&!o&&(a=!1,l.html(e.toastMessage())),r=!1};this.timeout(c,e,0);const d=i.debounce(c,100);u.b.OnWindow("resize",d,e)}}else this.spinnerArgs={canvasSize:43,scaleX:1.5,scaleY:1.5,successCallback:()=>{this.status="success",this.inProgress=!1,this.sendStatusMessage(e,this.status),this.sendMessageToScreenReader(e,e.trayType.msgKeysSuffix.success),e.$apply()},errorCallback:()=>{this.status="error",this.inProgress=!1,this.sendStatusMessage(e,this.status),this.sendMessageToScreenReader(e,e.trayType.msgKeysSuffix.error),e.$apply()}},e.$on("save-tray-spinner-status-update",((e,t)=>{if(this.spinnerObject)return t?this.spinnerObject.complete():this.spinnerObject.error()})),e.$on(e.trayType.eventName,((n,i,s,a,o,r)=>{e.trayId===i&&(this.status="",this.canvasElement||(this.canvasElement=t.find(".canvas")),a&&(this.spinnerArgs=a),this.footer.addClass("is-active"),this.spinnerObject||(this.spinnerObject=this.spinner.initInlineLoader(this.canvasElement,this.spinnerArgs)),this.inProgress||(this.spinnerObject.start(),this.inProgress=!0),this.timeoutComplete=!1,this.activeTimeout&&!this.timeoutComplete&&this.timeout.cancel(this.activeTimeout),this.sendMessageToScreenReader(e,e.trayType.msgKeysSuffix.inProgress,0),s.then((()=>{o?(this.activeTimeout=this.timeout((()=>{this.footer.removeClass("is-active"),this.timeoutComplete=!0,this.scope.$root.$broadcast("bbSaveTrayComplete")}),e,r||f.ACTIVE_TIMEOUT_LENGTH,!0),this.spinnerObject.complete()):this.spinnerObject.error()}),(e=>{e&&"canceled"===e.$status||this.spinnerObject.error()})))}))}sendMessageToScreenReader(e,t,n){t&&e.$root.$emit("read-info-directive-alert",this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:this.localizationKeysPrefix+"."+t}),n)}sendStatusMessage(e,t){"true"===e.emitStatusEvent&&e.$root.$emit("save-tray-status-event",t)}}f.$inject=["scope","element",l.b,c.b,d.serviceName],f.ACTIVE_TIMEOUT_LENGTH=6e3;class v{constructor(e,t){this.$injector=e,this.$compile=t,this.restrict="E",this.scope={trayId:"@?",trayLocalizationKeysPrefix:"@?",toastMessage:"&?",toastShortMessage:"&?",toastClass:"&?",toastIcon:"&?",toastStatus:"&?",emitStatusEvent:"@?"},this.link=(e,t,n)=>{n.trayType?e.trayType=b.getTrayType(n.trayType):e.trayType=e.toastMessage&&e.toastMessage()?b.Toast:b.Default,t.append(this.$compile(e.trayType.getTemplateHtml())(e)),e.saveTray=this.$injector.instantiate(f,{scope:e,element:t})}}}v.$inject=["$injector","$compile"],a.module(g,[l.a,c.a,d.moduleName]).directive("bbSaveTray",["$injector",e=>e.instantiate(v)])},"3Jgm":function(e,t,n){"use strict";var i=n("Llzl"),s=n("pjml"),a=n("Qbdf"),o=n("k9iv"),r=n("0JpG"),l=n("TnpK"),c=n("Sa5G"),d=n("FBBZ"),u=n("71td");var m=n("Q/M7");n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));const p="ultra.components.services.partner",h="partner";class g{constructor(e,t,n,i,s,a,o,r,l,c,d,u){this.$q=e,this.$rootScope=t,this.$stateParams=n,this.$window=i,this.cacheFactory=s,this.contextCourse=a,this.errorModalService=o,this.localizeService=r,this.ultraStateService=l,this.PartnerCourseModel=c,this.PartnerModel=d,this.PartnerStatusModel=u,this.shortMaxAge=5e3,this.partnerStatusCache=s.createCache("PartnerStatusCache",{deleteOnExpire:"passive",maxAge:this.shortMaxAge}),this.partnersCache=s.createCache("PartnersCache",{deleteOnExpire:"passive",maxAge:this.shortMaxAge}),this.partnerLinkedCoursesCache=s.createCache("PartnerLinkedCoursesCache",{deleteOnExpire:"passive",maxAge:this.shortMaxAge})}getPartnerCloudStatus(e,t=!1){if(u("body").hasClass("bb-within-uia-test"))return this.$q.when({enabled:!1,userCloudProvisioned:!1});if(t)return this.PartnerStatusModel.getStatus(e);let n=this.partnerStatusCache.get("status");return n||(n={promise:this.PartnerStatusModel.getStatus(e)},this.partnerStatusCache.put("status",n)),n.promise}resetPartnerCloudStatus(){this.partnerStatusCache.removeAll()}getPartners(e,t=!1){if(t)return this.PartnerModel.getPartnersByType(e);let n=this.partnersCache.get(e);return n||(n={promise:this.PartnerModel.getPartnersByType(e)},this.partnersCache.put(e,n)),n.promise}getLinkedPartners(e,t=!1){if(t)return this.PartnerCourseModel.$new(e).partnerLinkedCourses.$search().$allow(["400-599"]).$asPromise();let n=this.partnerLinkedCoursesCache.get(e);return n||(n={promise:this.PartnerCourseModel.$new(e).partnerLinkedCourses.$search().$allow(["400-599"]).$asPromise()},this.partnerLinkedCoursesCache.put(e,n)),n.promise}launchPartner(e,t){e.toolProvider.available?d.o(e)?this._launchBrowseLink(e.browseContentLink):this._checkProvisioningAndLaunch(e,t):e.toolProvider.compatible?this.errorModalService.handleError(this.localizeService.translateSync({locale:this.localizeService.getLocale(this.$rootScope),key:"course.partnerList.errorProviderNotConfigured"})):this.errorModalService.handleError(this.localizeService.translateSync({locale:this.localizeService.getLocale(this.$rootScope),key:"course.partnerList.errorProviderIncompatible"}))}_checkProvisioningAndLaunch(e,t){this._getProvisioningCheckResult(e.providerId,t).then((t=>{let n;t.status?(n={partnerId:e.providerId,toolType:"browse",partnerTitle:d.h(e)},c.p.Inline.isEqualTo(this.$stateParams.mode)?n.mode=this.$stateParams.mode:(n.partnerParentId=this.$stateParams.parentId,n.position=this.$stateParams.position)):(n={partnerId:e.providerId,toolType:"partnerProvisioning",partnerTitle:this.localizeService.translateSync({locale:this.localizeService.getLocale(this.$rootScope),key:"course.partnerList.partnerProvisioning"}),partnerParentId:this.$stateParams.parentId},this.ultraStateService.current.name.indexOf("peek.books-and-tools")>=0&&(n.returnState="base.courses.peek.course.outline.peek.books-and-tools")),this.ultraStateService.goPeekState("partner-tool.tool",n)}))}_getProvisioningCheckResult(e,t){return i.isDefined(t)?this.$q.when({status:t}):this.PartnerCourseModel.$new(this.contextCourse.courseId).updateProvisioning(e)}_launchBrowseLink(e){let t=m.c(e.url);switch(this.$stateParams.parentId&&(t=m.a(t,"content_id",this.$stateParams.parentId)),e.target){case"_self":this._windowLocationAssign(t);break;case"_blank":this.$window.open(t)}}_windowLocationAssign(e){this.$window.location.assign(e)}}g.$inject=["$q","$rootScope","$stateParams","$window","DSCacheFactory",a.e,o.c,r.serviceName,l.d,s.T.serviceName,s.R.serviceName,s.V.serviceName];i.module(p,[a.b,o.b,r.moduleName,l.b,s.N]).service(h,g)},"3Lzw":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-upload",use:"icon-medium-upload-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-upload"><path d="M12 1v14M1 7v16h22V7h-4M1 7h4-4zM8 5l4-4 4 4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"3PCF":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),function(e){e.None="",e.SafeAssign="SafeAssign",e.Integration="Integration"}(i||(i={}));const s="mdb-sa"},"3bn4":function(e,t,n){"use strict";var i=n("nsO7"),s=n("0JpG");t.a=class{constructor(){this.panelClass="peek",this.url="/goalAlignment",this.require=()=>n.e(599).then(n.bind(null,"lQY5")),this.pageTitle="course.goal-alignment.goal.header",this.allowChildPeekStates=!0,this.peekViewName="goal-alignment-peek",this.params={noAutoGo:!1},this.peekStates=["goal-picker-legacy"],this.resolve={translations:[s.serviceName,e=>e.loadBundle("features/course/goal-alignment/goal")],goalAlignableContents:(()=>{const e=this.resolveGoalAlignableContent(),t=e[e.length-1];return e[e.length-1]=function(...e){return t.apply(null,e).then((e=>i.isArray(e)?e:[e]))},e})(),overrideSubTitle:(()=>this.getOverrideSubTitle())()}}getOverrideSubTitle(){return[()=>null]}}},"3hz+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("nmzr"),s=n("Llzl"),a=n("0JpG"),o=n("TnpK");const r="ultra.course.books-and-tools.router";s.module(r,[a.moduleName,o.b]).config([o.c,e=>{e.peekState("books-and-tools",{url:"/booksAndTools?parentId",require:()=>Promise.all([n.e(75),n.e(607)]).then(n.bind(null,"cFJh")),resolve:{translations:[a.serviceName,e=>e.loadBundle("features/course/books-and-tools/books-and-tools")]},panelClass:"peek",pageTitle:"course.booksAndTools.tab.title",peekStates:[i.i.CONTENT_MARKET,"partner-tools","proctoring-lti-tool"]})}])},"3l3z":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("nsO7"),a=n("lEL+"),o=n("5HCE");const r="ultra.components.directives.gradeGridMessageReborn";class l{constructor(e,t,n,i,a){this.window=e,this.scope=t,this.element=n,this.attrs=i,this.timeout=a,a((()=>{s.isUndefined(t.adjustPosition)||t.adjustPosition(n)}),t)}mousedown(){e(this.window).trigger("click")}}l.$inject=["$window","scope","element","attrs",a.b];class c{constructor(e){this.$injector=e,this.restrict="A",this.template=o,this.link=(e,t,n)=>{e.gradeGridMessageReborn=this.$injector.instantiate(l,{scope:e,element:t,attrs:n})}}}c.$inject=["$injector"],i.module(r,[]).directive("bbGradeGridMessageReborn",["$injector",e=>e.instantiate(c)])}).call(this,n("71td"))},"3mUc":function(e,t){e.exports="<div\n  ng-class=\"{'validation-error' : showError()}\"\n  ng-transclude>\n</div>\n"},"3uIF":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("QLzv");var i=n("5MwF"),s=n("yCC5"),a=n("Rjd/");const o=s.zb;a.a.factory(o,["restmod",e=>{const t=i.a.partnerCloudBasePath+"/v1/courses";return e.model(t).mix({$extend:{Model:{delete(e,t){return this.$build().$send({method:"DELETE",url:this.$url()+"/"+e+"/linkRefId/"+t},(function(e){})).$asPromise()}}}})}])},"3vti":function(e,t,n){"use strict";n("4lO8"),n("my/J");var i=n("71td"),s=n("Llzl"),a=n("yC9S"),o=n("+4Px"),r=n("0JpG");n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));const l="ultra.components.directives.bbSortable";var c;!function(e){e.Horizontal="Horizontal",e.Vertical="Vertical"}(c||(c={}));const d={containerSelector:"[sortable-container]",itemSelector:"[sortable-item]",containerPath:"[sortable-parent]:first",placeholder:'<div class="placeholder">&nbsp;</div>',handle:"i.icon-reorder",onDragStart(e,t,n,i){t.rootGroup.placeholder=e.clone().addClass("placeholder").removeAttr("sortable-item"),t.rootGroup.placeholder.find("[sortable-container], [sortable-item]").removeAttr("sortable-container sortable-item"),n(e,t)},triggerKey:o.f,orientation:c.Vertical,placeholderClass:"placeholder",moveKeyHandler:(e,t,n,i)=>{const s=t.options;if(c.Horizontal===s.orientation){const t=s.isRTL?o.j:o.s,n=s.isRTL?o.s:o.j;i.keyCode===n?(i.stopPropagation(),e.insertBefore(e.prev(s.itemSelector)),e.find(s.handle).focus()):i.keyCode===t&&(e.insertAfter(e.next(s.itemSelector)),e.find(s.handle).focus(),i.stopPropagation())}else i.keyCode===o.v?(i.stopPropagation(),e.insertBefore(e.prev(s.itemSelector)),e.find(s.handle).focus()):i.keyCode===o.d&&(e.insertAfter(e.next(s.itemSelector)),e.find(s.handle).focus(),i.stopPropagation())},cancelHandler:(e,t,n,i,s)=>{const a=e.index();a>n?e.insertAfter(e.parent().find(t.options.itemSelector+":nth-child("+n+")")):a<n&&e.insertAfter(e.parent().find(t.options.itemSelector+":nth-child("+(n+1)+")"))},saveHandler:(e,t,n,i)=>{e.focus(),t.options.onDrop&&"function"==typeof t.options.onDrop&&t.options.onDrop(e,t,n,i)}};class u{constructor(e){this.localize=e,this.scope={sortableOptions:"=?"},this.restrict="A",this.link=(e,t,n)=>{const s=e.$watch("sortableOptions",(()=>{e.sortableOptions=i.extend({},d,e.sortableOptions),e.sortableOptions.isRTL=this.localize.isRTL(e);const n=t.parents("[bb-sortable]");t.on("touchstart",e.sortableOptions.handle,(e=>{i(e.target).trigger("click")})),0!==n.length?(n.sortable("destroy"),n.last().sortable(e.sortableOptions)):t.sortable(e.sortableOptions),t.find(e.sortableOptions.itemSelector).each(((t,n)=>{this.keyboardDragAndDrop(i(n),e)})),a.b.OnRootScope(e,"sortable-item-inserted",((t,n)=>{const i=this.keyboardDragAndDrop(n,e);n.hasClass(e.sortableOptions.placeholderClass)&&!n.data("axHandlersAdded")&&this.triggerAccessibilityMode(i,e)})),s()}))}}keyboardDragAndDrop(e,t){const n=i(e).find(t.sortableOptions.handle);return n.on("keyup",(e=>{if(e.keyCode===t.sortableOptions.triggerKey){const n=i(e.target),s=n.closest(t.sortableOptions.itemSelector),a=s.parents(t.sortableOptions.containerSelector).last().data("sortable");if(s.hasClass(t.sortableOptions.placeholderClass))return;e.stopImmediatePropagation(),s.addClass(t.sortableOptions.placeholderClass),t.sortableOptions.onEnter&&t.sortableOptions.onEnter(s,a),this.triggerAccessibilityMode(n,t)}})),n}triggerAccessibilityMode(e,t){const n=e.closest(t.sortableOptions.itemSelector),s=n.parents(t.sortableOptions.containerSelector).last().data("sortable"),a=n.index();let o,r,l;const c=()=>{i(document).off("click focusin",r),e.off("keydown",o),e.off("keyup",l),n.data("axHandlersAdded",!1),n.removeClass(t.sortableOptions.placeholderClass),t.sortableOptions.onExit&&t.sortableOptions.onExit(n,s)};o=e=>{t.sortableOptions.moveKeyHandler(n,s,i.noop,e)},r=o=>{i(o.target).is(e)||(c(),t.sortableOptions.cancelHandler(n,s,a,i.noop,o))},l=e=>{e.keyCode===t.sortableOptions.triggerKey&&(c(),e.stopImmediatePropagation(),t.sortableOptions.saveHandler(n,s,i.noop,e))},e.on("keyup",l),e.on("keydown",o),i(document).on("click focusin",r),t.$on("$destroy",c),n.data("axHandlersAdded",!0)}}u.$inject=[r.serviceName],s.module(l,[r.moduleName]).directive("bbSortable",["$injector",e=>e.instantiate(u)])},"43zP":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.NoChanges="noChanges",e.NotSaved="notSaved",e.Saved="saved",e.Saving="saving",e.Cancelling="cancelling",e.Deleting="deleting"}(i||(i={}))},"4GL6":function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));n("pGZF");var i=n("nsO7"),s=n("Llzl"),a=n("0JpG"),o=n("lEL+"),r=n("gkef"),l=n("fGgA"),c=n("+4Px");const d="ultra.components.directives.tooltip.complexTooltip";function u(e=""){return'<ul class="complex-tooltip-list '+e+'"><li ng-repeat="item in items track by $index">{{item}}</li></ul>'}class m extends l.a{constructor(e,t,n,a,o,r,l){super(e,t,n,o,r,l),this.scope=e,this.element=t,this.attrs=n,this.$compile=a,this.localizeService=o,this.timeoutService=r,this.windowSizeService=l,this.scopeChanged=!1;const c=this.scope.$watch("tooltipScope()",(e=>{e&&(this.tooltipScope=this.scope.tooltipScope(),this.content=this.$compile(this.scope.tooltipTemplate)(this.tooltipScope),c())})),d=this.scope.$watch("tooltipScope().items",((e,t)=>{e&&t&&i.difference(e,t).length&&(this.tooltipScope=this.scope.tooltipScope(),this.content=this.$compile(this.scope.tooltipTemplate)(this.tooltipScope),this.scopeChanged=!0,this.tooltipScope.$parent.$on("$destroy",(()=>{this.tooltipScope.$destroy()})),(s.isUndefined(this.scope.tooltipAutoUpdate)||"false"===this.scope.tooltipAutoUpdate)&&d())}))}showTooltip(){"true"===this.scope.tooltipAutoUpdate&&this.tooltipCreated&&this.scopeChanged&&(this.updateTooltipContent(super.getTooltip()),this.tooltipCreated=!1,this.scopeChanged=!1),super.showTooltip()}addTooltipContent(t){this.content=this.$compile(this.scope.tooltipTemplate)(this.tooltipScope),this.tooltipScope.$apply(),t.on("keydown",(e=>{e.which===c.g?(this.element.focus(),this.hideTooltip()):e.which!==c.u||e.shiftKey?e.which===c.u&&e.shiftKey&&s.element(e.target).closest(".tooltip-first-tabbable").length>0&&(this.getTooltip().find(".tooltip-last-tabbable").focus(),e.preventDefault(),e.stopPropagation()):s.element(e.target).closest(".tooltip-last-tabbable").length>0&&(this.getTooltip().find(".tooltip-first-tabbable").focus(),e.preventDefault(),e.stopPropagation())})),t.append(e('<div class="'+m.TOOLTIP_CONTENT_CLASS+'"></div>').append(this.content))}updateTooltipContent(e){this.content=this.$compile(this.scope.tooltipTemplate)(this.tooltipScope),e.find("."+m.TOOLTIP_CONTENT_CLASS).empty().append(this.content)}addTooltipStyles(e){e.removeClass("tooltip-center-content"),this.attrs.tooltipMaxWidth&&(e.removeClass("tooltip-max-width"),e.css({"max-width":this.attrs.tooltipMaxWidth})),"true"===this.attrs.tooltipDisablePadding&&e.addClass("tooltip-unpadded"),"true"===this.attrs.tooltipDarkTheme&&e.addClass("tooltip-dark-theme")}addTooltipEvents(e){e.on("mouseleave",(e=>{this.timeoutMS>0?this.timeout=this.timeoutService((()=>{this.hideTooltip()}),this.scope,this.timeoutMS):this.hideTooltip()})),e.on("mouseover",(e=>{this.timeout&&this.timeoutService.cancel(this.timeout)})),e.on("click",(e=>{e.stopPropagation()}))}postShowTooltip(){s.isDefined(this.attrs.tooltipFocusSelector)&&this.timeoutService((()=>{this.getTooltip().find(this.attrs.tooltipFocusSelector).eq(0).focus()}),this.scope,120)}}m.$inject=["scope","element","attrs","$compile",a.serviceName,o.b,r.b],m.TOOLTIP_CONTENT_CLASS="complex-tooltip-content";class p{constructor(e){this.$injector=e,this.restrict="A",this.scope={tooltipScope:"&",tooltipTemplate:"@",tooltipAutoUpdate:"@?"},this.link=(e,t,n)=>{e.complexTooltip=this.$injector.instantiate(m,{scope:e,element:t,attrs:n})}}}p.$inject=["$injector"],s.module(d,[a.moduleName,o.a,l.b,r.a]).directive("bbComplexTooltip",["$injector",e=>e.instantiate(p)])}).call(this,n("71td"))},"4HBD":function(e,t,n){"use strict";var i=n("D57K"),s=n("Llzl"),a=n("n7/H"),o=n("1ZbL"),r=n("50Q+"),l=n("0JpG");const c="ultra.components.directives.react-toolkit.username",d={Class:r.f,attributes:["subtext"],bindingNames:["user","format","ariaHidden","showPronouns","showPronunciation"],renderLocalized:!0,withProvider:!0,withErrorModalBoundary:!1};s.module(c,[l.moduleName]).component("bbUiUsername",Object(o.a)(d));var u=n("gCXj"),m=n("pjml"),p=n("oVrE"),h=n("aHpC"),g=n("4eVg"),b=n("Zjmk");n.d(t,"a",(function(){return f}));const f="ultra.components.directives.bbUsername";let v=class{constructor(e,t,n,i){this.$scope=e,this.element=t,this.attributes=n,this.bbLocalize=i,t.addClass("username"),this.initialize()}initialize(){this.unbind=this.$scope.$watchGroup(["user.id","user.familyName","user.givenName","user.title","user.email","user.pronouns","user.pronunciation","user.pronunciationAudio","user.preferredDisplayName","user.otherName"],(()=>this.update()))}update(){if(!this.$scope.user)return;var e;this.user=(e=this.$scope.user)&&{id:e.id,title:e.title,givenName:e.givenName,familyName:e.familyName,otherName:e.otherName,preferredDisplayName:e.preferredDisplayName,pronouns:Object(b.c)(e),pronunciation:e.pronunciation,pronunciationAudio:e.pronunciationAudio,email:e.email,ui:e.ui};const t=this.$scope.user;t.$asPromise&&!t.$resolved?t.$asPromise().then((()=>this.updateDom())):this.updateDom(),null!=this.attributes.autoUpdate&&"false"!==this.attributes.autoUpdate||this.unbind()}isAnonymousUser(e){return Object(p.d)(e)}cleanUpClassNames(e){return e.split(/\s+/).filter((e=>!/^course_user.+$/.test(e))).join(" ")}updateDom(){const e=this.$scope.user;this.shouldAllowLabel="true"===this.attributes.shouldAllowLabel,this.showInlineUsername="true"===this.attributes.showInlineUsername,this.showPronouns="true"===this.attributes.showPronouns,this.showPronunciation="true"===this.attributes.showPronunciation,this.isAnonymousUser(e)&&(e.givenName=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:"anonymous.postedName"}),e.familyName=""),this.element[0].className=this.cleanUpClassNames(this.element[0].className),e.id&&this.element.addClass("course_user"+e.id);const t=this.bbLocalize.getFormatId(a.ILocaleUsernameFormat,this.attributes.format);this.$scope.format=t;try{this.accessibilityName=this.bbLocalize.formatUsernameSync(e,t,this.$scope,{noWrap:!0,noEscape:!0}),"true"===this.attributes.hasTitleAttr?this.element.attr("title",this.accessibilityName):this.element.removeAttr("title"),this.textAccommodation=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:"components.directives.username.msg-has-accommodations",params:{fullname:this.accessibilityName},noWrap:!0})}catch(e){console.error(e)}}};v=Object(i.a)([Object(i.c)(0,Object(h.b)("$scope")),Object(i.c)(1,Object(h.b)("$element")),Object(i.c)(2,Object(h.b)("$attrs")),Object(i.c)(3,Object(h.b)(l.serviceName))],v);class y{constructor(){this.controllerAs="un",this.scope={onUsernameClick:"<",user:"="},this.restrict="AE",this.template=g,this.controller=v}}s.module(f,[l.moduleName,u.a,m.N,c]).config([u.b+"Provider",function(e){e.onStyleRefresh((function(e,t){var n,i;const s=t.permissions,a=null===(i=null===(n=t.course)||void 0===n?void 0:n.memberships)||void 0===i?void 0:i.permissions,o=(null==a?void 0:a.viewDueDateException)||(null==a?void 0:a.viewTimeLimitException),r=(null==s?void 0:s.editDueDateException)||(null==s?void 0:s.editTimeLimitException),l=o||r;e.selector(`bb-username.course_user${t.userId}:before`).rule("display",t.accommodation().hasAccommodation&&l?"inline-block":"none!important"),e.selector(`bb-username.course_user${t.userId}:before`).rule("vertical-align",t.accommodation().hasAccommodation&&l?"middle":"none"),e.selector(`bb-username.course_user${t.userId}`).selector(".sr-only:before").rule("content",t.accommodation().hasAccommodation&&l?"attr(aria-label-if-has-accommodation)":"attr(aria-label-if-no-accommodation)"),e.selector(`bb-username.course_user${t.userId} bb-ui-username`).rule("width",t.accommodation().hasAccommodation&&l?"calc(100% - .75rem)":"100%"),e.selector(`.bb-group-user .highlight .course_user${t.userId}`).rule("overflow",t.accommodation().hasAccommodation&&l?"visible":"hidden"),e.selector(`.element-card .element-details .course_user${t.userId}`).rule("display",t.accommodation().hasAccommodation&&l?"flex":"inline"),e.selector(`.user-info bb-username.course_user${t.userId}`).rule("display",t.accommodation().hasAccommodation&&l?"flex":"block")}))}]).directive("bbUsername",["$injector",e=>e.instantiate(y)])},"4HXK":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("Llzl"),s=n("5MwF"),a=n("w9mJ");const o="ultra.services.logger",r="logger";class l{constructor(e,t){this.$http=e,this.promiseQueueService=t,this.$http=e,this.queue=t.getQueue("telemetry")}logToServer(e,t,n){if(e){const i="string"==typeof e?new Error(e):e,a={applicationId:s.a.telemetryAppId,component:"",message:i.message,data:n,cause:i.stack,level:t};a.cause||(a.cause="Stack trace is unavailable"),this.queue.enqueue((()=>this.$http.post(s.a.telemetryApiBasePath+"/v1/browser/logs",a,{timeout:s.a.telemetryApiTimeoutMS}).catch((e=>{console.error("Failed to send logs to server. \nResponse: "+e+" Status: "+e.status)}))))}else console.error("Unable to send empty log entry to server")}debug(e,t){this.logToServer(e,"debug",t)}info(e,t){this.logToServer(e,"info",t)}error(e,t){this.logToServer(e,"error",t)}critical(e,t){this.logToServer(e,"critical",t)}warn(e,t){this.logToServer(e,"warn",t)}}l.$inject=["$http",a.b];i.module(o,[a.a]).service(r,l)},"4J8k":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("dmkk");const a="ultra.components.directives.bbUiIcon.large.AvatarMultiple";Object(i.a)(s.a,a,"bbUiIconLargeAvatarMultiple")},"4eVg":function(e,t){e.exports='<bb-ui-username\n  ng-if="un.user"\n  class="bb-ui-username"\n  user="un.user"\n  format="un.format"\n  aria-hidden="!un.shouldAllowLabel"\n  show-pronouns="un.showPronouns"\n  show-pronunciation="un.showPronunciation"\n  subtext="{{ un.showInlineUsername ? user.userName : undefined }}"\n  on-username-click="onUsernameClick"\n></bb-ui-username>\n<span\n  ng-if="un.user"\n  class="sr-only"\n  ng-attr-aria-hidden="{{ !un.shouldAllowLabel || undefined }}"\n  aria-label="{{ un.accessibilityName }}"\n  aria-label-if-no-accommodation="{{ un.accessibilityName }}"\n  aria-label-if-has-accommodation="{{ un.textAccommodation }}"\n></span>\n'},"4nF1":function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return $}));var i=n("Llzl"),s=n("nsO7"),a=n("pjml"),o=n("Y3OE"),r=n("nbDY"),l=n.n(r),c=n("Q/M7"),d=n("nmzr"),u=n("zGdY"),m=n("IbyE"),p=n("AuQm"),h=n("kcGO");class g extends l.a{}g.BbPage=new g("resource/x-bb-page"),g.LtiLaunch=new g("ltilaunch"),g.ScormLaunch=new g("scormlaunch"),g.ContentUrl=new g("contenturl"),g.FileUrl=new g("fileurl"),g.None=new g("none");class b{constructor(e,t){this.content=e,this.isFromCourseLink=t}deleteKey(){return this.content.contentHandler.toString()}iconClass(){const e=o.a.parse(this.content.contentHandler.toString());return null!=e?e.iconClass:null}linkAction(){let e=this.content.contentHandler.toString();this.isFromCourseLink&&(e=o.a.CourseLink.toString());let t=g.parse(e);return t||(t=new g(e)),t}viewHandler(){return this.content.contentHandler.toString()}getTargetCourseContentDisplay(){return null}getEditSref(){return null}getEditState(){return null}getEditStateParams(){return null}usesEditButton(){return null!=this.getEditSref()}canUseEditButton(){return this.usesEditButton()&&!(!this.content.permissions||!this.content.permissions.edit&&!this.content.permissions.modifyAvailability)}canDownload(){return!1}isLtiLink(){return!1}contentUrl(){throw new Error("contentUrl() is not supported for "+this.content.contentHandler.toString())}supportsConversations(){return!1}isXplorLtiLink(){return!1}getContentProgressRoute(){}}class f extends b{getEditState(){return"gradebook-item.assignment"}getEditStateParams(){return{courseId:this.content.courseId,contentId:this.content.id,gradeitemView:"details"}}getEditSref(){return this.getEditState()+'({courseId: content.courseId,contentId: content.id,gradeitemView: "details"})'}}class v extends b{getEditState(){return"gradebook-item.assignment"}getEditStateParams(){return{courseId:this.content.courseId,contentId:this.content.id,gradeitemView:"details"}}getEditSref(){return this.getEditState()+'({courseId: content.courseId,contentId: content.id,gradeitemView: "details"})'}supportsConversations(){return!0}}class y extends b{deleteKey(){if(this.content.getAssociatedGradingColumn){const e=this.content.getAssociatedGradingColumn();if(e&&e.gradebookCategory)return e.gradebookCategory.title===u.W.Assignment?o.a.UltraAssignment.toString():o.a.TestLink.toString()}return this.content.contentHandler.toString()}getEditState(){return d.x.GRADEBOOK_ITEM_ASSESSMENT}getEditStateParams(){return{courseId:this.content.courseId,contentId:this.content.id,gradeitemView:"details",assessmentType:"test"}}canUseEditButton(){const e=this.content.getDeployedAssessment().permissions;return!(!e||!e.modify&&!e.view)}getEditSref(){return this.getEditState()+'({courseId: content.courseId,contentId: content.id,gradeitemView: "details",assessmentType: "test"})'}supportsConversations(){return!0}}class k extends b{getEditState(){return"discussion.view.with-grading"}getEditStateParams(){return{courseId:this.content.courseId,contentId:this.content.id}}getEditSref(){return this.getEditState()+"({courseId: content.courseId,contentId: content.id})"}}class x extends b{constructor(e){super(e),this.content=e,e.contentDetail&&(this.targetContent=e.getLinkContentSource())}getTargetCourseContentDisplay(){return this.targetContent&&this.targetContent.$resolved&&this.targetContent.contentHandler?$.normalize(this.targetContent.contentHandler.toString())===o.a.Discussion.toString()?new k(this.targetContent,!0):new b(this.targetContent,!0):new b(this.content,!0)}}class S extends b{constructor(e,t){super(e),this.options=t}getEditState(){return d.v.EDIT_FILE}getEditStateParams(){return{id:this.content.id}}getEditSref(){return this.getEditState()+"({id:content.id})"}canDownload(){var e,t;if(m.j.isConditionalReleaseLocked(this.content))return!1;if(!(null===(e=this.options)||void 0===e?void 0:e.supportsInlineRender))return!0;const n=null===(t=this.content.contentDetail)||void 0===t?void 0:t[a.p.ContentHandler.File.toString()];return Object(u.Xc)(null==n?void 0:n.fileAssociationMode)}linkAction(){var e;if(!this.content.contentDetail||!(null===(e=this.options)||void 0===e?void 0:e.supportsInlineRender))return g.ContentUrl;const t=this.content.contentDetail[a.p.ContentHandler.File.toString()],n=null==t?void 0:t.fileAssociationMode,i=(null==t?void 0:t.file)&&Object(p.kb)(t.file,this.content.description);return i&&"LINK"!==n&&Object(p.Z)(i,!0)?g.FileUrl:g.ContentUrl}contentUrl(){var e,t;if(m.j.isConditionalReleaseLocked(this.content))return;const n=null===(e=this.content.contentDetail)||void 0===e?void 0:e[a.p.ContentHandler.File.toString()];return c.c(null===(t=null==n?void 0:n.file)||void 0===t?void 0:t.permanentUrl)}getContentProgressRoute(){return{stateName:d.v.PREVIEW_FILE,args:{id:this.content.id,courseId:this.content.courseId,view:h.b.Progress}}}}class C extends b{getEditState(){return d.k.EDIT_FOLDER}getEditStateParams(){return{id:this.content.id}}getEditSref(){return this.getEditState()+"({id:content.id})"}getContentProgressRoute(){return{stateName:d.k.GENERIC_STUDENT_PROGRES_PEEK_PANEL,args:{id:this.content.id,courseId:this.content.courseId}}}}class E extends b{getEditState(){return"content-manage.edit.learning-module"}getEditStateParams(){return{id:this.content.id}}getEditSref(){return this.getEditState()+"({id:content.id})"}getContentProgressRoute(){return{stateName:d.k.GENERIC_STUDENT_PROGRES_PEEK_PANEL,args:{id:this.content.id,courseId:this.content.courseId}}}}class I extends C{static get EDIT_STATE_SREF(){return d.k.DOCUMENT}getEditState(){return I.EDIT_STATE_SREF}getIconClass(){return o.a.Document.iconClass}supportsConversations(){return!0}linkAction(){return g.BbPage}viewHandler(){return o.a.Page.toString()}getContentProgressRoute(){return{stateName:d.k.DOCUMENT,args:{id:this.content.id,courseId:this.content.courseId,view:h.b.Progress}}}}class w extends b{getEditState(){return"content-manage.edit.link"}getEditStateParams(){return{id:this.content.id}}getEditSref(){return this.getEditState()+"({id:content.id})"}contentUrl(){const e=a.p.ContentHandler.ExternalLink.toString();let t=Object(s.get)(this.content,["contentDetail",e,"url"],null);return t&&(t=Object(s.unescape)(t)),w.PROTOCOL_CHECK.test(t)?t:"http://"+t}linkAction(){return g.ContentUrl}getContentProgressRoute(){return{stateName:d.k.GENERIC_STUDENT_PROGRES_PEEK_PANEL,args:{id:this.content.id,courseId:this.content.courseId}}}}w.PROTOCOL_CHECK=/^\w+\:{1}/;class A extends b{isCloudDocument(){var e;return this.content.contentDetail&&m.E.CloudDocument===(null===(e=this.getContentDetail())||void 0===e?void 0:e.itemOrigin)}getContentDetail(){var e;return this.content.contentDetail[null===(e=this.content.contentHandler)||void 0===e?void 0:e.toString()]}getEditState(){return this.isCloudDocument()?d.H.Lti.LTI_LAUNCH_PEEK:"content-manage.edit.lti"}getEditStateParams(){var e;if(this.isCloudDocument()){let t=c.c(null===(e=this.getContentDetail())||void 0===e?void 0:e.launchLink);return t=c.a(t,"from_ultra","true"),{courseId:this.content.courseId,contentId:this.content.id,toolHref:t}}return{id:this.content.id}}getEditSref(){return this.getEditState()+"({id:content.id})"}linkAction(){return g.LtiLaunch}isLtiLink(){return!0}isXplorLtiLink(){var e,t,n,i,s;const a=null===(s=null===(t=null===(e=this.content)||void 0===e?void 0:e.contentDetail)||void 0===t?void 0:t[null===(i=null===(n=this.content)||void 0===n?void 0:n.contentHandler)||void 0===i?void 0:i.toString()])||void 0===s?void 0:s.url;return a&&a.indexOf("://xplor")>-1}supportsConversations(){return!0}getContentProgressRoute(){return{stateName:d.k.GENERIC_STUDENT_PROGRES_PEEK_PANEL,args:{id:this.content.id,courseId:this.content.courseId}}}}class O extends b{deleteKey(){return o.a.LtiPlacement.toString()}getEditState(){return"content-manage.edit.placement"}getEditStateParams(){return{id:this.content.id}}getEditSref(){return this.getEditState()+"({id:content.id})"}linkAction(){return g.LtiLaunch}isLtiLink(){return!0}supportsConversations(){return!0}canUseEditButton(){return super.canUseEditButton()&&i.isDefined(this.content.contentDetail)&&i.isDefined(this.content.contentDetail[this.content.contentHandler.toString()])&&i.isDefined(this.content.contentDetail[this.content.contentHandler.toString()].placement)}getContentProgressRoute(){return{stateName:d.k.GENERIC_STUDENT_PROGRES_PEEK_PANEL,args:{id:this.content.id,courseId:this.content.courseId}}}}class D extends b{getEditState(){return"scorm-settings"}getEditStateParams(){return{contentId:this.content.id}}getEditSref(){return this.getEditState()+"({contentId:content.id})"}linkAction(){return g.ScormLaunch}supportsConversations(){return!0}getContentProgressRoute(){return{stateName:d.k.GENERIC_STUDENT_PROGRES_PEEK_PANEL,args:{id:this.content.id,courseId:this.content.courseId}}}}class T extends b{getEditState(){return d.H.Journal.JOURNAL_VIEW_WITH_PARTICIPATION}getEditStateParams(){return{courseId:this.content.courseId,contentId:this.content.id}}getEditSref(){return this.getEditState()+"({courseId: content.courseId,contentId: content.id})"}}class P extends b{linkAction(){return g.LtiLaunch}isLtiLink(){return!0}}class ${static normalize(e){return null!=e&&0===e.indexOf(o.a.LtiPlacement.toString())?o.a.LtiPlacement.toString():e}static matchesHandlers(e,t){const n=this.normalize(e);return Object(s.findIndex)(t,(e=>n===e.toString()))>=0}static create(e,t){switch(this.normalize(e.contentHandler.toString())){case o.a.ClassicAssignment.toString():return new f(e);case o.a.File.toString():return new S(e,t);case o.a.Folder.toString():if(e.contentDetail){const t=e.contentDetail[o.a.Folder.toString()];if(t&&t.isBbPage)return new I(e)}return new C(e);case o.a.ExternalLink.toString():return new w(e);case o.a.LtiLink.toString():return new A(e);case o.a.LtiPlacement.toString():return new O(e);case o.a.Page.toString():return new I(e);case o.a.PartnerCloud.toString():return new P(e);case o.a.TestLink.toString():return new y(e);case o.a.RusticiScorm.toString():return new D(e);case o.a.UltraAssignment.toString():return new v(e);case o.a.Discussion.toString():return new k(e);case o.a.CourseLink.toString():return new x(e).getTargetCourseContentDisplay();case o.a.LearningModule.toString():return new E(e);case o.a.Journal.toString():return new T(e);default:return new b(e)}}}},"4uUs":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("RrOo");const a="ultra.components.directives.bbUiIcon.large.Test";Object(i.a)(s.a,a,"bbUiIconLargeTest")},"4vd5":function(e,t,n){"use strict";var i=n("ERkP"),s=n("td+C"),a=n("oPIA"),o=n("v6Sp"),r=n("tN4z"),l=n("nmzr");const c=e=>{const[t,n]=Object(i.useState)("#");return Object(i.useEffect)((()=>{n(l.bb.getHref(l.z.INTEGRATION_BASE,{routeName:e}))}),[e]),t},d=e=>{const{isRtl:t,to:n,analyticsId:s,className:a,children:o,...l}=e,d=c(n),u=s?`integration.${s}`:"integration.link";return i.createElement(r.AnalyticsJssThemeProvider,{theme:"light",isRtl:t},i.createElement(r.AnalyticsLink,{...l,className:`uef-link ${a}`,analyticsId:u,href:d},o))},u=e=>{const{analyticsId:t,children:n,isRtl:s,to:a,...o}=e,l=c(a),d=t?`integration.${t}`:"integration.button.link";return i.createElement(r.AnalyticsJssThemeProvider,{theme:"light",isRtl:s},i.createElement(r.AnalyticsPrimaryButton,{...o,analyticsId:d,href:l,variant:"contained",color:"primary"},n))},m=/^[a-z0-9-]*$/i,p=new Map([["uef--base-nav-button","integration-navigation-button-content themed-background-primary-alt-fill-only theme-border-left-active"],["uef--base-nav-button-v2","integration-navigation-button-content-v2 themed-background-primary-alt-fill-only theme-border-left-active"],["uef--button","button button--primary"],["uef--button--secondary","button button--secondary"]]),h=new Map([["classname",e=>Object(o.h)(e,p)]]);t.a=new class{constructor(e){this.integrationService=e,this.onIntegrationRegistration=(e,t)=>{const n=this.validateBaseNavigationRequest(e);n.status===a.r.Success?(this.registeredRoutes.set(t.id,{integrationId:t.id,routes:[e.routeName],displayName:e.displayName,initialContents:e.initialContents}),this.listeners.forEach((e=>{try{e(this.registeredRoutes.get(t.id))}catch(e){console.error(e)}})),this.integrationService.sendMessage(n,t)):this.integrationService.sendMessage(n,t)},this.registeredRoutes=new Map,this.listeners=new Set}init(e){this.initializeWhitelist(),this.integrationService.addIntegrationMessageType(a.e,this.onIntegrationRegistration),this.bbLocalize=e}initializeWhitelist(){const e={props:{to:!0,className:!1},isValid:(e,t)=>!!this.isRouteRegistered(e.props.to,t)||(console.warn(`${e.props.to} has not been registered`),!1),render:(e,t,n)=>i.createElement(d,{...t,isRtl:this.bbLocalize.isRTL(null)}," ",n," "),transformers:h},t={props:{to:!0,className:!1},isValid:(e,t)=>!!this.isRouteRegistered(e.props.to,t)||(console.warn(`${e.props.to} has not been registered`),!1),render:(e,t,n)=>i.createElement(u,{...t,isRtl:this.bbLocalize.isRTL(null)}," ",n," "),transformers:h};o.b.addGlobalComponent(a.s.Link,e),o.b.addGlobalComponent(a.s.ButtonLink,t)}onIntegrationAdded(e){return this.listeners.add(e),()=>{this.removeIntegrationAdded(e)}}removeIntegrationAdded(e){this.listeners.delete(e)}getRegisteredRecords(){return Array.from(this.registeredRoutes.values())}getRecordForRoute(e){return Array.from(this.registeredRoutes.values()).find((t=>t.routes.indexOf(e)>=0))}isValidRouteName(e){return m.test(e)}validateBaseNavigationRequest(e){return this.getRecordForRoute(e.routeName)?{type:a.e,status:a.r.Failure,error:a.v.ExistingRouteName,errorMessage:`${e.routeName} as already been registered`}:this.isValidRouteName(e.routeName)?{type:a.e,status:a.r.Success}:{type:a.e,status:a.r.Failure,error:a.v.InvalidRouteName,errorMessage:`${e.routeName} has invalid characters in it.`}}isRouteRegistered(e,t){var n;const i=null===(n=this.registeredRoutes.get(t))||void 0===n?void 0:n.routes;return!!i&&-1!==i.indexOf(e)}}(s.a)},"50Q+":function(e,t,n){"use strict";var i=n("ERkP"),s=n.n(i),a=n("7O4Y"),o=n("HuI8"),r=n("AuQm"),l=n("tN4z"),c=n("GuFu"),d=n("zGdY"),u=n("n7/H"),m=n("QnGU"),p=n("Agfx"),h=n("THXI");const g=Object(p.makeStyles)((e=>({wrapper:{display:"flex",width:"100%"},avatar:{borderRadius:"50%",height:"24px",marginRight:"10px",marginTop:"8px",width:"24px"},names:{display:"inline-block",width:"90%"},givenName:{display:"block",marginRight:"10px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},username:{color:e.palette.text.secondary,display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},highlight:{fontWeight:h.h.fontWeightBold}}))),b=e=>{var t;const n=g(e);return i.createElement(m.a,{...e},i.createElement("div",{className:n.wrapper},i.createElement("img",{className:n.avatar,src:null===(t=e.option.user.avatar)||void 0===t?void 0:t.permanentUrl,alt:e.option.value}),i.createElement("span",{className:n.names},i.createElement("span",{className:n.givenName},e.option.label),i.createElement("span",{className:n.username},e.option.user.userName))))};var f=n("uDfI"),v=n("IbyE");const y=(e,t)=>v.gc.courseMembership.getCourseMembershipViewStatusByQuery(e,t),k=(e,t)=>{const n=e.getState(),i=y(n,t),s=v.gc.courseMembership.getCourseMembershipsByQuery(n,t),a=v.gc.user.getUsersByIds(n,s.reduce(((e,t)=>(t.userId&&e.push(t.userId),e)),[]));return{memberships:s,users:a,view:i}};var x=n("BidM"),S=n.n(x);const C=(e,t,n)=>{const[s,a]=i.useState(e+t+n),o=t+e;return o>s&&a(o+n),s},E=e=>s.a.createElement(l.AnalyticsCombobox,{...e}),I=e=>s.a.createElement(l.AnalyticsAsyncCombobox,{...e}),w=[{field:d.ib.Role,direction:d.cc.Descending},{field:d.ib.FamilyName,direction:d.cc.Ascending},{field:d.ib.GivenName,direction:d.cc.Ascending}],A={membershipAvailable:!0,includeMe:!1},O=(e,t,n,i,s)=>(null==e?void 0:e.length)>=s?[]:t.reduce(((e,t)=>{var s;if(!t.userId)return e;const a=n[t.userId];return a.id&&e.push({value:a.id,user:a,label:null!==(s=i(a,u.ILocaleUsernameFormat.Short))&&void 0!==s?s:""}),e}),[]),D=(e,t,n,s,a)=>{const o=Object(f.f)(),r=Object(i.useCallback)(S()((async i=>{const s=await(async(e,t)=>{const n=e.getState(),i=y(n,t);return i&&i.isValid&&!i.isLoading?k(e,t):(0,e.dispatch)(v.X.courseMembership.loadCourseMembershipsByQuery(t)).then((()=>k(e,t)))})(o,{courseId:e,paging:{limit:t},filter:{...A,roleBucket:n,searchString:i},sort:w});return a(s.users,s.memberships)}),500),[e,a,t]);return Object(i.useCallback)(((e,t)=>{r(e).then((e=>{t(e)}))}),[r])},T=({inputId:e,analyticsId:t,courseId:n,placeholder:l,onMemberSelectionChanged:m,disabled:p,selectedUsers:h,selectionLimit:g,label:f,roleBuckets:v})=>{const{translate:y,formatUsername:k}=Object(o.a)(),x=Object(i.useCallback)(((e,t)=>O(h,t,e,k,g)),[k,h,g]),S=null!=v?v:[d.y.Taking,d.y.Supporting],{users:T,memberships:P,totalUsers:$,loadPickerUsersCallback:G}=((e,t,n,i)=>{var s,a;const o=C(50,n.length,10),r=D(e,o,t,0,i),{memberships:l,users:d,view:u}=Object(c.h)({courseId:e,paging:{limit:o},filter:{...A,roleBucket:t,searchString:""},sort:w}),m=((e,t)=>(t=t.slice(0,50),{users:e=t.reduce(((t,n)=>n.userId?(t[n.userId]=e[n.userId],t):t),{}),memberships:t}))(d,l);return{...m,totalUsers:null!==(a=null===(s=null==u?void 0:u.paging)||void 0===s?void 0:s.count)&&void 0!==a?a:0,loadPickerUsersCallback:r}})(n,S,h,x),j={noResults:()=>(null==h?void 0:h.length)>=g?y("course.learn-data-components.course-members-picker.noResultsMax"):y("course.learn-data-components.course-members-picker.noResults")},L=Object(r.ob)(j),N=Object(r.nb)(j),B=Object(r.lb)(),M=O(h,P,T,k,g),R=((e=[],t)=>e.reduce(((e,n)=>{var i;return n.id?(e.push({value:n.id,user:n,label:null!==(i=t(n,u.ILocaleUsernameFormat.Short))&&void 0!==i?i:""}),e):e}),[]))(h,k),F={id:null!=e?e:"course-memberships-combobox",analyticsId:`${t}.userPicker}`,classes:{root:Object(a.a)(B.comboboxReset,B.comboboxWidth,"js-individual-members-combobox")},isClearable:!0,label:f,disabled:p,components:{MenuItem:b},value:R,placeholder:l,onChange:e=>{var t;m(null!==(t=null==e?void 0:e.map((e=>e.user)))&&void 0!==t?t:[])}};return $>50?s.a.createElement("div",{className:B.comboboxContainerWidth},s.a.createElement(I,{isMulti:!0,loadOptions:G,defaultOptions:M,strings:N,...F})):s.a.createElement("div",{className:B.comboboxContainerWidth},s.a.createElement(E,{isMulti:!0,options:M,strings:L,...F}))};var P=n("VQ4P");const $=Object(p.makeStyles)((e=>Object(p.createStyles)({groupSize:{background:h.a.b9,color:h.k.primary,borderRadius:"50%",width:"24px",height:"24px",display:"inline-block",marginRight:"10px",textAlign:"center",fontWeight:e.typography.fontWeightBold,lineHeight:"24px"},maxUser:{fontSize:e.typography.fontSizeSmall},highlight:{fontWeight:e.typography.fontWeightBold}}))),G=e=>{var t;const{option:n}=e,i=$(e),o=null!==(t=n.group.studentCount)&&void 0!==t?t:100,r=Object(P.a)();return s.a.createElement(m.a,{...e},s.a.createElement("span",{className:Object(a.a)("js-group-size",i.groupSize,o>99&&i.maxUser)},o>99?r("course.learn-data-components.course-groups-picker.maxUsers"):o),s.a.createElement("span",null,n.label))};var j=n("0x+l");const L=Object(p.makeStyles)((e=>Object(p.createStyles)({groupSet:{display:"flex",width:"100%"},label:{flex:1,overflow:"hidden",textOverflow:"ellipsis",paddingRight:"10px"},visibility:{fontWeight:e.typography.fontWeightRegular,color:e.palette.text.hint,display:"flex"},visibilityIcon:{marginRight:"5px",alignSelf:"center"}}))),N=e=>{const{group:t}=e,n=Object(P.a)(),s=L(e),a=t.groupSet.isAvailable?n("course.learn-data-components.course-groups-picker.visible"):n("course.learn-data-components.course-groups-picker.hidden");return i.createElement(m.b,{...e},i.createElement("span",{className:s.groupSet},i.createElement("span",{className:s.label},e.children),i.createElement("span",{className:s.visibility},t.groupSet.isAvailable?i.createElement(j.Visible,{className:s.visibilityIcon}):i.createElement(j.Invisible,{className:s.visibilityIcon}),i.createElement("span",null,a))))},B=(e,t)=>v.gc.group.getCourseGroupViewStatusByQuery(e,t),M=(e,t)=>{const n=e.getState(),i=B(n,t);return{groups:v.gc.group.getGroupsByQuery(n,t),view:i}},R=e=>s.a.createElement(l.AnalyticsCombobox,{...e}),F=e=>s.a.createElement(l.AnalyticsAsyncCombobox,{...e}),V=e=>{var t,n;return{group:e,label:null!==(t=e.title)&&void 0!==t?t:"",value:null!==(n=e.id)&&void 0!==n?n:""}},_=(e,t,n)=>{const i=new Map;return(null==e?void 0:e.length)>=n||!(null==t?void 0:t.length)?[]:(t.forEach((e=>{var t;if(!(null==e?void 0:e.groupSet)||!(null==e?void 0:e.groupSetId))return;const n=e.groupSet,s=V(e);if(!n.id)return;const a=i.get(n.id);if(a)a.options.push(s);else{const a={label:null!==(t=n.title)&&void 0!==t?t:"",groupSet:n,options:[]};a.options.push(s),i.set(e.groupSetId,a)}})),Array.from(i.values()))},U=e=>e.slice(0,50),H=(e,t,n,s)=>{const a=Object(f.f)(),[o,r]=Object(i.useState)([]),l=Object(i.useMemo)((()=>S()((async n=>{const{groups:i}=await(async(e,t)=>{const n=e.getState(),i=B(n,t);return i&&i.isValid&&!i.isLoading?M(e,t):(0,e.dispatch)(v.X.group.loadGroupsByQuery(t)).then((()=>M(e,t)))})(a,{courseId:e,filter:{nameOrGroupSetName:n,inGroupSet:!0,groupNameCompare:v.k.contains},paging:{limit:t}}),o=s(U(i));return r(o),o}),500)),[a,e,t,s]);return{memoizedLoadOptionsCallback:Object(i.useCallback)(((e,t)=>{l(e).then((e=>{t(e)}))}),[l]),optionData:o}},z=(e,t)=>{var n,i;return!!e.label.toLocaleLowerCase().includes(t.toLocaleLowerCase())||!!(null===(i=null===(n=e.group.groupSet)||void 0===n?void 0:n.title)||void 0===i?void 0:i.toLocaleLowerCase().includes(t.toLocaleLowerCase()))},q=({inputId:e,analyticsId:t,courseId:n,onSelectedGroupsChanged:o,disabled:l,placeholder:d,selectedGroups:u=[],selectionLimit:m,label:p})=>{const h=Object(P.a)(),g=Object(i.useCallback)((e=>_(u,e,m)),[u,m]),{groups:b,totalGroups:f,optionData:v,loadPickerGroupsCallback:y}=((e,t,n)=>{var i,s;const a=C(50,t.length,10),{memoizedLoadOptionsCallback:o,optionData:r}=H(e,a,0,n),{groups:l,view:d}=Object(c.f)({courseId:e,filter:{nameOrGroupSetName:"",inGroupSet:!0},paging:{limit:a}});return{groups:U(l),totalGroups:null!==(s=null===(i=null==d?void 0:d.paging)||void 0===i?void 0:i.count)&&void 0!==s?s:0,optionData:r.length>0?r:n(U(l)),loadPickerGroupsCallback:o}})(n,u,g),k=Object(i.useCallback)((e=>Array.isArray(e)?{visibleGroupCount:e.reduce(((e,t)=>{var n;return(null===(n=t.group)||void 0===n?void 0:n.isAvailable)?e+1:e}),0),totalGroupCount:e.length}:{visibleGroupCount:e.group.isAvailable?1:0,totalGroupCount:1}),[]),x={noResults:()=>(null==u?void 0:u.length)>=m?h("course.learn-data-components.course-groups-picker.noResultsMax"):h("course.learn-data-components.course-groups-picker.noResults")},S=Object(r.ob)(x),E=Object(r.nb)(x),I=Object(r.lb)(),w=_(u,b,m),A=((e=[])=>e.map((e=>V(e))))(u),O={id:null!=e?e:"course-groups-combobox",analyticsId:`${t}.groupsPicker`,classes:{root:Object(a.a)(I.comboboxReset,I.comboboxWidth,"js-groups-combobox")},isClearable:!0,label:p,searchFilter:z,disabled:l,getOnChangeAnalyticsData:k,components:{MenuItem:G,MenuListSubheader:N},value:A,placeholder:d,onChange:e=>{var t;o(null!==(t=null==e?void 0:e.map((e=>e.group)))&&void 0!==t?t:[])}};return f>50?s.a.createElement("div",{className:I.comboboxContainerWidth},s.a.createElement(F,{isMulti:!0,loadOptions:y,defaultOptions:w,strings:E,...O})):s.a.createElement("div",{className:I.comboboxContainerWidth},s.a.createElement(R,{isMulti:!0,options:w,strings:S,...O}))};var W=n("8jBL"),K=n("Gvux");const J=new Map,Q=new Map,Z=new Map;var Y;Q.set(d.W.Assignment,W.Assignment),Q.set(d.W.Attendance,W.Attendance),Q.set(d.W.Calculation,W.Calculation),Q.set(d.W.Discussion,W.Discussion),Q.set(d.W.Exam,W.Test),Q.set(d.W.Homework,W.Home),Q.set(d.W.Journal,W.Grades),Q.set(d.W.LTI,K.Lti),Q.set(d.W.Presentation,W.PresentationMenu),Q.set(d.W.Quiz,W.Test),Q.set(d.W.ScormEngine,K.Scormengine),Q.set(d.W.Test,W.Test),function(e){e.Small="small",e.Medium="medium",e.Large="large"}(Y||(Y={}));const X=e=>{const{category:t,size:n}=e;let s=Q;if(n===Y.Small?s=J:n===Y.Large&&(s=Z),(null==t?void 0:t.isUserDefined)||!(null==t?void 0:t.title))return i.createElement(W.DocumentBlank,null);const a=null==t?void 0:t.title,o=s.get(a);return o?i.createElement(o,null):i.createElement(W.DocumentBlank,null)},ee=Object(p.makeStyles)((e=>({wrapper:{display:"flex",alignItems:"center",width:"100%"},iconWrapper:{display:"flex",alignItems:"center",marginRight:"10px",width:"24px"},columnName:{width:"90%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},highlight:{fontWeight:e.typography.fontWeightBold}}))),te=e=>{const t=ee(e);return i.createElement(m.a,{...e},i.createElement("div",{className:t.wrapper},i.createElement("div",{className:t.iconWrapper},i.createElement(X,{category:e.option.column.gradebookCategory,size:Y.Medium})),i.createElement("span",{className:t.columnName},e.option.label)))},ne=(e,t)=>v.gc.gradebookColumn.getGradebookColumnViewStatusByQuery(e,t),ie=(e,t)=>{const n=e.getState(),i=ne(n,t);return{columns:v.gc.gradebookColumn.getGradebookColumnsByQuery(n,t),view:i}},se=e=>s.a.createElement(l.AnalyticsCombobox,{...e}),ae=e=>s.a.createElement(l.AnalyticsAsyncCombobox,{...e}),oe=[{field:v.y.ColumnName,direction:d.cc.Ascending}],re=(e,t,n=!1,i)=>(null==e?void 0:e.length)>=i?[]:t.reduce(((e,t)=>{if(!t.id||!t.columnName)return e;return(t.externalGrade&&n||!t.externalGrade)&&e.push({value:t.id,column:t,label:t.columnName}),e}),[]),le=(e,t,n,s)=>{const a=Object(f.f)(),o=Object(i.useCallback)(S()((async n=>{const{columns:i}=await(async(e,t)=>{const n=e.getState(),i=ne(n,t);return i&&i.isValid&&!i.isLoading?ie(e,t):(0,e.dispatch)(v.X.gradebookColumn.loadGradebookColumnsByQuery(t)).then((()=>ie(e,t)))})(a,{courseId:e,filter:{name:n},paging:{limit:t},sort:oe});return s(i)}),500),[e,t,s]);return Object(i.useCallback)(((e,t)=>{o(e).then((e=>{t(e)}))}),[o])},ce=({inputId:e,analyticsId:t,courseId:n,placeholder:o,onColumnSelectionChanged:l,disabled:d,allowExternalGradeColumns:u,selectedColumns:m,selectionLimit:p,label:h})=>{const g=Object(P.a)(),b=Object(i.useCallback)((e=>re(m,e,u,p)),[u,m,p]),{columns:f,totalColumns:v,loadPickerColumnsCallback:y}=((e,t,n)=>{var i,s;const a=C(50,t.length,10),o=le(e,a,0,n),{gradebookColumns:r,view:l}=Object(c.s)({courseId:e,paging:{limit:a},sort:oe});return{columns:r.slice(0,50),totalColumns:null!==(s=null===(i=null==l?void 0:l.paging)||void 0===i?void 0:i.count)&&void 0!==s?s:0,loadPickerColumnsCallback:o}})(n,m,b),k={noResults:()=>(null==m?void 0:m.length)>=p?g("course.learn-data-components.course-columns-picker.noResultsMax"):g("course.learn-data-components.course-columns-picker.noResults")},x=Object(r.ob)(k),S=Object(r.nb)(k),E=Object(r.lb)(),I=re(m,f,u,p),w=((e=[],t=!1)=>e.reduce(((e,n)=>n.id&&n.columnName?(n.externalGrade&&!t||e.push({value:n.id,column:n,label:n.columnName}),e):e),[]))(m,u),A={id:null!=e?e:"course-columns-combobox",analyticsId:`${t}.columnsPicker}`,classes:{root:Object(a.a)(E.comboboxReset,E.comboboxWidth,"js-columns-combobox")},isClearable:!0,label:h,disabled:d,components:{MenuItem:te},value:w,placeholder:o,onChange:e=>{var t;l(null!==(t=null==e?void 0:e.map((e=>e.column)))&&void 0!==t?t:[])}};return v>50?s.a.createElement("div",{className:E.comboboxContainerWidth},s.a.createElement(ae,{isMulti:!0,loadOptions:y,defaultOptions:I,strings:S,...A})):s.a.createElement("div",{className:E.comboboxContainerWidth},s.a.createElement(se,{isMulti:!0,options:I,strings:x,...A}))},de=Object(p.makeStyles)((e=>Object(p.createStyles)({root:{display:"flex",flexDirection:"column",width:"100%","& bdi,span":{flip:!1,overflow:"hidden",direction:e.direction,textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block"}},userFlex:{display:"flex",alignItems:"center"},userAccommodation:{color:e.palette.brand.main,marginInlineEnd:"5px"},userPronunciation:{display:"flex",width:"100%"},userPronunciationAudio:{flexDirection:"row","& $pronunciationAudio":{"& button":{minWidth:0,minHeight:0,padding:"0 5px"}}},pronouns:{"&$pronouns$pronouns":{display:"block",fontWeight:e.typography.fontWeightRegular}},pronunciation:{"&$pronunciation$pronunciation":{display:"flex",alignItems:"center",margin:"0 -5px","& > span":{padding:"0 5px",fontWeight:e.typography.fontWeightRegular}}},pronunciationAudio:{},subtext:{color:e.palette.text.secondary,lineHeight:"18px",fontSize:e.typography.fontSizeSmall,fontWeight:e.typography.fontWeightRegular}}))),ue=e=>{var t,n,s;const{user:o,username:l,ariaHidden:c,showPronouns:d,subtext:u,showPronunciation:m,showAccommodation:p,userNameStyles:h}=e,g=Object(P.a)(),b=de();if(!o)return i.createElement(i.Fragment,null);const f={[b.userFlex]:p||m&&(null===(t=o.pronunciationAudio)||void 0===t?void 0:t.permanentUrl),[b.userPronunciationAudio]:m&&(null===(n=o.pronunciationAudio)||void 0===n?void 0:n.permanentUrl)};return i.createElement("div",{className:b.root},i.createElement("div",{className:Object(a.a)(b.userPronunciation,f,h)},p&&i.createElement(j.Accommodations,{className:b.userAccommodation,titleAccess:g("cr.components.username.accommodationAriaLabel")}),i.createElement("bdi",{"aria-hidden":c},l),m&&(null===(s=o.pronunciationAudio)||void 0===s?void 0:s.permanentUrl)&&i.createElement(r.E,{className:Object(a.a)(b.pronunciationAudio),analyticsId:"username.pronunciation",src:o.pronunciationAudio.permanentUrl,ariaLabel:g("cr.components.username.pronunciationAriaLabel")})),m&&o.pronunciation&&i.createElement("bdi",{className:Object(a.a)(b.pronunciation,e.pronunciationStyles)},i.createElement("span",{"aria-hidden":c},o.pronunciation)),d&&o.pronouns&&i.createElement("bdi",{"aria-hidden":c,className:Object(a.a)(b.pronouns,e.pronounsStyles)},o.pronouns),u&&i.createElement("span",{"aria-hidden":c,className:Object(a.a)(b.subtext,"username-subtext")},u))};var me=n("RPob");const pe="othername_as_display_name_option",he=(e,t)=>{var n,s;const{formatUsername:a}=Object(o.a)(),r=Object(c.G)(pe),l=t&&r?Object(me.r)(t,r):void 0,d=!!t,u=Object(i.useMemo)((()=>{var n,i;if(!d)return"";const s={familyName:t.familyName,givenName:t.givenName,email:t.email,id:t.id,otherName:t.otherName,title:t.title,ui:{anonymousStudent:null===(n=t.ui)||void 0===n?void 0:n.anonymousStudent,anonymousStudentId:null===(i=t.ui)||void 0===i?void 0:i.anonymousStudentId},preferredDisplayName:l};return a(s,e,{noWrap:!0})}),[e,a,d,l,null==t?void 0:t.email,null==t?void 0:t.familyName,null==t?void 0:t.givenName,null==t?void 0:t.id,null==t?void 0:t.otherName,null==t?void 0:t.title,null===(n=null==t?void 0:t.ui)||void 0===n?void 0:n.anonymousStudent,null===(s=null==t?void 0:t.ui)||void 0===s?void 0:s.anonymousStudentId]);return u},ge=e=>{const{user:t,format:n}=e,i=he(n,t);return s.a.createElement(ue,{...e,username:i})},be=e=>{const{analyticsId:t,user:n,format:i,onClick:a}=e,o=he(i,n),r=n&&a?s.a.createElement(l.AnalyticsLink,{analyticsId:`${t}.link`,href:"#",onClick:()=>a(n)},o):o;return s.a.createElement(ue,{...e,username:r})},fe=e=>{const{users:t,format:n=u.ILocaleUsernameFormat.Short,maxUsers:a,canExpand:l=!1,moreKey:c,collapseKey:d}=e,{formatUsername:m}=Object(o.a)(),p=Object(i.useMemo)((()=>t.map((e=>({user:e,username:m(e,n)}))).map((({user:e,username:t})=>{var n,i;if(null===(n=e.ui)||void 0===n?void 0:n.onClick){const n=null===(i=e.ui)||void 0===i?void 0:i.onClick;return s.a.createElement("a",{href:"#",onClick:()=>n(e)},t)}return t}))),[t,n,m]);return s.a.createElement(r.B,{analyticsId:"localized-usernames",items:p,maxItems:a,canExpand:l,moreKey:c,collapseKey:d})},ve=Object(p.makeStyles)((e=>Object(p.createStyles)({userCardPreview:{display:"flex",border:`1px solid ${e.palette.border.main}`,borderRadius:"2px",padding:"13px 19px"},avatar:{width:"20%"},userInfo:{width:"80%"},userName:{fontSize:"16px",fontWeight:e.typography.fontWeightSemiBold,"& bdi":{whiteSpace:"initial"}}}))),ye=e=>{const{givenName:t,familyName:n,otherName:s,pronunciation:a,pronunciationAudioUrl:r,preferredDisplayName:c,pronouns:d}=e,m=ve(),{formatUsername:p}=Object(o.a)(),h={givenName:t,familyName:n,otherName:s,pronunciation:a,pronunciationAudio:{permanentUrl:r},preferredDisplayName:c,pronouns:d},g=p(h,u.ILocaleUsernameFormat.Short);return i.createElement("div",{className:m.userCardPreview},i.createElement("div",{className:m.avatar},i.createElement(l.AnalyticsAvatar,{size:"medium",alt:g})),i.createElement("div",{className:m.userInfo},i.createElement(ge,{userNameStyles:m.userName,format:u.ILocaleUsernameFormat.Short,ariaHidden:!0,user:h,showPronouns:!0,showPronunciation:!0})))};function ke(e,t){return`${t?"organization.":"course."}${e}`}function xe(){const{translate:e,formatItems:t}=Object(o.a)(),n=Object(i.useCallback)((t=>{let n;n=t.length>1?e("components.directives.fileUpload.aria.multipleFiles.uploadStarted.plural",{filesCount:t.length}):e("components.directives.fileUpload.aria.singleFile.uploadStarted"),Object(me.y)(n)}),[e]),s=Object(i.useCallback)((n=>{let i;i=1===n.length?function(e,t){var n;return t.status===v.u.Complete?e("components.directives.fileUpload.aria.singleFile.uploadSuccessful"):t.status!==v.u.Failed||(null===(n=t.error)||void 0===n?void 0:n.errorType)?void 0:e("components.directives.fileUpload.aria.singleFile.uploadFailed")}(e,n[0]):function(e,t,n){const i=[],s=[];n.forEach((e=>{e.status===v.u.Failed?i.push(e.filename):e.status===v.u.Canceled&&s.push(e.filename)}));const a=n.length-s.length;if(!(a<=0))return i.length===a?e("components.directives.fileUpload.aria.multipleFiles.uploadFailed"):0===i.length?e("components.directives.fileUpload.aria.multipleFiles.uploadSuccessful.plural",{filesCount:a}):`${e("components.directives.fileUpload.aria.multipleFiles.uploadFinished.plural",{successfulFilesCount:a-i.length,filesCount:a})} ${e("components.directives.fileUpload.aria.multipleFiles.failedFiles.plural",{filesCount:i.length,filenameList:t(i,i.length,void 0)})}`}(e,t,n),i&&Object(me.y)(i)}),[e,t]);return{readUploadStarted:n,readUploadFinished:s}}const Se=(e,t)=>{const n=[];return t.forEach((t=>{const i=v.gc.fileUpload.getGroupStatusById(e,t);i&&n.push(i)})),n};function Ce(e,t){return e===t||e.length===t.length&&e.every(((e,n)=>Object(f.c)(t[n],e)))}function Ee(e,t){return e===t||e.length===t.length&&e.every(((e,n)=>{return(i=t[n])===(s=e)||i.groupId===s.groupId&&Ce(i.pendingUploads,s.pendingUploads)&&Ce(i.uploads,s.uploads);var i,s}))}const Ie=e=>{const t=(e=>Object(f.e)((t=>Se(t,e).map((({groupId:e,pendingUploads:n,uploads:i})=>{const s={groupId:e,pendingUploads:n,uploads:[]};return s.uploads=i.reduce(((e,n)=>{var i;const s=v.gc.fileUpload.getFileUploadById(t,n);return s&&e.push({correlationId:n,filename:null!==(i=s.filename)&&void 0!==i?i:"",status:s.status,error:s.error}),e}),[]),s}))),Ee))(e.current),n=xe();return Object(i.useEffect)((()=>{if(0===t.length)return;const i=[];t.forEach((e=>{0===e.pendingUploads.length&&i.push(e)})),i.forEach((e=>{n.readUploadFinished(e.uploads)})),i.forEach((t=>{e.current.delete(t.groupId)}))}),[t,n.readUploadFinished,n.readUploadStarted]),Object(i.useCallback)(((t,i)=>{e.current.add(t),n.readUploadStarted(i)}),[n.readUploadStarted])};function we(e,t){return e===t||e.length===t.length&&e.every(((e,n)=>{return(i=t[n])===(s=e)||i.groupId===s.groupId&&Ce(i.oversizedFiles,s.oversizedFiles);var i,s}))}const Ae=e=>Object(f.e)((t=>Se(t,e).reduce(((e,{groupId:t,oversizedFiles:n})=>(n.length>0&&e.push({groupId:t,oversizedFiles:n}),e)),[])),we);var Oe=n("caKH");const De=e=>{const{processError:t,isCloudUpload:n,errorCode:a,filename:o}=e,[r,c]=Object(i.useState)(!1),d=Object(P.a)(),u=()=>{c(!1),t()},m=function(e,t,n){return e?t?"components.directives.cloudStorageIntegration.modal.generalError":"components.directives.cloudStorageIntegration.modal.generalErrorWithoutName":t?422===n?"components.directives.fileUpload.securityError":"components.directives.fileUpload.generalError":422===n?"components.directives.fileUpload.securityErrorWithoutName":"components.directives.fileUpload.generalErrorWithoutName"}(n,o,a);return s.a.createElement(Oe.a,{analyticsId:m,"aria-labelledby":"upload-error-dialog-heading-id",onClose:()=>u(),open:!r,TransitionProps:{onExited:u}},s.a.createElement(l.AnalyticsDialogTitle,{analyticsId:"upload.error.dialog.title",id:"upload-error-dialog-heading-id","aria-describedby":"upload-error-dialog-message-id",onClose:()=>u()},d("components.directives.fileUpload.errorTitle")),s.a.createElement(l.AnalyticsDialogContent,{analyticsId:"upload.error.dialog.content"},s.a.createElement(l.AnalyticsDialogContentText,{analyticsId:"upload.error.dialog.content.text",id:"upload-error-dialog-message-id"},d(m,{filename:o}))),s.a.createElement(l.AnalyticsDialogActions,{analyticsId:"upload.error.dialog.actions"},s.a.createElement(l.AnalyticsPrimaryButton,{analyticsId:"components.directives.fileUpload.cancelUploadText.button",onClick:()=>u()},d("components.directives.fileUpload.cancelUploadText"))))},Te=Object(p.makeStyles)((()=>({oversizedFileList:{maxHeight:"140px",overflowY:"auto"}}))),Pe=e=>e/1048576,$e=e=>{const{uploadIds:t,exitCallback:n}=e,[s,a]=Object(i.useState)(!1),[o,r]=Object(i.useState)(!1),d=Object(P.a)(),u=Te(),m=Object(c.q)(),p=Object(f.e)((e=>t.map((t=>v.gc.fileUpload.getFileUploadById(e,t)))),f.c),h=(e=!1)=>{r(e),a(!0)};if(0===p.length)return null;let g;return g=(null==m?void 0:m.displayRecommendedAlternatives)?d("components.directives.fileUpload.maxSizeWarningAlternateStorage",{alternateStorage:null==m?void 0:m.recommendedAlternatives}):d("components.directives.fileUpload.maxSizeWarningNoAlternateStorage"),i.createElement(Oe.a,{isAlert:!0,analyticsId:"components.directives.fileUpload.maxSizeWarningPrimary","aria-labelledby":"max-file-size-dialog-heading-id",open:!s,TransitionProps:{onExited:()=>{n(o)}},onClose:()=>h(!0)},i.createElement(l.AnalyticsDialogTitle,{analyticsId:"components.directives.fileUpload.title",onClose:()=>h(!0),id:"max-file-size-dialog-heading-id","aria-describedby":"max-file-size-dialog-message-id"},d("components.directives.fileUpload.maxSizeWarningTitle")),i.createElement(l.AnalyticsDialogContent,{analyticsId:"components.directives.fileUpload.content"},i.createElement(l.AnalyticsDialogContentText,{analyticsId:"components.directives.fileUpload.text",id:"max-file-size-dialog-message-id"},d("components.directives.fileUpload.maxSizeWarningMessage",{maxFileSize:Pe(null==m?void 0:m.maxUploadSizeInBytes)})),i.createElement("div",{className:u.oversizedFileList},i.createElement("ul",null,p.map(((e,n)=>i.createElement("li",{key:t[n]},d("components.directives.fileUpload.maxSizeWarningFiles",{fileName:e.filename,fileSize:Pe(e.filesize)})))))),i.createElement(l.AnalyticsDialogContentText,{analyticsId:"components.directives.fileUpload.text"},g,(null==m?void 0:m.displaySupportLink)&&i.createElement(i.Fragment,null," ",i.createElement("span",{dangerouslySetInnerHTML:{__html:d("components.directives.fileUpload.maxSizeWarningSupportLinkText",{supportLink:null==m?void 0:m.supportLink})}})))),i.createElement(l.AnalyticsDialogActions,{analyticsId:"components.directives.fileUpload.actions"},i.createElement(l.AnalyticsPrimaryButton,{analyticsId:"components.directives.fileUpload.maxSizeWarningPrimary",onClick:()=>h(!0)},d("components.directives.fileUpload.maxSizeWarningPrimary"))))};var Ge=n("69Wd"),je=n("me+T"),Le=n("5ikY"),Ne=n("cXGx"),Be=n("4iFr"),Me=n("MlM1"),Re=n("6/tG"),Fe=n("IL+z"),Ve=n("OhrW"),_e=n("xQgz"),Ue=n("K16Q"),He=n("r7jL"),ze=n("BY8f"),qe=n("3yh1"),We=n("36Bh"),Ke=n("13AT"),Je=n("y8aX"),Qe=n("i+uu"),Ze=n("k6dK"),Ye=n("MTZf"),Xe=n("Ul6e"),et=n("SBxA"),tt=n("RrOo"),nt=n("wnlu"),it=n("Uw7Y"),st=n("FvSu"),at=n("TE6g"),ot=n("U21b");function rt(e){return e.replace(/^img-icon-/,"")}function lt(e){switch(rt(e)){case d.v.Assignment:return Ge.a;case d.v.Attendance:return je.a;case d.v.Audio:return st.a;case d.v.Blog:return Le.a;case d.v.Course:return ot.a;case d.v.Calculation:return Ne.a;case d.v.Discussion:return Be.a;case d.v.DocumentBlank:return Me.a;case d.v.DocumentCloud:return Re.a;case d.v.CollaborativeCloud:return Fe.a;case d.v.Document:return Ve.a;case d.v.Folder:case d.v.FolderOpen:return _e.a;case d.v.Homework:return Ue.a;case d.v.Journal:return ze.a;case d.v.LearningModule:return qe.a;case d.v.Link:return We.a;case d.v.LTI:return Ke.a;case d.v.OverallGrade:return Je.a;case d.v.Pdf:return Qe.a;case d.v.Photo:return He.a;case d.v.Presentation:return Ze.a;case d.v.Scorm:return Ye.a;case d.v.Spreadsheet:return Xe.a;case d.v.Survey:return et.a;case d.v.Test:case d.v.Quiz:case d.v.Exam:return tt.a;case d.v.Textbook:return nt.a;case d.v.Video:return it.a;case d.v.Zip:return at.a;default:return Me.a}}function ct(e,t){var n,i,s,a,o,r,l,c,u;const m=v.j.getContentHandler(e);if(v.i.File.isEqualTo(m)){const t=null===(s=null===(i=null===(n=e.contentDetail)||void 0===n?void 0:n[d.t.File])||void 0===i?void 0:i.file)||void 0===s?void 0:s.mimeType;if(t)return lt(Object(v.Gb)(t))}if(v.j.isFolderContentItem(e)&&"ROOT"===e.title&&null==e.parentId)return lt(d.v.Course);if(v.i.LtiLink.isEqualTo(m)&&"CloudDocument"===(null===(o=null===(a=e.contentDetail)||void 0===a?void 0:a[d.t.LtiLink])||void 0===o?void 0:o.itemOrigin)){return v.D.getCloudDocumentType(e)===d.Ab.CloudCollaboration?lt(d.v.CollaborativeCloud):lt(d.v.DocumentCloud)}if(void 0!==t.gradebookColumn&&(m.isEqualTo(v.i.TestLink.handle)||m.isEqualTo(v.i.Unknown.handle)||m.isEqualTo(v.i.RusticiScorm.handle)||m.isEqualTo(v.i.LtiLink.handle)||m.isEqualTo(v.i.PartnerCloud.handle)||m.startsWith(v.i.LtiPlacement.handle))){if(null===(r=t.gradebookColumn.gradebookCategory)||void 0===r?void 0:r.isUserDefined)return lt("custom-item");const e=null===(c=null===(l=t.gradebookColumn.gradebookCategory)||void 0===l?void 0:l.title)||void 0===c?void 0:c.substring(0,null===(u=t.gradebookColumn.gradebookCategory)||void 0===u?void 0:u.title.lastIndexOf(".name")).toLowerCase();if(e)return lt(e)}return lt(m.iconClass.replace(/^img-icon-/,""))}function dt(e,t){var n,i,s,a,o,r;const l=v.j.getContentHandler(e);if(!(null===(n=t.gradebookColumn)||void 0===n?void 0:n.gradebookCategory)){if(l.startsWith(v.i.LtiPlacement.handle)){const t=null===(a=null===(s=null===(i=e.contentDetail)||void 0===i?void 0:i[`${e.contentHandler}`])||void 0===s?void 0:s.placement)||void 0===a?void 0:a.iconUrl;if(t)return Object(me.f)(t)}if(v.i.LtiLink.isEqualTo(l)){const t=null===(r=null===(o=e.contentDetail)||void 0===o?void 0:o[d.t.LtiLink])||void 0===r?void 0:r.customIconUrl;if(t)return Object(me.f)(t)}}}function ut(e){return`components.directives.element-image.element-image-accessibility.img-icon-${rt(e)}`}function mt(e){var t,n,i,s;let a=v.j.getContentHandler(e).iconClass;return v.i.File.isEqualTo(null===(t=e.contentHandler)||void 0===t?void 0:t.toString())&&(a=Object(v.Hb)(null===(s=null===(i=null===(n=e.contentDetail)||void 0===n?void 0:n[d.t.File])||void 0===i?void 0:i.file)||void 0===s?void 0:s.mimeType)),ut(a)}const pt=Object(p.makeStyles)((e=>({brokenLtiLink:{color:e.palette.error.main},customIcon:{width:"24px",minWidth:"24px"}})));const ht=({className:e,item:t,withLabel:n=!0})=>{var i,o,r;const l=Object(P.a)(),u=pt(),m=Object(f.e)((e=>{if(t.id)return v.gc.gradebookColumn.getGradebookColumnByContentId(e,t.id)})),p=Object(c.a)(null!==(i=t.courseId)&&void 0!==i?i:"",null===(r=null===(o=t.contentDetail)||void 0===o?void 0:o[d.t.CourseLink])||void 0===r?void 0:r.linkSourceId),h=v.j.canViewAsInstructor(t)&&v.D.isUnlaunchableLtiLink(t),g=function(e){var t,n;return null===(n=null===(t=e.contentDetail)||void 0===t?void 0:t[d.t.LtiLink])||void 0===n?void 0:n.customIconUrl}(t);if(g)return s.a.createElement("img",{src:Object(me.f)(g),alt:"",className:u.customIcon});const b=ct(null!=p?p:t,{gradebookColumn:m}),y=l(mt(null!=p?p:t));return s.a.createElement(b,{className:Object(a.a)(e,{[u.brokenLtiLink]:h}),titleAccess:n?y:void 0})};function gt(e){return lt(Object(v.Hb)(e))}var bt=n("kJ/U"),ft=n("uhwG"),vt=n("pxm1"),yt=n("/PlI"),kt=n("f/B9"),xt=n("guaL"),St=n("uccV"),Ct=n("iaIC"),Et=n("ImCU"),It=n("qfGK"),wt=n("S2kP"),At=n("tIQC"),Ot=n("vQnQ"),Dt=n("SchF"),Tt=n("qD3J"),Pt=n("Ks5h"),$t=n("NKPD"),Gt=n("eTBY"),jt=n("3gtH"),Lt=n("Q0fj"),Nt=n("9kWU"),Bt=n("K73C"),Mt=n("6zhG"),Rt=n("dLPS"),Ft=n("zyx7"),Vt=n("4YHN"),_t=n("WVgy"),Ut=n("u1Ul");function Ht(e){switch(rt(e)){case d.v.Assignment:return bt.a;case d.v.Attendance:return ft.a;case d.v.Audio:return Vt.a;case d.v.Blog:return vt.a;case d.v.Course:return Ut.a;case d.v.Calculation:return yt.a;case d.v.Discussion:return kt.a;case d.v.DocumentBlank:return xt.a;case d.v.DocumentCloud:return St.a;case d.v.Document:return Ct.a;case d.v.Folder:return Et.a;case d.v.FolderOpen:return It.a;case d.v.Homework:return wt.a;case d.v.Journal:return Ot.a;case d.v.LearningModule:return Dt.a;case d.v.Link:return Tt.a;case d.v.LTI:return Pt.a;case d.v.OverallGrade:return $t.a;case d.v.Pdf:return Gt.a;case d.v.Photo:return At.a;case d.v.Presentation:return jt.a;case d.v.Scorm:return Lt.a;case d.v.Spreadsheet:return Nt.a;case d.v.Survey:return Bt.a;case d.v.Test:case d.v.Quiz:case d.v.Exam:return Mt.a;case d.v.Textbook:return Rt.a;case d.v.Video:return Ft.a;case d.v.Zip:return _t.a;default:return xt.a}}const zt=(e,t)=>{var n,i;const s=Object(P.a)(),a=Object(c.a)(e,null===(i=null===(n=t.contentDetail)||void 0===n?void 0:n[d.t.CourseLink])||void 0===i?void 0:i.linkSourceId);return s(mt(null!=a?a:t))};n("ICWc"),n("71td"),n("JD9L"),n("4qjI");n.d(t,"c",(function(){return T})),n.d(t,"b",(function(){return q})),n.d(t,"d",(function(){return ce})),n.d(t,"f",(function(){return ge})),n.d(t,"i",(function(){return pe})),n.d(t,"e",(function(){return be})),n.d(t,"g",(function(){return fe})),n.d(t,"k",(function(){return ye})),n.d(t,"r",(function(){return ke})),n.d(t,"t",(function(){return Ie})),n.d(t,"u",(function(){return Ae})),n.d(t,"j",(function(){return De})),n.d(t,"h",(function(){return $e})),n.d(t,"a",(function(){return ht})),n.d(t,"l",(function(){return ut})),n.d(t,"m",(function(){return ct})),n.d(t,"n",(function(){return dt})),n.d(t,"o",(function(){return gt})),n.d(t,"p",(function(){return lt})),n.d(t,"q",(function(){return Ht})),n.d(t,"s",(function(){return zt}))},"59Vg":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("wnlu");const a="ultra.components.directives.bbUiIcon.large.Textbook";Object(i.a)(s.a,a,"bbUiIconLargeTextbook")},"5Dl8":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var i=n("nsO7");function s(e){return e&&e/16+"rem"||"0"}class a{constructor(e){this.parent=e,this.curSelector=null,this.pool=null==e?{}:null}selector(e){const t=new a(this);return t.curSelector=e,t}rule(e,t){return this.subRule(null,e,t),this}build(){return i.map(this.pool,((e,t)=>{const n=[];return e.forEach((e=>n.push(e))),`${n.join(",")}{${t}}`})).join("\n")}subRule(e,t,n){const s=i.compact([this.curSelector,e]).join(" ");if(null!=this.parent)this.parent.subRule(s,t,n);else{const e=`${t}:${n}`;this.pool[e]=this.pool[e]||new Set,this.pool[e].add(s)}}}},"5HCE":function(e,t){e.exports='<div role="alertdialog" aria-live="assertive">\n  <div class="validation-message-wrapper" tabindex="0">\n    <span bb-ax-alert="2000" class="validation-message" id="sr-message" bb-translate >components.directives.grade.validation.default</span>\n  </div>\n</div>'},"5KgE":function(e,t,n){"use strict";var i=n("D57K"),s=n("Llzl"),a=n("w9Zy"),o=n("Fvsw"),r=n("Qbdf"),l=n("lEL+"),c=n("aHpC"),d=n("g66W"),u=n("5MwF"),m=n("wDWF");const p=u.a.features.devtools_disableFtue?-1:2,h="ftue.",g=".visited",b="hide",f="show";class v{constructor(e,t,n,i){this.$q=e,this.context=t,this.offCanvas=n,this.contextCourse=i}shouldShow(e,t,n){return u.a.disableAllFtueGuidance?this.$q.when(!1):n?this.$q.when(this.isShownInCurrentSession(e)):this.$q.all([this.offCanvas.getElement(t),this.offCanvas.getTopElement(),this.getSessionNumber(e)]).then((t=>{const n=t[0],i=t[1],s=t[2];return i&&n!==i?this.$q.when(!1):this.shouldShowImpl(e,s)}))}shouldShowImpl(e,t){if(t>p)return this.$q.when(!1);if(this.isLastSessionCurrent(e))return this.$q.when(this.isShownInCurrentSession(e));const n=++t<=p;return sessionStorage.setItem(this.getSessionStorageKey(e),n?f:b),this.setSessionNumber(e,t).then((()=>n)),this.$q.when(n)}hide(e,t){sessionStorage.setItem(this.getSessionStorageKey(e),b),t&&this.getSessionNumber(e).then((t=>{this.setSessionNumber(e,++t)}))}getSessionNumber(e){const t=h+e+g;if(!this.isPredictComponent(e)){const e=e=>{const t=parseInt(e.value,10);return Number.isNaN(t)?0:t};return this.context.getPreference(t,"0").then(e)}return this.context.getPredictPreference(t,"0").then((e=>{const t=parseInt(e.value,10);return Number.isNaN(t)?p:t}))}isLastSessionCurrent(e){const t=sessionStorage.getItem(this.getSessionStorageKey(e));return t===f||t===b}isShownInCurrentSession(e){return sessionStorage.getItem(this.getSessionStorageKey(e))!==b}setSessionNumber(e,t){const n=h+e+g;return this.isPredictComponent(e)?this.context.setPredictPreference(n,t.toString()):this.context.setPreference(n,t.toString())}getSessionStorageKey(e){return h+e+".show."+m.a(this.context.sessionId)}isPredictComponent(e){return!!e&&0===e.toLowerCase().indexOf("predict.")}}class y extends v{shouldShowImpl(e,t){return this.courseId=this.contextCourse.courseId&&this.contextCourse.courseId.replace(/_/g,"."),this.getSessionNumber(e+this.courseId).then((n=>{if(t>p&&n>1)return this.$q.when(!1);if(this.isLastSessionCurrent(e+this.courseId))return this.$q.when(this.isShownInCurrentSession(e)||this.isShownInCurrentSession(e+this.courseId));let i=!1,s=!1;t++,n++,i=t<=p,sessionStorage.setItem(this.getSessionStorageKey(e),i?f:b),s=n<=1,sessionStorage.setItem(this.getSessionStorageKey(e+this.courseId),s?f:b);const a=[];return t<=p+1&&a.push(this.setSessionNumber(e,t)),n<=2&&a.push(this.setSessionNumber(e+this.courseId,n)),this.$q.all(a).then((()=>i||s)),this.$q.when(i||s)}))}hide(e){sessionStorage.setItem(this.getSessionStorageKey(e),b),this.courseId||(this.courseId=this.contextCourse.courseId&&this.contextCourse.courseId.replace(/_/g,".")),sessionStorage.setItem(this.getSessionStorageKey(e+this.courseId),b)}}n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return x})),n.d(t,"a",(function(){return S}));const k="ultra.service.firstTimeHelper",x="firstTimeHelper",S=/[_-]/g;let C;const E=Symbol("default");let I=class{constructor(e){this.timeout=e,this.TIME_TO_SHOW_FIRST_BUTTON=5e3}shouldShow(e,t,n){return this.convertAngularPromise((C.get(e)||C.get(E)).shouldShow(e,t,n))}hasBeenShown(e){return(C.get(e)||C.get(E)).getSessionNumber(e).then((e=>e>0))}hide(e,t){(C.get(e)||C.get(E)).hide(e,t)}fadeAddContentButton(e,t,n){this.shouldShow(t,n).then((t=>{const n=e.$on("add-content-button-ready",(()=>{const i=t?this.TIME_TO_SHOW_FIRST_BUTTON:0;n(),this.timeout((()=>{e.$broadcast("always-show-time-expires")}),e,i)}))}))}hasMultiTargetSupport(e){return!!e&&0===e.toLowerCase().indexOf("predict.")}convertAngularPromise(e){return new Promise(((t,n)=>{e.then(t).catch(n)}))}};I=Object(i.a)([Object(i.c)(0,Object(c.b)(l.b))],I);s.module(k,[o.a,r.b,a.d]).run(["$q",o.b,r.e,a.e,(e,t,n,i)=>{const s=new y(e,t,i,n),a=new v(e,t,i,n);var o;C=(new Map).set((o="components.features.course.content.assessment.ftue.group-conversation",d.a(o,S)),s).set(E,a)}]).service(x,I)},"5RJJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var i=n("D57K"),s=n("Llzl"),a=n("yC9S"),o=n("oVrE"),r=n("PdQf"),l=n("pjml"),c=n("zGdY"),d=n("IbyE"),u=n("aHpC");const m="ultra.service.courseMembership",p="courseMembership";let h=class{constructor(e,t,n,i,s){this.$q=e,this.$rootScope=t,this.$ngRedux=n,this.CourseModel=i,this.CourseMembershipModel=s,this.userCourseAvailabilities={},this.msgToolAvailability={},this.fetchToolAvailabilityPromiseCache={},this.subscribeToRedux(),a.b.OnRootScope(this.$rootScope,"membership.update",((e,t,n,i,s,a,o,r)=>{this.getUserCourseAvailabilities(r).then((()=>{this.userCourseAvailabilities[r][o.id]=t.isAvailable}))})),a.b.OnRootScope(this.$rootScope,"deleteMembership",((e,t,n,i)=>{this.getUserCourseAvailabilities(i).then((()=>{this.userCourseAvailabilities[i][t.id]=!1}))})),a.b.OnRootScope(this.$rootScope,"roster.enroll.new.membership",((e,t,n,i)=>{this.getUserCourseAvailabilities(n).then((()=>{this.userCourseAvailabilities[n][i]=t.isAvailable}))}))}subscribeToRedux(){this.$ngRedux.connect(null,(e=>({loadCourseMembershipByUserId:(t,n)=>e(d.X.courseMembership.loadCourseMembershipByUserId(t,n))})))(this)}getMembershipByUserId(e,t){const n=d.gc.courseMembership.getCourseMembershipByUserId(this.$ngRedux.getState(),e,t);return(null==n?void 0:n.courseRole)?this.$q.resolve(n):this.$q.when(this.loadCourseMembershipByUserId(e,t))}getUserCourseAvailabilities(e){if(this.userCourseAvailabilities[e])return this.$q.when(this.userCourseAvailabilities[e]);const t=this.$q.defer();return this.userCourseAvailabilities[e]={},this.CourseModel.$new(e).memberships.$refresh().$then((n=>{n.forEach((t=>{this.userCourseAvailabilities[e][t.userId]=t.isAvailable})),this.userCourseAvailabilities[e][r.d()]=!0,this.userCourseAvailabilities[e][o.c()]=!1,t.resolve(this.userCourseAvailabilities[e])})),t.promise}getMsgToolAvailability(e,t){if(!e)return;if(t||null==this.msgToolAvailability[e.id]){if(!e.isUltra()){let t=this.fetchToolAvailabilityPromiseCache[e.id];return t||(t=e.tools.$find("messages").$asPromise().then((t=>(this.msgToolAvailability[e.id]=t.isVisible,t.isVisible)),(e=>{console.error("Fetch ToolAvailability error!")})).finally((()=>{delete this.fetchToolAvailabilityPromiseCache[e.id]})),this.fetchToolAvailabilityPromiseCache[e.id]=t,t)}this.msgToolAvailability[e.id]=!0}const n=this.$q.defer();return n.resolve(this.msgToolAvailability[e.id]),n.promise}isUserCourseAvailable(e,t){return this.userCourseAvailabilities[e][t]}createGuestMembership(e,t){return this.CourseMembershipModel.$build({userId:t.id,course:e,user:t,role:c.V.Guest})}};h=Object(i.a)([Object(i.c)(0,Object(u.b)("$q")),Object(i.c)(1,Object(u.b)("$rootScope")),Object(i.c)(2,Object(u.b)("$ngRedux")),Object(i.c)(3,Object(u.b)(l.m.serviceName)),Object(i.c)(4,Object(u.b)(l.t.serviceName))],h);s.module(m,[l.N]).service(p,h)},"5Tom":function(e,t,n){"use strict";var i=n("D57K"),s=n("nYZ0"),a=n("fYJU"),o=n("0JpG"),r=n("TnpK"),l=n("0/Nk"),c=n("M2M2"),d=n("yC9S"),u=n("aHpC");n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));const m="ultra.directives.group.group-student-enrollment";let p=class{constructor(e,t,n,i,s){this.scope=e,this.contentService=t,this.currentUserService=n,this.localize=i,this.ultraState=s,this.isSelfEnrollment=!1}$onInit(){this.render()}async render(){if(this.content.selfEnrollmentGroups&&this.content.selfEnrollmentGroups.length>0){const{locale:e,babelfishFormatter:t}=this.localize.getReactBabelfishParams(this.scope),n=this.content.selfEnrollmentGroups.filter((e=>e.group)).map((e=>e.group));this.selfEnrollGroupInfo=await c.f(n,e,t),this.isSelfEnrollment=this.selfEnrollGroupInfo.isSelfEnrollment}else this.isSelfEnrollment=!1}async openContentEnrollPanel(){this.fromView?this.ultraState.current.name.endsWith("discussion.view.with-grading.peek.discussion-details")?(await this.ultraState.leavePeekState(),await this.ultraState.leavePeekState(),await this.ultraState.goPeekState("content-group-enroll",{courseId:this.content.courseId,contentId:this.content.id,fromView:this.fromView})):(await this.ultraState.leavePeekState(),await this.ultraState.goPeekState("content-group-enroll",{courseId:this.content.courseId,contentId:this.content.id,fromView:this.fromView})):await this.ultraState.goPeekState("content-group-enroll",{courseId:this.content.courseId,contentId:this.content.id})}isBeforeEnrollment(){return this.selfEnrollGroupInfo&&"Before"===this.selfEnrollGroupInfo.enrollmentDateState}isOpenEnrollment(){return this.selfEnrollGroupInfo&&"Open"===this.selfEnrollGroupInfo.enrollmentDateState}isOpenEnrollmentWithEnding(){return this.selfEnrollGroupInfo&&"Open"===this.selfEnrollGroupInfo.enrollmentDateState&&null!=this.selfEnrollGroupInfo.relativeDate}isAfterEnrollment(){return this.selfEnrollGroupInfo&&"After"===this.selfEnrollGroupInfo.enrollmentDateState}};p=Object(i.a)([Object(d.a)({moduleName:m,componentName:"bbGroupStudentEnrollment",template:l,bindings:{content:"<",fromView:"@"},requireModules:[s.d,a.a,o.moduleName,r.b]}),Object(i.c)(0,Object(u.b)("$scope")),Object(i.c)(1,Object(u.b)(s.f)),Object(i.c)(2,Object(u.b)(a.b)),Object(i.c)(3,Object(u.b)(o.serviceName)),Object(i.c)(4,Object(u.b)(r.d))],p)},"5m/6":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-filter-options",use:"icon-small-filter-options-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-filter-options"><path d="M1 1h8M1 5h8M1 9h8M1 13h5M13 1v14M11 13l2 2 2-2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"5uNO":function(e,t,n){},"5uPl":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var i=n("D57K"),s=n("nsO7"),a=n("Llzl"),o=n("pjml"),r=n("0JpG"),l=n("Q/M7"),c=n("vJBG"),d=n("aHpC"),u=n("3PCF");const m="ultra.service.originalityReport",p="originalityReport";let h=class{constructor(e,t){this.localize=e,this.$q=t,this.columnOriginalityAverageScoreDict={}}setCourseContent(e,t){this.courseContent=e,this.isPrivileged=t}clearCourseContent(){this.courseContent=void 0,this.isPrivileged=void 0}updateReport(e,t,n){this.columnId=n,this.attempt=e,this.openOriginalityReport=!0,this.shouldFetchOriginality()&&(t&&(this.gradedQuestionAttempts=t.map((e=>s.pick(e,["questionAttempt.question.position","questionAttempt.visibleQuestionNumber"])))),this.fetchOriginality())}clearReport(){this.gradedQuestionAttempts=void 0,this.attempt=void 0,this.originality=void 0,this.openOriginalityReport=void 0,this.columnId=void 0,this.reports=void 0,this.personalMaxScore=void 0,this.personalMaxScoreReportName=void 0,this.personalAverageScore=void 0,this.classAverageScore=void 0}isSafeAssignEnabled(e){var t;return!!(null===(t=null!=e?e:this.courseContent)||void 0===t?void 0:t.isSafeAssignEnabled())}retrieveOriginalityIntegration(e){var t;const n=e||this.courseContent;return n?(this.setCourseContent(n,!0),this.$q.when(c.a.fetchDefaultOriginalityReportSubmissionService(n.courseId,null===(t=n.getAssociatedGradingColumn())||void 0===t?void 0:t.id)).then((e=>(this.defaultOriginalityIntegrationService=e,this.portalIntegrationId=this.getOriginalityIntegrationByUniqueId(null==e?void 0:e.uniqueHandle),e)))):this.$q.resolve(void 0)}fetchIsOriginalityIntegrationEnabled(e){return this.retrieveOriginalityIntegration(e).then((e=>e?this.isOriginalityIntegrationEnabled():this.$q.resolve(!1)))}fetchIsOriginalityEnabled(e){return this.fetchIsOriginalityIntegrationEnabled(e).then((e=>e))}isOriginalityIntegrationEnabled(){var e,t;const n=this.defaultOriginalityIntegrationService;return!!(null===(t=null===(e=null==n?void 0:n.capabilities)||void 0===e?void 0:e.OriginalityReport)||void 0===t?void 0:t.enabled)}saveOriginalityConfiguration(e){return this.$q.when(c.a.saveOriginalityConfiguration(this.courseContent,e))}isOriginalityReportEnabled(){return this.defaultOriginalityIntegrationService&&this.defaultOriginalityIntegrationService.uniqueHandle!==u.b?this.isOriginalityIntegrationEnabled():this.isSafeAssignEnabled()}getCurrentOriginalityReportProviderType(e){return e?e.uniqueHandle===u.b?u.a.SafeAssign:u.a.Integration:u.a.None}getOriginalityDisplayName(){var e;return null===(e=this.defaultOriginalityIntegrationService)||void 0===e?void 0:e.displayName}isOriginalityReportProviderActive(){return this.getCurrentOriginalityReportProviderType(this.defaultOriginalityIntegrationService)!==u.a.None}isSafeAssignActiveOriginalityProvider(){return this.getCurrentOriginalityReportProviderType(this.defaultOriginalityIntegrationService)===u.a.SafeAssign}isIntegrationActiveOriginalityProvider(){return this.getCurrentOriginalityReportProviderType(this.defaultOriginalityIntegrationService)===u.a.Integration}getOriginalityReportLinkAnalyticsId(){var e;const t=null===(e=this.defaultOriginalityIntegrationService)||void 0===e?void 0:e.uniqueHandle;return t?`course.content.originalityReport.settings.${t}.link`:"course.content.originalityReport.settings.link"}getOriginalityReportLinkText(e){const t=this.defaultOriginalityIntegrationService,n=null==t?void 0:t.displayName;return n?this.isOriginalityReportEnabled()?this.localizeProviderLinkText("course.content.originalityReport.settings.providerEnabled",n):e?this.localizeProviderLinkText("course.content.originalityReport.settings.enableProvider",n):this.localizeProviderLinkText("course.content.originalityReport.settings.providerDisabled",n):this.localize.translateSync({locale:this.localize.getAppLocale(),key:"course.content.originalityReport.settings.originalityDisabled",noWrap:!0})}localizeProviderLinkText(e,t){return this.localize.translateSync({locale:this.localize.getAppLocale(),key:e,noWrap:!0,params:{originalityProvider:t},noEscape:!0})}canStudentViewReports(){return this.courseContent&&this.courseContent.canStudentViewReports()}isReportSectionOpen(){var e;return this.openOriginalityReport&&((null===(e=this.originality)||void 0===e?void 0:e.canShowReportPanel())||this.isOriginalityIntegrationEnabled())}shouldFetchOriginality(){return this.isPrivileged&&this.isSafeAssignEnabled()||!this.isPrivileged&&this.canStudentViewReports()}setOriginalityAverageScore(e,t){let n=0,i=0;e.forEach((e=>{e.originalityProcessed&&!s.isUndefined(e.originalityScore)&&(n+=1,i+=e.originalityScore)})),n&&(this.columnOriginalityAverageScoreDict[t]=i/n)}fetchOriginality(){const e=this.attempt;e.originality.$fetch().$then((t=>{this.attempt===e&&(this.originality=t,this.generateReport())}))}hasValidReports(){return this.reports&&this.reports.some((e=>!e.invalid))}generateReport(){const e=this.originality.answerOriginalities;if(this.gradedQuestionAttempts){const t=()=>this.gradedQuestionAttempts.some(((e,t)=>e.questionAttempt.question.position!==t+1));if(this.isPrivileged&&t()){const t=s.sortBy(this.gradedQuestionAttempts,(e=>e.questionAttempt.question.position)),n=[];s.map(t,"questionAttempt.visibleQuestionNumber").forEach(((e,t)=>n[e-1]=t)),e.forEach((e=>e.order=n[e.order-1]+1)),e.sort(((e,t)=>e.order-t.order))}}this.reports=s.flatMap(e,(e=>e.attachments.map((t=>({...t,isQuestionAnswerContent:!0,visibleQuestionNumber:e.order}))))),this.originality.attemptOriginality&&this.reports.push(...this.originality.attemptOriginality.attachments),this.hasValidReports()&&this.calculateScore()}calculateScore(){const e=this.reports.filter((e=>!e.invalid));let t=0;this.personalMaxScore=e[0].score,this.personalMaxScoreReportName=e[0].name,e.forEach((e=>{e.reportLink=Object(l.c)(e.reportLink),this.personalMaxScore<e.score&&(this.personalMaxScore=e.score,this.personalMaxScoreReportName=e.name),t+=e.score})),this.personalAverageScore=Math.floor(t/e.length),s.isUndefined(this.columnOriginalityAverageScoreDict[this.columnId])||(this.classAverageScore=Math.floor(this.columnOriginalityAverageScoreDict[this.columnId]))}getOriginalityIntegrationByUniqueId(e){var t;return null===(t=c.a.getOriginalityIntegrationByUniqueId(e))||void 0===t?void 0:t.integrationId}};h=Object(i.a)([Object(i.c)(0,Object(d.b)(r.serviceName)),Object(i.c)(1,Object(d.b)("$q"))],h);a.module(m,[o.N]).service(p,h)},"5vTq":function(e,t){e.exports='<div class="grade-grid-cell grade-grid-body-cell student-column">\n  <div class="student-info">\n    <bb-user-avatar class="avatar"\n      user="user"\n      ng-click="!isDisabled && gradeGridColumnStudentReborn.viewIndividualGrades(user.id, membershipId)"\n      analytics-id="components.directives.grade.grid.studentAvatar.link"\n    >\n    </bb-user-avatar>\n    <div class="name-and-groups">\n      <a ng-if="!isDisabled" class="username-link"\n        bb-peek-sref="view-individual-grades({ userId: user.id, membershipId: membershipId })"\n        bb-prevent-routing-click="div.bb-audio-player"\n        analytics-id="components.directives.grade.grid.studentUsername.link"\n      >\n        <bb-username class="ellipse username" user="user" auto-update="true" format-sync="true" show-pronouns="true" show-pronunciation="true" ng-class="{ inactive: !isUserCourseAvailable }"></bb-username>\n      </a>\n      <span ng-if="isDisabled">\n        <bb-username class="ellipse username" user="user" auto-update="true" format-sync="true" show-pronouns="true" show-pronunciation="true" ng-class="{ inactive: !isUserCourseAvailable }"></bb-username>\n      </span>\n      <bb-filtered-users-groups\n        class="group-names"\n        user-id="user.id">\n      </bb-filtered-users-groups>\n    </div>\n  </div>\n</div>\n'},"65PF":function(e,t){e.exports='<td class="table-cell"\n    ng-show="tableCell.column.visible">\n  <div class="sr-only alternate-contents"></div>\n  <div class="transclude-container"></div>\n</td>\n'},"66CI":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-lock-circle",use:"icon-small-lock-circle-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-lock-circle"><g stroke-width="2"><circle cx="8" cy="8" r="7" transform="rotate(-90 8 8)" stroke-linecap="round" stroke-linejoin="round" /><path d="M5 8h6v3H5V8z" stroke-linecap="round" stroke-linejoin="round" /><path d="M6 9h4v1H6z" /><path d="M6 8V5.7143C6 4.857 6.6667 4 8 4m0 0c.3333 0-.3333 0 0 0zm0 0c1.3333 0 2 .8571 2 1.7143V8" stroke-linecap="round" stroke-linejoin="round" /></g></symbol>'});s.add(a);e.exports=a},"66CP":function(e,t){e.exports='<div class="content-item-icon" bb-load-bundle="components/directives/element-image/element-image-accessibility">\n  <bb-ui-content-icon icon="contentItemIcon.iconName" color="{{contentItemIcon.iconColor}}" not-decorative="true" ng-if="!contentItemIcon.customLtiIcon"></bb-ui-content-icon>\n  <div class="image-wrapper" ng-if="contentItemIcon.customLtiIcon">\n    <img bb-translate-attrs="{\'alt\': \'components.directives.element-image.element-image-accessibility.img-icon-\' + contentItemIcon.iconName }" ng-src="{{ ::contentItemIcon.customLtiIcon }}" />\n  </div>\n</div>\n'},"67oV":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-close",use:"icon-small-close-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-close"><path d="M15 1L1 15M1 1l14 14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"6BRP":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-attention",use:"icon-small-attention-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-attention"><rect x="1" y="1" width="14" height="14" rx="7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M8 4v5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="8" cy="12" r=".5" /></symbol>'});s.add(a);e.exports=a},"6CeR":function(e,t){e.exports='<div id="grade-grid-container" class="grade-grid-container">\n  <div class="spinner bb-secondary-color-2" ng-if="!gg.initialized" aria-hidden="true"></div>\n  <div class="overall-grade-setup grade-search-filter-panel student-column" ng-if="gg.showFilterCriteria">\n      <bb-grade-grid-search-filter-reborn merged-courses="::gg.mergedCourses"></bb-grade-grid-search-filter-reborn>\n  </div>\n\n  <div id="grade-grid" bb-grid-reborn="gg.gridOptions"></div>\n  <div class="overall-grade-setup text-center" ng-if="gg.isOverallPanelShown && gg.canViewOverallPanel">\n    <bb-setup-overall-grade show-fixed-view="gg.canViewOverallPanel" course-id="course().id" setup-overall-grade-hide-message-callback="gg.setupOverallGradeHideMessageCallback()"></bb-setup-overall-grade>\n  </div>\n</div>\n'},"6Fqm":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-search",use:"icon-small-search-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-search"><circle cx="6.5" cy="6.5" r="5.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M15 15l-4.5-4.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"6Ksg":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return d}));var i=n("71td"),s=n("Llzl"),a=n("nsO7"),o=n("0JpG");const r="ultra.directives.validate.bbmlmarkup",l={img:["id"]};class c{constructor(e,t){this.$q=e,this.$http=t,this.whitelist=null,this.whitelistInitializer=null,this.require="ngModel",this.restrict="A",this.initialWhitelist=()=>(null===this.whitelistInitializer&&(this.whitelistInitializer=this.$http.get("/learn/api/v1/utilities/bbml/whitelist").then((e=>{this.whitelist={};const t=(e.data[":all"]||[]).concat(l[":all"]||[]);a.forEach(e.data,((e,n)=>{const i={};a.each(e.concat(t,l[n]||[]),(e=>{i[e]=e})),this.whitelist[n]=i}))}),(()=>{this.whitelist=null}))),this.whitelistInitializer),this.validate=e=>{if(null===this.whitelist)return!0;if(1!==e[0].nodeType)return!0;const t=e[0].tagName.toLowerCase();if(!Object.prototype.hasOwnProperty.call(this.whitelist,t))return!1;const n=this.whitelist[t];return a.every(e[0].attributes,(e=>Object.prototype.hasOwnProperty.call(n,e.name.toLowerCase())))&&a.every(e.children(),(e=>this.validate(i(e))))},this.getValidator=(e,t,n,s)=>e=>{const n=this.$q.defer();return this.initialWhitelist().then((()=>{a.every(t.children(),(e=>this.validate(i(e))))?n.resolve():n.reject()})),n.promise},this.link=(e,t,n,i)=>{i.$asyncValidators.bbmlMarkup=this.getValidator(e,t,n,i)}}}c.$inject=["$q","$http"];class d extends c{}s.module(r,[o.moduleName]).directive("bbValidateBbmlMarkup",["$injector",e=>e.instantiate(c)])},"6PP7":function(e,t){e.exports='<div bb-grade-grid-menu-reborn id="{{id}}" class="reborn-dropdown-menu">\n  <ul class="f-dropdown f-dropdown-overflow-menu reborn-dropdown" role="menu">\n    <li ng-if="col.isScorm()" role="presentation">\n      <a role="menuitem"\n         ng-click="col.previewScorm()"\n         href="javascript:void(0);"\n         analytics-id="components.directives.grade.grid.viewScorm">\n        <bb-svg-icon size="small" icon="visible"></bb-svg-icon>\n        <bb-translate class="ellipse">components.directives.grade.grid.viewScorm</bb-translate>\n      </a>\n    </li>\n    <li ng-if="col.canView() && !col.canEdit() && !col.isScorm()" role="presentation">\n      <a role="menuitem"\n          ng-click="col.viewOrEdit()"\n          href="javascript:void(0);"\n          analytics-id="components.directives.grade.grid.viewItem">\n        <bb-svg-icon size="small" icon="visible"></bb-svg-icon>\n        <bb-translate class="ellipse">components.directives.grade.grid.viewItem</bb-translate>\n      </a>\n    </li>\n    <li ng-if="col.canEdit()" role="presentation">\n      <a  role="menuitem"\n          class="js-edit-column"\n          ng-click="col.viewOrEdit()"\n          href="javascript:void(0);"\n          analytics-id="components.directives.grade.grid.edit">\n        <bb-svg-icon size="small" icon="draw"></bb-svg-icon>\n        <bb-translate class="ellipse">components.directives.grade.grid.edit</bb-translate>\n      </a>\n    </li>\n    <li ng-if="canPostGrades" role="presentation">\n      <a  role="menuitem"\n          class="js-post-column"\n          ng-click="col.postGrades()"\n          href="javascript:void(0);"\n          bb-confirmation-needed="{{grade.getPostAllGradeConfirmationNeededStringsKey(col.data)}}"\n          modal-aria-type="alertdialog"\n          show-type="always"\n          analytics-id="components.directives.grade.grid.post">\n        <bb-svg-icon size="small" icon="post"></bb-svg-icon>\n        <bb-translate class="ellipse">components.directives.grade.grid.post</bb-translate>\n      </a>\n    </li>\n    <li ng-if="col.data.isQuestionAnalysisAvailable() && col.canViewQuestionAnalysis()"\n        remove-from-dom="true"\n        role="presentation">\n      <a  role="menuitem"\n          class="js-open-question-analysis"\n          ng-click="col.openQuestionAnalysisOverview()"\n          href="javascript:void(0);"\n          analytics-id="components.directives.grade.grid.openQuestionAnalysis">\n        <bb-svg-icon size="small" icon="question-analysis"></bb-svg-icon>\n        <bb-translate class="ellipse">components.directives.grade.grid.openQuestionAnalysis</bb-translate>\n      </a>\n    </li>\n    <li ng-if="col.showDownloadResults()" role="presentation">\n      <a role="menuitem"\n          class="js-download-results"\n          ng-click="col.openDownloadTestResultsPanel()"\n          href="javascript:void(0)"\n          analytics-id="components.directives.grade.grid.downloadResults">\n        <bb-ui-icon-small-download></bb-ui-icon-small-download>\n        <bb-translate class="ellipse">components.directives.grade.grader-column.downloadResults.overflowMenuLabel</bb-translate>\n      </a>\n    </li>\n    <li ng-if="col.hasDownloads() && col.canDownloadAll()" role="presentation">\n      <a role="menuitem"\n          class="js-download-all"\n          ng-click="col.openDownloadAll()"\n          href="javascript:void(0)"\n          analytics-id="components.directives.grade.grid.downloadAll">\n        <bb-ui-icon-small-download-file></bb-ui-icon-small-download-file>\n        <bb-translate class="ellipse">components.directives.grade.grid.downloadSubmissions</bb-translate>\n      </a>\n    </li>\n    <li ng-if="col.canDelete()" role="presentation">\n      <a class="js-delete-column"\n         href="javascript:void(0);"\n         ng-click="col.triggerDelete($event)"\n         ng-switch="!!col.data.contentId"\n         analytics-id="components.directives.grade.grid.deleteColumn.link"\n         role="button">\n        \x3c!-- Content column --\x3e\n        <bb-delete callback-function="col.deleteColumn()"\n                   class="ellipse"\n                   content-id="col.data.contentId"\n                   course-id="col.data.courseId"\n                   display-mode="controls"\n                   ng-switch-when="true"\n                   role="menuitem">\n        </bb-delete>\n        \x3c!-- Grading column --\x3e\n        <bb-delete class="ellipse"\n                   confirmation-handler="{{col.getConfirmationMessage()}}"\n                   delete-function="col.deleteColumn()"\n                   display-mode="controls"\n                   ng-switch-when="false"\n                   role="menuitem">\n        </bb-delete>\n      </a>\n    </li>\n  </ul>\n</div>\n'},"6TNA":function(e,t){e.exports='<span class="schema-grade">{{displayGrade.fullDisplayGrade}}</span>\n'},"6ZXc":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-download",use:"icon-medium-download-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-download"><path d="M12 15V1M8 11l4 4 4-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M1 7v16h22V7h-4M1 7h4-4z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"6fZB":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=e=>new Promise(((t,n)=>{e.then((e=>t(e))).catch((e=>n(e)))}))},"6jv3":function(e,t){e.exports='<div class="save-buttons">\n  <footer class="panel-footer" ng-if="!(hideCancel() || hideSave() || hideDelete())">\n    \x3c!--footer tag is removed, and its children appended to parent if the directive is marked as \'isInline\'--\x3e\n    <div ng-class="{\'inline\':isInline(), \'panel-footer-right\':!isInline()}" class="buttons-2 equal-buttons">\n      <button ng-if="!(hideDelete() != null ? hideDelete() : true)"\n              class="button js-delete js-primary-button non-first-focus" ng-class="{\'small clear icon\':isInline}"\n              bb-confirmation-needed="{{ deleteConfirmationResourceType }}"\n              show-type="{{mustShowDeleteConfirmation() ? \'always\' : \'userChoice\'}}"\n              ng-disabled="saveButtons.isDeleteDisabled()"\n              ng-click="saveButtons.deleteAction()"\n              ng-mousedown="saveButtons.mousedownAction()"\n              type="button"\n              choices="{{choices()}}"\n              analytics-id="{{::analyticsIdTagPrefix}}.autosave.saveButtons.delete.button">\n                <span ng-if="!isInline()">{{saveButtons.deleteButtonStatus}}</span>\n                <span ng-if="isInline()"><i class="icon-trash"></i></span>\n      </button>\n      <button ng-if="!hideCancel()"\n              class="button button--secondary js-cancel js-secondary-button non-first-focus"\n              bb-confirmation-needed="{{ saveButtons.isCancelNowADelete() ? deleteConfirmationResourceType : \'\' }}"\n              show-type="{{mustShowDeleteConfirmation() ? \'always\' : \'userChoice\'}}"\n              ng-disabled="saveButtons.isCancelDisabled()"\n              ng-click="saveButtons.cancelAction()"\n              ng-mousedown="saveButtons.mousedownAction()"\n              type="button"\n              choices="{{choices}}"\n              analytics-id="{{::analyticsIdTagPrefix}}.autosave.saveButtons.cancel.button">{{saveButtons.cancelButtonStatus}}</button>\n      <button ng-if="!hideSave()"\n              class="button js-save js-primary-button non-first-focus"\n              bb-confirmation-needed="{{ saveConfirmationResourceType }}"\n              show-type="{{mustShowSaveConfirmation() ? \'always\' : \'userChoice\'}}"\n              ng-disabled="saveButtons.isSaveDisabled()"\n              ng-click="saveButtons.saveAction()"\n              ng-mousedown="saveButtons.mousedownAction()"\n              type="submit"\n              analytics-id="{{::analyticsIdTagPrefix}}.autosave.saveButtons.save.button">{{saveButtons.saveButtonStatus}}</button>\n    </div>\n  </footer>\n</div>'},"6sUD":function(e,t){e.exports='<div>\n  \x3c!-- Display a loading spinner if page is rendering --\x3e\n  <div class="telemetry-loading-anim" ng-if="telemetryPanelHeader.showSpinner">\n    <div class="spinner bb-secondary-color-2"/>\n  </div>\n  <header class="panel-header simple-header">\n    <div class="panel-titles-container">\n      <div class="panel-sub-title">{{ ::course().name }}</div>\n      <div class="black-header-contents">\n        <button class="left-off-canvas-toggle menu-toggle standard-button dark-background"\n                type="button"\n                analytics-id="components.directives.telemetry.panel.menu.button">\n          <bb-svg-icon size="small" icon="main-menu"></bb-svg-icon>\n          <span class="sr-only" bb-translate>components.directives.telemetry.panel.menu</span>\n        </button>\n        <h1 class="panel-title" ng-if="::titleKey" bb-translate>{{::titleKey}}</h1>\n        <h1 class="panel-title" ng-if="title">{{::title}}</h1>\n        \x3c!-- BUTTON 2 (displayed to the left of Button 1) --\x3e\n        <button ng-if="buttonTwoIcon" id="button-two"\n                aria-haspopup="true"\n                class="standard-button dark-background hide-for-large-up"\n                bb-translate-attrs="{\'aria-label\': buttonTwoAriaLabel,\'title\': buttonTwoTitle}"\n                ng-click="buttonTwoCallback()"\n                ng-class="{ \'active\': mobileStudentListVisible }"\n                analytics-id="components.directives.telemetry.panel.buttonwTwo.button">\n          <i class="{{ ::buttonTwoIcon }}"></i>\n          <span class="sr-only" bb-translate>buttonTwoTitle</span>\n        </button>\n        \x3c!-- BUTTON 1 (displayed on the far right) --\x3e\n        <button ng-if="buttonOneIcon"\n                id="button-one"\n                class="standard-button dark-background hide-for-large-up"\n                bb-translate-attrs="{\'aria-label\': buttonOneAriaLabel,\'title\': buttonOneTitle}"\n                ng-click="buttonOneCallback()"\n                analytics-id="components.directives.telemetry.panel.buttonOne.button">\n          <i class="{{ ::buttonOneIcon }}"></i>\n          <span class="sr-only" bb-translate>buttonOneTitle</span>\n        </button>\n      </div>\n    </div>\n  </header>\n</div>\n'},"6vR2":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var i=n("nsO7"),s=n("IbyE");function a(e){const t=new Set;return JSON.parse(JSON.stringify(e,((e,n)=>{if("object"!=typeof n||!t.has(n))return"object"!=typeof n||t.add(n),n})))}function o(e){return Array.isArray(e)?e.map((e=>o(e))):Object(i.isPlainObject)(e)?Object(i.mapValues)(e,(e=>o(e))):Object(s.rb)(e)}},"6xt4":function(e,t){e.exports='<div id="{{::addContentButton.getButtonWrapperId()}}" tabindex="-1">\n  <button\n    id="{{::addContentButton.getTargetId()}}"\n    class="button-add-content js-show-add-options"\n    data-show-add-options\n    ng-click="addContentButton.toggleOverflowMenu()"\n    ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n    aria-expanded="{{addContentButton.isMenuVisible}}"\n    aria-haspopup="true"\n    aria-controls="{{::\'add-content-menu-\' + addMenuId}}"\n    aria-label="{{addContentButton.addButtonAriaLabel}}"\n    ng-focus="addContentButton.showButton()"\n    ng-blur="addContentButton.hideButton()"\n    analytics-id="components.directives.add-content-button.course-outline.addContentMenu.button">\n  </button>\n</div>\n<bb-ui-contextual-menu\n  items="addContentButton.items"\n  target-id="::addContentButton.getTargetId()"\n  show="addContentButton.isMenuVisible && !addContentButton.isEmptyFolder()"\n  directional-hint="::addContentButton.getDirectionalHint()"\n  dismiss="addContentButton.hideAddContentMenu"\n  aria-labelledby="{{::addContentButton.getTargetId()}}"\n  analytics-id="components.directives.add-content-button.contextualMenu">\n</bb-ui-contextual-menu>\n<ul class="element-list-add-menu angular-animate small-block-grid-2 medium-block-grid-2"\n    ng-class="\'large-block-grid-3\'"\n    ng-attr-id="{{::\'add-content-menu-\' + addMenuId}}"\n    ng-show="addContentButton.isEmptyFolder()">\n  <li ng-if="addContentButton.isEmptyFolder()">\n    <a class="js-create"\n       bb-peek-sref="content-manage.create(addContentButton.getInsertLocationData())"\n       analytics-id="components.directives.add-content-button.course-outline.link">\n      <div>\n        <bb-svg-icon size="small" icon="add"></bb-svg-icon>\n        <span bb-translate>components.directives.add-content-button.create</span>\n      </div>\n    </a>\n  </li>\n  <li ng-if="addContentButton.currentCourse.canCopy() && addContentButton.isEmptyFolder()">\n    <a class="content-import-button"\n       bb-peek-sref="content-manage.copy(addContentButton.getInsertLocationData())"\n       analytics-id="components.directives.add-content-button.course-outline.import.link">\n      <div>\n        <bb-svg-icon size="small" icon="duplicate"></bb-svg-icon>\n        <span bb-translate>components.directives.add-content-button.copy</span>\n      </div>\n    </a>\n  </li>\n  <li>\n    <bb-file-upload\n      url="/v1/files"\n      data="{}"\n      monitor-leave="true"\n      allow-multiple="true"\n      hide-transclude-during-upload="false"\n      is-content="true"\n      primary-key="fileListViewLocalId"\n      skip-zip-file-check="true"\n      class="js-file-upload"\n      depth="depth()">\n      <button ng-if="addContentButton.isEmptyFolder()"\n              class="file-upload-button"\n              analytics-id="components.directives.add-content-button.course-outline.upload.button">\n        <div>\n          <bb-svg-icon size="small" icon="upload"></bb-svg-icon>\n          <span bb-translate>components.directives.add-content-button.upload</span>\n        </div>\n      </button>\n    </bb-file-upload>\n  </li>\n  <li ng-if="addContentButton.isCloudServiceAvailable">\n    <bb-file-upload\n      allow-multiple="true"\n      monitor-leave="true"\n      is-third-party-upload="true"\n      hide-transclude-during-upload="false"\n      click-enabled="false"\n      cloud-upload-selected-content-id="addContentButton.positionForFiles.positionAfter"\n      primary-key="fileListViewId"\n      skip-zip-file-check="true"\n      third-party-download-handler="addContentButton.downloadFile"\n      target-div="{{\'#\' + fileListViewId}}"\n      disable-drag="true"\n      ignored-states="[\'content-manage.import\']">\n      <button\n        class="doc-add-media clear ng-scope"\n        bb-cloud-storage-integration\n        primary-key="fileListViewId"\n        attach-handler="addContentButton.defaultAttachHandler"\n        web-location="{{webLocation}}"\n        file-location="{{fileLocation}}"\n        allow-multiple="true"\n        on-files-selected="addContentButton.onFilesSelectedHandler"\n        analytics-id="components.directives.add-content-button.course-outline.importContentFromCloudStorage.button">\n        <bb-svg-icon size="small" icon="upload-cloud"></bb-svg-icon>\n        <span bb-translate>components.directives.add-content-button.importContentFromCloudStorage.title</span>\n      </button>\n    </bb-file-upload>\n  </li>\n  <li ng-if="addContentButton.isEmptyFolder()">\n    <a class="js-content-market"\n       href="javascript:void(0);"\n       ng-click="addContentButton.openContentMarket()"\n       analytics-id="components.directives.add-content-button.course-outline.openContentMarket.link">\n      <div>\n        <bb-ui-icon-small-content-market class="bb-ui-icon-folder"></bb-ui-icon-small-content-market>\n        <span bb-translate>components.directives.add-content-button.contentMarket</span>\n      </div>\n    </a>\n  </li>\n  <li ng-if="addContentButton.isEmptyFolder()">\n    <a class="js-content-collection"\n       bb-peek-sref="content-collection(addContentButton.getInsertLocationData())"\n       analytics-id="components.directives.add-content-button.course-outline.contentCollection.link">\n      <div>\n        <bb-svg-icon size="small" icon="content-collection"></bb-svg-icon>\n        <span bb-translate>components.directives.add-content-button.contentCollection</span>\n      </div>\n    </a>\n  </li>\n</ul>\n'},"6ynb":function(e,t,n){"use strict";class i extends Error{constructor(e){let t="string"==typeof e?e:"";e&&e.message&&(t=e.message),super(t),this.name="Exception",this.message=t,this.stack=(new Error).stack;const n=Error;e&&e.stack?this.stack=e.stack:n.captureStackTrace&&n.captureStackTrace(this,i)}}t.a=i},"7+Tq":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var i=n("Llzl"),s=n("0+Qs"),a=n("XGja"),o=n("+4Px");const r="ultra.services.dropdownInit",l="dropdownInitService";i.module(r,[s.a]).factory(l,[s.b,t=>{const n=(e,t)=>{t.focus()};return(i,s)=>{i.find("[data-dropdown]").each(((i,r)=>{const l=e(r),c=l.attr("data-dropdown"),d=e("#"+c);if(!d.length)return;l.attr("aria-haspopup","true"),d.attr("role")||(d.attr("role","menu"),d.find("li a").each((function(){e(this).attr("role")||e(this).attr("role","menuitem")}))),d.off("keydown.fndtn.dropdown"),d.on("keydown.fndtn.dropdown",(e=>{if(d.hasClass("open")){let t,i=!0,s=d.find("li a:focus").closest("li");if(0===s.length&&(s=d.find(":focus"),i=!1),e.keyCode===o.g&&!d.hasClass("bb-foundation-dropdown-close-esc-override")||e.keyCode===o.u&&!d.hasClass("bb-foundation-dropdown-tab-override"))l.click(),e.keyCode===o.g&&(n(0,l),e.stopPropagation());else if(e.keyCode===o.d||e.keyCode===o.v||e.keyCode===o.u)return i?(e.keyCode===o.d||e.keyCode===o.u&&!e.shiftKey?(t=s.nextAll().not(".scroll-control").find(":tabbable").first().closest("li"),t&&0!==t.length||(t=d.find(":tabbable").closest("li").not(".scroll-control").first())):(e.keyCode===o.v||e.keyCode===o.u&&e.shiftKey)&&(t=s.prevAll().not(".scroll-control").find(":tabbable").last().closest("li"),t&&0!==t.length||(t=d.find(":tabbable").closest("li").not(".scroll-control").last())),t.length>0&&t.find(":tabbable").focus()):e.keyCode===o.d||e.keyCode===o.u&&!e.shiftKey?a.b(d,s):(e.keyCode===o.v||e.keyCode===o.u&&e.shiftKey)&&a.c(d,s),!1}}));let u=!0;d.off("keyup.fndtn.dropdown"),d.on("keyup.fndtn.dropdown",(t=>{if((t.keyCode===o.f||t.keyCode===o.t)&&!d.hasClass("bb-foundation-dropdown-enter-override")){if(!u)return u=!0,!1;if(e(t.target).closest("input[type=checkbox]").length)return!0;if(e(t.target).closest("button").length)return!0;if("-1"===e(t.target).attr("tabindex"))return!0;if(d.hasClass("open")){const e=d.find("li a:focus").closest("li");return e.length>0?e.find("a").click():l.click(),n(0,l),!1}}})),l.off("keydown.fndtn.dropdown"),l.on("keydown.fndtn.dropdown",(e=>{if((e.keyCode===o.f||e.keyCode===o.t)&&!d.hasClass("open")){l.click(),u=!1;let e=d.find("li a:focus").closest("li");return 0===e.length&&(e=d.find("li").not(".scroll-control").find(":tabbable").first().closest("li")),e.find("a:visible").length?e.find("a:visible").focus():d.find(":tabbable").first().focus(),!1}})),l.off("click.fndtn.dropdown"),l.on("click.fndtn.dropdown",(e=>{let n=d.find("li a:focus").closest("li");0===n.length&&(n=d.find("li").not(".scroll-control").find(":tabbable").first().closest("li"));const i=t((()=>{"false"===d.attr("aria-hidden")&&(n.find("a:visible").length?n.find("a:visible").focus():d.find("*:focus").length||d.find(":tabbable").first().focus(),t.cancel(i))}),s,50,100,!1)}))}))}}])}).call(this,n("71td"))},"7/0s":function(e,t){e.exports='<a\n  href="javascript:void(0);"\n  class="skip-link"\n  bb-focus-next="{{ bbSkipLinkFocusNext }}"\n  bb-translate\n  bb-load-bundle="components/directives/skip-link"\n  analytics-id="components.directives.skip-link.message">\n  components.directives.skip-link.message\n</a>\n'},"7/CN":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return v}));var i=n("71td"),s=n("lUN/"),a=n("MC1S");const o="has-applied-locale-text-direction";var r,l;function c(e){let t=i(e),n=0;for(;t.length;){if(t.is(".bb-close"))n++;else if(t.is(".bb-offcanvas-panel, #main-content-inner")){if(n<=0)return t[0];n--}t=t.parent()}return document.body}function d(){const e=i(".reveal-modal-bg, .wrs_modal_overlay");return e&&e.length}function u(e){const t=(e||"0").split(" ");return{top:parseInt(t[0],10),right:parseInt(t[1]||t[0],10),bottom:parseInt(t[2]||t[0],10),left:parseInt(t[3]||t[1]||t[0],10)}}function m(e){const t=e.view,n=e.el;e.viewHeight=null==e.viewHeight?t.get(0).clientHeight:e.viewHeight,e.viewWidth=null==e.viewWidth?t.get(0).clientWidth:e.viewWidth,e.height=null==e.height?n.height():e.height,e.width=null==e.width?n.width():e.width;const i=t.offset(),s=n.offset(),a=t.scrollTop(),o=t.scrollLeft(),r=s.top-i.top-e.padding.top,l=s.left-i.left-e.padding.left,c=s.top+e.height+e.padding.bottom-i.top-e.viewHeight,d=s.left+e.width+e.padding.right-i.left-e.viewWidth;e.height<=e.viewHeight?r<0?t.scrollTop(a+r):c>0&&t.scrollTop(a+c):r>0?t.scrollTop(a+r):c<0&&t.scrollTop(a+c),e.width<=e.viewWidth?l<0?t.scrollLeft(o+l):d>0&&t.scrollLeft(o+d):l>0?t.scrollLeft(o+l):d<0&&t.scrollLeft(o+d)}function p(e){e.attr("aria-hidden","true"),function(e){s.a(),e.find(":tabbable").each((function(){const e=i(this);e.addClass("bb-element-inaccessible"),e.data("bb-element-inaccessible",{tabindex:e.attr("tabindex")}),e.attr("tabindex","-1")}))}(e)}function h(e){e.removeAttr("aria-hidden"),e.find(".bb-element-inaccessible").each((function(){const e=i(this);e.removeClass("bb-element-inaccessible"),e.data("bb-element-inaccessible")&&(null!=e.data("bb-element-inaccessible").tabindex?e.attr("tabindex",e.data("bb-element-inaccessible").tabindex):e.removeAttr("tabindex"))}))}let g;function b(){if(g)return g;const e=document.createElement("div");e.id="rtl-browser-detector",document.body.appendChild(e);try{e.innerHTML='\n      <div dir="rtl" style="width: 1px; height: 1px; overflow: hidden; position: fixed; left: 0; top: 0">\n        <div style="width: 2px; height: 1px; white-space: nowrap">\n          <span style="width: 1px; height: 1px; display: inline-block">&nbsp;</span>\n          <span style="width: 1px; height: 1px; display: inline-block">&nbsp;</span>\n        </div>\n      </div>\n    ';const t=e.children[0];t.children[0].children[1].scrollIntoView(),g=t.scrollLeft>=0?l.Positive:l.Negative}catch(e){console.error("Error retrieving scroll direction",e),g=l.Negative}finally{document.body.removeChild(e)}return g}!function(e){e.LeftToRight="ltr",e.RightToLeft="rtl"}(r||(r={})),function(e){e[e.Positive=0]="Positive",e[e.Negative=1]="Negative"}(l||(l={}));class f{constructor(){this._rtlCSSLoadedPromise=new Promise((e=>{this._rtlCSSLoadedResolve=e}))}static getInstance(){return f.instance||(f.instance=new f),f.instance}getCSSLoadedPromise(){return this._rtlCSSLoadedPromise}initialize(e){Object(a.setRTL)(e===r.RightToLeft);const t=document.getElementsByTagName("html")[0],n=[];if(t.hasAttribute(o))this._rtlCSSLoadedResolve();else{if(t.setAttribute("dir",e),t.setAttribute(o,""),e===r.RightToLeft){const e=Array.from(document.getElementsByClassName("initial-css-link"));for(let t=0;t<e.length;t++){const s=i(e[t]),a=s.attr("href");s.attr("href","");const o=i(s).clone();o.attr("href",a.replace(".css",".rtl.css")),s.removeClass("initial-css-link"),o.appendTo("head"),n.push(new Promise((e=>{o[0].onload=()=>e()})))}Promise.all(n).then((()=>{this._rtlCSSLoadedResolve()}))}else this._rtlCSSLoadedResolve();const s=new CustomEvent("initializePageDirection",{detail:{isRtl:e===r.RightToLeft}});document.dispatchEvent(s)}}}const v=f.getInstance()},"70Xn":function(e,t){e.exports='<bb-modal class="notification automatic-zero-confirmation" \n          modal-translate-options="modalTranslateOptions"\n          modal-aria-type="alertdialog"\n          analytics-id-tag-prefix="components.directives.pastDueZero">\n  <div name="modal-contents">\n    \x3c!-- Instructions --\x3e\n    <p bb-translate>{{ modalTranslateOptions.instructions.key }}</p>\n  </div>\n  <button name="modal-footer-button-primary" \n          type="button" \n          class="button confirm-ok js-primary-button" \n          ng-click="okAction()" \n          analytics-id="course.grades.pastDue.confirmationNeeded.confirm"\n          bb-translate>\n          course.grades.pastDue.confirmationNeeded.confirm\n  </button>\n  <button name="modal-footer-button-secondary" \n          type="button" \n          class="button button--secondary confirm-cancel js-secondary-button" \n          ng-click="cancelAction()" \n          analytics-id="course.grades.pastDue.confirmationNeeded.cancel"\n          bb-translate>\n          course.grades.pastDue.confirmationNeeded.cancel\n  </button>\n</bb-modal>'},"7CA4":function(e,t,n){"use strict";var i=n("nbDY"),s=n.n(i);class a extends s.a{}a.NothingToGrade=new a("NOTHING_TO_GRADE"),a.NeedsGrading=new a("NEEDS_GRADING"),a.NeedsPosting=new a("NEEDS_POSTING"),a.AllPosted=new a("ALL_POSTED"),a.AllGraded=new a("ALL_GRADED"),a.Restricted=new a("RESTRICTED"),t.a=a},"7OC/":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var i=n("Llzl"),s=n("d8yC"),a=n("LN5R"),o=n("o5Lu"),r=n("lEL+"),l=n("TmUJ"),c=n("dF44"),d=n("+4Px"),u=n("qH3X"),m=n("8NsT"),p=n("6PP7"),h=n("LTOG"),g=n("zGdY");const b="ultra.components.directives.gradeGridColumnHeaderOverallReborn";class f extends h.a{constructor(t,n,i,s,a,o,r,l){super(n,l),this.rootScope=t,this.element=i,this.attrs=s,this.$compile=a,this.gradeGridRebornController=o,this.grade=r,this.canPostGrades=!1,this.initializeEventHandler(),this.menuScope=n.$new(!0),n.$watch("col",(e=>{n.columnMetadata=e.data,this.col=e,this.highlight(this.col),this.canPostGrades=this.grade.canPostGrades(e.gridData.course,e.data)})),n.$on(c.b.CELL_FOCUSED,(()=>{i.find(".content").focus()})),i.find(".content").on("keydown",(t=>{if(t.keyCode===d.g)this.scope.$emit(c.b.LEAVE_GRID);else{if(!d.y(t))return;e(t.target).click()}t.preventDefault(),t.stopPropagation()})),i.find(".content").on("keyup",(e=>{d.y(e)&&(e.preventDefault(),e.stopPropagation())})),n.$on(u.a.FOCUSIN_CELL,((e,t)=>{t.columnId===this.col.id&&(this.gradeGridRebornController.getElement().find(".is-active").removeClass("is-active"),this.element.find(".content").addClass("is-active"))})),n.$on(u.a.FOCUSOUT_CELL,((e,t)=>{t.columnId===this.col.id&&this.element.find(".content").removeClass("is-active")}))}initializeEventHandler(){this.element.find(".content-header-bg").focusin((()=>{this.focusin()})).focusout((()=>{this.focusout()}))}focusin(){this.rootScope.$broadcast(u.a.FOCUSIN_CELL,{columnId:this.col.id})}focusout(){this.rootScope.$broadcast(u.a.FOCUSOUT_CELL,{columnId:this.col.id})}get possible(){const e=this.gradeGridRebornController.getGridData().getSchema()[this.scope.columnMetadata.gradingSchemaId];return(null==e?void 0:e.scaleType)===g.ac.Score?s.b(this.scope.columnMetadata.possible,2):100}popupMenu(t){const n=`grade-grid-column-header-menu-reborn-${this.col.id}`;if(!this.gradeGridRebornController.isMenuExisting(n)){const i=e(t.target).closest(".grade-grid-header-cell").offset();i.top+=87,this.menuScope.col=this.col,this.menuScope.grade=this.grade,this.menuScope.autoDestroy=!1,this.menuScope.adjustPosition=e=>{const t=i.left+e.width(),n=this.gradeGridRebornController.getGradeGridContainerElementRight();t>n&&(i.left-=t-n+Object(l.a)()),e.offset(i)},this.gradeGridRebornController.popupMenu(n,p,this.menuScope),this.timeout((()=>{const e=this.gradeGridRebornController.getPopupMenu();e.on("keydown",(t=>{t.keyCode===d.g||t.keyCode===d.u?(e.data("destroy")(),this.scope.$emit(c.b.CELL_FOCUSED),t.preventDefault(),t.stopPropagation()):d.y(t)&&this.scope.$emit(c.b.CELL_FOCUSED)})),this.gradeGridRebornController.getMenuitems().first().focus()}),this.menuScope,0,!1),t.preventDefault(),t.stopPropagation()}}}f.$inject=["$rootScope","scope","element","attrs","$compile","gradeGridRebornController",o.n,r.b];class v{constructor(e){this.$injector=e,this.restrict="E",this.template=m,this.scope=!0,this.require=`^${a.a}`,this.link=(e,t,n,i)=>{e.gradeGridColumnHeaderOverallReborn=this.$injector.instantiate(f,{scope:e,element:t,attrs:n,gradeGridRebornController:i})}}}v.$inject=["$injector"],i.module(b,[]).directive("bbGradeGridColumnHeaderOverallReborn",["$injector",e=>e.instantiate(v)])}).call(this,n("71td"))},"7QJo":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("Llzl"),s=n("0JpG"),a=n("pjml"),o=n("TnpK"),r=n("Qbdf"),l=n("X455"),c=n("OTLg"),d=n("nmzr");const u="ultra.course.roster.router";i.module(u,[s.moduleName,o.b,r.b,l.a]).config([o.c,r.c,l.b,(e,t,i)=>{e.peekState("roster",{url:"/roster",resolve:{[r.d]:t.resolve,[l.c]:i.resolve,translations:[s.serviceName,e=>e.loadBundle("features/course/roster/course-roster")]},peekStates:[d.o.EDIT_ENROLLMENT,"enroll-users",d.o.COURSE_MESSAGE,"invite",d.o.ACCOMMODATION,d.o.COURSE_GRADES_VIEW_INDIVIDUAL_GRADES],panelClass:"full",peekViewName:"account-update-base@",require:()=>Promise.all([n.e(84),n.e(588)]).then(n.bind(null,"DjKT")),pageTitle:"course.roster.rosterName"}).peekState(d.o.EDIT_ENROLLMENT,{url:"/edit/:membershipId",require:()=>Promise.all([n.e(82),n.e(84),n.e(696)]).then(n.bind(null,"VZ54"))}).peekState("enroll-users",{url:"/enroll",require:()=>Promise.all([n.e(84),n.e(697)]).then(n.bind(null,"30P8")),pageTitle:"course.roster.enroll.enrollPeople"}).peekState(d.o.COURSE_MESSAGE,{url:"/message?courseId?recipientId",require:()=>Promise.all([n.e(35),n.e(65)]).then(n.bind(null,"BrlV"))}).peekState("invite",{url:"/invite",require:()=>n.e(650).then(n.bind(null,"IgRM")),pageTitle:"course.roster.invite.inviteStudents"}).peekState(d.o.ACCOMMODATION,{url:"/exception/:membershipId",require:()=>n.e(644).then(n.bind(null,"0vas")),pageTitle:"course.roster.dueDateException",resolve:{currentMembership:["$q","$stateParams",a.m.serviceName,(e,t,n)=>{const i={fields:c.b.join(",")};return n.$new(t.courseId).memberships.$find(t.membershipId,i).$asPromise()}]}})}])},"7UH7":function(e,t){e.exports='<div class="text-editor" tabindex="-1" bb-load-bundle="components/directives/text-editor" bb-cache-compilation="basic-text-editor">\n  <label ng-if="inputLabelKey" class="text-editor-label" for="{{::elementId}}" bb-translate>{{::inputLabelKey}}</label>\n  <textarea id="{{::elementId}}"\n         class="read-mode editor-element"\n         name="{{::elementId}}"\n         tabindex="0"\n         type="text"\n         bb-validate-maxlength="{{::getInputMaxLength()}}"\n         ng-model="ngModel"\n         maxlength="{{::(getInputMaxLength() || \'\')}}"\n         ng-model-options="{ getterSetter: true }"\n         ng-disabled="readonly()"\n         fng-blur="textEditor.onBlur()"\n         fng-focus="textEditor.onFocus()"\n         fng-keyup="textEditor.onChange($event)"\n         fng-keydown="textEditor.onKeydown($event)"\n         bb-translate-attrs="{ \'placeholder\': \'{{placeholderKey}}\' }"\n         aria-label="{{textEditor.getContentLabel()}}"\n         translate-attrs-values="{{::placeholderAttrsValues}}"\n         bb-focus-on="{{::focusOn}}"\n         ng-required="::fieldRequired()"\n         analytics-id="components.textEditor.basicEditor.textarea"></textarea>\n  <div bb-validation-messages\n       ng-if="::!noValidationMessage()"\n       for="{{::elementId}}" immediate="true">\n    <span ng-message="maxlengthImmediate">\n      <span bb-translate translate-values="{ diff: element.$errorImmediate.maxlengthImmediate.diff }">\n        components.directives.validation.messages.errors.maxlength.plural\n      </span>\n    </span>\n  </div>\n</div>\n'},"7XaY":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-export",use:"icon-small-export-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-export"><path d="M7 9l8-8M12 1h3v3M15 9.091V15H1V1h5.909" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"7kzC":function(e,t){e.exports='<bb-modal id="dialog-override-warning-modal" class="notification dialog-override-warning-modal"\n         modal-title-key="components.directives.grade.grade-input.overrideDialogWarning.title"\n         analytics-id-tag-prefix="components.directives.grade.grade-input.overrideDialogWarning"\n         >\n  <div name="modal-contents">\n    <p class="warning-message" bb-translate="components.directives.grade.grade-input.overrideDialogWarning.message" translate-values="{grade}">\n    </p>\n  </div>\n  <button name="modal-footer-button-secondary" class="button button--secondary js-secondary-button js-cancel" ng-click="closeModal(false)" analytics-id="components.directives.grade.grade-input.overrideDialogWarning.secondaryButtonText">\n      <bb-translate>components.directives.grade.grade-input.overrideDialogWarning.secondaryButtonText</bb-translate>\n  </button>\n  <button name="modal-footer-button-primary" class="button js-primary-button" ng-click="closeModal(true)" analytics-id="components.directives.grade.grade-input.overrideDialogWarning.primaryButtonText">\n      <bb-translate>components.directives.grade.grade-input.overrideDialogWarning.primaryButtonText</bb-translate>\n  </button>\n</bb-modal>\n'},"7n5u":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fN3Q"),s=n("td+C"),a=n("v6Sp"),o=n("oPIA");const r="course.outline.details",l={attributes:o.jb,classNameMappings:new Map(Object.entries({"uef--course-details--element":"element-details","uef--course-details--image":"element-image","uef--course-details--element-card":"element-card","uef--course-details--name":"name","uef--course-details--content":"content","uef--course-details--link":"blue-link","uef--course-details--container":"element-card-container","uef--course-details--menu-container":"select-wrapper content"}))},c={attributes:[...o.jb,"disabled"],classNameMappings:new Map(Object.entries({"uef--button":"button button--primary","uef--button--secondary":"button button--secondary","uef--button--course-details":"element-card","uef--button--disabled":"disabled"})),classNameDefault:"uef--button--classless"};t.b=new class{constructor(e,t){this.registrations=new Map,this.listeners=new Set,this.onIntegrationRegistration=(e,t)=>{const n=this.validateRegistrationRequest(e);n.status===o.i.Success?(this.registrations.set(n.registrationId,{integrationId:t.id,registrationId:n.registrationId,registrationName:n.registrationName}),this.notifyListeners(n.registrationId),this.integrationService.sendMessage(n,t)):this.integrationService.sendMessage(n,t)},this.integrationService=e,this.componentManager=t}init(){this.integrationService.addIntegrationMessageType(o.f,this.onIntegrationRegistration),this.initializeWhitelist()}onIntegrationAdded(e){return this.listeners.add(e),()=>{this.removeIntegrationAdded(e)}}removeIntegrationAdded(e){this.listeners.delete(e)}getRegisteredRecords(){return Array.from(this.registrations.values()).map((e=>({selectorData:{},registrationRecord:e})))}initializeWhitelist(){this.componentManager.setCustomWhiteList(r,"div",l),this.componentManager.setCustomWhiteList(r,"button",c)}notifyListeners(e){this.listeners.forEach((t=>{try{t(this.registrations.get(e))}catch(e){console.error(e)}}))}hasRegistrationName(e){return Array.from(this.registrations.values()).some((t=>t.registrationName===e))}validateRegistrationRequest(e){return this.hasRegistrationName(e.registrationName)?{type:o.f,registrationName:e.registrationName,error:o.h.ExistingRegistration,status:o.i.Failure}:{type:o.f,registrationName:e.registrationName,registrationId:Object(i.v4)(),status:o.i.Success}}}(s.a,a.b)},"7oqQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("JzsJ");var i=n("Llzl"),s=n("ZQFV"),a=n("0JpG"),o=n("TnpK");const r="ultra.course.question-analysis.routes",l=()=>({translations:[a.serviceName,e=>e.loadBundle("features/course/question-analysis/question-analysis")]});i.module(r,[o.b]).config([o.c,e=>{e.peekState("question-analysis",{url:"?qaContentId",abstract:!0,resolve:l(),courseEntitlement:[s.q.ViewGrades]}).peekState("question-analysis.report",{panelClass:"full",url:"/report",require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(80),n.e(722)]).then(n.bind(null,"wD7k")),pageTitle:"course.question-analysis.report.pageTitle",peekViewName:"question-analysis-report",peekStates:["gradebook-item","question-analysis-report"]}),e.peekState("question-analysis-report",{url:"?difficultyFilter&discriminationFilter",abstract:!0,resolve:l(),courseEntitlement:[s.q.ViewGrades]}).peekState("question-analysis-report.question-details",{panelClass:"full",url:"/questionDetails/:questionId",require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(80),n.e(720)]).then(n.bind(null,"jvDI")),pageTitle:"course.question-analysis.question-details.pageTitle",peekViewName:"question-analysis-question-details",peekStates:["gradebook-item"]})}])},"7zkF":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("MTZf");const a="ultra.components.directives.bbUiIcon.large.Scormengine";Object(i.a)(s.a,a,"bbUiIconLargeScormengine")},"8+lX":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-replies",use:"icon-small-replies-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-replies"><path d="M1 5h14v10H1v-4" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" /><path d="M3 3L1 5l2 2" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"810X":function(e,t,n){"use strict";var i=n("D57K"),s=n("Llzl"),a=n("LN5R"),o=n("pjml"),r=n("0JpG"),l=n("dF44"),c=n("5vTq"),d=(n("kkz3"),n("1ZbL")),u=n("ZQFV");const m="ultra.components.directives.group.filteredUsersGroups",p={Class:u.i,withProvider:!0,renderLocalized:!0,bindingNames:["userId"]};s.module(m,[r.moduleName]).component("bbFilteredUsersGroups",Object(d.a)(p));var h=n("TnpK"),g=n("nmzr"),b=n("aHpC"),f=n("jhBu"),v=n("Sa5G");n.d(t,"a",(function(){return y}));const y="ultra.components.directives.gradeGridColumnStudentReborn";let k=class{constructor(e,t,n,i,s,a,o){this.scope=e,this.element=t,this.attrs=n,this.gradeGridRebornController=i,this.bbLocalize=s,this.ultraState=a,this.entitlementService=o,e.$watch("row",(t=>{const n=i.getGridData().getRowById(t.id).metadata;this.hasItemExceptionView=this.entitlementService.isEntitled(u.q.ViewException,n.course.id),this.hasAssessmentExceptionView=this.entitlementService.isEntitled(v.b.ViewException,n.course.id),e.isDisabled=!(this.hasItemExceptionView&&this.hasAssessmentExceptionView),e.user=n.user,e.membershipId=n.id,e.fullName=this.bbLocalize.formatUsernameSync(e.user,r.ILocaleUsernameFormat.Short,e,{noWrap:!0}),e.isUserCourseAvailable=n.isAvailable,e.courseRole=this.getLocalizedRoleNameByCourseRole(n.courseRole)})),this.isRtl=this.bbLocalize.isRTL(),e.$on(l.b.ENTER_CELL,((e,t)=>{t.find("bb-username").click()}))}getLocalizedRoleNameByCourseRole(e){return e.identifier&&e.identifier.toString()in o.w.toBeLocalizedRoleLabels?this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:o.w.toBeLocalizedRoleLabels[e.identifier.toString()]}):e.courseName.rawValue}viewIndividualGrades(e,t){this.ultraState.goPeekState(g.H.Course.COURSE_GRADES_VIEW_INDIVIDUAL_GRADES,{userId:e,membershipId:t})}};k=Object(i.a)([Object(i.c)(0,Object(b.b)("scope")),Object(i.c)(1,Object(b.b)("element")),Object(i.c)(2,Object(b.b)("attrs")),Object(i.c)(3,Object(b.b)("gradeGridRebornController")),Object(i.c)(4,Object(b.b)(r.serviceName)),Object(i.c)(5,Object(b.b)(h.d)),Object(i.c)(6,Object(b.b)(f.b))],k);class x{constructor(e){this.$injector=e,this.restrict="E",this.template=c,this.scope=!0,this.require=`^${a.a}`,this.link=(e,t,n,i)=>{e.gradeGridColumnStudentReborn=this.$injector.instantiate(k,{scope:e,element:t,attrs:n,gradeGridRebornController:i})}}}x.$inject=["$injector"],s.module(y,[m,h.b]).directive("bbGradeGridColumnStudentReborn",["$injector",e=>e.instantiate(x)])},"85nY":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-conversation",use:"icon-small-conversation-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-conversation"><path d="M15 4.5C15 6.433 13.433 8 11.5 8c-.4457 0-.872-.0833-1.264-.2352L8 8l.25-2.1985A3.4905 3.4905 0 018 4.5C8 2.567 9.567 1 11.5 1S15 2.567 15 4.5zM7 15c0-2-2-4-4-4M3 11c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"884J":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("+1SJ");const a="ultra.components.directives.bbUiIcon.small.Upload";Object(i.a)(s.a,a,"bbUiIconSmallUpload")},"8HGT":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n("Llzl"),s=n("nmzr"),a=n("Sa5G"),o=n("ZQFV"),r=n("w9Zy"),l=n("Fvsw"),c=n("vdfi"),d=n("JXhc"),u=n("hlSw"),m=n("0JpG"),p=n("pjml"),h=n("TnpK"),g=n("Qbdf"),b=n("X455"),f=n("tQ/B"),v=n("wylW"),y=n("cpZm"),k=n("fGDP");const x="ultra.course.grades.router";i.module(x,[m.moduleName,h.b,c.c,d.c,g.b,f.b]).config([h.c,g.c,b.b,f.c,(e,t,i,f)=>{e.peekState("gradebook-item",{abstract:!0,require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(8),n.e(48),n.e(566)]).then(n.bind(null,"AlUX")),resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/grades/gradebook-item/gradebook-item")],[g.d]:t.resolve,currentColumn:u.a.currentColumn,currentContent:u.a.currentContent}}).peekState("gradebook-item.assignment-create",{panelClass:"full",resolve:{translations:["$q",m.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/assessment/assessment"),t.loadBundle("features/course/content/course-content"),t.loadBundle("features/course/goal-alignment/goal"),t.loadBundle("features/course/grades/gradebook-item/submissions")])]},onEnter:[r.e,h.d,(e,t)=>{t.isPeekPanelOpen()&&e.expandTopPanel()}],onExit:["$rootScope",e=>{e.$broadcast("deadline-refresh")}],url:"/assignment?id&parentId&positionBefore&positionAfter&gradeitemView",views:{"gradebook-item-details@":{require:[()=>Promise.all([n.e(5),n.e(13)]).then(n.bind(null,"eePf")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))]},"gradebook-item-students@":{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(20),n.e(44),n.e(66)]).then(n.bind(null,"hmMQ"))}},peekStates:["assignment-grading","assessment-settings","conversations",s.H.Course.COURSE_MESSAGE,"course-group","editAssignmentFileAttachment",c.a,"rubric","rubric-list","rubric-evaluation","view-exceptions"],peekViewName:"gradebook-item-panel@",pageTitle:"course.content.assignmentCreate"}).peekState("gradebook-item.assignment",{panelClass:"full",resolve:{translations:["$q",m.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/assessment/assessment"),t.loadBundle("features/course/content/course-content"),t.loadBundle("features/course/goal-alignment/goal"),t.loadBundle("features/course/grades/gradebook-item/submissions")])]},onEnter:[r.e,h.d,(e,t)=>{t.isPeekPanelOpen()&&e.expandTopPanel()}],onExit:["$rootScope",e=>{e.$broadcast("deadline-refresh")}],url:"/assignment/:contentId?courseId&gradeitemView",views:{"gradebook-item-details@":{require:[()=>Promise.all([n.e(5),n.e(13)]).then(n.bind(null,"eePf")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))]},"gradebook-item-students@":{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(20),n.e(44),n.e(66)]).then(n.bind(null,"hmMQ"))}},peekStates:["assignment-grading","assessment-settings","conversations",s.H.Course.COURSE_MESSAGE,"course-group","editAssignmentFileAttachment",c.a,"rubric","rubric-list","rubric-evaluation","view-exceptions"],params:{},peekViewName:"gradebook-item-panel@",pageTitle:"course.grades.gradebook-item.title.assignment.edit"}).peekState("editAssignmentFileAttachment",{require:()=>n.e(154).then(n.bind(null,"TFHU")),resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/content/media-widget/media-widget")]},url:"/assignment/fileAttachment?toolContentName&fileIndex&isRenderedInline&linkName&parentToolInstanceName&alternativeText&mediaType&bbmlEditorId"}).peekState(s.H.Course.COURSE_GRADES_MULTIPLE_ATTEMPT,{panelClass:"peek",resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/grades/course-grades")],[g.d]:t.resolve,currentContent:u.a.nullContent,currentColumn:u.a.currentColumn},url:"/multiple-attempt-grading?columnId&gradeId&userId&groupId",params:{hasException:!1},reloadOnSearch:!1,require:[()=>Promise.all([n.e(8),n.e(142),n.e(728)]).then(n.bind(null,"bhG9")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(8),n.e(20),n.e(29),n.e(30),n.e(142),n.e(674)]).then(n.bind(null,"0dEv"))],pageTitle:"course.grades.multiple-attempt-grading.title",peekStates:[s.H.Grade.SUBMISSION_GRADING]}).peekState(s.H.Grade.RECONCILE_GRADE,{panelClass:"full",resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/grades/course-grades")],[g.d]:t.resolve,currentContent:u.a.nullContent,currentColumn:u.a.currentColumn},url:"/reconcile-grade?columnId&gradeId&userId",require:[()=>n.e(667).then(n.bind(null,"NNJe")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(20),n.e(29),n.e(30),n.e(668)]).then(n.bind(null,"e5ML"))],pageTitle:"course.grades.reconcile-grade.title",peekStates:[s.H.Grade.SUBMISSION_GRADING],peekViewName:"reconcile-grade-peek"}).peekState("per-assessment-settings",{panelClass:"peek",courseEntitlement:o.q.ModifyGradebook,resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/grades/course-grades")],currentContent:u.a.currentContent,currentColumn:u.a.currentColumn,[g.d]:t.resolve},url:"/per-assessment-settings?userId&columnId&membershipId",require:[()=>Promise.all([n.e(67),n.e(714)]).then(n.bind(null,"1p7s")),()=>Promise.all([n.e(67),n.e(136)]).then(n.bind(null,"Wn37"))],pageTitle:"course.grades.per-assessment-settings.title"}).peekState("per-assessment-group-settings",{panelClass:"peek",courseEntitlement:o.q.ModifyGradebook,resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/grades/course-grades")],currentContent:u.a.currentContent,currentColumn:u.a.currentColumn,[g.d]:t.resolve},url:"/per-assessment-group-settings?groupId&columnId&userId",require:[()=>Promise.all([n.e(67),n.e(713)]).then(n.bind(null,"bMue")),()=>Promise.all([n.e(67),n.e(136)]).then(n.bind(null,"Wn37"))],pageTitle:"course.grades.per-assessment-settings.title"}).peekState("per-gradable-item-settings",{panelClass:"peek",courseEntitlement:o.q.ModifyGradebook,url:"/per-gradable-item-settings?userId&columnId&courseId",require:()=>n.e(736).then(n.bind(null,"ovwO")),pageTitle:"components.directives.grade.submission-list-row.per-gradable-item.title",template:"<gradable-item-exempt-settings>"}).peekState("originality-report",{panelClass:"peek",url:"/originality-report",require:()=>n.e(695).then(n.bind(null,"K7I1")),peekViewName:"originality-report-peek"}).peekState(s.H.Grade.SUBMISSION_GRADING,{panelClass:"full",resolve:{translations:["$q",m.serviceName,(e,t)=>e.all([t.loadBundle("features/course/grades/submission-grading"),t.loadBundle("features/course/grades/submissions-grading")])],[b.c]:i.resolve,currentColumn:u.a.currentColumn,currentContent:u.a.currentContent},url:"/submission-grading?columnId&gradeId&userId&attemptId&contentId&membershipId",onExit:["currentColumn",r.e,h.d,(e,t,n)=>{if(n.params.isGradingBarAttemptNavigationEnabled)return;const i=n.current.name.match(".peek.reconcile-grade"),a=n.current.name.match(".peek.attempt-receipt-search");if(e.isMultipleAttempts()&&!i&&!a||n.prevParams.hasException){n.isPeekPanelOpen()&&t.shrinkTopPanel();n.next.name.indexOf(s.H.Grade.SUBMISSION_GRADING)>=0||n.goPeekState("multiple-attempt-grading",{columnId:n.prevParams.columnId,gradeId:n.prevParams.gradeId,userId:n.prevParams.userId,membershipId:n.prevParams.membershipId,hasException:n.prevParams.hasException})}}],onEnter:[r.e,h.d,(e,t)=>{t.isPeekPanelOpen()&&e.expandTopPanel()}],reloadOnSearch:!1,require:[()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(8),n.e(56),n.e(673)]).then(n.bind(null,"6S3j")),()=>Promise.all([n.e(0),n.e(2),n.e(17),n.e(1),n.e(3),n.e(4),n.e(8),n.e(19),n.e(20),n.e(29),n.e(30),n.e(9),n.e(42),n.e(54),n.e(55),n.e(46),n.e(56),n.e(64)]).then(n.bind(null,"fVgT"))],pageTitle:"course.grades.submission-grading.title",params:{commentPanelInitiallyOpen:!1,isGradingBarAttemptNavigationEnabled:!1},peekViewName:"submission-grading-peek",peekStates:[s.H.Assessment.ASSESSMENT_SETTINGS,s.H.Grade.SUBMISSION_DEEP_LINK,"per-assessment-settings","per-gradable-item-settings","assessment-submission-feedback","originality-report",s.H.ContentMarket.CONTENT_MARKET]}).peekState(s.H.Grade.SUBMISSION_GRADING_FEEDBACK_TAB,{url:"/inline-feedback?mode",pageTitle:"course.content.assessment.feedback.title",panelClass:"full",params:{mode:"inline",isGradingBarAttemptNavigationEnabled:!1},resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/feedback-authoring/feedback-authoring")]},views:{[`${s.H.Grade.SUBMISSION_GRADING}@`]:{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4)]).then(n.bind(null,"15AK"))}},peekStates:["per-assessment-settings",s.H.Lti.LTI,s.H.Grade.SUBMISSION_DEEP_LINK]}).peekState(s.H.Grade.SUBMISSION_GRADING_RUBRICS_TAB,{url:"/inline-rubric",pageTitle:"course.rubricInline.title",panelClass:"full",views:{[`${s.H.Grade.SUBMISSION_GRADING}@`]:{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(18),n.e(86)]).then(n.bind(null,"5N8L"))}},peekStates:["per-assessment-settings",s.H.Grade.SUBMISSION_DEEP_LINK]}).peekState(s.H.Grade.SUBMISSION_GRADING_ORIGINALITY_TAB,{url:"/originality-report",pageTitle:"course.content.originalityReport.routeDefinition.routeTitle",panelClass:"full",views:{[`${s.H.Grade.SUBMISSION_GRADING}@`]:{require:()=>n.e(73).then(n.bind(null,"djtz"))}},peekStates:["per-assessment-settings",s.H.Grade.SUBMISSION_DEEP_LINK]}).peekState(s.H.Grade.GROUP_SUBMISSION_GRADING,{panelClass:"full",params:{userId:null,isGradingBarAttemptNavigationEnabled:!1},resolve:{translations:["$q",m.serviceName,(e,t)=>e.all([t.loadBundle("features/course/grades/submission-grading"),t.loadBundle("features/course/grades/submissions-grading")])],currentColumn:u.a.currentColumn,currentContent:u.a.currentContent},url:"/group-submission-grading?columnId&gradeId&groupId&contentId&attemptId&groupAttemptId&userId",onExit:["currentColumn",r.e,h.d,(e,t,n)=>{if(n.params.isGradingBarAttemptNavigationEnabled)return;const i=n.current.name.match(".peek.attempt-receipt-search");!e.isMultipleAttempts()&&!n.prevParams.hasException||i||(n.isPeekPanelOpen()&&t.shrinkTopPanel(),n.goPeekState("multiple-attempt-grading",{columnId:n.prevParams.columnId,gradeId:n.prevParams.gradeId,userId:n.prevParams.userId,groupId:n.prevParams.groupId,membershipId:n.prevParams.membershipId,hasException:n.prevParams.hasException}))}],onEnter:[r.e,h.d,(e,t)=>{t.isPeekPanelOpen()&&e.expandTopPanel()}],reloadOnSearch:!1,require:[()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(752)]).then(n.bind(null,"rNv7")),()=>Promise.all([n.e(0),n.e(2),n.e(17),n.e(1),n.e(3),n.e(4),n.e(8),n.e(19),n.e(20),n.e(29),n.e(30),n.e(9),n.e(42),n.e(54),n.e(55),n.e(46),n.e(56),n.e(64)]).then(n.bind(null,"fVgT"))],pageTitle:"course.grades.submission-grading.title",peekViewName:"submission-grading-peek",peekStates:[s.H.Assessment.ASSESSMENT_SETTINGS,s.H.Grade.SUBMISSION_DEEP_LINK,"per-assessment-group-settings","originality-report",s.H.ContentMarket.CONTENT_MARKET]}).peekState(s.H.Grade.GROUP_SUBMISSION_GRADING_FEEDBACK_TAB,{url:"/inline-feedback?attemptId&userId&mode",pageTitle:"course.content.assessment.feedback.title",panelClass:"full",params:{mode:"inline"},resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/feedback-authoring/feedback-authoring")]},views:{[`${s.H.Grade.GROUP_SUBMISSION_GRADING}@`]:{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4)]).then(n.bind(null,"15AK"))}},peekStates:["per-assessment-group-settings",s.H.Lti.LTI,s.H.Grade.SUBMISSION_DEEP_LINK]}).peekState(s.H.Grade.GROUP_SUBMISSION_GRADING_RUBRICS_TAB,{url:"/inline-rubric",pageTitle:"course.rubricInline.title",panelClass:"full",views:{[`${s.H.Grade.GROUP_SUBMISSION_GRADING}@`]:{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(18),n.e(86)]).then(n.bind(null,"5N8L"))}},peekStates:["per-assessment-group-settings",s.H.Grade.SUBMISSION_DEEP_LINK]}).peekState(s.H.Grade.GROUP_SUBMISSION_GRADING_ORIGINALITY_TAB,{url:"/originality-report",pageTitle:"course.content.originalityReport.routeDefinition.routeTitle",panelClass:"full",views:{[`${s.H.Grade.GROUP_SUBMISSION_GRADING}@`]:{require:()=>n.e(73).then(n.bind(null,"djtz"))}},peekStates:["per-assessment-group-settings",s.H.Grade.SUBMISSION_DEEP_LINK]}).peekState("assignment-grading",{panelClass:"full",resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/grades/submissions-grading")],currentColumn:["currentColumn",p.m.serviceName,h.d,(e,t,n)=>{if(null!=e)return e.$asPromise();const i=n.nextParams.columnId,s=n.nextParams.courseId;return t.$find(s).gradebook.columns.$find(i,{expand:"associatedRubrics,externalGrade"}).$asPromise()}]},url:"/grading?columnId&gradeId&groupId",reloadOnSearch:!1,require:[()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(55)]).then(n.bind(null,"XGKH")),()=>Promise.all([n.e(0),n.e(2),n.e(17),n.e(1),n.e(3),n.e(4),n.e(8),n.e(19),n.e(20),n.e(29),n.e(30),n.e(9),n.e(42),n.e(54),n.e(55),n.e(46),n.e(56),n.e(64)]).then(n.bind(null,"fVgT"))],pageTitle:"course.grades.submissions-grading.title",peekViewName:"assignment-grading-peek",peekStates:["rubric-evaluation"]}).peekState("gradebook-item.offline",{panelClass:"full",resolve:{translations:["$q",m.serviceName,(e,t)=>e.all([t.loadBundle("features/course/grades/course-grades"),t.loadBundle("features/course/grades/gradebook-item/non-attempt-grades")])]},url:"/offline-grades/:columnId?courseId&q&limit&page&gradeitemView",views:{"gradebook-item-students@":{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(79)]).then(n.bind(null,"qijm"))}},peekStates:[s.x.OFFLINE_GRADE_AND_FEEDBACK],peekViewName:"gradebook-item-panel@",pageTitle:"course.grades.instructorHeaderLabel"}).peekState(s.x.OFFLINE_GRADE_AND_FEEDBACK,{panelClass:"peek",url:"/offline-feedback?userId",require:()=>n.e(691).then(n.bind(null,"SkVk")),pageTitle:"course.grades.gradebook-item.non-attempt-grades.pageTitle"}).peekState("gradebook-item.calculation",{panelClass:"full",resolve:{translations:["$q",m.serviceName,(e,t)=>e.all([t.loadBundle("features/course/grades/gradebook-item/calculation"),t.loadBundle("features/course/grades/gradebook-item/non-attempt-grades")])]},url:"/calculation/:columnId?courseId&gradeitemView&isOverallGrade&positionBefore&positionAfter",params:{columnId:p.C.CREATE_COLUMN_ID},views:{"gradebook-item-details@":{require:()=>Promise.all([n.e(130),n.e(648)]).then(n.bind(null,"aUnP"))},"gradebook-item-students@":{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(79)]).then(n.bind(null,"qijm"))}},courseEntitlement:o.q.ViewGradebookMetaData,pageTitle:"course.grades.gradebook-item.title.calculation"}).peekState(s.x.GRADEBOOK_ITEM_ASSESSMENT,{panelClass:"full",courseEntitlement:[a.j.ViewAssessment,o.q.ViewAttempts],resolve:{translations:["$q",m.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/course-content"),t.loadBundle("features/course/grades/gradebook-item/submissions"),t.loadBundle("features/course/content/assessment/assessment"),t.loadBundle("features/course/goal-alignment/goal")])]},onEnter:[r.e,h.d,"currentColumn",l.b,(e,t,n,i)=>{i.column=n,t.isPeekPanelOpen()&&e.expandTopPanel()}],onExit:["$rootScope",l.b,(e,t)=>{e.$broadcast("deadline-refresh"),t.column=null}],url:"/assessment/:assessmentType/{contentId:_[0-9]+_1|create}?courseId&gradeitemView&parentId&positionBefore&positionAfter&gradebookCategoryId&autoPostGrades&gradingStatus&studentStatus",params:{contentId:p.p.CREATE_CONTENT_ID,isCreateState:!1},views:{"gradebook-item-details@":{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(19),n.e(25),n.e(7),n.e(12),n.e(139)]).then(n.bind(null,"EPkw"))},"gradebook-item-students@":{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(20),n.e(44),n.e(66)]).then(n.bind(null,"hmMQ"))}},peekStates:[s.H.Grade.CREATE_OFFLINE_ATTEMPT,"assessment-settings","question-analysis",s.H.Grade.RECONCILE_GRADE,"multiple-attempt-grading",s.H.Grade.SUBMISSION_GRADING,"group-submission-grading","course-group",s.k.CONDITIONAL_RELEASE_PEEK_PANEL,c.a,d.a,"conversations",s.H.Course.COURSE_MESSAGE,"edit-file-settings","rubric","rubric-list","rubric-evaluation","view-exceptions",s.H.ContentMarket.CONTENT_MARKET,s.H.Lti.LTI,"proctoring-lti-tool","per-assessment-settings","per-assessment-group-settings","per-gradable-item-settings","grades-bulk-download"],peekViewName:"gradebook-item-panel@",pageTitle:"course.grades.gradebook-item.title.assessment"}).peekState("grade-item",{abstract:!0,url:"/item"}).peekState("grade-item.create",{url:"/create?positionBefore&positionAfter",resolve:{translations:["$q",m.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/course-content"),t.loadBundle("features/course/grades/course-grades")])]},require:()=>n.e(143).then(n.bind(null,"kneA")),pageTitle:"course.grades.gradeItem.addItem"}).peekState("grade-item.edit",{url:"/edit/:id",resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/grades/course-grades")]},require:()=>n.e(143).then(n.bind(null,"kneA")),pageTitle:"course.grades.gradeItem.editItem"}).peekState(s.H.Grade.GRADE_ITEM_OVERALL_GRADE,{panelClass:"full",resolve:{translations:["$q",m.serviceName,(e,t)=>e.all([t.loadBundle("features/course/grades/overall-grade"),t.loadBundle("features/course/grades/gradebook-item/non-attempt-grades")])]},onExit:["$rootScope",e=>{e.$broadcast("deadline-refresh")}],url:"/overallGrade?columnId&gradeitemView",views:{"gradebook-item-details@":{require:()=>Promise.all([n.e(130),n.e(581)]).then(n.bind(null,"FOdA"))},"gradebook-item-students@":{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(79)]).then(n.bind(null,"qijm"))}},peekStates:["overall-grade-settings"],peekViewName:"gradebook-item-panel@",pageTitle:"course.grades.overallGrade.pageTitle"}).peekState("overall-grade-settings",{url:"/overallGradeSettings",resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/grades/overall-grade")]},panelClass:"peek",require:()=>n.e(649).then(n.bind(null,"CW69")),pageTitle:"course.grades.overallGrade.settings.pageTitle"}).peekState("overall-grade-student",{url:"/overallGradeStudent?courseId&courseName",resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/grades/overall-grade")]},panelClass:"peek",require:()=>n.e(666).then(n.bind(null,"Fn0y")),pageTitle:"course.grades.overallGrade.pageTitle"}).peekState(s.H.Grade.GRADE_DOWNLOAD_SETTINGS,{url:"/grade-download-setting",require:()=>n.e(712).then(n.bind(null,"eD2y")),pageTitle:"course.grades.settings.title",peekViewName:"grades-download-peek",peekStates:["content-collection-picker"],allowChildPeekStates:!0}).peekState("grade-upload-setting",{resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/grades/grades-upload-settings/grades-upload-settings")],contentCollectionAvailability:[p.rb.serviceName,e=>e.$new("bbcms").$resolve().$asPromise()]},url:"/grade-upload-setting",require:()=>n.e(636).then(n.bind(null,"nrqE")),pageTitle:"course.grades.settings.title",peekViewName:"grade-upload-setting-peek",courseEntitlement:o.q.ModifyGradebook,peekStates:["content-collection-picker"],allowChildPeekStates:!0}).peekState("grade-setting",{resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/grades/course-grades")]},url:"/grade-settings",require:()=>n.e(616).then(n.bind(null,"NsLW")),pageTitle:"course.grades.settings.title",peekViewName:"grade-setting-peek",peekStates:["rubric",s.H.Grade.GRADEBOOK_ITEM,s.H.Telemetry.INSTRUCTOR_CLASS,s.H.Grade.GRADING_SCHEMA],allowChildPeekStates:!0}).peekState(s.H.Grade.GRADE_AND_FEEDBACK,{resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/grades/grade-and-feedback")],[g.d]:t.resolve,currentColumn:[g.d,h.d,(e,t)=>{const n=t.nextParams.columnId;return e.gradebook.columns.$find(n).$asPromise()}]},url:"/grade-and-feedback?columnId?userId?courseId",require:()=>Promise.all([n.e(8),n.e(29),n.e(54),n.e(690)]).then(n.bind(null,"SZKj")),pageTitle:"course.grades.grade-and-feedback.title"}).peekState("course-group",{panelClass:"full",url:"/group?groupCourseId&groupContentId&groupColumnId",resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/content/group/course-group")]},courseEntitlement:a.o.ViewGroupsAsAdmin,require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(8),n.e(124),n.e(745)]).then(n.bind(null,"OZRj")),pageTitle:"course.content.courseGroup.title",peekStates:[s.H.Course.COURSE_MESSAGE,s.y.IMPORT_GROUP_MEMBERS,s.y.EXPORT_GROUP_SET],peekViewName:"group-message-peek"}).peekState("rubric-list",{url:"/rubricList?gradeColumnId",resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/content/assignment/rubric-list")],[g.d]:t.resolve,currentContent:u.a.currentContent},panelClass:"peek",require:()=>n.e(609).then(n.bind(null,"WtEJ")),pageTitle:"course.content.assignmentSettings.rubricList.title",peekViewName:"rubric-list-peek",peekStates:["rubric"],allowChildPeekStates:!0}).peekState("view-exceptions",{panelClass:"peek",pageTitle:"course.content.exceptions.peekPanel.title",url:"/view-exceptions",require:()=>n.e(686).then(n.bind(null,"MBGk")),resolve:{[g.d]:t.resolve,currentContent:u.a.currentContent},allowChildPeekStates:!0,peekStates:["roster"],peekViewName:"exceptions-peek"}).peekState("grades-bulk-download",{url:"/grades-bulk-download?columnId",require:[()=>n.e(751).then(n.bind(null,"sI1N"))],pageTitle:"course.grades.grades-bulk-download.pageTitle",panelClass:"full"}).peekState(s.H.Grade.DOWNLOAD_TEST_RESULTS,{url:"/download-test-results?columnId",require:[()=>n.e(711).then(n.bind(null,"W1Pb"))],pageTitle:"course.grades.download-test-results.pageTitle",panelClass:"peek"}).peekState(s.H.Course.COURSE_GRADES_VIEW_INDIVIDUAL_GRADES,{url:"/individual-grades?userId&membershipId&studentTabId",require:[()=>Promise.all([n.e(36),n.e(133),n.e(694)]).then(n.bind(null,"HPfQ"))],courseEntitlement:"course.gradebook-metadata.VIEW",peekStates:[s.H.Course.ACCOMMODATION,"assignment","assessment","gradebook-item","scorm-settings","gradebook-item.scorm-submissions","scorm-launch-frame","scorm-overview","multiple-attempt-grading","per-gradable-item-settings","assignment-grading",s.H.Grade.SUBMISSION_GRADING,"group-submission-grading","grade-item","grade-setting","grade-download-setting","grade-upload-setting",s.H.Grade.GRADE_AND_FEEDBACK,s.H.Grade.CREATE_OFFLINE_ATTEMPT,"conversion-analysis","content-manage",s.H.Lti.LTI,"discussion","submission-list","rubric","overall-grade","overall-grade-student","attendance","attendance-student-records","attendance-student-view","question-analysis",s.H.Grade.RECONCILE_GRADE,"grades-bulk-download",s.H.Journal.JOURNAL_PARTICIPATION_DETAIL,s.L.INSTRUCTOR_DETAILS],panelClass:"full",pageTitle:"course.grades.instructorHeaderLabel",pageTitleHandler:f.config({listenOn:v.b,provides:v.a}),onChildStateEnter:(e,t)=>{const n=e.current.name;if(null==n?void 0:n.includes(".peek.course.grades.peek."))return;const i=n.match(/^base\.([a-z]+)\.peek\.course\./);return{stateName:`${`${i&&i[1]?`base.${i[1]}`:"base.recentActivity"}.peek.course.grades.peek.view-individual-grades`}.peek.${t}`,args:{...e.params,gradebookView:k.b.List,listViewType:y.b.id,studentTabId:o.M.Grades}}},resolve:{preRegisterCourseGradeRoutes:[h.d,t=>{const n=["courses","recentActivity","messages"].map((e=>`base.${e}`)).reduce(((e,t)=>[...e,t,`${t}.peek.course.grades`,`${t}.peek.course.grades.peek.view-individual-grades`]),[]);for(const i of n){const n=t.get(i);e.registerPeekStates(n)}}]}}).peekState(s.H.Grade.SUBMISSION_DEEP_LINK,{url:"/submission-deep-link?deepLinkAttemptId&peerIndex",panelClass:"full",require:[()=>n.e(157).then(n.bind(null,"c7nl")),()=>n.e(147).then(n.bind(null,"iA/f"))],peekStates:["assessment-submission-feedback"],peekViewName:"submission-deep-link"}).peekState(s.H.Grade.SUBMISSION_DEEP_LINK_FEEDBACK_TAB,{url:"/inline-feedback?mode&deepLinkAttemptId",pageTitle:"course.content.assessment.feedback.title",panelClass:"full",params:{mode:"inline"},resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/feedback-authoring/feedback-authoring")]},views:{[`${s.H.Grade.SUBMISSION_DEEP_LINK}@`]:{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(167)]).then(n.bind(null,"bKLL"))}},peekStates:["per-assessment-settings",s.H.Lti.LTI]}).peekState(s.H.Grade.ATTEMPT_RECEIPT_SEARCH,{url:"/attempt-receipt-search",resolve:{[g.d]:t.resolve,translations:[m.serviceName,e=>e.loadBundle("features/course/grades/attempt-receipt-search")]},peekStates:[s.H.Grade.SUBMISSION_GRADING,s.H.Grade.GROUP_SUBMISSION_GRADING],allowChildPeekStates:!0,panelClass:"peek",require:()=>n.e(590).then(n.bind(null,"M8qv")),pageTitle:"course.grades.attempt-receipt-search.pageTitle",peekViewName:"attempt-receipt-search-peek"}),e.peekState(s.H.Grade.GRADEBOOK_GRID_ADVANCED_FILTERS,{panelClass:"peek",url:"/filters",require:()=>n.e(693).then(n.bind(null,"1d8D")),pageTitle:"course.grades.gradebookGrid.advancedFilters",peekViewName:"gradebook-grid-advanced-filters-peek"}),e.peekState(s.H.Grade.GRADING_SCHEMA,{resolve:{translations:[m.serviceName,e=>e.loadBundle("features/course/grades/course-grades")]},url:"/grading-schema",require:()=>n.e(692).then(n.bind(null,"S67Y")),pageTitle:"course.grades.grading-schema.title",panelClass:"full"})}])},"8NsT":function(e,t){e.exports='<div class="grade-grid-cell grade-grid-header-cell">\n  <div class="content content-header-bg"\n       ng-click="gradeGridColumnHeaderOverallReborn.popupMenu($event)"\n       tabindex="0"\n       role="columnheader"\n       aria-describedby="summary-points-{{::columnMetadata.id}}"\n       analytics-id="components.directives.grade.grid.gradeGridColumnHeaderOverallReborn.popupMenu"\n  >\n    <div bb-content-item-icon content-column="columnMetadata" class="element-image" role="presentation"></div>\n    <div class="grade-grid-header-title grade-name">\n      <bb-svg-icon class="visibility-icon"\n                   ng-if="!columnMetadata.visible"\n                   size="small"\n                   icon="invisible"\n                   role="img"\n                   bb-translate-attrs="{\'aria-label\': \'components.directives.grade.grader-column.aria-label.gradeNotVisible\'}"\n      ></bb-svg-icon>\n      <span class="ellipse" title="{{::columnMetadata.columnName}}">{{::columnMetadata.columnName}}</span>\n    </div>\n  </div>\n  <div class="grade-grid-header-summary" tabindex="1" id="summary-points-{{columnMetadata.id}}">\n    <span class="sr-only">{{columnMetadata.columnName}}</span>\n    <span class="ellipse points"\n          bb-translate-attrs="{\'title\': \'components.directives.grade.grid.points.plural\'}" translate-attrs-values="{count: gradeGridColumnHeaderOverallReborn.possible}"\n          bb-translate translate-values="{count: gradeGridColumnHeaderOverallReborn.possible}">components.directives.grade.grid.points.plural</span>\n    <span class="sr-only"\n          bb-translate translate-values="{count: columnMetadata.itemsCount}">components.directives.grade.grid.items.plural</span>\n  </div>\n\n  <div class="grade-grid-header-summary" tabindex="1" ng-if="columnMetadata.isCalculated()" id="summary-info-{{columnMetadata.id}}">\n    <span class="sr-only">{{columnMetadata.columnName}}</span>\n    <span class="ellipse items-count"\n          bb-translate-attrs="{\'title\': \'components.directives.grade.grid.itemsTip\'}" translate-attrs-values="{count: columnMetadata.itemsCount}"\n          bb-translate translate-values="{count: columnMetadata.itemsCount}">components.directives.grade.grid.items.plural</span>\n  </div>\n</div>\n'},"8W6D":function(e,t,n){"use strict";var i;function s(e){if(e)return Object.values(i).find((t=>t.toLowerCase()===e.toLowerCase()))}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),function(e){e.None="none",e.Create="create",e.Edit="edit",e.Copy="copy"}(i||(i={}))},"8jry":function(e,t){e.exports='<bb-modal class="notification js-disallowed-file-type"\n          modal-title-key="components.directives.fileUpload.disallowedFileTypeTitle"\n          analytics-id-tag-prefix="components.directives.fileUpload">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>components.directives.fileUpload.disallowedFileTypeFull</bb-translate>\n      <a href="{{::fileUpload.getMoreSupportURL()}}" target="_blank" rel="noopener noreferrer" analytics-id="components.directives.fileUpload.moreSupportedFiles"><bb-translate>components.directives.fileUpload.moreSupportedFiles</bb-translate></a>\n    </p>\n  </div>\n  <div name="modal-footer" class="reveal-modal__footer-content reveal-modal__footer-content--gray">\n    <div class="reveal-modal__footer-buttons">\n      <span class="reveal-modal__footer-button-container">\n        <button role="button" class="button js-primary-button" ng-click="fileUpload.modalCancelUpload()" analytics-id="components.directives.fileUpload.cancelUploadText">\n          <bb-translate>components.directives.fileUpload.cancelUploadText</bb-translate>\n        </button>\n      </span>\n      <span class="reveal-modal__footer-button-container" ng-if="fileUpload.validFiles.length > 0">\n        <button role="button" class="button button--secondary js-secondary-button" ng-click="fileUpload.closeModal()" analytics-id="components.directives.fileUpload.uploadValidFiles.plural">\n          <bb-translate translate-values="{count:fileUpload.validFiles.length}">components.directives.fileUpload.uploadValidFiles.plural</bb-translate>\n        </button>\n      </span>\n      <span class="reveal-modal__footer-button-container" ng-if="fileUpload.forceReselectDisallowedFiles && fileUpload.forceReselectDisallowedFiles()">\n        <button role="button" class="button button--secondary js-secondary-button" ng-click="fileUpload.closeModalAndChooseFiles()" analytics-id="components.directives.fileUpload.selectAnotherFile">\n          <bb-translate>components.directives.fileUpload.selectAnotherFile</bb-translate>\n        </button>\n      </span>\n    </div>\n  </div>\n</bb-modal>\n'},"8jzW":function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return v}));var i=n("D57K"),s=n("Llzl"),a=n("nmzr"),o=n("pjml"),r=n("IbyE"),l=n("TnpK"),c=n("X/qj"),d=n("fYJU"),u=n("aHpC"),m=n("+O05"),p=n("zGdY"),h=n("Bssh");const g="ultra.components.services.scoreProviderHelper",b="scoreProviderHelper";function f(e){return!e.getScore()||e.isOverrideGrade()}var v;function y(e){var t,n;if(!(null==e?void 0:e.attempts)&&!(null==e?void 0:e.groupAttempts))return!1;const i=null===(t=null==e?void 0:e.attempts)||void 0===t?void 0:t.some((e=>null==e?void 0:e.isSubmitted())),s=null===(n=null==e?void 0:e.groupAttempts)||void 0===n?void 0:n.some((e=>(null==e?void 0:e.id)&&(null==e?void 0:e.isSubmitted())));return i||s}!function(e){e[e.GenerateStateParams=0]="GenerateStateParams",e[e.GenerateStateRef=1]="GenerateStateRef",e[e.GoToState=2]="GoToState"}(v||(v={}));class k{constructor(e){this.ultraState=e}getScoreProviderHandle(){return null}openStateRef(e,t){return null}studentViewStateRef(e,t){return null}editStateRef(e,t){return null}gradingStateRef(e,t,n,i){return null}gradingWithRubricStateRef(e,t){return null}gradingWithFeedbackStateRef(e,t){return null}getSubmissionsListStateRef(e,t){return null}getAttemptReceiptSearchStateRef(e,t){return null}supportsOverall(){return!1}supportsEdit(){return!0}supportsViewItem(){return!1}supportsExternalEdit(){return!1}takeActionOnStateRef(e,t,n){switch(n){case v.GoToState:this.ultraState.goPeekState(e,t);break;case v.GenerateStateParams:return s.toJson({state:e,args:t});case v.GenerateStateRef:default:return this.generateStateRef(e,t)}}generateStateRef(e,t){return t?e+"("+s.toJson(t)+")":e}}k.$inject=[l.d];let x=class extends k{constructor(e,t,n){super(e),this.gradebookPermissionService=t,this.currentUser=n}getScoreProviderHandle(){return[r.Q.Test,r.Q.PeerSubmissionsTest,r.Q.PeerEvaluationTest]}openStateRef(e,t){return this.takeActionOnStateRef("assessment.open",e,t)}studentViewStateRef(e,t){return this.takeActionOnStateRef(e.state||"assessment.overview",e,t)}editStateRef(e,t){return e.assessmentType="test",e.gradeitemView="details",this.takeActionOnStateRef(a.x.GRADEBOOK_ITEM_ASSESSMENT,e,t)}gradingStateRef(e,t,n,i){var s,o,r;let l=a.x.SUBMISSION_GRADING,c=t;const d=null==n?void 0:n.hasAttempts(),u=y(n),p=m.a.isExternalSubmissionsAssessment(null===(s=null==e?void 0:e.ui)||void 0===s?void 0:s.content),h=null==e?void 0:e.isUserReconciler(this.currentUser.userId),g=(null===(o=null==n?void 0:n.attempts)||void 0===o?void 0:o.length)>e.multipleAttempts,b=(e.isMultipleAttempts()||g)&&u;if(b&&!t.attemptId)return this.takeActionOnStateRef(a.o.COURSE_GRADES_MULTIPLE_ATTEMPT,t,i);b&&(c=null);const v=this.gradebookPermissionService.canExecute()&&!h;return p?u||!v?(l=(null==t?void 0:t.groupId)?a.x.GROUP_SUBMISSION_GRADING:a.x.SUBMISSION_GRADING,this.takeActionOnStateRef(l,c,i)):this.takeActionOnStateRef(a.x.CREATE_OFFLINE_ATTEMPT,t,i):(h&&d&&!(null==e?void 0:e.peerGrading)&&!(null===(r=this.ultraState.current.peekViewName)||void 0===r?void 0:r.startsWith(a.x.RECONCILE_GRADE))?l=a.x.RECONCILE_GRADE:(null==t?void 0:t.groupId)&&u?l=a.x.GROUP_SUBMISSION_GRADING:!n||u||!d&&(d||(null==n?void 0:n.isSubmitted())&&!f(n))||(l=a.x.GRADE_AND_FEEDBACK),this.takeActionOnStateRef(l,c,i))}gradingWithFeedbackStateRef(e,t){const n=e&&e.groupId?a.x.GROUP_SUBMISSION_GRADING:a.x.SUBMISSION_GRADING;return this.takeActionOnStateRef(`${n}.assessment-submission-feedback-tab`,e,t)}gradingWithRubricStateRef(e,t){const n=(null==e?void 0:e.groupId)?a.x.GROUP_SUBMISSION_GRADING:a.x.SUBMISSION_GRADING;return this.takeActionOnStateRef(`${n}.inline-rubric`,null,t)}getSubmissionsListStateRef(e,t){return e.assessmentType="test",e.gradeitemView="students",(null==e?void 0:e.needsGrading)&&(delete e.needsGrading,e.gradingStatus=p.O.needsGrading),this.takeActionOnStateRef(a.x.GRADEBOOK_ITEM_ASSESSMENT,e,t)}getAttemptReceiptSearchStateRef(e,t){const n=(null==e?void 0:e.groupId)?a.x.GROUP_SUBMISSION_GRADING:a.x.SUBMISSION_GRADING,i=e;return this.takeActionOnStateRef(n,i,t)}supportsOverall(){return!0}};x.$inject=[],x=Object(i.a)([Object(i.c)(0,Object(u.b)(l.d)),Object(i.c)(1,Object(u.b)(c.b)),Object(i.c)(2,Object(u.b)(d.b))],x);class S{constructor(e,t){this.$rootScope=e,this.$injector=t,this.delegates=Object.create(null),this.contentHandlerToDelegateMap=Object.create(null),S.SCORE_PROVIDER_DELEGATES.forEach((e=>{const t=this.$injector.instantiate(e),n=t.getScoreProviderHandle();Array.isArray(n)?n.forEach((e=>{this.buildDelegateMap(e,t)})):this.buildDelegateMap(n,t)}))}buildDelegateMap(e,t){if(this.delegates[e.toString()])throw new Error("There is already a registered delegate for "+e.toString());this.delegates[e.toString()]=t,e.contentHandlers.forEach((n=>{if(this.contentHandlerToDelegateMap[n]){if(this.contentHandlerToDelegateMap[n]!==t)throw new Error("There is already a registered delegate for "+e.toString())}else this.contentHandlerToDelegateMap[n]=t}))}getDelegate(e){return e&&this.delegates[e.toString()]||C.NULL_DELEGATE}getDelegateByContentHandler(e){return e&&this.contentHandlerToDelegateMap[e.toString()]||C.NULL_DELEGATE}isSupported(e){return e&&null!=this.getDelegate(e).getScoreProviderHandle()}getSupportedHandles(){return Object.keys(this.delegates).map((e=>r.Q.parse(e)))}openStateRef(e,t,n){return this.getDelegateByContentHandler(e).openStateRef(t,n)}getSubmissionListStateRef(e,t,n){return this.getDelegate(e).getSubmissionsListStateRef(t,n)}getSubmissionListStateRefByContentHandler(e,t,n){return this.getDelegateByContentHandler(e).getSubmissionsListStateRef(t,n)}getAttemptReceiptSearchStateRef(e,t,n){return this.getDelegate(null==e?void 0:e.scoreProviderHandle).getAttemptReceiptSearchStateRef(t,n)}studentViewStateRef(e,t,n){return this.getDelegate(e).studentViewStateRef(t,n)}editStateRef(e,t,n){return this.getDelegate(e).editStateRef(t,n)}gradingStateRef(e,t,n,i){return this.getDelegate(null==e?void 0:e.scoreProviderHandle).gradingStateRef(e,n,t,i)}gradingWithRubricStateRef(e,t,n){return this.getDelegate(e).gradingWithRubricStateRef(t,n)}gradingWithFeedbackStateRef(e,t,n){return this.getDelegate(e).gradingWithFeedbackStateRef(t,n)}getNeedsGradingIconByContentHandler(e){let t=this.getDelegateByContentHandler(e).getScoreProviderHandle();return t?(Array.isArray(t)&&(t=t[0]),t.needsGradingIcon):null}getNeedsReconcilingIconByContentHandler(e){let t=this.getDelegateByContentHandler(e).getScoreProviderHandle();return t?(Array.isArray(t)&&(t=t[0]),t.needsReconcilingIcon):null}supportsOverall(e){return this.getDelegate(e).supportsOverall()}supportsEdit(e){return this.getDelegate(e).supportsEdit()}supportsViewItem(e){return this.getDelegate(e).supportsViewItem()}supportsExternalEdit(e){if(o.p.ContentHandler.PartnerCloud.isEqualTo(e)||o.p.ContentHandler.LtiLink.isEqualTo(e))return this.getDelegate(e).supportsExternalEdit()}}S.$inject=["$rootScope","$injector"],S.SCORE_PROVIDER_DELEGATES=[class extends k{getScoreProviderHandle(){return r.Q.UltraAssignment}openStateRef(e,t){return this.takeActionOnStateRef("assignment.router",{courseId:e.courseId,assignmentId:e.contentId},t)}studentViewStateRef(e,t){return this.takeActionOnStateRef("assignment.view",{courseId:e.courseId,assignmentId:e.contentId},t)}editStateRef(e,t){return e.gradeitemView="details",this.takeActionOnStateRef("gradebook-item.assignment",e,t)}gradingStateRef(e,t,n,i){t.gradeitemView="students";let s="assignment-grading";const o=null==n?void 0:n.hasAttempts(),r=y(n);return n&&(o&&!r||!o&&!(null==n?void 0:n.isSubmitted())&&!r)&&(s=a.x.GRADE_AND_FEEDBACK),this.takeActionOnStateRef(s,t,i)}getSubmissionsListStateRef(e,t){return e.gradeitemView="students",(null==e?void 0:e.needsGrading)&&(delete e.needsGrading,e.gradingStatus=p.O.needsGrading),this.takeActionOnStateRef("gradebook-item.assignment",e,t)}supportsOverall(){return!0}},class extends k{getScoreProviderHandle(){return r.Q.Attendance}openStateRef(e,t){return this.takeActionOnStateRef("attendance",e,t)}studentViewStateRef(e,t){return this.takeActionOnStateRef("attendance-student-view",e,t)}editStateRef(e,t){return this.takeActionOnStateRef("attendance",e,t)}gradingStateRef(e,t,n,i){return this.takeActionOnStateRef("attendance",t,i)}getSubmissionsListStateRef(e,t){return this.takeActionOnStateRef("attendance",e,t)}supportsEdit(){return!1}supportsOverall(){return!0}},class extends k{getScoreProviderHandle(){return r.Q.Discussion}openStateRef(e,t){return this.takeActionOnStateRef(a.s.DISCUSSION_VIEW_WITH_GRADING,e,t)}studentViewStateRef(e,t){return this.takeActionOnStateRef(a.s.DISCUSSION_VIEW_WITH_GRADING,e,t)}gradingStateRef(e,t,n,i){return this.takeActionOnStateRef(a.s.SUBMISSION_LIST,t,i)}editStateRef(e,t){return this.takeActionOnStateRef(a.s.DISCUSSION_VIEW_WITH_GRADING,e,t)}getSubmissionsListStateRef(e,t){return e.view="participants",(null==e?void 0:e.needsGrading)&&(delete e.needsGrading,e.gradingStatus=p.O.needsGrading),this.takeActionOnStateRef(a.s.DISCUSSION_VIEW_WITH_GRADING,e,t)}supportsOverall(){return!0}},class extends k{getScoreProviderHandle(){return r.Q.Journal}openStateRef(e,t){return this.takeActionOnStateRef(a.B.JOURNAL_VIEW_WITH_PARTICIPATION,e,t)}studentViewStateRef(e,t){return this.takeActionOnStateRef(a.B.JOURNAL_VIEW_WITH_PARTICIPATION,{...e,view:"journal"},t)}editStateRef(e,t){return this.takeActionOnStateRef(a.B.JOURNAL_VIEW_WITH_PARTICIPATION,e,t)}getSubmissionsListStateRef(e,t){return(null==e?void 0:e.needsGrading)&&(delete e.needsGrading,e.submissionStatus=h.g.NeedsGrading),this.takeActionOnStateRef(a.B.JOURNAL_VIEW_WITH_PARTICIPATION,{...e,view:"participants"},t)}gradingStateRef(e,t,n,i){var s;const o=n.memberId,r=e.contentId,l=(null==n?void 0:n.memberId)||t.membershipId,c=(null===(s=null==n?void 0:n.user)||void 0===s?void 0:s.$pk)||(null==n?void 0:n.userId)||t.userId;return this.takeActionOnStateRef(a.B.JOURNAL_PARTICIPATION_DETAIL,{...t,participantId:o,contentId:r,singleMembershipId:l,singleUserId:c},i)}supportsOverall(){return!0}},class extends k{getScoreProviderHandle(){return r.Q.LTILink}openStateRef(e,t){return this.takeActionOnStateRef(a.D.LTI_LAUNCH,{courseId:e.courseId,contentId:e.contentId},t)}studentViewStateRef(e,t){return this.takeActionOnStateRef(a.D.LTI_LAUNCH,{courseId:e.courseId,contentId:e.contentId},t)}getSubmissionsListStateRef(e,t){return this.takeActionOnStateRef(a.D.LTI_LAUNCH,{courseId:e.courseId,contentId:e.contentId},t)}supportsOverall(){return!0}supportsExternalEdit(){return!0}},class extends k{getScoreProviderHandle(){return r.Q.PartnerCloud}openStateRef(e,t){return this.takeActionOnStateRef(a.D.LTI_LAUNCH,{courseId:e.courseId,contentId:e.contentId},t)}studentViewStateRef(e,t){let n;return n=e.linkRef?{courseId:e.courseId,linkRef:e.linkRef,linkType:r.Q.PartnerCloud.toString()}:{courseId:e.courseId,contentId:e.contentId},this.takeActionOnStateRef(a.D.LTI_LAUNCH,n,t)}editStateRef(e,t){return this.takeActionOnStateRef("content-manage.edit.partnercloud",{courseId:e.courseId,id:e.contentId},t)}getSubmissionsListStateRef(e,t){return this.takeActionOnStateRef(a.D.LTI_LAUNCH,{courseId:e.courseId,contentId:e.contentId},t)}supportsOverall(){return!0}supportsViewItem(){return!0}supportsEdit(){return!1}supportsExternalEdit(){return!0}},class extends k{getScoreProviderHandle(){return r.Q.Scorm}studentViewStateRef(e,t){return this.takeActionOnStateRef("scorm-overview.student",e,t)}openStateRef(e,t){return this.takeActionOnStateRef("scorm.open",e,t)}editStateRef(e,t){return this.takeActionOnStateRef("scorm-settings",e,t)}gradingStateRef(e,t,n,i){var s;let o=a.x.SUBMISSION_GRADING;const r=null==n?void 0:n.hasAttempts(),l=y(n),c=(null===(s=null==n?void 0:n.attempts)||void 0===s?void 0:s.length)>e.multipleAttempts;if(n&&(r&&!l||!r&&(!(null==n?void 0:n.isSubmitted())&&!l||f(n))))o=a.x.GRADE_AND_FEEDBACK;else if((e.isMultipleAttempts()||c)&&l){if(t.attemptId)return this.takeActionOnStateRef(o,null,i);o=a.o.COURSE_GRADES_MULTIPLE_ATTEMPT}return this.takeActionOnStateRef(o,t,i)}gradingWithFeedbackStateRef(e,t){return this.takeActionOnStateRef("submission-grading.peek.assessment-submission-feedback",e,t)}getSubmissionsListStateRef(e,t){return e.gradeitemView="students",this.takeActionOnStateRef("gradebook-item.scorm-submissions",e,t)}supportsOverall(){return!0}},x],S.NULL_DELEGATE=new class extends k{}(null);class C extends S{}s.module(g,[l.b,c.a,d.a]).service(b,S)},"8wib":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-settings",use:"icon-medium-settings-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-settings"><path fill-rule="evenodd" clip-rule="evenodd" d="M21.4277 6.2062l-2.779.674a8.3399 8.3399 0 00-1.7651-1.7008l.5771-2.8038a.4939.4939 0 00-.3024-.5594l-1.9855-.7817a.4933.4933 0 00-.6028.2026l-1.4904 2.444a8.2935 8.2935 0 00-2.4509.0405L9.0563 1.333a.4956.4956 0 00-.6098-.1818l-1.9568.8509a.4934.4934 0 00-.2827.5703l.674 2.778a8.3417 8.3417 0 00-1.7018 1.7651l-2.8038-.5761a.4946.4946 0 00-.5594.3024l-.7817 1.9855a.495.495 0 00.2026.6028l2.444 1.4894a8.3611 8.3611 0 00.0406 2.4509l-2.3887 1.5734a.4952.4952 0 00-.1809.6098l.851 1.9568a.4938.4938 0 00.5692.2827l2.779-.6741a8.3178 8.3178 0 001.7652 1.7019l-.5772 2.8028a.4936.4936 0 00.3034.5594l1.9845.7827a.4946.4946 0 00.6029-.2026l1.4903-2.4441a8.3594 8.3594 0 002.451-.0405l1.5724 2.3877a.4943.4943 0 00.6097.1819l1.9569-.8509a.4953.4953 0 00.2836-.5703l-.674-2.7791a8.3321 8.3321 0 001.7008-1.7641l2.8038.5772a.4948.4948 0 00.5594-.3034l.7817-1.9855a.4938.4938 0 00-.2026-.6029l-2.444-1.4893a8.298 8.298 0 00-.0405-2.451l2.3887-1.5733a.4936.4936 0 00.1808-.6098l-.8509-1.9559a.4944.4944 0 00-.5693-.2836z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path fill-rule="evenodd" clip-rule="evenodd" d="M12 16c-2.2057 0-4-1.7943-4-4s1.7943-4 4-4 4 1.7943 4 4-1.7943 4-4 4z" stroke-width="2" /></symbol>'});s.add(a);e.exports=a},"90v0":function(e,t){e.exports='<div class="preview-header"\n     ng-if="shouldShowHeader && !previewHeader.studentPreview.isInIframeOfPreviewMode()"\n     role="banner">\n  <div>\n    <h2 bb-translate course-org-token-resolver>course.outline.previewCourse.headerBar.title</h2>\n    <div ng-if="hasExceptionReport">\n      <bb-translate>course.outline.previewCourse.headerBar.description</bb-translate>\n      <a href="javascript:void(0);" bb-peek-sref="conversion-risk-analysis" bb-translate\n         analytics-id="course.outline.previewCourse.headerBar.exceptionsLink">course.outline.previewCourse.headerBar.exceptionsLink</a>\n    </div>\n  </div>\n</div>\n'},"94iD":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var i,s,a=n("zGdY"),o=n("eUpQ");class r{constructor(e){this.apiData=e}get testType(){if(!this.apiData.timeLimitSec)return this.apiData.dueDate?s.EnforcedDueDateTest:s.NotATimedTest;switch(this.apiData.timerCompletion||""){case a.gc.Continual:return s.UnlimitedExtraTime;case a.gc.HardStop:return this.apiData.softLimitSec?s.LimitedExtraTime:s.NoExtraTime;default:return this.apiData.dueDate?s.EnforcedDueDateTest:s.NotATimedTest}}get adaptedTime(){switch(this.testType){case s.NoExtraTime:return{elapsedSeconds:this.apiData.elapsedSec,softlimitSeconds:this.apiData.timeLimitSec,hardlimitSeconds:this.apiData.timeLimitSec};case s.UnlimitedExtraTime:return{elapsedSeconds:this.apiData.elapsedSec,softlimitSeconds:this.apiData.timeLimitSec,hardlimitSeconds:Number.POSITIVE_INFINITY};case s.LimitedExtraTime:return{elapsedSeconds:this.apiData.elapsedSec,softlimitSeconds:this.apiData.softLimitSec,hardlimitSeconds:this.apiData.timeLimitSec};case s.EnforcedDueDateTest:return{elapsedSeconds:o.a.getServerTimeAsEpochTime(),softlimitSeconds:this.dueDateAsEpochTime,hardlimitSeconds:this.dueDateAsEpochTime};default:return{elapsedSeconds:NaN,softlimitSeconds:NaN,hardlimitSeconds:NaN}}}get dueDateAsEpochTime(){return this.apiData.dueDate?this.apiData.dueDate.getTime()/1e3:null}get stages(){if(this.dueDateAsEpochTime&&!this.withinDueDatelimit)return[i.StageE];switch(this.testType){case s.NoExtraTime:return this.getStagesForNoExtraTimeTest();case s.UnlimitedExtraTime:return this.getStagesForUnlimitedExtraTimeTest();case s.LimitedExtraTime:return this.getStagesForLimitedExtraTimeTest();case s.EnforcedDueDateTest:return this.getStagesForEnforcedDueDateTest()}}getStagesForNoExtraTimeTest(){if(this.testType===s.NoExtraTime)return this.dueDateIsSoonerThanHardTimeLimit?[i.StageEnforcedDueDate]:this.withinHardlimit?[i.Stage0NoExtraTime]:[i.StageE]}getStagesForUnlimitedExtraTimeTest(){if(this.testType===s.UnlimitedExtraTime)return this.dueDateIsSoonerThanSoftTimeLimit?[i.StageEnforcedDueDate]:this.dueDateIsSoonerThanHardTimeLimit?this.withinLimit?[i.Stage0UnlimitedExtraTime,i.StageEnforcedDueDate]:[i.StageEnforcedDueDate]:this.withinLimit?[i.Stage0UnlimitedExtraTime,i.Stage1UnlimitedExtraTime]:[i.Stage1UnlimitedExtraTime]}getStagesForLimitedExtraTimeTest(){if(this.testType===s.LimitedExtraTime)return this.dueDateIsSoonerThanSoftTimeLimit?[i.StageEnforcedDueDate]:this.dueDateIsSoonerThanHardTimeLimit?this.withinLimit?[i.Stage0LimitedExtraTime,i.StageEnforcedDueDate]:[i.StageEnforcedDueDate]:this.withinLimit?[i.Stage0LimitedExtraTime,i.Stage1LimitedExtraTime]:this.withinHardlimit?[i.Stage1LimitedExtraTime]:[i.StageE]}getStagesForEnforcedDueDateTest(){if(this.testType===s.EnforcedDueDateTest)return this.withinDueDatelimit?[i.StageEnforcedDueDate]:[i.StageE]}get hasTimeLimit(){return this.testType!==s.EnforcedDueDateTest&&this.testType!==s.NotATimedTest}get hasExtraTime(){return this.testType===s.LimitedExtraTime||this.testType===s.UnlimitedExtraTime}get hasLimitedExtraTime(){return this.testType===s.LimitedExtraTime}get hasUnlimitedExtraTime(){return this.testType===s.UnlimitedExtraTime}get withinLimit(){return this.adaptedTime.elapsedSeconds<this.adaptedTime.softlimitSeconds}get withinHardlimit(){return this.adaptedTime.elapsedSeconds<this.adaptedTime.hardlimitSeconds}get withinDueDatelimit(){return this.dueDateAsEpochTime&&o.a.getServerTimeAsEpochTime()<this.dueDateAsEpochTime}get dueDateIsSoonerThanHardTimeLimit(){return this.dueDateIsSoonerThanTimeLimit(this.adaptedTime.hardlimitSeconds)}get dueDateIsSoonerThanSoftTimeLimit(){return this.dueDateIsSoonerThanTimeLimit(this.adaptedTime.softlimitSeconds)}dueDateIsSoonerThanTimeLimit(e){var t;return this.withinDueDatelimit&&this.dueDateAsEpochTime-o.a.getServerTimeAsEpochTime()<e-(null!==(t=this.adaptedTime.elapsedSeconds)&&void 0!==t?t:0)}get willAutoSubmit(){return this.testType===s.NoExtraTime||this.testType===s.LimitedExtraTime||this.testType===s.EnforcedDueDateTest}get displayedTimeLimitSeconds(){return this.adaptedTime.softlimitSeconds}get displayedExtraTimeSeconds(){return this.adaptedTime.hardlimitSeconds-this.adaptedTime.softlimitSeconds}getSubmissionRuleText(e,t){switch(this.testType){case s.NoExtraTime:return e.translateSync({locale:t,key:"course.content.assessment.test.settings.timeLimit.autoSubmission"});case s.UnlimitedExtraTime:return e.translateSync({locale:t,key:"course.content.assessment.test.settings.timeLimit.unlimitExtraTime"});case s.LimitedExtraTime:return e.translateSync({locale:t,key:"course.content.assessment.test.settings.timeLimit.extraTimeInfo.plural",params:{allowExtraTime:Math.floor(this.displayedExtraTimeSeconds/60)}});default:return""}}}!function(e){e.Stage0NoExtraTime="S0_NO_EXTRA",e.Stage0UnlimitedExtraTime="S0_UNLIMITED_EXTRA",e.Stage1UnlimitedExtraTime="S1_UNLIMITED_EXTRA",e.Stage0LimitedExtraTime="S0_LIMITED_EXTRA",e.Stage1LimitedExtraTime="S1_LIMITED_EXTRA",e.StageE="SE",e.StageEnforcedDueDate="S0_ENFORCED_DUE_DATE"}(i||(i={})),function(e){e.NoExtraTime="NO_EXTRA",e.UnlimitedExtraTime="UNLIMITED_EXTRA",e.LimitedExtraTime="LIMITED_EXTRA",e.EnforcedDueDateTest="ENFORCED_DUE_DATE",e.NotATimedTest="NOT_TIMED"}(s||(s={}))},"9Fiv":function(e,t,n){"use strict";var i=n("D57K"),s=n("71td"),a=n("nsO7"),o=n("0JpG"),r=n("lEL+"),l=n("X/qj"),c=n("+4Px"),d=n("5Dl8"),u=n("aHpC"),m=n("yC9S"),p=n("gK/k"),h=n("dF44"),g=n("s52B"),b=n("7/CN");n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return x}));const f="rbGridContainer";let v=class{constructor(e,t,n,i,s,a,o){this.$q=e,this.position=t,this.columns=n,this.grid=i,this.timeout=s,this.bbLocalize=a,this.gradebookPermissionService=o,this.renderedRows=[],this.nextRenderedRows=[],this.renderedColumns=[],this.nextRenderedColumns=[],this.scrollTop=0,this.scrollLeft=0,this.id=i.id+"-container-"+t,this.rows=i.options.memberships,this.totalWidth=this.initColumnsPosition(n,!1),this.totalHeight=i.options.rowHeight*i.options.memberships.length,this.isMain="center"===t,this.headerBorder=i.options.headerBorder,this.rowBorder=i.options.rowBorder,this.callbacks=i.options.callbacks,this.isRtl=this.bbLocalize.isRTL(),this.deferedInit=this.$q.defer(),this.initialized=this.deferedInit.promise}initColumnsPosition(e=this.columns,t=!0){const n=[];let i=0;for(let s=0;s<e.length;s++){const a=e[s];a.accumulativeWidth=i,t&&n.push(`.rb-column-position-${a.id} {${this.isRtl?"right":"left"}: ${Object(d.b)(i)};}`),i+=a.columnWidth}if(t){s(`style#${this.id}`).remove();const e=s(`<style scoped id="${this.id}"></style>`);e.text(n.join("\n")),this.grid.$element.prepend(e)}return i}getCssPosition(){return this.isRtl&&"center"!==this.position?"left"===this.position?"right":"left":this.position}getContainerStyle(){const e=this.grid.containers.left,t=this.grid.containers.right;return this.isMain?{[this.isRtl?"right":"left"]:Object(d.b)(e&&e.totalWidth),[this.isRtl?"left":"right"]:Object(d.b)(t&&t.totalWidth+this.grid.scrollbarWidth)}:{[this.getCssPosition()]:"0"}}getHeaderCanvasStyle(){return{width:Object(d.b)(this.totalWidth),height:Object(d.b)(this.grid.options.headerHeight)}}getBodyCanvasStyle(){return{width:Object(d.b)(this.totalWidth),height:Object(d.b)(this.totalHeight)}}getBodyStyle(){return{"overflow-x":this.hasHScrollbar?"scroll":"hidden","overflow-y":this.hasVScrollbar?"scroll":"hidden"}}init(e,t){if(this.element=t,this.scope=e,this.element.addClass(this.id),this.header=this.element.find(".rb-grid-header"),this.body=this.element.find(".rb-grid-body"),this.canAddColumn()){const e=this.scope.$watch("container",(t=>{null!=t&&t.canAddColumn()&&(this.columnAdder=new y(this.element.find(".rb-add-column"),this),e(),this.deferedInit.resolve(this))}))}return this.adjustRows(),this.adjustColumns(),this.addEventListeners(),this.canAddColumn()||this.deferedInit.resolve(this),this.initialized}toggleFirstAddColumnPlaceholder(e){this.element.find(".rb-add-column-placeholder.first")[e?"show":"hide"]()}resetColumns(e){this.columns=[...e],this.columns.sort(((e,t)=>e.order-t.order)),this.totalWidth=this.initColumnsPosition(e,!1),this.adjustColumns()}resetRows(e){this.initialized.then((()=>{this.rows=e,this.totalHeight=this.grid.options.rowHeight*this.rows.length,this.adjustRows()}))}addEventListeners(){this.element.on("wheel",this.handleWheel.bind(this)),this.body.on("scroll",this.handleScroll.bind(this))}handleScroll(){const e=(t=this.body.scrollLeft(),n=this.isRtl,i=this.getMaxScrollLeft(),n&&Object(b.e)()!==b.a.Negative?i-t:Math.abs(t));var t,n,i;const s=this.body.scrollTop();this.grid.scrollContainers({scrollLeft:e!==this.scrollLeft?e:null,scrollTop:s!==this.scrollTop?s:-1})}handleWheel(e){if(this.body[0].scrollWidth===this.body[0].clientWidth&&this.body[0].scrollHeight===this.body[0].clientHeight)return;const t=e.originalEvent;let n=this.isRtl?-t.deltaX:t.deltaX,i=t.deltaY;if(1===t.deltaMode){const e=parseInt(this.element.css("font-size"),10);n*=e,i*=e}if(this.atTop()&&i<0||this.atBottom()&&i>0||this.atLeft()&&n<0||this.atRight()&&n>0)return;if(0===n&&0===i)return;e.preventDefault(),e.stopPropagation();let s=-1,a=null;0!==i&&(s=Math.max(0,Math.min(this.scrollTop+i,this.getMaxScrollTop()))),0!==n&&(a=Math.max(0,Math.min(this.scrollLeft+n,this.getMaxScrollLeft()))),this.grid.scrollContainers({scrollTop:s,scrollLeft:a})}scrollHorizontally(e){const t=(n=e,i=this.isRtl,s=this.getMaxScrollLeft(),i?Object(b.e)()===b.a.Negative?-n:s-n:n);var n,i,s;this.body.scrollLeft(t),this.header.scrollLeft(t),this.scrollLeft=e,this.adjustColumns()}scrollVertically(e){this.body.scrollTop(e),this.scrollTop=e,this.adjustRows()}canAddColumn(){return this.isMain&&this.grid.canAddColumn()&&this.gradebookPermissionService.canModify()}getVisibleColRange(){const e=this.scrollLeft;let t=0,n=this.columns.length;for(let n=0,i=0;n<this.columns.length;n++)if(i+=this.columns[n].columnWidth,i>=e){t=n;break}for(let t=0,i=0;t<this.columns.length;t++)if(i+=this.columns[t].columnWidth,i>=e+this.body[0].clientWidth){n=t;break}return{start:t,end:n}}calculateNextRenderedColumns(){const{start:e,end:t}=this.getVisibleColRange();this.nextRenderedColumns=this.columns.slice(e,t+h.a+1)}adjustColumns(){this.calculateNextRenderedColumns(),this.grid.debounceRefresh()}getVisibleRowRange(){const e=Math.ceil(this.body[0].clientHeight/this.grid.options.rowHeight),t=Math.floor(this.scrollTop/this.grid.options.rowHeight);return{start:t,end:t+e}}calculateNextRenderedRows(){const{start:e,end:t}=this.getVisibleRowRange();this.nextRenderedRows=this.rows.slice(e,t+h.e)}isRowOutOfBound(e){const{start:t,end:n}=this.getVisibleRowRange();return{top:e<=t,bottom:e>=n}}isColOutOfBound(e){const{start:t,end:n}=this.getVisibleColRange();return{left:e<=t,right:e>=n}}adjustRows(){this.calculateNextRenderedRows(),this.grid.debounceRefresh()}applyData(){this.renderedRows=this.nextRenderedRows,this.renderedColumns=this.nextRenderedColumns}getMaxScrollTop(){return this.totalHeight-this.body[0].clientHeight}getMaxScrollLeft(){return this.totalWidth-this.body[0].clientWidth}getTopRowScrollTop(e){return this.grid.options.rowHeight*e}getBottomRowScrollTop(e){return Math.max(0,this.grid.options.rowHeight*(e+1)-this.body[0].clientHeight)}getLeftColScrollLeft(e){return e.accumulativeWidth}getRightColScrollLeft(e){return Math.max(0,e.accumulativeWidth+e.columnWidth-this.body[0].clientWidth)}atTop(){return 0===this.scrollTop}atBottom(){return this.scrollTop===this.getMaxScrollTop()}atLeft(){return!this.isMain||0===this.scrollLeft}atRight(){return!this.isMain||this.scrollLeft===this.getMaxScrollLeft()}};v=Object(i.a)([Object(i.c)(0,Object(u.b)("$q")),Object(i.c)(1,Object(u.b)("position")),Object(i.c)(2,Object(u.b)("columns")),Object(i.c)(3,Object(u.b)("grid")),Object(i.c)(4,Object(u.b)(r.b)),Object(i.c)(5,Object(u.b)(o.serviceName)),Object(i.c)(6,Object(u.b)(l.b))],v);class y{constructor(e,t){this.element=e,this.container=t,this.grid=t.grid,this.scope=t.scope,this.bbLocalize=t.bbLocalize,e.css("height",`calc(100% - ${Object(d.b)(this.grid.scrollbarWidth)}`),this.button=e.find(".button"),this.firstPlaceholder=this.container.element.find(".rb-add-column-placeholder.first"),this.button.on("keydown",(e=>{let t;this.grid.previousCell.tabPressed=!1;let n=this.container.currentColumn;if(c.z(e)||e.keyCode===c.j||e.keyCode===c.g){const e=n||this.grid.containers.left.columns.slice(-1)[0],i=this.container.columns.indexOf(e);i>=0&&this.container.isColOutOfBound(i).left?this.grid.scroll({scrollLeft:this.container.getLeftColScrollLeft(e)},(()=>{this.grid.$scope.$broadcast(h.b.FOCUS_CELL,t,e)})):this.grid.$scope.$broadcast(h.b.FOCUS_CELL,t,e)}else{if(!c.A(e)&&e.keyCode!==c.s)return;{const e=this.grid.getFocusableColumns();let i=NaN,s=NaN;n?(n=e[(e.indexOf(n)+1)%e.length],n===e[0]&&(t=this.container.rows[0],s=0)):n=this.container.columns[0];const o=this.container.columns.indexOf(n);this.container.isColOutOfBound(o).right&&(i=this.container.getRightColScrollLeft(n)),Object(a.isNaN)(i)&&Object(a.isNaN)(s)?this.grid.$scope.$broadcast(h.b.FOCUS_CELL,t,n):this.grid.scroll({scrollTop:s,scrollLeft:i},(()=>this.grid.$scope.$broadcast(h.b.FOCUS_CELL,t,n)))}}this.hide(),e.preventDefault(),e.stopPropagation()})),m.b.OnWindow("click",(e=>{s(e.target).closest(this.button).length||(this.button.removeClass("active"),this.hide())}),this.container.scope),this.container.scope.$on(h.b.SCROLL_H,(()=>{this.hide()})),this.container.scope.$on(h.b.SCROLL_V,(()=>{this.button.hasClass("active")&&this.hide()}))}enter(e,t){this.button.hasClass("active")||this.show(s(e.target),t)}leave(){this.button.hasClass("active")||this.hide()}show(e=this.firstPlaceholder,t){this.element.show(),this.element.offset(e.offset()),this.element.css("opacity","1"),this.container.currentColumn=t||this.grid.containers.left.columns.slice(-1)[0],this.addAriaLabel()}hide(){this.element.hide(),this.element.css("opacity","0")}onClick(e){this.button.toggleClass("active"),this.button.hasClass("active")&&this.container.callbacks.column(e,this.container.currentColumn)}addAriaLabel(){const e=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.grid.lastAddButtonAriaLabel",params:{columnName:this.container.currentColumn.data.columnName},noWrap:!0,noEscape:!0});this.button.attr("aria-label",e)}}class k{}class x{constructor(){this.replace=!0,this.restrict="A",this.require=[`^${p.a}`,f],this.template=g,this.controller=k,this.scope=!0,this.link=(e,t,n,i)=>{const[s,a]=i;s.initializedWithOptions.then((()=>{const i=s.containers[n[f]];e.container=i,e.grid=s,i.init(e,t),a.container=i}))}}}},"9KIl":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var i=n("D57K"),s=n("Llzl"),a=n("nsO7"),o=n("d8yC"),r=n("X/qj"),l=n("LN5R"),c=n("o5Lu"),d=n("pjml"),u=n("lEL+"),m=n("0JpG"),p=n("12mu"),h=n("aHpC"),g=n("T1pL"),b=n("dF44"),f=n("qH3X"),v=n("TmUJ"),y=n("+4Px"),k=n("wJOA"),x=n("zGdY"),S=n("AVdi"),C=n("mWXo"),E=n("ZQFV");const I="ultra.components.directives.gradeGridColumnOverallReborn";let w=class t{constructor(e,t,n,i,s,o,r,l,c,d,u,m,p,h){this.rootScope=e,this.window=t,this.$q=n,this.CourseModel=i,this.gradeService=s,this.gradebookPermissionService=o,this.$compile=r,this.scope=l,this.element=c,this.attrs=d,this.gradeGridRebornController=u,this.timeout=m,this.bbLocalize=p,this.$modal=h,this.closeModal=e=>{e?this.modalInstance.close():this.modalInstance.dismiss()},this.initializeEventHandler(),this.gridData=this.gradeGridRebornController.getGridData(),l.$watchGroup(["row","col"],(e=>{this.changeRecord(e)})),l.$on(f.a.REFRESH,((e,t)=>{const n=t.rowId,i=t.columnIds;a.forEach(i,(e=>{this.scope.row.id===n&&this.cell.column.id===e&&(this.initializeCell(n,e),this.initializeUI(),this.initializeGradeDetail(this.cell.data),this.scope.$broadcast(f.a.REFRESH_OVERALL_EDITOR))}))})),l.$on(b.b.ENTER_CELL,((e,t)=>t.find(".grade-grid-cell").click())),l.$on("$destroy",(()=>{})),this.overrideDialogScope=l.$new()}changeRecord(e){const[t,n]=e;this.initializeCell(t.id,n.id),this.initializeState(),this.initializeUI(),this.initializeGradeDetail(this.cell.data)}initializeEventHandler(){this.element.parents(".rb-cell").focusin((()=>{this.focusin()})).focusout((()=>{this.focusout()})),this.element.children(".grade-grid-cell").mousedown((()=>this.mousedown()))}focusin(){this.rootScope.$broadcast(f.a.FOCUSIN_CELL,{rowId:this.scope.row.id,columnId:this.cell.column.id})}focusout(){this.rootScope.$broadcast(f.a.FOCUSOUT_CELL,{rowId:this.scope.row.id,columnId:this.cell.column.id})}initializeUI(){const e=this.element.children(".grade-grid-cell");this.isLoading||this.isEditing?e.children(".score").hide():e.children(".overall-display-grade").show()}initializeGradeDetail(e){const t=this.gridData.getSchema()[this.cell.column.data.gradingSchemaId];a.isUndefined(null==e?void 0:e.grade)||a.isNull(null==e?void 0:e.grade)?this._gradeDetail=void 0:t.scaleType===x.ac.Score?this._gradeDetail=this.gradeService.toFixedGradeDetail(e.grade):this._gradeDetail=e.grade.displayGrade.isOverride?this.gradeService.truncateGradeDetail(e.grade):this.gradeService.gradeDetailToPercentage(e.grade);const n=this.extractGradeFromGradeDetail(this.gradeDetail);this.setUpScreenReader(this.cell,n)}extractGradeFromGradeDetail(e){return e&&e.displayGrade&&e.displayGrade.perfCode&&e.displayGrade.perfCode.code||e&&e.getScore()}get disabledEditor(){return!this.canBeEdited&&a.isEmpty(this.extractGradeFromGradeDetail(this.gradeDetail))}initializeState(){this._isEditing=!1}initializeCell(e,t){this.cell=this.gridData.getCell(e,t),this._oldScore=this._score=void 0}get isReady(){return!a.isUndefined(this.cell)}get isLoading(){return!this.isReady||!this.cell.isLoaded}get score(){if(this.isReady){if(a.isUndefined(this._score)){let e=this.gradeDetail&&this.gradeDetail.getScore();e=e?this.bbLocalize.formatNumberSync(Math.round(100*parseFloat(e))/100,this.scope,{maximumFractionDigits:c.e.DEFAULT_GRADEBOOK_SETTINGS_AFTER_DECIMAL}):e,a.isEmpty(e)&&this.gradeDetail&&!a.isUndefined(this.gradeDetail.displayGrade.perfCode)&&(e=this.gradeDetail.displayGrade.perfCode.code),this._oldScore=this._score=e}return this._score}}set score(e){this._score=e}get isReadonly(){if(this.isReady)return!1}get isEditing(){return this._isEditing}get gradeDetail(){return this._gradeDetail}get pointsPossible(){var e;if(this.gridData.getSchema()[this.cell.column.data.gradingSchemaId].scaleType===x.ac.Score){const t=null!=(null===(e=this._gradeDetail)||void 0===e?void 0:e.manualGrade)?this._gradeDetail.pointsPossible:this.cell.column.data.possible;return o.b(null!=t?t:this.cell.column.data.possible,2)}return 100}get pointsPossibleToDisplay(){return null==this.pointsPossible?null:this.bbLocalize.formatNumberSync(this.pointsPossible,this.scope,{maximumFractionDigits:c.e.DEFAULT_GRADEBOOK_SETTINGS_AFTER_DECIMAL})}insertCellEditor(){this.editorScope=this.scope.$new(!1,this.scope),this.$compile(t.OVERALL_EDITOR_TEMPLATE)(this.editorScope,(e=>this.element.children(".grade-grid-body-cell").append(e))),this.timeout((()=>{this.addInputKeyEventListeners();const e=this.scope.$on(b.b.SCROLL_H,(()=>{this.closeEditor(),e(),t(),this.scope.$apply()})),t=this.scope.$on(b.b.SCROLL_V,(()=>{this.closeEditor(),t(),e(),this.scope.$apply()}))}),this.scope,200)}removeCellEditor(){this.element.find("#bb-grade-grid-overall-editor-reborn").remove()}gotoNextCell(){this.nextDeferred=this.$q.defer(),this.nextDeferred.promise.then((()=>{this.scope.$emit(b.b.ENTER_NEXT_CELL)}))}mousedown(){e(this.window).trigger("click")}isConfirmDialogExisting(){return!!e(".grade-grid-group-confirm-dialog").length}get canBeEdited(){return!this.gridData.course.isComplete()&&!a.isUndefined(this.cell)&&this.gradebookPermissionService.canOverrideGrades()}enterEditor(e){this.isConfirmDialogExisting()||!this.canBeEdited||this.isLoading||this._isEditing||(this._isEditing=!0,this.element.find(".overall-display-grade").hide(),this.insertCellEditor(),this.popupMenu(e))}popupMenu(t){const n=`grade-grid-notation-menu-reborn-${this.scope.row.id}-${this.scope.col.id}`;if((this.scope.col.gradeNotations.length||this.gradeDetail&&this.gradeDetail.displayGrade&&this.gradeDetail.displayGrade.isOverride)&&!this.gradeGridRebornController.isMenuExisting(n)){const i=e(t.target).closest(".grade-grid-cell").offset();i.top+=60;const s=this.scope.$new(!1);s.adjustPosition=e=>{const t=i.left+e.width(),n=i.top+e.height(),s=this.gradeGridRebornController.getGradeGridContainerElementRight(),a=this.gradeGridRebornController.getGradeGridContainerElementBottom();t>s&&(i.left-=t-s+Object(v.a)()),n>a&&(i.top-=e.height()+40),e.offset(i)},this.gradeGridRebornController.popupMenu(n,C,s),this.addMenuKeyEventListeners(),t.preventDefault(),t.stopPropagation()}}openOverrideDialog(e){this.overrideDialogScope.closeModal=this.closeModal,this.overrideDialogScope.grade=e,this.modalInstance=this.$modal.open({template:S.b,scope:this.overrideDialogScope,resolve:{translations:[m.serviceName,e=>e.loadBundle("components/directives/grade/grade-input")]}})}addInputKeyEventListeners(){this.element.find("#bb-grade-grid-overall-editor-reborn input").on("keydown",(e=>{const t=this.gradeGridRebornController.getMenuitems();if(y.A(e))t.first().focus();else{if(!y.z(e))return;t.last().focus()}e.preventDefault(),e.stopPropagation()}))}addMenuKeyEventListeners(){this.timeout((()=>{const t=this.gradeGridRebornController.getPopupMenu();t.on("keydown",(n=>{const i=this.gradeGridRebornController.getMenuitems();if(y.A(n)){const t=i.index(e(n.target))+1;t<i.length?i.eq(t).focus():this.element.find(".grade-grid-cell").trigger("click",!0)}else if(y.z(n)){const t=i.index(e(n.target))-1;t>=0?i.eq(t).focus():this.element.find(".grade-grid-cell").trigger("click",!0)}else if(y.y(n))this.scope.$emit(b.b.LEAVE_CELL);else{if(n.keyCode!==y.g)return;t.data("destroy")(),this.scope.$emit(b.b.LEAVE_CELL)}n.preventDefault(),n.stopPropagation()}))}),this.scope,0,!1)}areGradesComplete(){const e=this.cell.column.data.calculatedFormula,t=e.aliases,{items:n,formula:i}=Object(E.ab)(e,this.gridData.getColumnMetadatas()),s=i?Object(E.Z)(i,{advanced:()=>this.findIncludedColumnIdsForAliases(t),sumSelected:()=>this.findIncludedColumnIdsForFormulaItems(n),weighted:()=>this.findIncludedColumnIdsForFormulaItems(n)}):this.findIncludedColumnIdsForAliases(t);return this.gridData.getColumnMetadatas().filter((e=>s[e.id])).every((e=>{var t;return null===(t=this.gridData.getCell(this.cell.row.metadata.id,e.id).getGrade())||void 0===t?void 0:t.isGraded()}))}findIncludedColumnIdsForAliases(e){const t=Object.entries(e).filter((([e])=>e.startsWith("c"))).reduce(((e,[,t])=>({...e,[t]:!0})),{}),n=Object.entries(e).filter((([e])=>e.startsWith("i"))).reduce(((e,[,t])=>({...e,[t]:!0})),{});return this.gridData.getColumnMetadatas().filter((e=>n[e.id]||t[e.gradebookCategoryId])).reduce(((e,t)=>({...e,[t.id]:!0})),{})}findIncludedColumnIdsForFormulaItems(e){return e.reduce(((e,t)=>{var n;return t.isCategory&&t.el&&!t.isExempted?{...e,...this.findIncludedColumnIdsForFormulaItems(null!==(n=t.childGradeItems)&&void 0!==n?n:[])}:t.isCalculation&&t.el&&!t.isExempted?{...e,[t.id]:!0}:t.isCategory||t.isCalculation||t.isExempted?e:{...e,[t.id]:!0}}),{})}onInputBlur(e,t){var n,i;if(!this.isLoading&&this._isEditing&&(this.closeEditor(),e)){const e=this.gridData.getSchema()[this.cell.column.data.gradingSchemaId],s=this.score;this.score=t;const r=this.gradeService.parseGrade(t,e,this.scope),l=this.createGradeSubmission(e,r);if(this.score){const e=a.find(this.cell.column.gradeNotations,(e=>e.code===this.score));e&&(l.perfCodeId=e.id)}if(this.score&&e.scaleType===x.ac.Score&&!a.isNaN(Number(r))&&this.isDirty())if(l.pointsPossible=this.pointsPossible,(null===(n=this.modalInstance)||void 0===n?void 0:n.opened)||this.areGradesComplete())(null===(i=this.modalInstance)||void 0===i?void 0:i.opened)||this.saveGrade(l);else{const e=this.gradeService.pointToPercentage(Number(r),this.pointsPossible);this.element.find(".grade-grid-cell").eq(0).focus(),this.openOverrideDialog(o.b(e,2)),this.modalInstance.opened.then((()=>{this.modalInstance.result.then((()=>{this.saveGrade(l)}),(()=>{this.score=s}))})).finally((()=>{this.modalInstance.opened=null}))}else this.saveGrade(l)}}closeEditor(){!this.isLoading&&this._isEditing&&(this._isEditing=!1,this.removeCellEditor(),this.editorScope.$destroy(),this.element.find(".overall-display-grade").show())}isDirty(){if(a.isUndefined(this._oldScore)&&!a.isEmpty(this.score))return!0;if(!a.isUndefined(this._oldScore)){const e=this.bbLocalize.parseNumberSync(this._oldScore,this.scope),t=this.bbLocalize.parseNumberSync(this.score,this.scope);return a.isNaN(e)||a.isNaN(t)?this._oldScore!==this.score:e!==t}return!1}createGradeSubmission(e,t){const n=this.gradeService.createGradeSubmission(this.cell.column.data,t,e);return n.clearGrade=this.gradeService.wasGradeCleared(this._oldScore,this.score),n}saveGrade(e){if(this.isDirty()){if(a.isUndefined(e)){const t=this.gridData.getSchema()[this.cell.column.data.gradingSchemaId];e=this.createGradeSubmission(t,this.gradeService.parseGrade(this.score,t,this.scope))}this.gradeService.saveGrade(e,this.cell.data&&this.cell.data.grade,void 0,{userId:this.cell.row.metadata.user.id}).then((e=>this.cell.column.data.summary.$fetch())).then((()=>{this.gridData.refreshDataCell(this.cell.row,this.cell.column),this.rootScope.$broadcast(b.b.DATA_UPDATE),this.nextDeferred&&this.areGradesComplete()&&(this.nextDeferred.resolve(),this.nextDeferred=void 0)}))}else this.nextDeferred&&(this.nextDeferred.resolve(),this.nextDeferred=void 0)}undoOverride(){this.score="",this.saveGrade()}selectNotation(e){this.score=e.code;const t=this.gridData.getSchema()[this.cell.column.data.gradingSchemaId],n=this.createGradeSubmission(t,this.score);n.perfCodeId=e.id,this.saveGrade(n)}setUpScreenReader(e,t){const n=e&&e.row&&e.row.metadata.user,i=n&&n.givenName.concat(n&&n.familyName),s=e&&e.column.data.columnName,a=!this.gridData.course.isComplete();if(t){const n=this.gradeService.getGradeToDisplay(e.data.grade.displayGrade,this.scope,this.gridData.getSchema()[e.column.data.gradingSchemaId].scaleType);this.ariaLabelContent=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:a?"components.directives.grade.grid.tableCellAriaLabel":"components.directives.grade.grid.tableCellAriaLabelReadOnly",params:{userName:i,assignmentName:s,grade:n||t},noWrap:!0,noEscape:!0})}else this.ariaLabelContent=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:a?"components.directives.grade.grid.tableCellAriaLabelEmpty":"components.directives.grade.grid.tableCellAriaLabelEmptyReadOnly",params:{userName:i,assignmentName:s},noWrap:!0,noEscape:!0})}};w.OVERALL_EDITOR_TEMPLATE='<div bb-grade-grid-overall-editor-reborn id="bb-grade-grid-overall-editor-reborn" class="editor"></div>',w=Object(i.a)([Object(i.c)(0,Object(h.b)("$rootScope")),Object(i.c)(1,Object(h.b)("$window")),Object(i.c)(2,Object(h.b)("$q")),Object(i.c)(3,Object(h.b)(d.m.serviceName)),Object(i.c)(4,Object(h.b)(c.n)),Object(i.c)(5,Object(h.b)(r.b)),Object(i.c)(6,Object(h.b)("$compile")),Object(i.c)(7,Object(h.b)("scope")),Object(i.c)(8,Object(h.b)("element")),Object(i.c)(9,Object(h.b)("attrs")),Object(i.c)(10,Object(h.b)("gradeGridRebornController")),Object(i.c)(11,Object(h.b)(u.b)),Object(i.c)(12,Object(h.b)(m.serviceName)),Object(i.c)(13,Object(h.b)(p.b))],w);class A{constructor(e){this.$injector=e,this.restrict="E",this.template=k,this.scope=!0,this.require=`^${l.a}`,this.link=(e,t,n,i)=>{e.gradeGridColumnOverallReborn=this.$injector.instantiate(w,{scope:e,element:t,attrs:n,gradeGridRebornController:i})}}}A.$inject=["$injector"],s.module(I,[g.a]).directive("bbGradeGridColumnOverallReborn",["$injector",e=>e.instantiate(A)])}).call(this,n("71td"))},"9SWV":function(e,t){e.exports='<span ng-switch on="$ctrl.iconName" class="overflow-menu-icon">\n  <bb-ui-icon-small-course-complete ng-switch-when="course-complete"></bb-ui-icon-small-course-complete>\n  <bb-ui-icon-small-notes ng-switch-when="notes"></bb-ui-icon-small-notes>\n  <bb-ui-icon-small-safe-assign ng-switch-when="safe-assign"></bb-ui-icon-small-safe-assign>\n  <bb-ui-icon-small-numbered-list ng-switch-when="numbered-list"></bb-ui-icon-small-numbered-list>\n  <bb-ui-icon-small-exempt ng-switch-when="exempt"></bb-ui-icon-small-exempt>\n  <bb-svg-icon ng-switch-default size="small" icon="{{::$ctrl.iconName}}" status="{{::$ctrl.status}}"></bb-svg-icon>\n</span>\n'},"9Ss5":function(e,t){e.exports='<div class="element-image avatar no-select" aria-hidden="true"\n     ng-class="[avatarsClasses, {\'alert-outline\': isWarningRender}]"\n     bb-load-bundle="components/directives/avatar" bb-cache-compilation="avatar">\n  <div class="avatar-inner" ng-if="isAvatarRender && (!autoUpdate || !autoUpdate())">\n    <div ng-if="::(!first && !second)" class="first avatar-single">\n      \x3c!-- If no user is set --\x3e\n      <div class="initials">\n        <bb-translate>components.directives.avatar.notAssignedInitials</bb-translate>\n      </div>\n    </div>\n\n    <div ng-if="::(first && first.avatarUrl)" class="first avatar-single image-avatar">\n      <img ng-src="{{::first.avatarUrl}}" bb-image-grayscale="{{::isGray()}}" alt="" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.firstAvatarImg : null">\n      \x3c!-- If first user is set and has avatar image --\x3e\n    </div>\n\n    <div ng-if="::(first && !first.avatarUrl && first.userInitials)"\n         class="first avatar-single {{::first.avatarBg}}">\n      \x3c!-- If first user is set, but does not have avatar image, but has non-CJK name Will still render default--\x3e\n      <img ng-src="{{::first.avatarUrl}}" bb-image-grayscale="{{::isGray()}}" alt="" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.firstAvatarImg : null">\n    </div>\n\n    <div ng-if="::(first && !first.avatarUrl && !first.userInitials)"\n         class="first avatar-single avatar-placeholder">\n      \x3c!-- If first user is set, but does not have avatar image and name contains CJK characters --\x3e\n      \x3c!-- Show default avatar image --\x3e\n      <img ng-if="::(!first.isMultiUser)" src="./static/images/avatar-placeholder.svg" bb-image-grayscale="{{::isGray()}}" alt="" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.firstAvatarImg : null">\n      <div class="multi-user-id" ng-if="::(first.isMultiUser)">\n        <bb-ui-icon-large-users></bb-ui-icon-large-users>\n      </div>\n    </div>\n\n    <div ng-if="::(second && second.avatarUrl && participants == 2)" class="second avatar-single image-avatar">\n      <img ng-src="{{second.avatarUrl}}" bb-image-grayscale="{{::isGray()}}" alt="" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.firstAvatarImg : null">\n      \x3c!-- If second user is set and has avatar image --\x3e\n    </div>\n\n    <div ng-if="::(second && !second.avatarUrl && participants == 2 && second.userInitials)"\n         class="second avatar-single {{::second.avatarBg}}">\n      \x3c!-- If second user is set, but does not have avatar image, but has non-CJK name. Will still render default --\x3e\n      <img ng-src="{{second.avatarUrl}}" bb-image-grayscale="{{::isGray()}}" alt="" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.secondAvatarImg : null">\n    </div>\n\n    <div ng-if="::(second && !second.avatarUrl && participants == 2 && !second.userInitials)"\n         class="second avatar-single avatar-placeholder">\n      \x3c!-- If second user is set, but does not have avatar image and name contains CJK characters --\x3e\n      \x3c!-- Show default avatar image --\x3e\n      <img ng-if="::(!second.isMultiUser)" src="./static/images/avatar-placeholder.svg" bb-image-grayscale="{{::isGray()}}" alt="" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.secondAvatarImg : null">\n      <div class="multi-user-id" ng-if="::(second.isMultiUser)">\n        <bb-ui-icon-large-avatar-multiple></bb-ui-icon-large-avatar-multiple>\n      </div>\n    </div>\n\n    <div ng-if="participants > 2" class="second avatar-single">\n      \x3c!-- If more than 2 participants involved, show `+3` type of avatar for right side --\x3e\n      \x3c!-- htmlhint:analytics-id:disable --\x3e\n      <div class="initials" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.twoPlusAvatar">\n        <bb-translate translate-values=\'{num: participants - 1}\' aria-hidden="true">components.directives.avatar.twoPlusInitials</bb-translate>\n      </div>\n      \x3c!-- htmlhint:analytics-id:enable --\x3e\n    </div>\n  </div>\n\n  <div class="avatar-inner" ng-if="isAvatarRender && autoUpdate && autoUpdate()">\n\n    <div ng-if="!first && !second" class="first avatar-single">\n      \x3c!-- If no user is set --\x3e\n      \x3c!-- htmlhint:analytics-id:disable --\x3e\n      <div class="initials" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.firstAvatarImg : null">\n        <bb-translate>components.directives.avatar.notAssignedInitials</bb-translate>\n      </div>\n      \x3c!-- htmlhint:analytics-id:enable --\x3e\n    </div>\n\n    <div ng-if="first && first.avatarUrl" class="first avatar-single image-avatar">\n      <img ng-src="{{first.avatarUrl}}" bb-image-grayscale="{{isGray()}}" alt="" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.firstAvatarImg : null">\n      \x3c!-- If first user is set and has avatar image --\x3e\n    </div>\n\n    <div ng-if="first && !first.avatarUrl && first.userInitials"\n         class="first avatar-single {{first.avatarBg}}">\n      \x3c!-- If first user is set, but does not have avatar image, but has non-CJK name --\x3e\n      \x3c!-- Show default image --\x3e\n      <img src="./static/images/avatar-placeholder.svg" bb-image-grayscale="{{isGray()}}" alt="" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.firstAvatarImg : null">\n    </div>\n\n    <div ng-if="first && !first.avatarUrl && !first.userInitials"\n         class="first avatar-single avatar-placeholder">\n      \x3c!-- If first user is set, but does not have avatar image and name contains CJK characters --\x3e\n      \x3c!-- Show default avatar image --\x3e\n      <img ng-if="::(!first.isMultiUser)" src="./static/images/avatar-placeholder.svg" bb-image-grayscale="{{isGray()}}" alt="" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.firstAvatarImg : null">\n      <div class="multi-user-id" ng-if="::(first.isMultiUser)">\n        <bb-ui-icon-large-avatar-multiple></bb-ui-icon-large-avatar-multiple>\n      </div>\n    </div>\n\n    <div ng-if="second && second.avatarUrl && participants == 2" class="second avatar-single image-avatar">\n      <img ng-src="{{second.avatarUrl}}" bb-image-grayscale="{{isGray()}}" alt="" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.secondAvatarImg : null">\n      \x3c!-- If second user is set and has avatar image --\x3e\n    </div>\n\n    <div ng-if="second && !second.avatarUrl && participants == 2 && second.userInitials"\n         class="second avatar-single {{second.avatarBg}}">\n      \x3c!-- If second user is set, but does not have avatar image, but has non-CJK name --\x3e\n      \x3c!-- Show default image --\x3e\n      <img src="./static/images/avatar-placeholder.svg" bb-image-grayscale="{{isGray()}}" alt="" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.secondAvatarImg : null">\n    </div>\n\n    <div ng-if="second && !second.avatarUrl && participants == 2 && !second.userInitials"\n         class="second avatar-single avatar-placeholder">\n      \x3c!-- If second user is set, but does not have avatar image and name contains CJK characters --\x3e\n      \x3c!-- Show default avatar image --\x3e\n      <img ng-if="::(!second.isMultiUser)" src="./static/images/avatar-placeholder.svg"  bb-image-grayscale="{{isGray()}}" alt="" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.secondAvatarImg : null">\n      <div class="multi-user-id" ng-if="::(second.isMultiUser)">\n        <bb-ui-icon-large-avatar-multiple></bb-ui-icon-large-avatar-multiple>\n      </div>\n    </div>\n\n    <div ng-if="participants > 2" class="second avatar-single">\n      \x3c!-- If more than 2 participants involved, show `+3` type of avatar for right side --\x3e\n      \x3c!-- htmlhint:analytics-id:disable --\x3e\n      <div class="initials" analytics-id="analyticsIdTagPrefix ? {{::analyticsIdTagPrefix}}.twoPlusAvatar : null">\n        <bb-translate translate-values=\'{num: participants - 1}\' aria-hidden="true">components.directives.avatar.twoPlusInitials</bb-translate>\n      </div>\n      \x3c!-- htmlhint:analytics-id:enable --\x3e\n    </div>\n  </div>\n</div>\n'},"9V5A":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("3yh1");const a="ultra.components.directives.bbUiIcon.large.LearningModule";Object(i.a)(s.a,a,"bbUiIconLargeLearningModule")},"9ZjI":function(e,t){e.exports='<bb-modal id="notification-modal-api-error"\n          class="notification error-not-found-modal"\n          modal-title-key="components.services.error-modal.error-not-found.title"\n          analytics-id-tag-prefix="components.services.error-modal.error-not-found">\n  <div name="modal-contents">\n    <p bb-translate>components.services.error-modal.error-not-found.description</p>\n    <pre>{{ response | json }}</pre>\n    <bb-session-debug-modal-button></bb-session-debug-modal-button>\n  </div>\n  <button name="modal-footer-button-primary"\n          class="button large reload-page-button js-primary-button"\n          onclick="location.reload(true)"\n          analytics-id="components.services.error-modal.reloadPage"\n          bb-translate>components.services.error-modal.reloadPage</button>\n</bb-modal>\n'},"9Zs+":function(e,t){e.exports='<div bb-grade-grid-menu-reborn id="{{id}}" class="reborn-dropdown-menu">\n  <ul class="f-dropdown f-dropdown-overflow-menu reborn-dropdown" role="menu">\n    <li role="presentation">\n      <a role="menuitem"\n         class="js-add-calculation"\n         bb-peek-sref="gradebook-item.calculation({positionAfter: positionAfter})"\n         analytics-id="components.directives.grade.grid.addCalculation">\n        <bb-svg-icon size="small" icon="calculation"></bb-svg-icon>\n        <bb-translate>components.directives.grade.grid.addCalculation</bb-translate>\n      </a>\n    </li>\n\n    <li role="presentation">\n      <a role="menuitem"\n         class="js-add-item"\n         bb-peek-sref="grade-item.create({positionAfter: positionAfter})"\n         analytics-id="components.directives.grade.grid.addItem">\n        <bb-svg-icon size="small" icon="add"></bb-svg-icon>\n        <bb-translate>components.directives.grade.grid.addItem</bb-translate>\n      </a>\n    </li>\n\n    <li role="presentation" ng-if="!attendanceColumnExists && attendanceIsAvailable">\n      <a role="menuitem"\n         bb-peek-sref="attendance"\n         analytics-id="components.directives.grade.grid.addAttendance">\n        <bb-svg-icon size="small" icon="attendance" ></bb-svg-icon>\n        <bb-translate>components.directives.grade.grid.addAttendance</bb-translate>\n      </a>\n    </li>\n  </ul>\n</div>'},"9hUw":function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return C}));var i=n("D57K"),s=n("VdDF"),a=n("DN+C"),o=n("Llzl"),r=n("VAMW"),l=n("6fZB"),c=n("IbyE"),d=n("zGdY"),u=n("nsO7"),m=n("9OUN"),p=n("aHpC"),h=n("nmzr"),g=n("TnpK"),b=n("fYJU"),f=n("12mu"),v=n("0JpG"),y=n("Fvsw"),k=n("U50L"),x=n("aPUy");const S="ultra.components.services.assessment.peerReview",C="peerReview";let E=class{constructor(e,t,n,i,s,a,o,r,l,c,d){this.$rootScope=e,this.$ngRedux=t,this.localizeService=n,this.contextUser=i,this.modal=s,this.ultraState=a,this.context=o,this.$q=r,this.courseId=l,this.contentId=c,this.columnId=d,this.reviewableAttemptsOnly=[],this.deletedAttemptsOnly=[],this.hasLoadedReviewableAttempts=!1}initPeerContentObject(){this.subscribeToReduxStore();const{courseId:e,contentId:t,columnId:n}=this,i=[];return this.content||i.push(this.loadContents({courseId:e,contentId:t}).then((()=>this))),this.column||i.push(this.loadGradebookColumn({courseId:e,columnId:n}).then((()=>this))),this.$q.all(i).then((()=>this))}subscribeToReduxStore(){this.unsubscribeFromReduxStore=this.$ngRedux.connect((e=>{var t;const n=this.courseId,i=this.columnId,s=this.contextUser.userId;return{reviewableAttemptsOnly:Object(u.sortBy)(c.gc.gradebookAttempt.getReviewableGradebookAttempts(e,n,i,s),["delegatedGraderOrder"]),deletedAttemptsOnly:c.gc.gradebookAttempt.getDeletedReviewableGradebookAttempts(e,i),content:c.gc.content.getContentById(e,this.contentId),column:c.gc.gradebookColumn.getGradebookColumnById(e,i),assessmentHasEnoughSubmissions:null===(t=c.gc.assessment.getAssessmentByContentId(e,this.contentId))||void 0===t?void 0:t.hasEnoughPeerSubmissions}}),(e=>Object(m.b)({assignNewAttemptForPeerReview:c.X.gradebookAttempt.assignNewAttemptForPeerReview,loadGradebookAttemptsByColumnId:c.X.gradebookAttempt.loadGradebookAttemptsByColumnId,loadGradebookColumn:c.X.gradebookColumn.loadGradebookColumn,loadContents:c.X.content.loadContents},e)))(this)}canPeerViewAttempt(e,t){if(!this.peerGrading||!t)return!1;const n=this.reviewableAttempts.some((e=>e.id===t.id)),i=this.contextUser.userId===t.userId;return!!(n||i)}canDelegatedReconcileAttempt(e){return e.delegatedGrading&&e.isUserReconciler(this.contextUser.userId)}canPeerReviewAttempt(e,t){return this.canPeerViewAttempt(e,t)&&t.userId!==this.contextUser.userId&&!this.canDelegatedReconcileAttempt(e)}canPeerAddFeedbackToAttempt(e,t){return this.canPeerReviewAttempt(e,t)&&!t.isReconciled()&&d.l.Completed!==t.status}get completedPeerReviews(){return this.peerGrading?this.reviewableAttempts.filter((e=>d.l.Completed===(null==e?void 0:e.status))).length:0}openNotEnoughStudentSubmissionsModal(){const e=this.$rootScope.$new();e.translateOpts={title:{key:"components.services.peer-review.modal.error-not-enough-submissions.title"}},e.descriptionKey="components.services.peer-review.modal.error-not-enough-submissions.description";const t={scope:e,template:k,resolve:{translations:[v.serviceName,e=>e.loadBundle("components/services/peer-review")]}};this.modal.open(t)}getReviewableAttemptByDelegatedGraderOrder(e){return this.reviewableAttempts.find((t=>t.delegatedGraderOrder===e))}assignNewPeerReview(){if(!this.peerGrading||this.reviewableAttempts.length===this.numOfPeerReviewsToComplete)return this.$q.resolve(null);const e=this.hasDeletedAttempts?this.deletedAttempts[0].delegatedGraderOrder:null;return this.$q.when(this.assignNewAttemptForPeerReview({courseId:this.column.courseId,columnId:this.column.id,userId:this.contextUser.userId})).then((()=>{const t=null!=e?e:this.reviewableAttempts.length-1;return Object(x.a)(this.$rootScope,{listIndex:t,reviewableAttempt:this.reviewableAttempts[t]}),this.reviewableAttempts[t]})).catch((e=>{throw e instanceof c.e&&this.openNotEnoughStudentSubmissionsModal(),e}))}navigateToPeerReview(e){if(!this.peerGrading)return this.$q.resolve();if(null===this.getReviewableAttemptByDelegatedGraderOrder(e))return this.$q.reject(new Error("Cannot navigate to a row that does not exist"));const t=this.getReviewableAttemptByDelegatedGraderOrder(e),n={courseId:this.column.courseId,columnId:this.column.id,userId:this.contextUser.userId,attemptId:null==t?void 0:t.id,gradeId:null==t?void 0:t.gradeId,initialPeerIndex:e};return this.ultraState.goPeekState(`${h.c.ASSESSMENT_PEER_GRADING}`,n)}loadReviewableAttempts(){var e;return!this.peerGrading||this.loadReviewableAttemptsPromise||this.hasLoadedReviewableAttempts?null!==(e=this.loadReviewableAttemptsPromise)&&void 0!==e?e:this.$q.resolve(this):(this.loadReviewableAttemptsPromise=this.$q.when(this.loadGradebookAttemptsByColumnId({courseId:this.column.courseId,columnId:this.column.id,reviewableAttemptsOnly:!0})).then((()=>(this.hasLoadedReviewableAttempts=!0,this))),this.loadReviewableAttemptsPromise)}get reviewableAttempts(){var e;return this.peerGrading&&null!==(e=this.reviewableAttemptsOnly)&&void 0!==e?e:[]}get deletedAttempts(){var e;return this.peerGrading&&null!==(e=this.deletedAttemptsOnly)&&void 0!==e?e:[]}get hasEnoughSubmissionsForPeerAssessment(){var e;return null!==(e=this.assessmentHasEnoughSubmissions)&&void 0!==e&&e}get hasDeletedAttempts(){return this.deletedAttempts.length>0}get numberOfLatePeerReviews(){return this.peerGrading?this.reviewableAttempts.filter((e=>this.isAfterPeerReviewDueDate(e.attemptLastGradedDate)&&d.l.Completed===e.status)).length:null}get numberOfStartedPeerReviews(){if(!this.peerGrading)return null;return this.reviewableAttempts.filter((e=>d.l.NeedsGrading===e.status)).length+this.deletedAttempts.length}get peerGrading(){var e;return!!(null===(e=this.column)||void 0===e?void 0:e.peerGrading)}get numOfPeerReviewsToComplete(){var e;return this.peerGrading?null===(e=this.content.peerSettings)||void 0===e?void 0:e.peerReviewsPerStudent:null}parseCurrentStringToDateAndMemoize(e){return s.a.parseStringToDate(e)}get peerSubmissionDueDate(){return this.peerGrading?this.parseCurrentStringToDateAndMemoize(this.column.dueDate):null}get peerReviewDueDate(){var e;return this.peerGrading?this.parseCurrentStringToDateAndMemoize(null===(e=this.content.peerSettings)||void 0===e?void 0:e.peerReviewDueDate):null}get allowLatePeerReviews(){return!!this.peerGrading&&!!this.content.peerSettings.allowLatePeerReviews}get isPeerGradingConfigured(){return!!this.peerGrading&&(null!=this.numOfPeerReviewsToComplete&&null!=this.peerReviewDueDate)}get isInPeerReviewWindow(){return!this.isAfterPeerReviewDueDate()&&this.isAfterPeerSubmissionDueDate()}get isAfterPeerReviewWindow(){return this.isAfterPeerReviewDueDate()}isAfterPeerReviewDueDate(e){var t;if(!this.peerGrading)return!1;const n=null!==(t=s.a.parseStringToDate(e))&&void 0!==t?t:new Date;return s.a.isWithinDateRange(n,{end:null,start:this.peerReviewDueDate},!1)}isAfterPeerSubmissionDueDate(e){var t;if(!this.peerGrading)return!1;const n=null!==(t=s.a.parseStringToDate(e))&&void 0!==t?t:new Date;return s.a.isWithinDateRange(n,{end:null,start:this.peerSubmissionDueDate},!1)}};Object(i.a)([Object(a.LRUMemoize)()],E.prototype,"parseCurrentStringToDateAndMemoize",null),E=Object(i.a)([Object(i.c)(0,Object(p.b)("$rootScope")),Object(i.c)(1,Object(p.b)("$ngRedux")),Object(i.c)(2,Object(p.b)(v.serviceName)),Object(i.c)(3,Object(p.b)(b.b)),Object(i.c)(4,Object(p.b)(f.b)),Object(i.c)(5,Object(p.b)(g.d)),Object(i.c)(6,Object(p.b)(y.b)),Object(i.c)(7,Object(p.b)("$q")),Object(i.c)(8,Object(p.b)("courseId")),Object(i.c)(9,Object(p.b)("contentId")),Object(i.c)(10,Object(p.b)("columnId"))],E);class I{constructor(e){this.service=e,this.key=r.d.PeerReview}getOrCreatePeerContentFromContent(e){return Object(l.a)(this.service.getOrCreatePeerContentFromContent(e))}}let w=class{constructor(e,t,n){this.$injector=e,this.$q=t,this.localizeService=n,this.peerContentMap=new Map,Object(r.f)(new I(this))}getPeerContent(e){return this.peerContentMap.get(e)}createPeerContent(e,t,n){const i=this.$injector.instantiate(E,{courseId:e,contentId:t,columnId:n});return this.peerContentMap.set(t,i),i.initPeerContentObject()}getOrCreatePeerContent(e,t,n){const i=this.getPeerContent(t);return i?this.$q.resolve(i):this.createPeerContent(e,t,n)}getDeployedAssessment(e){return(null==e?void 0:e.contentDetail)&&e.getDeployedAssessment()}getOrCreatePeerContentFromContent(e){var t,n;if(!e)return this.$q.resolve(null);const{courseId:i,id:s}=e,a=null===(n=null===(t=this.getDeployedAssessment(e))||void 0===t?void 0:t.gradingColumn)||void 0===n?void 0:n.id;return i&&s&&a?this.getOrCreatePeerContent(i,s,a):this.$q.resolve(null)}getOrCreatePeerContentWithAttemptsFromContent(e){return this.getOrCreatePeerContentFromContent(e).then((e=>null==e?void 0:e.loadReviewableAttempts()))}getOrCreatePeerContentFromColumn(e){if(!e)return this.$q.resolve(null);const{courseId:t,contentId:n,id:i}=e;return t&&n&&i?this.getOrCreatePeerContent(t,n,i):this.$q.resolve(null)}getOrCreatePeerContentWithAttemptsFromColumn(e){return this.getOrCreatePeerContentFromColumn(e).then((e=>null==e?void 0:e.loadReviewableAttempts()))}isPeerEvaluationItem(e){return c.Q.PeerEvaluationTest.isEqualTo(e)}wrapPeerEvaluationItemTitle(e,t){return this.localizeService.translateSync({locale:t,key:"components.services.peer-review.peerEvaluationTitleWrapper",params:{itemTitle:e},noWrap:!0,noEscape:!0})}};w=Object(i.a)([Object(i.c)(0,Object(p.b)("$injector")),Object(i.c)(1,Object(p.b)("$q")),Object(i.c)(2,Object(p.b)(v.serviceName))],w);o.module(S,[v.moduleName,b.a,f.a,g.b,y.a]).service(C,w)},"9hVN":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var i=n("D57K"),s=n("Llzl"),a=n("sgjL"),o=n("TnpK"),r=n("lEL+"),l=n("nmzr"),c=n("g66W"),d=n("aHpC");const u="ultraUi.components.services.contentCollection",m="ContentCollection";let p=class{constructor(e,t,n,i){this.$q=e,this.postMessageDispatcherService=t,this.stateService=n,this.timeoutService=i}handleContentCollectionResponse(e,t=null){this.postMessageDispatcherService.registerEventHandler("classic-picker-cancel",((t,n)=>{this.timeoutService((()=>{c.d(this.stateService.current.name,"peek.content-collection-picker")&&this.stateService.leavePeekState(this.stateService.current.name),window!==n&&n.close()}),e,0)}),e),this.postMessageDispatcherService.registerEventHandler("classic-picker-submit",((n,i)=>{this.timeoutService((()=>{t?e.$emit("bb-bbml-editor-add-from-content-collection",t,n.items):this.getCcFilesDeferred.resolve(n.items),c.d(this.stateService.current.name,"peek.content-collection-picker")&&this.stateService.leavePeekState(this.stateService.current.name),window!==i&&i.close()}),e,0)}),e,!0)}getOpenContentCollectionFunction(e){return t=>{this.handleContentCollectionResponse(e),this.getCcFilesDeferred=this.$q.defer(),this.getCcFilesDeferred.promise.then((e=>{t(e)})),this.stateService.goPeekState(l.h.CONTENT_COLLECTION_PICKER,{pickerType:"File",multi:"true"})}}};p=Object(i.a)([Object(i.c)(0,Object(d.b)("$q")),Object(i.c)(1,Object(d.b)(a.b)),Object(i.c)(2,Object(d.b)(o.d)),Object(i.c)(3,Object(d.b)(r.b))],p),s.module(u,[]).service(m,p)},"9hp7":function(e,t){e.exports='<div bb-load-bundle="components/directives/add-content-button">\n  <div class="add-element no-select js-add-content-button {{::contextArea + \'-add-button\'}}"\n       ng-class="{\n         \'force-show-add-button\': addContentButton.isForceShowAddButton && addContentButton.isForceShowAddButton(),\n         \'is-active\': addContentButton.isMenuVisible,\n         \'button-visible\': addContentButton.isButtonVisible,\n         hide: hideDividerLines() && !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)\n       }"\n       ng-keydown="addContentButton.onKeydown($event)">\n    <template></template>\n  </div>\n  <div id="{{::fileListViewId}}">\n    <bb-progress display-results="false" primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId" target-div="{{::\'#\' + fileListViewId}}"></bb-progress>\n  </div>\n</div>'},"9p8+":function(e,t){e.exports='<bb-modal id="notification-modal-api-error"\n          class="notification"\n          modal-title-key="components.services.error-modal.error-discussion-due-date.title"\n          analytics-id-tag-prefix="components.services.error-modal.error-discussion-due-date">\n  <div name="modal-contents">\n    <p bb-translate>components.services.error-modal.error-discussion-due-date.description</p>\n  </div>\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button js-primary-button"\n          analytics-id="components.services.error-modal.error-discussion-due-date.ok"\n          bb-translate>global.ok</button>\n</bb-modal>\n'},"9zo4":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return m}));n("my/J");var i=n("Llzl"),s=n("71td"),a=n("XGja"),o=n("+4Px"),r=n("lUN/"),l=n("tMbR");const c="ultra.services.accessibility",d="accessibility";class u{constructor(e){this.$rootScope=e,this.FOCUSED_ELEMENT="focusedElement",this.FOCUS_SELECTOR_OVERRIDE="focusSelectorOverride",this.isFocusDelayed=!1,this.panelInfoStack=[{panelElement:s(document.body)}],this.currentPanelInfo=this.panelInfoStack[this.panelInfoStack.length-1],this.activePanel=this.currentPanelInfo.panelElement,this.isFocusedElementInFocusTrap=()=>!!s(document.activeElement).closest(".ms-FocusTrapZone").length,this.focusCorrectElementOnPanel=function(e=this.activePanel){if(this.isFocusDelayed=!1,Object(l.b)())return;const t=s(".ms-Callout");if(t&&t.length)return;const n=s(".ms-Modal");if(n&&n.length)return;const i=s(".datepicker-dropdown");if(i&&i.length)return;const o=s('div[class*="MuiDialogcontainer"]');if(o&&o.length)return;const r=s('div[data-analytics-id="course.outline.oneDriveFilePickerLTIModal"]');if(null==r?void 0:r.length)return;const c=s('div[class*="MuiPopoverroot"]');if(null==c?void 0:c.length)return;if(this.isFocusedElementInFocusTrap())return;const d=e.find("[bb-focus]");if(d&&d.length){const e=d.first();if(e.trigger("focus"),this.elementHasFocus(e))return}const u=e.find("h1").filter(":visible");if(u&&u.length){const e=u.first();if(a.a(e),this.elementHasFocus(e))return}const m=e.find(":tabbable:not(.bb-close, .non-first-focus):first");m&&m.length&&(m.trigger("focus"),this.elementHasFocus(m))||a.a(e)},this.elementHasFocus=e=>e.is(s(document.activeElement)),this.isElementInActivePanel=e=>e.hasClass("pagehelp-directive-link")||!!e.closest(".focus-handling-disabled").size()||this.isElementInPanel(this.activePanel,e),this.isElementInPanel=(e,t)=>e.is(t)||s.contains(e[0],s(t)[0]),this.applyFocusinHandler=()=>{s("body").off("focusin.axService"),s("body").on("focusin.axService",(e=>{const t=s(e.target);this.isFocusDelayed||this.isElementInActivePanel(t)||this.focusCorrectElementOnPanel(this.activePanel)}))},this.removeFocusinHandler=()=>{s("body").off("focusin.axService")},this.backgroundElementsStack=[],r.a(),this.applyFocusinHandler();const t=e=>{this.isElementInActivePanel(s(e.target))||this.removeFocusinHandler()};s("body").on("mousedown",t),e.$on("$destroy",(()=>{s("body").off("mousedown",t)}))}applyAccessibilityHandlingForPanel(e){this._storeFocusedElement(),this._setActivePanel(e),this._applyTabCapture(),this.ariaHideBackgroundElements()}revertAccessibilityHandling(){this.ariaShowBackgroundElements(),this._revertTabCapture(this.currentPanelInfo),this._restoreActivePanel(),this._restoreFocusedElement()}_setActivePanel(e){this.activePanel=null,this.activePanel=e,this.currentPanelInfo={panelElement:e,overlayDisabled:e.hasClass("overlay-disabled"),panelFocusHandlingDisabled:e.hasClass("focus-handling-disabled")},this.panelInfoStack.push(this.currentPanelInfo),s(".bb-offcanvas-panel").removeClass("panel-has-focus"),this.activePanel.addClass("panel-has-focus"),this.applyFocusinHandler()}_restoreActivePanel(){this.panelInfoStack.length<2&&(this._setActivePanel(s(document.body)),this._setActivePanel(s(document.body)));this.panelInfoStack.pop().panelElement=null,this.currentPanelInfo=this.panelInfoStack[this.panelInfoStack.length-1],this.activePanel=null,this.activePanel=this.currentPanelInfo.panelElement,s(".bb-offcanvas-panel").removeClass("panel-has-focus"),this.activePanel.addClass("panel-has-focus"),this.applyFocusinHandler()}ariaHideBackgroundElements(e=!0){const t=s('.hide-in-background[aria-hidden!="true"]');t.attr("aria-hidden","true"),this.backgroundElementsStack.push(t),e&&this.activePanel.attr("aria-hidden","false")}ariaShowBackgroundElements(){if(this.backgroundElementsStack.length<1)throw s(".hide-in-background").attr("aria-hidden","false"),new Error("Tried to set aria-hidden=false for background elements, but there were no background elements in the stack.");let e=this.backgroundElementsStack.pop().attr("aria-hidden","false");e=null}setFocusOverrideOnPanel(e,t){if(!t)throw new Error("A panel selector is required to override focus on a panel");for(let n=this.panelInfoStack.length-1;n>=0;n--)if(this.panelInfoStack[n].panelElement.find(t).addBack(t).length){this.panelInfoStack[n].panelElement.data(this.FOCUS_SELECTOR_OVERRIDE,e);break}}_storeFocusedElement(){let e=s(document.activeElement);!m.isLastNavigationByKeyboard&&m.lastClickedElement&&m.lastClickedElement.length&&(e=m.lastClickedElement),this.activePanel.data(this.FOCUSED_ELEMENT,e),e=null}_restoreFocusedElement(){if(this.isFocusDelayed=!1,this.activePanel.data(this.FOCUS_SELECTOR_OVERRIDE)){const e=this.activePanel.find(this.activePanel.data(this.FOCUS_SELECTOR_OVERRIDE)).addBack(this.activePanel.data(this.FOCUS_SELECTOR_OVERRIDE)).first();e.length&&this.activePanel.data(this.FOCUSED_ELEMENT,e),this.activePanel.data(this.FOCUS_SELECTOR_OVERRIDE,"")}let e=this.activePanel.data(this.FOCUSED_ELEMENT);e&&0!==e.length&&e.focus(),e&&e.length&&s(document.activeElement).is(e)||this.focusCorrectElementOnPanel(this.activePanel),this.activePanel.removeData(this.FOCUSED_ELEMENT),e=null}_applyTabCapture(){this.activePanel.on("keydown",(e=>{if(e.keyCode===o.u&&!this.currentPanelInfo.tabCalled){let e=this.activePanel.data("axMutationObserver");e||(e=new MutationObserver((()=>{this.currentPanelInfo.tabCalled=!1})),e.observe(this.activePanel[0],{childList:!0,attributes:!0,subtree:!0}),this.activePanel.data("axMutationObserver",e));const t=s(this.activePanel).find("*").addBack();this._conditionallyUpdateSkipLinkFocus(),s(":tabbable, .ax-tabbable").not(".bb-ax-background-tabindex").add(s('a[tabindex!="-1"]').filter((function(){return 0===s(this).height()&&0===s(this).width()}))).filter((function(){return 0===s(this).closest(".focus-handling-disabled").size()})).add(s('div.editor-element[tabindex!="-1"]')).not(t).not(s(".pagehelp-directive-link")).add(s('div.panel-wrap[tabindex!="-1"]')).each((function(){s(this).data("originalTabindex",this.getAttribute("tabindex"))})).attr("tabindex","-1").addClass("bb-ax-background-tabindex"),this.currentPanelInfo.tabCalled=!0}}))}_revertTabCapture(e,t){const n=t||s(document);n.find(".bb-ax-background-tabindex").each((function(){const e=s(this);null==e.data("originalTabindex")?e.removeAttr("tabindex"):e.attr("tabindex",e.data("originalTabindex")),e.removeAttr("originalTabindex")})).removeClass("bb-ax-background-tabindex"),n.data("axMutationObserver")&&n.data("axMutationObserver").disconnect()}_revertTabCaptureForActivePanel(){this._revertTabCapture(this.currentPanelInfo)}_conditionallyUpdateSkipLinkFocus(){this.currentPanelInfo.overlayDisabled&&!this.currentPanelInfo.panelFocusHandlingDisabled&&this.panelInfoStack.length>1&&this._revertTabCapture(this.panelInfoStack[this.panelInfoStack.length-2],this.activePanel)}}u.isLastNavigationByKeyboard=!1,u.$inject=["$rootScope"];class m extends u{}i.module(c,[]).service(d,u)},"A+IJ":function(e,t,n){"use strict";n.d(t,"k",(function(){return i})),n.d(t,"l",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"m",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return g}));const i=1,s=2,a="#c575d2",o="#1874a4",r="#333333",l="#666666",c="#e5e5e5",d="#cdcdcd",u="#ffffff",m="#f0f0f0",p="Open Sans",h=`600 12px ${p}`,g=`700 12px ${p}`},A4cK:function(e,t){e.exports="<div ng-transclude></div>"},AVdi:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var i=n("D57K"),s=(n("dY8P"),n("5uNO"),n("w0/N"),n("6BRP"),n("zexu"),n("nsO7")),a=n("Llzl"),o=n("0JpG"),r=n("12mu"),l=n("BJLZ"),c=n("XGja"),d=n("d8yC"),u=n("yMoE"),m=n("o5Lu"),p=n("p7NW"),h=n("dd1C"),g=n("+4Px"),b=n("pjml"),f=n("lEL+"),v=n("t3AZ"),y=n("TnpK"),k=n("m2KQ"),x=n("aHpC"),S=n("zGdY"),C=n("ho2F"),E=n("7kzC");n.d(t,"b",(function(){return E}));var I=n("RjAI"),w=n("IbyE"),A=n("9OUN");const O="ultra.components.directives.grade.gradeInput";let D=class t{constructor(n,i,s,a,o,r,l,c,d,m,p,h,b,f,v,y,k,x){this.$rootScope=n,this.$compile=i,this.$q=s,this.$injector=a,this.$ngRedux=o,this.scope=r,this.element=l,this.attrs=c,this.form=d,this.bbLocalize=m,this.grade=p,this.AttemptModel=h,this.GradeModel=b,this.GroupAttemptModel=f,this.CourseModel=v,this.timeout=y,this.ultraState=k,this.$modal=x,this.alertScreenReaderNewGrade=!1,this.gradeDisplayItem=this.$injector.instantiate(u.a,{gradeDetail:this.scope.gradeDetail,scope:this.scope}),this.id=this.attrs.id,this.isSaving=!1,this.wrapperDiv=this.element.find("."+t.WRAPPER_CLASS),this.inputElement=this.wrapperDiv.find("input"),this.isWrapperDivClickHandled=!1,this.gradeNotationsWrapperSelector=this.scope.gradeNotationsWrapperSelector||"body",this.inputElementBluredByTab=!1,this.isProcessingFocusEvent=!1,this.onDismissCallback=()=>{this.gradeDialog.isVisible=!1,this.form[this.id].$setPristine(),this.inputElement.blur(),this.inputElement.focus(),this.inputElement.select()},this.onSuccessCallback=()=>{this.gradeDialog.isVisible=!1,this.validateAndSave(!0).finally((()=>{this.setFocusOnNextTabbableElement()}))},this.closeModal=e=>{e?this.modalInstance.close():this.modalInstance.dismiss()},this.overrideDialogScope=r.$new(),this.subscribeToRedux(),this.wrapperDiv.on("click",(()=>{this.isRubricEvalMode()||(this.isWrapperDivClickHandled=!0,this.scope.onClick&&!this.isReadOnly()&&this.scope.onClick(),this.wrapperDiv.addClass(t.WRAPPER_FOCUS_CLASS),this.inputElement.is(":focus")||(this.inputElement.focus(),this.inputElement.select()))})),this.inputElement.on("click",(t=>{e("#performanceCodes-"+this.id).hasClass("f-open-dropdown")&&(t.preventDefault(),t.stopPropagation())})),this.inputElement.on("focus",(n=>{if(!this.isProcessingFocusEvent){this.isProcessingFocusEvent=!0;try{n.preventDefault(),n.stopPropagation(),this.wrapperDiv.addClass(t.WRAPPER_FOCUS_CLASS),this.inputElement.select(),this.scope.$emit("grade-input-in-focus",this.id);const i=e("#performanceCodes-"+this.id);this.scope.offsetTop&&this.scope.offsetTop()||i.addClass("show"),this.isWrapperDivClickHandled||this.timeout((()=>{i&&!i.hasClass("f-open-dropdown")&&(this.inputElement.trigger("click.fndtn.dropdown"),this.scope.offsetTop&&this.repositionGradeNotationDropdown(i))}),this.scope,0,!1)}finally{this.isProcessingFocusEvent=!1}}})),this.inputElement.on("keydown",(t=>{const n=e("#performanceCodes-"+this.id);if(n&&n.hasClass("f-open-dropdown")&&t.keyCode===g.u&&!t.shiftKey){this.inputElementBluredByTab=!0;const e=n.find(":tabbable");e&&(e.first().focus(),t.preventDefault(),t.stopPropagation())}else(t.keyCode===g.f||t.keyCode===g.m||t.keyCode===g.u&&!t.shiftKey)&&(t.preventDefault(),this.inputElement.is(":focus")&&this.inputElement.trigger("click.fndtn.dropdown"),this.shouldShowModal()?this.openOverrideDialog():this.$q.when(this.validateAndSave()).finally((()=>{this.gradeDialog.isVisible||this.setFocusOnNextTabbableElement()})))})),this.element.foundation(),this.scope.$watch("::column",(e=>{e&&(this.courseId=e.courseId,this.gradeDisplayItem.init(e).then((()=>{this.attrs.gradeDetail&&this.scope.$watchGroup(["gradeDetail.id","gradeDetail.displayGrade","gradeDetail.ui.attempt.displayGrade","gradeDetail.isExempt","isGroupGradeInProgress()","isGroupGradeMultiple()","column.gradingSchemaId","column.possible"],(e=>{this.isSaving||this.refreshInputBox()}))})),e.externalGrade?this.errorMessageKey="components.directives.grade.grade-input.errorMessage.overallGrade":this.errorMessageKey="components.directives.grade.grade-input.errorMessage.default")})),this.buildGradeDialog()}buildGradeDialog(){this.gradeDialog={isVisible:!1,textContent:{title:this.getStringFromLocale("components.directives.grade.grade-input.clearConfirmationDialog.title"),body:this.getStringFromLocale("components.directives.grade.grade-input.clearConfirmationDialog.body"),secondaryButtonText:this.getStringFromLocale("components.directives.grade.grade-input.clearConfirmationDialog.secondaryButtonText"),primaryButtonText:this.getStringFromLocale("components.directives.grade.grade-input.clearConfirmationDialog.primaryButtonText")},onDismiss:this.onDismissCallback,onSuccess:this.onSuccessCallback}}openOverrideDialog(){var t;if(!(null===(t=this.modalInstance)||void 0===t?void 0:t.opened)){const t=this.scope.gradeDetail?this.scope.gradeDetail.getScore():"",n=this.getTruncatedPointsPossible(),i=this.bbLocalize.parseNumberSync(this.gradeDisplayItem.displayValue),s=d.b(this.grade.pointToPercentage(i,n),2);return this.overrideDialogScope.closeModal=this.closeModal,this.overrideDialogScope.grade=s,this.modalInstance=this.$modal.open({template:E,scope:this.overrideDialogScope,resolve:{translations:[o.serviceName,e=>e.loadBundle("components/directives/grade/grade-input")]}}),this.modalInstance.result.then((()=>(this.timeout((()=>{e("#performanceCodes-"+this.id).remove()}),this.scope,0,!1),this.validateAndSave())),(()=>{this.gradeDisplayItem.displayValue=t,this.onDismissCallback()})).finally((()=>{this.modalInstance.opened=null}))}}shouldShowModal(){var e;return(null===(e=this.scope.column)||void 0===e?void 0:e.externalGrade)&&this.isScoreSchema()&&this.isFormValid()&&this.isFormDirty()&&this.scoreHasChanged()&&""!==this.gradeDisplayItem.displayValue&&!this.isGradesComplete()}getStringFromLocale(e){return this.bbLocalize.translateSync({key:e,locale:this.bbLocalize.getLocale(this.scope)})}isFormDirty(){return this.form[this.id].$dirty}isFormValid(){return this.form[this.id].$valid}repositionGradeNotationDropdown(e){const t=this.inputElement.closest(this.gradeNotationsWrapperSelector).height(),n=e.position()&&e.position().top;let i=n+e.height();if(this.scope.offsetTop&&this.scope.offsetTop()){const t=n+2*this.scope.offsetTop();e.css("top",t),e.addClass("show"),i=t+e.height()}i>t&&this.scope.$root.$broadcast("performance-dropdown-container-height-update",i-t+30)}showGradeNotationDropdown(){e("#performanceCodes-"+this.id).length>0&&e("#performanceCodes-"+this.id).remove();const t=this.$compile(C)(this.scope);this.inputElement.closest(this.gradeNotationsWrapperSelector).append(t),this.scope.offsetTop&&this.isWrapperDivClickHandled&&this.repositionGradeNotationDropdown(t),t.on("keydown",(n=>{if(n.keyCode!==g.u||n.shiftKey)n.keyCode===g.g&&(n.preventDefault(),n.stopPropagation(),this.inputElement.trigger("click.fndtn.dropdown"),this.timeout((()=>{e("#performanceCodes-"+this.id).remove()}),this.scope,0,!1),this.$q.when(this.validateAndSave()).finally((()=>{this.gradeDialog.isVisible||this.setFocusOnNextTabbableElement()})));else{const e=t.find(":tabbable");e.last().is(":focus")&&(n.preventDefault(),e.eq(0).focus())}})),this.element.foundation()}refreshInputBox(){var e,t,n,i,s;const a=this.scope.gradeDetail&&this.scope.gradeDetail.id,o=this.scope.gradeDetail&&this.scope.gradeDetail.displayGrade,r=this.scope.isGroupGradeInProgress&&this.scope.isGroupGradeInProgress(),l=this.scope.isGroupGradeMultiple&&this.scope.isGroupGradeMultiple(),c=this.scope.column.gradingSchemaId;this.gradeDisplayItem.gradeDetail=this.scope.gradeDetail,this.gradeDisplayItem.schema.id!==c&&this.gradeDisplayItem.init(this.scope.column),a&&o&&!this.scope.gradeDetail.isExempt?(this.gradeDisplayItem.displayGrade=o,this.updateGradeColor()):r&&!this.scope.gradeDetail.isExempt?(this.gradeDisplayItem.displayValue=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.services.grade.in_progress"}),this.gradeDisplayItem.parsedValue="",this.updateGradeColor()):l&&!this.scope.gradeDetail.isExempt?(this.gradeDisplayItem.displayValue=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.services.grade.multiple"}),this.gradeDisplayItem.parsedValue="",this.updateGradeColor()):o&&!this.scope.gradeDetail.isExempt?this.gradeDisplayItem.displayGrade=o:l&&this.scope.gradeDetail.isExempt?(this.gradeDisplayItem.displayValue=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.services.grade.noValue"}),this.gradeDisplayItem.parsedValue="",this.updateGradeColor()):!(null===(e=this.scope.gradeDetail)||void 0===e?void 0:e.isExempt)||!(null===(n=null===(t=this.scope.gradeDetail)||void 0===t?void 0:t.displayGrade)||void 0===n?void 0:n.isOverride)&&(null===(s=null===(i=this.scope.gradeDetail)||void 0===i?void 0:i.displayGrade)||void 0===s?void 0:s.scoredByAutomaticZero)?this.gradeDisplayItem.displayGrade=null:(this.gradeDisplayItem.displayGrade=o,this.updateGradeColor())}isSchemaTypeLetterOrPercentage(){var e,t,n,i;return(null===(t=null===(e=this.gradeDisplayItem)||void 0===e?void 0:e.schema)||void 0===t?void 0:t.scaleType)===S.ac.Percent||(null===(i=null===(n=this.gradeDisplayItem)||void 0===n?void 0:n.schema)||void 0===i?void 0:i.scaleType)===S.ac.Tabular}shouldShowTotalPoints(){var e,t,n,i,s;return(null===(e=this.scope.gradeDetail)||void 0===e?void 0:e.isExempt)?(!(null===(i=this.scope.gradeDetail)||void 0===i?void 0:i.isExempt)||!this.isMultipleShown())&&(!(this.scope.column.isScorm()&&!this.isScoreSchema())&&((null===(s=this.gradeDisplayItem)||void 0===s?void 0:s.displayValue)&&!this.isSchemaTypeLetterOrPercentage())):((null===(t=this.scope.gradeDetail)||void 0===t?void 0:t.isPastDueZero())&&!this.isSchemaTypeLetterOrPercentage()||(null===(n=this.scope.gradeDetail)||void 0===n?void 0:n.isOverrideGrade())&&!this.isSchemaTypeLetterOrPercentage()||(this.gradeDisplayItem.shouldShowTotalPoints()||this.hasFocus()||this.form[this.id]&&this.isFormDirty())&&(!this.isMultipleShown()&&!this.isInProgressShown()||(this.isMultipleShown()||this.isInProgressShown())&&this.hasFocus())&&!this.getPerfCodeFromDisplayValue(this.gradeDisplayItem.displayValue))&&!(this.scope.column.isScorm()&&!this.isScoreSchema())}getTruncatedPointsPossible(){var e,t,n;return this.isScoreSchema()?d.b((null===(e=this.scope.gradeDetail)||void 0===e?void 0:e.manualGrade)&&this.scope.gradeDetail.pointsPossible||this.scope.column.possible||this.scope.column.isCalculated()&&100||0,2):d.b(null!==(n=null===(t=this.scope.gradeDetail)||void 0===t?void 0:t.pointsPossible)&&void 0!==n?n:this.scope.column.isCalculated()?100:this.scope.column.possible,2)}isScoreSchema(){var e,t;return(null===(t=null===(e=this.gradeDisplayItem)||void 0===e?void 0:e.schema)||void 0===t?void 0:t.scaleType)===S.ac.Score}isReadOnly(){return this.scope.readOnly&&this.scope.readOnly()}hasFocus(){return this.inputElement.is(":focus")||this.wrapperDiv.hasClass(t.WRAPPER_FOCUS_CLASS)}getOldScore(){var e,t,n,i,s;return(null===(e=this.scope.gradeDetail)||void 0===e?void 0:e.isOverride())&&(null===(t=this.scope.gradeDetail)||void 0===t?void 0:t.displayGrade.perfCode)?null===(n=this.scope.gradeDetail)||void 0===n?void 0:n.displayGrade.perfCode.code:(null===(i=this.scope.gradeDetail)||void 0===i?void 0:i.getScore())?(null===(s=this.scope.gradeDetail.displayGrade)||void 0===s?void 0:s.requiresSchemaKnowledgeToDisplay)?Number(this.scope.gradeDetail.getScore())*this.scope.gradeDetail.pointsPossible/100:Number(this.scope.gradeDetail.getScore()):null}getNewScore(){return this.gradeDisplayItem.displayValue?isNaN(this.gradeDisplayItem.displayValue)?this.gradeDisplayItem.displayValue:this.bbLocalize.parseNumberSync(this.gradeDisplayItem.displayValue):null}scoreHasChanged(){return this.getOldScore()!==this.getNewScore()}get colorClass(){var e,t,n,i,s,a;const o=null===(e=this.form[this.id])||void 0===e?void 0:e.$viewValue;return this.scope.forGroup&&o&&this.isReservedWord(o)||!(null===(t=this.gradeDisplayItem)||void 0===t?void 0:t.displayValue)||(null===(i=(n=this.scope).isGroupGradeMultiple)||void 0===i?void 0:i.call(n))||(null===(a=(s=this.scope).isGroupGradeInProgress)||void 0===a?void 0:a.call(s))?"":this.gradeDisplayItem.getGradeColor()}validateAndSave(e){if(!this.isGradeErased()||e||this.isGradeErased()&&!this.scope.hasRubricClearConfirmationCallout){if(this.wrapperDiv.removeClass(t.WRAPPER_FOCUS_CLASS),this.scope.$emit("grade-input-blur",this.id),this.shouldShowPastDueZeroIndicator()&&""===this.form[this.id].$viewValue&&(this.gradeDisplayItem.displayValue="0",this.form[this.id].$setPristine()),this.isFormValid())if(this.isFormDirty()&&this.scoreHasChanged()){if(!this.isSaving){const e=this._save();return this.scope.$emit("grade-input-save-promise",e),e.then((e=>{this.form[this.id]&&this.form[this.id].$setPristine(),this.alertScreenReaderNewGrade=!0,this.scope.$emit("bb-grade-input-save",e,this.scope.column.id,this.scope.forUser&&this.scope.forUser.id),this.reloadGradeDetail(this.courseId,[this.scope.column.id],[this.scope.gradeDetail.memberId],{expand:["grade.instructorFeedback","grade.lastFeedbackAuthor"]}),this.refreshInputBox()})).finally((()=>{this.isSaving=!1})),e}}else this.form[this.id].$setPristine(),this.refreshInputBox()}else this.isSaving||(this.gradeDialog.isVisible=!0)}_validate(){const e=this.grade.createGradeSubmission(this.scope.column,this.gradeDisplayItem.displayValue,this.gradeDisplayItem.schema);e.clearGrade=this.isGradeErased();const t=this.grade.validateGrade(e,this.scope);return this.$q.when(t).then((e=>{this.form[this.id].$setValidity("invalidGrade",e)}))}getPerfCodeFromDisplayValue(e){let t=null;if(e){const n=this.scope.gradeNotations?this.scope.gradeNotations():[];if(n.length>0){const i=s.find(n,(t=>t.code===e));i&&(t=i.id)}}return t}_save(){var e,t,n,i;let a=this.$q.when();const o=null!==(t=null===(e=this.scope.gradeDetail)||void 0===e?void 0:e.ui.groupAttempt)&&void 0!==t?t:null===(n=this.scope.gradeDetail)||void 0===n?void 0:n.ui.attempt;this.isSaving=!0,this.perfCodeId=this.getPerfCodeFromDisplayValue(this.gradeDisplayItem.displayValue);const r=this.perfCodeId?this.gradeDisplayItem.displayValue:this.grade.parseGrade(this.gradeDisplayItem.displayValue,this.gradeDisplayItem.schema,this.scope),l=this.grade.createGradeSubmission(this.scope.column,r,this.gradeDisplayItem.schema);if(this.perfCodeId&&(l.perfCodeId=this.perfCodeId),this.scope.column&&this.scope.column.externalGrade&&this.scope.gradeDetail){const e=this.scope.gradeDetail.manualGrade?this.scope.gradeDetail.pointsPossible:this.scope.column.possible,t=l.gradeValue;if(e&&e>0&&t&&t.isNumeric){const n=parseFloat(t.grade);t.grade=String(this.isScoreSchema()?n:100*n/e)}this.gradeDisplayItem.schema.scaleType===S.ac.Score&&(l.pointsPossible=e)}else if((null===(i=this.scope.column)||void 0===i?void 0:i.externalGrade)&&!this.scope.gradeDetail){const e=this.scope.column.possible;this.gradeDisplayItem.schema.scaleType===S.ac.Score&&(l.pointsPossible=e)}if(this.isGradeErased()&&(l.clearGrade=!0,(this.scope.column.isAssignment()||this.scope.column.isDiscussion())&&(this.scope.forGroup?this.scope.forGroup&&!this.scope.gradeDetail.ui.groupAttempt&&(a=this.scope.column.getContentGroupIdToGroupAttempt({expand:"attempts,toolAttemptDetail,attempts.toolAttemptDetail,lastFeedbackAuthor,attempts.lastFeedbackAuthor"}).then((e=>{s.values(e.lookup).forEach((e=>{e[0].groupId===this.scope.forGroup.id&&(this.scope.gradeDetail.ui.groupAttempt=e[0])}))}))):a=this.$q.when()),this.isRubricAssociated())){this.scope.hasRubricClearConfirmationCallout&&(this.scope.forGroup?l.groupAttemptId=null==o?void 0:o.id:l.attemptId=null==o?void 0:o.id);const e=null==o?void 0:o.rubricEvaluation;e&&(e.cells=[]),l.setGradeToEmpty=!0,l.rubricEvaluation=e}return a.then((()=>{const e=this.scope.override&&this.scope.override()&&!(this.isGradeErased()&&(this.scope.column.isAssignment()||this.scope.column.isDiscussion()||this.scope.forGroup||this.isRubricAssociated()&&this.scope.hasRubricClearConfirmationCallout))?null:o,t=!(!this.scope.gradeDetail||!this.scope.gradeDetail.isPosted()),n=this.isGradeErased(),i=this.scope.gradeDetail;return this.grade.saveGrade(l,i,e,{userId:this.scope.forUser&&this.scope.forUser.id,group:this.scope.forGroup}).then((e=>{if(this.isRubricAssociated()&&this.$rootScope.$emit(p.d,l.gradeValue.grade),this.scope.column.externalGrade&&e.displayGrade&&e.displayGrade.isOverride&&!this.isScoreSchema()&&(e.pointsPossible=100),e instanceof this.AttemptModel)this.scope.gradeDetail.displayGrade=e.displayGrade,n&&(this.scope.gradeDetail.manualStatus=S.Eb.NoOverride),Object.assign(this.scope.gradeDetail.ui.attempt,e);else if(e instanceof this.GroupAttemptModel)this.gradeDisplayItem.displayGrade=e.displayGrade,this.scope.gradeDetail.displayGrade=e.displayGrade;else if(e instanceof this.GradeModel){const t=this.scope.gradeDetail?this.scope.gradeDetail.permissions:null;this.scope.gradeDetail=e,t&&(this.scope.gradeDetail.permissions=t),this.scope.column.externalGrade&&e.displayGrade&&!e.displayGrade.isOverride&&!this.isScoreSchema()&&(this.scope.gradeDetail=this.grade.gradeDetailToPercentage(this.scope.gradeDetail)),this.scope.column.externalGrade&&(this.gradeDisplayItem.gradeDetail=this.scope.gradeDetail)}else e[0]instanceof this.GradeModel&&(this.scope.gradeDetail.displayGrade=e[0].displayGrade);return(this.scope.column.isAssignment()||this.scope.column.isDiscussion())&&!n&&t&&(e.isPosted&&!e.isPosted()||e.isCompleted&&!e.isCompleted()||e[0]&&e[0].isReadyToPost&&e[0].isReadyToPost())?this._postGrade(e):e}))}))}_postGrade(e){return this.scope.forGroup?this.scope.column.postReadyGroupAttempts({groupAssociationId:this.scope.gradeDetail.ui.groupAttempt.groupAssociationId}).then((t=>(this.scope.gradeDetail.manualStatus=S.Eb.IsPosted,e instanceof Array&&e.forEach((e=>{e.manualStatus=S.Eb.IsPosted})),e))):this.scope.gradeDetail.postReadyGrades().then((t=>(this.scope.gradeDetail.manualStatus=S.Eb.IsPosted,e.status=S.l.Completed,e)))}isMultipleShown(){return this.scope.isGroupGradeMultiple&&this.scope.isGroupGradeMultiple()}isInProgressShown(){return this.scope.isGroupGradeInProgress&&this.scope.isGroupGradeInProgress()}gradeValueOnChange(){this.$q.when(this._validate()).then((()=>{this.scope.hasGradeAndIsValid=this.form[this.id].$valid&&!!this.gradeDisplayItem.displayValue}))}onFocus(){this.canOverrideByGradeNotation()&&this.showGradeNotationDropdown(),this.isFormValid()&&!this.isFormDirty()&&(this.gradeDisplayItem.displayValue=this.gradeDisplayItem.parsedValue)}shouldShowOverrideIndicator(){return!(null==this.scope.enableOverrideIndicator||!this.scope.enableOverrideIndicator||!this.scope.gradeDetail||this.scope.gradeDetail.isExempt)&&(!this.shouldShowPastDueZeroIndicator()&&(this.grade.isRubricGradeOverridden(this.scope.gradeDetail,this.scope.gradeDetail.ui.attempt,this.scope.column,this.scope.forGroup)&&!this.scope.gradeDetail.isExempt))}shouldShowPastDueZeroIndicator(){return this.scope.gradeDetail&&this.scope.gradeDetail.displayGrade&&this.scope.gradeDetail.displayGrade.scoredByAutomaticZero&&!this.scope.gradeDetail.isExempt}shouldShowExempt(){return this.scope.gradeDetail&&this.scope.gradeDetail.isExempt}isRubricAssociated(){return this.scope.column.hasRubricAssociation()}isRubricEvalMode(){return!!this.scope.enableRubricEvalAction&&this.scope.enableRubricEvalAction()&&this.isRubricAssociated()}shouldShowInput(){return!this.isRubricEvalMode()||this.isRubricEvalMode()&&this.scope.enableEditableInputMode}openRubricEvaluation(){var e,t;if(!this.isRubricAssociated()||this.scope.disableRubricEvalClick&&this.scope.disableRubricEvalClick())return;let n;n=(null===(e=this.scope.gradeDetail)||void 0===e?void 0:e.groupAssociationId)?(null===(t=this.scope.forUser)||void 0===t?void 0:t.id)||null:this.scope.gradeDetail.user&&(this.scope.gradeDetail.user.$pk||this.scope.gradeDetail.user.id)||null,this.timeout((()=>{this.ultraState.goPeekState("rubric-evaluation",{userId:n,groupId:this.scope.forGroup?this.scope.forGroup.id:null,columnId:this.scope.column.id})}),this.scope,0,!1)}updateGradeColor(){this.wrapperDiv.removeClass(this.inputColorClass),!this.gradeDisplayItem.displayValue||this.scope.isGroupGradeMultiple&&this.scope.isGroupGradeMultiple()||this.scope.isGroupGradeInProgress&&this.scope.isGroupGradeInProgress()||(this.inputColorClass=this.gradeDisplayItem.getGradeColor(),this.wrapperDiv.addClass(this.inputColorClass))}isGradeErased(){return this.isFormDirty()&&this.gradeDisplayItem.wasValueErased}setFocusOnNextTabbableElement(){this.timeout((()=>{c.b(null,this.inputElement)}),this.scope,0,!1)}isReservedWord(e){const t=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.services.grade.multiple"}).toLocaleLowerCase(),n=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.services.grade.in_progress"}).toLocaleLowerCase(),i=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.services.grade.noValue"}).toLocaleLowerCase(),s=e.toLocaleLowerCase();return s===t||s===n||s===i}getGradeInputAriaLabelKey(){if(!this.scope.forUser&&!this.scope.forGroup)return;let e="components.directives.grade.grade-input.aria.",t=this.shouldShowOverrideIndicator()?"overrideScoreInput":"scoreInput";return this.shouldShowPastDueZeroIndicator()&&(t="pastDueZeroScoreInput"),e+=t,this.scope.forGroup&&(e+="Group"),e+=this.gradeDisplayItem.displayValue?"Graded":"Empty",e}canOverrideByGradeNotation(){const e=this.scope.gradeNotations?this.scope.gradeNotations():[];return this.scope.canOverrideByGradeNotation&&this.scope.canOverrideByGradeNotation()&&(e&&e.length>0||this.scope.gradeDetail&&this.scope.gradeDetail.displayGrade&&this.scope.gradeDetail.displayGrade.isOverride)}getAriaDescribeById(){return`invalidGradeAriaDescribeById_${this.scope.forUser.id}`}clickGradeNotation(e,t){t.stopPropagation(),this.gradeDisplayItem.displayValue=e.code,this.perfCodeId=e.id,this.afterClickDropdownListItem()}undoOverride(){this.gradeDisplayItem.displayValue="",this.perfCodeId=null,this.afterClickDropdownListItem()}afterClickDropdownListItem(){this.form[this.id].$setDirty(!0),this.form[this.id].$setValidity("invalidGrade",!0),this.timeout((()=>{e("#performanceCodes-"+this.id).remove()}),this.scope,0,!1),this.$q.when(this.validateAndSave()).finally((()=>{this.setFocusOnNextTabbableElement()}))}isGradesComplete(){return!1}onBlur(t){this.isWrapperDivClickHandled=!1;let n=[];t&&t.relatedTarget&&t.relatedTarget.classList&&(n=t.relatedTarget.classList),this.inputElementBluredByTab||s.includes(n,"performance-code-option")||(this.timeout((()=>{this.inputElementBluredByTab=!1,e("#performanceCodes-"+this.id).remove()}),this.scope,0,!1),this.shouldShowModal()?this.openOverrideDialog():this.validateAndSave())}subscribeToRedux(){const e=this.$ngRedux.connect(null,(e=>Object(A.b)({reloadGradeDetail:w.X.gradebookGrade.loadBulkView},e)))(this);this.scope.$on("$destroy",e)}};D.WRAPPER_CLASS="wrapping-input-style",D.WRAPPER_FOCUS_CLASS="wrapping-input-style-focus",D=Object(i.a)([Object(i.c)(0,Object(x.b)("$rootScope")),Object(i.c)(1,Object(x.b)("$compile")),Object(i.c)(2,Object(x.b)("$q")),Object(i.c)(3,Object(x.b)("$injector")),Object(i.c)(4,Object(x.b)("$ngRedux")),Object(i.c)(5,Object(x.b)("scope")),Object(i.c)(6,Object(x.b)("element")),Object(i.c)(7,Object(x.b)("attrs")),Object(i.c)(8,Object(x.b)("form")),Object(i.c)(9,Object(x.b)(o.serviceName)),Object(i.c)(10,Object(x.b)(m.n)),Object(i.c)(11,Object(x.b)(b.A.serviceName)),Object(i.c)(12,Object(x.b)(b.D.serviceName)),Object(i.c)(13,Object(x.b)(b.E.serviceName)),Object(i.c)(14,Object(x.b)(b.m.serviceName)),Object(i.c)(15,Object(x.b)(f.b)),Object(i.c)(16,Object(x.b)(y.d)),Object(i.c)(17,Object(x.b)(r.b))],D);class T{constructor(e,t){this.$injector=e,this.bbLocalize=t,this.restrict="E",this.template=k,this.require="^form",this.scope={column:"=",gradeDetail:"=",onClick:"&",onBlur:"&",enableRubricEvalAction:"&?",hasRubricClearConfirmationCallout:"<?",disableRubricEvalClick:"&?",enableEditableInputMode:"&?",forUser:"=?",forGroup:"=?",hasGradeAndIsValid:"=?",isGroupGradeMultiple:"&?",isGroupGradeInProgress:"&?",notAllowEmptyString:"&?",override:"&?",readOnly:"&?",enableOverrideIndicator:"=?",canOverrideByGradeNotation:"&?",gradeNotations:"&?",gradeNotationsWrapperSelector:"@?",offsetTop:"&?"},this.link=(e,t,n,i)=>{if(!n.id&&!n.column)throw new Error("Id and Column are required.");if(!n.gradeDetail)throw new Error("A grade object must be provided");if(n.gradeDetail&&!n.forUser&&!n.forGroup)throw new Error("forUser or forGroup is required.");e.gradeInput=this.$injector.instantiate(D,{scope:e,element:t,attrs:n,form:i})}}}T.$inject=["$injector"],a.module(O,["puElasticInput",l.a,h.a,v.a,y.b,I.a]).directive("bbGradeInput",["$injector",e=>e.instantiate(T)])}).call(this,n("71td"))},Afl9:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("UE5/"),s=n("jZnR"),a=n("QgAF");const o=Object(i.a)((e=>Object(s.a)({icon:{zIndex:1},animatedIconButton:{position:"relative","&:focus:before":{boxShadow:"none"},"&:before":{animation:"$pulsate infinite linear 1.25s",animationIterationCount:4,borderRadius:"50%",content:'""',display:"block",height:"32px",marginTop:"-16px",position:"absolute",top:"50%",width:"32px",left:"50%",marginLeft:"-16px"},"&:after":{animation:"$circle 1 linear 5s forwards",borderRadius:"50%",content:'""',display:"block",height:"24px",marginTop:"-12px",position:"absolute",top:"50%",width:"24px",zIndex:0,left:"50%",marginLeft:"-12px"}},"@keyframes pulsate":{"0%":{border:`4px solid ${Object(a.fade)(e.palette.indicatorPrimary.main,.3)}`,transform:"scale(1, 1)"},"100%":{border:`4px solid ${Object(a.fade)(e.palette.indicatorPrimary.main,0)}`,transform:"scale(1.4, 1.4)"}},"@keyframes circle":{"0%":{background:Object(a.fade)(e.palette.indicatorPrimary.main,.3)},"90%":{background:Object(a.fade)(e.palette.indicatorPrimary.main,.3)},"100%":{background:Object(a.fade)(e.palette.indicatorPrimary.main,0)}}})))},"Aw+3":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-feedback",use:"icon-small-feedback-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-feedback"><path d="M1 1h14v12h-4l-3 2-3-2H1V1zM4 4h8M4 7h8M4 10h4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},BJLZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("71td"),s=n("Llzl"),a=n("e6jQ"),o=n("lEL+");const r="ultra.directives.accessibility.alert";class l{constructor(e,t){this.$injector=e,this.timeout=t,this.restrict="A",this.link=(e,t,n)=>{this.alertContainerId=n.alertId?n.alertId:a.a(),e.$on("$destroy",(()=>{i(`#${this.alertContainerId}`).remove()})),e.$watch((()=>t.html()),(t=>{this.alertArea.html("");const i=Number(n.bbAxAlert)||0;null!=t&&""!==t&&(0===i?this.trigger(t):this.timeout(this.trigger.bind(this,t),e,i,!1))}))},this.trigger=e=>{this.alertArea.append(i(`<div id="${this.alertContainerId}"></div>`).append(e))},this.alertArea=i("body > .ax-alert-area"),0===this.alertArea.length&&(i("body").append('<div class="ax-alert-area" role="alert" aria-atomic="false" aria-live="assertive"></div>'),this.alertArea=i("body > .ax-alert-area"))}}l.$inject=["$injector",o.b],s.module(r,[o.a]).directive("bbAxAlert",["$injector",e=>e.instantiate(l)])},BLb8:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a}));const i=(e,t)=>{e.$on("refresh-items",t)},s=(e,t)=>{e.$on("close-scorm-launch-frame",t)},a=(e,t)=>{e.content.$fetch().$asPromise().then((n=>{n===e.content?((e,t)=>{t?e.$broadcast("refresh-items",t):e.$broadcast("refresh-items")})(e,t):e.content=n}))}},BMpZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("D57K"),s=n("aHpC"),a=n("yC9S"),o=(n("DlnX"),n("IgL1"));const r="ultra.components.directives.buttonComplexTooltip";let l=class{constructor(e,t){this.$scope=e,this.$rootScope=t}$onInit(){this.$scope.buttonComplexTooltip=this}getToolTipTemplate(){return'<ul class="complex-tooltip-list conditional-release-tooltip"> <li bb-translate>components.directives.grade.grader-column.restrictedInfo</li> </ul>'}};l=Object(i.a)([Object(a.a)({moduleName:r,componentName:"bbButtonComplexTooltip",template:o}),Object(i.c)(0,Object(s.b)("$scope")),Object(i.c)(1,Object(s.b)("$rootScope"))],l)},BXQP:function(e,t){e.exports='<div class="timestamp" bb-load-bundle="components/directives/duration" ng-cloak bb-cache-compilation="duration-directive">\n  <div ng-if="!duration.needAgo()">\n    <div class="js-split-datetime" ng-if="duration.separateDatetime()">\n      <span class="date" ng-bind="duration.date"></span>\n      <span class="time" ng-bind="duration.time"></span>\n    </div>\n    <bb-datetime ng-if="!duration.separateDatetime()" ng-class="{\'date\':duration.date}" value="date" format="Short"></bb-datetime>\n  </div>\n  <div ng-if="duration.needAgo()"\n       class="js-duration-ago"\n       bb-translate="components.directives.duration.agoText"\n       translate-values="{durationDate: duration.date, durationTime: duration.time}"></div>\n</div>'},BXiQ:function(e,t,n){"use strict";var i=n("Llzl"),s=n("71td"),a=n("nsO7"),o=n("Ymz8"),r=n("PdQf"),l=n("5Dl8"),c=n("pjml"),d=n("Q/M7"),u=n("DpvE"),m=n("gCXj"),p=n("IMr6"),h=n("VdDF");n.d(t,"a",(function(){return g}));const g="ultra.directives.user-avatar",b=i.module(g,[c.N,m.a]),f=p.replace(/\s+id="[^\"]+"\s*/," ").replace(/<svg /,'<svg stroke-width="3" stroke="#fff" ').replace(/\s+viewBox="(\d+ \d+ \d+ \d+)"/,(function(e,...t){const[n,i,s,a]=t[0].split(" ").map((e=>parseInt(e,10)));return' viewBox="'+[n-s/2,i-a/2,2*s,2*a].join(" ")+'"'})),v={avatar:{permanentUrl:"data:image/svg+xml;base64,"+o.codec.base64.fromBits(o.codec.utf8String.toBits(f))},lastModifiedAt:"",getInitials:a.noop},y=s('<style id="css-bb-user-avatar"></style>').appendTo("head"),k={};let x,S;const C=function(e){e.forEach((e=>{const t=e.id||e.$pk,n=k[t]=k[t]||{};if(null!=e.lastModifiedAt&&e.lastModifiedAt===n.lastModifiedAt||e.isPlaceHolder)return;n.avatarURL=void 0,n.isAvailable=e.isAvailable,n.lastModifiedAt=e.lastModifiedAt;const i=e.avatar&&"default"!==e.avatar.permanentUrl;if(i){let t=e.avatar.permanentUrl;if(e.avatar.permanentUrl.startsWith("http")){const n=(h.a.isValidDate(e.lastModifiedAt)?e.lastModifiedAt:new Date).getTime();t=Object(d.a)(e.avatar.permanentUrl,"ts",n)}n.avatarURL=t}const s=(e.getInitials||a.noop).apply(e);n.initials=!i&&s?s:void 0})),x()};b.config([m.b+"Provider",function(e){e.onStyleRefresh((function(e,t){t.isAvailable||(e.selector(`bb-user-avatar.u${t.userId}:after`).rule("display","block"),e.selector(`bb-user-avatar.u${t.userId} > div`).rule("opacity",".3"))}))}]).run(["$rootScope",c.Jb.serviceName,function(e,t){x=a.debounce((()=>{const e=new l.a;a.forEach(k,((t,n)=>{const i=e.selector(`bb-user-avatar.u${n}`);t.avatarURL?(i.selector(".image:after").rule("background-image",`url("${t.avatarURL}")`).rule("display","block"),i.selector(".image:before").rule("display","none")):t.initials&&(i.selector(".image").rule("display","none"),i.selector(".initials").rule("display","block"),i.selector(".initials:after").rule("content",`"${t.initials}"`)),!1===t.isAvailable&&e.selector(`bb-user-avatar.u${n}:after`).rule("display","block")}));const t=e.build();y.text()!==t&&y.text(t)}),200),S=a.once((function(){t.$mixHook("after-feed",(function(){const e=Array.prototype.concat.call([],this);C(e)}))}))}]).directive("bbUserAvatar",(function(){return{restrict:"E",template:u,scope:{user:"=?"},link(e,t){S(),t.addClass("avatar element-image");e.$watch("user",((e,n)=>{e&&(r.i(e)&&a.extend(e,v),t[0].className=t[0].className.split(/\s+/).filter((e=>!/^u\w+$/.test(e))).join(" "),t.addClass(`u${e.id||e.$pk}`),C([e]))}))}}}))},BiyI:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-add-plus",use:"icon-small-add-plus-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-add-plus"><path d="M8 5v6M11 8H5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},BrA8:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));n("JzsJ");var i=n("Llzl"),s=n("pjml"),a=n("0JpG"),o=n("Fvsw"),r=n("bF8R"),l=n("jhBu"),c=n("o5Lu"),d=n("TnpK"),u=n("Qbdf"),m=n("X455"),p=n("nmzr"),h=n("IbyE");const g="ultra.course.content.lti.routes";i.module(g,[a.moduleName,r.a,l.a,c.m,d.b,u.b,m.a]).config([d.c,u.c,m.b,(e,t,i)=>{e.peekState(p.D.LTI,{abstract:!0,url:"/lti"}).peekState(p.D.LTI_LAUNCH,{url:"/launch?courseId&contentId&linkRef&linkType",resolve:{translations:[a.serviceName,e=>e.loadBundle("features/course/content/course-content")],[m.c]:i.resolve,[u.d]:t.resolve,currentContent:["$q",d.d,s.S.serviceName,s.m.serviceName,(e,t,n,i)=>{const s=e.defer(),a=t.nextParams.courseId?t.nextParams.courseId:t.prevParams.courseId,o=t.nextParams.contentId?t.nextParams.contentId:t.prevParams.contentId,r=t.nextParams.linkRef?t.nextParams.linkRef:t.prevParams.linkRef,l=t.nextParams.linkType?t.nextParams.linkType:t.prevParams.linkType;return a&&o?i.$new(a).contents.$find(o).$asPromise().then((e=>s.resolve(e))):a&&r&&h.Q.PartnerCloud.isEqualTo(l)?n.getContentIds(a,r).then((e=>{e.contentIds&&e.contentIds.length>0?i.$new(a).contents.$find(e.contentIds[0]).$asPromise().then((e=>s.resolve(e))):s.resolve(null)})):s.resolve(null),s.promise}],currentGradeColumn:["$q",u.d,"currentContent",o.b,(e,t,n)=>{if(t&&n){const e=n.contentDetail[n.contentHandler.toString()].gradingColumn.id;return t.gradebook.columns.$find(e).$asPromise()}return e.when(null)}],contentData:["$q",u.d,"currentContent","currentGradeColumn",r.b,(e,t,n,i,s)=>{if(t&&n&&i)return s.loadContentAndGrades({course:t,content:n,column:i});e.when(null)}]},panelClass:"peek",require:()=>n.e(603).then(n.bind(null,"7CZ/")),pageTitle:" Launch"}).peekState(p.D.LTI_LAUNCH_FRAME,{url:"/launchFrame?toolHref",resolve:{translations:[a.serviceName,e=>e.loadBundle("features/course/content/course-content")]},panelClass:"full",require:()=>n.e(605).then(n.bind(null,"I/hb")),pageTitle:"course.content.ltiLaunchFrameTitle"}).peekState(p.D.LTI_LAUNCH_PEEK,{url:"/launchPeek?toolHref&courseId&contentId",resolve:{[u.d]:t.resolve,translations:[a.serviceName,e=>e.loadBundle("features/course/content/course-content")]},peekStates:[p.k.CONDITIONAL_RELEASE_PEEK_PANEL,p.D.LTI_EDIT_CLOUD_DOCUMENT,p.s.CONVERSATION,p.y.VIEW,p.y.GROUP_MEMBERS_LIST],panelClass:"full",require:()=>n.e(623).then(n.bind(null,"BY6k")),pageTitle:"course.content.ltiLaunchFrameTitle"}).peekState(p.D.LTI_LAUNCH_CLOUD_CREATE,{url:"/launchCloudCreate?toolHref&courseId&contentId&placementId",resolve:{translations:[a.serviceName,e=>e.loadBundle("features/course/content/course-content")]},peekStates:[p.D.LTI_LAUNCH_PEEK],panelClass:"full",require:()=>n.e(646).then(n.bind(null,"KIJB")),pageTitle:"course.content.ltiLaunchFrameTitle"}).peekState(p.D.LTI_EDIT_CLOUD_DOCUMENT,{url:"/edit?contentId",resolve:{[u.d]:t.resolve,translations:["$q",a.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/course-content"),t.loadBundle("features/course/goal-alignment/goal")])]},panelClass:"peek",require:[()=>n.e(62).then(n.bind(null,"N/2L"))],peekViewName:"cloud-document-goal-peek",allowChildPeekStates:!0,peekStates:["goal-picker-legacy"],pageTitle:"course.content.editCloudDocument"})}])},Bssh:function(e,t,n){"use strict";var i,s;!function(e){e.CREATE="CREATE",e.EDIT="EDIT",e.VIEW="VIEW"}(i||(i={})),function(e){e.GRID_VIEW="grid-view",e.STUDENT_LIST_VIEW="student-list-view",e.PARTICIPANTS_VIEW="participants-view"}(s||(s={}));var a=n("ERkP"),o=n.n(a),r=n("uDfI"),l=n("ERsv"),c=n("C+e0"),d=n("nsO7"),u=n("IbyE");class m extends o.a.Component{constructor(e){super(e),this.setPristine=function(e){},this.onContentChange=e=>{this.setPristine=e.setPristine,this.props.editor.onEditorContentChanged(e)},this.onUploadSuccess=e=>{const{fileLocation:t,webLocation:n}=e;this.setState((()=>({fileLocation:t,webLocation:n}))),this.props.editor.pluginConfig&&this.props.editor.pluginConfig.onUploadSuccess&&this.props.editor.pluginConfig.onUploadSuccess(e)},this.getEditorElement=()=>document.querySelector("#feedback-authoring-container .bb-editor"),this.getAttachmentConfigurations=()=>{const{babelfishFormatInstance:e,babelfishInstance:t,editor:n,currentLocale:i,fileUploadSettings:s}=this.props,{apiBasePath:a,xsrfToken:o,courseId:r,onUploadSuccess:l}=n.pluginConfig,{webLocation:c,fileLocation:d}=this.state,u={apiBasePath:a,xsrfToken:o,webLocation:c,fileLocation:d,babelfishFormatInstance:e,babelfishInstance:t,onUploadSuccess:l,fileUploadSettings:s};return{commonUploadConfig:u,mathPluginConfig:{apiBasePath:a,xsrfToken:o,courseId:r,locale:i},cloudStorageIntegrationPluginConfig:{...u,...n.pluginConfig.insertCloudStorageIntegrationFile},videoEverywhereConfig:{apiBasePath:a,courseId:r,xsrfToken:o,isHidden:!0},youtubeVideoPluginConfig:{...u,...n.pluginConfig.insertYoutubeVideo},contentMarketConfig:{...u,...n.pluginConfig.contentMarket}}},this.prepareEditorPlugins=()=>{if(!this.props.editor.pluginConfig)return[Object(l.link)(),Object(l.image)(),Object(l.video)()];const{commonUploadConfig:e,mathPluginConfig:t,cloudStorageIntegrationPluginConfig:n,videoEverywhereConfig:i,youtubeVideoPluginConfig:s,contentMarketConfig:a}=this.getAttachmentConfigurations(),o=[Object(l.link)(),Object(l.image)(),Object(l.video)(),Object(l.insertLocalFile)(e),Object(l.math)(t),Object(l.videoEverywhere)(i)];return this.props.editor.pluginConfig.insertCloudStorageIntegrationFile&&n.openCloudStorageIntegrationModal&&o.push(Object(l.insertCloudStorageIntegrationFile)(n)),this.props.editor.pluginConfig.insertYoutubeVideo&&o.push(Object(l.insertYoutubeVideo)(s)),this.props.editor.pluginConfig.contentMarket&&o.push(Object(l.contentMarket)(a)),o},this.focusEditor=()=>{const e=this.getEditorElement();e&&e.focus()},this.state={fileLocation:e.editor.pluginConfig&&e.editor.pluginConfig.fileLocation||"",webLocation:e.editor.pluginConfig&&e.editor.pluginConfig.webLocation||""}}componentDidMount(){this.props.editor.isReadOnly||this.focusEditor()}componentDidUpdate(e){this.props.editor.shouldSetPristine&&this.setPristine&&this.setPristine(this.props.editor.bbml),this.props.editor.isReadOnly||this.focusEditor()}shouldComponentUpdate(e,t){return 0!==Object(d.differenceWith)([t],[this.state],d.isEqual).length||0!==Object(d.differenceWith)([e.editor],[this.props.editor],d.isEqual).length}render(){const{placeholder:e,editor:t}=this.props,n=this.prepareEditorPlugins();return!t.isReadOnly||t.isPrivileged||t.bbml?o.a.createElement(l.BbEditor,{bbml:t.bbml||"",isReadOnly:t.isReadOnly,isToolbarHidden:t.isToolbarHidden,plugins:n,placeholder:e,onBlur:t.onBlur,onChange:this.onContentChange,onFocus:t.onFocus,showWordCount:t.showWordCount,ariaLabelledBy:t.ariaLabelledBy}):o.a.createElement("div",null,o.a.createElement("i",null,e))}}const p=Object(r.b)((e=>({fileUploadSettings:u.gc.fileUploadSettings.getFileUploadSettings(e)})))(Object(c.a)(m));var h=n("MC1S"),g=n("8jBL");class b extends o.a.Component{render(){const{analyticsId:e,localize:t,openAccommodationsPanel:n,isGroupContent:i,accommodationCount:s}=this.props;return o.a.createElement("div",{className:"element-card element-info-list row"},o.a.createElement("div",{className:"element-image icon columns small-2"},o.a.createElement(g.Accommodations,null)),o.a.createElement("div",{id:"element-due-date-option",className:"element-details element-info-details columns small-10"},o.a.createElement("div",{className:"name"},o.a.createElement("span",null,t.translate("journals.settingsPanel.accommodations.settings.label"))),o.a.createElement("div",null,o.a.createElement(h.Link,{id:"element-accommodation-link",analyticsId:`${e}.accommodations.link`,onClick:n,href:"#"},i?o.a.createElement("span",null,t.translate("journals.settingsPanel.accommodations.settings.groups.plural",{number:s})):o.a.createElement("span",null,t.translate("journals.settingsPanel.accommodations.settings.students.plural",{number:s}))))))}}const f=Object(c.a)(b);class v extends o.a.Component{constructor(){super(...arguments),this.onClick=()=>{const{onClick:e}=this.props;e&&e()}}renderDateData(){const{analyticsId:e,localize:t,dueDate:n,canEdit:i}=this.props;let s=o.a.createElement("span",{id:"element-due-date"},t.translate("journals.settingsPanel.dueDate.isntDated"));return i&&!n?s=o.a.createElement(h.Link,{id:"element-due-date",analyticsId:`${e}.dueDate.link`,href:"#",onClick:this.onClick},t.translate("journals.settingsPanel.dueDate.isntDated")):i&&n?s=o.a.createElement(h.Link,{id:"element-due-date",analyticsId:`${e}.dueDate.link`,href:"#",onClick:this.onClick},t.translate("journals.settingsPanel.dueDate.dueDateFormat",{datetime:n})):!i&&n&&(s=o.a.createElement("span",{id:"element-due-date"},t.translate("journals.settingsPanel.dueDate.dueDateFormat",{datetime:n}))),o.a.createElement("div",null,s)}render(){const{localize:e}=this.props;return o.a.createElement("div",{className:"element-card element-info-list row"},o.a.createElement("div",{className:"element-image icon columns small-2"},o.a.createElement(g.Calendar,null)),o.a.createElement("div",{id:"element-due-date-option",className:"element-details element-info-details columns small-10"},o.a.createElement("span",{className:"name"},e.translate("journals.settingsPanel.dueDate.title")),this.renderDateData()))}}const y=Object(c.a)(v);var k=n("ZQFV"),x=n("0x+l"),S=n("Gvux"),C=n("nmzr"),E=n("tN4z"),I=n("zGdY");const w=e=>{var t;return!((null==e?void 0:e.manualStatus)!==I.Eb.IsPosted||!(null===(t=null==e?void 0:e.displayGrade)||void 0===t?void 0:t.isOverride)||null==e.displayGrade.score)||!((null==e?void 0:e.status)!==I.J.Graded||!(null==e?void 0:e.displayGrade)||e.displayGrade.isOverride||null==e.displayGrade.score)},A=e=>{var t;return(null==e?void 0:e.manualStatus)===I.Eb.NoOverride&&(null==e?void 0:e.status)===I.J.NeedsGrading&&null!=(null===(t=null==e?void 0:e.displayGrade)||void 0===t?void 0:t.score)||(null==e?void 0:e.manualStatus)===I.Eb.ReadyToPost},O=e=>e===I.ac.Percent?k.p.Percentage:e===I.ac.Tabular?k.p.Tabular:k.p.Points,D=(e,t,n)=>n===k.p.Percentage&&void 0!==e?e*t/100:e;var T=n("THXI");class P extends o.a.Component{constructor(e){super(e),this.calloutId="automatic-zeros-callout",this.gradeColorVariant=(e,t)=>e?t.isExempt?k.G.Grey:null:k.G.Black,this.onCalloutClick=()=>{this.setState((e=>({isCalloutVisible:!e.isCalloutVisible}))),setTimeout((()=>{this.state.isCalloutVisible&&document.getElementById(this.calloutId).focus()}))},this.onCalloutDismiss=()=>{this.setState({isCalloutVisible:!1});this.automaticZeroButtonElement.childNodes[0].focus()},this.onMouseEnterZeroButton=()=>{this.setState({isCalloutVisible:!0})},this.onMouseLeaveZeroButton=e=>{-1===(e&&e.relatedTarget&&e.relatedTarget.className||"").indexOf("ms-Callout")&&this.setState({isCalloutVisible:!1})},this.onClick=()=>{const{onClick:e}=this.props;e&&e()},this.onGradeSchemaClick=()=>{const{onGradeSchemaClick:e}=this.props;e&&e()},this.handleOnFeedbackClick=()=>{var e,t;C.bb.goPeekState(C.A.JournalSubmissionFeedback({columnId:null===(e=this.props.gradeColumn)||void 0===e?void 0:e.id,userId:null===(t=this.props.grade)||void 0===t?void 0:t.userId}))},this.handleOnRubricIconClick=()=>{const{grade:e}=this.props;e.displayGrade.isOverride?C.bb.goPeekState(C.I.RubricView({columnId:e.columnId})):C.bb.goPeekState(C.I.RubricEvaluation({userId:e.userId,columnId:e.columnId}))},this.state={isCalloutVisible:!1}}renderInstructorGradeInformation(){const{analyticsId:e,localize:t,possible:n,gradeSchema:i,disabled:s}=this.props,a=i&&i.ui,r=a&&(a.displayTitle||a.displayTitleKey&&t.translate(a.displayTitleKey));return null==n?o.a.createElement(h.Link,{analyticsId:`${e}.grading.link`,href:"#",onClick:this.onClick,disabled:s},t.translate("journals.settingsPanel.grade.isntGraded")):o.a.createElement("div",null,o.a.createElement(h.Link,{analyticsId:`${e}.gradeSchema.link`,href:"#",id:"element-grade-schema",onClick:this.onGradeSchemaClick,disabled:s},r),o.a.createElement("span",{className:"grading-separator"}," | "),o.a.createElement(h.Link,{analyticsId:`${e}.points.link`,href:"#",id:"element-points",onClick:this.onClick,disabled:s},t.translate("journals.settingsPanel.grade.points.plural",{points:n})))}renderStudentGradeInformation(){var e;const{localize:t,possible:n,grade:i,gradeSchema:s,gradeColumn:a,isColorEnabled:r,analyticsId:l}=this.props,c=s&&s.scaleType,d=!!(null===(e=null==i?void 0:i.instructorFeedback)||void 0===e?void 0:e.rawText);let u;return u=i&&i.displayGrade?o.a.createElement("div",{className:"student-grade panel"},o.a.createElement("div",{className:"grade-information"},o.a.createElement("div",{className:"content-icon"},o.a.createElement(S.Journal,{className:"content-icon",color:"primary"})),o.a.createElement("span",null,t.translate("journals.settingsPanel.grade.student.contentType.journal"))),o.a.createElement("div",{className:"grade-pill"},o.a.createElement(k.I,{grade:D(i.displayGrade.score,i.pointsPossible,O(c)),pointsPossible:i.pointsPossible,variant:O(c),symbolGrade:i.displayGrade.grade,gradeColorVariant:this.gradeColorVariant(r,i)},a.rubricAssociations&&o.a.createElement(k.J,{ariaLabel:t.translate("journals.settingsPanel.grade.student.rubric"),onClick:this.handleOnRubricIconClick,analyticsId:`${l}.readonlyGradePill.rubricIcon`})),!!d&&o.a.createElement(E.AnalyticsIconButton,{"aria-label":t.translate("journals.settingsPanel.grade.feedbackAriaLabel"),analyticsId:`${l}.feedback`,onClick:this.handleOnFeedbackClick,className:"feedback-button"},o.a.createElement(g.Feedback,{className:"feedback-icon",htmlColor:T.c.purpleDark})),i.isExempt&&o.a.createElement("span",{className:"exempt-tag"},t.translate("journals.settingsPanel.grade.exempt")))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"student-grade panel max-points-info"},o.a.createElement("span",null,t.translate("journals.settingsPanel.grade.maximumGrade"))),o.a.createElement("div",{className:"student-grade panel max-points-value"},o.a.createElement("span",null,t.translate("journals.settingsPanel.grade.student.points.plural",{points:n})))," "),o.a.createElement("div",{className:"grade-box"},u)}renderAutomaticZeroInformation(){const{localize:e,analyticsId:t,grade:n}=this.props,{isCalloutVisible:i}=this.state;return o.a.createElement(o.a.Fragment,null,!n.isExempt&&o.a.createElement("div",{className:"automatic-zero-alert automatic-zero"},o.a.createElement("div",{className:"automatic-zero-message"},o.a.createElement("span",null,e.translate("journals.settingsPanel.grade.student.automaticZeroAlert"))),o.a.createElement("div",{className:"automatic-zero-button",ref:e=>this.automaticZeroButtonElement=e},o.a.createElement(E.AnalyticsIconButton,{analyticsId:`${t}.automaticZero.information.button`,onClick:this.onCalloutClick,onMouseEnter:this.onMouseEnterZeroButton,onMouseLeave:this.onMouseLeaveZeroButton,"aria-label":e.translate("journals.settingsPanel.grade.student.automaticZeroCallout")},o.a.createElement(x.Attention,{color:"error"})))),i&&o.a.createElement(h.Callout,{className:"automatic-zero-callout",target:this.automaticZeroButtonElement,calloutId:this.calloutId,directionalHint:3,gapSpace:6,role:"region",onDismiss:this.onCalloutDismiss},o.a.createElement("span",null,e.translate("journals.settingsPanel.grade.student.automaticZeroCallout"))))}render(){const{localize:e,canEdit:t,grade:n}=this.props,i=!t&&n&&n.displayGrade&&n.displayGrade.scoredByAutomaticZero;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"element-card element-info-list row"},t&&o.a.createElement("div",{className:"element-image icon columns small-2"},o.a.createElement(g.Grade,null)),o.a.createElement("div",{className:""+(t?"element-details element-info-details columns small-10":"student-grade-details")},o.a.createElement("span",{className:`name ${i&&!n.isExempt&&"automatic-zero"}`},e.translate("journals.settingsPanel.grade.title")),i&&!n.firstAttemptId&&this.renderAutomaticZeroInformation(),t?this.renderInstructorGradeInformation():this.renderStudentGradeInformation())))}}const $=Object(c.a)(P);var G=n("np6O");class j extends o.a.Component{constructor(e){super(e),this.state={loadedGrade:!1}}componentDidMount(){const{loadGradebookSchemasByCourseId:e,courseId:t}=this.props;e({courseId:t})}componentDidUpdate(){const{journal:e,canEdit:t,courseId:n,loadGradebookGradesByColumnId:i}=this.props,{loadedGrade:s}=this.state;!s&&!t&&e&&e.gradeColumnId&&(i({courseId:n,columnId:e.gradeColumnId}),this.setState({loadedGrade:!0}))}getDummyJournal(){return{gradingAllowed:!1}}render(){const{analyticsId:e,localize:t,canEdit:n,isJournalBeingCreated:i,rubricName:s,journal:a,gradeColumn:r,grade:l,onGearClick:c,onRubricClick:d,onDueDateClick:u,onPointsClick:m,onPointsTypeClick:p,displayAccommodation:b,accommodationCount:v,accommodationIsGroup:k,onAccommodationClick:x,gradeSchema:S,preference:C}=this.props;let E=!1,I=n;!a&&i&&(I=!0,E=!0);const w=a&&a.gradingAllowed,A=r&&r.dueDate&&new Date(r.dueDate),O=r&&r.possible,D=!!C&&!!C.value&&JSON.parse(C.value),T=!D||!1!==D.isColorEnabled;return o.a.createElement("div",{className:"journals"},(i||w||I)&&o.a.createElement("div",{className:"full-panel-details"},o.a.createElement("div",{className:"element-settings"},o.a.createElement("div",{className:"full-panel-details-title row collapse"},o.a.createElement("div",{className:"text-wrapper columns small-10"},o.a.createElement("h2",{id:"journalTitle"},I?t.translate("journals.settingsPanel.title"):t.translate("journals.settingsPanel.journalDetailsLabel"))),o.a.createElement("div",{className:"button-wrapper columns small-2"},I&&o.a.createElement(G.AnalyticsIconButton,{analyticsId:`${e}.gear.link`,className:"icon super-clear right button",id:"journal-settings-cog-button",onClick:c,disabled:E,"aria-label":t.translate("journals.settingsPanel.ariaLabel.editSettings")},o.a.createElement(g.Settings,null)))),o.a.createElement("div",{className:"full-panel-details-info element-settings-info"},w&&o.a.createElement(y,{analyticsId:e,canEdit:I,dueDate:A,onClick:u}),s&&o.a.createElement("div",{className:"element-card element-info-list row"},o.a.createElement("div",{className:"element-image icon columns small-2"},o.a.createElement(g.Rubric,null)),o.a.createElement("div",{className:"element-details element-info-details columns small-10"},o.a.createElement("div",{className:"name"},o.a.createElement("span",null,t.translate("journals.settingsPanel.rubric.title"))),o.a.createElement("div",{className:"settings-link"},o.a.createElement(h.Link,{analyticsId:`${e}.rubric.link`,className:"rubric-title",href:"#",onClick:d},I?o.a.createElement("span",{id:"rubricTitle"},s):o.a.createElement("span",{id:"rubricTitle"},t.translate("journals.settingsPanel.rubric.gradedWithRubric")))))),o.a.createElement($,{analyticsId:e,canEdit:I,possible:O,gradeSchema:S,grade:l,onClick:w?m:c,onGradeSchemaClick:p,isColorEnabled:T,disabled:E,gradeColumn:r}),b&&w&&I&&o.a.createElement(f,{analyticsId:e,accommodationCount:v,isGroupContent:k,openAccommodationsPanel:x})))))}}const L={loadGradebookColumn:u.X.gradebookColumn.loadGradebookColumn,loadGradebookSchemasByCourseId:u.X.gradebookSchema.loadGradebookSchemasByCourseId,loadGradebookGradesByColumnId:u.X.gradebookGrade.loadGradebookGradesByColumnId},N=Object(c.a)(j),B=Object(r.b)((function(e,t){const{journalId:n}=t,i=u.gc.blog.blogs.getBlogById(e,n),s=i&&i.gradeColumnId&&u.gc.gradebookColumn.getGradebookColumnById(e,i.gradeColumnId),a=s&&s.gradingSchemaId&&u.gc.gradebookSchema.getGradebookSchemaById(e,s.gradingSchemaId),o=s&&u.gc.gradebookGrade.getGradebookGradesByColumnId(e,s.id),r=!!i&&u.gc.blog.blogs.canModifyBlog(e,n);return{journal:i,gradeColumn:s,gradeSchema:a,grade:!r&&o&&o.length>0&&o[0]||void 0,preference:u.gc.systemPreference.getSystemPreferenceByKey(e,"gradepill.color.preference.settings"),canEdit:r}}),L)(N);var M=n("Agfx");const R=Object(M.makeStyles)((e=>Object(M.createStyles)({responseHeader:{marginBottom:"3px !important",fontWeight:e.typography.fontWeightSemiBold},responseHeaderContainer:{padding:"17px 0",borderBottom:`1px solid ${e.palette.border.main}`,margin:0},pageSize:{paddingRight:"25px"},paginationContainer:{display:"flex",justifyContent:"right",padding:"17px 0"}})));var F=n("AuQm"),V=n("7O4Y");const _=Object(c.a)((e=>{const{localize:{translate:t},pageSizeOptions:n,limit:i,handleOnLimitChange:s,analyticsId:a}=e,r=R(e),l=t("journals.entry.basicHeaderTitle");return o.a.createElement("div",null,o.a.createElement("div",{className:Object(V.a)("response-header",r.responseHeaderContainer)},o.a.createElement("h2",{className:r.responseHeader},l)),o.a.createElement("div",{className:r.paginationContainer},o.a.createElement(F.I,{className:r.pageSize,pageSizeOptions:n,initialPageSize:i,onPageSizeChange:s,analyticsId:a})))}));var U=n("fN3Q"),H=n.n(U),z=n("n7/H"),q=n("50Q+"),W=n("HuI8");const K=e=>{const{givenName:t,familyName:n,preferredDisplayName:i,otherName:s,durationInfo:a,image:r,isActive:l,isNewContent:c,showInfo:d,showDraft:u,showAccommodation:m}=e,p={givenName:t,familyName:n,preferredDisplayName:i,otherName:s},{translate:h,formatUsername:g}=Object(W.a)(),b=g(p,z.ILocaleUsernameFormat.Short);return o.a.createElement("div",{className:"response-user-info "+(l?"":"grayed-out")},o.a.createElement(E.AnalyticsAvatar,{alt:b,size:"medium",unavailable:!l,src:r}),d&&o.a.createElement("div",{className:"user-info"},o.a.createElement("div",{className:"primary-info"},m&&o.a.createElement(F.a,{className:"accomodations-icon"}),o.a.createElement("span",{className:"username","aria-hidden":!0},o.a.createElement(q.f,{user:p,ariaHidden:!0,format:z.ILocaleUsernameFormat.Short})),c&&o.a.createElement("div",{className:"new-content-pill"},o.a.createElement("span",null,h("journals.newContentPill"))),o.a.createElement("span",{className:"sr-only"},m?h("journals.entry.userInfo.hasAccommodations",{fullName:b}):b),o.a.createElement("span",{className:"draft-label "+(u?"":"hide")},h("journals.entry.draftLabel"))),a&&o.a.createElement("div",{className:"secondary-info"},o.a.createElement("span",{className:"user-details"},a))))};function J(e){return Date.now()-e.getTime()<=864e5}function Q(e,t){switch(e){case I.l.NeedsGrading:return t("journals.gradesAndParticipation.status.needsGrading");case I.l.NotAttempted:return t("journals.gradesAndParticipation.status.noSubmission");case I.l.Completed:return t("journals.gradesAndParticipation.status.completed");case I.l.InProgress:return t("journals.gradesAndParticipation.status.opened");default:return t("journals.gradesAndParticipation.status.noSubmission")}}function Z(e,t){let n=!1;if(e)if(t)n=t>e;else{n=Date.now()>e.getTime()}return n}function Y(e,t,n){return t?n(e?"journals.gradesAndParticipation.statusLastEntry.lastEntryLate":"journals.gradesAndParticipation.statusLastEntry.lastEntry",{datetime:t}):n(e?"journals.gradesAndParticipation.statusLastEntry.noEntryLate":"journals.gradesAndParticipation.statusLastEntry.noEntry")}const X=(e,t,n,i,s,a)=>({blogId:e,courseId:t,searchText:n,submissionStatus:a,paging:{limit:i,offset:s}});var ee=n("myse"),te=n("WBPx");const ne="journals.entry";class ie extends o.a.Component{constructor(e){var t;super(e),this.ariaLabelledBy=`bb-response-editor${H.a.v4()}`,this.onCancel=()=>{this.setState({isToolbarHidden:!0,isOverrideViewMode:!1})},this.onSave=()=>{this.setState({isSaving:!0}),this.state.toBbML(!0).then((e=>{const{entry:t,addBlogEntry:n,entryContext:s,modifyBlogEntry:a,mode:o}=this.props,{courseId:r,journalId:l,creatorId:c,assignedUserId:d}=s,u=d||c;if(""===e&&o===i.CREATE||e===(null==t?void 0:t.description.rawText))return this.setState({isSaving:!1}),void this.onCancel();this.setState({isSaving:!0}),t?a({courseId:r,blogId:l,prevEntry:t,nextEntry:{...t,creatorId:c,description:{rawText:e,displayText:e},assignedUserId:u}}).then((()=>{o===i.CREATE&&this.setState({currentBbml:""}),this.setState({isOverrideViewMode:!1,isToolbarHidden:!0,isSaving:!1})})):n({courseId:r,blogId:l,nextEntry:{...t,creatorId:c,description:{rawText:e,displayText:e},assignedUserId:u}}).then((()=>{o===i.CREATE&&this.setState({currentBbml:""}),(null==s?void 0:s.addEntryCallback)&&s.addEntryCallback(),this.setState({isOverrideViewMode:!1,isToolbarHidden:!0,isSaving:!1})}))}))},this.onDelete=async()=>{const{removeBlogEntry:e,entryContext:t,entry:n}=this.props,{courseId:i,journalId:s}=t;await e({courseId:i,blogId:s,entryId:n.id})},this.onFocus=()=>{this.setState({isToolbarHidden:!1})},this.onFocusWithAnalytics=()=>{const{analyticsEventAugmentor:e,analyticsId:t}=this.props;e(ee.AnalyticsEventTypes.CLICK_EVENT,this.onFocus,`${t}.body.input.text`)(null)},this.onEditorContentChanged=e=>{this.setState({toBbML:e.toBbML,currentBbml:e.toBbML()})},this.getDuration=()=>{const{localize:e,entry:t}=this.props;if(t){const n=new Date(t.createdDate);(new Date).getTime()-n.getTime()>=6e4&&n.setSeconds(30);const{date:i,time:s}=e.formatDuration(n,void 0,z.ILocaleDateFormat.Short);return J(n)?e.translate("components.directives.duration.agoText",{durationDate:i,durationTime:s}):e.formatDatetime(n,z.ILocaleDatetimeFormat.Short)}return""},this.openDeleteConfirmationDialog=()=>{this.setState({isDialogHidden:!1})},this.onDialogDismiss=()=>{this.setState({isDialogHidden:!0})},this.onDialogConfirm=()=>{this.onDelete(),this.onDialogDismiss()},this.onActionMenuClick=e=>{this.setState({target:e.currentTarget})},this.enableEditing=()=>{this.setState({isOverrideViewMode:!0,isToolbarHidden:!1},(()=>{this.focusEditor()}))},this.isReadOnly=()=>!this.state.isOverrideViewMode&&this.props.mode===i.VIEW,this.setPluginConfig=()=>{const{entryContext:e,babelfishFormatInstance:t,babelfishInstance:n}=this.props,{courseId:i,pluginConfig:s}=e,a={courseId:i,babelfishFormatInstance:t,babelfishInstance:n,apiBasePath:Object(u.mb)(u.kb.apiBasePath),locale:this.props.currentLocale,xsrfToken:u.kb.xsrf};this.setState({pluginConfig:{...a,insertYoutubeVideo:{...a,getEmbedSrc:s.lti},contentMarket:{...a,getEmbedSrc:s.lti,openContentMarket:s.openContentMarket},insertCloudStorageIntegrationFile:{...a,openCloudStorageIntegrationModal:s.openCloudStorageIntegrationModal}},isConfigReady:!0})},this.renderActionDialog=()=>{const{analyticsId:e,localize:t}=this.props;return!this.state.isDialogHidden&&o.a.createElement(h.Dialog,{analyticsId:`${e}.options.delete.confirmationDialog`,onDismiss:this.onDialogDismiss,showAsCallout:!0,target:this.state.target,dialogContentProps:{type:h.DialogType.actionConfirmation,title:t.translate(`${ne}.actionMenu.delete.confirmationDialog.title`),subText:t.translate(`${ne}.actionMenu.delete.confirmationDialog.description`),showCloseButton:!1}},o.a.createElement(h.DialogFooter,null,o.a.createElement(te.AnalyticsDefaultButton,{onClick:this.onDialogDismiss,analyticsId:`${e}.options.delete.confirmationDialog.cancel.button`},t.translate(`${ne}.actionMenu.delete.confirmationDialog.dialogFooter.cancelButton`)),o.a.createElement(te.AnalyticsPrimaryButton,{onClick:this.onDialogConfirm,analyticsId:`${e}.options.delete.confirmationDialog.save.button`},t.translate(`${ne}.actionMenu.delete.confirmationDialog.dialogFooter.deleteButton`))))};const n=(null===(t=e.entry)||void 0===t?void 0:t.description.rawText)||"";this.state={toBbML:Object(l.generateToBbML)(n),currentBbml:n,isDialogHidden:!0,isConfigReady:!1,isOverrideViewMode:!1,isToolbarHidden:!0,pluginConfig:{},isSaving:!1}}componentDidMount(){!this.state.isConfigReady&&this.props.entryContext.pluginConfig&&this.setPluginConfig()}componentDidUpdate(e){const t=this.props.entry,n=e.entry;!this.state.isConfigReady&&this.props.entryContext.pluginConfig&&this.setPluginConfig(),(null==n?void 0:n.description.rawText)!==(null==t?void 0:t.description.rawText)&&this.setState({currentBbml:t.description.rawText})}get isNew(){const{entry:e}=this.props,t=e&&e.userStatus,n=null==t?void 0:t.entryLastSeenDate,i=null==e?void 0:e.createdDate;return!!t&&(!n||n<i)}get isSaveButtonDisabled(){var e;return this.state.isSaving||""===this.state.currentBbml||this.state.currentBbml===(null===(e=this.props.entry)||void 0===e?void 0:e.description.rawText)}focusEditor(){this.node.querySelector(".ql-editor.bb-editor").focus()}get shouldShowEditInformation(){const{entry:e}=this.props,t=null==e?void 0:e.createdDate,n=null==e?void 0:e.updatedDate;return t&&n&&Math.abs(n.getTime()-t.getTime())>=1e3}get shouldShowActionMenu(){const{entry:e}=this.props;return this.isReadOnly()&&(e&&e.permissions.delete||e.permissions.modify)}get menuOptions(){const{localize:e,entry:t}=this.props,n={directionalHint:6,items:[]};return t&&t.permissions.modify&&n.items.push({onClick:this.enableEditing,icon:o.a.createElement(x.Edit,null),key:"editEntry",name:e.translate(`${ne}.actionMenu.edit.label`)}),t&&t.permissions.delete&&n.items.push({onClick:this.openDeleteConfirmationDialog,icon:o.a.createElement(x.Trash,null),key:"deleteEntry",name:e.translate(`${ne}.actionMenu.delete.label`)}),n}render(){const{analyticsId:e,entry:t,localize:n,mode:s,showUserInfo:a,userInfo:r}=this.props,{translate:l,formatUsername:c}=n,d=s===i.CREATE,u=c(r,z.ILocaleUsernameFormat.Short);return o.a.createElement("div",{ref:e=>{this.node=e},className:"response"},o.a.createElement("div",{className:d?"comment-avatar-wrapper":"comment-wrapper"},this.shouldShowActionMenu&&o.a.createElement("div",{className:"response__action-menu-wrapper",onClick:this.onActionMenuClick},o.a.createElement(h.ActionMenu,{className:"response__action-menu",analyticsId:`${e}.actionMenu`,disabled:!this.state.isDialogHidden,ariaLabel:l(`${ne}.actionMenu.ariaLabel`),menuProps:this.menuOptions,title:l(`${ne}.actionMenu.title`,{displayName:u,datetime:t.createdDate})}),this.renderActionDialog()),o.a.createElement("div",{className:"element-image avatar no-select one-participant"},o.a.createElement(K,{durationInfo:this.getDuration(),...r,showDraft:t&&t.isDraft,showInfo:a,isNewContent:this.isNew})),o.a.createElement("div",{className:"reply-form comments"},this.state.isConfigReady&&o.a.createElement(p,{placeholder:l(`${ne}.edit.placeholder`),editor:{ariaLabelledBy:this.ariaLabelledBy,bbml:(null==t?void 0:t.description.rawText)||"",isPrivileged:!0,isReadOnly:this.isReadOnly(),isToolbarHidden:this.state.isToolbarHidden,onEditorContentChanged:this.onEditorContentChanged,onFocus:this.onFocusWithAnalytics,pluginConfig:this.state.pluginConfig,shouldSetPristine:!1,showWordCount:!0}})),!this.state.isToolbarHidden&&o.a.createElement("div",{className:"panel-editor-controls"},o.a.createElement(te.AnalyticsDefaultButton,{className:"button button--secondary js-secondary-button js-text-editor-cancel",analyticsId:`${e}.edit.cancel.button`,onClick:this.onCancel},l(`${ne}.edit.cancel`)),o.a.createElement(te.AnalyticsPrimaryButton,{className:"button js-primary-button js-text-editor-save",analyticsId:`${e}.edit.save.button`,disabled:this.isSaveButtonDisabled,onClick:this.onSave},l(`${ne}.edit.post`))),this.shouldShowEditInformation&&o.a.createElement("div",{className:"response__edit-info"},l(`${ne}.lastUpdateInfo`,{date:t.updatedDate}))))}}const se=Object(c.a)(Object(ee.withAnalytics)(ie));var ae=n("x6OE"),oe=n.n(ae);class re extends a.Component{constructor(e){super(e),this.ariaLabelledBy=`item-reply-editor${U.v4()}`,this.closeEditor=()=>{this.setState({currentBbml:this.props.bbml||"",isReadOnly:this.isEditable,isToolbarHidden:!0}),this.props.onEditorClose&&this.props.onEditorClose()},this.onSave=async()=>{try{this.setState({isSaving:!0});const e=await this.state.toBbML(!0);""!==e&&e!==this.props.bbml&&await this.props.onSave(e),this.closeEditor()}catch(e){}finally{this.setState({isSaving:!1})}},this.onDelete=()=>{this.props.onDelete&&this.props.onDelete()},this.onDeleteButtonClick=()=>{this.setState({shouldShowDialog:!0})},this.onFocus=()=>{this.setState({isToolbarHidden:!1}),this.props.onEditorFocus&&this.props.onEditorFocus()},this.onFocusWithAnalytics=()=>{const{analyticsEventAugmentor:e,analyticsId:t}=this.props;e(ee.AnalyticsEventTypes.CLICK_EVENT,this.onFocus,`${t}.body.input.text`)(null)},this.onBlur=()=>{const{bbml:e,onEditorClose:t}=this.props;this.state.currentBbml!==e&&(e||this.state.currentBbml)||(this.setState({isToolbarHidden:!0,isReadOnly:this.isEditable}),t&&t())},this.onEditorContentChanged=e=>{this.setState({toBbML:e.toBbML,currentBbml:e.toBbML()})},this.onDialogDismiss=()=>{this.setState({shouldShowDialog:!1})},this.onActionMenuClick=e=>{this.setState({target:e.currentTarget})},this.setToEditMode=()=>{this.setState({isReadOnly:!1,isToolbarHidden:!1},(()=>{this.focusEditor()}))},this.renderDialog=()=>{const{analyticsId:e,localize:t}=this.props;return this.state.shouldShowDialog&&a.createElement(h.Dialog,{analyticsId:`${e}.options.delete.confirmationDialog`,onDismiss:this.onDialogDismiss,showAsCallout:!0,target:this.state.target,dialogContentProps:{type:h.DialogType.actionConfirmation,title:t.translate("journals.comment.modals.deleteModalTitle"),subText:t.translate("journals.comment.modals.deleteModalText"),showCloseButton:!1}},a.createElement(h.DialogFooter,null,a.createElement(te.AnalyticsDefaultButton,{onClick:this.onDialogDismiss,analyticsId:`${e}.options.delete.confirmationDialog.cancel.button`},t.translate("journals.comment.modals.cancelButtonText")),a.createElement(te.AnalyticsPrimaryButton,{onClick:this.onDelete,analyticsId:`${e}.options.delete.confirmationDialog.save.button`},t.translate("journals.comment.actions.delete"))))};const t=e.bbml||"";this.state={toBbML:Object(l.generateToBbML)(t),currentBbml:t,isToolbarHidden:!0,isReadOnly:this.isEditable,shouldShowDialog:!1,isSaving:!1}}componentDidMount(){this.props.shouldFocusReplyEditor&&this.focusEditor()}componentDidUpdate(e){!e.shouldFocusReplyEditor&&this.props.shouldFocusReplyEditor&&this.focusEditor()}focusEditor(){this.replyBody.querySelector(".ql-editor.bb-editor").focus(),window.scrollTo(0,this.replyBody.offsetTop)}getDateTimeLabel(){const{localize:e,createdDate:t,updatedDate:n}=this.props;if(!t)return"";if(J(t)){const i=e.formatDuration(t,null,z.ILocaleDateFormat.Short);return this.shouldShowEditInformation?e.translate("journals.comment.lastUpdateLessOneDayInfo",{date:n,durationDate:i.date,durationTime:i.time}):e.translate("components.directives.duration.agoText",{durationDate:i.date,durationTime:i.time})}return this.shouldShowEditInformation?e.translate("journals.comment.lastUpdateInfo",{date:n,datetime:t}):e.formatDatetime(t,z.ILocaleDatetimeFormat.Short)}get isEditable(){return null!=this.props.bbml}get isSaveButtonDisabled(){return this.state.isSaving||""===this.state.currentBbml||this.state.currentBbml===this.props.bbml}get shouldShowEditInformation(){const{createdDate:e,updatedDate:t}=this.props;return e&&t&&Math.abs(t.getTime()-e.getTime())>=1e3}get shouldShowActionMenu(){const{canEdit:e,canDelete:t}=this.props,{isReadOnly:n}=this.state;return n&&(e||t)}get actionMenuProps(){const{localize:e,canDelete:t,canEdit:n}=this.props,i={directionalHint:7,items:[]};return n&&i.items.push({onClick:this.setToEditMode,icon:a.createElement(x.Edit,null),key:"edit",name:e.translate("journals.comment.actions.edit")}),t&&i.items.push({onClick:this.onDeleteButtonClick,icon:a.createElement(x.Trash,null),key:"delete",name:e.translate("journals.comment.actions.delete")}),i}render(){const{analyticsId:e,bbml:t,createdDate:n,isNew:i,localize:s,pluginConfig:o,userInfo:r}=this.props,{isReadOnly:l,isToolbarHidden:c}=this.state,d=s.translate("journals.comment.actions.moreOptions");return a.createElement("div",{className:"reply-item"+(this.isEditable?"":" -create-mode")},a.createElement("div",{className:"reply-item__header"},a.createElement("div",{className:"reply-item__header__left"},a.createElement(K,{...r,showInfo:this.isEditable,isNewContent:i})),this.shouldShowActionMenu&&a.createElement("div",{className:"reply-item__action-menu",onClick:this.onActionMenuClick},a.createElement(h.ActionMenu,{analyticsId:`${e}.actionMenu`,ariaLabel:d,title:d,disabled:this.state.shouldShowDialog,menuProps:this.actionMenuProps}))),this.renderDialog(),a.createElement("div",{ref:e=>{this.replyBody=e},className:"reply-item__body"},a.createElement(p,{placeholder:s.translate("journals.comment.editor.placeholder"),editor:{bbml:t,isReadOnly:l,isToolbarHidden:c,pluginConfig:o,ariaLabelledBy:this.ariaLabelledBy,isPrivileged:!0,onBlur:this.onBlur,onEditorContentChanged:this.onEditorContentChanged,onFocus:this.onFocusWithAnalytics,shouldSetPristine:!1,showWordCount:!0}}),!c&&a.createElement("div",{className:"reply-item__editor-controls"},a.createElement(te.AnalyticsDefaultButton,{className:"reply-item__editor-controls__button js-text-editor-cancel",analyticsId:`${e}.edit.cancel.button`,onClick:this.closeEditor},s.translate("journals.comment.editor.cancel")),a.createElement(te.AnalyticsPrimaryButton,{className:"reply-item__editor-controls__button js-text-editor-save",analyticsId:`${e}.edit.save.button`,disabled:this.isSaveButtonDisabled,onClick:this.onSave},s.translate("journals.comment.editor.comment"))),a.createElement("div",{className:"reply-item__container-detail"},l&&n&&a.createElement("div",{className:"reply-item__details"},this.getDateTimeLabel()))))}}re.defaultProps={canDelete:!1,canEdit:!1,isNew:!1,shouldFocusReplyEditor:!1};const le=Object(ee.withAnalytics)(Object(c.a)(re));class ce extends o.a.Component{constructor(){super(...arguments),this.onSave=async e=>{const{comment:t,entry:n,modifyComment:i,addComment:s,entryContext:a}=this.props,{courseId:o,journalId:r}=a;t?await i({courseId:o,blogId:r,entryId:n.id,prevComment:t,nextComment:{...t,description:{...t.description,rawText:e}}}):await s({courseId:o,blogId:r,entryId:n.id,nextComment:{description:{rawText:e}}})},this.onDelete=async()=>{const{entry:e,entryContext:t,deleteComment:n,comment:i}=this.props,{courseId:s,journalId:a}=t;await n({courseId:s,blogId:a,entryId:e.id,commentId:i.id})}}componentDidMount(){const{comment:e,entryContext:t,loadMembershipByMemberId:n}=this.props,i=(null==e?void 0:e.creatorId)||t.creatorId;n(t.courseId,i)}get isNew(){const{comment:e,entry:t,entryContext:n}=this.props,i=t&&t.userStatus,s=e&&e.creatorId===n.creatorId,a=null==i?void 0:i.commentLastSeenDate,o=null==e?void 0:e.createdDate;return!!e&&!!i&&!s&&(!a||o>a)}getPluginConfig(){const{entryContext:e,babelfishFormatInstance:t,babelfishInstance:n}=this.props,{courseId:i,pluginConfig:s}=e,a={courseId:i,babelfishFormatInstance:t,babelfishInstance:n,apiBasePath:Object(u.mb)(u.kb.apiBasePath),locale:this.props.currentLocale,xsrfToken:u.kb.xsrf};return{...a,insertYoutubeVideo:{...a,getEmbedSrc:s.lti},contentMarket:{...a,getEmbedSrc:s.lti,openContentMarket:s.openContentMarket},insertCloudStorageIntegrationFile:{...a,openCloudStorageIntegrationModal:s.openCloudStorageIntegrationModal}}}render(){var e,t,n;const{analyticsId:i,comment:s,userInfo:a,shouldFocusReplyEditor:r,onEditorClose:l,onEditorFocus:c}=this.props,d=null===(e=null==s?void 0:s.description)||void 0===e?void 0:e.rawText,u=null==s?void 0:s.createdDate,m=null==s?void 0:s.updatedDate,p=(null===(t=null==s?void 0:s.permissions)||void 0===t?void 0:t.delete)||!1,h=(null===(n=null==s?void 0:s.permissions)||void 0===n?void 0:n.edit)||!1;return o.a.createElement(le,{analyticsId:i,bbml:d,canDelete:p,canEdit:h,createdDate:u,isNew:this.isNew,onDelete:this.onDelete,onEditorClose:l,onEditorFocus:c,onSave:this.onSave,pluginConfig:this.getPluginConfig(),shouldFocusReplyEditor:r,updatedDate:m,userInfo:a})}}ce.defaultProps={shouldFocusReplyEditor:!1};const de={addComment:u.X.blog.comments.addComment,deleteComment:u.X.blog.comments.deleteComment,modifyComment:u.X.blog.comments.modifyComment,loadMembershipByMemberId:u.X.courseMembership.loadCourseMembershipByMemberId},ue=Object(r.b)(((e,t)=>{var n,i,s,a,o,r;const{comment:l,entryContext:c}=t,d=null!==(n=null==l?void 0:l.creatorId)&&void 0!==n?n:c.creatorId,m=u.gc.courseMembership.getCourseMembershipByMembershipId(e,d),p=u.gc.user.getUserById(e,null==m?void 0:m.userId);return{userInfo:{familyName:null!==(i=null==p?void 0:p.familyName)&&void 0!==i?i:"",givenName:null!==(s=null==p?void 0:p.givenName)&&void 0!==s?s:"",showAccommodation:!1,isActive:!0,image:null!==(o=null===(a=null==p?void 0:p.avatar)||void 0===a?void 0:a.permanentUrl)&&void 0!==o?o:"",otherName:null!==(r=null==p?void 0:p.otherName)&&void 0!==r?r:"",preferredDisplayName:null==p?void 0:p.preferredDisplayName}}}),de)(Object(c.a)(ce));class me extends o.a.Component{constructor(e){super(e),this.handleReplyClick=()=>{this.handleCommentsLoading(),this.setState({shouldShowReplies:!0,shouldFocusReplyEditor:!1},(()=>{this.setState({shouldFocusReplyEditor:!0})}))},this.handleShowRepliesClick=()=>{this.handleCommentsLoading(),this.setState((e=>({shouldShowReplies:!e.shouldShowReplies,shouldFocusReplyEditor:!1})))},this.replyRenderer=e=>{const{analyticsId:t,comments:n,entry:i,entryContext:s}=this.props;return o.a.createElement(ue,{key:n[e].id,analyticsId:`${t}.comment`,comment:n[e],entry:i,entryContext:s,onEditorClose:this.onEditorClose,onEditorFocus:this.onEditorFocus})},this.onEditorFocus=()=>{this.setState({areControlsDisabled:!0})},this.onEditorClose=()=>{this.setState({areControlsDisabled:!1})},this.state={areControlsDisabled:!1,hasLoadedComments:!1,shouldShowReplies:!1,shouldFocusReplyEditor:!1}}componentDidMount(){const{entry:e,entryContext:t,loadCourseMembershipByMemberId:n}=this.props,i=(null==e?void 0:e.creatorId)||"";n(t.courseId,i)}handleCommentsLoading(){const{hasLoadedComments:e}=this.state;e||this.loadComments()}loadComments(){const{entry:e,entryContext:t,loadEntryComments:n}=this.props,{courseId:i,journalId:s}=t;this.setState({hasLoadedComments:!0},(()=>{n(i,s,e.id,{limit:1e3})}))}renderComments(){const{comments:e}=this.props;return e?o.a.createElement(oe.a,{length:e.length,itemRenderer:this.replyRenderer}):null}renderNewCommentsInformation(){var e,t;const{entry:n,localize:i}=this.props,s=null!==(t=null===(e=null==n?void 0:n.userStatus)||void 0===e?void 0:e.unreadCommentCount)&&void 0!==t?t:0;return s<=0?null:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"new-content-pill"},o.a.createElement("span",null,i.translate("journals.newContentPill"))),o.a.createElement("span",{className:"unread-count"},i.translate("journals.entry.comments.newComments.plural",{count:s})))}render(){const{analyticsId:e,entry:t,entryContext:n,localize:s,removeBlogEntry:a,addBlogEntry:r,modifyBlogEntry:l,userInfo:c}=this.props,{areControlsDisabled:d,shouldShowReplies:u,shouldFocusReplyEditor:m}=this.state,p=t.userStatus&&t.userStatus.commentCount||0;return o.a.createElement("div",{className:"response-with-replies-group"},o.a.createElement(se,{analyticsId:e,mode:i.VIEW,entry:t,entryContext:n,showUserInfo:!0,addBlogEntry:r,modifyBlogEntry:l,removeBlogEntry:a,userInfo:c}),o.a.createElement("div",{className:"reply-and-show-replies-control"},o.a.createElement(h.Link,{analyticsId:`${e}.createComment.button`,disabled:d,onClick:this.handleReplyClick},s.translate("journals.entry.comments.comment")),p>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null," | "),o.a.createElement(h.Link,{analyticsId:`${e}.showComments.button`,disabled:d,onClick:this.handleShowRepliesClick},u?s.translate("journals.entry.comments.hideComments",{count:p}):s.translate("journals.entry.comments.showComments",{count:p}))),this.renderNewCommentsInformation()),u&&o.a.createElement("div",{className:"replies"},this.renderComments(),o.a.createElement("div",{className:"new-reply-editor"},o.a.createElement(ue,{analyticsId:`${e}.newComment`,entry:t,entryContext:n,onEditorClose:this.onEditorClose,onEditorFocus:this.onEditorFocus,shouldFocusReplyEditor:m}))))}}const pe={loadEntryComments:u.X.blog.comments.loadEntryComments,addBlogEntry:u.X.blog.entries.addBlogEntry,modifyBlogEntry:u.X.blog.entries.modifyBlogEntry,removeBlogEntry:u.X.blog.entries.removeBlogEntry,loadCourseMembershipByMemberId:u.X.courseMembership.loadCourseMembershipByMemberId},he=Object(r.b)((function(e,t){var n,i,s;const{entry:a}=t,o=u.gc.blog.comments.getCommentsByEntryId(e,a.id),r=(null==a?void 0:a.creatorId)||"",l=u.gc.courseMembership.getCourseMembershipByMembershipId(e,r),c=u.gc.user.getUserById(e,null==l?void 0:l.userId);return{userInfo:{familyName:(null==c?void 0:c.familyName)||"",givenName:(null==c?void 0:c.givenName)||"",showAccommodation:!1,isActive:!0,image:null!==(i=null===(n=null==c?void 0:c.avatar)||void 0===n?void 0:n.permanentUrl)&&void 0!==i?i:"",otherName:null!==(s=null==c?void 0:c.otherName)&&void 0!==s?s:"",preferredDisplayName:null==c?void 0:c.preferredDisplayName},comments:o}}),pe)(Object(c.a)(me));class ge extends o.a.Component{constructor(e){super(e),this.renderResponseGroup=e=>{const{entries:t,entryContext:n}=this.props,i=Object.values(t)[e];return i?o.a.createElement(he,{analyticsId:`${n.analyticsId}.entry`,entry:i,key:i.id,entryContext:n}):null},this.listRef=null}render(){const e=this.props.entries&&Object.values(this.props.entries).length||0;return o.a.createElement(oe.a,{itemsRenderer:(e,t)=>o.a.createElement("div",{ref:t},e),length:e,itemRenderer:this.renderResponseGroup,ref:this.listRef})}}const be=Object(c.a)(ge);var fe,ve,ye;!function(e){e.Small="25",e.Medium="50",e.Large="100"}(fe||(fe={})),function(e){e.Small="5",e.Medium="10",e.Large="20"}(ve||(ve={})),function(e){e.All="all",e.NoSubmission="noSubmission",e.NeedsGrading="needsGrading",e.Complete="complete"}(ye||(ye={}));var ke=n("FAEt"),xe=n("Ep2I");const Se=e=>{const[t,n]=Object(a.useState)("#");return Object(a.useEffect)((()=>{const{routeSearchParams:t,participant:i,participantIndex:s,columnId:a}=e,o=Number(t.limit),r=(Number(t.page||1)-1)*o+(s-1);C.bb.getPeekHref(C.A.JournalSubmission({participantId:i.courseMembershipId,columnId:a,offset:String(r)})).then((e=>{n(e)}))}),[e]),t};var Ce=n("ggbH");const Ee=(e,t)=>Object(r.e)((n=>Ce.c.getGradebookGradesByColumnIdAndUserId(n,e,t)[0]));var Ie=n("suvu");const we=e=>Object(r.e)((t=>Ie.c.getUserById(t,e)));var Ae=n("MN17");const Oe=(e,t)=>Object(r.e)((n=>Ae.c.userHasCourseEntitlement(n,e,t)));const De=e=>{const t=Object(r.d)();Object(a.useEffect)((()=>{e&&t(Ae.a.loadUserCourseEntitlements(e))}),[e,t])};var Te=n("HdiE");const Pe=(e,t)=>{const n=Object(r.d)();Object(a.useEffect)((()=>{e&&t&&n(Te.a.loadParticipationSummary(e,t))}),[e,t,n])};const $e=(e,t,n)=>{const i=Object(r.d)(),s=Object(r.e)((t=>{if(n){const n=u.gc.blog.blogs.getBlogById(t,e);return null==n?void 0:n.gradeColumnId}return null})),o=Object(r.e)((e=>s?u.gc.columnSummary.getColumnSummaryByColumnId(e,s):null)),l=Object(r.e)((e=>{var t;return s?null===(t=u.gc.gradebookColumn.getGradebookColumnById(e,s))||void 0===t?void 0:t.dueDate:null}));return Object(a.useEffect)((()=>{s&&t&&n&&i(u.X.columnSummary.loadColumnSummary({courseId:t,columnId:s}))}),[s,t,n,i]),{columnId:s,columnSummary:o,dueDate:l}};var Ge=n("Bv6r");var je=e=>Object(r.e)((t=>Ge.c.getBlogParticipantsByQuery(t,e)));var Le=(e,t)=>Object(r.e)((n=>t?t.map((t=>{const i=u.gc.gradebookGrade.getGradebookGradesByColumnIdAndUserId(n,e,t.userId)[0];return{courseMembershipId:t.courseMembershipId,user:u.gc.user.getUserById(n,t.userId),hasNewActivity:t.hasNewActivity,attemptStatus:t.attemptStatus,gradeDetail:i,entriesCount:t.entriesCount,lastAttemptDate:t.lastAttemptDate?new Date(t.lastAttemptDate):null}})):[]));var Ne=e=>{var t,n;const i=Object(r.e)((t=>u.gc.blog.participants.getPagingByQuery(t,e))),s=null!==(t=null==i?void 0:i.count)&&void 0!==t?t:1,a=null!==(n=null==i?void 0:i.limit)&&void 0!==n?n:1;return Math.ceil(s/a)};var Be=e=>Object(r.e)((t=>Ge.c.isLoading(t,e)));const Me=e=>{const{journalId:t,courseId:n,columnId:i,submissionStatus:s,searchText:o,limit:l,page:c}=e,d=Object(r.d)(),[m,p]=Object(a.useState)(!1),h=Number(l),g=(Number(c)-1)*h,b=X(t,n,o,h,g,s),f=je(b),v=Be(b),y=Ne(b),k=Le(i,f);return Object(a.useEffect)((()=>{n&&t&&d(u.X.blog.participants.loadParticipantList(b)).then((()=>{p(!1)}))}),[n,t,o,l,c,i,s]),Object(a.useEffect)((()=>{if(!m&&i&&n&&k.length){const e=k.map((e=>e.courseMembershipId));d(u.X.gradebookGrade.loadBulkView(n,[i],e,{expand:["grade.instructorFeedback","attempts"]})),p(!0)}}),[d,n,t,i,k,m]),{participants:k,isLoading:v,numPages:y}};const Re=e=>Object(r.e)((t=>Te.c.getSummaryByBlogId(t,e)));const Fe=()=>Object(r.e)((e=>u.gc.app.getLocation(e))).queryParams;const Ve=(e,t)=>{const n=Object(r.e)((e=>u.gc.app.getLocation(e))).queryParams[e],[i,s]=Object(a.useState)(n||t);return Object(a.useEffect)((()=>{i!==n&&("entryLimit"===e?C.bb.search({[e]:i,entryPage:"1"}):"limit"===e?C.bb.search({[e]:i,page:"1"}):C.bb.search({[e]:i}))}),[i]),Object(a.useEffect)((()=>{const a=Number(n);Number.isNaN(a)||a<=0?(s(t),C.bb.search({[e]:t})):n&&n!==i&&(s(n),C.bb.search({[e]:n}))}),[n]),[i,s]};var _e=n("5Yha");const Ue=Object(M.makeStyles)((e=>Object(M.createStyles)({paginationContainer:{display:"flex",justifyContent:"center",marginTop:"30px"}}))),He=[Number(ve.Small),Number(ve.Medium),Number(ve.Large)],ze={addBlogEntry:u.X.blog.entries.addBlogEntry,modifyBlogEntry:u.X.blog.entries.modifyBlogEntry,removeBlogEntry:u.X.blog.entries.removeBlogEntry,loadBlogEntriesByQuery:u.X.blog.entries.loadBlogEntriesByQuery,loadCourseMembershipByMemberId:u.X.courseMembership.loadCourseMembershipByMemberId},qe=Object(r.b)(((e,t)=>{var n,i,s,a,o,r,l;const{journalId:c,creatorId:d,assignedUserId:m,courseId:p}=t.entryContext,h=u.gc.courseMembership.getCourseMembershipByMembershipId(e,d),g=u.gc.app.getLocation(e).queryParams,b=u.gc.user.getUserById(e,null==h?void 0:h.userId),f=Number(null!==(n=g.entryLimit)&&void 0!==n?n:ve.Small),v=(Number(null!==(i=g.entryPage)&&void 0!==i?i:1)-1)*f,y={familyName:(null==b?void 0:b.familyName)||"",givenName:(null==b?void 0:b.givenName)||"",showAccommodation:!1,isActive:!0,image:null!==(a=null===(s=null==b?void 0:b.avatar)||void 0===s?void 0:s.permanentUrl)&&void 0!==a?a:"",otherName:null!==(o=null==b?void 0:b.otherName)&&void 0!==o?o:void 0,preferredDisplayName:null==b?void 0:b.preferredDisplayName},k={courseId:p,blogId:c,assignedUserId:m||d,expand:"userStatus",paging:{limit:f,offset:v}},x=u.gc.blog.entries.getBlogEntriesViewStatusByQuery(e,k);return{userInfo:y,isViewLoading:null!==(r=null==x?void 0:x.isLoading)&&void 0!==r&&r,isViewValid:null!==(l=null==x?void 0:x.isValid)&&void 0!==l&&l,viewPaging:null==x?void 0:x.paging,entries:u.gc.blog.entries.getBlogEntriesByQuery(e,k),canCreateEntry:u.gc.blog.blogs.canCreateEntry(e,c)}}),ze)((e=>{const{canCreateEntry:t,entries:n,addBlogEntry:s,modifyBlogEntry:a,removeBlogEntry:r,entryContext:l,userInfo:c,loadBlogEntriesByQuery:d,loadCourseMembershipByMemberId:u,isViewLoading:m,isViewValid:p,viewPaging:h}=e,{formatNumber:g}=Object(W.a)(),[b,f]=o.a.useState(1),[v,y]=Ve("entryPage","1"),[k,x]=Ve("entryLimit",ve.Small),S=l.analyticsId;o.a.useEffect((()=>{var e,t;const n=null!==(e=null==h?void 0:h.count)&&void 0!==e?e:1,i=null!==(t=null==h?void 0:h.limit)&&void 0!==t?t:1;f(0===n?1:Math.ceil(n/i))}),[h]),o.a.useEffect((()=>{if((null==l?void 0:l.assignedUserId)&&(null==l?void 0:l.journalId)&&!p){const{courseId:e,journalId:t,creatorId:n,assignedUserId:i}=l;if(u(e,n),n!==i&&u(e,i),t){const s=Number(k),a=(Number(v)-1)*s;d({courseId:e,blogId:t,assignedUserId:i||n,expand:"userStatus",paging:{limit:s,offset:a}})}}}),[null==l?void 0:l.assignedUserId,null==l?void 0:l.journalId,p,k,v]),o.a.useEffect((()=>{!m&&0===n.length&&Number(v)>b&&y(b.toString())}),[b,v,m,n,y]);const C=o.a.useCallback((e=>{const t=Object(_e.d)([e],g)[0];x(t.value)}),[g,x]),E=o.a.useCallback((e=>{y(String(e+1))}),[y]),I=Ue(e),w=Object(xe.a)(),A=Object(ke.a)(w.breakpoints.down("xs"));return o.a.createElement("div",null,o.a.createElement("div",{className:"row spaced collapse reply-form"},o.a.createElement("div",{className:"columns new-comment"},o.a.createElement(_,{...e,pageSizeOptions:He,limit:k,handleOnLimitChange:C,analyticsId:S}),!!t&&o.a.createElement(se,{analyticsId:`${l.analyticsId}.newEntry`,mode:i.CREATE,entryContext:l,showUserInfo:!1,addBlogEntry:s,removeBlogEntry:r,modifyBlogEntry:a,userInfo:c}))),o.a.createElement("div",null,o.a.createElement(be,{entries:n,entryContext:l})),o.a.createElement("div",{className:I.paginationContainer},o.a.createElement(F.J,{numberOfPages:b,onPageChange:E,page:Number(v)-1,analyticsId:l.analyticsId,compact:A})))})),We=e=>o.a.createElement(qe,{entryContext:e});var Ke=n("0AOT"),Je=n("VQ4P");const Qe=Object(M.makeStyles)((e=>Object(M.createStyles)({dialogTitle:{"& h1":{fontFamily:e.typography.fontFamily}}}))),Ze=e=>{const{showPostConfirmationModal:t,analyticsId:n,headerKey:i,handleOnClose:s,onPostConfirmation:a}=e,r=Object(Je.a)(),l="post-grade-confirmation",c=Qe(e);return o.a.createElement(o.a.Fragment,null,o.a.createElement(E.AnalyticsDialog,{analyticsId:`${n}`,open:t,maxWidth:"md",onClose:s,"aria-labelledby":`${l}-dialog-title`},o.a.createElement(E.AnalyticsDialogTitle,{analyticsId:`${n}.titleClose.button`,id:`${l}-dialog-title`,onClick:s,className:c.dialogTitle},r("journals.gradesAndParticipation.postGrade.confirmation.title")),o.a.createElement(E.AnalyticsDialogContent,{analyticsId:`${n}.content`},o.a.createElement(E.AnalyticsDialogContentText,{analyticsId:`${n}.contentText`,id:`${l}-dialog-description`},r(`${i}.postConfirmationDialog`))),o.a.createElement(E.AnalyticsDialogActions,{analyticsId:`${n}.actions`},o.a.createElement(E.AnalyticsDefaultButton,{analyticsId:`${n}.cancel.button`,onClick:s},r("journals.gradesAndParticipation.postGrade.confirmation.cancelButton")),o.a.createElement(E.AnalyticsPrimaryButton,{analyticsId:`${n}.post.button`,onClick:a},r("journals.gradesAndParticipation.postGrade.confirmation.postButton")))))};const Ye=e=>{var t,n,i;const{analyticsId:s,participationSummary:a,columnSummary:r,isGraded:l,headerKey:c,postReadyGrades:d}=e,u=Object(Je.a)(),[m,p]=o.a.useState(!1),h=o.a.useCallback((()=>{p(!0)}),[p]),g=o.a.useCallback((()=>{p(!1),d()}),[p,d]),b=o.a.useCallback((()=>{p(!1)}),[p]);let f={participation:{studentsParticipating:u("journals.gradesAndParticipation.participationSummary.studentsParticipating",{currentNumber:null!==(t=null==a?void 0:a.studentsWithEntriesCount)&&void 0!==t?t:0,totalNumber:null!==(n=null==r?void 0:r.numStudentsEligibleToBeGraded)&&void 0!==n?n:0}),key:u("journals.gradesAndParticipation.participationSummary.studentsParticipating.label")}};if(l){const e=r?r.numStudentsGradedNeedsPosting+r.numberOfOverriddenGradesToPost:0;f={...f,participationToGrade:{count:null!==(i=null==r?void 0:r.numStudentsNeedsGrading)&&void 0!==i?i:0,key:u("journals.gradesAndParticipation.participationSummary.participationToGrade")},gradesToPost:{count:e,key:u("journals.gradesAndParticipation.participationSummary.gradesToPost")},postButton:{analyticsId:`${s}.postAllGrades`,label:u("journals.gradesAndParticipation.postGrade.postAllGrades"),onClick:h}}}return o.a.createElement("div",{className:"journals-participation-summary"},m&&o.a.createElement(Ze,{analyticsId:s,headerKey:c,showPostConfirmationModal:m,handleOnClose:b,onPostConfirmation:g}),o.a.createElement(F.Q,{summary:f}))};const Xe=Object(M.makeStyles)((e=>Object(M.createStyles)({participantRow:{borderBottom:`1px solid ${e.palette.secondary.main}`,"&:hover":{backgroundColor:e.palette.background.b3,"& $displayName":{textDecoration:"underline"}}},tableRow:{paddingTop:"12px",paddingBottom:"8px",border:"none"},userInfo:{display:"flex",flexDirection:"column"},userName:{fontWeight:e.typography.fontWeightSemiBold,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},displayName:{fontWeight:e.typography.fontWeightSemiBold,color:"inherit",textDecoration:"inherit","&:hover, &:focus, &:active":{color:"inherit",textDecoration:"underline"}},userStatus:{fontWeight:e.typography.fontWeightRegular},notAttempted:{color:e.palette.error.main},completed:{display:"flex"},completedIcon:{marginRight:"5px",color:e.palette.success.main,alignSelf:"center"},gradepill:{display:"inline-flex",flexWrap:"wrap"},gradeInfo:{fontWeight:e.typography.fontWeightRegular,fontStyle:"italic",paddingTop:"3px",paddingLeft:"5px",color:e.palette.text.hint},pastDueZero:{fontWeight:e.typography.fontWeightLight,fontStyle:"italic",paddingTop:"3px",paddingLeft:"5px",color:e.palette.text.primary},containerIndicator:{position:"relative",width:"40px"},indicator:{marginBottom:"50%",marginTop:"50%",width:"8px",border:`1px solid ${e.palette.indicatorPrimary.contrastText}`,height:"8px",display:"inline-block",position:"absolute",borderRadius:"50%",left:"-8px",backgroundColor:e.palette.indicatorPrimary.main},lateLastEntry:{color:e.palette.error.main,fontSize:"14px",lineHeight:"21px",fontWeight:e.typography.fontWeightRegular},postedLabel:{color:e.palette.success.main,fontStyle:"italic"}}))),et={updateAttemptGrade:u.X.gradebookAttempt.updateAttemptById,loadColumnSummary:u.X.columnSummary.loadColumnSummary,loadBulkViewGrades:u.X.gradebookGrade.loadBulkView,createGradeByUserId:u.X.gradebookGrade.createGradeByUserId,updateGradeByGradeId:u.X.gradebookGrade.updateGradeByGradeId},tt=Object(r.b)(((e,{gradeColumnId:t,userId:n})=>{const i=u.gc.gradebookColumn.getGradebookColumnById(e,t),s=null==i?void 0:i.gradingSchemaId,a=u.gc.gradebookSchema.getGradebookSchemaById(e,s),o=u.gc.gradebookGrade.getGradebookGradesByColumnIdAndUserId(e,t,n)[0],r=(null==i?void 0:i.courseId)&&u.gc.courseEntitlements.userHasCourseEntitlement(e,i.courseId,k.q.EnterItemGrades),l=(null==i?void 0:i.courseId)&&u.gc.courseEntitlements.userHasCourseEntitlement(e,i.courseId,k.q.OverrideItemGrades);let c=!1;const d=u.gc.systemPreference.getSystemPreferenceByKey(e,"gradepill.color.preference.settings");if(d&&d.value){c=!JSON.parse(d.value).isColorEnabled}return{gradebookGrade:o,grade:null==o?void 0:o.displayGrade.score,pointsPossible:null==i?void 0:i.possible,variant:O(null==a?void 0:a.scaleType),symbolsMap:(m=null==a?void 0:a.symbols,m?m.map((e=>({symbol:e.symbol,lowerBound:e.lowerBound,upperBound:e.upperBound}))):null),symbol:null==o?void 0:o.displayGrade.grade,courseId:null==i?void 0:i.courseId,gradeId:null==o?void 0:o.id,participantId:null==o?void 0:o.memberId,enterAttemptGradesEntitlement:r,overrideGradesEntitlement:l,hasRubric:!!(null==i?void 0:i.rubricAssociations),attemptId:null==o?void 0:o.lastAttemptId,colorless:c};var m}),et)((e=>{const{userId:t,grade:n,pointsPossible:i,variant:s,symbolsMap:r,symbol:l,courseId:c,gradeId:d,attemptId:u,gradeColumnId:m,ariaLabel:p,analyticsId:h,enterAttemptGradesEntitlement:g,overrideGradesEntitlement:b,canShowRubricIcon:f,canGradeWithRubric:v,overrideGrade:y,hasRubric:x,participantId:S,gradebookGrade:E,colorless:w,isExempt:A,loadColumnSummary:O,updateAttemptGrade:T,loadBulkViewGrades:P,createGradeByUserId:$,updateGradeByGradeId:G,onGradeUpdate:j}=e,L=Object(Je.a)(),N=()=>T({courseId:c,attemptId:u,payload:{score:null,grade:"-",status:I.l.NeedsGrading,rubricEvaluation:null}}),[B,M]=Object(a.useState)(n),R=o.a.useCallback((async e=>{e!==B&&(M(e),d&&y?(await G(E,{...E,manualScore:e}),null===e&&u&&await N()):u&&!y?(null===e?await N():await T({courseId:c,attemptId:u,payload:{score:e,readyToPost:!0}}),await G(E,{...E,manualScore:null})):await $({courseId:c,columnId:m,userId:t,manualScore:e}),P(c,[m],[S],{expand:["grade.instructorFeedback","attempts"]}),O({courseId:c,columnId:m}),j&&j(e))}),[d,B,u,y]);Object(a.useEffect)((()=>{M(D(n,i,e.variant))}),[n]);const F=()=>{C.bb.goPeekState(C.I.RubricEvaluation({userId:t}))},V=e=>o.a.createElement(o.a.Fragment,null,e&&v&&u?o.a.createElement(k.J,{onClick:F,ariaLabel:L("journals.participantGrade.rubricIconAriaLabel"),analyticsId:`${h}.gradepill.rubricIcon`}):o.a.createElement(k.J,{ariaLabel:L("journals.participantGrade.rubricIconAriaLabelDisabled")})),_=()=>{const e={grade:B,pointsPossible:i,variant:s,symbolsMap:r,gradeColorVariant:w?k.G.Black:null,onBlur:R,ariaLabel:p,analyticsId:`${h}.gradePill`};return f&&x?o.a.createElement(k.o,{...e},V(!0)):o.a.createElement(k.o,{...e})},U=e=>{let t=null;A?t=k.G.Grey:w&&(t=k.G.Black);const n={grade:B,pointsPossible:i,variant:s,symbolGrade:l,gradeColorVariant:t};return f&&x?o.a.createElement(k.I,{...n},V(e)):o.a.createElement(k.I,{...n})};return y&&b||!y&&g?A?U(!0):_():U(!1)})),nt=Object(M.makeStyles)((e=>Object(M.createStyles)({root:{margin:"0 -30px",[e.breakpoints.down("sm")]:{width:"100vw",position:"relative",left:"50%",right:"50%",marginLeft:"-50vw",marginRight:"-50vw"}},loadingSpinner:{textAlign:"center",margin:"100px"},isEmptyPage:{width:"100%",marginBottom:"30px",maxHeight:"700px","& $isEmptyImage":{display:"inline-block"}},isEmptyExplanation:{height:"100%",opacity:1,transition:`all ${e.transitions.duration.short}ms ${e.transitions.easing.easeInOut}`,padding:"0 30px"},isEmptyImage:{height:"200px",width:"auto",marginBottom:"30px",transform:"scale(1)",transition:`all ${e.transitions.duration.short}ms ${e.transitions.easing.easeInOut}`},isEmptyWrapper:{textAlign:"center",marginTop:"40px"},isEmptyHeader:{fontSize:e.typography.fontSizeXLarge}}))),it=Object(M.makeStyles)((e=>Object(M.createStyles)({gradeInfo:{fontWeight:e.typography.fontWeightRegular,paddingTop:"3px",paddingLeft:"5px",color:e.palette.text.hint}}))),st=e=>{const{isExempt:t,displayGrade:n}=e,i=Object(Je.a)(),s=it(e);return t?o.a.createElement("span",{className:Object(V.a)("exempt",s.gradeInfo)},i("journals.gradesAndParticipation.grade.exempt")):(null==n?void 0:n.scoredByAutomaticZero)?o.a.createElement("span",{className:Object(V.a)("past-due-zero",s.gradeInfo)},i("journals.gradesAndParticipation.grade.pastDueZero")):(null==n?void 0:n.isOverride)?o.a.createElement("span",{className:Object(V.a)("override",s.gradeInfo)},i("journals.gradesAndParticipation.grade.override")):null};var at=n("GuFu"),ot=n("RPob");const rt=Object(r.b)(((e,t)=>({canPostGrades:u.gc.courseEntitlements.userHasCourseEntitlement(e,t.courseId,k.q.PublishGrades),routeSearchParams:u.gc.app.getLocation(e).queryParams})),null)((e=>{var t,n;const{gradeColumnId:i,participant:s,analyticsId:a,headerKey:r,isGraded:l,canPostGrades:c,dueDateJournal:d,onPostClick:u,routeSearchParams:m,participantIndex:p}=e,{translate:h,formatUsername:g,formatNumber:b}=Object(W.a)(),{courseMembershipId:f,user:v,entriesCount:y,gradeDetail:k,attemptStatus:S,lastAttemptDate:C,hasNewActivity:O}=s,D=Object(at.G)(q.i),T=g({...s.user,preferredDisplayName:Object(ot.r)(s.user,D)},z.ILocaleUsernameFormat.Short),P=Xe(e),[$,G]=o.a.useState(!1),j=Se({routeSearchParams:m,participant:s,participantIndex:p,columnId:i});let L;I.l.NotAttempted===S&&(L=P.notAttempted),I.l.Completed===S&&(L=P.completed);const N=e=>{e.preventDefault(),e.stopPropagation(),G(!0)},B=o.a.useCallback((()=>(G(!1),u(k.columnId,k.id,f))),[N,null==k?void 0:k.columnId,null==k?void 0:k.id,f]),M=()=>{G(!1)},R=Z(d,C),F=(null==k?void 0:k.displayGrade.score)?"graded":"nonGraded";return o.a.createElement(o.a.Fragment,null,$&&o.a.createElement(Ze,{analyticsId:`${a}.confirmationDialog`,headerKey:r,showPostConfirmationModal:$,handleOnClose:M,onPostConfirmation:B}),o.a.createElement(E.AnalyticsTableRow,{className:P.participantRow,analyticsId:a},o.a.createElement(E.AnalyticsTableCell,{className:P.tableRow,analyticsId:`${a}.avatar.cell`},O&&o.a.createElement("div",{className:P.containerIndicator},o.a.createElement("span",{className:Object(V.a)("indicator",P.indicator)})),o.a.createElement(E.AnalyticsAvatar,{src:null===(n=null===(t=s.user)||void 0===t?void 0:t.avatar)||void 0===n?void 0:n.permanentUrl,size:"medium",alt:T,className:"user-avatar"})),o.a.createElement(E.AnalyticsTableCell,{className:P.tableRow,analyticsId:`${a}.userInfo.cell`},o.a.createElement("div",{className:Object(V.a)("user-info",P.userInfo)},o.a.createElement(E.AnalyticsLink,{analyticsId:`${a}.displayName`,className:Object(V.a)("display-name",P.displayName),href:j},T),o.a.createElement("span",{className:Object(V.a)("last-entry",P.userStatus,R&&P.lateLastEntry)},!(null==k?void 0:k.isExempt)&&Y(R,C,h)))),l&&o.a.createElement(E.AnalyticsTableCell,{className:Object(V.a)("attempt-status",P.tableRow),analyticsId:`${a}.attemptStatus.cell`},o.a.createElement("div",{className:L},I.l.Completed===S&&o.a.createElement(x.Complete,{className:P.completedIcon}),o.a.createElement("span",null,Q(S,h)))),o.a.createElement(E.AnalyticsTableCell,{className:Object(V.a)("entries-count",P.tableRow),analyticsId:`${a}.entriesCount.cell`},o.a.createElement("span",null," ",b(null!=y?y:0)," ")),l&&o.a.createElement(E.AnalyticsTableCell,{analyticsId:`${a}.gradepill.cell`,className:P.tableRow,onClick:e=>e.stopPropagation()},o.a.createElement("div",{className:`${Object(V.a)("gradepill",P.gradepill,F)}`},o.a.createElement(tt,{isExempt:null==k?void 0:k.isExempt,gradeColumnId:i,userId:v.id,ariaLabel:(()=>{let e="scoreInputEmpty";return(null==k?void 0:k.displayGrade.scoredByAutomaticZero)?e="pastDueZeroScoreInputGraded":void 0!==(null==k?void 0:k.displayGrade.score)&&(e="scoreInputGraded"),h(`journals.gradesAndParticipation.grade.aria.${e}`,{displayName:T,grade:null==k?void 0:k.displayGrade.score,total:null==k?void 0:k.pointsPossible})})(),analyticsId:`${a}.participantGrade`,overrideGrade:!0}),o.a.createElement(st,{isExempt:null==k?void 0:k.isExempt,displayGrade:null==k?void 0:k.displayGrade}))),l&&o.a.createElement(E.AnalyticsTableCell,{analyticsId:`${a}.postGrade.cell`,className:P.tableRow},o.a.createElement("div",{className:"post-grade"},!(null==k?void 0:k.isExempt)&&w(k)&&o.a.createElement("span",{className:P.postedLabel},h("journals.gradesAndParticipation.postGrade.posted")),!(null==k?void 0:k.isExempt)&&c&&A(k)&&o.a.createElement(E.AnalyticsDefaultButton,{analyticsId:`${a}.post.button`,onClick:N},h("journals.gradesAndParticipation.postGrade.button"))))))})),lt=Object(M.makeStyles)((e=>Object(M.createStyles)({userAvatarCol:{width:"10%",[e.breakpoints.up("md")]:{width:"5.5%"}},studentInformationCol:{width:"20%",[e.breakpoints.up("md")]:{width:"26%"}},gradingStatusCol:{width:"20%"},entriesGradedCol:{width:"15%",[e.breakpoints.up("md")]:{width:"20%"}},gradingInformationCol:{width:"20%"},postGradeCol:{width:"15%",[e.breakpoints.up("md")]:{width:"10%"}},studentInformationNonGradableCol:{width:"40%"},entriesNonGradableCol:{width:"50%"},header:{paddingBottom:"10px",borderBottom:`1px solid ${e.palette.secondary.main}`,fontWeight:e.typography.fontWeightSemiBold},tableHeader:{paddingTop:"9px",paddingBottom:"10px",background:"none",borderTop:"none"},participantListTable:{textAlign:"left",width:"100%",tableLayout:"fixed"},participantList:{[e.breakpoints.up("md")]:{marginLeft:"36px",marginRight:"31px"}}}))),ct=e=>{const{gradeColumnId:t,participants:n,analyticsId:i,courseId:s,dueDateJournal:a,headerKey:r,isGraded:l,onPostClick:c}=e,d=Object(Je.a)(),u=lt(e),m=`${i}.tableHeader`;return o.a.createElement("div",{className:u.participantList},o.a.createElement(E.AnalyticsTable,{className:u.participantListTable,analyticsId:`${i}.table`},o.a.createElement("colgroup",null,o.a.createElement("col",{className:u.userAvatarCol}),o.a.createElement("col",{className:l?u.studentInformationCol:u.studentInformationNonGradableCol}),l&&o.a.createElement("col",{className:u.gradingStatusCol}),o.a.createElement("col",{className:l?u.entriesGradedCol:u.entriesNonGradableCol}),l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("col",{className:u.gradingInformationCol}),o.a.createElement("col",{className:u.postGradeCol}))),o.a.createElement(E.AnalyticsTableHead,{analyticsId:m},o.a.createElement(E.AnalyticsTableRow,{className:u.header,analyticsId:i},o.a.createElement(E.AnalyticsTableCell,{className:Object(V.a)(u.tableHeader,"user-avatar"),analyticsId:`${m}.avatar`},o.a.createElement("span",{className:"sr-only"},d("journals.gradesAndParticipation.participantListHeader.user"))),o.a.createElement(E.AnalyticsTableCell,{className:Object(V.a)(u.tableHeader,"display-name"),analyticsId:`${m}.displayName`},o.a.createElement("span",null,d(`${r}.participantListHeader.displayName`))),l&&o.a.createElement(E.AnalyticsTableCell,{className:Object(V.a)(u.tableHeader,"status"),analyticsId:`${m}.status`},o.a.createElement("span",null,d("journals.gradesAndParticipation.participantListHeader.status"))),o.a.createElement(E.AnalyticsTableCell,{className:Object(V.a)(u.tableHeader,"entries"),analyticsId:`${m}.entries`},o.a.createElement("span",null,d("journals.gradesAndParticipation.participantListHeader.entries"))),l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(E.AnalyticsTableCell,{className:Object(V.a)(u.tableHeader,"grade"),analyticsId:`${m}.grade`},o.a.createElement("span",null,d("journals.gradesAndParticipation.participantListHeader.grade"))),o.a.createElement(E.AnalyticsTableCell,{className:Object(V.a)(u.tableHeader,"posted"),analyticsId:`${m}.posted`},o.a.createElement("span",{className:"sr-only"},d("journals.gradesAndParticipation.participantListHeader.grade")))))),o.a.createElement(E.AnalyticsTableBody,{id:"journals-participants-table-body",analyticsId:i},n.map(((e,n)=>o.a.createElement(rt,{key:n,gradeColumnId:t,participant:e,isGraded:l,courseId:s,headerKey:r,dueDateJournal:a,onPostClick:c,analyticsId:`${i}.participantRow`,participantIndex:n}))))))},dt=Object(M.makeStyles)((e=>Object(M.createStyles)({participantsListOptions:{display:"flex",flexDirection:"column",margin:0,[e.breakpoints.up(50)]:{flexDirection:"row",margin:"22px 31px 15px 36px",justifyContent:"space-between"}},participantFilters:{display:"flex",flexDirection:"column",height:"90px",justifyContent:"space-between",minWidth:0,margin:"16px 17px",[e.breakpoints.up(40)]:{flexDirection:"row",minWidth:"500px",height:"auto"},[e.breakpoints.up(50)]:{margin:"16px 0",justifyContent:"flex-start"}},participantsSearchBox:{[e.breakpoints.up("sm")]:{maxWidth:"290px",margin:0,width:"100%"}},participantSubmissionFilter:{display:"flex",height:"40px",alignItems:"center",[e.breakpoints.up("sm")]:{marginLeft:"20px"}},submissionFilterDropdown:{flexGrow:1,[e.breakpoints.up(40)]:{minWidth:"155px"}},pageSizeContainer:{display:"inline-flex",alignItems:"center",borderBottom:`1px solid ${e.palette.secondary.main}`,borderTop:`1px solid ${e.palette.secondary.main}`,padding:"20px 17px",[e.breakpoints.up(50)]:{padding:0,borderBottom:"none",borderTop:"none"}},itemsPerPage:{padding:0,"& button":{border:`1px solid ${e.palette.text.hint}`,marginLeft:0}},itemsPerPagePicker:{marginRight:"8px"}}))),ut=[Number(fe.Small),Number(fe.Medium),Number(fe.Large)],mt=e=>{const{isGraded:t,limit:n,initialSearchText:i,initialSubmissionStatus:s,analyticsId:r,onSearchBoxTextChange:l,onLimitChange:c,onSubmissionStatusChange:d}=e,{translate:u,formatNumber:m}=Object(W.a)(),[p,h]=Object(a.useState)(s),g=dt(),[b,f]=Object(a.useState)(i),v=Object(F.ob)();Object(a.useEffect)((()=>{f(i)}),[i]),Object(a.useEffect)((()=>{h(s)}),[s]);const y=Object(a.useCallback)((e=>{f(e),l(e)}),[l]),k=Object(a.useCallback)((e=>{h(e.value),d(e.value)}),[d]),x=Object(F.lb)();return o.a.createElement("div",{className:g.participantsListOptions},o.a.createElement("div",{className:g.participantFilters},o.a.createElement(F.M,{value:b,inputId:"journals-participant-list-search-input",label:u("journals.gradesAndParticipation.search"),analyticsId:`${r}.search`,onChange:y,onClear:()=>y(""),className:g.participantsSearchBox}),o.a.createElement("div",{className:Object(V.a)(g.participantSubmissionFilter,x.comboboxContainerWidth)},o.a.createElement(E.AnalyticsCombobox,{classes:{root:Object(V.a)(x.comboboxReset,x.comboboxWidth,g.submissionFilterDropdown)},floatingLabel:!0,isSearchable:!1,id:"journals-participant-list-submission-filter",label:u("journals.gradesAndParticipation.filters.label"),strings:v,analyticsId:`${r}.filter.dropdown`,options:[{value:ye.All,label:u("journals.gradesAndParticipation.filters.all")},{value:ye.NoSubmission,label:u("journals.gradesAndParticipation.filters.noSubmission")},...t?[{value:ye.NeedsGrading,label:u("journals.gradesAndParticipation.filters.needsGrading")}]:[],{value:ye.Complete,label:u("journals.gradesAndParticipation.filters.complete")}],onChange:k,value:{value:p,label:u(`journals.gradesAndParticipation.filters.${p}`)}}))),o.a.createElement("div",{className:g.pageSizeContainer},o.a.createElement(F.I,{className:g.itemsPerPage,pageSizeOptions:ut,initialPageSize:n,onPageSizeChange:e=>c(Object(_e.d)([e],m)[0]),analyticsId:r})))},pt=Object(M.makeStyles)((e=>Object(M.createStyles)({root:{margin:"25px 0","& .paging-component-button":{border:`1px solid ${e.palette.text.hint}`}}}))),ht=e=>{const{currentPage:t,analyticsId:n,handleOnPageChange:i,numPages:s}=e,o=pt(e),r=Object(xe.a)(),l=Object(ke.a)(r.breakpoints.down("xs"));return a.createElement("div",{className:o.root},a.createElement(F.J,{className:"paging-component",numberOfPages:s,onPageChange:e=>i(e+1),page:t-1,analyticsId:n,compact:l}))};var gt=n("bWNV"),bt=n("oYCK"),ft=n("syUg");const vt=Object(M.makeStyles)((e=>Object(M.createStyles)({participantCard:{padding:"0 18px 13px",borderTop:"none","&:hover":{backgroundColor:e.palette.background.b3,cursor:"pointer","& $displayName":{textDecoration:"underline"}}},avatar:{marginRight:"16px"},participantCardContent:{display:"flex"},userInfo:{display:"flex",flexDirection:"column",width:"80%"},displayName:{fontWeight:e.typography.fontWeightSemiBold,color:"inherit",textDecoration:"inherit",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","&:hover, &:focus, &:active":{color:"inherit",textDecoration:"underline"}},participantData:{paddingTop:"5px"},notAttempted:{color:e.palette.error.main},gradepill:{display:"inline-flex",flex:1},gradeInfo:{fontWeight:e.typography.fontWeightRegular,fontStyle:"italic",paddingTop:"3px",paddingLeft:"5px",color:e.palette.text.hint},containerIndicator:{position:"relative",width:"40px"},indicator:{marginBottom:"50%",marginTop:"50%",width:"8px",border:`1px solid ${e.palette.indicatorPrimary.contrastText}`,height:"8px",display:"inline-block",position:"absolute",borderRadius:"50%",backgroundColor:e.palette.indicatorPrimary.main},lateLastEntry:{color:e.palette.error.main,fontSize:"14px",lineHeight:"21px",fontWeight:e.typography.fontWeightRegular},marginAvatar:{marginLeft:"10px"},postGrade:{justifyContent:"flex-end"},postedLabel:{color:e.palette.success.main,fontStyle:"italic"},participantActions:{marginLeft:"83px",marginRight:"13px",flexWrap:"wrap"},participantInfoLabel:{fontWeight:e.typography.fontWeightSemiBold},entriesCount:{fontWeight:e.typography.fontWeightRegular}}))),yt=Object(r.b)(((e,t)=>({canPostGrades:u.gc.courseEntitlements.userHasCourseEntitlement(e,t.courseId,k.q.PublishGrades),routeSearchParams:u.gc.app.getLocation(e).queryParams})),null)((e=>{var t,n;const{gradeColumnId:i,participant:s,analyticsId:a,headerKey:r,isGraded:l,canPostGrades:c,dueDateJournal:d,onPostClick:u,routeSearchParams:m,participantIndex:p}=e,{translate:h,formatUsername:g}=Object(W.a)(),{courseMembershipId:b,entriesCount:f,gradeDetail:v,attemptStatus:y,lastAttemptDate:k,hasNewActivity:x}=s,S=g(s.user,z.ILocaleUsernameFormat.Short),C=vt(e),[O,D]=o.a.useState(!1);let T;I.l.NotAttempted===y&&(T=C.notAttempted);const P=o.a.useCallback((()=>(D(!1),u(v.columnId,v.id,b))),[u,null==v?void 0:v.columnId,null==v?void 0:v.id,b]),$=()=>{D(!1)},G=o.a.createElement("span",{className:C.entriesCount,key:"participant-card-entries-count-span"},null!=f?f:0),j=Z(d,k),L=(null==v?void 0:v.displayGrade.score)?"graded":"nonGraded",N=Se({routeSearchParams:m,participant:s,participantIndex:p,columnId:i});return o.a.createElement("div",null,O&&o.a.createElement(Ze,{analyticsId:`${a}.confirmationDialog`,headerKey:r,showPostConfirmationModal:O,handleOnClose:$,onPostConfirmation:P}),o.a.createElement(gt.a,{id:"journals-participant-card",analyticsId:`${a}.card`,className:C.participantCard},o.a.createElement(bt.a,{analyticsId:`${a}.cardContent`,className:C.participantCardContent},o.a.createElement("div",{className:C.avatar},x&&o.a.createElement("div",{className:C.containerIndicator},o.a.createElement("span",{className:Object(V.a)("indicator",C.indicator)})),o.a.createElement(E.AnalyticsAvatar,{src:null===(n=null===(t=s.user)||void 0===t?void 0:t.avatar)||void 0===n?void 0:n.permanentUrl,size:"medium",alt:S,className:Object(V.a)("user-avatar",C.marginAvatar)})),o.a.createElement("div",{className:Object(V.a)("user-info",C.userInfo)},o.a.createElement(E.AnalyticsLink,{analyticsId:`${a}.displayName`,className:C.displayName,href:N},S),o.a.createElement("span",{className:Object(V.a)("last-entry",j&&C.lateLastEntry)},Y(j,k,h)),l&&(()=>{const e=y&&I.l.NotAttempted!==y;return o.a.createElement("div",{className:Object(V.a)("attempt-status",T,C.participantData)},e&&o.a.createElement("span",{className:C.participantInfoLabel},`${h("journals.gradesAndParticipation.participantListHeader.status")}: `),o.a.createElement("span",{className:Object(V.a)("attempt-status-label",!e&&C.notAttempted)},Q(y,h)))})(),o.a.createElement("div",{className:Object(V.a)("entries-count",C.participantData)},o.a.createElement("span",{className:C.participantInfoLabel},h("journals.gradesAndParticipation.participantListHeader.participantCard.entries",{count:G}))))),l&&o.a.createElement(ft.a,{analyticsId:`${a}.card`,className:C.participantActions},o.a.createElement("div",{className:`${Object(V.a)("gradepill",C.gradepill,L)}`},o.a.createElement(tt,{gradeColumnId:i,userId:s.user.id,ariaLabel:(()=>{let e="scoreInputEmpty";return(null==v?void 0:v.displayGrade.scoredByAutomaticZero)?e="pastDueZeroScoreInputGraded":void 0!==(null==v?void 0:v.displayGrade.score)&&(e="scoreInputGraded"),h(`journals.gradesAndParticipation.grade.aria.${e}`,{displayName:S,grade:null==v?void 0:v.displayGrade.score,total:null==v?void 0:v.pointsPossible})})(),analyticsId:`${a}.participantGrade`,overrideGrade:!0}),o.a.createElement(st,{displayGrade:null==v?void 0:v.displayGrade})),o.a.createElement("div",{className:`${Object(V.a)("post-grade",C.postGrade)}`},w(v)&&o.a.createElement("span",{className:C.postedLabel},h("journals.gradesAndParticipation.postGrade.posted")),c&&A(v)&&o.a.createElement(E.AnalyticsDefaultButton,{analyticsId:`${a}.post.button`,onClick:()=>{D(!0)}},h("journals.gradesAndParticipation.postGrade.button"))))))})),kt={loadBulkViewGrades:u.X.gradebookGrade.loadBulkView,loadColumnSummary:u.X.columnSummary.loadColumnSummary,postGrade:u.X.gradebookGrade.postGradeByGradeId,postReadyGrades:u.X.gradebookColumn.postReadyGradesByColumnId},xt=Object(r.b)(null,kt)((e=>{const{analyticsId:t,courseId:n,isGraded:i,isOrganization:s,journalId:r,loadBulkViewGrades:l,loadColumnSummary:c,postGrade:u,postReadyGrades:m}=e,p=Object(Je.a)(),h=Object(xe.a)(),g=nt(e),b=Object(ke.a)(h.breakpoints.down("xs")),[f,v]=Ve("page","1"),[y,k]=Ve("limit",fe.Small),[x,S]=(()=>{const{name:e}=Fe(),[t,n]=Object(a.useState)(e||"");return Object(a.useEffect)((()=>{t!==(e||"")&&C.bb.search({name:t,page:"1"})}),[t]),Object(a.useEffect)((()=>{e&&e!==t&&(n(e),C.bb.search({name:e})),!e&&t&&(n(""),C.bb.search({name:void 0}))}),[e]),[t,n]})(),[I,w]=(()=>{const{submissionStatus:e}=Fe(),[t,n]=Object(a.useState)(e||ye.All);return Object(a.useEffect)((()=>{t!==(e||"")&&C.bb.search({submissionStatus:t,page:"1"})}),[t]),Object(a.useEffect)((()=>{e&&e!==t&&(n(e),C.bb.search({submissionStatus:e}))}),[e]),[t,n]})();De(n),Pe(n,r);const{columnId:A,dueDate:O,columnSummary:D}=$e(r,n,i),T=Re(r),P={journalId:r,courseId:n,columnId:A,submissionStatus:I,searchText:x,limit:y,page:f},{participants:$,isLoading:G,numPages:j}=Me(P),L=s?"journals.gradesAndParticipation.organization":"journals.gradesAndParticipation.course",N=[A],B=(e,t,i)=>{u({courseId:n,columnId:e,id:t}).then((()=>{l(n,N,[i],{expand:["grade.instructorFeedback","attempts"]}),c({courseId:n,columnId:e})}))},M=Object(a.useCallback)((()=>{m(n,A).then((()=>{const e=$.map((e=>e.courseMembershipId));l(n,N,e,{expand:["grade.instructorFeedback","attempts"]}),c({courseId:n,columnId:A})}))}),[m,l,c,$]),R=Object(a.useCallback)(Object(d.debounce)((e=>{S(e)}),500,{leading:!1,trailing:!0}),[]),F=()=>null===G||G;return o.a.createElement("div",{className:g.root},o.a.createElement(Ye,{analyticsId:`${t}.summary`,headerKey:L,isGraded:i,participationSummary:T,columnSummary:D,postReadyGrades:M}),o.a.createElement(mt,{isGraded:i,initialSearchText:x,initialSubmissionStatus:I,analyticsId:`${t}.listOptions`,limit:y,onSearchBoxTextChange:R,onLimitChange:e=>{k(e.value)},onSubmissionStatusChange:e=>{w(e)}}),F()&&o.a.createElement("div",{className:g.loadingSpinner},o.a.createElement(E.AnalyticsCircularProgress,{id:"journals-gradesAndParticipation-spinner",ariaLabel:p("journals.gradesAndParticipation.spinner"),size:"large"})),!F()&&((null==$?void 0:$.length)>0?o.a.createElement(o.a.Fragment,null,!b&&o.a.createElement(ct,{gradeColumnId:A,participants:$,dueDateJournal:O,isGraded:i,courseId:n,headerKey:L,onPostClick:B,analyticsId:`${t}.participantList`}),b&&$.map(((e,s)=>o.a.createElement(yt,{key:s,gradeColumnId:A,participant:e,isGraded:i,courseId:n,headerKey:L,dueDateJournal:O,onPostClick:B,participantIndex:s,analyticsId:`${t}.participantCard`})))):(()=>{const e=(null==T?void 0:T.totalStudentsCount)>0?o.a.createElement("div",{className:g.isEmptyExplanation},o.a.createElement("img",{className:g.isEmptyImage,src:Ke,alt:""}),o.a.createElement("h3",{className:g.isEmptyHeader},p("journals.gradesAndParticipation.noResultsFound"))):o.a.createElement("div",{className:g.isEmptyExplanation},o.a.createElement("img",{className:g.isEmptyImage,src:Ke,alt:""}),o.a.createElement("h3",{className:g.isEmptyHeader},p(`${L}.emptyExplanationHeaderKey`)),o.a.createElement("span",null,p(`${L}.emptyExplanationContentKey`)));return o.a.createElement("div",{className:"grades-and-participation"},o.a.createElement("div",{className:Object(V.a)(g.isEmptyPage,"is-empty-page")},o.a.createElement("div",{className:g.isEmptyWrapper},e)))})()),j>1&&o.a.createElement(ht,{currentPage:Number(f),numPages:j,analyticsId:`${t}.listFooterOptions`,handleOnPageChange:e=>{v(String(e))}}))})),St=Object(M.makeStyles)((e=>Object(M.createStyles)({submissionWrapper:{margin:"0 -20px",[e.breakpoints.up("sm")]:{margin:"0 -30px"}},loadingSpinner:{textAlign:"center",margin:"100px"}})));var Ct=n("BY8f");const Et=Object(M.makeStyles)((e=>Object(M.createStyles)({containerStatus:{backgroundColor:e.palette.background.b2,width:"100%",padding:"0 18px",flexFlow:"wrap",display:"flex",flexDirection:"column-reverse",[e.breakpoints.up("sm")]:{padding:"18px 70px",alignItems:"center",flexDirection:"row"},[e.breakpoints.up("md")]:{padding:"18px 132px"}},journal:{[e.breakpoints.up("sm")]:{display:"flex",flex:1}},journalInformation:{textAlign:"center",margin:"18px 0",[e.breakpoints.up("sm")]:{textAlign:"inherit",margin:"0"}},journalIcon:{display:"none",[e.breakpoints.up("sm")]:{display:"inherit",marginRight:"15px"}},journalDates:{fontSize:e.typography.fontSizeMedium,fontWeight:e.typography.fontWeightSemiBold},date:{fontSize:e.typography.fontSizeDefault,fontWeight:e.typography.fontWeightRegular},entriesCommentsCount:{color:e.palette.text.secondary},gradesAndFeedback:{display:"flex",alignSelf:"center",marginTop:"10px",[e.breakpoints.up("sm")]:{marginTop:0,display:"flex",justifyContent:"flex-end",alignItems:"center"}},grade:{alignSelf:"center",marginRight:"10px",[e.breakpoints.up("sm")]:{}},exempt:{color:T.c.granite},menu:{alignSelf:"flex-end",position:"absolute",right:"15px",[e.breakpoints.up("sm")]:{justifyContent:"flex-end",position:"inherit",right:"0px"}},feedbackIcon:{color:e.palette.brand.main},undoOverride:{alignSelf:"center",marginRight:"10px"}})));var It=n("uk6l"),wt=n("3/0u");const At=e=>{const{target:t,isOrganization:n,analyticsId:i,onClose:s,onPostConfirmation:a}=e,r=Object(Je.a)(),l=r("journals.gradesAndParticipation.postGrade.confirmation.title"),c=r(`journals.gradesAndParticipation.${n?"organization":"course"}.postConfirmationDialog`);return o.a.createElement(wt.Dialog,{showAsCallout:!0,onDismiss:s,target:t,dialogContentProps:{type:wt.DialogType.actionConfirmation,title:l,subText:c,showCloseButton:!1},analyticsId:`${i}.dialog`},o.a.createElement(wt.DialogFooter,null,o.a.createElement(te.AnalyticsDefaultButton,{onClick:s,analyticsId:`${i}.cancel.button`},r("journals.gradesAndParticipation.postGrade.confirmation.cancelButton")),o.a.createElement(te.AnalyticsPrimaryButton,{onClick:a,analyticsId:`${i}.post.button`},r("journals.gradesAndParticipation.postGrade.confirmation.postButton"))))},Ot={loadColumnSummary:u.X.columnSummary.loadColumnSummary,loadGradebookGradesByColumnId:u.X.gradebookGrade.loadGradebookGradesByColumnId,postGrade:u.X.gradebookGrade.postGradeByGradeId,updateGrade:u.X.gradebookGrade.updateGradeByGradeId},Dt=Object(r.b)(((e,{participantId:t,journalId:n,columnId:i,courseId:s})=>{var a,o,r,l;const c=u.gc.app.getLocation(e).queryParams,d=Number(null!==(a=c.entryLimit)&&void 0!==a?a:ve.Small),m={courseId:s,blogId:n,assignedUserId:t,expand:"userStatus",paging:{limit:d,offset:(Number(null!==(o=c.entryPage)&&void 0!==o?o:1)-1)*d}},p=t&&n&&(null===(l=null===(r=u.gc.blog.entries.getBlogEntriesViewStatusByQuery(e,m))||void 0===r?void 0:r.paging)||void 0===l?void 0:l.count),h=t&&u.gc.courseMembership.getCourseMembershipByMembershipId(e,t),g=i&&u.gc.gradebookColumn.getGradebookColumnById(e,i),b=i&&h&&u.gc.gradebookGrade.getGradebookGradesByColumnIdAndUserId(e,i,null==h?void 0:h.userId)[0];return{gradeId:null==b?void 0:b.id,userId:null==h?void 0:h.userId,entriesCount:p,dueDate:null==g?void 0:g.dueDate,creationDate:null==g?void 0:g.dateCreated,gradeNeedsPosting:A(b),gradeDetail:b,participantMembership:h,gradeUseRubric:!!(null==g?void 0:g.rubricAssociations)}}),Ot)((e=>{var t,n;const{gradeId:i,courseId:s,entriesCount:a,dueDate:r,creationDate:l,columnId:c,userId:d,analyticsId:u,gradeNeedsPosting:m,isOrganization:p,gradeDetail:h,gradeUseRubric:b,postGrade:f,loadGradebookGradesByColumnId:v,participantMembership:y,loadColumnSummary:k,updateGrade:S,onGradeUpdate:I}=e,{translate:w,formatDate:A}=Object(W.a)(),O="journals.submissions.submissionStatus",D=w(`${O}.entriesCount`,{numEntries:null!=a?a:0}),T=Et(e),[P,$]=o.a.useState(!1),G=o.a.createElement("span",{className:T.date,key:"submission-status-creation-date-span"},l&&A(l,z.ILocaleDateFormat.Short)),j=o.a.createElement("span",{className:T.date,key:"submission-status-due-date-span"},r&&A(r,z.ILocaleDateFormat.Short)),L=w(`${O}.journalDates`,{creationDateSpan:G,dueDateSpan:j}),N=()=>{$(!0)},B=o.a.useCallback((()=>{C.bb.goPeekState(C.A.JournalSubmissionFeedback({columnId:c,userId:d}))}),[c,d]),M=o.a.createElement(It.ActionMenu,{ariaLabel:w(`${O}.actionMenu.ariaLabel`),menuProps:{items:(()=>{const e=[];return m&&!(null==h?void 0:h.isExempt)&&e.push({key:"post",name:`${w(`${O}.actionMenu.post`)}`,icon:o.a.createElement(x.Post,null),onClick:N}),e.push({key:"editFeedback",name:`${w(`${O}.actionMenu.editFeedback`)}`,icon:o.a.createElement(x.Edit,null),onClick:B}),e})()},analyticsId:`${u}.actionMenu`,className:"postGradeActionMenu"});o.a.useEffect((()=>{s&&c&&(null==y?void 0:y.userId)&&v({columnId:c,courseId:s,userId:y.userId})}),[s,c,null==y?void 0:y.userId]);const R=!(null===(t=null==h?void 0:h.displayGrade)||void 0===t?void 0:t.scoredByAutomaticZero)&&!(null==h?void 0:h.isExempt)&&(null===(n=null==h?void 0:h.displayGrade)||void 0===n?void 0:n.isOverride);return o.a.createElement("div",{className:T.containerStatus},o.a.createElement("div",{className:T.journal},o.a.createElement("div",{className:T.journalIcon},o.a.createElement(Ct.a,{color:"primary"})),o.a.createElement("div",{className:Object(V.a)(T.journalInformation,"journal-information")},o.a.createElement("div",{className:Object(V.a)(T.journalDates,"journal-dates")},L),o.a.createElement("div",{className:Object(V.a)(T.entriesCommentsCount,"entries-count")},D))),o.a.createElement("div",{className:T.gradesAndFeedback},R&&o.a.createElement("div",{className:T.undoOverride},o.a.createElement(E.AnalyticsLink,{onClick:async()=>{await S(h,{...h,manualScore:null}),I&&I(null)},analyticsId:`${u}.undoOverride.link`,component:"button"},w("journals.undoOverride"))),o.a.createElement("div",{className:T.grade},o.a.createElement(tt,{isExempt:null==h?void 0:h.isExempt,gradeColumnId:c,userId:d,analyticsId:`${u}.participantGrade`,canShowRubricIcon:!0,canGradeWithRubric:!!a,overrideGrade:b||!a,ariaLabel:(()=>{let e="scoreInputEmpty";return(null==h?void 0:h.displayGrade.scoredByAutomaticZero)?e="pastDueZeroScoreInputGraded":void 0!==(null==h?void 0:h.displayGrade.score)&&(e="scoreInputGraded"),w(`journals.submissions.submissionStatus.grade.aria.${e}`,{grade:null==h?void 0:h.displayGrade.score,total:null==h?void 0:h.pointsPossible})})(),onGradeUpdate:I})),(null==h?void 0:h.isExempt)&&o.a.createElement("span",{className:Object(V.a)(T.exempt,"exempt-tag")},w("journals.gradesAndParticipation.grade.exempt")),o.a.createElement("div",null,o.a.createElement(E.AnalyticsIconButton,{"aria-label":w(`${O}.feedbackAriaLabel`),analyticsId:`${u}.edit.feedback.iconButton`,onClick:B,className:"js-feedback-button"},(()=>{var e;return(null===(e=null==h?void 0:h.instructorFeedback)||void 0===e?void 0:e.rawText)?o.a.createElement(g.Feedback,{className:T.feedbackIcon}):o.a.createElement(g.AddFeedback,null)})())),o.a.createElement("div",{className:T.menu},M)),P&&o.a.createElement(At,{analyticsId:`${u}.postConfirmationDialog`,target:".postGradeActionMenu",isOrganization:p,onClose:()=>{$(!1)},onPostConfirmation:()=>{f({courseId:s,columnId:c,id:i}).then((()=>{var e;I((null===(e=h.displayGrade)||void 0===e?void 0:e.score)||h.manualScore),k({courseId:s,columnId:c})})),$(!1)}}))})),Tt=Object(M.makeStyles)((e=>Object(M.createStyles)({submissionContent:{marginTop:"-10px"},journalSubmission:{maxWidth:"1000px",margin:"0 20px",[e.breakpoints.up("sm")]:{marginLeft:"177px",marginRight:"253px"}}}))),Pt=Object(M.makeStyles)((e=>Object(M.createStyles)({promptHeader:{padding:"17px 0",borderBottom:`1px solid ${e.palette.border.main}`,margin:0,fontWeight:e.typography.fontWeightSemiBold},emptyPrompt:{padding:"16px 10px",fontStyle:"italic"}}))),$t=Object(r.b)(((e,t)=>{const n=u.gc.blog.blogs.getBlogById(e,t.journalId);return{journalPrompt:n&&n.description.rawText}}),null)((e=>{const{journalPrompt:t,courseId:n}=e,i={apiBasePath:u.kb.apiBasePath,xsrfToken:u.kb.xsrf,courseId:n},s=Pt(),a=Object(d.uniqueId)("journalPromptTitle"),r=Object(Je.a)();return o.a.createElement("div",null,o.a.createElement("h2",{className:s.promptHeader,id:a},r("journals.journalPrompt.title")),t&&o.a.createElement(l.BbEditor,{isReadOnly:!0,ariaLabelledBy:a,bbml:t,plugins:[Object(l.link)(),Object(l.image)(),Object(l.video)(),Object(l.math)({...i}),Object(l.insertLocalFile)(i)]}),""===t&&o.a.createElement("div",{className:s.emptyPrompt},o.a.createElement("span",null,r("journals.journalPrompt.emptyPrompt"))))})),Gt=Object(M.makeStyles)((()=>Object(M.createStyles)({journalEntries:{maxWidth:"1000px",margin:"auto",marginTop:"20px"}}))),jt=e=>{const{courseId:t,journalId:n,assignedUserId:i,creatorId:s,pluginConfig:a,analyticsId:r}=e,l=Gt(e);return o.a.createElement("div",{className:l.journalEntries},o.a.createElement(We,{assignedUserId:i,journalId:n,courseId:t,creatorId:s,pluginConfig:a,analyticsId:r}))},Lt=e=>{const{courseId:t,columnId:n,journalId:i,participantId:s,isGraded:a,creatorId:l,isOrganization:c,pluginConfig:d,analyticsId:m,onGradeUpdate:p}=e,h=Object(r.d)(),g=Tt(e);return o.a.useEffect((()=>{s&&(C.bb.search({participantId:String(s)}),function(e,t){h(u.X.blog.participants.updateParticipantActivity(e,t))}(s,i))}),[s,i]),s?o.a.createElement("div",{className:g.submissionContent},a&&o.a.createElement(Dt,{participantId:s,journalId:i,courseId:t,analyticsId:`${m}.status`,isOrganization:c,columnId:n,onGradeUpdate:p}),o.a.createElement("div",{className:g.journalSubmission},o.a.createElement($t,{journalId:i,courseId:t}),o.a.createElement(jt,{assignedUserId:s,journalId:i,courseId:t,creatorId:l,pluginConfig:d,analyticsId:`${m}.entries`}))):null},Nt=e=>{const{analyticsId:t,columnId:n,courseId:i,creatorId:s,isGraded:a,isOrganization:r,journalId:l,participants:c,pluginConfig:d,onGradeUpdate:u,offset:m,onOffsetChange:p}=e,{translate:h,formatUsername:g}=Object(W.a)(),b=Object(at.G)(q.i),f=c.map((e=>{if(!e)return{name:null,getContent:()=>null};const c={...e.user,preferredDisplayName:Object(ot.r)(e.user,b)};return{name:g(c,z.ILocaleUsernameFormat.Short),getContent:()=>o.a.createElement(Lt,{analyticsId:`${t}.content`,courseId:i,participantId:e.courseMembershipId,journalId:l,creatorId:s,columnId:n,pluginConfig:d,isGraded:a,isOrganization:r,onGradeUpdate:u})}})),v=o.a.useCallback((()=>h("journals.submissions.onSlideChangeMessage",{participantNumber:m})),[h,m]),y=o.a.useCallback((e=>{p(e)}),[p]);return o.a.createElement(F.e,{analyticsId:`${t}.participants.carousel`,slides:f,onSlideChangeMessage:v,slideIndex:m,onSlideChange:y})};const Bt=e=>{var t,n;const{analyticsId:i,columnId:s,courseId:l,creatorId:c,isGraded:d,isOrganization:m,journalId:p,pluginConfig:h,onGradeUpdate:g}=e,[b,f]=o.a.useState(!1),[v,y]=o.a.useState(!1),k=Object(r.e)((e=>u.gc.app.getLocation(e).queryParams)),[x,S]=Object(a.useState)(Number(k.offset)),[E,I]=Object(a.useState)(Number(null!==(t=k.entryLimit)&&void 0!==t?t:ve.Small)),[w,A]=Object(a.useState)(Number(null!==(n=k.entryPage)&&void 0!==n?n:"1"));let O;const D=function(e,t,n,i,s,a,l,c,d){const m=Object(r.d)(),p=X(t,e,s,n,i,a);return o.a.useEffect((()=>{e&&t&&l&&C.bb.search({offset:String(i),entryPage:String(d),entryLimit:String(c)}).then((()=>{m(u.X.blog.participants.loadParticipantList(p))}))}),[l,e,t,s,n,i,a,d,c]),Object(r.e)((e=>{const t=u.gc.blog.participants.getBlogParticipantsByQuery(e,p);return(null==t?void 0:t.length)?t.map((t=>({courseMembershipId:t.courseMembershipId,user:u.gc.user.getUserById(e,t.userId)}))):[]}))}(l,p,3,x,k.name,k.submissionStatus,v,E,w);x<0&&D.unshift(null);const T=((e,t,n,i,s)=>{const o=Object(r.d)();return Object(a.useCallback)((a=>{if(1===a&&e){const{journalId:e,courseId:i,name:s,serverLimit:a,participantOffset:r,submissionStatus:l,entryPage:c,entryLimit:d}=t,m=X(e,i,s,a,r,l);i&&e&&n&&C.bb.search({offset:String(r),entryPage:String(c),entryLimit:String(d)}).then((()=>{o(u.X.blog.participants.loadParticipantList(m))}))}else i(a);s()}),[e,n,t.journalId,t.courseId,t.name,t.serverLimit,t.participantOffset,t.submissionStatus,t.entryPage,t.entryLimit])})(b,{journalId:p,courseId:l,name:k.name,serverLimit:3,participantOffset:x,submissionStatus:k.submissionStatus,entryLimit:E,entryPage:w},v,(e=>{S(x+e)}),(()=>{f(!1),I(Number(ve.Small)),A(1)}));o.a.useEffect((()=>(O=k,C.bb.search({limit:String(3)}),y(!0),()=>{const e=O.limit===String(3)?fe.Small:O.limit;C.bb.search({...O,offset:void 0,limit:String(e)})})),[]);const P=Object(a.useCallback)((e=>{k.submissionStatus!==ye.All&&f(((e,t)=>{const n=t===ye.Complete?ye.NeedsGrading:t;return("number"==typeof e?ye.Complete:n)!==t})(e,k.submissionStatus)),g()}),[k.submissionStatus,f,g]),$=Object(a.useCallback)((e=>{T(e)}),[T]);return o.a.createElement(Nt,{analyticsId:i,courseId:l,journalId:p,creatorId:c,columnId:s,pluginConfig:h,isGraded:d,isOrganization:m,onGradeUpdate:P,participants:D,offset:1,onOffsetChange:$})};const Mt=()=>{},Rt=e=>{const t=function(e){return Object(r.e)((t=>[{courseMembershipId:e,user:u.gc.courseMembership.getUserFromMembershipId(t,e)}]))}(Object(r.e)((e=>u.gc.app.getLocation(e).queryParams)).singleMembershipId);return o.a.createElement(Nt,{...e,participants:t,offset:0,onOffsetChange:Mt})};const Ft=e=>{var t;const n={...k.j};e.childCourseIds&&(n.childCourseId=e.childCourseIds),e.groupIds&&(n.groupId=e.groupIds),e.courseMemberIds&&(n.membershipId=e.courseMemberIds);const i={courseId:e.courseId,sort:k.k,filter:n},s=Object(r.e)((t=>u.gc.courseMembership.getLatestViewWithMembershipId(t,e.participantId,i)));if(!s)throw new Error("No similar views were found to contain the provided membership");const a=s.indexInCollection;let l;let c;0===a?(l=0,c=0):(l=a-1,c=1);const d=null!==(t=function(e){const t=Object(r.d)(),n=Object(r.e)((t=>{const n=u.gc.courseMembership.getCourseMembershipViewStatusByQuery(t,e);return(null==n?void 0:n.isValid)?u.gc.courseMembership.getCourseMembershipsByQuery(t,e).map((e=>({user:u.gc.user.getUserById(t,e.userId),courseMembershipId:e.id}))):null})),i=Object(r.e)((t=>u.gc.courseMembership.getCourseMembershipViewStatusByQuery(t,e)));return n||(null==i?void 0:i.isLoading)||t(u.X.courseMembership.loadCourseMembershipsByQuery(e)),n}({...i,paging:{limit:3,offset:l}}))&&void 0!==t?t:[],m=o.a.useCallback((t=>{let n;n=d[0].courseMembershipId===e.participantId||2===d.length&&1===t?1:1+t;const i=d[n].courseMembershipId;C.bb.search({participantId:i,entryLimit:ve.Small,entryPage:"1"})}),[d]);return 1===d.length&&(c=0),o.a.createElement(Nt,{analyticsId:"journal-grid-detail",courseId:e.courseId,journalId:e.journalId,participants:d,columnId:e.columnId,creatorId:e.creatorId,isGraded:e.isGraded,isOrganization:e.isOrganization,offset:c,onOffsetChange:m,pluginConfig:e.pluginConfig,onGradeUpdate:e.onGradeUpdate})},Vt=e=>{var t,n,i;const s=Object(r.e)((e=>u.gc.app.getLocation(e).queryParams)),a={groupIds:null===(t=s.courseGroupId)||void 0===t?void 0:t.split(","),childCourseIds:null===(n=s.childCourseId)||void 0===n?void 0:n.split(","),courseMemberIds:null===(i=s.memberId)||void 0===i?void 0:i.split(","),participantId:s.participantId};return a.participantId?o.a.createElement(Ft,{...e,...a}):o.a.createElement("div",null)},_t=e=>{const{parentView:t}=e,n=St(e),i=Object(Je.a)();return o.a.createElement("div",{className:n.submissionWrapper},t===s.PARTICIPANTS_VIEW&&o.a.createElement(Bt,{...e}),t===s.STUDENT_LIST_VIEW&&o.a.createElement(Rt,{...e}),t===s.GRID_VIEW&&o.a.createElement(Vt,{...e}),!t&&o.a.createElement("div",{className:n.loadingSpinner},o.a.createElement(E.AnalyticsCircularProgress,{id:"journals-gradesAndParticipation-spinner",ariaLabel:i("journals.gradesAndParticipation.spinner"),size:"large"})))};var Ut=n("kwLz");const Ht={createGrade:u.X.gradebookGrade.createGradeByUserId,updateGrade:u.X.gradebookGrade.updateGradeByGradeId},zt=Object(r.b)(null,Ht)((e=>{var t,n,i,s;const{bbmlPluginConfig:a,courseId:r,columnId:c,isOrganization:d,userId:m,createGrade:p,updateGrade:h,onFeedbackUpdate:g}=e,{formatUsername:b,locale:f}=Object(W.a)(),v=we(m),y=Ee(c,m),x=Oe(r,k.q.EnterFeedback),S=Object(at.q)(),E=o.a.useRef(""),I=o.a.useRef(Object(l.generateToBbML)(E.current)),[w,A]=o.a.useState(!0),[O,D]=o.a.useState(!1);o.a.useEffect((()=>{var e;const t=null===(e=null==y?void 0:y.instructorFeedback)||void 0===e?void 0:e.rawText;E.current=null!=t?t:"",A(!!t||!x)}),[y,x]);const T=o.a.useCallback((async()=>{var e,t;if(y){if(E.current!==(null===(e=y.instructorFeedback)||void 0===e?void 0:e.rawText)){D(!0);try{const e=await I.current(!0);await h(y,{...y,instructorFeedback:{...null==y?void 0:y.instructorFeedback,rawText:e}})}finally{D(!1)}g&&g()}}else{D(!0);try{const e=await I.current(!0);await p({columnId:c,courseId:r,userId:m,instructorFeedback:{...null==y?void 0:y.instructorFeedback,rawText:e}})}finally{D(!1)}g&&g()}(null===(t=null==y?void 0:y.instructorFeedback)||void 0===t?void 0:t.rawText)?A(!0):C.bb.leavePeekState()}),[p,h,y]),P=o.a.useCallback((()=>{y||C.bb.leavePeekState(),A(!0)}),[y]),$=o.a.useCallback((()=>{A(!1)}),[]),G=o.a.useCallback((e=>{I.current=e.toBbML,E.current=e.toBbML()}),[]);return o.a.createElement(Ut.a,{analyticsId:"course.journal.submission.feedback",panelTitle:b({familyName:null!==(t=null==v?void 0:v.familyName)&&void 0!==t?t:"",givenName:null!==(n=null==v?void 0:v.givenName)&&void 0!==n?n:""},z.ILocaleUsernameFormat.Short),configProps:{isOrganization:d,courseColorClass:"",editorConfigProps:{apiBasePath:u.kb.apiBasePath,courseId:r,onClickCancel:P,onClickSave:T,xsrfToken:u.kb.xsrf,locale:f,...a,fileUploadSettings:S},primaryFeedbackConfigProps:{onFeedbackChange:G,onClickEdit:$,editorIsReadOnly:w}},primaryGraderFeedback:{isFeedbackEditable:!O&&x,rawTextFeedback:null!==(s=null===(i=null==y?void 0:y.instructorFeedback)||void 0===i?void 0:i.rawText)&&void 0!==s?s:""}})}));n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return B})),n.d(t,"b",(function(){return We})),n.d(t,"a",(function(){return xt})),n.d(t,"c",(function(){return _t})),n.d(t,"d",(function(){return zt})),n.d(t,"g",(function(){return ye}))},Bu0u:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("6ynb");class s extends i.a{constructor(e){super(e),this.name="InvalidArgumentsError"}}},ByeC:function(e,t){e.exports='<bb-modal id="disallow-folder-upload-modal" class="notification js-disallow-folder"\n          modal-title-key="{{isChrome || hasFiles ? \'components.directives.fileUpload.disallowFolderUploadTitle\' : \'components.directives.fileUpload.disallowFolderUploadNotChromeTitle\'}}"\n          analytics-id-tag-prefix="components.directives.fileUpload">\n  <div name="modal-contents">\n    <ng-switch on="isChrome">\n      <div ng-switch-when="true">\n        <p>\n          <bb-translate>components.directives.fileUpload.disallowFolderUploadFull</bb-translate>\n        </p>\n      </div>\n      <div ng-switch-default>\n        <ng-switch on="hasFiles">\n          <div ng-switch-when="true">\n            <p>\n              <bb-translate>components.directives.fileUpload.disallowFolderUploadFullNotChromeAdditionalFiles</bb-translate>\n            </p>\n          </div>\n          <div ng-switch-default>\n            <p>\n              <bb-translate>components.directives.fileUpload.disallowFolderUploadFullNotChromeNoMoreFiles</bb-translate>\n            </p>\n          </div>\n        </ng-switch>\n      </div>\n    </ng-switch>\n  </div>\n  <div name="modal-footer" class="reveal-modal__footer-content reveal-modal__footer-content--gray" ng-switch on="isChrome || hasFiles">\n    <div class="reveal-modal__footer-buttons">\n      <span class="reveal-modal__footer-button-container" ng-switch-when="true">\n        <button class="button button--secondary js-secondary-button" ng-click="fileUpload.modalCancelUpload()" analytics-id="components.directives.fileUpload.no">\n          <bb-translate>components.directives.fileUpload.no</bb-translate>\n        </button>\n      </span>\n      <span class="reveal-modal__footer-button-container" ng-switch-when="true">\n        <button class="button js-primary-button" ng-click="fileUpload.closeModal()" analytics-id="components.directives.fileUpload.yes">\n          <bb-translate>components.directives.fileUpload.yes</bb-translate>\n        </button>\n      </span>\n      <span class="reveal-modal__footer-button-container" ng-switch-when="false">\n        <button class="button js-primary-button" ng-click="fileUpload.modalCancelUpload()" analytics-id="components.directives.fileUpload.cancelUploadText">\n          <bb-translate>components.directives.fileUpload.cancelUploadText</bb-translate>\n        </button>\n      </span>\n    </div>\n  </div>\n</bb-modal>\n'},"C/Ry":function(e,t){e.exports='<th class="table-cell"\n    scope="row"\n    ng-show="tableCell.column.visible">\n  <div class="sr-only alternate-contents"></div>\n  <div class="transclude-container"></div>\n</th>'},C2vp:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"l",(function(){return v})),n.d(t,"k",(function(){return y})),n.d(t,"c",(function(){return k})),n.d(t,"g",(function(){return x})),n.d(t,"j",(function(){return S})),n.d(t,"a",(function(){return C})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return I})),n.d(t,"d",(function(){return w})),n.d(t,"h",(function(){return A})),n.d(t,"b",(function(){return O}));var i,s=n("D57K"),a=n("X/qj"),o=n("FBBZ"),r=n("pjml"),l=n("nsO7"),c=n("TnpK"),d=n("yMoE"),u=n("IbyE"),m=n("8jzW"),p=n("vhkR"),h=n("nmzr"),g=n("aHpC"),b=n("CY5M");!function(e){e[e.UNLOADED=0]="UNLOADED",e[e.WAITING=1]="WAITING",e[e.LOADING=2]="LOADING",e[e.LOADED=3]="LOADED"}(i||(i={}));let f=class{constructor(e,t,n,s,a,o,r,l,c,d,u=null,m=i.UNLOADED){this.$q=e,this.$injector=t,this.ltiService=n,this.CourseModel=s,this.scoreProviderHelper=a,this.ultraState=o,this.gradebookPermissionService=r,this.gridData=l,this.row=c,this.column=d,this.data=u,this.loadState=m}get isUnloaded(){return this.loadState===i.UNLOADED}get isWaiting(){return this.loadState===i.WAITING}get isLoading(){return this.loadState===i.LOADING}get isLoaded(){return this.loadState===i.LOADED}get isPosted(){var e;return!l.isNil(null===(e=this.data)||void 0===e?void 0:e.grade)&&this.data.grade.isPosted()}get hasNewSubmission(){return!l.isNull(this.data)&&this.data.needsGradingAttemptCount>0}get isPastDueZero(){var e;return!l.isNil(null===(e=this.data)||void 0===e?void 0:e.grade)&&this.data.grade.isPastDueZero()}get isExempt(){var e;return!l.isNil(null===(e=this.data)||void 0===e?void 0:e.grade)&&this.data.grade.isExempt}setLoadState(e){this.loadState=e}getScore(e){const t=this.getGrade();if(null==t)return;const n=t.displayGrade,i=this.column.data,s=this.getGridData().getSchema()[i.gradingSchemaId],a=this.$injector.instantiate(d.a,{scope:e,gradeDetail:t});return a.init(i,s),a.displayGrade=n,a.parsedValue}getGrade(){return l.isNull(this.data)?void 0:this.data.grade}view(){throw new Error("Unsupported operation exception")}post(){return this.data&&this.column.data.grades.$new(this.data.grade.id).postReadyGrades()}get canBeView(){return!1}get isReadyToPost(){return!this.isPosted}canPost(){return this.gradebookPermissionService.canPostGrades(null,this.column.data)}getGridData(){return this.gridData}get isCleanAttemptGrade(){return!1}get isNeedAutoPost(){return!1}get canBeEdited(){return this.column.data.delegatedGrading?this.canPost():!this.isAnonymousGrading}get isAnonymousGrading(){return this.column.data.anonymousGrading}};f=Object(s.a)([Object(s.c)(0,Object(g.b)("$q")),Object(s.c)(1,Object(g.b)("$injector")),Object(s.c)(2,Object(g.b)(p.b)),Object(s.c)(3,Object(g.b)(r.m.serviceName)),Object(s.c)(4,Object(g.b)(m.c)),Object(s.c)(5,Object(g.b)(c.d)),Object(s.c)(6,Object(g.b)(a.b)),Object(s.c)(7,Object(g.b)("gridData")),Object(s.c)(8,Object(g.b)("row")),Object(s.c)(9,Object(g.b)("column"))],f);let v=class extends f{constructor(e,t,n,s,a,o,r,l,c,d){super(e,t,n,s,a,o,r,l,c,d,null,i.LOADED),this.$q=e,this.$injector=t,this.ltiService=n,this.CourseModel=s,this.scoreProviderHelper=a,this.ultraState=o,this.gradebookPermissionService=r,this.gridData=l,this.row=c,this.column=d}};v.$inject=[],v=Object(s.a)([Object(s.c)(0,Object(g.b)("$q")),Object(s.c)(1,Object(g.b)("$injector")),Object(s.c)(2,Object(g.b)(p.b)),Object(s.c)(3,Object(g.b)(r.m.serviceName)),Object(s.c)(4,Object(g.b)(m.c)),Object(s.c)(5,Object(g.b)(c.d)),Object(s.c)(6,Object(g.b)(a.b)),Object(s.c)(7,Object(g.b)("gridData")),Object(s.c)(8,Object(g.b)("row")),Object(s.c)(9,Object(g.b)("column"))],v);class y extends f{}class k extends f{canPost(){return!1}get canBeEdited(){return!1}}class x extends f{}class S extends x{get canBeView(){return this.gradebookPermissionService.canViewGrades()}view(){this.ultraState.goPeekState(h.x.GRADE_AND_FEEDBACK,{columnId:this.column.id,userId:this.row.metadata.user.id})}}let C=class extends x{constructor(e,t,n,s,a,o,r,l,c,d,u,m=null,p=i.UNLOADED){super(e,t,n,s,a,o,r,l,c,d,m,p),this.$q=e,this.$injector=t,this.ltiService=n,this.CourseModel=s,this.scoreProviderHelper=a,this.ultraState=o,this.gradebookPermissionService=r,this.gridData=l,this.row=c,this.column=d,this.partnerSettingsModel=u,this.data=m,this.loadState=p}getGroupId(){}get canBeView(){return this.gradebookPermissionService.canViewAttempts()&&!!this.data&&this.data.attemptCount>0}view(){var e;if(null!=this.column.data.linkId&&(u.Q.PartnerCloud.isEqualTo(this.column.data.scoreProviderHandle)||u.Q.LTILink.isEqualTo(this.column.data.scoreProviderHandle)))this.CourseModel.$new(this.gridData.course.id).gradebook.columns.$new(this.column.id).grades.$new(this.data.grade.id).attempts.$fetch().$then((e=>{const t=o.d({gradableItemId:this.column.id,courseId:this.gridData.course.id,attemptId:e[0].id,membershipId:this.row.metadata.id,linkId:this.column.data.linkId}),n=Object(b.m)(this.column.data.linkId);u.Q.PartnerCloud.isEqualTo(this.column.data.scoreProviderHandle)?this.partnerSettingsModel.getSettingsById(n).then((e=>this.ltiService.launch(t,!e.responsive))):this.ltiService.launch(t)}));else{const t={courseId:this.gridData.course.id,columnId:this.column.id,gradeId:this.data.grade.id,contentId:this.column.data.contentId,userId:this.row.metadata.user.id},n=(null===(e=this.data.grade.attempts)||void 0===e?void 0:e.length)>this.column.data.multipleAttempts;if(!(this.column.data.isAttemptBased&&(this.column.data.isMultipleAttempts()||n)))if(this.data.grade.lastAttemptId)t.attemptId=this.data.grade.lastAttemptId;else if(this.data.grade.attempts&&this.data.grade.attempts.length){const e=l.last(this.data.grade.attempts);t.attemptId=e&&e.id}else if(this.data.grade.groupAttempts&&this.data.grade.groupAttempts.length){const e=l.last(this.data.grade.groupAttempts);t.attemptId=e&&e.id}t.groupId=this.getGroupId(),this.scoreProviderHelper.gradingStateRef(this.column.data,this.data.grade,t,m.a.GoToState)}}};C=Object(s.a)([Object(s.c)(0,Object(g.b)("$q")),Object(s.c)(1,Object(g.b)("$injector")),Object(s.c)(2,Object(g.b)(p.b)),Object(s.c)(3,Object(g.b)(r.m.serviceName)),Object(s.c)(4,Object(g.b)(m.c)),Object(s.c)(5,Object(g.b)(c.d)),Object(s.c)(6,Object(g.b)(a.b)),Object(s.c)(7,Object(g.b)("gridData")),Object(s.c)(8,Object(g.b)("row")),Object(s.c)(9,Object(g.b)("column")),Object(s.c)(10,Object(g.b)(r.U.serviceName))],C);let E=class extends C{constructor(e,t,n,i,s,a,o,r,l,c,d,u){super(e,t,n,i,s,a,o,r,l,c,u),this.$q=e,this.$injector=t,this.ltiService=n,this.CourseModel=i,this.scoreProviderHelper=s,this.ultraState=a,this.gradebookPermissionService=o,this.gridData=r,this.row=l,this.column=c,this._group=d,this.partnerSettingsModel=u}getGroupId(){return this.group.groupId}get group(){return this._group}};E.$inject=[],E=Object(s.a)([Object(s.c)(0,Object(g.b)("$q")),Object(s.c)(1,Object(g.b)("$injector")),Object(s.c)(2,Object(g.b)(p.b)),Object(s.c)(3,Object(g.b)(r.m.serviceName)),Object(s.c)(4,Object(g.b)(m.c)),Object(s.c)(5,Object(g.b)(c.d)),Object(s.c)(6,Object(g.b)(a.b)),Object(s.c)(7,Object(g.b)("gridData")),Object(s.c)(8,Object(g.b)("row")),Object(s.c)(9,Object(g.b)("column")),Object(s.c)(10,Object(g.b)("group")),Object(s.c)(11,Object(g.b)(r.U.serviceName))],E);let I=class extends E{constructor(e,t,n,i,s,a,o,r,l,c,d,u){super(e,t,n,i,s,a,o,r,l,c,d,u),this.$q=e,this.$injector=t,this.ltiService=n,this.CourseModel=i,this.scoreProviderHelper=s,this.ultraState=a,this.gradebookPermissionService=o,this.gridData=r,this.row=l,this.column=c,this.partnerSettingsModel=u}get canBeView(){return!0}view(){this.ultraState.goPeekState("submission-list",{courseId:this.gridData.course.id,columnId:this.column.id,contentId:this.column.data.contentId,participantId:this.row.metadata.user.id,disGroupId:this.getGroupId()})}get isCleanAttemptGrade(){return!0}get isNeedAutoPost(){return!0}};I.$inject=[],I=Object(s.a)([Object(s.c)(0,Object(g.b)("$q")),Object(s.c)(1,Object(g.b)("$injector")),Object(s.c)(2,Object(g.b)(p.b)),Object(s.c)(3,Object(g.b)(r.m.serviceName)),Object(s.c)(4,Object(g.b)(m.c)),Object(s.c)(5,Object(g.b)(c.d)),Object(s.c)(6,Object(g.b)(a.b)),Object(s.c)(7,Object(g.b)("gridData")),Object(s.c)(8,Object(g.b)("row")),Object(s.c)(9,Object(g.b)("column")),Object(s.c)(10,Object(g.b)("group")),Object(s.c)(11,Object(g.b)(r.U.serviceName))],I);class w extends C{get canBeView(){return!0}view(){this.ultraState.goPeekState("submission-list",{courseId:this.gridData.course.id,columnId:this.column.id,contentId:this.column.data.contentId,participantId:this.row.metadata.user.id})}get isCleanAttemptGrade(){return!0}get isNeedAutoPost(){return!0}}class A extends C{get canBeView(){return!0}view(){this.ultraState.goPeekState(h.B.JOURNAL_PARTICIPATION_DETAIL,{courseId:this.gridData.course.id,columnId:this.column.id,contentId:this.column.data.contentId,participantId:this.row.metadata.id,gradebookView:"grid"})}get isCleanAttemptGrade(){return!0}get isNeedAutoPost(){return!0}}class O extends x{get isAttendance(){return!0}get canBeView(){return!0}view(){const e=this.row.metadata.user.id,t=this.row.metadata.id;this.ultraState.goPeekState("attendance-student-records",{userId:e,membershipId:t})}}},C36k:function(e,t,n){"use strict";n("67oV");var i=n("Llzl"),s=n("+4Px"),a=n("e6jQ"),o=n("GbAM"),r=n("lEL+"),l=n("0JpG"),c=n("GwhK");n.d(t,"a",(function(){return d}));const d="ultra.components.directives.typeahead-search-box";class u{constructor(e,t,n,i,s){this.scope=e,this.$rootScope=t,this.element=n,this.timeout=i,this.bbLocalize=s,this.showResults=!1,this.searchValue="",this.isFocus=!1,this.srLabel=e.srLabel,this.inputPlaceholder=e.inputPlaceholder||"",this.srEmptyResults=e.srEmptyResults||"",this.srResultsFound=e.srResultsFound,this.srNoResultsFound=e.srNoResultsFound,this.clearAriaLabel=e.clearAriaLabel,this.icon=e.icon,this.randomElementId=this.scope.randomElementId||a.a(),this.srResultsFound&&this.srNoResultsFound&&this.clearAriaLabel||this.bbLocalize.loadBundle("components/directives/typeahead").then((()=>{this.srResultsFound="typeahead.resultsFound",this.srNoResultsFound="typeahead.noResultsFound",this.clearAriaLabel="typeahead.clear"})),e.$on("typeahead-search-box-clear",(function(){e.typeaheadSearchBox.showResults=!1,e.typeaheadSearchBox.searchResults=[],e.typeaheadSearchBox.searchValue=""}))}onSearchValueChange(){this.searchValue.length>0?this.typeAheadSearch(this.searchValue):this.clear()}itemSelected(e){const t=this.scope.itemSelected({item:e});this.showResults=!1,this.searchResults=[],i.isString(t)?this.searchValue=t:this.searchValue="",this.element.find("input").focus()}search(e){if(this.searchValue.length>0){const t=this.scope.search({searchText:e});t&&(this.showResults=!1,this.searchResults=[],i.isString(t)?this.searchValue=t:this.searchValue="")}}typeAheadSearch(e){this.scope.typeAheadSearch({searchText:e}).then((e=>{this.searchResults=e,this.showResults=e.length>0,this.getSearchResultsAlert(this.showResults)}))}getSearchResultsAlert(e){const t=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:e?this.srResultsFound:this.srNoResultsFound,noWrap:!0,noEscape:!0});this.timeout((()=>{this.$rootScope.$broadcast(o.b,t)}),this.scope,1e3)}handleUpAndDownArrow(e){this.showResults||(this.showResults=!0);let t=i.element(e.target);t.hasClass("typeahead-search-entry")?(t=e.keyCode===s.d?t.next():t.prev(),t.focus()):this.element.find(".typeahead-search-entry:first").focus(),e.preventDefault()}onInputBoxKeyDown(e){e.keyCode===s.f?this.search(this.searchValue):e.keyCode===s.d||e.keyCode===s.v?this.handleUpAndDownArrow(e):e.keyCode===s.g&&this.showResults&&(this.showResults=!1,e.stopPropagation(),e.preventDefault())}onFocusInputBox(e){this.searchResults&&this.searchResults.length>0&&(this.showResults=!0)}onFocusClearBtn(e){this.isFocus=!0}onBlurClearBtn(e){document.activeElement!==e.currentTarget&&(this.showResults=!1,this.isFocus=!1)}onClickOutside(){this.showResults=!1}onInputBoxClick(){this.showResults=!0}onResultEntryKeyDown(e,t){e.keyCode===s.f||e.keyCode===s.t?this.itemSelected(t):e.keyCode===s.d||e.keyCode===s.v?this.handleUpAndDownArrow(e):e.keyCode===s.u?this.showResults=!1:e.keyCode===s.g&&(this.showResults=!1,this.element.find("input").focus(),e.stopPropagation(),e.preventDefault())}onResultEntryClick(e,t){this.itemSelected(t)}clear(){const e=this.searchValue;this.showResults=!1,this.searchResults=[],this.searchValue="",this.timeout((()=>{(this.scope.clearSearch||i.noop)({searchText:e})}),this.scope,50)}}u.$inject=["scope","$rootScope","element",r.b,l.serviceName];class m{constructor(e,t){this.$interpolate=e,this.$injector=t,this.restrict="E",this.template=c,this.scope={itemSelected:"&",search:"&",typeAheadSearch:"&",inputPlaceholder:"@?",clearSearch:"&",srEmptyResults:"@",srLabel:"@",srResultsFound:"@?",srNoResultsFound:"@?",clearAriaLabel:"@?",icon:"@?",randomElementId:"@?"},this.transclude=!0,this.replace=!0,this.link=(e,t)=>{e.typeaheadSearchBox=this.$injector.instantiate(u,{scope:e,element:t})}}}m.$inject=["$interpolate","$injector"],i.module(d,[]).directive("bbTypeaheadSearchBox",["$injector",e=>e.instantiate(m)]).directive("typeaheadInject",(()=>({link(e,t,n,i,s){if(s){const n=e.$new();s(n,(function(e){t.empty(),t.append(e),t.on("$destroy",(function(){n.$destroy()}))}))}}})))},CG4K:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-custom-toggle-grid",use:"icon-custom-toggle-grid-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="icon-custom-toggle-grid"><path fill="none" stroke-width="2" stroke-miterlimit="10" d="M0 1h12M0 6h12M0 11h12M1 12V0M6 12V0M11 12V0" /></symbol>'});s.add(a);e.exports=a},CPVT:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("D57K"),s=n("TnpK"),a=n("Qbdf"),o=n("aHpC"),r=n("Llzl");const l="ultra.components.directives.confirmationCourseOrgTokenReplacementDirective";class c{constructor(e,t,n,i,s){this.element=e,this.attributes=t,this.scope=n,this.ultraState=i,this.currentCourse=s;try{(i.includes("base.organizations.**")||s.course&&s.course.isOrganization)&&t.bbConfirmationNeeded&&(t.bbConfirmationNeeded=this.replaceToken(t.bbConfirmationNeeded),e.attr("bb-confirmation-needed",this.replaceToken(t.bbConfirmationNeeded)))}catch(e){}}replaceToken(e){return e?e.replace("resource/x-bb-course-","resource/x-bb-organization-"):e}}let d=class{constructor(e,t){this.ultraState=e,this.currentCourse=t,this.restrict="A",this.scope=!1,this.priority=-1,this.compile=()=>(e,t,n)=>new c(t,n,e,this.ultraState,this.currentCourse)}};d=Object(i.a)([Object(i.c)(0,Object(o.b)(s.d)),Object(i.c)(1,Object(o.b)(a.e))],d),r.module(l,[s.b]).directive("confirmationCourseOrgTokenResolver",["$injector",e=>e.instantiate(d)])},CPqS:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var i=n("Llzl"),s=n("Sa5G"),a=n("0JpG"),o=n("w9Zy"),r=n("nYZ0"),l=n("ZzN+"),c=n("hqh6"),d=n("5RJJ"),u=n("pjml"),m=n("TnpK"),p=n("Qbdf"),h=n("tQ/B"),g=n("X455"),b=n("uC9d"),f=n("x+T+"),v=n("nmzr"),y=n("eQBN"),k=n("WIGI"),x=n("ohO4"),S=n("jhBu"),C=n("fYJU");const E="ultra.course.routes";i.module(E,[c.a,d.a,p.b,g.a,y.b,h.b]).config([m.c,p.c,g.b,y.c,h.c,(t,i,c,d,h)=>{t.peekState(v.H.Course.COURSE,{abstract:!0,url:"^/{coursesOrOrganizations:(?:courses|organizations)}/:courseId",panelClass:"full",require:()=>Promise.all([n.e(8),n.e(33),n.e(40)]).then(n.bind(null,"ogn+")),resolve:{currentColumn:()=>null,[p.d]:i.resolve,[g.c]:c.resolve,currentCourseId:["$state",e=>e.nextParams.courseId],courseEntitlementsLoader:["currentCourseId",f.c,(e,t)=>t.loadCourseEntitlements(e)],"?courseMembershipsLoader":["currentCourseId",u.m.serviceName,(e,t)=>t.$new(e).memberships.$fetch({limit:1e4}).$asPromise()],isOrganization:[p.d,m.d,(e,t)=>(t.nextParams.coursesOrOrganizations=e.isOrganization?"organizations":"courses",e.isOrganization)],[y.d]:d.resolve},onEnter:[g.d,e=>{var t,n;const i=null===(n=null===(t=null==e?void 0:e.courseMembership)||void 0===t?void 0:t.courseRole)||void 0===n?void 0:n.identifier;i&&Object(k.c)({courseRole:i})}],onExit:["$rootScope","$stateParams","membership",a.serviceName,o.e,p.e,l.b,b.c,C.b,g.d,(t,n,i,s,a,o,r,l,c,d)=>{t.bbOffcanvasOpened=!1,a.close("course");o.course.isClassic()&&t.$broadcast("reloadCourse",n.courseId);const u=i.isStudentMembership(),m=!c.userModel.isGuest();!u&&m&&d.courseMembership.$fetch().$allow([404]).$asPromise().then((e=>{e.isStudentMembership()&&l.clearCache("users/"+c.userId+"/memberships")})),r.showPreviewAlert=!0,e(window.parent.document).find("body").removeClass("has-footer-in-preview-mode"),Object(k.a)()}]}).peekState(v.H.Course.COURSE_ANALYTICS,{url:"/analytics",views:{"course@":{require:[()=>Promise.all([n.e(17),n.e(41),n.e(76)]).then(n.bind(null,"amHh")),()=>Promise.all([n.e(8),n.e(33),n.e(40)]).then(n.bind(null,"ogn+"))],resolve:{"analytics-translations":[a.serviceName,e=>e.loadBundle("features/course/analytics/course-analytics")]}}},panelClass:"full",pageTitleHandler:h.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler"}),pageTitle:"course.analytics.headerLabel"}).peekState(v.H.Course.COURSE_ANALYTICS_PREDICT_INSTRUCTOR,{url:"/predict?resetFTUE",views:{"analytics@":{require:()=>Promise.all([n.e(24),n.e(28),n.e(126),n.e(671)]).then(n.bind(null,"x4MM")),resolve:{"predict-translations":[a.serviceName,e=>e.loadBundle("features/predict/predict")]}}},pageTitleHandler:h.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler"}),pageTitle:"predict.course.title",peekStates:["predictCourseStudentPanel"],panelClass:"full"}).peekState(v.H.Course.COURSE_ANALYTICS_PREDICT_STUDENT,{url:"/predict/:studentId",views:{"analytics@":{require:()=>Promise.all([n.e(24),n.e(34),n.e(28),n.e(32),n.e(45),n.e(69),n.e(700)]).then(n.bind(null,"lanz")),resolve:{"predict-translations":[a.serviceName,e=>e.loadBundle("features/predict/predict")]}}},peekStates:["predictMessagingPanel"],pageTitleHandler:h.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler"}),pageTitle:"course.title.predictStudent",panelClass:"full"}).peekState(v.H.Course.COURSE_ANALYTICS_REPORTS,{url:"/reports",views:{"analytics@":{require:[()=>Promise.all([n.e(17),n.e(615)]).then(n.bind(null,"Va14")),()=>Promise.all([n.e(17),n.e(41),n.e(76)]).then(n.bind(null,"amHh")),()=>Promise.all([n.e(8),n.e(33),n.e(40)]).then(n.bind(null,"ogn+"))],resolve:{"analytics-translations":[a.serviceName,e=>e.loadBundle("features/course/analytics/course-analytics")]}}},panelClass:"full",pageTitleHandler:h.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler"}),pageTitle:"course.analytics.premiumReportsHeaderLabel"}).peekState(v.H.Course.COURSE_ANALYTICS_SCORM_REPORTS,{url:"/scormReports",resolve:{[p.d]:i.resolve},views:{"analytics@":{require:[()=>n.e(688).then(n.bind(null,"txuS")),()=>Promise.all([n.e(17),n.e(41),n.e(76)]).then(n.bind(null,"amHh"))],resolve:{"scorm-report-analytics-translations":[a.serviceName,e=>e.loadBundle("features/course/content/scorm/scorm")]}}},peekStates:["scorm-analytics-report",v.H.Course.SETTINGS],panelClass:"full",pageTitleHandler:h.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler"}),pageTitle:"course.analytics.title.scormReports"}).peekState(v.H.Course.COURSE_ANALYTICS_QUESTION_ANALYSIS,{url:"/questionAnalysis",views:{"analytics@":{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(80),n.e(721)]).then(n.bind(null,"ErSj")),resolve:{"question-analysis-translations":[a.serviceName,e=>e.loadBundle("features/course/question-analysis")]}}},peekViewName:"question-analysis-report-list",peekStates:["question-analysis",v.H.Course.SETTINGS],panelClass:"full",pageTitleHandler:h.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler"}),pageTitle:"course.question-analysis.report-list.pageTitle"}).peekState(v.H.Course.COURSE_ANALYTICS_ACTIVITY,{url:"/courseActivity",views:{"analytics@":{require:()=>Promise.all([n.e(24),n.e(34),n.e(32),n.e(38),n.e(41),n.e(51),n.e(132),n.e(734)]).then(n.bind(null,"pri/")),resolve:{translations:["$q",a.serviceName,(e,t)=>e.all([t.loadBundle("components/directives/telemetry/telemetry"),t.loadBundle("components/services/telemetry-chart")])],[p.d]:i.resolve}}},peekStates:[v.o.COURSE_MESSAGE,"event-create","telemetry-settings",v.L.INSTRUCTOR_DETAILS,v.o.COURSE_GRADES_VIEW_INDIVIDUAL_GRADES,v.H.Course.SETTINGS],peekViewName:"telemetry-instructor-class-base@",panelClass:"full",pageTitleHandler:h.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler",resolveOrgCourseKey:!0}),pageTitle:"components.directives.telemetry.courseActivityHeaderTitle.course"}).peekState(v.H.Course.COURSE_CALENDAR,{url:"/calendar",views:{"course@":{require:[()=>Promise.all([n.e(85),n.e(8),n.e(22),n.e(33),n.e(71),n.e(610)]).then(n.bind(null,"bbBO")),()=>Promise.all([n.e(8),n.e(33),n.e(40)]).then(n.bind(null,"ogn+"))],resolve:{"calendar-translations":[a.serviceName,e=>e.loadBundle("features/course/calendar/course-calendar")]}}},courseEntitlement:s.d.ViewCalendar,peekStates:[v.H.Calendar.CREATE_EVENT,v.H.Calendar.EDIT_EVENT,v.H.Calendar.VIEW_EVENT,v.H.Calendar.COURSE_SCHEDULE,v.H.Calendar.OFFICE_HOURS,v.H.Lti.LTI,v.H.Lti.LTI_LAUNCH_PEEK,"conversion-analysis","content-manage","assignment","grade-item","assessment","scorm-launch-frame","scorm-settings","gradebook-item.scorm-submissions","scorm-overview",v.H.Course.SETTINGS],panelClass:"full",peekViewName:"calendar-panel-base",pageTitleHandler:h.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler"}),pageTitle:"course.calendar.headerLabel"}).peekState(v.H.Course.COURSE_ENGAGEMENT,{url:"/engagement",resolve:{"engagement-translations":[a.serviceName,e=>e.loadBundle("features/course/engagement/course-engagement")]},views:{"course@":{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(36),n.e(52),n.e(48),n.e(61),n.e(74),n.e(624)]).then(n.bind(null,"QVC4"))}},panelClass:"full",peekStates:["content-manage","conversion-analysis","discussion",v.H.Content.CONDITIONAL_RELEASE_PEEK_PANEL,"content-group-enroll","discussion-settings",v.H.Telemetry.DISCUSSION_FORUM_INSIGHTS,"course-group","discussions-settings",v.H.Course.SETTINGS],peekViewName:"engagement-panel-base",pageTitleHandler:h.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler"}),pageTitle:"course.engagement.headerLabel"}).peekState(v.H.Course.COURSE_GRADES,{url:`/grades?${v.m.join("&")}`,views:{"course@":{require:[()=>Promise.all([n.e(36),n.e(133),n.e(577)]).then(n.bind(null,"OFW5")),()=>Promise.all([n.e(8),n.e(33),n.e(40)]).then(n.bind(null,"ogn+"))],resolve:{"grades-translations":[a.serviceName,e=>e.loadBundle("features/course/grades/course-grades")]}}},resolve:{courseEntitlement:["$q","membership",S.b,(e,t,n)=>t.isStudentMembership()?e.resolve(!0):n.isEntitled("course.gradebook-metadata.VIEW")]},peekStates:[v.H.Course.ACCOMMODATION,"assignment","assessment","gradebook-item","scorm-settings","gradebook-item.scorm-submissions","scorm-launch-frame","scorm-overview",v.H.Course.COURSE_GRADES_MULTIPLE_ATTEMPT,"assignment-grading",v.H.Grade.SUBMISSION_GRADING,"group-submission-grading","grade-item","grade-setting",v.H.Grade.GRADING_SCHEMA,"grade-download-setting","grade-upload-setting",v.H.Grade.GRADE_AND_FEEDBACK,"conversion-analysis","content-manage",v.H.Lti.LTI,"discussion","submission-list","rubric","overall-grade","overall-grade-student","attendance","attendance-student-records","attendance-student-view","question-analysis",v.H.Grade.RECONCILE_GRADE,"grades-bulk-download",v.H.Grade.DOWNLOAD_TEST_RESULTS,v.H.Course.COURSE_GRADES_VIEW_INDIVIDUAL_GRADES,v.H.Journal.JOURNAL_PARTICIPATION_DETAIL,v.H.Grade.GRADEBOOK_GRID_ADVANCED_FILTERS,v.H.Grade.ATTEMPT_RECEIPT_SEARCH,v.H.Course.SETTINGS],panelClass:"full",peekViewName:"grades-panel-base",pageTitleHandler:h.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler"}),pageTitle:"course.grades.instructorHeaderLabel"}).peekState(v.H.Course.COURSE_MESSAGES,{url:"/messages",views:{"course@":{require:[()=>Promise.all([n.e(17),n.e(8),n.e(35),n.e(134),n.e(719)]).then(n.bind(null,"vjWz")),()=>Promise.all([n.e(8),n.e(33),n.e(40)]).then(n.bind(null,"ogn+"))],resolve:{"messages-translations":[a.serviceName,e=>e.loadBundle("features/course/messages/course-messages")]}}},panelClass:"full",peekStates:["create-message","edit-message","conversion-analysis",v.H.Course.SETTINGS],pageTitleHandler:h.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler"}),pageTitle:"course.messages.headerLabel"}).peekState(v.H.Course.COURSE_OUTLINE,{url:"/outline?legacyUrl?enrollmentMessage?inPreviewMode?search",views:{"course@":{require:[()=>Promise.all([n.e(26),n.e(22),n.e(31),n.e(35),n.e(48),n.e(47),n.e(63),n.e(62),n.e(68),n.e(151)]).then(n.bind(null,"Qile")),()=>Promise.all([n.e(8),n.e(33),n.e(40)]).then(n.bind(null,"ogn+"))],resolve:{isClassicCourse:[p.d,m.d,(e,t)=>{if(!e.isUltra())return t.goPeekState("course.classic.outline",{courseId:e.id,legacyUrl:t.nextParams.legacyUrl})}],translations:["$q",a.serviceName,(e,t)=>e.all([t.loadBundle("features/course/outline/course-outline"),t.loadBundle("features/course/course-overview/course-overview")])]}}},onExit:["$rootScope",m.d,(e,t)=>{"base.calendar"===t.getBaseState()&&e.$broadcast("deadline-refresh")}],peekStates:[v.H.Announcement.ANNOUNCEMENTS_LIST,v.H.Announcement.ANNOUNCEMENT_DETAIL,"assignment","assessment-settings","question-analysis","question-banks","assessment-safe-assign-settings","bulk-edit-content",v.v.PREVIEW_FILE,v.H.Calendar.COURSE_SCHEDULE,"content-group-enroll","content-manage","conversion-analysis","conversion-risk-analysis","description",v.H.Calendar.VIEW_EVENT,"exports","gradebook-item","import-report",v.H.Course.COURSE_MESSAGE,"roster","collab","stream-message","assessment",v.H.ContentMarket.CONTENT_MARKET,v.H.ContentCollection.CONTENT_COLLECTION,"document-settings","partner-tool",v.H.Lti.LTI,v.H.Lti.LTI_LAUNCH_PEEK,"discussion-settings","conversations","books-and-tools","rubric",v.H.Telemetry.CONTENT_ACTIVITY_IN_DETAIL,v.H.Telemetry.DISCUSSION_FORUM_INSIGHTS,"overall-grade","attendance","attendance-student-view","course-group-enroll",v.H.Content.CONDITIONAL_RELEASE_PEEK_PANEL,"course-group","scorm-settings","gradebook-item.scorm-submissions","group-set-detail","group-set-list","scorm-launch-frame","scorm-overview","content-navigator-transition-peek","content-navigator-transition-full","content-navigator-placeholder","scorm-analytics-report",v.H.Course.EDIT_BANNER,v.H.CourseTasks.COURSE_TASKS_LOGS,v.H.Group.IMPORT_GROUP_SET,v.H.Group.EXPORT_GROUP_SET,v.H.Group.IMPORT_GROUP_MEMBERS,v.H.Group.GROUP_MEMBERS_LIST,v.H.Course.SETTINGS,v.H.Content.CONTENT_SEARCH],peekViewName:"content-create-base",pageTitleHandler:h.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler"}),pageTitle:"course.outline.tab.title",panelClass:"full"}).peekState("content-navigator-transition-peek",{url:"/content-navigator-transition-peek",template:'<div class="spinner bb-secondary-color-2"></div>',panelClass:"peek"}).peekState("content-navigator-transition-full",{url:"/content-navigator-transition-full",template:'<div class="spinner bb-secondary-color-2"></div>',panelClass:"full"}).peekState("content-navigator-placeholder",{url:"/link/{contentId:_[0-9]+_1}",require:()=>n.e(614).then(n.bind(null,"1Uig")),panelClass:"full",peekStates:[v.H.Lti.LTI],resolve:{currentContent:[m.d,p.d,"$q",(e,t,n)=>{const i=e.nextParams.contentId?e.nextParams.contentId:e.nextParams.id;if(i&&i!==u.p.CREATE_CONTENT_ID)return t.contents.$find(i).$asPromise()}]}}).peekState(v.H.Content.CONDITIONAL_RELEASE_PEEK_PANEL,{url:"/conditionalRelease?contentId",pageTitle:"course.conditionalRelease.panelTitle",require:[()=>n.e(669).then(n.bind(null,"gl4I")),()=>Promise.all([n.e(26),n.e(22),n.e(31),n.e(35),n.e(48),n.e(47),n.e(63),n.e(62),n.e(68),n.e(151)]).then(n.bind(null,"Qile"))],panelClass:"peek",peekStates:["group-set-list"],peekViewName:"conditional-release-peek",allowChildPeekStates:!0,resolve:{[p.d]:i.resolve,currentContent:[m.d,"currentCourse",r.f,(e,t,n)=>{const i=e.nextParams.contentId,s=n.findRootNode(t,u.p.ContentRootNode.ROOT);return n.getOrMakeContentInContentTree(s,t.id,i).then((e=>e.content))}],translations:[a.serviceName,e=>e.loadBundle("features/course/conditional-release/conditional-release")]}}).peekState(v.H.Course.COURSE_CLASSIC,{abstract:!0,url:"/cl"}).peekState("course.classic.outline",{url:"/outline?legacyUrl?enrollmentMessage",require:[()=>Promise.all([n.e(8),n.e(33),n.e(40)]).then(n.bind(null,"ogn+"))],resolve:{"outline-translations":[a.serviceName,e=>e.loadBundle("features/course/outline/course-outline")]},peekStates:[v.H.Telemetry.CONTENT_ACTIVITY_IN_DETAIL],peekViewName:"course-classic-peek",pageTitle:"course.outline.tab.title",panelClass:"full"}).peekState("edit-file-settings",{require:[()=>n.e(154).then(n.bind(null,"TFHU"))],resolve:{translations:[a.serviceName,e=>e.loadBundle("features/course/content/media-widget/media-widget")]},url:"/fileAttachment?toolContentName&fileIndex&isRenderedInline&linkName&parentToolInstanceName&isDecorative&alternativeText&mediaType&mimeType&bbmlEditorId"}).peekState("bulk-edit-content",{url:"/bulkEditContent",require:[()=>n.e(582).then(n.bind(null,"iGvw"))],pageTitle:"course.outline.bulkEditHeaderLabel",panelClass:"full",courseEntitlement:s.f.ViewAsDesigner}).peekState(v.v.PREVIEW_FILE,{url:"/file/:id?view",require:[()=>Promise.all([n.e(5),n.e(18),n.e(565)]).then(n.bind(null,"vFEc"))],pageTitle:"course.content.file",panelClass:"full",allowChildPeekStates:!0,peekViewName:"file-preview-peek",peekStates:[v.v.PREVIEW_FILE_EDIT,v.o.COURSE_MESSAGE,v.H.Course.COURSE_GRADES_VIEW_INDIVIDUAL_GRADES]}).peekState(v.v.PREVIEW_FILE_EDIT,{resolve:{translations:[a.serviceName,e=>e.loadBundle("features/course/content/course-content")]},url:"/edit",require:[()=>Promise.all([n.e(5),n.e(10),n.e(87)]).then(n.bind(null,"ebp7")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],allowChildPeekStates:!0,peekViewName:"file-goal-peek",peekStates:["goal-picker-legacy",v.k.CONDITIONAL_RELEASE_PEEK_PANEL],panelClass:"peek",pageTitle:"course.content.file"}).peekState(v.H.Course.EDIT_BANNER,{url:"/editBanner?id",resolve:{translations:[a.serviceName,e=>e.loadBundle("features/course/edit-banner/edit-banner")]},require:()=>Promise.all([n.e(47),n.e(598)]).then(n.bind(null,"WXoY")),pageTitle:"course.editBanner.panelTitle"}).peekState(v.H.Course.SETTINGS,{url:"/{courseOrOrganization:(?:course-settings|organization-settings)}",peekViewName:"course-settings-base",require:()=>n.e(702).then(n.bind(null,"spe+")),panelClass:"full",pageTitle:"course.settings.headerLabel",courseEntitlement:[s.j.ViewCourseSettingsConsole],resolve:{translations:[a.serviceName,e=>e.loadBundle("features/course/settings/settings")],isOrganization:[p.d,m.d,(e,t)=>{const n=e.isOrganization?"organization":"course";t.next.pageTitle=`${n}.settings.headerLabel`,t.nextParams.courseOrOrganization=`${n}-settings`}]},onEnter:[m.d,x.b,(e,t)=>{t.createWaiter("feature.course.settings.console").then((t=>{t||e.goCurrentBasePage()}))}]}).peekState(v.H.Content.CONTENT_SEARCH,{url:"/content-search",require:()=>Promise.all([n.e(48),n.e(597)]).then(n.bind(null,"W+FE")),pageTitle:"courseCore.components.contentSearch.searchBox.contentSearchMenu",peekStates:["gradebook-item","content-manage","assessment","assignment","conversations",v.v.PREVIEW_FILE,v.H.Lti.LTI,v.H.Lti.LTI_LAUNCH,v.H.Lti.LTI_LAUNCH_PEEK,v.H.Lti.LTI_LAUNCH_FRAME,v.H.Scorm.GRADEBOOK_ITEM_SCORM_SUBMISSIONS,v.H.Scorm.SCORM_LAUNCH_FRAME,v.H.Scorm.SCORM_OVERVIEW_STUDENT,v.H.Content.DOCUMENT,v.H.Journal.JOURNAL],peekViewName:"content-search-panel",allowChildPeekStates:!0,panelClass:"full",onExit:[m.d,e=>{const{nextParams:t}=e;t.search=void 0,t.isOutlineSearch=void 0}]})}])}).call(this,n("71td"))},CuGX:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-class-pulse-future",use:"icon-small-class-pulse-future-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-class-pulse-future"><path d="M9 14c0 .5523-.4477 1-1 1s-1-.4477-1-1 .4477-1 1-1 1 .4477 1 1zM11 6.5a.5.5 0 11-1 0 .5.5 0 011 0zM5.5 9.5a.5.5 0 11-1 0 .5.5 0 011 0z" stroke-width="2" /><path d="M15 11l-4.5-4.5-5.5 3-4-2.357" stroke-width="2" /><path d="M9 2c0 .5523-.4477 1-1 1s-1-.4477-1-1 .4477-1 1-1 1 .4477 1 1z" stroke-width="2" /><path d="M15 2H1v12h14V2z" stroke-width="2" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},Cxi4:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("Llzl"),s=n("nYZ0"),a=n("Sa5G"),o=n("ZQFV"),r=n("jhBu"),l=n("pjml");const c="ultra.components.services.discussionPermission",d="discussionPermission";class u{constructor(e,t,n,i){this.$q=e,this.content=t,this.CourseModel=n,this.entitlement=i}canCreateAllContent(e){if(e){const t=this.CourseModel.$new(e),n=this.content.findRootNode(t,l.p.ContentRootNode.INTERACTIVE);let i;return n.$then((()=>{i=n.children,i||(i=n.getChildren({limit:0}))})).$asPromise().then((()=>i.$asPromise().then((()=>i.permissions&&i.permissions.create))))}return this.$q.when(!1)}hasEditPermission(e){return this.entitlement.hasCourseEntitlement(a.f.ModifyContent,e)}hasEditAvailabilityPermission(e){return this.entitlement.hasCourseEntitlement(a.f.ModifyContentAvailability,e)}hasEditDueDatePermission(e){return this.entitlement.hasCourseEntitlement(o.q.ModifyItemDueDate,e)}hasGradingPermission(e){return this.entitlement.hasCourseEntitlement(o.q.ModifyGradebook,e)}canDeleteDiscussion(e,t){return t&&t.permissions?t.canDelete():e&&e.canDelete()}areAnyGroupEntitled(e){return this.entitlement.areAnyEntitled([a.o.CreateGroups,a.o.DeleteGroups,a.o.ManageGroupMembership,a.o.ModifyGroups,a.o.ViewGroups],e)}}u.$inject=["$q",s.f,l.m.serviceName,r.b];i.module(c,[s.d,l.N,r.a]).service(d,u)},"D8d/":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var i=n("Llzl"),s=n("0JpG"),a=n("A+IJ"),o=n("2a+M"),r=n("pjml"),l=n("lEL+"),c=n("GbAM"),d=n("W6wm");const u="ultra.components.directives.bbDropHandler";class m{constructor(e,t,n,i,s,a,r,l){this.scope=e,this.element=t,this.$rootScope=i,this.$q=s,this.timeout=a,this.dragDropService=r,this.bbLocalizeService=l,this.isDraggingOverFolder=!1,this.isEmptyTarget="emptyTarget"in n,this.dropTargetElement=t.closest(this.dragDropService.dragElementSelector),e.$on("bb-drag-move",(()=>{if(this.isEnabledForReordering()&&this.isNotSameDropTarget()&&this.isOnSamePanel()){const e=t.offset(),n=t.height()+e.top,i=t.width()+e.left;this.dragDropService.pointerPosition.left>=e.left&&this.dragDropService.pointerPosition.left<=i&&this.dragDropService.pointerPosition.top>=e.top&&this.dragDropService.pointerPosition.top<=n?this.dragOverFunc(this.dragDropService.pointerPosition.top):this.dragLeaveFunc()}})),e.$on("bb-drag-end",(()=>{this.isEnabledForReordering()&&this.dragDropService.isCurrentDropTarget(e.content().id)&&this.isOnSamePanel()&&this.dropHandlerFunc()})),t.on("drop",(t=>{t.originalEvent.dataTransfer.files&&t.originalEvent.dataTransfer.files.length>0&&e.onFileDropHandler&&e.onFileDropHandler()(t.originalEvent.dataTransfer.files,e.content())})),e.$on("bb-drag-cancel",(()=>{this.isEnabledForReordering()&&this.dragDropService.isCurrentDropTarget(e.content().id)&&this.isOnSamePanel()&&(e.content().id===this.dragDropService.currentDragId&&(this.dragDropService.positionBefore=e.content().id),this.dropHandlerFunc())})),e.$on("keyboard-drag-start",(()=>{this.isEnabledForReordering()&&e.content().id===this.dragDropService.currentDragId&&(this.dragPosition=o.b.Self,this.dragDropService.originalElement=t.closest(this.dragDropService.dragElementSelector),this.dragDropService.currentDragElement=this.dragDropService.originalElement.clone(),this.dragDropService.originalElement.addClass(this.dragDropService.originalElementClass),this.dragDropService.currentDragElement.addClass(this.dragDropService.movableElementClass),this.dragDropService.originalElement.addClass(this.dragDropService.dragHoverClass),this.dragDropService.setDropTarget(e.content().id))})),e.$on("keyboard-drag-end",(()=>{this.isEnabledForReordering()&&this.dragDropService.isCurrentDropTarget(e.content().id)&&this.isOnSamePanel()&&this.timeout((()=>{this.dragDropService.originalElement&&this.dragDropService.originalElement.removeClass(this.dragDropService.originalElementClass),o.b.Folder===this.dragPosition?this.dragDropService.positionAfter=e.content().id:o.b.Top===this.dragPosition?(this.dragDropService.positionBefore=e.content().id,this.dragDropService.positionAfter=null):(this.dragDropService.positionAfter=e.content().id,this.dragDropService.positionBefore=null),this.dropTargetElement.removeClass(this.dragDropService.dragHoverClass),this.dragDropService.currentDragElement&&this.dragDropService.currentDragElement.remove(),this.isDropPreventedByContentDepthRules().then((t=>{if(!this.isDnDPreventedInDiscussionContext()&&!t&&!this._isDroppingInSamePlace()){const t={dragContentId:this.dragDropService.currentDragId,dragElement:this.dragDropService.currentDragElement,parentFolderId:this.scope.content().parentId,positionAfterId:this.dragDropService.positionAfter,positionBeforeId:this.dragDropService.positionBefore,rootScope:this.$rootScope,targetFolderId:this.scope.content().id};e.onMoveHandler()(t)}this._keyboardEndDragAndClearValues()}))}),e)})),e.$on("keyboard-drag-cancel",(()=>{this.isEnabledForReordering()&&this.dragDropService.isCurrentDropTarget(e.content().id)&&(this._keyboardEndDragAndClearValues(),this.dropTargetElement.removeClass(this.dragDropService.dragHoverClass),this.dragDropService.originalElement.removeClass(this.dragDropService.originalElementClass),this.dragDropService.currentDragElement.remove())})),e.$on("keyboard-drag-up",(()=>{this.isEnabledForReordering()&&this.dragDropService.isCurrentDropTarget(e.content().id)&&(this._removeKeyboardPlaceholderAndStyling(),this.isEmptyTarget&&(this.dragPosition=o.b.Top),o.b.Self===this.dragPosition||o.b.Top===this.dragPosition?e.previousContentId&&e.previousContentId()?this.keyboardMoveUpToItem(e.previousContentId()):e.content().depth>1?(this.dragDropService.queuedScreenReaderMessages+=" ",this.dragDropService.queuedScreenReaderMessages+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-leave-folder",noWrap:!0}),this.keyboardMoveOntoFolder(e.content().parentId)):(this._applyKeyboardPlaceholderAndStyling(),this._informScreenReaderOfNewLocation()):o.b.Folder===this.dragPosition?this._keyboardMoveAboveThisItem():o.b.Bottom===this.dragPosition&&this.isDropPreventedByContentDepthRules().then((t=>{this.isAFolder()?!0!==e.isFolderOpen()||!this.isNotSameDropTarget()||this.isDnDPreventedInDiscussionContext()||t?!1!==e.isFolderOpen()||!this.isNotSameDropTarget()||this.isDnDPreventedInDiscussionContext()||t||this.keyboardMoveOntoFolder(this.scope.content().id):(this.dragDropService.queuedScreenReaderMessages+=" ",this.dragDropService.queuedScreenReaderMessages+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-enter-folder",noWrap:!0}),this.keyboardMoveIntoFolderAsLastItem()):this._keyboardMoveAboveThisItem()})))})),e.$on("keyboard-drag-down",(()=>{this.isEnabledForReordering()&&this.dragDropService.isCurrentDropTarget(e.content().id)&&(this._removeKeyboardPlaceholderAndStyling(),this.isEmptyTarget&&(this.dragPosition=o.b.Bottom),o.b.Self===this.dragPosition||o.b.Bottom===this.dragPosition?e.nextContentId&&e.nextContentId()?this.keyboardMoveDownToItem(e.nextContentId()):e.content().depth>1?(this.dragDropService.queuedScreenReaderMessages+=" ",this.dragDropService.queuedScreenReaderMessages+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-leave-folder",noWrap:!0}),this.keyboardMoveBelowItem(e.content().parentId)):(this._applyKeyboardPlaceholderAndStyling(),this._informScreenReaderOfNewLocation()):o.b.Folder===this.dragPosition?this.isDropPreventedByContentDepthRules().then((t=>{e.isFolderOpen&&!0===e.isFolderOpen()&&this.isNotSameDropTarget()&&!this.isDnDPreventedInDiscussionContext()&&!t?(this.dragDropService.queuedScreenReaderMessages+=" ",this.dragDropService.queuedScreenReaderMessages+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-enter-folder",noWrap:!0}),this.keyboardMoveIntoFolderAsFirstItem()):this._keyboardMoveBelowThisItem()})):o.b.Top===this.dragPosition&&this.isDropPreventedByContentDepthRules().then((e=>{this.isAFolder()&&this.isNotSameDropTarget()&&!this.isDnDPreventedInDiscussionContext()&&!e?this.keyboardMoveOntoFolder(this.scope.content().id):this._keyboardMoveBelowThisItem()})))})),e.$on("keyboard-drag-right",(()=>{this.isEnabledForReordering()&&this.dragDropService.isCurrentDropTarget(e.content().id)&&o.b.Folder===this.dragPosition&&e.isFolderOpen&&!1===e.isFolderOpen()&&e.$emit("toggle-folder-by-id",e.content().id)})),e.$on("keyboard-drag-left",(()=>{this.isEnabledForReordering()&&this.dragDropService.isCurrentDropTarget(e.content().id)&&o.b.Folder===this.dragPosition&&e.isFolderOpen&&!0===e.isFolderOpen()&&e.$emit("toggle-folder-by-id",e.content().id)})),e.$on("keyboard-move-up-to-item",((t,n)=>{this.isEnabledForReordering()&&e.content().id===n&&(this.dragDropService.setDropTarget(e.content().id),e.content().id===this.dragDropService.currentDragId?(this.dragPosition=o.b.Self,this._applyKeyboardPlaceholderAndStyling(),this._informScreenReaderOfNewLocation()):this.isAFolder()?this.scope.isFolderOpen&&!0===this.scope.isFolderOpen()?this.keyboardMoveIntoFolderAsLastItem():(this.dragPosition=o.b.Folder,this._applyKeyboardPlaceholderAndStyling(),this._informScreenReaderOfNewLocation()):this._keyboardMoveAboveThisItem())})),e.$on("keyboard-move-down-to-item",((t,n)=>{this.isEnabledForReordering()&&e.content().id===n&&(this.dragDropService.setDropTarget(e.content().id),e.content().id===this.dragDropService.currentDragId?(this.dragPosition=o.b.Self,this._applyKeyboardPlaceholderAndStyling(),this._informScreenReaderOfNewLocation()):this.isAFolder()?this.keyboardMoveOntoFolder(this.scope.content().id):this._keyboardMoveBelowThisItem())})),e.$on("keyboard-move-above-item",((t,n)=>{this.isEnabledForReordering()&&e.content().id===n&&(this.dragDropService.setDropTarget(e.content().id),this._keyboardMoveAboveThisItem())})),e.$on("keyboard-move-below-item",((t,n)=>{this.isEnabledForReordering()&&e.content().id===n&&(this.dragDropService.setDropTarget(e.content().id),this._keyboardMoveBelowThisItem())})),e.$on("keyboard-move-onto-folder",((t,n)=>{this.isEnabledForReordering()&&e.content().id===n&&(this.dragDropService.setDropTarget(e.content().id),this.dragPosition=o.b.Folder,this._applyKeyboardPlaceholderAndStyling(),this._informScreenReaderOfNewLocation())})),e.$on("remove-placeholder",(()=>{this.isEnabledForReordering()&&this.dragDropService.dropPlaceholderElement&&this.dragDropService.dropPlaceholderElement.remove(),this.isEmptyTarget&&this.element.children("bb-add-content-button").show()}))}_keyboardMoveBelowThisItem(){this.scope.content().id===this.dragDropService.currentDragId?this.keyboardMoveDownToItem(this.scope.content().id):this.scope.nextContentId&&this.scope.nextContentId()===this.dragDropService.currentDragId?this.keyboardMoveDownToItem(this.scope.nextContentId()):(this.dragPosition=o.b.Bottom,this._applyKeyboardPlaceholderAndStyling(),this._informScreenReaderOfNewLocation())}_keyboardMoveAboveThisItem(){this.scope.content().id===this.dragDropService.currentDragId?this.keyboardMoveUpToItem(this.scope.content().id):this.scope.previousContentId&&this.scope.previousContentId()===this.dragDropService.currentDragId?this.keyboardMoveUpToItem(this.scope.previousContentId()):(this.dragPosition=o.b.Top,this._applyKeyboardPlaceholderAndStyling(),this._informScreenReaderOfNewLocation())}_informScreenReaderOfNewLocation(){const e=this.element.find("[bb-drag-handle]").eq(0).attr("drag-item-name");let t="";if(""!==this.dragDropService.queuedScreenReaderMessages&&(t+=this.dragDropService.queuedScreenReaderMessages,t+=" "),-1!==this.dragDropService.currentDropTargetId.indexOf("blank"))return t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-only-item-in-folder",noWrap:!0}),this.$rootScope.$broadcast(c.a,t),void(this.dragDropService.queuedScreenReaderMessages="");this.scope.previousContentId&&this.scope.previousContentId()||o.b.Top!==this.dragPosition&&o.b.Self!==this.dragPosition?this.scope.nextContentId&&this.scope.nextContentId()||o.b.Bottom!==this.dragPosition&&o.b.Self!==this.dragPosition||(t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-end-of-list",noWrap:!0}),t+=" "):(t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-top-of-list",noWrap:!0}),t+=" "),o.b.Self===this.dragPosition?t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-moved-self",noWrap:!0}):o.b.Folder===this.dragPosition?t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-moved-folder",params:{itemName:e},noWrap:!0}):o.b.Top===this.dragPosition?t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-moved-above",params:{itemName:e},noWrap:!0}):o.b.Bottom===this.dragPosition&&(t+=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:"components.services.drag-drop.aria.reorder-moved-below",params:{itemName:e},noWrap:!0})),this.$rootScope.$broadcast(c.a,t),this.dragDropService.queuedScreenReaderMessages=""}_applyKeyboardPlaceholderAndStyling(){let e=this.dropTargetElement;o.b.Self===this.dragPosition?this.dropTargetElement.addClass(this.dragDropService.dragHoverClass):o.b.Folder===this.dragPosition?(this.dropTargetElement.before(this.dragDropService.currentDragElement),this.dragDropService.currentDragElement&&(1===this.scope.content().depth?this.dragDropService.currentDragElement.addClass(this.dragDropService.onFolderClass):2===this.scope.content().depth&&this.dragDropService.currentDragElement.addClass(this.dragDropService.onNestedFolderClass))):o.b.Bottom===this.dragPosition?(e=this.dragDropService.currentDragElement,this.dropTargetElement.after(this.dragDropService.currentDragElement)):o.b.Top===this.dragPosition&&(e=this.dragDropService.currentDragElement,this.dropTargetElement.before(this.dragDropService.currentDragElement)),this._scrollContainer(e)}_removeKeyboardPlaceholderAndStyling(){this.dropTargetElement.removeClass(this.dragDropService.dragHoverClass),this.dragDropService.currentDragElement&&(this.dragDropService.currentDragElement.removeClass(this.dragDropService.onFolderClass),this.dragDropService.currentDragElement.removeClass(this.dragDropService.onNestedFolderClass),this.dragDropService.currentDragElement.remove())}_scrollContainer(e){this.dragDropService.scrollDragDropItemsContainer(e.offset().top,o.a.SCROLLING_CONSTANTS.keyboardInteractionDistanceToScroll)}_keyboardEndDragAndClearValues(){this.timeout((()=>{e('[bb-drag-handle][drag-item-id="'+this.dragDropService.currentDragId+'"]').focus(),this.dragDropService.clearDropTarget(),this.dragDropService.currentDragId=void 0,this.dragDropService.currentDragType=void 0,this.dragDropService.isKeyboardDragging=!1}),this.scope,0,!1)}isDropPreventedByContentDepthRules(){const e=()=>r.p.ContentHandler.Folder.isEqualTo(this.dragDropService.currentDragType);if(void 0!==this.dragDropService.currentDragHasFolderChild)return this.dragDropService.currentDragHasFolderChild.then((t=>e()&&(this.isDraggingOverFolder&&this.scope.content().depth===a.l||this.scope.content().depth>a.l||this.isDraggingOverFolder&&t)));const t=this.$q.defer();return t.resolve(!1),t.promise}isDnDPreventedInDiscussionContext(){return(()=>d.a.Discussions===this.dragDropService.currentDragContext)()&&(()=>r.p.ContentHandler.Folder.isEqualTo(this.dragDropService.currentDragType))()&&(this.isDraggingOverFolder&&this.scope.content().depth===a.k||this.scope.content().depth>a.k)}dragOverFunc(e){if(this.dragDropService.currentDragId&&this.dragDropService.currentDragId!==this.scope.content().id){this.dragDropService.setDropTarget(this.scope.content().id),!this.folderHoverTimeout&&this.scope.isFolderOpen&&!1===this.scope.isFolderOpen()&&(this.dropTargetElement.addClass(this.dragDropService.dragHoverClass),this.folderHoverTimeout=this.timeout((()=>{this.isDropPreventedByContentDepthRules().then((e=>{e||this.isDnDPreventedInDiscussionContext()?(this.dragDropService.isShowingDepthMessage=!0,this.$rootScope.$broadcast("show-override-message",this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(this.scope),key:this.dragDropService.folderDepthMessageKey}),this.scope.content().id)):(this.scope.$emit("toggle-folder-by-id",this.scope.content().id),this.wasFolderOpened=!0)}))}),this.scope,1500)),this.dragDropService.isShowingDepthMessage&&this.dragDropService.isNotSameDropTarget()&&(this.dragDropService.isShowingDepthMessage=!1,this.broadcastShowOverrideMessage());const t=e,n=this.element.offset().top+this.element.height()/2,i=this.dragPosition;this.isAFolder()&&(this.isDraggingOverFolder=!0),this.scope.content().id.indexOf("placeholder")>-1?(this.dragDropService.positionAfter=this.scope.content().parentId,this.dragDropService.positionBefore=void 0,this.dragPosition=o.b.Bottom):t<=n?(this.dragDropService.positionBefore=this.scope.content().id,this.dragDropService.positionAfter=void 0,this.dragPosition=o.b.Top):(this.dragDropService.positionAfter=this.scope.content().id,this.dragDropService.positionBefore=void 0,this.dragPosition=o.b.Bottom),(this.dragDropService.isNotSameDropTarget()||this.dragPosition!==i)&&(this._moveDropPlaceholderElement(),this.isEmptyTarget&&this.element.children().hide())}}_moveDropPlaceholderElement(){if(this.$rootScope.$broadcast("remove-placeholder"),this.dragDropService.currentDragId===this.dragDropService.currentDropTargetId)return;(()=>this.dragDropService.positionBefore&&this.dragDropService.currentDropTargetId!==this.dragDropService.idOfNextItem)()?this.dropTargetElement.before(this.dragDropService.dropPlaceholderElement):(()=>!(this.dragDropService.currentDropTargetId.indexOf("placeholder")>-1&&this.dragDropService.idOfNextItem===this.dragDropService.currentDropTargetId)&&(this.dragDropService.positionAfter&&this.dragDropService.currentDropTargetId!==this.dragDropService.idOfPreviousItem))()&&this.dropTargetElement.after(this.dragDropService.dropPlaceholderElement)}_isDroppingInSamePlace(){if(null!=this.dragDropService.positionAfter&&this.scope.previousContentId&&this.dragDropService.positionAfter===this.scope.previousContentId()||this.dragDropService.positionAfter===this.dragDropService.currentDragId||null!=this.dragDropService.positionBefore&&this.scope.nextContentId&&this.dragDropService.positionBefore===this.scope.nextContentId()||this.dragDropService.positionBefore===this.dragDropService.currentDragId)return!0}dropHandlerFunc(){this.timeout.cancel(this.folderHoverTimeout),this.dropTargetElement.parents("[data-parent-id]").last().removeAttr("style"),this.dragDropService.clearDropTarget(),this.$rootScope.$broadcast("remove-placeholder"),this.$rootScope.$broadcast("file-drag-restore"),this.dragDropService.isShowingDepthMessage&&(this.dragDropService.isShowingDepthMessage=!1,this.broadcastShowOverrideMessage());const e={dragContentId:this.dragDropService.currentDragId,originalElement:this.dragDropService.originalElement,parentFolderId:this.scope.content().parentId,positionAfterId:this.dragDropService.positionAfter,positionBeforeId:this.dragDropService.positionBefore,rootScope:this.$rootScope,targetFolderId:this.scope.content().id};this.isDropPreventedByContentDepthRules().then((t=>{this._isDroppingInSamePlace()||this.isDnDPreventedInDiscussionContext()?this.dropCleanupFunc():!t&&this.isDraggingOverFolder?this.scope.$$phase||this.scope.$root&&this.scope.$root.$$phase?(this.scope.onMoveIntoFolderHandler()(e),this.dropCleanupFunc()):this.scope.$apply((()=>{this.scope.onMoveIntoFolderHandler()(e),this.dropCleanupFunc()})):t?this.dropCleanupFunc():this.scope.$$phase||this.scope.$root&&this.scope.$root.$$phase?(this.scope.onMoveHandler()(e),this.dropCleanupFunc()):this.scope.$apply((()=>{this.scope.onMoveHandler()(e),this.dropCleanupFunc()})),this.isDraggingOverFolder=!1}))}dropCleanupFunc(){this.wasFolderOpened&&(this.wasFolderOpened=!1,this.scope.$emit("toggle-folder-by-id",this.scope.content().id)),this.dragDropService.currentDragId=void 0,this.dragDropService.currentDragType=void 0,this.dropTargetElement.removeClass(this.dragDropService.dragHoverClass),this.dragDropService.currentDragElement&&this.dragDropService.currentDragElement.remove()}dragLeaveFunc(){this.isDraggingOverFolder=!1,this.dropTargetElement.removeClass(this.dragDropService.dragHoverClass),this.timeout.cancel(this.folderHoverTimeout),this.folderHoverTimeout=void 0,this.isDropPreventedByContentDepthRules().then((e=>{e&&(this.dragDropService.isShowingDepthMessage=!1,this.broadcastShowOverrideMessage())}))}broadcastShowOverrideMessage(){this.scope.$$phase||this.scope.$root&&this.scope.$root.$$phase?this.$rootScope.$broadcast("show-override-message",void 0,this.scope.content().id):this.scope.$apply((()=>this.$rootScope.$broadcast("show-override-message",void 0,this.scope.content().id)))}keyboardMoveUpToItem(e){this.timeout((()=>{this.dragDropService.clearDropTarget(),this.$rootScope.$broadcast("keyboard-move-up-to-item",e)}),this.scope)}keyboardMoveDownToItem(e){this.timeout((()=>{this.dragDropService.clearDropTarget(),this.$rootScope.$broadcast("keyboard-move-down-to-item",e)}),this.scope)}keyboardMoveBelowItem(e){this.timeout((()=>{this.dragDropService.clearDropTarget(),this.$rootScope.$broadcast("keyboard-move-below-item",e)}),this.scope)}keyboardMoveAboveItem(e){this.timeout((()=>{this.dragDropService.clearDropTarget(),this.$rootScope.$broadcast("keyboard-move-above-item",e)}),this.scope)}keyboardMoveOntoFolder(e){this.timeout((()=>{this.dragDropService.clearDropTarget(),this.$rootScope.$broadcast("keyboard-move-onto-folder",e)}),this.scope)}keyboardMoveIntoFolderAsLastItem(){const e=this.scope.content().children;e.length>0?this.keyboardMoveBelowItem(e[e.length-1].id):this.keyboardMoveBelowItem(this.scope.content().id+"blank")}keyboardMoveIntoFolderAsFirstItem(){const e=this.scope.content().children;e.length>0?this.keyboardMoveAboveItem(e[0].id):this.keyboardMoveAboveItem(this.scope.content().id+"blank")}isNotSameDropTarget(){return this.scope.content().id!==this.dragDropService.currentDragId}isOnSamePanel(){return this.element.closest(".panel-content").is(this.dragDropService.originalElement.closest(".panel-content"))}isEnabledForReordering(){return!(this.scope.disableForReordering&&this.scope.disableForReordering())}isAFolder(){return null!=this.scope.isFolderOpen}}m.$inject=["scope","element","attrs","$rootScope","$q",l.b,o.d,s.serviceName];class p{constructor(e){this.$injector=e,this.scope={onMoveIntoFolderHandler:"&?",onMoveHandler:"&",onFileDropHandler:"&",isFolderOpen:"&?",content:"&",previousContentId:"&?",nextContentId:"&?",disableForReordering:"&?"},this.restrict="A",this.link=(e,t,n)=>{e.dropHandlerDirective=this.$injector.instantiate(m,{scope:e,element:t,attrs:n})}}}p.$inject=["$injector"],i.module(u,[o.c,l.a]).directive("bbDropHandler",["$injector",e=>e.instantiate(p)])}).call(this,n("71td"))},DAbe:function(e,t){e.exports="<div ng-transclude></div>"},DDbI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("w9Zy"),a=n("TnpK"),o=n("nmzr");const r="profile.update-avatar.routes";i.module(r,[s.d,a.b]).config([a.c,e=>{e.peekState(o.E.UPDATE_AVATAR_PEEK,{url:"/avatar/update",require:()=>Promise.all([n.e(27),n.e(641)]).then(n.bind(null,"Jgl2")),pageTitle:"base.profile.update-avatar.pageTitle"})}])},DH9M:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("QLzv");var i=n("5MwF"),s=n("yCC5"),a=n("Rjd/"),o=n("nkTj");const r=s.ec;a.a.factory(r,["restmod",o.c,(e,t)=>{const n=i.a.apiBasePath+"/v1/announcements";return e.model(n)}])},DMV0:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.directives.cloudStorageIntegration.modal.errorTitle"\n          analytics-id-tag-prefix="components.directives.cloudStorageIntegration">\n  <div name="modal-contents">\n    <p bb-translate>components.directives.cloudStorageIntegration.modal.errorFull</p>\n  </div>\n  <button name="modal-footer-button-primary" class="button dismiss-button js-primary-button" ng-click="$parent.$dismiss()" analytics-id="components.directives.cloudStorageIntegration.modal.cancelUploadText">\n    <bb-translate>components.directives.cloudStorageIntegration.modal.cancelUploadText</bb-translate>\n  </button>\n</bb-modal>\n'},DU7P:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),function(e){e.None="",e.Respondus="Respondus",e.IMS="IMS"}(i||(i={}));const s="rs-lockdown"},DUMb:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-information",use:"icon-medium-information-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-information"><path d="M12 23c6.0751 0 11-4.9249 11-11S18.0751 1 12 1 1 5.9249 1 12s4.9249 11 11 11z" stroke-width="2" /><path d="M12 6.5a.5.5 0 100-1 .5.5 0 000 1z" stroke-linecap="round" stroke-linejoin="round" /><path d="M10 9h2v9M10 18h4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},DXZ4:function(e,t,n){},DlnX:function(e,t,n){},DnQR:function(e,t){e.exports='<div bb-load-bundle="components/directives/folder" class="folder" ng-class="{\'is-empty-folder\': content.children.length === 0 && folder.showEmptyMenu, \'learning-module\': content.isLearningModule()}" bb-cache-compilation="content-folder">\n  <div bb-drop-handler on-move-handler="onMoveHandler" on-move-into-folder-handler="onMoveIntoFolderHandler" on-file-drop-handler="onFileDropHandler" content="content" is-folder-open="folder.isOpen" next-content-id="nextContentId" previous-content-id="previousContentId">\n    <div ng-if="::(!content.isLearningModule())"\n         class="row collapse element-list-row folder-row-container js-parent js-course-skip-link-target"\n         can-create="canCreate"\n         bb-content-item-mouseover\n         ng-class="{open: folder.isOpen, \'is-conditional-release\': content.isConditionalReleaseLocked(), \'element-list-row-extra-icon\': folder.isProgressTrackingStateShown(content)}"\n         bb-click-to-invoke-child="button.content-title">\n      <bb-content-item-base contents="contents" content="content" context-area="folder.contextArea" can-move="canMove"></bb-content-item-base>\n      <div class="list-tree-toggle" ng-if="folder.canToggle()">\n        <button class="button super-clear"\n                ng-click="folder.toggleFolder()"\n                aria-controls="{{::\'folder-contents-\' + content.id}}"\n                aria-expanded="{{folder.isOpen}}"\n                bb-translate-attrs="{\'aria-label\':\'components.directives.folder.aria-label.toggle-folder\'}"\n                translate-attrs-values="{folderName: content.title}"\n                analytics-id="course.content.folder.toggle.button">\n          <bb-svg-icon size="small" icon="arrow-down"></bb-svg-icon>\n        </button>\n      </div>\n    </div>\n\n    <div ng-if="::(content.isLearningModule())" ng-class="{open: folder.isOpen}">\n      <bb-learning-module-base-item content="content" contents="contents" context-area="folder.contextArea" can-toggle="::folder.canToggle()"\n        toggle-func="folder.toggleFolder()" can-move="canMove" is-open="folder.isOpen">\n      </bb-learning-module-base-item>\n    </div>\n  </div>\n  <div ng-attr-id="{{::(content.isLearningModule() ? \'learning-module-contents-\' : \'folder-contents-\') + content.id}}" class="folder-contents" aria-expanded="{{folder.isOpen}}" ng-class="{\'not-empty\': content.children && content.children.length > 0}">\n    <div ng-if="(content.children.length > 0 || folder.showOutlineOverride) && folder.isOpen">\n      <bb-content-outline hide-add-menu-override="folder.showOutlineOverride" on-file-drop-handler="onFileDropHandler" on-move-handler="onMoveHandler"\n                          on-move-into-folder-handler="onMoveIntoFolderHandler" load-more-children="loadMoreChildren" parent-folder="folder.content"\n                          contents="folder.content.children" can-create="canCreate" can-move="canMove" context-area="folder.contextArea"\n                          can-copy-import="canCopyImport"></bb-content-outline>\n    </div>\n    <div class=\'drag-element\'>\n      <div bb-drop-handler\n        ng-show="content.children.length === 0"\n        on-move-handler="onMoveHandler"\n        on-move-into-folder-handler="onMoveIntoFolderHandler"\n        on-file-drop-handler="onFileDropHandler"\n        content="{id: content.id + \'blank\', parentId: content.id, depth: content.depth + 1}"\n        empty-target\n      >\n        <span class="empty-message" ng-if="content.children.length === 0 && folder.showEmptyMenu && !canCreate"\n          ng-class="{\'foder-in-force-sequence-empty-message\': content.isForcedSequenceItem()}"\n          bb-translate="{{\n              content.isLearningModule() ?\n                \'components.directives.learning-module.empty\' :\n                \'components.directives.folder.empty\'\n          }}">\n        </span>\n        \x3c!-- (|| false) keep showMenuOverride in watch status in add-content-button directive --\x3e\n        \x3c!-- use ng-show instead of ng-if to keep the element when close add buttons, make sure the upload directive handlers will not be lost --\x3e\n        <ng-switch on="::content.isLearningModule()">\n          <bb-add-content-button ng-switch-when="false" show-menu-override="folder.showMenuOverride || false" depth="(content.depth + 1)" content="content"\n                                 root-content="rootContent()" parent-id="content.id" position-before="\'start\'"\n                                 ng-show="canCreate && folder.showEmptyMenu" context-area="folder.contextArea"\n                                 can-copy-import="canCopyImport" folder-nested-button="true"></bb-add-content-button>\n          <bb-add-content-button ng-switch-when="true" show-menu-override="false" depth="(content.depth + 1)" content="content"\n                                 root-content="content" parent-id="content.id" position-before="\'start\'"\n                                 is-render-by-default="true"\n                                 class="empty-lm-add-content-btn"\n                                 ng-show="canCreate && folder.showEmptyMenu" context-area="folder.contextArea"\n                                 can-copy-import="canCopyImport" folder-nested-button="true"></bb-add-content-button>\n        </ng-switch>\n      </div>\n    </div>\n  </div>\n</div>\n'},DpvE:function(e,t){e.exports='<div>\n  <div class="initials"></div>\n  <div class="image"></div>\n</div>'},DsaG:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var i=n("Llzl"),s=n("f4B+"),a=n("IbyE"),o=n("AuQm");const r="ultra.components.services.fileViewer",l="fileViewer",c="audio",d="image",u="video",m="gif",p="jpeg",h="png";class g{constructor(t){this.$sce=t,this.canFileBeRenderedInline=e=>{if(!e)return!1;const t=this.getMediaSubType(e),n=this.getMediaType(e);switch(n){case d:return[p,m,h].indexOf(t)>-1;case c:case u:{const t=document.createElement(n);return t.canPlayType&&!!t.canPlayType(e)}}return Object(o.bb)(e)},this.getMediaSubType=e=>{var t;return null!==(t=null==e?void 0:e.substring(e.indexOf("/")+1))&&void 0!==t?t:null},this.getMediaType=e=>{var t;return null!==(t=null==e?void 0:e.substring(0,e.indexOf("/")))&&void 0!==t?t:null},this.isMediaFile=t=>e.inArray(t,[d,u,c])>=0,this.shouldRenderInlineByDefault=e=>{let t=!1;const n=this.getMediaType(e.currentMimeType);return n?t=this.isMediaFile(n):Object(o.bb)(e.currentMimeType)&&(t=!0),t},this.isAudioFile=e=>e===c,this.isImageFile=e=>e===d,this.isVideoFile=e=>e===u,this.initUiField=e=>{null==e.ui&&(e.ui={}),e.viewerData&&e.viewerData.viewerUrl&&(e.ui.trustedViewUrl=this.$sce.trustAsResourceUrl(e.viewerData.viewerUrl)),e.ui.iconClass=Object(a.Gb)(e.currentMimeType);const{currentMimeType:t}=e;e.ui.mediaType=this.getMediaType(t),e.ui.mediaSubtype=this.getMediaSubType(t),e.ui.canBeRenderedInline=this.canFileBeRenderedInline(t),e.ui.safeAltText=e.alternativeText?s.a.HTML(e.alternativeText):""}}}g.$inject=["$sce"];i.module(r,[]).service(l,g)}).call(this,n("71td"))},Dwp2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("YOs/"),a=n("65PF"),o=n("C/Ry");const r="ultra.components.directives.table.tableCell";class l{constructor(e,t,n){this.scope=e,this.element=t,this.ctrl=n,this.getColumn(),this.handleAlternateText()}getColumn(){this.column=this.ctrl.getConfig().columns[this.scope.columnIndex()]}handleAlternateText(){if(this.column&&this.column.alternateTextFn){const e=this.column.alternateTextFn(this.scope.item);this.element.find(".alternate-contents").text(e),this.element.find(".transclude-container").attr("aria-hidden","true")}}}l.$inject=["scope","element","ctrl"];class c{constructor(e){this.$injector=e,this.require="^bbTable",this.restrict="E",this.replace=!0,this.transclude=!0,this.template=function(e,t){return"true"===t.header?o:a},this.scope={columnIndex:"&",header:"@"},this.link=(e,t,n,i,s)=>{e.item=e.$parent.$parent.item,e.tableCell=this.$injector.instantiate(l,{scope:e,element:t,ctrl:i}),s(((n,i)=>{i.item=e.item,t.find(".transclude-container").append(n)}))}}}c.$inject=["$injector"],i.module(r,[s.b]).directive("bbTableCell",["$injector",e=>e.instantiate(c)])},DyQT:function(e,t){e.exports='<div bb-load-bundle="components/directives/save-tray">\n  <div class="notification-container" ng-switch on="saveTray.status">\n    <span class="progress-indicator"><div class="canvas" ng-class="{\'success-state\' : saveTray.status === \'success\', \'error-state\' : saveTray.status === \'error\'}"></div></span>\n    <span class="progress-status" ng-switch-default bb-translate>{{::saveTray.localizationKeysPrefix}}.loadingMoreItems</span>\n    <span class="progress-status" ng-switch-when="success" bb-translate>{{::saveTray.localizationKeysPrefix}}.itemsLoaded</span>\n    <span class="progress-status" ng-switch-when="error" bb-translate>{{::saveTray.localizationKeysPrefix}}.itemsFailedToLoad</span>\n  </div>\n</div>\n'},E01l:function(e,t){e.exports='<bb-modal class="notification group-attempt-access-control-dialog {{additionalClass}}"\n  modal-translate-options="modalTranslateOptions"\n  analytics-id-tag-prefix="components.directives.groupAttemptAccessControlDialog">\n\n  <div name="modal-contents">\n\n    <div class="queue">\n      <div class="owner user-tile">\n        <div>\n          <bb-avatar user="owner"></bb-avatar>\n          <bb-username user="owner"></bb-username>\n        </div>\n      </div>\n      <div class="user-tile queuer" ng-repeat="user in queuedUsers track by user.id" ng-class="\'queuer-\' + $index">\n        <div>\n          <bb-avatar user="user"></bb-avatar>\n          <bb-username user="user"></bb-username>\n        </div>\n      </div>\n    </div>\n\n    <p ng-bind-html="::modalStrings.instructions"></p>\n  </div>\n  <span name="modal-footer-button-primary">\n    <button class="button confirm-ok js-primary-button" ng-click="okAction()" ng-if="!hideOK" analytics-id="primary.ok.action.button">{{::modalStrings.ok}}</button>\n    <button class="button confirm-cancel js-secondary-button" ng-click="cancelAction()" ng-if="hideOK" analytics-id="secondary.cancel.action.button">{{::modalStrings.cancel}}</button>\n  </span>\n  <span name="modal-footer-button-secondary">\n    <button class="button button--secondary confirm-cancel js-secondary-button" ng-click="cancelAction()" ng-if="!hideOK" analytics-id="secondary.cancel.action.button">{{::modalStrings.cancel}}</button>\n  </span>\n</bb-modal>\n'},E7GM:function(e,t){e.exports='<div bb-grade-grid-menu-reborn id="{{id}}" class="grade-grid-group-confirm-dialog" aria-haspopup="true" role="dialog">\n  <div class="message-wrapper">\n    <div class="message">\n      <span bb-translate>components.directives.grade.grid.confirmContent</span>\n    </div>\n    <div class="buttons">\n      <button class="button" \n              ng-click="saveGroup()" \n              bb-translate  \n              analytics-id="components.directives.grade.grid.yes">components.directives.grade.grid.yes</button>\n      <button class="button button--secondary" \n              ng-click="saveOne()" \n              ng-disabled="isSaveOneDisabled" \n              analytics-id="components.directives.grade.grid.no"\n              bb-translate>components.directives.grade.grid.no</button>\n    </div>\n  </div>\n</div>'},EGJL:function(e,t){e.exports='<div ng-class="{\'is-restricted\': graderColumn.column.isHidden() && !graderColumn.column.externalGrade, \'grader-column\': true}">\n  <div class="row tabular-row js-row grader-column-item">\n    <div ng-class="{\'medium-5\': !graderColumn.isCourseView, \'medium-4\': graderColumn.isCourseView}" class="columns">\n      <div class="element-card">\n        <div bb-content-item-icon\n          show-alert-icon="graderColumn.showAlertIcon()"\n          content-column="graderColumn.column"\n          class="element-image"\n          ng-class="{\'submission-nav-link\': graderColumn.itemLinkIsClickable}"\n          ng-if="graderColumn.column"\n          ng-click="graderColumn.handleColumnClick(\'icon\')"\n          analytics-id="components.directives.grade.graderColumn.icon.link">\n        </div>\n        <div class="element-details">\n          <div ng-class="{\'gradebook-overall-grade-title\': graderColumn.column.externalGrade}">\n            <bb-svg-icon\n              id="{{graderColumn.column.id + \'grade-not-visible-icon\'}}"\n              size="small"\n              ng-if="graderColumn.column.externalGrade && !graderColumn.column.visible"\n              icon="invisible"\n              class="visibility-icon"\n              role="img"\n              bb-translate-attrs="{\'aria-label\': \'components.directives.grade.grader-column.aria-label.gradeNotVisible\'}"\n            ></bb-svg-icon>\n            <span class="name ellipse" ng-if="graderColumn.itemLinkIsClickable">\n              <a  class="submission-nav-link"\n                  ng-click="graderColumn.handleColumnClick(\'title\')"\n                  href="javascript:void(0);"\n                  bb-key-hide-ftue="grades.grader.base.column.clickItem"\n                  id="{{\'graderColumn_\' + graderColumn.course.courseId + \'_\' + graderColumn.index}}"\n                  analytics-id="components.directives.grade.graderColumn.name.link"\n                  aria-label="{{graderColumn.attendanceAriaLabel}}"\n                  ng-attr-aria-describedby="{{graderColumn.column.externalGrade && !graderColumn.column.visible ? graderColumn.column.id + \'grade-not-visible-icon\' : undefined}}">\n                  {{graderColumn.column.columnName}}\n              </a>\n            </span>\n          </div>\n          <span class="name ellipsis" ng-if="!graderColumn.itemLinkIsClickable">\n            <span id="{{ \'graderColumn_\' + graderColumn.course.courseId + \'_\' + graderColumn.index }}">{{graderColumn.column.columnName}}</span>\n          </span>\n          <div class="name-controls" ng-if="::!graderColumn.column.isOffline()">\n            <span class="secondary-text" ng-if="::graderColumn.column.seemsAttemptBased()">\n              <span ng-if="graderColumn.column.dueDate && graderColumn.numMissingStudents">\n                <span class="items-missing" bb-translate translate-values="{missingCount: graderColumn.numMissingStudents}">components.directives.grade.grader-column.studentsMissing.plural</span>\n                <span ng-if="!graderColumn.column.isOffline()">|</span>\n              </span>\n              <span ng-if="graderColumn.column.summary.numStudentSubmissions && graderColumn.column.summary.numEligibleToBeGraded">\n                <bb-translate ng-if="graderColumn.column.isDiscussion()" class="submittedCount" translate-values="{participatedCount: graderColumn.column.summary.numStudentSubmissions(), totalCount: graderColumn.column.summary.numEligibleToBeGraded}">components.directives.grade.grader-column.studentsParticipated.plural</bb-translate>\n                <bb-translate ng-if="!graderColumn.column.isDiscussion()" class="submittedCount" translate-values="{submittedCount: graderColumn.column.summary.numStudentSubmissions(), totalCount: graderColumn.column.summary.numEligibleToBeGraded}">components.directives.grade.grader-column.studentsSubmitted.plural</bb-translate>\n              </span>\n            </span>\n            <span class="secondary-text" ng-if="::graderColumn.column.isAttendance() && graderColumn.column.summary.averageGradeForStudents">\n                <span bb-translate translate-values="{percentage: graderColumn.column.summary.averageGradeForStudents}">components.directives.grade.grader-column.attendance.average</span>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div ng-if="graderColumn.isCourseView" class="date columns medium-2 large-2 hide-for-small-only">\n      <bb-datetime ng-if="!graderColumn.column.isAttendance()" format="Short" value="graderColumn.column.dueDate">\n      </bb-datetime>\n      <span ng-if="graderColumn.column.isAttendance()" bb-translate>components.directives.grade.grader-column.attendance.ongoing</span>\n    </div>\n\n    <div ng-class="{\'grade-status-container columns medium-7\': !graderColumn.isCourseView, \'columns medium-5 course-only-grade-status-container\': graderColumn.isCourseView}">\n      <div class="grade-progress" ng-class="{\'columns medium-7 course-only-grade-status\': graderColumn.isCourseView}" ng-if="!graderColumn.column.isAttendance()">\n        <div ng-switch="graderColumn.column.isCollectExternalSubmissions()">\n          \x3c!-- External submission statuses are calculated differently from others since the instructor is initiating the attempt\n          when they go to grade the user. Therefore, we want to include people who have no submission as ready to be graded //--\x3e\n          <div ng-switch-when="true">\n            <a ng-switch="graderColumn.column.summary.getStatus().toString()"\n                ng-class="{\'submission-nav-link\': graderColumn.itemLinkIsClickable}"\n                ng-click="graderColumn.handleColumnClick(\'status\')"\n                href="javascript:void(0);"\n                analytics-id="components.directives.grade.graderColumn.status.link"\n                tabindex="{{ graderColumn.itemLinkIsClickable ? 0 : -1 }}"\n                aria-labelledby="{{ graderColumn.itemLinkIsClickable ? \'grading-status-id\' + \'_\' + graderColumn.index + \' \' + \'graderColumn_\' + graderColumn.course.courseId + \'_\' + graderColumn.index : undefined}}">\n              <div class="grade-count" ng-switch-when="NEEDS_GRADING">\n                <span id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" bb-translate translate-values="{count: graderColumn.getNumberEligibleToBeGradedExternalSubmissions()}">\n                  components.directives.grade.grader-column.statuses.numToGrade.plural\n                </span>\n              </div>\n              <span ng-switch-when="NEEDS_POSTING">\n                <span id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" bb-translate ng-if="graderColumn.getNumberEligibleToBeGradedExternalSubmissions() === 0">\n                  components.directives.grade.grader-column.statuses.allGraded\n                </span>\n                <span id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" bb-translate ng-if="graderColumn.getNumberEligibleToBeGradedExternalSubmissions() > 0"\n                      translate-values="{count: graderColumn.getNumberEligibleToBeGradedExternalSubmissions()}">\n                  components.directives.grade.grader-column.statuses.numToGrade.plural\n                </span>\n              </span>\n              <span ng-switch-when="ALL_GRADED">\n                <span id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" ng-if="graderColumn.getNumberEligibleToBeGradedExternalSubmissions() === 0" bb-translate>\n                  components.directives.grade.grader-column.statuses.allGraded\n                </span>\n                <span id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" ng-if="graderColumn.getNumberEligibleToBeGradedExternalSubmissions() > 0" bb-translate\n                      translate-values="{count: graderColumn.getNumberEligibleToBeGradedExternalSubmissions()}">\n                  components.directives.grade.grader-column.statuses.numToGrade.plural\n                </span>\n              </span>\n              <div class="grade-progress-complete" ng-switch-when="ALL_POSTED">\n                <bb-svg-icon class="grade-progress-icon" size="small" icon="complete" status="success"></bb-svg-icon>\n                <span id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" bb-translate>components.directives.grade.grader-column.statuses.allPosted</span>\n              </div>\n              <span ng-switch-when="NOTHING_TO_GRADE">\n                <span id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" ng-if="graderColumn.getNumberEligibleToBeGradedExternalSubmissions() === 0" bb-translate>\n                  components.directives.grade.grader-column.statuses.nothingToGrade\n                </span>\n                <span id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" ng-if="graderColumn.getNumberEligibleToBeGradedExternalSubmissions() > 0" bb-translate\n                      translate-values="{count: graderColumn.getNumberEligibleToBeGradedExternalSubmissions()}">\n                  components.directives.grade.grader-column.statuses.numToGrade.plural\n                </span>\n              </span>\n              <div class="grade-progress-restricted" ng-switch-when="RESTRICTED">\n                <bb-button-complex-tooltip></bb-button-complex-tooltip>\n                <span id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" bb-translate>components.directives.grade.grader-column.statuses.restricted</span>\n              </div>\n            </a>\n          </div>\n          <div ng-switch-default>\n            <a ng-switch="graderColumn.column.summary.getStatus().toString()"\n                ng-if="::!graderColumn.column.isCalculated()"\n                ng-class="{\'submission-nav-link\': graderColumn.itemLinkIsClickable}"\n                ng-click="graderColumn.handleColumnClick(\'status\')"\n                href="javascript:void(0);"\n                analytics-id="components.directives.grade.graderColumn.status.link"\n                tabindex="{{ graderColumn.itemLinkIsClickable ? 0 : -1 }}"\n                aria-labelledby="{{ graderColumn.itemLinkIsClickable ? \'grading-status-id\' + \'_\' + graderColumn.index + \' \' +  \'graderColumn_\' + graderColumn.course.courseId + \'_\' + graderColumn.index : undefined}}">\n              <div class="grade-count js-grade-progress-needs-grading" ng-switch-when="NEEDS_GRADING">\n                <span id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" ng-if="::graderColumn.column.isOffline()"\n                      bb-translate translate-values="{count: graderColumn.column.summary.numStudentsNeedsGrading}">\n                  components.directives.grade.grader-column.statuses.numToGrade.plural\n                </span>\n                <span id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" ng-if="::!graderColumn.column.isOffline()"\n                      bb-translate translate-values="{count: graderColumn.getNumberOfSubmissionsNeedsGrading()}">\n                  components.directives.grade.grader-column.statuses.numToGrade.plural\n                </span>\n              </div>\n              <span ng-switch-when="NEEDS_POSTING" id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" bb-translate>components.directives.grade.grader-column.statuses.allGraded</span>\n              <span class="js-grade-progress-all-graded" ng-switch-when="ALL_GRADED" id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" bb-translate>components.directives.grade.grader-column.statuses.allGraded</span>\n              <div class="grade-progress-complete" ng-switch-when="ALL_POSTED">\n                <bb-svg-icon class="grade-progress-icon" size="small" icon="complete" status="success"></bb-svg-icon>\n                <span id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" bb-translate>components.directives.grade.grader-column.statuses.allPosted</span>\n              </div>\n              <span class="js-grade-progress-nothing-to-show" ng-switch-when="NOTHING_TO_GRADE" id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" bb-translate>components.directives.grade.grader-column.statuses.nothingToGrade</span>\n              <div class="grade-progress-restricted" ng-switch-when="RESTRICTED">\n                <bb-button-complex-tooltip></bb-button-complex-tooltip>\n                <span id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}" bb-translate>components.directives.grade.grader-column.statuses.restricted</span>\n              </div>\n            </a>\n            <div ng-if="::graderColumn.column.isCalculated()">\x3c!-- Needed for spacing --\x3e</div>\n          </div>\n        </div>\n      </div>\n      <div class="grade-progress" ng-class="{\'columns medium-7 course-only-grade-status\': graderColumn.isCourseView}" ng-if="graderColumn.column.isAttendance()">\n        <a ng-class="{\'submission-nav-link\': graderColumn.itemLinkIsClickable}"\n          ng-click="graderColumn.handleColumnClick(\'status\')"\n          href="javascript:void(0);"\n          analytics-id="components.directives.grade.graderColumn.status.link"\n          tabindex="{{ graderColumn.itemLinkIsClickable ? 0 : -1 }}"\n          aria-labelledby="{{ graderColumn.itemLinkIsClickable ? \'grading-status-id\' + \'_\' + graderColumn.index + \' \' + \'graderColumn_\' + graderColumn.course.courseId + \'_\' + graderColumn.index : undefined}}"\n          id="{{ \'grading-status-id\' + \'_\' + graderColumn.index }}"\n          bb-translate>\n            components.directives.grade.grader-column.attendance.markAttendance\n        </a>\n      </div>\n      <div class="grade-status" ng-class="{\'columns medium-5 course-only-grade-status\': graderColumn.isCourseView}">\n        <div ng-if="::!graderColumn.column.isCalculated()">\n          <div ng-if="!graderColumn.course.isComplete() && graderColumn.column.summary.hasGradesToPost() && graderColumn.canPostGrades" class="post">\n            <button class="button button--secondary send-grade" bb-confirmation-needed="{{graderColumn.grade.getPostAllGradeConfirmationNeededStringsKey(graderColumn.column)}}"\n                    modal-aria-type="alertdialog" show-type="always" ng-click="graderColumn.postGrades()"\n                    bb-translate-attrs="{\'aria-label\': \'components.directives.grade.grader-column.aria-label.postGrades\'}"\n                    translate-attrs-values="{courseName: graderColumn.course.name, columnName: graderColumn.column.columnName}"\n                    bb-translate="{{graderColumn.isCourseView ? \'components.directives.grade.grader-column.actions.postGradesWithLocalizedCount\' : \'components.directives.grade.grader-column.actions.basePostGradesWithLocalizedCount\'}}"\n                    translate-values="{count : graderColumn.column.summary.totalNumberOfGradesToPost()}"\n                    analytics-id="{{graderColumn.isCourseView ? \'components.directives.grade.grader-column.actions.postGradesWithLocalizedCount\' : \'components.directives.grade.grader-column.actions.basePostGradesWithLocalizedCount\'}}" >\n            </button>\n          </div>\n        </div>\n        <div ng-if="::graderColumn.column.isCalculated()">\x3c!-- Needed for spacing --\x3e</div>\n      </div>\n    </div>\n    <div ng-if="(graderColumn.showOverflowMenu || graderColumn.showDragControls) && !graderColumn.isRestrictedGroupContent"\n        class="columns medium-1 large-1 last-row-item item-controls dots" bb-foundation-defer>\n\n      \x3c!-- disable if its a group and has user is not entitled --\x3e\n      <button bb-drag-handle ng-if="graderColumn.showDragControls"\n              drag-item-id="{{::graderColumn.column.id}}"\n              drag-item-name="{{graderColumn.column.columnName}}"\n              class="super-clear small button icon js-drag-handle drag-drop-button"\n              bb-translate-attrs="{\'aria-label\': \'components.directives.grade.grader-column.aria-label.reorder-grader-item\', \'title\': \'components.directives.grade.grader-column.aria-label.move-tip\'}"\n              translate-attrs-values="{columnName: graderColumn.column.columnName}"\n              analytics-id="components.directives.grade.graderColumn.reorderItem.button" >\n        <bb-svg-icon size="small" icon="move-item-up-down"></bb-svg-icon>\n      </button>\n\n      \x3c!-- disable if its a group and has user is not entitled --\x3e\n      <div ng-if="graderColumn.showOverflowMenu" class="overflow-menu-container right">\n        <bb-overflow-menu element-id="{{graderColumn.overflowMenuId}}"\n                          element-name="{{graderColumn.column.columnName}}"\n                          menu-items="graderColumn.getOverflowMenuItems()"\n                          analytics-id-tag-prefix="components.directives.grade.grader-column.overflowMenu">\n        </bb-overflow-menu>\n      </div>\n    </div>\n  </div>\n\n  <div ng-if="graderColumn.showConversionMessage">\n    <bb-course-access-alert course="course"\n                            alert-type="graderColumn.getAlertType()"\n                            confirm-callback="graderColumn.closeConversionTooltip()"\n                            timeout-callback="graderColumn.closeConversionTooltip()">\n    </bb-course-access-alert>\n  </div>\n</div>\n<bb-add-content-button\n                      position-after="graderColumn.column.id" item-name="graderColumn.column.columnName"\n                      context-area="graderColumn.contextArea"\n                      ng-if="graderColumn.isCourseView && !graderColumn.course.isComplete() && graderColumn.canModify"\n                      show-add-attendance="attendanceIsAvailable() && !attendanceColumnExists()">\n</bb-add-content-button>\n'},EIeI:function(e){e.exports=JSON.parse('{"v":"5.7.1","fr":29.9700012207031,"ip":233.000009490285,"op":601.000024479232,"w":780,"h":460,"nm":"Frame 320","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"arrow-right Outlines","parent":5,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[58.201,29.107,0],"ix":2},"a":{"a":0,"k":[12,12,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[23,12],[1,12]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.93464050293,0.93464050293,0.93464050293,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-5,-11],[5,0],[-5,11]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.93464050293,0.93464050293,0.93464050293,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[18,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":225.000009164438,"op":2062.00008398698,"st":225.000009164438,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"black button 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":329,"s":[98.461,74.373,0],"to":[0.125,0.417,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":333,"s":[99.211,76.873,0],"to":[0,0,0],"ti":[0.125,0.417,0]},{"t":338.000013767022,"s":[98.461,74.373,0]}],"ix":2},"a":{"a":0,"k":[58.912,28.48,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.43,0],[0,0],[0,1.43],[0,0],[-1.429,0],[0,0],[0,-1.43],[0,0]],"o":[[0,0],[-1.429,0],[0,0],[0,-1.43],[0,0],[1.43,0],[0,0],[0,1.43]],"v":[[56.072,28.23],[-56.073,28.23],[-58.662,25.641],[-58.662,-25.64],[-56.073,-28.23],[56.072,-28.23],[58.662,-25.64],[58.662,25.641]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.091757202148,0.074548998066,0.078122195076,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[58.912,28.48],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"black button 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":348,"s":[100]},{"t":361.000014703831,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[98.461,74.373,0],"ix":2},"a":{"a":0,"k":[58.912,28.48,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":335,"s":[100,100,100]},{"t":361.000014703831,"s":[133,170,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.43,0],[0,0],[0,1.43],[0,0],[-1.429,0],[0,0],[0,-1.43],[0,0]],"o":[[0,0],[-1.429,0],[0,0],[0,-1.43],[0,0],[1.43,0],[0,0],[0,1.43]],"v":[[56.072,28.23],[-56.073,28.23],[-58.662,25.641],[-58.662,-25.64],[-56.073,-28.23],[56.072,-28.23],[58.662,-25.64],[58.662,25.641]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[58.912,28.48],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.678431391716,0.329411774874,0.654901981354,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false}],"ip":335.00001364483,"op":1837.00007482254,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":1,"ty":5,"nm":"D","parent":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[6.975,17.307,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":15.3000001907349,"f":"OpenSans-Regular","t":"D","j":0,"tr":0,"lh":18.3600002288818,"ls":0,"fc":[1,1,1]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25.026,25.905,0],"ix":2},"a":{"a":0,"k":[12.188,12.149,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":0,"s":[0,0,100]},{"t":10.0000004073083,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.754],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.100996159572,0.082543399287,0.085796498317,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.188,12.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"black circle 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":16.334,"s":[100]},{"t":25.0000010182709,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25.026,25.905,0],"ix":2},"a":{"a":0,"k":[12.188,12.149,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":-14,"s":[0,0,100]},{"t":25.0000010182709,"s":[168,168,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.754],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[12.188,12.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.678431372549,0.329411764706,0.654901960784,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false}],"ip":10.0000004073083,"op":1823.00007425231,"st":-14.0000005702317,"bm":0}]},{"id":"comp_2","layers":[{"ddd":0,"ind":1,"ty":5,"nm":"D","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[12.25,21.75,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":15.3000001907349,"f":"OpenSans-Regular","t":"D","j":0,"tr":0,"lh":18.3600002288818,"ls":0,"fc":[0,0,0]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[17.17,16.844,0],"ix":2},"a":{"a":0,"k":[16.938,16.899,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.755],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.121449631336,0.099791545494,0.103483858296,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[16.938,16.899],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0}]},{"id":"comp_3","layers":[{"ddd":0,"ind":1,"ty":5,"nm":"C","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[11.75,22,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":15.3000001907349,"f":"OpenSans-Regular","t":"C","j":0,"tr":0,"lh":18.3600002288818,"ls":0,"fc":[0,0,0]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[17.17,16.844,0],"ix":2},"a":{"a":0,"k":[16.938,16.899,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.755],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.121449631336,0.099791545494,0.103483858296,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[16.938,16.899],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0}]},{"id":"comp_4","layers":[{"ddd":0,"ind":1,"ty":5,"nm":"B","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[12.375,21.875,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":15.3000001907349,"f":"OpenSans-Regular","t":"B","j":0,"tr":0,"lh":18.3600002288818,"ls":0,"fc":[0,0,0]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[17.17,16.844,0],"ix":2},"a":{"a":0,"k":[16.938,16.899,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.755],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.121449631336,0.099791545494,0.103483858296,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[16.938,16.899],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0}]},{"id":"comp_5","layers":[{"ddd":0,"ind":1,"ty":5,"nm":"A","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[12.25,21.75,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":15.3000001907349,"f":"OpenSans-Regular","t":"A","j":0,"tr":0,"lh":18.3600002288818,"ls":0,"fc":[0,0,0]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[17.17,16.844,0],"ix":2},"a":{"a":0,"k":[16.938,16.899,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.755],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.121449631336,0.099791545494,0.103483858296,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[16.938,16.899],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0}]},{"id":"comp_6","layers":[{"ddd":0,"ind":1,"ty":5,"nm":"A","parent":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[7.1,17.182,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":15.3000001907349,"f":"OpenSans-Regular","t":"A","j":0,"tr":0,"lh":18.3600002288818,"ls":0,"fc":[1,1,1]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25.026,25.905,0],"ix":2},"a":{"a":0,"k":[12.188,12.149,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":0,"s":[0,0,100]},{"t":10.0000004073083,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.754],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.100996159572,0.082543399287,0.085796498317,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.188,12.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"black circle 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":16.334,"s":[100]},{"t":25.0000010182709,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25.026,25.905,0],"ix":2},"a":{"a":0,"k":[12.188,12.149,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":-14,"s":[0,0,100]},{"t":25.0000010182709,"s":[168,168,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.754],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[12.188,12.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.678431372549,0.329411764706,0.654901960784,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false}],"ip":10.0000004073083,"op":1823.00007425231,"st":-14.0000005702317,"bm":0}]},{"id":"comp_7","layers":[{"ddd":0,"ind":1,"ty":5,"nm":"C","parent":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[6.413,17.494,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":15.3000001907349,"f":"OpenSans-Regular","t":"C","j":0,"tr":0,"lh":18.3600002288818,"ls":0,"fc":[1,1,1]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25.026,25.905,0],"ix":2},"a":{"a":0,"k":[12.188,12.149,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,16.667]},"t":0,"s":[0,0,100]},{"t":10.0000004073083,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.754],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.100996159572,0.082543399287,0.085796498317,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.188,12.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"black circle","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":16.334,"s":[100]},{"t":25.0000010182709,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25.026,25.905,0],"ix":2},"a":{"a":0,"k":[12.188,12.149,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":-14,"s":[0,0,100]},{"t":25.0000010182709,"s":[168,168,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.754],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[12.188,12.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.678431372549,0.329411764706,0.654901960784,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false}],"ip":10.0000004073083,"op":1823.00007425231,"st":-14.0000005702317,"bm":0}]},{"id":"comp_8","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"green check","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[26.725,21.198,0],"ix":2},"a":{"a":0,"k":[18.09,18.032,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":4,"s":[0,0,100]},{"t":14.0000005702317,"s":[61,61,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-8.797,0.313],[-2.422,6.898],[8.797,-6.898]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.999999880323,0.999999820485,0.999999880323,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[18.383,18.412],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-9.795,0.098],[-0.09,-10.094],[9.719,-0.14],[0.257,9.556]],"o":[[10.219,-0.102],[0.089,9.944],[-9.438,0.135],[-0.257,-9.563]],"v":[[-0.041,-17.68],[17.752,-0.434],[0.486,17.647],[-17.584,0.09]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.104395915013,0.375851530187,0.121783200432,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18.09,18.032],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":4.00000016292334,"op":1841.00007498547,"st":4.00000016292334,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"lines 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[177,177.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-10.135,-0.428],[-6.75,1.75]],"o":[[8.875,0.375],[6.75,-1.75]],"v":[[-141.688,-156.188],[-129.125,-166.438]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":7.188,"s":[0]},{"t":26.0000010590017,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2.889,"s":[0]},{"t":21.1787508626282,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":4.00000016292334,"op":1841.00007498547,"st":4.00000016292334,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"lines 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[177,177.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[9.875,-1.5]],"o":[[0,0],[-9.875,1.5]],"v":[[-152.625,-161.688],[-169.875,-171.438]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":5.743,"s":[0]},{"t":24.5550010001457,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1.445,"s":[0]},{"t":19.7337508037721,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":2.00000008146167,"op":1839.00007490401,"st":2.00000008146167,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"lines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[177,177.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[4.25,-1.625],[1.625,-7]],"o":[[-4.25,1.625],[-1.625,7]],"v":[[-152.125,-152.125],[-170,-142]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":4.299,"s":[0]},{"t":23.1112509413405,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":18.290000744967,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0}]},{"id":"comp_9","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"green check","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[26.725,21.198,0],"ix":2},"a":{"a":0,"k":[18.09,18.032,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":4,"s":[0,0,100]},{"t":14.0000005702317,"s":[61,61,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-8.797,0.313],[-2.422,6.898],[8.797,-6.898]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.999999880323,0.999999820485,0.999999880323,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[18.383,18.412],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-9.795,0.098],[-0.09,-10.094],[9.719,-0.14],[0.257,9.556]],"o":[[10.219,-0.102],[0.089,9.944],[-9.438,0.135],[-0.257,-9.563]],"v":[[-0.041,-17.68],[17.752,-0.434],[0.486,17.647],[-17.584,0.09]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.104395915013,0.375851530187,0.121783200432,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18.09,18.032],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":4.00000016292334,"op":1841.00007498547,"st":4.00000016292334,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":22,"s":[100]},{"t":30.0000012219251,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[26.901,21.405,0],"ix":2},"a":{"a":0,"k":[12.188,12.149,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":-1,"s":[20,20,100]},{"t":30.0000012219251,"s":[168,168,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.754],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[12.188,12.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.678431372549,0.329411764706,0.654901960784,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false}],"ip":14.0000005702317,"op":1817.00007400793,"st":-20.0000008146167,"bm":0}]}],"fonts":{"list":[{"fName":"OpenSans-Regular","fFamily":"Open Sans","fStyle":"Regular","ascent":75.9994506835938}]},"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 6","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[12.954,-250.366,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[163.934,163.934,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[336.313,-162.5],[342.438,-167.688],[349.188,-162.625]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.077124143114,0.077124143114,0.077124143114,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"carpetita Outlines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-93.399,-504.874,0],"ix":2},"a":{"a":0,"k":[298,421,0],"ix":1},"s":{"a":0,"k":[23.77,23.77,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[205.835,346.446],[282.496,346.446]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":11,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[8.849,0],[0,0],[2.936,4.791],[10.273,0],[0,0],[0,-6.863],[0,0],[-9.669,0],[0,0],[0,9.886],[0,0]],"o":[[0,0],[0,-5.266],[0,0],[-6.777,0],[-2.935,-4.791],[0,0],[-5.093,0],[0,0],[0,10.272],[0,0],[10.92,0],[0,-9.886],[0,0]],"v":[[108.604,32.374],[108.604,-62.935],[95.482,-74.676],[18.82,-74.676],[2.935,-84],[-15.367,-90.906],[-100.317,-90.906],[-108.604,-78.82],[-108.604,75.886],[-93.583,90.907],[94.885,90.907],[108,76.95],[107.612,47.957]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":11,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[296.871,419.439],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"green check","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-441.952,290.402,0],"ix":2},"a":{"a":0,"k":[18.09,18.033,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-8.798,0.313],[-2.422,6.898],[8.798,-6.898]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.999999880323,0.999999820485,0.999999880323,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[18.383,18.412],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-9.795,0.099],[-0.09,-10.094],[9.718,-0.139],[0.257,9.555]],"o":[[10.219,-0.102],[0.089,9.944],[-9.438,0.136],[-0.257,-9.563]],"v":[[-0.041,-17.681],[17.752,-0.435],[0.487,17.647],[-17.583,0.09]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.104395915013,0.375851530187,0.121783200432,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 2","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"fl","c":{"a":0,"k":[0.104395915013,0.375851530187,0.121783200432,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18.09,18.033],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"color lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-441.87,290.399,0],"ix":2},"a":{"a":0,"k":[50.932,50.932,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-16.482,16.482],[16.482,-16.482]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.976197844861,0.953971473843,0.067632570454,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[33.167,68.696],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-16.482,16.482],[16.482,-16.482]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.639983412799,0.863822069355,0.887750663009,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[68.696,33.167],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[16.482,16.482],[-16.482,-16.482]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.999732462565,0.510308059992,0.028752330705,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[68.696,68.696],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[16.482,16.482],[-16.482,-16.482]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.999732462565,0.510308059992,0.028752330705,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[33.168,33.167],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[50.932,99.363],[50.932,52.744]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.639983412799,0.863822069355,0.887750663009,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[50.932,49.119],[50.932,2.5]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.976197844861,0.953971473843,0.067632570454,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[99.364,50.932],[52.745,50.932]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.976197844861,0.953971473843,0.067632570454,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[49.119,50.932],[2.5,50.932]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.639983412799,0.863822069355,0.887750663009,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false}],"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"purple circle 2","parent":71,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":298,"s":[0]},{"t":322.000013115329,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":298,"s":[312.942,408.962,0],"to":[-16.409,19.69,0],"ti":[16.409,-19.69,0]},{"i":{"x":0.667,"y":0.667},"o":{"x":0.333,"y":0.333},"t":391,"s":[214.491,527.104,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":398,"s":[214.491,527.104,0],"to":[0,0.31,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":402,"s":[214.491,528.963,0],"to":[0,0,0],"ti":[0,0.31,0]},{"t":407.00001657745,"s":[214.491,527.104,0]}],"ix":2},"a":{"a":0,"k":[19.076,19.03,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-7.729,0.077],[-0.071,-7.963],[7.668,-0.11],[0.203,7.539]],"o":[[8.063,-0.081],[0.07,7.846],[-7.446,0.107],[-0.203,-7.545]],"v":[[-0.032,-13.949],[14.006,-0.343],[0.384,13.923],[-13.873,0.071]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.67982895795,0.331096394857,0.653641644646,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[19.076,19.03],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-4.156,0.041],[-0.038,-4.282],[4.123,-0.059],[0.108,4.054]],"o":[[4.335,-0.044],[0.037,4.219],[-4.004,0.058],[-0.11,-4.058]],"v":[[-0.017,-7.501],[7.532,-0.185],[0.207,7.487],[-7.459,0.038]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.67982895795,0.331096394857,0.653641644646,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[19.106,19.024],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":281.000011445365,"op":519.000021139303,"st":224.000009123707,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"purple circle","parent":71,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":143,"s":[0]},{"t":167.000006802049,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"s":true,"x":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.006],"y":[0.106]},"t":143,"s":[-170.098]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":187,"s":[-50.574]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":194,"s":[-50.574]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":198,"s":[-48.707]},{"t":202.000008227629,"s":[-50.574]}],"ix":3},"y":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.006],"y":[0.23]},"t":143,"s":[-309.282]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":187,"s":[-155.339]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":194,"s":[-155.339]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":198,"s":[-153.472]},{"t":202.000008227629,"s":[-155.339]}],"ix":4}},"a":{"a":0,"k":[19.076,19.03,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-7.729,0.077],[-0.071,-7.963],[7.668,-0.11],[0.203,7.539]],"o":[[8.063,-0.081],[0.07,7.846],[-7.446,0.107],[-0.203,-7.545]],"v":[[-0.032,-13.949],[14.006,-0.343],[0.384,13.923],[-13.873,0.071]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.67982895795,0.331096394857,0.653641644646,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[19.076,19.03],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-4.156,0.041],[-0.038,-4.282],[4.123,-0.059],[0.108,4.054]],"o":[[4.335,-0.044],[0.037,4.219],[-4.004,0.058],[-0.11,-4.058]],"v":[[-0.017,-7.501],[7.532,-0.185],[0.207,7.487],[-7.459,0.038]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.67982895795,0.331096394857,0.653641644646,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[19.106,19.024],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":69.0000028104276,"op":243.000009897593,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":8,"ty":0,"nm":"submit","parent":71,"refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[186.5,536,0],"ix":2},"a":{"a":0,"k":[100,75,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":200,"h":150,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":9,"ty":0,"nm":"d black ","parent":71,"refId":"comp_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-30.911,467.52,0],"ix":2},"a":{"a":0,"k":[25,25,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":50,"h":50,"ip":361.000014703831,"op":2198.00008952638,"st":361.000014703831,"bm":0},{"ddd":0,"ind":10,"ty":0,"nm":"d","parent":71,"refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,468,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":361.000014703831,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":11,"ty":0,"nm":"c","parent":71,"refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,431.25,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":12,"ty":0,"nm":"b","parent":71,"refId":"comp_4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,395.5,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":13,"ty":0,"nm":"A","parent":71,"refId":"comp_5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,358.75,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":14,"ty":4,"nm":"blue lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[184.686,395.734,0],"ix":2},"a":{"a":0,"k":[231.31,80.28,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[21.328,-0.001],[21.322,-0.375],[0.056,5.01],[-6.12,-0.032],[-42.656,0.223],[0.063,-4.826],[6.459,0.094]],"o":[[-21.328,0],[-6.668,0.117],[-0.054,-5.015],[42.655,0.223],[6.303,-0.034],[-0.059,4.65],[-21.323,-0.311]],"v":[[0.23,7.795],[-63.752,7.935],[-70.725,-0.287],[-63.892,-8.02],[64.076,-8.018],[70.716,-0.122],[64.212,7.912]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.880364511527,0.92332907284,0.957121246936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[108.569,152.259],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[24.143,0],[24.14,-0.235],[-0.299,5.678],[-6.57,0.005],[-48.084,-0.032],[-0.386,-7.306],[5.457,0.052]],"o":[[-24.143,0],[-5.466,0.053],[0.385,-7.302],[48.084,-0.031],[6.564,0.004],[0.301,5.687],[-24.141,-0.235]],"v":[[-45.003,7.778],[-117.43,7.88],[-124.775,0.679],[-117.124,-7.902],[117.128,-7.901],[124.773,0.685],[117.424,7.88]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.875381649242,0.920586499981,0.955563294654,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[162.631,43.625],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[29.967,0],[30.168,0.069],[0.996,3.564],[-1.876,3.639],[-2.51,0.002],[-56.716,0],[-3.785,0.37],[0.203,-5.42],[8.584,-0.001]],"o":[[-30.168,0],[-2.633,-0.006],[-1.061,-3.793],[1.386,-2.689],[56.715,-0.046],[3.821,0],[5.734,-0.557],[-0.312,8.397],[-29.966,0.001]],"v":[[0.317,7.787],[-90.187,7.743],[-97.544,5.455],[-97.164,-6.33],[-89.912,-7.873],[80.234,-7.908],[91.69,-7.979],[98.838,-0.625],[90.216,7.787]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[135.996,116.047],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[43.648,0.005],[0.006,7.161],[-7.336,0],[-87.297,-0.043],[-0.965,-3.217],[1.627,-3.902],[2.126,-0.003],[32.384,0]],"o":[[-43.647,0],[-8.163,-0.001],[-0.007,-7.364],[87.296,-0.012],[2.466,0.002],[1.2,4.003],[-0.904,2.17],[-32.384,0.048],[0,0]],"v":[[-47.839,7.878],[-78.784,7.876],[-87.052,0.612],[-78.732,-7.81],[83.157,-7.781],[90.044,-5.673],[89.859,6.719],[83.708,7.845],[-13.443,7.878]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[125.009,79.738],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-73.814,0],[-73.614,-0.092],[-1.048,-3.519],[1.122,-3.922],[1.471,-0.033],[1.81,0],[146.624,0.001],[-2.765,8.689],[-1.536,0.034],[-1.81,0]],"o":[[73.614,0],[2.55,0.003],[1.118,3.752],[-0.433,1.515],[-1.81,0.04],[-146.624,0.002],[-8.862,0],[0.529,-1.663],[1.81,-0.04],[73.814,-0.002]],"v":[[1.655,-7.032],[222.497,-6.958],[229.942,-5.144],[229.806,6.744],[226.329,8.617],[220.899,8.662],[-218.973,8.662],[-228.295,-4.719],[-225.219,-6.98],[-219.789,-7.029]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.875381649242,0.920586499981,0.955563294654,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[231.31,8.914],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false}],"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":15,"ty":5,"nm":"3. 2","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-73.814,331.286,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[82.04,82.04,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":20.8999996185303,"f":"OpenSans-Regular","t":"3.","j":0,"tr":0,"lh":25.0799995422363,"ls":0,"fc":[0,0,0]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":16,"ty":0,"nm":"d","parent":71,"refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-30.75,274.75,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":17,"ty":0,"nm":"c","parent":71,"refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-30.75,238,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":18,"ty":0,"nm":"b","parent":71,"refId":"comp_4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-30.75,202.25,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":19,"ty":0,"nm":"A","parent":71,"refId":"comp_5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-30.75,165.5,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":296.000012056327,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":20,"ty":4,"nm":"blue lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[184.686,203.454,0],"ix":2},"a":{"a":0,"k":[231.31,80.28,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[21.328,-0.001],[21.322,-0.375],[0.056,5.01],[-6.12,-0.032],[-42.656,0.223],[0.063,-4.826],[6.459,0.094]],"o":[[-21.328,0],[-6.668,0.117],[-0.054,-5.015],[42.655,0.223],[6.303,-0.034],[-0.059,4.65],[-21.323,-0.311]],"v":[[0.23,7.795],[-63.752,7.935],[-70.725,-0.287],[-63.892,-8.02],[64.076,-8.018],[70.716,-0.122],[64.212,7.912]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.880364511527,0.92332907284,0.957121246936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[108.569,152.259],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[24.143,0],[24.14,-0.235],[-0.299,5.678],[-6.57,0.005],[-48.084,-0.032],[-0.386,-7.306],[5.457,0.052]],"o":[[-24.143,0],[-5.466,0.053],[0.385,-7.302],[48.084,-0.031],[6.564,0.004],[0.301,5.687],[-24.141,-0.235]],"v":[[-45.003,7.778],[-117.43,7.88],[-124.775,0.679],[-117.124,-7.902],[117.128,-7.901],[124.773,0.685],[117.424,7.88]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.875381649242,0.920586499981,0.955563294654,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[162.631,43.624],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[29.967,0],[30.168,0.069],[0.996,3.564],[-1.876,3.639],[-2.51,0.002],[-56.716,0],[-3.785,0.37],[0.203,-5.42],[8.584,-0.001]],"o":[[-30.168,0],[-2.633,-0.006],[-1.061,-3.793],[1.386,-2.689],[56.715,-0.046],[3.821,0],[5.734,-0.557],[-0.312,8.397],[-29.966,0.001]],"v":[[0.317,7.787],[-90.187,7.743],[-97.544,5.455],[-97.164,-6.33],[-89.912,-7.873],[80.234,-7.908],[91.69,-7.979],[98.838,-0.625],[90.216,7.787]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[135.996,116.047],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[43.648,0.005],[0.006,7.161],[-7.336,0],[-87.297,-0.043],[-0.965,-3.217],[1.627,-3.902],[2.126,-0.003],[32.384,0]],"o":[[-43.647,0],[-8.163,-0.001],[-0.007,-7.364],[87.296,-0.012],[2.466,0.002],[1.2,4.003],[-0.904,2.17],[-32.384,0.048],[0,0]],"v":[[-47.839,7.878],[-78.784,7.876],[-87.052,0.612],[-78.732,-7.81],[83.157,-7.781],[90.044,-5.673],[89.859,6.719],[83.708,7.845],[-13.443,7.878]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[125.009,79.738],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-73.814,0],[-73.614,-0.092],[-1.048,-3.519],[1.122,-3.922],[1.471,-0.033],[1.81,0],[146.624,0.001],[-2.765,8.689],[-1.536,0.034],[-1.81,0]],"o":[[73.614,0],[2.55,0.003],[1.118,3.752],[-0.433,1.515],[-1.81,0.04],[-146.624,0.002],[-8.862,0],[0.529,-1.663],[1.81,-0.04],[73.814,-0.002]],"v":[[1.655,-7.032],[222.497,-6.957],[229.942,-5.145],[229.806,6.744],[226.329,8.616],[220.899,8.662],[-218.973,8.663],[-228.295,-4.72],[-225.219,-6.98],[-219.789,-7.03]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.875381649242,0.920586499981,0.955563294654,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[231.31,8.914],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false}],"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":21,"ty":0,"nm":"a black ","parent":71,"refId":"comp_6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-30.698,165.001,0],"ix":2},"a":{"a":0,"k":[25,25,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":50,"h":50,"ip":295.000012015596,"op":2132.00008683814,"st":295.000012015596,"bm":0},{"ddd":0,"ind":22,"ty":5,"nm":"2. 2","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-75.148,140.606,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[92.236,92.236,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":20.8999996185303,"f":"OpenSans-Regular","t":"2.","j":0,"tr":0,"lh":25.0799995422363,"ls":0,"fc":[0,0,0]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":23,"ty":0,"nm":"d","parent":71,"refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,82.5,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":24,"ty":0,"nm":"c black","parent":71,"refId":"comp_7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-30.899,45.104,0],"ix":2},"a":{"a":0,"k":[25,25,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":50,"h":50,"ip":266.000010834402,"op":2103.00008565695,"st":266.000010834402,"bm":0},{"ddd":0,"ind":25,"ty":0,"nm":"c","parent":71,"refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,45.75,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":266.000010834402,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":26,"ty":0,"nm":"b","parent":71,"refId":"comp_4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,10,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":27,"ty":0,"nm":"A","parent":71,"refId":"comp_5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,-26.75,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":28,"ty":4,"nm":"blue lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[184.686,11.173,0],"ix":2},"a":{"a":0,"k":[231.31,80.28,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[21.328,-0.001],[21.322,-0.375],[0.056,5.01],[-6.12,-0.032],[-42.656,0.223],[0.063,-4.826],[6.459,0.094]],"o":[[-21.328,0],[-6.668,0.117],[-0.054,-5.015],[42.655,0.223],[6.303,-0.034],[-0.059,4.649],[-21.323,-0.311]],"v":[[0.23,7.795],[-63.752,7.935],[-70.725,-0.287],[-63.892,-8.02],[64.076,-8.018],[70.716,-0.122],[64.212,7.912]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.880364511527,0.92332907284,0.957121246936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[108.569,152.259],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[24.143,0],[24.14,-0.235],[-0.299,5.678],[-6.57,0.005],[-48.084,-0.032],[-0.386,-7.306],[5.457,0.052]],"o":[[-24.143,0],[-5.466,0.053],[0.385,-7.302],[48.084,-0.031],[6.564,0.004],[0.301,5.687],[-24.141,-0.235]],"v":[[-0.003,7.778],[-72.43,7.88],[-79.775,0.679],[-72.124,-7.902],[72.128,-7.901],[79.773,0.685],[72.424,7.88]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.875381649242,0.920586499981,0.955563294654,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[117.631,43.624],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[29.967,0],[30.168,0.069],[0.996,3.564],[-1.876,3.639],[-2.51,0.002],[-56.716,0.001],[-3.785,0.37],[0.203,-5.42],[8.584,-0.001]],"o":[[-30.168,0],[-2.633,-0.007],[-1.061,-3.793],[1.386,-2.689],[56.715,-0.046],[3.821,0],[5.734,-0.557],[-0.312,8.397],[-29.966,0.001]],"v":[[0.317,7.787],[-90.187,7.743],[-97.544,5.455],[-97.164,-6.33],[-89.912,-7.873],[80.234,-7.909],[91.69,-7.979],[98.838,-0.625],[90.216,7.787]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[135.996,116.047],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[43.648,0.005],[0.006,7.162],[-7.336,0],[-87.297,-0.043],[-0.965,-3.217],[1.627,-3.902],[2.126,-0.003],[32.384,0]],"o":[[-43.647,0],[-8.163,-0.001],[-0.007,-7.363],[87.296,-0.012],[2.466,0.002],[1.2,4.003],[-0.904,2.17],[-32.384,0.048],[0,0]],"v":[[-0.053,7.878],[-130.997,7.876],[-139.266,0.611],[-130.945,-7.81],[130.944,-7.782],[137.83,-5.673],[137.646,6.719],[131.495,7.845],[34.343,7.878]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[177.222,79.738],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-73.814,0],[-73.614,-0.092],[-1.048,-3.519],[1.122,-3.922],[1.471,-0.033],[1.81,0],[146.624,0.001],[-2.765,8.689],[-1.536,0.034],[-1.81,0]],"o":[[73.614,0],[2.55,0.003],[1.118,3.752],[-0.433,1.515],[-1.81,0.04],[-146.624,0.002],[-8.862,0],[0.529,-1.663],[1.81,-0.04],[73.814,-0.002]],"v":[[1.655,-7.032],[222.497,-6.957],[229.942,-5.145],[229.806,6.744],[226.329,8.616],[220.899,8.662],[-218.973,8.663],[-228.295,-4.72],[-225.219,-6.98],[-219.789,-7.03]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.875381649242,0.920586499981,0.955563294654,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[231.31,8.913],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false}],"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":29,"ty":5,"nm":"1. 2","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-74.465,-53.487,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[92.247,92.247,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":20.8999996185303,"f":"OpenSans-Regular","t":"1.","j":0,"tr":0,"lh":25.0799995422363,"ls":0,"fc":[0,0,0]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":30,"ty":4,"nm":"icon que baja","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[219.445,-42.294,0],"ix":2},"a":{"a":0,"k":[389.006,42.529,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0.205],[0,0],[0,-0.204],[0,0]],"o":[[0,0],[0,0.205],[0,0],[0,-0.204]],"v":[[-24.48,-0.307],[24.48,-0.307],[24.48,0.307],[-24.48,0.307]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.997958374023,0.99824254653,0.998023717544,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[75.023,28.29],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.27,-5.669],[2.175,-0.631],[1.208,2.599],[0.458,0.469],[-1.404,2.848],[-1.983,0.081]],"o":[[-0.326,1.366],[-2.008,0.581],[-0.261,-0.562],[-1.348,-1.382],[1.058,-2.149],[2.923,-0.12]],"v":[[5.808,0.347],[4.637,4.561],[-0.887,2.723],[-2.225,1.296],[-5.673,-3.144],[0.14,-4.05]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.927441166896,0.919489063936,0.903483671301,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[83.914,58.02],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.092,-4.06],[3.908,0.093],[-0.06,4.156],[-4.201,-0.073]],"o":[[-0.09,4.018],[-4.067,-0.096],[0.062,-4.262],[4.095,0.07]],"v":[[7.181,0.053],[-0.187,7.286],[-7.213,-0.17],[0.047,-7.306]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.961166142482,0.956308222752,0.947330370136,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[75.097,67.093],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[1.644,0.099],[-0.118,1.652],[-1.145,0.018],[-2.968,-0.067],[0.11,-1.901],[1.3,-0.032],[1.32,0]],"o":[[-1.65,0],[-1.113,-0.069],[0.111,-1.543],[2.969,-0.047],[1.249,0.028],[-0.104,1.789],[-1.319,0.033],[0,0]],"v":[[0.17,1.669],[-4.778,1.644],[-7.202,-0.115],[-4.586,-1.708],[4.323,-1.712],[7.21,0.056],[4.13,1.69],[0.17,1.697]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.317654329188,0.287038646025,0.27573260139,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[63.267,50.936],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-4.308,0.001],[-4.142,-0.013],[-0.01,-1.579],[1.143,0.003],[8.616,0.034],[-0.19,1.595],[-0.924,0.007]],"o":[[4.143,-0.002],[1.148,0.004],[0.007,0.998],[-8.616,-0.018],[-1.174,-0.005],[0.161,-1.343],[4.308,-0.038]],"v":[[0.216,-1.373],[12.642,-1.37],[15.279,0.084],[13.07,1.606],[-12.778,1.574],[-15.096,-0.266],[-12.708,-1.355]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.164162714341,0.140012613932,0.141951751709,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[71.303,39.201],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-4.318,0.001],[-4.318,-0.011],[-0.039,-1.326],[1.045,-0.001],[8.801,0.065],[-0.151,1.346],[-0.969,0.004]],"o":[[4.318,0],[1.01,0.002],[0.035,1.22],[-8.802,0.009],[-0.949,-0.007],[0.15,-1.341],[4.318,-0.019]],"v":[[0.107,-1.446],[13.06,-1.441],[15.272,-0.073],[13.225,1.531],[-13.179,1.476],[-15.156,-0.2],[-12.848,-1.437]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.20788566739,0.180479685465,0.18039226158,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[71.302,45.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.004,-0.171],[0,0],[0,0.171],[0,0]],"o":[[0,0],[0,-0.171],[0,0],[0.004,0.171]],"v":[[343.3,0.256],[-343.3,0.256],[-343.3,-0.256],[343.289,-0.256]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.810230030733,0.795486869064,0.764521580116,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[434.461,0.507],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-7.831,0.002],[-7.498,0.027],[-1.088,-1.935],[1.476,-1.285],[0.091,-2.042],[0.043,-3.997],[2.156,0.115],[0.013,1.023],[-0.185,4.657],[3.061,-0.045],[12.495,0.101],[-0.03,-2.48],[0.129,-10.659],[-2.358,0.241],[-1.642,-0.197],[0.059,3.287],[-4.354,1.436],[0.456,2.256],[-2.81,-0.265],[-1.166,0],[-0.18,-10.135],[3.694,0.537],[0.091,-2.18],[-1.26,-0.064],[-0.193,9.079],[-2.952,-0.087],[-0.033,-2.031],[11.639,-0.011],[0.995,0.068],[0.561,-1.184],[-0.719,-0.599],[0.826,-1.596],[1.199,0.556],[5.174,-2.416],[0.921,1.964],[-1.039,0.71],[0.42,1.423],[1.358,-0.027],[3.483,-0.229],[-0.041,3.381],[0.013,10.828],[1.427,1.662],[-4.377,0.094]],"o":[[7.498,-0.003],[1.892,-0.007],[1.171,2.083],[-2.004,1.746],[-0.177,3.99],[-0.013,1.231],[-1.84,-0.098],[-0.059,-4.664],[0.104,-2.626],[-12.493,0.182],[-2.321,-0.019],[0.132,10.66],[-0.029,2.456],[1.649,-0.168],[2.903,0.35],[-0.083,-4.671],[1.368,-0.451],[-0.754,-3.738],[1.156,0.108],[10.124,0],[0.068,3.822],[-1.631,-0.237],[-0.113,2.707],[8.84,0.446],[0.042,-1.968],[2.908,0.086],[0.186,11.481],[-1,0.001],[-1.264,-0.087],[-0.914,1.925],[0.967,0.803],[-0.793,1.535],[-5.112,-2.378],[-1.249,0.584],[-0.75,-1.598],[0.719,-0.491],[-0.352,-1.194],[-3.498,0.071],[-3.582,0.234],[0.132,-10.826],[-0.002,-1.776],[-2.769,-3.224],[7.827,-0.169]],"v":[[0.461,-28.155],[22.954,-28.169],[27.702,-26.172],[26.345,-21.435],[25.334,-15.33],[25.266,-3.339],[23.574,-0.492],[22.309,-3.184],[22.335,-17.174],[18.91,-20.919],[-18.577,-20.891],[-21.707,-17.879],[-21.705,14.104],[-18.591,17.115],[-13.601,17.118],[-9.692,13.443],[-2.428,4.393],[0.275,1.845],[4.527,-1.927],[8.025,-1.911],[18.139,8.229],[13.342,12.871],[10.41,15.154],[13.439,17.058],[22.366,8.402],[23.853,2.772],[25.193,8.649],[13.645,20.143],[10.647,20.131],[7.707,21.511],[9.566,23.656],[11.66,26.456],[8.191,26.36],[-7.228,26.24],[-11.062,26.31],[-8.749,23.677],[-6.926,21.828],[-9.609,20.125],[-20.103,20.193],[-24.697,15.5],[-24.655,-16.982],[-26.104,-21.948],[-23.03,-28.104]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.143379031911,0.121264700796,0.123191594143,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[74.697,52.795],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[66.795,0],[67.794,0.002],[0.008,7.232],[-13.59,0],[-133.589,-0.001],[-0.045,-8.624],[12.918,0.006]],"o":[[-67.794,0],[-7.074,0],[-0.015,-13.743],[133.589,0],[8.48,0],[0.068,12.963],[-66.794,-0.036]],"v":[[-1.411,10.13],[-204.794,10.129],[-211.876,2.892],[-198.301,-10.852],[202.467,-10.852],[211.07,-2.111],[198.972,10.147]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[329.869,43.784],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":2,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[91.297,0],[92.962,0.002],[0.008,7.192],[-13.035,0],[0,0],[0.075,-8.198],[13.855,-0.007]],"o":[[-92.962,0],[-7.114,0],[-0.014,-12.797],[0,0],[8.117,0],[-0.126,13.698],[-91.297,0.049]],"v":[[-0.861,9.046],[-279.748,9.045],[-286.87,1.848],[-273.849,-10.949],[276.929,-10.949],[285.034,-2.749],[273.029,9.021]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[404.864,73.859],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 10","np":2,"cix":2,"bm":0,"ix":10,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-8.222,-0.053],[0.098,-8.41],[8.208,0.112],[-0.16,7.849]],"o":[[8.304,0.055],[-0.096,8.22],[-7.973,-0.108],[0.164,-8.068]],"v":[[0.371,-14.549],[14.622,0.153],[-0.061,14.49],[-14.56,-0.279]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.985696171779,0.98383250517,0.980337524414,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.755,52.444],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 11","np":2,"cix":2,"bm":0,"ix":11,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[9.849,0.07],[0.022,9.629],[-9.911,-0.072],[-0.005,-9.538]],"o":[[-9.583,-0.068],[-0.022,-9.754],[9.527,0.068],[0.004,9.681]],"v":[[-0.276,17.556],[-17.671,-0.006],[0.251,-17.554],[17.688,0.019]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.462520704082,0.425947481043,0.410828384699,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.943,52.396],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 12","np":2,"cix":2,"bm":0,"ix":12,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":75.0000030548126,"st":0,"bm":0},{"ddd":0,"ind":31,"ty":4,"nm":"icon paper cuadritos","parent":32,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-44.455,27.227,0],"ix":2},"a":{"a":0,"k":[220.59,229.014,0],"ix":1},"s":{"a":0,"k":[14.937,14.937,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[20.395,20.395],[-20.395,20.395],[-20.395,-20.396],[20.395,-20.396]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[244.747,322.28],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[20.396,20.395],[-20.396,20.395],[-20.396,-20.396],[20.396,-20.396]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[166.329,322.28],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[20.395,20.396],[-20.395,20.396],[-20.395,-20.395],[20.395,-20.395]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[244.747,244.273],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[20.396,20.396],[-20.396,20.396],[-20.396,-20.395],[20.396,-20.395]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[166.329,244.273],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[20.395,20.396],[-20.395,20.396],[-20.395,-20.396],[20.395,-20.396]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[244.747,165.827],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[20.396,20.396],[-20.396,20.396],[-20.396,-20.396],[20.396,-20.396]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[166.329,165.827],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[302.768,341.079],[341.358,341.079]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[302.768,303.525],[341.358,303.525]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[302.768,264.417],[341.358,264.417]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":2,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[302.768,225.309],[341.358,225.309]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 10","np":2,"cix":2,"bm":0,"ix":10,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[302.768,186.201],[341.358,186.201]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 11","np":2,"cix":2,"bm":0,"ix":11,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[302.768,147.093],[341.358,147.093]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 12","np":2,"cix":2,"bm":0,"ix":12,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[16.231,0],[0,0]],"o":[[0,0],[0,-13.122],[0,0],[0,0]],"v":[[159.277,121.382],[159.277,-101.697],[132.687,-121.381],[-159.277,-121.381]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[231.903,180.503],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 13","np":2,"cix":2,"bm":0,"ix":13,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,-24.515],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,-29.352],[0,24.515],[0,0],[0,0],[0,0]],"v":[[-144,-91.158],[-170.59,-91.158],[-170.59,-149.662],[-123.625,-149.662],[-121.554,179.014],[170.59,179.014],[170.59,107.058]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[220.59,229.014],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 14","np":2,"cix":2,"bm":0,"ix":14,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":32,"ty":4,"nm":"blue lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[148.4,-144.879,0],"ix":2},"a":{"a":0,"k":[157.317,41.229,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":206,"s":[100,100,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":212,"s":[104.5,104.5,100]},{"t":218.000008879322,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[70.123,-0.172],[-0.133,5.124],[-13.553,0],[0,0],[-0.003,-7.644],[12.458,0]],"o":[[-70.123,0],[-5.049,0.013],[0.359,-13.771],[0,0],[7.667,0],[0.004,12.357],[0,0]],"v":[[-0.224,9.937],[-210.594,10.053],[-216.974,3.712],[-203.313,-10.066],[209.433,-10.066],[217.103,-2.42],[204.649,9.937]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[218.185,39.309],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-82.133,-0.002],[-0.006,-7.196],[13.036,0],[0,0],[0.003,7.703],[-12.529,0]],"o":[[82.134,0],[7.11,0],[0.009,12.792],[0,0],[-7.613,0],[-0.003,-12.289],[0,0]],"v":[[-0.047,-9.997],[246.354,-9.996],[253.471,-2.794],[240.445,9.998],[-245.861,9.998],[-253.476,2.292],[-240.951,-9.997]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[254.816,10.248],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-92.95,-0.001],[-0.005,-7.322],[13.662,0],[183.901,0.001],[0.073,7.795],[-12.325,0]],"o":[[92.949,0],[7.492,0],[0.008,13.66],[-183.9,0],[-7.721,0],[-0.117,-12.433],[0,0]],"v":[[0.66,-10.493],[279.509,-10.492],[287.006,-3.167],[273.352,10.493],[-278.348,10.492],[-286.898,1.94],[-274.69,-10.493]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[287.264,68.727],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":34,"ty":0,"nm":"green check","parent":71,"refId":"comp_8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-151.938,-505.792,0],"ix":2},"a":{"a":0,"k":[26.5,21,0],"ix":1},"s":{"a":0,"k":[162.556,162.556,100],"ix":6}},"ao":0,"w":53,"h":42,"ip":515.00002097638,"op":2352.00009579892,"st":515.00002097638,"bm":0},{"ddd":0,"ind":35,"ty":0,"nm":"green check","parent":71,"refId":"comp_8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-109.878,-158.242,0],"ix":2},"a":{"a":0,"k":[26.5,21,0],"ix":1},"s":{"a":0,"k":[162.556,162.556,100],"ix":6}},"ao":0,"w":53,"h":42,"ip":515.00002097638,"op":2352.00009579892,"st":515.00002097638,"bm":0},{"ddd":0,"ind":36,"ty":4,"nm":"desactivated circle","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-109.052,-158.331,0],"ix":2},"a":{"a":0,"k":[17.78,17.798,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[8.101,-0.062],[-0.002,8.115],[-8.117,-0.059],[-0.129,-7.708]],"o":[[-8.119,0.062],[0.002,-8.116],[7.7,0.056],[0.136,8.08]],"v":[[0.04,14.487],[-14.563,0],[0.04,-14.49],[14.428,-0.219]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.954082414216,0.950793935738,0.941525567747,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.845,17.765],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.019,10.319],[-9.9,-0.014],[-0.019,-9.41],[9.827,0.082]],"o":[[0.017,-9.641],[9.409,0.015],[0.019,9.751],[-9.997,-0.085]],"v":[[-17.51,-0.485],[0.056,-17.534],[17.511,-0.083],[-0.293,17.466]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.826144349341,0.813032023112,0.783266314338,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.779,17.798],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":515.00002097638,"st":0,"bm":0},{"ddd":0,"ind":37,"ty":0,"nm":"green check","parent":71,"refId":"comp_8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-110.763,-367.647,0],"ix":2},"a":{"a":0,"k":[26.5,21,0],"ix":1},"s":{"a":0,"k":[162.556,162.556,100],"ix":6}},"ao":0,"w":53,"h":42,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":38,"ty":4,"nm":"circle","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-110.589,-367.746,0],"ix":2},"a":{"a":0,"k":[18.014,17.997,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-8.09,0.081],[-0.075,-8.337],[8.026,-0.115],[0.212,7.892]],"o":[[8.44,-0.084],[0.073,8.213],[-7.795,0.112],[-0.213,-7.898]],"v":[[-0.034,-14.603],[14.662,-0.358],[0.402,14.574],[-14.522,0.074]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.985696171779,0.98383250517,0.980337524414,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.754,18.195],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[9.491,-0.057],[-0.064,9.747],[-9.496,0.1],[0.122,-9.496]],"o":[[-9.682,0.058],[0.062,-9.399],[9.447,-0.1],[-0.121,9.461]],"v":[[0.014,17.689],[-17.701,-0.158],[-0.103,-17.648],[17.642,0.233]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.462520704082,0.425947481043,0.410828384699,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18.014,17.998],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":39,"ty":0,"nm":"green check","parent":71,"refId":"comp_8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-110.763,-266.27,0],"ix":2},"a":{"a":0,"k":[26.5,21,0],"ix":1},"s":{"a":0,"k":[162.556,162.556,100],"ix":6}},"ao":0,"w":53,"h":42,"ip":114.000004643315,"op":1951.00007946586,"st":114.000004643315,"bm":0},{"ddd":0,"ind":40,"ty":4,"nm":"circle","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-110.641,-266.621,0],"ix":2},"a":{"a":0,"k":[18.002,17.952,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.035,-8.354],[8.005,-0.02],[0.117,7.89],[-8.102,0.038]],"o":[[0.035,8.16],[-7.885,0.021],[-0.118,-7.935],[8.357,-0.04]],"v":[[14.633,-0.153],[0.263,14.596],[-14.55,0.027],[0.075,-14.577]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.985696171779,0.98383250517,0.980337524414,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.821,17.967],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-9.642,0.056],[0.053,-9.726],[9.329,-0.048],[-0.104,9.678]],"o":[[9.645,-0.055],[-0.049,9.219],[-9.586,0.05],[0.102,-9.522]],"v":[[0.007,-17.647],[17.698,0.189],[0.026,17.652],[-17.648,-0.295]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.462520704082,0.425947481043,0.410828384699,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18.001,17.952],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":115.000004684046,"st":0,"bm":0},{"ddd":0,"ind":42,"ty":0,"nm":"green check 2","parent":71,"refId":"comp_9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[465.698,-591.331,0],"ix":2},"a":{"a":0,"k":[26.5,21,0],"ix":1},"s":{"a":0,"k":[115.394,115.394,100],"ix":6}},"ao":0,"w":53,"h":42,"ip":438.000017840106,"op":1915.00007799955,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":45,"ty":0,"nm":"green check 2","parent":71,"refId":"comp_9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[300.409,-591.331,0],"ix":2},"a":{"a":0,"k":[26.5,21,0],"ix":1},"s":{"a":0,"k":[115.394,115.394,100],"ix":6}},"ao":0,"w":53,"h":42,"ip":69.0000028104276,"op":436.000017758644,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":46,"ty":4,"nm":"icon paper lineas 2","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-54.031,-371.749,0],"ix":2},"a":{"a":0,"k":[220.59,229.014,0],"ix":1},"s":{"a":0,"k":[14.937,14.937,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[254.777,353.338],[352.505,353.338]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,313.281],[352.504,313.281]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,273.568],[352.504,273.568]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,235.183],[352.504,235.183]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,197.25],[352.504,197.25]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,127.151],[271.353,127.151]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[16.231,0],[0,0]],"o":[[0,0],[0,-13.122],[0,0],[0,0]],"v":[[159.277,121.381],[159.277,-101.698],[132.687,-121.381],[-159.277,-121.381]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[231.903,180.504],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,-24.515],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,-29.353],[0,24.515],[0,0],[0,0],[0,0]],"v":[[-144,-91.159],[-170.59,-91.159],[-170.59,-149.662],[-123.626,-149.662],[-121.554,179.014],[170.59,179.014],[170.59,107.057]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[220.59,229.015],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":47,"ty":4,"nm":"icon paper lineas","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-54.031,-268.687,0],"ix":2},"a":{"a":0,"k":[220.59,229.014,0],"ix":1},"s":{"a":0,"k":[14.937,14.937,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[254.777,353.338],[352.505,353.338]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,313.281],[352.504,313.281]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,273.568],[352.504,273.568]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,235.183],[352.504,235.183]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,197.25],[352.504,197.25]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,127.151],[271.353,127.151]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[16.231,0],[0,0]],"o":[[0,0],[0,-13.122],[0,0],[0,0]],"v":[[159.277,121.381],[159.277,-101.698],[132.687,-121.381],[-159.277,-121.381]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[231.903,180.504],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,-24.515],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,-29.353],[0,24.515],[0,0],[0,0],[0,0]],"v":[[-144,-91.159],[-170.59,-91.159],[-170.59,-149.662],[-123.626,-149.662],[-121.554,179.014],[170.59,179.014],[170.59,107.057]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[220.59,229.015],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":50,"ty":4,"nm":"blue lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[204.407,-320.862,0],"ix":2},"a":{"a":0,"k":[212.253,61.189,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[66.788,0],[67.955,0.001],[0.009,6.904],[-12.883,0],[0,0],[-0.054,-7.973],[12.519,0.007]],"o":[[-67.955,0],[-6.899,-0.001],[-0.019,-13.09],[0,0],[7.843,0],[0.084,12.648],[-66.789,-0.039]],"v":[[-1.047,9.692],[-204.911,9.691],[-211.819,2.779],[-198.955,-10.311],[203.276,-10.311],[211.131,-2.336],[199.319,9.711]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[212.088,10.562],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-68.121,-0.002],[-0.025,-7.215],[13.595,0.002],[134.243,0.001],[0.002,7.653],[-12.12,0]],"o":[[68.121,0],[7.092,0],[0.047,13.689],[-134.242,-0.02],[-7.662,0],[-0.005,-12.348],[0,0]],"v":[[-0.51,-10.456],[203.851,-10.454],[210.952,-3.233],[198.4,9.561],[-204.327,9.548],[-211.991,1.892],[-199.876,-10.456]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[212.259,111.672],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":51,"ty":4,"nm":"blue lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[234.313,-484.367,0],"ix":2},"a":{"a":0,"k":[288.07,40.615,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[66.462,0],[67.96,0.001],[0.009,7.158],[-14.018,0],[-133.422,-0.001],[-0.046,-8.56],[13.32,0.005]],"o":[[-67.96,0],[-7.149,0],[-0.017,-13.817],[133.422,0],[8.566,0],[0.071,13.256],[-66.461,-0.025]],"v":[[-0.824,10.021],[-204.704,10.02],[-211.863,2.856],[-197.862,-10.961],[202.405,-10.96],[211.083,-2.295],[198.559,10.032]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[214.053,11.211],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[91.63,0],[0,0],[-0.08,7.79],[-14.048,0.003],[-183.76,0],[0.074,-8.291],[13.388,-0.006]],"o":[[0,0],[-8.029,0],[0.147,-14.197],[183.759,-0.04],[8.531,0],[-0.118,13.467],[-91.631,0.042]],"v":[[-0.459,10.116],[-277.848,10.116],[-285.865,2.324],[-273.772,-9.861],[277.507,-9.887],[286.024,-1.595],[274.432,10.094]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[288.07,69.108],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-91.63,0],[-92.63,0],[-0.005,-7.298],[12.624,0],[0,0],[-0.071,8.298],[-13.375,0.007]],"o":[[92.63,0],[7.513,0],[0.008,12.698],[0,0],[-8.52,0],[0.116,-13.482],[91.63,-0.042]],"v":[[1.424,-9.11],[279.314,-9.11],[286.832,-1.808],[274.217,10.89],[-276.564,10.89],[-285.072,2.591],[-273.466,-9.087]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[287.276,39.333],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":52,"ty":4,"nm":"filling circle","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-151.719,-505.442,0],"ix":2},"a":{"a":0,"k":[-343.25,-0.75,0],"ix":1},"s":{"a":0,"k":[97.747,97.747,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":78,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-316.681,14.455],[-365.657,14.455],[-365.657,33.661],[-316.681,33.661]],"c":true}]},{"t":79.000003217736,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-316.681,-1.99],[-365.657,-1.99],[-365.657,33.661],[-316.681,33.661]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[25.5,25.5],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.322875797047,0.322875797047,0.322875797047,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-343.25,-0.75],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":515.00002097638,"st":0,"bm":0},{"ddd":0,"ind":53,"ty":4,"nm":"black circle","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-151.591,-505.283,0],"ix":2},"a":{"a":0,"k":[18.031,17.83,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.083,-8.29],[8.148,-0.135],[0.142,7.92],[-8.083,0.116]],"o":[[0.083,8.258],[-7.936,0.132],[-0.143,-7.958],[8.289,-0.12]],"v":[[14.611,-0.258],[0.373,14.559],[-14.55,0.17],[-0.057,-14.571]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.985696171779,0.98383250517,0.980337524414,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.824,17.825],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-9.771,0.041],[0.124,-9.773],[9.502,-0.01],[-0.085,9.776]],"o":[[9.822,-0.041],[-0.119,9.427],[-9.74,0.01],[0.084,-9.583]],"v":[[-0.033,-17.539],[17.656,0.213],[-0.04,17.57],[-17.695,-0.289]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.462520704082,0.425947481043,0.410828384699,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18.03,17.83],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":515.00002097638,"st":0,"bm":0},{"ddd":0,"ind":54,"ty":4,"nm":"purple clock","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[477.281,-591.775,0],"ix":2},"a":{"a":0,"k":[12.16,12.217,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-1.942,-4.613],[-1.942,1.116],[1.942,4.613]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.580196904201,0.189946073644,0.581678682215,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[14.325,11.016],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-4.773,0.105],[-0.026,-4.598],[4.479,-0.24],[0.113,4.692]],"o":[[4.593,-0.101],[0.025,4.399],[-4.709,0.253],[-0.117,-4.788]],"v":[[-0.132,-8.902],[8.917,-0.091],[0.428,8.749],[-8.824,0.23]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.966032379749,0.912648399203,0.954579372032,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.148,12.35],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.054,-6.328],[6.394,-0.02],[0.087,6.388],[-6.499,-0.129]],"o":[[-0.054,6.409],[-6.345,0.02],[-0.089,-6.531],[6.298,0.125]],"v":[[11.856,0.165],[0.039,11.946],[-11.82,0.208],[0.239,-11.837]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.580196904201,0.189946073644,0.581678682215,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.16,12.217],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":436.000017758644,"st":0,"bm":0},{"ddd":0,"ind":56,"ty":4,"nm":"grey lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[202.285,-313.328,0],"ix":2},"a":{"a":0,"k":[406.633,312.954,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"fl","c":{"a":0,"k":[0.181730801451,0.156003136728,0.156628627403,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[780.092,105.097],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":1,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.042,-0.159],[0,0],[0,0.16],[0,0]],"o":[[0,0],[0,-0.159],[0,0],[0.043,0.16]],"v":[[344.283,0.239],[-344.282,0.239],[-344.283,-0.239],[344.156,-0.239]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.810230030733,0.795486869064,0.764521580116,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[468.327,408.987],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.029,0.172],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0.029,-0.172]],"v":[[-344.233,-0.258],[344.322,-0.258],[344.322,0.258],[-344.322,0.258]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.810230030733,0.795486869064,0.764521580116,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[468.267,305.931],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.333,-0.002],[0,0],[-0.333,0],[0,0]],"o":[[0,0],[0.333,0],[0,0],[-0.333,0.002]],"v":[[-0.499,312.704],[-0.499,-312.703],[0.499,-312.704],[0.499,312.7]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.859846526501,0.852124442306,0.825413961972,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.749,312.955],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.002,-0.328],[0,0],[0.001,0.328],[0,0]],"o":[[0,0],[0,-0.328],[0,0],[0.002,0.328]],"v":[[365.257,0.492],[-365.256,0.492],[-365.257,-0.492],[365.249,-0.492]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.859846526501,0.852124442306,0.825413961972,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[447.759,203.582],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.006,-0.333],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[-0.006,0.333]],"v":[[392.244,0.499],[-392.261,0.499],[-392.261,-0.499],[392.261,-0.499]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.859846526501,0.852124442306,0.825413961972,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[416.749,70.572],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":58,"ty":4,"nm":"announcement Outlines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-572.907,-174.136,0],"ix":2},"a":{"a":0,"k":[12,12,0],"ix":1},"s":{"a":0,"k":[140.134,140.134,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-4,0.25],[-2.5,3.25],[4,-0.75],[2,-3.25]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":3,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[15,18.75],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-3.207,-1.793],[1.793,3.207],[3.207,1.793],[-1.793,-3.207]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-0.391,0.391],[0.391,0.391]],"o":[[0.391,0.391],[0.391,-0.391],[0,0]],"v":[[1.793,3.207],[3.207,3.207],[3.207,1.793]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0.391,-0.391],[-0.391,-0.391]],"o":[[-0.391,-0.391],[-0.391,0.391],[0,0]],"v":[[-1.793,-3.207],[-3.207,-3.207],[-3.207,-1.793]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[6.5,17.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":5,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1,1],[1,1],[1,-1],[-1,-1]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0.552],[0.553,0]],"o":[[0.553,0],[0,-0.552],[0,0]],"v":[[1,1],[2,0],[1,-1]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0,-0.552],[-0.553,0]],"o":[[-0.553,0],[0,0.552],[0,0]],"v":[[-1,-1],[-2,0],[-1,1]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[22,7],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":5,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[1,-1],[-1,-1],[-1,1],[1,1]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[1,1]],"c":false},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0.553,0],[0,-0.552]],"o":[[0,-0.552],[-0.553,0],[0,0]],"v":[[1,-1],[0,-2],[-1,-1]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[0,0],[-0.553,0],[0,0.552]],"o":[[0,0.552],[0.553,0],[0,0]],"v":[[-1,1],[0,2],[1,1]],"c":true},"ix":2},"nm":"Path 4","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17,2],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":6,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[0.293,-1.707],[-1.707,0.293],[-0.293,1.707],[1.707,-0.293]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-0.391,-0.391],[-0.391,0.391]],"o":[[-0.391,0.39],[0.391,0.391],[0,0]],"v":[[-1.707,0.293],[-1.707,1.707],[-0.293,1.707]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0.391,0.39],[0.391,-0.391]],"o":[[0.391,-0.391],[-0.391,-0.391],[0,0]],"v":[[1.707,-0.293],[1.707,-1.707],[0.293,-1.707]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[21,3],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":5,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-6,-6],[6,6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[17,7],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[0.5,-10.499],[-7.5,2.501],[-10.5,5.501],[-5.501,10.499],[-2.501,7.499],[10.5,-0.499]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[11.5,12.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":59,"ty":4,"nm":"attendance Outlines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-574.136,-259.382,0],"ix":2},"a":{"a":0,"k":[12,12,0],"ix":1},"s":{"a":0,"k":[140.134,140.134,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1,2],[1,2],[1,-2],[-1,-2]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[-1,-2]],"c":false},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[-0.553,0],[0,0.552]],"o":[[0,0.552],[0.553,0],[0,0]],"v":[[-1,2],[0,3],[1,2]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[0,0],[0.553,0],[0,-0.552]],"o":[[0,-0.552],[-0.553,0],[0,0]],"v":[[1,-2],[0,-3],[-1,-2]],"c":true},"ix":2},"nm":"Path 4","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18,3],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":6,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1,2],[1,2],[1,-2],[-1,-2]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[-1,-2]],"c":false},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[-0.552,0],[0,0.552]],"o":[[0,0.552],[0.552,0],[0,0]],"v":[[-1,2],[0,3],[1,2]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[0,0],[0.552,0],[0,-0.552]],"o":[[0,-0.552],[-0.552,0],[0,0]],"v":[[1,-2],[0,-3],[-1,-2]],"c":true},"ix":2},"nm":"Path 4","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[6,3],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":6,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-1,0],[-0.333,1],[1,-1]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[19,17],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-2.209,0],[0,0],[0,-2.209],[2.209,0],[0,2.209]],"o":[[0,0],[2.209,0],[0,2.209],[-2.209,0],[0,-2.209]],"v":[[0,-4],[0,-4],[4,0],[0,4],[-4,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[19,17],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[9,3],[15,3]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1,-0.5],[1,-0.5],[1,0.5],[-1,0.5]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[6,17.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.5,-0.5],[0.5,-0.5],[0.5,0.5],[-0.5,0.5]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[11.5,17.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1,-0.5],[1,-0.5],[1,0.5],[-1,0.5]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[12,12.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1,-0.5],[1,-0.5],[1,0.5],[-1,0.5]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[6,12.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":2,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[1,8],[23,8]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 10","np":2,"cix":2,"bm":0,"ix":10,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[9,-10],[11,-10],[11,-2]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-9,-10],[-11,-10],[-11,10],[2,10]],"c":false},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[12,13],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 11","np":4,"cix":2,"bm":0,"ix":11,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":60,"ty":4,"nm":"video Outlines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-573.726,-344.218,0],"ix":2},"a":{"a":0,"k":[298,421,0],"ix":1},"s":{"a":0,"k":[140.134,140.134,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[2.634,-6.496],[2.634,6.497],[-2.634,2.957],[-2.634,-3.129]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.008000000785,0.008000000785,0.008000000785,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[306.576,421.077],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-8.504,-6.583],[-8.504,6.842],[8.503,6.842],[8.503,-2.741],[8.503,-6.842]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.008000000785,0.008000000785,0.008000000785,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[295.439,420.948],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":61,"ty":4,"nm":"information Outlines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-573.726,-429.054,0],"ix":2},"a":{"a":0,"k":[12,12,0],"ix":1},"s":{"a":0,"k":[140.134,140.134,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[10,18],[14,18]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-1,-4.5],[1,-4.5],[1,4.5]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[11,13.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.276,0],[0,0.276],[0.276,0],[0,-0.276]],"o":[[0.276,0],[0,-0.276],[-0.276,0],[0,0.276]],"v":[[0,0.5],[0.5,0],[0,-0.5],[-0.5,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":1,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[12,6],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.075,0],[0,6.075],[6.075,0],[0,-6.075]],"o":[[6.075,0],[0,-6.075],[-6.075,0],[0,6.075]],"v":[[0,11],[11,0],[0,-11],[-11,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[12,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":62,"ty":4,"nm":"multi-account Outlines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-573.726,-513.89,0],"ix":2},"a":{"a":0,"k":[12,12,0],"ix":1},"s":{"a":0,"k":[140.134,140.134,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,-2]],"o":[[2,0],[0,0]],"v":[[-2,-2],[2,2]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[8,16],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-10,-8.5],[10,-8.5],[10,8.5]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[13,10.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[13,16],[16,16]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12,13],[16,13]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12,10],[16,10]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.381,0],[0,-1.381],[1.381,0],[0,1.38]],"o":[[1.381,0],[0,1.38],[-1.381,0],[0,-1.381]],"v":[[0,-2.5],[2.5,0],[0,2.5],[-2.5,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[6.5,11.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-9,-7.5],[9,-7.5],[9,7.5],[-9,7.5]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[10,13.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":63,"ty":4,"nm":"edit-tool Outlines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-572.087,-90.12,0],"ix":2},"a":{"a":0,"k":[298,421,0],"ix":1},"s":{"a":0,"k":[140.134,140.134,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[2.72,-2.546],[-2.978,2.719],[-3.669,4.1],[-0.95,1.079],[2.116,2.547],[1.727,1.813],[-1.555,1.079],[1.045,-1.164]],"o":[[0,0],[-2.719,2.547],[2.979,-2.72],[2.374,2.115],[0.949,-1.079],[-2.331,2.547],[-1.727,-1.813],[-2.245,-2.978],[-2.676,2.978]],"v":[[-0.068,-3.259],[-9.692,6.237],[-5.375,9.95],[3.753,0.213],[9.863,-1.144],[10.294,-7.144],[4.683,-4.079],[7.403,-9.691],[1.273,-8.568]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[297.705,420.602],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":64,"ty":4,"nm":"interfaz icons","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-418.2,-337.009,0],"ix":2},"a":{"a":0,"k":[190.224,272.363,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-0.333],[0,0],[0,0.333],[0,0]],"o":[[0,0],[0,-0.333],[0,0],[0.001,0.333]],"v":[[189.78,0.499],[-189.779,0.499],[-189.78,-0.499],[189.779,-0.499]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.859846526501,0.852124442306,0.825413961972,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[190.418,53.684],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 38","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-8.649,0],[-11.139,0.256],[0.406,-4.271],[0.016,-2.495],[5.705,-0.006],[21.623,0.02],[0.048,5.879],[-13.14,0]],"o":[[11.145,0],[4.477,-0.103],[-0.234,2.472],[-0.038,5.893],[-21.623,0.021],[-5.734,-0.006],[-0.109,-13.251],[8.649,0]],"v":[[-0.181,-9.913],[33.25,-9.997],[38.864,-4.167],[38.819,3.313],[32.28,10.078],[-32.59,10.078],[-39.16,3.339],[-26.13,-9.913]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[109.114,83.542],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 39","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[18.14,-0.2],[-0.402,4.312],[0.185,2.65],[-4.635,-0.014],[-35.953,0.146],[0.022,-4.284],[14.159,0]],"o":[[-18.143,-0.001],[-4.439,0.049],[0.247,-2.639],[-0.337,-4.833],[35.953,0.107],[4.45,-0.018],[-0.072,14.281],[0,0]],"v":[[0.191,9.986],[-54.237,10.069],[-59.888,4.267],[-59.875,-3.715],[-53.312,-10.077],[54.547,-10.1],[60.224,-4.296],[46.131,9.986]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[129.795,336.568],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 40","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[19.466,0.012],[-0.001,6.548],[-15,-0.004],[-36.603,-0.003],[-0.226,-6.491],[13.258,0]],"o":[[-19.465,0],[-6.42,-0.003],[0.003,-15.051],[36.602,0.008],[6.379,0.001],[0.459,13.22],[0,0]],"v":[[0.499,11.14],[-57.898,11.135],[-64.983,3.904],[-51.434,-9.848],[58.373,-9.844],[65.975,-2.359],[52.907,11.14]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[134.94,450.359],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 41","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[23.141,-0.178],[-0.094,4.779],[-15.734,0.003],[-43.787,0.163],[0.107,-5.213],[13.652,0]],"o":[[-23.142,0],[-4.448,0.033],[0.312,-15.765],[43.788,-0.008],[4.897,-0.018],[-0.282,13.7],[0,0]],"v":[[0.172,10.718],[-69.255,10.801],[-75.383,4.931],[-61.188,-9.279],[70.175,-9.376],[76.815,-2.986],[63.107,10.718]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[145.24,278.85],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 42","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[24.139,-0.209],[-0.119,5.248],[-15.025,-0.002],[-45.785,-0.002],[-0.013,-6.768],[13.1,0]],"o":[[-24.142,0],[-4.866,0.042],[0.338,-15.061],[45.786,0.006],[7.023,0.001],[0.027,13.227],[0,0]],"v":[[0.692,10.598],[-71.731,10.694],[-78.393,4.325],[-64.697,-9.408],[72.66,-9.405],[79.696,-2.629],[66.623,10.598]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[148.234,420.927],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 43","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-22.477,0],[-23.973,0.208],[0.109,-5.266],[13.612,0],[45.619,0.004],[-0.076,7.271],[-14.018,0.061]],"o":[[23.975,0],[4.847,-0.042],[-0.288,13.741],[-45.62,0],[-7.094,-0.001],[0.149,-14.2],[22.476,-0.097]],"v":[[1.368,-9.025],[73.294,-9.12],[79.97,-2.766],[66.303,10.98],[-70.556,10.978],[-78.109,3.218],[-66.062,-8.999]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[148.077,504.506],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 44","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-27.474,0],[-29.305,0.186],[0.111,-5.285],[13.606,0],[55.947,0.002],[-0.076,7.257],[-14.007,0.046]],"o":[[29.305,0],[4.828,-0.031],[-0.29,13.748],[-55.946,0],[-7.107,-0.001],[0.147,-14.202],[27.473,-0.089]],"v":[[0.855,-9.026],[88.771,-9.118],[95.461,-2.779],[81.799,10.974],[-86.041,10.973],[-93.609,3.228],[-81.566,-9]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[163.577,167.626],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 45","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-31.141,0],[-32.973,-0.005],[-0.098,-6.486],[12.84,-0.012],[63.782,0.001],[0.026,7.865],[-14.078,-0.011]],"o":[[32.974,0],[6.551,0.001],[0.248,16.298],[-63.781,0.056],[-7.831,0],[-0.046,-13.905],[31.141,0.022]],"v":[[0.377,-11.312],[99.297,-11.31],[106.878,-3.877],[93.418,9.644],[-97.926,9.668],[-106.08,1.484],[-93.047,-11.319]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[176.029,366.862],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 46","np":2,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-36.805,-0.006],[-0.018,-6.415],[-0.262,-2.637],[4.256,0.013],[38.971,0],[34.641,0.006],[0.018,6.895],[-12.792,0]],"o":[[36.805,0],[6.359,0.001],[0.007,2.665],[0.448,4.496],[-38.969,-0.125],[-34.639,0],[-6.846,-0.001],[-0.033,-12.556],[0,0]],"v":[[-0.04,-10.042],[110.375,-10.039],[116.754,-3.603],[116.803,4.384],[111.001,10.031],[-5.909,9.958],[-109.829,9.955],[-117.218,2.514],[-104.459,-10.042]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[187.171,250.614],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 47","np":2,"cix":2,"bm":0,"ix":10,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[43.302,0],[44.967,0.005],[0.01,6.72],[-14.318,-0.002],[-87.27,-0.001],[0.07,-7.958],[13.333,-0.019]],"o":[[-44.967,0],[-6.57,0],[-0.021,-14.385],[87.27,0.013],[7.796,0],[-0.119,13.505],[-43.302,0.059]],"v":[[-0.247,9.687],[-135.149,9.684],[-141.732,2.948],[-128.673,-10.324],[133.137,-10.316],[141.202,-2.068],[129.659,9.665]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[211.686,112.943],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 48","np":2,"cix":2,"bm":0,"ix":11,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-43.634,0],[-44.467,-0.003],[-0.014,-6.755],[13.102,0],[87.268,0.002],[0.059,7.966],[-12.247,-0.015]],"o":[[44.466,0.001],[7.043,0],[0.024,13.231],[-87.268,0],[-7.781,0],[-0.09,-12.228],[43.634,0.055]],"v":[[1.334,-9.752],[134.734,-9.75],[141.791,-2.987],[128.713,10.244],[-133.091,10.243],[-141.169,1.983],[-129.568,-9.773]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[211.111,534.232],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 49","np":2,"cix":2,"bm":0,"ix":12,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[44.966,-0.16],[-0.114,5.213],[-15.048,0],[-87.27,-0.001],[-0.005,-7.304],[12.625,0]],"o":[[-44.968,0],[-4.9,0.018],[0.331,-15.056],[87.271,0.002],[7.509,0],[0.009,12.692],[0,0]],"v":[[0.659,10.623],[-134.243,10.718],[-140.879,4.32],[-127.143,-9.378],[134.668,-9.375],[142.182,-2.068],[129.566,10.623]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[210.719,196.972],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 50","np":2,"cix":2,"bm":0,"ix":13,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":65,"ty":4,"nm":"Shape Layer 4","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[940.526,-250.366,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[163.934,163.934,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":69,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-378.065,-225.166],[-399.824,-225.357],[-399.824,-188.33],[-378.638,-189.093]],"c":true}]},{"t":89.0000036250443,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-291.032,-225.357],[-399.824,-225.357],[-399.824,-188.33],[-291.032,-188.33]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[80.125,17.25],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2.6,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87450986376,0.921568687289,0.956862804936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-337.063,-207.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":353.000014377985,"st":0,"bm":0},{"ddd":0,"ind":66,"ty":4,"nm":"Shape Layer 5","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1103.597,-250.366,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[163.934,163.934,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[80.125,17.25],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2.6,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87450986376,0.921568687289,0.956862804936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-337.063,-207.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":424.000017269874,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":67,"ty":4,"nm":"Shape Layer 3","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1120.126,-250.366,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[163.934,163.934,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[80.125,17.25],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2.6,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87450986376,0.921568687289,0.956862804936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-337.063,-207.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":424.000017269874,"st":0,"bm":0},{"ddd":0,"ind":68,"ty":4,"nm":"Shape Layer 2","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[438.978,-250.366,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[163.934,163.934,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[121.125,17.25],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2.6,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87450986376,0.921568687289,0.956862804936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-315.563,-207.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":69,"ty":4,"nm":"Shape Layer 1","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[14.388,-250.366,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[163.934,163.934,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[105.125,17.25],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2.6,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87450986376,0.921568687289,0.956862804936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-327.563,-207.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":71,"ty":3,"nm":"Null 3","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"s":true,"x":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":43.493,"s":[381.223]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":67.493,"s":[229.723]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":161.493,"s":[229.723]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":190,"s":[197.723]},{"t":232,"s":[197.723],"h":1},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":233,"s":[143.723]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":276,"s":[143.723]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":394.493,"s":[143.723]},{"t":449,"s":[143.723],"h":1},{"t":450.000018328876,"s":[204.723],"h":1}],"ix":3},"y":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":43.493,"s":[382.723]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":67.493,"s":[509.723]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":161.493,"s":[509.723]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":190,"s":[564.723]},{"t":232,"s":[564.723],"h":1},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":233,"s":[113.586]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":276,"s":[113.586]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":394.493,"s":[-363.277]},{"t":449,"s":[-363.277],"h":1},{"t":450.000018328876,"s":[526.723],"h":1}],"ix":4}},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":44,"s":[61,61,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":68,"s":[79.9,79.9,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":162,"s":[79.9,79.9,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":190,"s":[133.9,133.9,100]},{"t":232,"s":[133.9,133.9,100],"h":1},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":233,"s":[114.741,114.741,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":276,"s":[114.741,114.741,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":395,"s":[134.5,134.5,100]},{"t":449,"s":[134.5,134.5,100],"h":1},{"t":450.000018328876,"s":[84.7,84.7,100],"h":1}],"ix":6}},"ao":0,"ip":0,"op":1837.00007482254,"st":0,"bm":0}],"markers":[{"tm":68.0000027696968,"cm":"","dr":0},{"tm":232.000009449554,"cm":"","dr":0},{"tm":600.000024438501,"cm":"end","dr":0}],"chars":[{"ch":"C","size":15.3000001907349,"style":"Regular","w":63.09,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-5.404,-2.539],[0,0],[7.487,0],[5.192,-2.995],[2.75,-5.534],[0,-7.356],[-5.713,-6.38],[-10.515,0],[-4.948,1.855],[0,0],[4.98,0],[4.378,5.095],[0,9.343],[-4.541,5.225],[-7.845,0]],"o":[[0,0],[-5.599,-2.734],[-7.031,0],[-5.193,2.995],[-2.751,5.534],[0,11.752],[5.713,6.38],[7.259,0],[0,0],[-6.38,1.791],[-8.105,0],[-4.379,-5.094],[0,-9.082],[4.541,-5.225],[5.403,0]],"v":[[56.592,-61.182],[60.107,-68.311],[40.479,-72.412],[22.144,-67.92],[10.229,-55.127],[6.104,-35.791],[14.673,-8.594],[39.014,0.977],[57.324,-1.807],[57.324,-9.082],[40.283,-6.396],[21.558,-14.038],[14.99,-35.693],[21.802,-57.153],[40.381,-64.99]],"c":true},"ix":2},"nm":"C","mn":"ADBE Vector Shape - Group","hd":false}],"nm":"C","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"},{"ch":"A","size":15.3000001907349,"style":"Regular","w":63.28,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[63.281,0],[35.205,-71.68],[28.223,-71.68],[0,0],[8.398,0],[17.188,-22.705],[45.801,-22.705],[54.688,0]],"c":true},"ix":2},"nm":"A","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[-0.716,3.125],[-1.074,-2.799],[0,0]],"o":[[0,0],[1.334,-3.743],[1.139,4.07],[0,0],[0,0]],"v":[[20.117,-30.176],[28.516,-52.295],[31.592,-62.598],[34.912,-52.295],[43.213,-30.176]],"c":true},"ix":2},"nm":"A","mn":"ADBE Vector Shape - Group","hd":false}],"nm":"A","np":5,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"},{"ch":"B","size":15.3000001907349,"style":"Regular","w":64.79,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[-4.314,3.581],[0,6.38],[10.84,1.855],[0,0],[-2.361,2.751],[0,4.232],[4.231,2.832],[9.473,0],[0,0]],"o":[[0,0],[7.747,0],[4.313,-3.58],[0,-9.538],[0,0],[4.524,-0.813],[2.36,-2.75],[0,-6.12],[-4.232,-2.832],[0,0],[0,0]],"v":[[9.814,0],[34.717,0],[52.808,-5.371],[59.277,-20.313],[43.018,-37.402],[43.018,-37.891],[53.345,-43.237],[56.885,-53.711],[50.537,-67.139],[29.98,-71.387],[9.814,-71.387]],"c":true},"ix":2},"nm":"B","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[-2.865,-1.774],[0,-4.004],[2.571,-1.839],[5.859,0],[0,0]],"o":[[0,0],[6.25,0],[2.864,1.775],[0,4.362],[-2.572,1.839],[0,0],[0,0]],"v":[[18.115,-64.209],[30.322,-64.209],[43.994,-61.548],[48.291,-52.881],[44.434,-43.579],[31.787,-40.82],[18.115,-40.82]],"c":true},"ix":2},"nm":"B","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[-2.979,-2.083],[0,-4.427],[2.913,-2.229],[5.762,0],[0,0],[0,0]],"o":[[6.087,0],[2.979,2.084],[0,4.753],[-2.914,2.23],[0,0],[0,0],[0,0]],"v":[[32.324,-33.789],[45.923,-30.664],[50.391,-20.898],[46.021,-10.425],[33.008,-7.08],[18.115,-7.08],[18.115,-33.789]],"c":true},"ix":2},"nm":"B","mn":"ADBE Vector Shape - Group","hd":false}],"nm":"B","np":6,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"},{"ch":"D","size":15.3000001907349,"style":"Regular","w":72.9,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[6.152,6.152],[11.1,0],[0,0],[0,0],[0,0],[-6.396,6.234],[0,11.784]],"o":[[-6.152,-6.152],[0,0],[0,0],[0,0],[12.012,0],[6.396,-6.233],[0,-11.035]],"v":[[57.568,-62.158],[31.689,-71.387],[9.814,-71.387],[9.814,0],[29.59,0],[57.202,-9.351],[66.797,-36.377]],"c":true},"ix":2},"nm":"D","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[4.98,-4.866],[9.895,0],[0,0],[0,0],[0,0],[-4.671,-4.72],[0,-9.309]],"o":[[-4.98,4.867],[0,0],[0,0],[0,0],[9.212,0],[4.671,4.72],[0,9.538]],"v":[[50.537,-14.478],[28.223,-7.178],[18.115,-7.178],[18.115,-64.209],[30.176,-64.209],[51.001,-57.129],[58.008,-36.084]],"c":true},"ix":2},"nm":"D","mn":"ADBE Vector Shape - Group","hd":false}],"nm":"D","np":5,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"},{"ch":"1","size":20.8999996185303,"style":"Regular","w":57.18,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[-0.847,0.749],[-0.684,0.684],[0,-4.231],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[6.901,-5.598],[0.846,-0.748],[-0.261,3.777],[0,0],[0,0],[0,0]],"v":[[34.912,-71.387],[28.076,-71.387],[9.18,-56.787],[13.477,-51.221],[25.098,-60.742],[27.393,-62.891],[27.002,-50.879],[27.002,0],[34.912,0]],"c":true},"ix":2},"nm":"1","mn":"ADBE Vector Shape - Group","hd":false}],"nm":"1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"},{"ch":".","size":20.8999996185303,"style":"Regular","w":26.61,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.091,-1.025],[-1.66,0],[-1.074,1.139],[0,2.116],[1.057,1.123],[1.888,0],[0.993,-1.123],[0,-2.18]],"o":[[1.09,1.025],[1.855,0],[1.074,-1.139],[0,-2.18],[-1.058,-1.123],[-1.855,0],[-0.993,1.123],[0,2.344]],"v":[[9.058,-0.122],[13.184,1.416],[17.578,-0.293],[19.189,-5.176],[17.603,-10.132],[13.184,-11.816],[8.911,-10.132],[7.422,-5.176]],"c":true},"ix":2},"nm":".","mn":"ADBE Vector Shape - Group","hd":false}],"nm":".","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"},{"ch":"2","size":20.8999996185303,"style":"Regular","w":57.18,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[-2.539,4.427],[0,4.525],[3.809,3.435],[6.705,0],[6.575,-5.469],[0,0],[-2.654,0.977],[-2.962,0],[-2.312,-2.229],[0,-3.809],[0.911,-2.344],[1.823,-2.473],[5.729,-5.794],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[6.966,-6.77],[2.539,-4.427],[0,-5.794],[-3.809,-3.434],[-7.748,0],[0,0],[3.255,-2.571],[2.653,-0.977],[4.102,0],[2.311,2.23],[0,2.702],[-0.912,2.344],[-1.823,2.474],[0,0],[0,0],[0,0],[0,0]],"v":[[51.807,-7.52],[15.088,-7.52],[15.088,-7.91],[30.713,-23.193],[44.971,-39.99],[48.779,-53.418],[43.066,-67.261],[27.295,-72.412],[5.811,-64.209],[10.107,-58.691],[18.97,-64.014],[27.393,-65.479],[37.012,-62.134],[40.479,-53.076],[39.111,-45.508],[35.01,-38.281],[23.682,-25.879],[4.883,-6.982],[4.883,0],[51.807,0]],"c":true},"ix":2},"nm":"2","mn":"ADBE Vector Shape - Group","hd":false}],"nm":"2","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"},{"ch":"3","size":20.8999996185303,"style":"Regular","w":57.18,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[3.841,3.174],[6.934,0],[3.825,-1.318],[2.93,-2.311],[0,0],[-2.767,0.847],[-3.125,0],[-2.393,-1.985],[0,-3.483],[3.255,-2.457],[5.566,0],[0,0],[0,0],[0,0],[0,-8.659],[12.337,0],[3.499,0.798],[3.092,1.53],[0,0],[-3.142,-0.569],[-3.777,0],[-4.72,3.662],[0,6.804],[2.766,2.93],[5.729,0.716],[0,0],[-2.556,2.898],[0,4.558]],"o":[[-3.841,-3.174],[-4.232,0],[-3.825,1.318],[0,0],[3.548,-2.278],[2.766,-0.846],[4.102,0],[2.393,1.986],[0,4.362],[-3.255,2.458],[0,0],[0,0],[0,0],[13.606,0],[0,9.668],[-3.125,0],[-3.5,-0.797],[0,0],[2.962,1.433],[3.141,0.569],[8.691,0],[4.72,-3.662],[0,-4.752],[-2.767,-2.93],[0,0],[4.688,-0.977],[2.555,-2.897],[0,-5.534]],"v":[[43.359,-67.651],[27.197,-72.412],[15.112,-70.435],[4.98,-64.99],[9.082,-59.521],[18.555,-64.209],[27.393,-65.479],[37.134,-62.5],[40.723,-54.297],[35.84,-44.067],[22.607,-40.381],[15.479,-40.381],[15.479,-33.398],[22.51,-33.398],[42.92,-20.41],[24.414,-5.908],[14.478,-7.104],[4.59,-10.596],[4.59,-2.881],[13.745,0.122],[24.121,0.977],[44.238,-4.517],[51.318,-20.215],[47.168,-31.738],[34.424,-37.207],[34.424,-37.598],[45.288,-43.408],[49.121,-54.59]],"c":true},"ix":2},"nm":"3","mn":"ADBE Vector Shape - Group","hd":false}],"nm":"3","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"}]}')},ELoy:function(e,t,n){"use strict";n("px9Z"),n("GkCm");var i=n("Llzl"),s=n("lEL+"),a=n("6sUD");n.d(t,"a",(function(){return o}));const o="ultra.directives.telemetry.panel.header";class r{constructor(e,t){this.scope=e,this.timeout=t,this.showSpinner=!1,this.spinnerTimeout=this.timeout((()=>{this.showSpinner=!0}),this.scope,r.WAIT_TIME_TO_SHOW_SPINNER),this.scope.$watch("::panelDataLoaded()",(e=>{e&&this.dataLoaded()}))}dataLoaded(){this.timeout.cancel(this.spinnerTimeout),this.showSpinner=!1}}r.$inject=["scope",s.b],r.WAIT_TIME_TO_SHOW_SPINNER=1e3;class l{constructor(e){this.$injector=e,this.restrict="E",this.template=a,this.transclude=!0,this.scope={course:"&",panelDataLoaded:"&",titleKey:"@?",title:"@?",buttonOneIcon:"@",buttonOneCallback:"&",buttonOneAriaLabel:"@",buttonOneTitle:"@",buttonTwoIcon:"@",buttonTwoCallback:"&",buttonTwoAriaLabel:"@",buttonTwoTitle:"@"},this.link=e=>{e.telemetryPanelHeader=this.$injector.instantiate(r,{scope:e})}}}l.$inject=["$injector"],i.module(o,[]).directive("bbTelemetryPanelHeader",["$injector",e=>e.instantiate(l)])},EN13:function(e,t){e.exports='<bb-modal class="notification js-non-file-error" \n          modal-title-key="components.directives.fileUpload.disallowNonFileUploadTitle"\n          analytics-id-tag-prefix="components.directives.fileUpload">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>components.directives.fileUpload.disallowNonFileUploadError</bb-translate>\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" class="button js-primary-button" ng-click="fileUpload.modalCancelUpload()" analytics-id="components.directives.fileUpload.cancelUploadText">\n    <bb-translate>components.directives.fileUpload.cancelUploadText</bb-translate>\n  </button>\n</bb-modal>\n'},Ediv:function(e,t){e.exports='\x3c!--\n  this #ftue-new div is copied from first-time-visit-directive.html.\n  it may need to move back up a level if/when the welcome template is made configurable.\n--\x3e\n<div id="ftue-new" class="base-ftue" ng-if="firstVisit">\n  <div id="ftue-new-1" class="ftue-new-slide current-view">\n    <div class="slide-content large-6 large-offset-3 medium-8 medium-offset-2 small-10 small-offset-1">\n      <h2 bb-translate>welcome.welcome.title</h2>\n\n      <div>\n        <a href="javascript:void(0);" class="ftue-img ftue-1-button scroll-button" tabindex="0" analytics-id="welcome.welcome.welcomeIcon.link"><img\n                                          src="./static/images/ftue/ftueMMicon_blank.gif"\n                                          in-view="loadImage($inview, $inviewpart, $event,((\'./static/images/ftue/ftuMMicon_Welcome.gif\')))"\n                                          in-view-options="{ debounce: 100 }"\n                                          bb-translate-attrs="{alt: \'welcome.welcome.alt\'}"\n                                          ></a>\n      </div>\n      <p class="medium-up-padding" bb-translate>welcome.welcome.description</p>\n    </div>\n    <div class="slide-control">\n\n      <button class="button ftue-1-button icon round ftue-advance large scroll-button"\n                                                                  bb-translate-attrs="{\'aria-label\': \'welcome.welcome.alt\'}"\n                                                                  analytics-id="welcome.welcome.downIcon.button"><i\n                                                                  class="icon-chevron-down"\n\n                                                                  ></i>\n      </button>\n    </div>\n  </div>\n\n  <div class="ftue-new-slide" id="ftue-new-2">\n    <div class="slide-content large-6 large-offset-3 medium-8 medium-offset-2 small-10 small-offset-1">\n      <h2 bb-translate>welcome.layers.title</h2>\n\n      <div>\n        <a id="ftue-new-2-img" href="javascript:void(0);" class="ftue-img ftue-2-button scroll-button" tabindex="0" analytics-id="welcome.welcome.neverLoseYourPlace.link"><img\n                                          src="./static/images/ftue/ftueMMicon_blank.gif"\n                                          in-view="loadImage($inview, $inviewpart, $event,((\'./static/images/ftue/ftuMMicon_NeverLoseYourPlace.gif\')))"\n                                          in-view-options="{ debounce: 100 }"\n                                          bb-translate-attrs="{alt: \'welcome.layers.alt\'}"></a>\n      </div>\n      <p bb-translate>welcome.layers.description</p>\n    </div>\n    <div class="slide-control">\n      <button class="button icon round ftue-advance large ftue-2-button scroll-button"\n                                                                  bb-translate-attrs="{\'aria-label\': \'welcome.layers.alt\'}"\n                                                                  analytics-id="welcome.welcome.downIcon.button"><i\n                                                                  class="icon-chevron-down"\n                                                                  ></i>\n      </button>\n    </div>\n  </div>\n\n  <div class="ftue-new-slide" id="ftue-new-3">\n    <div class="slide-content large-6 large-offset-3 medium-8 medium-offset-2 small-10 small-offset-1">\n      <h2 bb-translate>welcome.safe.title</h2>\n\n      <div>\n        <a id="ftue-new-3-img" href="javascript:void(0);" class="ftue-img ftue-3-button" ng-click="welcome.goNextPage()" tabindex="0" analytics-id="welcome.welcome.goNextPage.link"><img\n                                          src="./static/images/ftue/ftueMMicon_blank.gif"\n                                          in-view="loadImage($inview, $inviewpart, $event,((\'./static/images/ftue/ftuMMicon_FeelFree.gif\')))"\n                                          in-view-options="{ debounce: 100 }"\n                                          bb-translate-attrs="{alt: \'welcome.safe.alt\'}"></a>\n      </div>\n      <p bb-translate>welcome.safe.description</p>\n\n    </div>\n    <div class="slide-control">\n      <button class="button round ftue-end large ftue-3-button" bb-translate ng-click="welcome.goNextPage()" analytics-id="welcome.safe.button">welcome.safe.button</button>\n    </div>\n  </div>\n</div>\n'},Efpj:function(e,t){e.exports='<div class="grades-list instructor-wrapper">\n  <div class="row tabular-list-header course-grades-column-headers" ng-if="courseGradesGraderList.columns.length > 0">\n    <div class="columns small-6 medium-4 large-4 tabular-list-header-offset">\n      <div ng-click="courseGradesGraderList.onClickSort(\'item\')" analytics-id="components.directives.grade.course-grades-grader-list.sortNameColumn" class="sorting-header-column" role="button" bb-translate-attrs="{\'aria-label\': \'{{courseGradesGraderList.getAriaLabelString(\'item\')}}\'}" tabindex="0">\n        <span bb-translate>components.directives.grade.course-grades-grader-list.headers.name</span>\n        <bb-arrow-sort-indicator sortable="true" sort="courseGradesGraderList.getSortTypeValue(\'item\')" class="sort-icon js-{{courseGradesGraderList.getSortTypeValue(\'item\')}}-icon" />\n      </div>\n    </div>\n    <div class="columns hide-for-small-only medium-2 large-2">\n      <div ng-click="courseGradesGraderList.onClickSort(\'dueDate\')" analytics-id="components.directives.grade.course-grades-grader-list.sortDueDateColumn" class="sorting-header-column" bb-translate-attrs="{\'aria-label\': \'{{courseGradesGraderList.getAriaLabelString(\'dueDate\')}}\'}" role="button" tabindex="0">\n        <span bb-translate>components.directives.grade.course-grades-grader-list.headers.dueDate</span>\n        <bb-arrow-sort-indicator sortable="true" sort="courseGradesGraderList.getSortTypeValue(\'dueDate\')" class="sort-icon js-{{courseGradesGraderList.getSortTypeValue(\'dueDate\')}}-icon" />\n      </div>\n    </div>\n    <div class="columns hide-for-small-only medium-3 large-3">\n      <div ng-click="courseGradesGraderList.onClickSort(\'gradingStatus\')"\n           analytics-id="components.directives.grade.course-grades-grader-list.sortStatusColumn"\n           class="sorting-header-column" bb-translate-attrs="{\'aria-label\': \'{{courseGradesGraderList.getAriaLabelString(\'gradingStatus\')}}\'}" role="button" tabindex="0">\n        <span bb-translate>components.directives.grade.course-grades-grader-list.headers.progress</span>\n        <bb-arrow-sort-indicator sortable="true" sort="courseGradesGraderList.getSortTypeValue(\'gradingStatus\')" class="sort-icon" />\n      </div>\n    </div>\n    <div class="columns hide-for-small-only medium-3 large-3 end">\n      <div ng-click="courseGradesGraderList.onClickSort(\'post\')" analytics-id="components.directives.grade.course-grades-grader-list.sortPostColumn" class="sorting-header-column" bb-translate-attrs="{\'aria-label\': \'{{courseGradesGraderList.getAriaLabelString(\'post\')}}\'}" role="button" tabindex="0">\n        <span bb-translate>components.directives.grade.course-grades-grader-list.headers.post</span>\n        <bb-arrow-sort-indicator sortable="true" sort="courseGradesGraderList.getSortTypeValue(\'post\')" class="sort-icon" />\n      </div>\n    </div>\n  </div>\n\n  <div bb-mouse-leave-enter="course-gradebook">\n    <bb-add-content-button position-before="\'start\'" item-name="courseGradesGraderList.columns[0].columnName"\n                           context-area="courseGradesGraderList.contextArea"\n                           show-menu-override="!courseGradesGraderList.hasColumns"\n                           always-show="isFirst"\n                           show-add-attendance="attendanceIsAvailable() && !courseGradesGraderList.attendanceColumnExists"\n                           ng-if="courseGradesGraderList.contextArea && !course().isComplete() && courseGradesGraderList.canModify" bb-key-hide-ftue="grades.grader.course.column.add"></bb-add-content-button>\n    \x3c!-- set keep-guidance-when-focusout to be true then add bb-key-hide-ftue="grades.grader.course.column.add" on its preceding element --\x3e\n    <div bb-guidance-target component-key="grades.grader.course.column.add" keep-guidance-when-focusout="true" aria-describedby="guidance-moment-grade-add"></div>\n\n    <bb-guidance id="guidance-moment-grade-add" component-key="grades.grader.course.column.add"\n                 class="grades-list-guidance guidance-element-overlay" role="tooltip">\n      <bb-translate>components.directives.grade.course-grades-grader.ftue.add</bb-translate>\n    </bb-guidance>\n\n    <div class="grade-list-columns">\n      <div class="drag-element" ng-class="{\'no-hover\': (course().isComplete() || (column.isAttendance() && !attendanceIsAvailable)), \'last-tabular-row-container\': $last}"\n           ng-repeat="column in courseGradesGraderList.columns track by column.id" bb-content-item-mouseover>\n        <div bb-drop-handler on-move-handler="courseGradesGraderList.onMoveGraderItem" content="column"\n             next-content-id="courseGradesGraderList.columns[$index+1].id"\n             previous-content-id="courseGradesGraderList.columns[$index-1].id">\n\n          <bb-grader-column column="column"\n                            course="course()"\n                            is-course-view="true"\n                            category-map="courseGradesGraderList.categoryMap"\n                            attendance-column-exists="courseGradesGraderList.attendanceColumnExists"\n                            attendance-is-available="attendanceIsAvailable()">\n          </bb-grader-column>\n        </div>\n      </div>\n    </div>\n    <bb-setup-overall-grade ng-if="courseGradesGraderList.showSetupOverallGradeMessage && courseGradesGraderList.canModify"\n                            course-id="courseGradesGraderList.course.id"\n                            setup-overall-grade-hide-message-callback="courseGradesGraderList.setupOverallGradeHideMessageCallback()">\n    </bb-setup-overall-grade>\n  </div>\n</div>\n'},Et3n:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("D57K"),s=n("0JpG"),a=n("yC9S"),o=n("dL5/");const r="ultra.directives.group.group-count";let l=class{$onInit(){}isSelfEnrollment(){return!!(this.content.selfEnrollmentGroups&&this.content.selfEnrollmentGroups.length>0)&&this.content.selfEnrollmentGroups.some((e=>e.group&&!e.group.groupSetId))}};l=Object(i.a)([Object(a.a)({moduleName:r,componentName:"bbGroupCount",template:o,bindings:{content:"<"},requireModules:[s.moduleName]})],l)},F2PN:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("BY8f");const a="ultra.components.directives.bbUiIcon.large.Journal";Object(i.a)(s.a,a,"bbUiIconLargeJournal")},FBBZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"k",(function(){return g})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return f})),n.d(t,"h",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return k})),n.d(t,"o",(function(){return x})),n.d(t,"g",(function(){return S}));var i=n("nsO7"),s=n("Q/M7"),a=n("5MwF");const o=["xplor-connector"];function r(e){return s.c(a.a.partnerCloudBasePath+e)}function l(e){const t=e.baseUrl+"/ultra/features/course/partner-tool/partner-tool-return-page.html";return r("/launch/lti?returnUrl="+encodeURIComponent(t)+"&uri_uri="+encodeURIComponent("ACTION:cloudProvisioning")+"&content_id="+encodeURIComponent(e.parentId||"")+"&window=false&disclaimer=true&provider_id=CLOUD1&uri_scheme=ACTION&custom_error_url="+encodeURIComponent(t)+"&action=cloudProvisioning&uri_id="+(new Date).getTime().toString()+"&course_id="+encodeURIComponent(e.courseId||"")+"&public=true&ignore_partner_settings=false&target=_self")}function c(e){let t="/content"+(e.displayInIframe?"/ultra":"")+"?provider_id="+encodeURIComponent(e.partnerId)+"&course_id="+encodeURIComponent(e.courseId);return e.parentId&&(t+="&content_id="+encodeURIComponent(e.parentId)),e.position&&(t+="&position="+encodeURIComponent(e.position)),e.mode&&(t+="&mode="+encodeURIComponent(e.mode)),r(t)}function d(e){let t="/content/return?provider_id="+encodeURIComponent(e.providerId)+"&course_id="+encodeURIComponent(e.courseId)+"&content_id="+encodeURIComponent(e.contentId)+"&parentId="+encodeURIComponent(e.parentId)+"&position="+encodeURIComponent(e.position);return t+=e.itemIds?"&itemIds="+encodeURIComponent(e.itemIds):"&root=true",r(t)}function u(e){const t=e.baseUrl+"/webapps/blackboard/execute/blti/launchReturn";return r("/launch/lti?window=false&action=provisioning&ignore_partner_settings=false&uri_scheme=ACTION&target=_self&uri_id="+(new Date).getTime().toString()+"&uri_uri="+encodeURIComponent("ACTION:provisioning")+"&b2Uri="+encodeURIComponent("/webapps/partner-cloud/")+"&course_id="+encodeURIComponent(e.courseId)+"&content_id="+encodeURIComponent(e.parentId||"")+"&provider_id="+encodeURIComponent(e.partnerId)+"&returnUrl="+encodeURIComponent(t)+"&custom_error_url="+encodeURIComponent(t))}function m(e){return r("/course/tools?provider_id="+encodeURIComponent(e.partnerId)+"&course_id="+encodeURIComponent(e.courseId))}function p(e){return r("/gradeLink/grade?outcomeDefinitionId="+encodeURIComponent(e.gradableItemId)+"&linkRefId="+encodeURIComponent(e.linkId)+"&course_id="+encodeURIComponent(e.courseId)+"&attempt_id="+encodeURIComponent(e.attemptId)+"&courseMembershipId="+encodeURIComponent(e.membershipId)+"&cancelGradeUrl")}function h(e){return r("/diagnostics/ultra?provider_id="+encodeURIComponent(e.partnerId)+"&course_id="+encodeURIComponent(e.courseId)+"&ignore_partner_settings=false")}function g(e){return r("/contentRefresh/preview/ultra?provider_id="+encodeURIComponent(e.partnerId)+"&course_id="+encodeURIComponent(e.courseId)+"&ignore_partner_settings=false")}function b(e){return r("/gradeRefresh/preview/ultra?provider_id="+encodeURIComponent(e.partnerId)+"&course_id="+encodeURIComponent(e.courseId)+"&ignore_partner_settings=false")}function f(e){return r("/course/roster/ultra?provider_id="+encodeURIComponent(e.partnerId)+"&course_id="+encodeURIComponent(e.courseId)+"&ignore_partner_settings=false")}function v(e){return e?e&&e.toolProvider&&e.toolProvider.toolProviderProfile&&e.toolProvider.toolProviderProfile.name?e.toolProvider.toolProviderProfile.name:e&&e.portfolio&&e.portfolio.name?e.portfolio.name:e.providerId:""}function y(e,t){if(!e)return"";const n=t?e.iconUrl:e.associatedIconUrl;return n?s.l(n):""}function k(e){if(!e)return"";let t;return e.toolProvider&&e.toolProvider.toolProviderProfile&&(t=e.toolProvider.toolProviderProfile.description),t||""}function x(e){return e.toolProvider&&e.toolProvider.toolProviderProfile&&e.toolProvider.toolProviderProfile.internalProviderProfile&&e.toolProvider.toolProviderProfile.internalProviderProfile.pluginDescriptor&&i.includes(o,e.toolProvider.toolProviderProfile.internalProviderProfile.pluginDescriptor.handle)||!1}function S(e){const t=[];return Array.prototype.push.apply(t,e.premierList),Array.prototype.push.apply(t,e.signatureList),Array.prototype.push.apply(t,e.otherList),t.forEach((e=>{e.childProviders&&Array.prototype.push.apply(t,e.childProviders)})),i.keyBy(t,"providerId")}},"FE+f":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("Llzl"),s=n("0JpG"),a=n("TnpK");const o="ultra.course.description.router";i.module(o,[a.b,s.moduleName]).config([a.c,e=>{e.peekState("description",{url:"/description",resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/description/course-description")]},require:()=>n.e(155).then(n.bind(null,"8WQs")),pageTitle:"course.description.header"})}])},FH9J:function(e,t){e.exports='<div ng-switch="$ctrl.icon">\n  <bb-ui-icon-large-assignments ng-switch-when="assignment" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-assignments>\n  <bb-ui-icon-large-attendance ng-switch-when="attendance" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-attendance>\n  <bb-ui-icon-large-blog ng-switch-when="blog" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-blog>\n  <bb-ui-icon-large-calculation ng-switch-when="calculation" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-calculation>\n  <bb-ui-icon-large-discussion ng-switch-when="discussion" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-discussion>\n  <bb-ui-icon-large-document-blank ng-switch-when="document-blank" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-document-blank>\n  <bb-ui-icon-large-document-cloud ng-switch-when="document-cloud" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-document-cloud>\n  <bb-ui-icon-large-document-text ng-switch-when="document-text" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-document-text>\n  <bb-ui-icon-large-folder ng-switch-when="folder|folder-open" ng-switch-when-separator="|" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-folder>\n  <bb-ui-icon-large-homework ng-switch-when="homework" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-homework>\n  <bb-ui-icon-large-photo ng-switch-when="photo" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-photo>\n  <bb-ui-icon-large-journal ng-switch-when="journal" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-journal>\n  <bb-ui-icon-large-learning-module ng-switch-when="learning-module" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-learning-module>\n  <bb-ui-icon-large-link ng-switch-when="link" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-link>\n  <bb-ui-icon-large-lti ng-switch-when="lti" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-lti>\n  <bb-ui-icon-large-overall-grade ng-switch-when="overall-grade" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-overall-grade>\n  <bb-ui-icon-large-pdf ng-switch-when="pdf" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-pdf>\n  <bb-ui-icon-large-presentation ng-switch-when="presentation" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-presentation>\n  <bb-ui-icon-large-scormengine ng-switch-when="scormengine" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-scormengine>\n  <bb-ui-icon-large-spreadsheet ng-switch-when="spreadsheet" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-spreadsheet>\n  <bb-ui-icon-large-survey ng-switch-when="survey" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-survey>\n  <bb-ui-icon-large-test ng-switch-when="test|quiz|exam" ng-switch-when-separator="|" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-test>\n  <bb-ui-icon-large-textbook ng-switch-when="textbook" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-textbook>\n  <bb-ui-icon-large-video ng-switch-when="video" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-video>\n  <bb-ui-icon-large-audio ng-switch-when="audio" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-audio>\n  <bb-ui-icon-large-zip ng-switch-when="zip" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-zip>\n  <bb-ui-icon-large-collaborative-cloud ng-switch-when="collaborative-cloud" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-collaborative-cloud>\n  <bb-ui-icon-large-document-blank ng-switch-default color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-document-blank>\n</div>\n'},FHk9:function(e,t,n){"use strict";n.r(t),n.d(t,"EVENT_BBML_EDITOR_IS_UPDATED",(function(){return i})),n.d(t,"EVENT_BBML_EDITOR_FORCE_UPDATE",(function(){return s})),n.d(t,"EVENT_BBML_EDITOR_ID_GENERATED",(function(){return a})),n.d(t,"ReorderBlockEventInfo",(function(){return o}));const i="bbml-updated",s="bb-bbml-editor-force-bbml-update",a="bb-bbml-editor-id-generated";class o{}},FR7u:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));n("FwJ5");var i=n("Llzl");const s="ultra.components.directives.clickScrollTo";class a{constructor(){this.restrict="A",this.link=(t,n,i)=>{n.on("click",(()=>{e(i.bbClickScrollTo).scrollintoview({duration:500})})),t.$on("$destroy",(()=>{n.off()}))}}}i.module(s,[]).directive("bbClickScrollTo",["$injector",e=>e.instantiate(a)])}).call(this,n("71td"))},Fdwu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=/<!--[^\r\n]*?-->|<[^\r\n]*?>/g},FpRh:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("D57K"),s=n("yC9S"),a=n("aHpC"),o=n("t3aq");const r="ultra.directives.bbAllyContentRef";let l=class{constructor(e){this.$element=e}$postLink(){o.f.renderContentId(this.$element[0],{contentId:this.contentId,fileId:this.fileId,filePreviewUrl:this.filePreviewUrl})}$onDestroy(){o.f.destroyComponent(this.$element[0])}};l=Object(i.a)([Object(s.a)({module:angular.module(r,[]),componentName:"bbAllyContentRef",bindings:{contentId:"@",fileId:"@",filePreviewUrl:"@"}}),Object(i.c)(0,Object(a.b)("$element"))],l)},Fvsw:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f}));var i=n("nsO7"),s=n("Llzl"),a=n("Sa5G"),o=n("ZQFV"),r=n("jhBu"),l=n("fYJU"),c=n("Qbdf"),d=n("emI2"),u=n("X455"),m=n("pjml"),p=n("eUpQ"),h=n("VAMW"),g=n("6fZB");const b="ultra.service.context",f="context";var v;!function(e){e.Administrator="administrator",e.NonStudent="nonstudent",e.Student="student",e.ClassicNonStudent="classicnonstudent",e.ClassicStudent="classicstudent"}(v||(v={}));class y{constructor(e){this.service=e,this.key=h.d.Context}isTelemetryEnabled(){return Object(g.a)(this.service.isTelemetryEnabled())}}class k{constructor(e,t,n,s,o,r,l,c,d,u,m,p){this.$rootScope=e,this.$q=t,this.currentUser=n,this.EntitlementService=s,this.currentCourse=o,this.currentCourseMembership=r,this.preferenceService=l,this.BrandModel=c,this.SystemInfoModel=d,this.PrivacyPolicyModel=u,this.PredictFtueModel=m,this.ThemeModel=p,this.helpVariantOverride=null,this.predictInitialDefer=null,this.getHelpVariantDependencies=i.memoize((function(){return this.$q.all([this.EntitlementService.hasSystemEntitlement(a.s.ViewAdminTop),this.currentUser.getMemberships()])})),this.registerCourseContextDetection();this._course=new class{get model(){return o.course}get membership(){return r.courseMembership}},Object(h.f)(new y(this))}get course(){return{model:this.currentCourse.course,membership:this.currentCourseMembership.courseMembership}}get courseId(){return this.currentCourse.courseId}set courseId(e){this.currentCourse.load(e)}registerCourseContextDetection(){const e=this;this.$rootScope.$on(c.a,((t,n)=>{e.courseId=n.id}))}overrideHelpVariant(e){this.helpVariantOverride=e}guessHelpVariant(){const e=[];if(this.helpVariantOverride){const e=this.helpVariantOverride;return this.helpVariantOverride=null,this.$q.when([e])}return this.course&&this.course.membership&&!this.course.membership.isStudentOrGuestMembership()&&e.push(this.course.model.isClassic()?v.ClassicNonStudent:v.NonStudent),this.getHelpVariantDependencies().then((t=>{const n=t[0],s=t[1];if(n&&e.push(v.Administrator),this.course&&this.course.model)n&&e.push(this.course.model.isClassic()?v.ClassicNonStudent:v.NonStudent);else{let t=v.Student;s.some((e=>!e.isStudentOrGuestMembership()))&&(t=v.NonStudent),e.push(t)}return 0===e.length&&e.push(this.course&&this.course.model&&this.course.model.isClassic()?v.ClassicStudent:v.Student),i.uniq(e)}))}getSystemInfo(){return this.systemInfo||(this.systemInfo=window.__initialContext&&window.__initialContext.systemInfo?this.SystemInfoModel.$buildRaw(window.__initialContext.systemInfo):this.SystemInfoModel.$new().$fetch().$suppressErrorDialog()),this.systemInfo}getTheme(){return this.theme||(this.theme=this.ThemeModel.$new({themeId:this.getBrand().themeId}).$fetch()),this.theme}getServerTime(){return p.a.getServerTime()}getServerTimeAsEpochTime(){return p.a.getServerTimeAsEpochTime()}getPrivacyPolicyUrls(){return this.privacyPolicy||(this.privacyPolicy=this.PrivacyPolicyModel.$new().$fetch().$suppressErrorDialog()),this.privacyPolicy}getCourseId(){return this.currentCourse.courseId}getCurrentUserId(){return this.currentUser.userId}userHasGradebookModificationEntitlement(){const e=this.getCourseId();return e?this.EntitlementService.hasCourseEntitlement(o.q.ModifyGradebook,e).then((e=>e)):this.$q.when(!1)}getBrand(){return this.brand||(this.brand=window.__initialContext&&window.__initialContext.brand?this.BrandModel.$buildRaw(window.__initialContext.brand):this.BrandModel.getCurrent()),this.brand}getUiVersion(){return window.__initialContext&&window.__initialContext.uiVersion||""}getPreference(e,t){return this.preferenceService.getPreference(e,t)}getPredictPreference(e,t){const n=this.$q.defer(),i=!Object.keys(this.preferenceService.preferences).some((e=>e.indexOf(".predict.")>0));if(i){if(this.predictInitialDefer)return this.predictInitialDefer.promise.then((()=>{n.resolve(this.preferenceService.preferences[e])})),n.promise;this.predictInitialDefer=n,this.PredictFtueModel.getFtues().then((i=>{if(i){let s=null;i.forEach((t=>{this.preferenceService.preferences[t.key]=t,e===t.key&&(s=t)})),s?n.resolve(s):(this.preferenceService._addPreferenceToCache(e,t),n.resolve(this.preferenceService.preferences[e]))}else{if(void 0===t)return void n.reject(i);this.preferenceService._addPreferenceToCache(e,t),n.resolve(this.preferenceService.preferences[e])}}),(e=>{n.reject(e)}))}else Object.prototype.hasOwnProperty.call(this.preferenceService.preferences,e)||this.preferenceService._addPreferenceToCache(e,t),n.resolve(this.preferenceService.preferences[e]);return n.promise}getUltraConversionReportId(){return this.course.model.ultraConversionReportId}isTelemetryEnabled(){return this.getSystemInfo().$asPromise().then((e=>e.telemetryEnabled))}setPreference(e,t,n){return this.preferenceService.setPreference(e,t,n)}setPredictPreference(e,t,n){if(e.length>d.a)throw new Error("Preference key is too long!");return this.preferenceService._addPreferenceToCache(e,t,n),this.PredictFtueModel.setFtue(e)}}k.$inject=["$rootScope","$q",l.b,r.b,c.e,u.d,d.c,m.e.serviceName,m.pb.serviceName,m.jb.serviceName,m.bb.serviceName,m.Hb.serviceName];s.module(b,[m.N,l.a,r.a,c.b,u.a,d.b]).service(f,k)},GGEJ:function(e,t){e.exports='<div bb-load-bundle="components/directives/collab-session-icon" class="icon-shadow" ng-class="{\'is-running\': $ctrl.runningSessionFlag}">\n    <bb-svg-icon ng-if="$ctrl.runningSessionFlag" size="small" icon="collab" role="presentation" aria-hidden="true" status="active"></bb-svg-icon>\n    <bb-svg-icon ng-if="!$ctrl.runningSessionFlag" size="medium" icon="collab-session" role="presentation" aria-hidden="true"></bb-svg-icon>\n</div>'},GNXM:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("0JpG"),a=n("TnpK"),o=n("nmzr");const r="ultra.course.announcement.router";i.module(r,[s.moduleName,a.b]).config([a.c,e=>{e.peekState(o.a.ANNOUNCEMENTS_LIST,{url:"/announcement-list",require:()=>Promise.all([n.e(26),n.e(727)]).then(n.bind(null,"pp2P")),pageTitle:"course.outline.announcements.title",peekStates:[o.a.ANNOUNCEMENT_DETAIL],panelClass:"full"}).peekState(o.a.ANNOUNCEMENT_DETAIL,{url:"/announcement-detail?courseId&announcementId&mode",require:()=>Promise.all([n.e(26),n.e(643)]).then(n.bind(null,"Zozd")),pageTitle:"course.outline.announcements.title",panelClass:"full"})}])},GbAM:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var i=n("Llzl"),s=n("yC9S"),a=n("hlUp"),o=n("RPob"),r=n("ZzR9");const l="ultra.components.directives.accessibility.liveRegion",c="aria_live_polite",d="aria_live_assertive",u="#aria-live-polite-region-1",m="#aria-live-polite-region-2",p="#aria-live-assertive-region-1",h="#aria-live-assertive-region-2";class g{constructor(e,t,n){this.scope=e,this.element=t,this.attrs=n,o.d.readAssertive=e=>this.readAssertiveMessage(e),o.d.readPolite=e=>this.readPoliteMessage(e),s.b.OnRootScope(e,c,((e,t)=>{this.readPoliteMessage(t),this.isEnabled=!0})),s.b.OnRootScope(e,d,((e,t)=>{this.readAssertiveMessage(t),this.isEnabled=!0})),e.$on(r.a.$locationChangeSuccess,(()=>{this.isEnabled&&(this.cleanLiveRegion(),this.isEnabled=!1)}))}cleanLiveRegion(){const t=e(u),n=e(m),i=e(p),s=e(h);void 0!==t&&(t.empty(),n.empty(),i.empty(),s.empty())}readPoliteMessage(t){const n=e(u),i=e(m);this.readMessage(n,i,t)}readAssertiveMessage(t){const n=e(p),i=e(h);this.readMessage(n,i,t)}readMessage(e,t,n){""===e.text()?this.switchRegion(t,e,n):this.switchRegion(e,t,n)}switchRegion(e,t,n){e.empty(),e.attr("aria-hidden","true"),t.text(n),t.attr("aria-hidden","false")}}g.$inject=["scope","element","attrs"];class b{constructor(e,t){this.$injector=e,this.$compile=t,this.restrict="A",this.link=(e,t,n)=>{t.append(this.$compile(a)(e)),e.liveRegion=this.$injector.instantiate(g,{scope:e,element:t,attrs:n})}}}b.$inject=["$injector","$compile"],i.module(l,[]).directive("bbLiveRegion",["$injector",e=>e.instantiate(b)])}).call(this,n("71td"))},GgSu:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("D57K"),s=n("yC9S"),a=n("9SWV");const o="ultra.components.directives.overflow-menu.overflow-menu-icon";let r=class{};r=Object(i.a)([Object(s.a)({moduleName:o,componentName:"bbOverflowMenuIcon",template:a,bindings:{iconName:"@",status:"@"}})],r)},GiMb:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("KPeV");const a="ultra.components.directives.bbUiIcon.small.DownloadFile";Object(i.a)(s.a,a,"bbUiIconSmallDownloadFile")},GkCm:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-main-menu",use:"icon-small-main-menu-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-main-menu"><path d="M1 3h14M15 8H1M1 13h14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},GwhK:function(e,t){e.exports='<div class="typeahead-search" bb-click-outside="typeaheadSearchBox.onClickOutside()" is-active="true" bb-load-bundle="components/directives/typeahead">\n  <label for="typeahead-search-box-{{::typeaheadSearchBox.randomElementId}}">\n    <bb-svg-icon ng-if="::typeaheadSearchBox.icon" icon="{{::typeaheadSearchBox.icon}}" size="small" class="magnifying-glass"></bb-svg-icon>\n    <span ng-if="::typeaheadSearchBox.srLabel" class="sr-only" bb-translate="{{::typeaheadSearchBox.srLabel}}"></span>\n  </label>\n  <input aria-describedby="requiredPrompt" type="text" id="typeahead-search-box-{{::typeaheadSearchBox.randomElementId}}"\n         ng-model="typeaheadSearchBox.searchValue"\n         ng-model-options="{ debounce: 250 }"\n         role="combobox"\n         aria-activedescendant="typeahead-result-{{::typeaheadSearchBox.randomElementId}}-0"\n         aria-autocomplete="list"\n         aria-owns="typeahead-search-autocomplete"\n         name="typeaheadSearchBox"\n         autocomplete="off"\n         ng-keydown="typeaheadSearchBox.onInputBoxKeyDown($event)"\n         ng-click="typeaheadSearchBox.onInputBoxClick($event)"\n         ng-change="typeaheadSearchBox.onSearchValueChange()"\n         ng-focus="typeaheadSearchBox.onFocusInputBox($event)"\n         bb-translate-attrs="{\'placeholder\': \'{{typeaheadSearchBox.inputPlaceholder}}\'}"\n         class="truncated"\n         ng-class="{\'not-empty with-clear-btn\': typeaheadSearchBox.searchValue, \'empty\': !typeaheadSearchBox.searchValue,\n                    \'with-icon\': typeaheadSearchBox.icon, \'is-active\': typeaheadSearchBox.isFocus}"\n         analytics-id="components.directives.typeheadSearchBox.input.text"/>\n    <button class="typeahead-clear-button" bb-translate-attrs="{\'aria-label\': \'{{typeaheadSearchBox.clearAriaLabel}}\'}"\n            tabindex="0"\n            ng-show="typeaheadSearchBox.searchValue"\n            ng-click="typeaheadSearchBox.clear()"\n            ng-focus="typeaheadSearchBox.onFocusClearBtn($event)"\n            ng-blur="typeaheadSearchBox.onBlurClearBtn($event)"\n            analytics-id="components.directives.typeheadSearchBox.clearAriaLabel.button">\n      <bb-svg-icon size="small" icon="close"></bb-svg-icon>\n    </button>\n  <span id="requiredPrompt" class="sr-only" bb-translate="{{::typeaheadSearchBox.srEmptyResults}}"></span>\n  <div id="typeahead-search-autocomplete" class="typeahead-search-autocomplete adding"\n       ng-if="typeaheadSearchBox.showResults"\n       role="listbox"\n       tabindex="-1">\n    <div class="typeahead-search-entry" ng-repeat="item in typeaheadSearchBox.searchResults"\n         role="option"\n         tabindex="-1"\n         id="typeahead-result-{{::typeaheadSearchBox.randomElementId}}-{{$index}}"\n         ng-keydown="typeaheadSearchBox.onResultEntryKeyDown($event, item)"\n         ng-click="typeaheadSearchBox.onResultEntryClick($event, item)"\n         analytics-id="components.directives.typeheadSearchBox.onResultEntryClick">\n      <typeahead-inject></typeahead-inject>\n    </div>\n  </div>\n</div>'},"H+SH":function(e,t){e.exports='<bb-modal class="notification js-dismiss-modal" role="alertdialog" bb-translate-attrs="{\'aria-label\': \'course.outline.previewCourse.alert.modalTitle\'}"\n          modal-title-key="course.outline.previewCourse.alert.modalTitle"\n          analytics-id-tag-prefix="course.outline.previewCourse.alert">\n  <div name="modal-contents">\n    <bb-translate>course.conversion.statusBar.page-out-of-date</bb-translate>\n  </div>\n  <button name="modal-footer-button-primary" ng-click="$parent.$close(\'refresh\')" class="button js-primary-button" analytics-id="course.outline.previewCourse.alert.ok.button">\n    <span bb-translate="global.ok"></span>\n  </button>\n</bb-modal>'},"H/mg":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("ERkP"),a=n("1ZbL"),o=n("Dz4E");const r="ultra.components.directives.react-toolkit.contextual-menu";class l extends s.Component{render(){return this.props.show?s.createElement(o.ContextualMenu,{items:this.props.items,directionalHint:this.props.directionalHint,target:document.getElementById(this.props.targetId),onDismiss:this.props.dismiss,labelElementId:this.props.ariaLabelledby,analyticsId:this.props.analyticsId}):null}}const c={Class:l,bindingNames:["items","targetId","show","dismiss","directionalHint"],attributes:["ariaLabelledby","analyticsId"]};i.module(r,[]).component("bbUiContextualMenu",Object(a.a)(c))},H8CZ:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));function i(e,t){a(e,t,"webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}function s(e,t){a(e,t,"webkitAnimationEnd oanimationend oAnimationEnd msAnimationEnd animationend")}function a(e,t,n){if(!window.Modernizr.csstransitions)return t({data:{noTransitions:!0}});const i=function(s){let a;s.data||(s.data={});try{a=t(s)}finally{void 0===a&&e.off(n,i)}};e.on(n,i)}},HAJP:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));const i="external.script.loader",s="externalScriptLoader";class a{constructor(e){this.$q=e,this.scripts={}}_createScriptElement(){return document.createElement("script")}_appendScriptElement(e){document.head.appendChild(e)}_getWindowProperty(e){return window[e]}getScript(e,t={}){if(this.scripts[e])return this.scripts[e];const n=this.$q.defer();try{this.scripts[e]=n.promise;const i=(e.indexOf("?")>=0?"&":"?")+"_"+Date.now(),s=this._createScriptElement();if(s.type="text/javascript",s.src=e+i,t.attributes)for(const e of Object.keys(t.attributes))s.setAttribute(e,t.attributes[e]);const a=this;s.onload=function(){t.exports?n.resolve(a._getWindowProperty(t.exports)):n.resolve()},s.onerror=function(){n.reject(new Error(`error loading script: ${e}`))},this._appendScriptElement(s)}catch(e){n.reject(e)}return n.promise}}a.$inject=["$q"];angular.module(i,[]).service(s,a)},HDxW:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("Llzl"),s=n("5MwF"),a=n("k9iv"),o=n("Q/M7"),r=n("IbyE");const l="ultra.service.errorHandler",c="errorHandler",d=e=>()=>{let t,n;const i=e.connect((e=>({})),r.X.app)(((e,i)=>{n=e,t=i}));try{t&&t.clearError&&t.clearError()}finally{i()}},u=(e,t,n,i,a)=>r=>{if(r&&r.$response)if(401===r.$response.status){const n=e.get("$location").url(),i=n?"/?new_loc="+encodeURIComponent(s.a.basePath+n):"/";t.location.href=o.c(i)}else 403===r.$response.status?a.handleApiError(r.$response,(()=>{n.$broadcast("no-permission-course"),d(i)()})):-2===r.$response.status?"undefined"!=typeof NREUM&&NREUM.noticeError(r.$response.data):a.handleApiError(r.$response,d(i))};i.module(l,[]).factory(c,["$injector",e=>{const t=t=>e.invoke(["$injector","$window","$rootScope","$ngRedux",a.c,u])(t);return{handle:t,subscribe:()=>e.invoke(["$ngRedux",e=>(e=>t=>{let n;return e.subscribe((()=>{const i=r.gc.app.getAppError(e.getState());if(i&&n!==i){const e={status:"api"===i.type?i.status:-2,data:i.originalException};t({$response:e})}n=i}))})(e)(t)])}}])},HE6t:function(e,t){e.exports='<div ng-if="$ctrl.isInitialized && $ctrl.isPeerGrading" class="content-item-peer-assessment">\n  <div ng-if="$ctrl.isPeerGradingConfigured" class="peer-review-due-date">\n    <bb-svg-icon size="small" icon="peer-review"></bb-svg-icon>\n    <span bb-translate class="content-peer-review-due-date-label"\n          translate-values="{ peerReviewsNumber: $ctrl.peerReviewsPerStudent, datetime: $ctrl.peerReviewDueDate }">\n        components.directives.content-item-base.peer-review-due-date\n      </span>\n    <div ng-if="::$ctrl.contextCourseMembership.isStudentMembership()" class="tooltip-container">\n      <bb-ui-content-item-peer-assessment-tooltip tooltip-title="::$ctrl.getTooltipMessage()">\n      </bb-ui-content-item-peer-assessment-tooltip>\n    </div>\n  </div>\n</div>\n'},Hbkz:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("JzsJ");var i=n("Llzl"),s=n("0JpG"),a=n("bF8R"),o=n("g7Mf"),r=n("pjml"),l=n("TnpK"),c=n("Qbdf"),d=n("nmzr");const u="ultra.course.content.conversations.routes";i.module(u,[s.moduleName,l.b,c.b]).config([l.c,c.c,(e,t)=>{e.peekState("conversations",{url:"/conversations/:contentId/:courseId?groupId",resolve:{[c.d]:t.resolve,content:[c.d,a.b,l.d,r.m.serviceName,(e,t,n,i)=>i.$new(e.id).contents.$find(n.nextParams.contentId,{expand:"assignedGroups"}).$asPromise()],translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/course-content"),t.loadBundle("common/user-common")])],currentCourseMemberships:"^courseMembershipsLoader",discussionInit:[o.c,"currentCourseMemberships",(e,t)=>e.init(t).then((()=>e.loadHardContent(!0)))]},onExit:[o.c,e=>{e.destroy()}],require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(36),n.e(52),n.e(61),n.e(74),n.e(645)]).then(n.bind(null,"FFqm")),pageTitle:"course.content.classConversations",peekViewName:"conversations-peek",panelClass:"full",allowChildPeekStates:!0,peekStates:[d.o.COURSE_MESSAGE,d.o.COURSE_DISCUSSION_PARTICIPANTS,d.o.COURSE_LTI,d.o.COURSE_CONTENT_MARKET]})}])},Hj9i:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("uDfI"),s=n("ERkP"),a=n("IbyE");const o=e=>{const t=Object(i.d)();Object(s.useEffect)((()=>{t(a.X.userPreference.loadUserPreference({key:e}))}),[e,t]);const n=Object(i.e)((e=>a.gc.userPreference.isUserPreferenceLoading(e))),o=Object(i.e)((t=>{const n=a.gc.userPreference.getUserPreferenceByKey(t,e);return n?Number.parseInt(n.value,10):0})),r=Object(s.useCallback)((()=>{t(a.X.userPreference.persistUserPreference({key:e,value:(o+1).toString()}))}),[e,o,t]);return[!o&&!n,r]}},HjsN:function(e,t,n){"use strict";var i=n("D57K"),s=n("dCrD"),a=n("Oyr+"),o=n("aHpC");n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));const r="allCloudUploadsCompleteEvent";let l=class extends s.a{constructor(e,t,n){super(e,t,n),this.cloudUploadPromises=[],this.onFilesSelectedHandler=e=>{const t=[];e.forEach((e=>{const n={id:e.id,deferred:this.$q.defer()};t.push(n.deferred),this.cloudUploadPromises.push(n)})),this.$q.all(t.map((e=>e.promise))).then((()=>{this.scope.$emit(r)}),(e=>{this.scope.$emit(r,e)}))},this.resolveFileUploadDeferred=(e,t)=>{const n=this.cloudUploadPromises.findIndex((t=>t.id===e));return n>=0&&(t?this.cloudUploadPromises[n].deferred.reject(t):this.cloudUploadPromises[n].deferred.resolve(),this.cloudUploadPromises.splice(n,1),!0)},this.cloudUploadAttachHandler=(e,t,n,i)=>{const s=this.scope.attachHandler||this.defaultAttachHandler,a=this.$q.defer();return s(e,t,n,i).then((()=>{this.resolveFileUploadDeferred(t.ui.fileId)&&a.resolve()})),a.promise},t.$on(a.e,((e,t,n,i,s)=>{i===a.c.Error?this.resolveFileUploadDeferred(t,"failed"):i===a.c.Cancel&&this.resolveFileUploadDeferred(t)}))}};l.$inject=[],l=Object(i.a)([Object(i.c)(0,Object(o.b)("$injector")),Object(i.c)(1,Object(o.b)("scope")),Object(i.c)(2,Object(o.b)("element"))],l)},HtY7:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Llzl"),s=n("lEL+");const a="ultra.components.directives.click";class o{constructor(e){this.timeout=e,this.restrict="A",this.link=(e,t,n)=>{void 0===n.bbClickTimeout&&(n.bbClickTimeout=0);let i=0;const s=()=>{let t;"true"===n.bbClickOnceDisable?t=e.$eval(n.bbClick):(i+=1,i<=1&&(t=e.$eval(n.bbClick))),null!=t&&void 0!==t&&t.finally((()=>{this.timeout((function(){i=0}),e,n.bbClickTimeout)}))};e.$on("$destroy",(function(){t.off("click",s)})),t.on("click",s)}}}o.$inject=[s.b],i.module(a,[s.a]).directive("bbClick",["$injector",e=>e.instantiate(o)])},Htol:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));const i="update-state",s="course-outline.refresh-folder"},HwkA:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-custom-toggle-table",use:"icon-custom-toggle-table-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="icon-custom-toggle-table"><path fill="none" stroke-width="2" stroke-miterlimit="10" d="M0 1h12M0 6h12M0 11h12" /></symbol>'});s.add(a);e.exports=a},IMr6:function(e,t){e.exports='<svg id="icon-large-avatar-multiple" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><g fill="none"  stroke-miterlimit="10"><path d="M37.685 17.545C37.976 12.214 41.593 8 46.012 8c4.609 0 8.345 4.583 8.345 10.237s-3.737 10.237-8.345 10.237c-1.683 0-3.25-.612-4.562-1.663"/><path d="M44.685 44.789h11.676C57.996 42.569 59 39.838 59 36.846c0-5.068-2.81-9.419-6.894-11.656M18.949 26.469c-1.387 1.26-3.103 2.005-4.962 2.005-4.609 0-8.345-4.583-8.345-10.237S9.379 8 13.987 8c4.39 0 7.988 4.158 8.32 9.438"/><path d="M7.894 25.191C3.81 27.428 1 31.779 1 36.847c0 2.992 1.004 5.722 2.639 7.943H15.27"/><g><ellipse cx="30" cy="27.514" rx="11.266" ry="13.223"/><path d="M19.619 32.661c-2.532 3.407-4.644 8.708-4.644 13.758 0 2.317.343 4.528.942 6.581h28.167c.599-2.054.942-4.264.942-6.581 0-5.09-2.075-10.343-4.644-13.758"/></g></g></svg>'},IVCC:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("Llzl"),s=n("0JpG"),a=n("w9Zy"),o=n("pjml"),r=n("fYJU"),l=n("TnpK"),c=n("ZBYA"),d=n("aohr");const u="ultra.predict.routes";i.module(u,[s.moduleName,a.d,o.N,r.a,l.b,c.a]).config([l.c,e=>{var t;e.baseState("predictBase",{abstract:!0,require:()=>Promise.all([n.e(27),n.e(651)]).then(n.bind(null,"xID3")),resolve:(t=["components/directives/telemetry/telemetry","components/services/telemetry-chart","features/predict/predict","features/locations","features/course/course","global"],{user:[r.b,e=>e.userModel.$asPromise()],localize:["$q","$rootScope","user","$window",s.serviceName,c.b,(e,n,i,a,o,r)=>{r.getInstitutionPreference(d.a.OverrideLanguagePack).then((r=>{let l=r.value||i.locale||"en";const c=a.location.href.match(s.localeQuerystringRegex);c&&(l=c[1]),l=o.validateLocale(l)?l:"en",o.setUserLocale(l);const d=[o.setLocale(n,l),...t.map((e=>o.loadBundle(e)))];return e.all(d)}))}]})}).baseState("predictBase.predictAdvisorStudents",{url:"/predict/advisor/students?customFields&resetFTUE",require:()=>Promise.all([n.e(28),n.e(45),n.e(81),n.e(129),n.e(555)]).then(n.bind(null,"NKO4")),pageTitle:"predict.advisor.title",peekStates:["predictAdvisorStudentsFilter","predictMessagingPanel","predictAdvisorStudentProfilePanel","predictCourseStudentPanel"]}).baseState("predictBase.predictCourseBase",{url:"/predict/courses/:courseId",require:()=>Promise.all([n.e(24),n.e(28),n.e(126),n.e(652)]).then(n.bind(null,"j0gv")),pageTitle:"predict.course.title"}).baseState("predictBase.predictCourseStudentBase",{url:"/predict/instructor/students/:studentId/course/:courseId",require:()=>Promise.all([n.e(24),n.e(34),n.e(28),n.e(32),n.e(45),n.e(69),n.e(653)]).then(n.bind(null,"PPqB")),peekStates:["predictMessagingPanel"],pageTitle:"predict.instructor.title"}).peekState("predictAdvisorStudentProfilePanel",{url:"/profile/:studentId",require:()=>Promise.all([n.e(28),n.e(45),n.e(72),n.e(128),n.e(640)]).then(n.bind(null,"W7NY")),panelClass:"full",peekStates:["predictMessagingPanel","predictCourseStudentPanel","predictFavoritesPanel","predictAdvisorStudentProfilePanel.course-performance","predictAdvisorStudentProfilePanel.advisor-notes","predictAdvisorStudentProfilePanel.interests"],pageTitle:"predict.advisor.student-profile.title"}).peekState("predictAdvisorStudentProfilePanel.course-performance",{url:"/outline",views:{"student-details-tabs-content@":{require:()=>Promise.all([n.e(28),n.e(72),n.e(670)]).then(n.bind(null,"fQnU"))}},peekStates:["predictCourseStudentPanel","predictMessagingPanel"],panelClass:"full",pageTitle:"predict.advisor.student-profile.title"}).peekState("predictAdvisorStudentProfilePanel.advisor-notes",{url:"/notes-contributors",views:{"student-details-tabs-content@":{require:()=>Promise.all([n.e(28),n.e(45),n.e(72),n.e(128),n.e(725)]).then(n.bind(null,"kgDa"))}},peekStates:["predictMessagingPanel"],panelClass:"full",pageTitle:"predict.advisor.student-profile.title"}).peekState("predictAdvisorStudentProfilePanel.interests",{url:"/interests",views:{"student-details-tabs-content@":{require:()=>n.e(575).then(n.bind(null,"clqd"))}},peekStates:["predictFavoritesPanel","predictMessagingPanel"],panelClass:"full",pageTitle:"predict.advisor.student-profile.title"}).peekState("predictCourseStudentPanel",{url:"/courses/:courseId/students/:studentId",require:()=>Promise.all([n.e(24),n.e(34),n.e(28),n.e(32),n.e(45),n.e(69),n.e(699)]).then(n.bind(null,"Wwzz")),panelClass:"full",peekStates:["predictMessagingPanel"],pageTitle:"predict.instructor.title"}).peekState("predictAdvisorStudentsFilter",{url:"/filter",require:()=>Promise.all([n.e(28),n.e(129),n.e(698)]).then(n.bind(null,"TRcT")),panelClass:"peek",pageTitle:"predict.advisor.title"}).peekState("predictMessagingPanel",{url:"/messagingPanel?messageStudentId&messageCourseId&messageType&messageLaunchOrigin",require:()=>Promise.all([n.e(28),n.e(573)]).then(n.bind(null,"G6j8")),panelClass:"peek",pageTitle:"predict.messagingPanel.title"}).peekState("predictFavoritesPanel",{url:"/favorites/:favoriteId?favoriteCategory?city&state&region&country",require:()=>n.e(608).then(n.bind(null,"pI+d")),panelClass:"peek",pageTitle:"predict.favoritesPanel.title"})}])},IVtk:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("Q/M7"),s=n("Y+9S");function a(e){const t=i.c(e);i.p(t)}function o(e){const{action:t,courseId:n,contentId:i,attemptId:o,columnId:r}=e.nextParams,l=r||"";switch(t){case s.d.OpenDocument:a(`ultra/courses/${n}/outline/edit/document/${i}?courseId=${n}`);break;case s.d.OpenAttempt:a(`ultra/courses/${n}/outline/assessment/${i}/overview/attempt/${o}?courseId=${n}`);break;case s.d.ReviewAttempt:a(`ultra/courses/${n}/outline/assessment/${i}/overview/attempt/${o}/review?courseId=${n}&columnId=${r}&contentId=${i}`);break;case s.d.ReviewFeedback:a(`ultra/courses/${n}/outline/assessment/${i}/overview/attempt/${o}/review/inline-feedback?attemptId=${o}&mode=inline&courseId=${n}&contentId=${i}`);break;case s.d.PreviewAssessment:a(`ultra/courses/${n}/outline/assessment/test/${i}?courseId=${n}&gradeitemView=details`);break;case s.d.CollabRecordingPreview:a(`ultra/courses/${n}/outline/collab/launchRecordings`);break;case s.d.CollabManageSession:a(`ultra/courses/${n}/outline/collab/launchSessions`);break;case s.d.OpenCourse:a(`ultra/courses/${n}/outline`);break;case s.d.OpenDiscussion:a(`ultra/courses/${n}/engagement/discussion/${i}?view=discussions&courseId=${n}`);break;case s.d.OpenGroupDiscussion:a(`ultra/courses/${n}/outline/discussion/${i}?view=discussions&disGroupId=${o}&courseId=${n}`);break;case s.d.OpenJournal:a(`ultra/courses/${n}/outline/journal/${i}?view=journal&courseId=${n}`);break;case s.d.OpenAssessment:a(`ultra/courses/${n}/outline/assessment/${i}/overview?courseId=${n}`);break;case s.d.OpenAssessmentInstView:a(`ultra/courses/${n}/outline/assessment/test/${i}?courseId=${n}&gradeitemView=details`);break;case s.d.OpenAdminAnnouncement:a(`ultra/stream/announcement/${i}`);break;case s.d.OpenCourseAnnouncement:a(`ultra/courses/${n}/outline/announcement-list/announcement-detail?courseId=${n}&announcementId=${i}`);break;case s.d.OpenCourseMessage:a(`ultra/courses/${n}/messages/edit/${i}?courseId=${n}&offset=0&count=1`);break;case s.d.OpenGradeBook:a(`ultra/courses/${n}/grades`);break;case s.d.OpenCalendar:a(`ultra/courses/${n}/calendar`);break;case s.d.OpenGradedSCORM:a(`ultra/courses/${n}/outline/scorm/overview/${i}?courseId=${n}`);break;case s.d.OpenInstViewGradedSCORM:a(`ultra/courses/${n}/outline/scorm/${i}/columns/${l}/submissions?courseId=${n}&gradeitemView=students`);break;case s.d.OpenTimeline:a("ultra/course");break;case s.d.OpenPersonalEvent:a(`ultra/stream/event/edit/PERSONAL/blackboard.data.calendar.CalendarEntry/${i}`);break;case s.d.OpenCalendarEvent:a(`ultra/stream/event/edit/${n}/blackboard.data.calendar.CalendarEntry/${i}`);break;case s.d.OpenTools:a("ultra/tools");break;case s.d.OpenCreateMessages:a(`ultra/messages/create?courseId=${n}`);break;case s.d.OpenCourseMessagesList:a(`ultra/courses/${n}/messages`);break;case s.d.OpenInstitutionPage:a("ultra/institution-page");break;case s.d.OpenAdminInstitutionPage:a("ultra/institution-page/admin/default");break;case s.d.OpenJournalParticipantsGrades:a(`ultra/grades/journal/${i}?view=participants&limit=25&page=1&submissionStatus=all&courseId=${n}`);break;case s.d.OpenViewGradesOfflinePage:a(`ultra/grades/offline-grades/${i}?courseId=${n}&gradeitemView=students`);break;case s.d.OpenViewGradesAssessmentsPage:a(`ultra/grades/assessment/test/${i}?courseId=${n}&gradeitemView=students`);break;case s.d.OpenScormGradesPage:a(`ultra/grades/scorm/${i}/columns/${r}/submissions?courseId=${n}&gradeitemView=students`);break;case s.d.OpenDiscussionGradePage:a(`ultra/grades/discussion/${i}?view=participants&courseId=${n}`);break;case s.d.OpenAttendancePage:a(`ultra/grades/attendance?courseId=${n}`);break;case s.d.OpenCalendarAssessmentPage:a(`ultra/calendar/assessment/test/${i}?courseId=${n}&gradeitemView=details`);break;case s.d.OpenCalendarDiscussionPage:a(`ultra/calendar/discussion/${i}?view=discussions&courseId=${n}`);break;case s.d.OpenCalendarJournalPage:a(`ultra/calendar/journal/${i}?view=journal&courseId=${n}`);break;case s.d.OpenCalendarScormPage:a(`ultra/calendar/scorm/${i}/columns/${r}/submissions?courseId=${n}&gradeitemView=students`);break;case s.d.OpenStudentCalendarAssessmentPage:a(`ultra/calendar/assessment/${i}/overview?courseId=${n}`);break;case s.d.OpenStudentCalendarScormPage:a(`ultra/calendar/scorm/overview/${i}?courseId=${n}`);break;case s.d.OpenStudentDiscusssionPage:a(`ultra/courses/${n}}/outline/discussion/${i}?view=discussions&courseId=${n}`);break;default:e.go("base.not-found")}}},IWgv:function(e,t,n){"use strict";var i=n("Llzl"),s=n("pjml"),a=n("0JpG"),o=n("mCEN"),r=n("bMxM"),l=n("TnpK"),c=n("66CP"),d=n("Q/M7"),u=n("IbyE");n.d(t,"a",(function(){return m}));const m="ultra.components.directives.content.contentItemIcon";class p{constructor(e,t,n,i,a,o,r){this.scope=e,this.$q=t,this.element=n,this.bbLocalize=i,this.contentIconService=a,this.ColumnModel=o,this.$state=r,this.iconName="document-blank",this.iconNameForLocalization="document-blank";let l,c=[];const m=s.p.ContentHandler,p=e.$watch((()=>e.contentColumn),(()=>{var t,n,i,s,a,r;const h=e.bbContentItemIcon&&e.bbContentItemIcon.contentHandler&&e.bbContentItemIcon.contentHandler.toString();if(h)switch(this.contentIconService.matchLtiPlacementHandler(h)){case m.LtiLink.toString():(null===(n=null===(t=this.scope.bbContentItemIcon.contentDetail)||void 0===t?void 0:t["resource/x-bb-blti-link"])||void 0===n?void 0:n.customIconUrl)&&(this.customLtiIcon=d.c(this.scope.bbContentItemIcon.contentDetail["resource/x-bb-blti-link"].customIconUrl)),l="bbContentItemIcon",c=["showAlertIcon"];break;case m.CourseLink.toString():if(e.bbContentItemIcon.contentDetail){const t=this.scope.$watch((()=>e.bbContentItemIcon.id),(n=>{n&&(e.bbContentItemIcon.getLinkContentSource().$then((e=>{this.contentIconService.getIconClass(e).then((e=>{e&&(this.iconName=this.contentIconService.getIconName(e),this.iconNameForLocalization=this.contentIconService.getIconNameForLocalization(this.iconName))}))})),t())}))}else this.iconName=this.contentIconService.getIconName(e.bbContentItemIcon.getContentHandlerByIconUrl().iconClass),this.iconNameForLocalization=this.contentIconService.getIconNameForLocalization(this.iconName);break;case m.RusticiScorm.toString():l="bbContentItemIcon",c=[`${l}.contentDetail['${h}'].gradebookItems[0].gradingColumn.gradebookCategory.id`];break;case m.LtiPlacement.toString():this.customLtiIcon=d.c(null===(a=null===(s=null===(i=this.scope.bbContentItemIcon)||void 0===i?void 0:i.contentDetail)||void 0===s?void 0:s[`${h}`].placement)||void 0===a?void 0:a.iconUrl),l="bbContentItemIcon",c=["showAlertIcon"];break;default:l="bbContentItemIcon",c=[l+".contentHandler",l+".ui.isOpen",l+".contentDetail['"+m.File.toString()+"'].file.mimeType",l+".contentDetail['"+m.TestLink.toString()+"'].test.gradingColumn.gradebookCategory.id",l+".contentDetail['"+m.TestLink.toString()+"'].assignment.gradingColumn.gradebookCategory.id"]}else e.contentColumn&&((null===(r=e.contentColumn.gradableItemIconUrl)||void 0===r?void 0:r.includes("public/blti_icons"))&&(this.customLtiIcon=d.c(e.contentColumn.gradableItemIconUrl)),l="contentColumn",c=[l+".scoreProviderHandle",l+".calculationType",l+".externalGrade",l+".visible",l+".summary.numStudentsGraded()",l+".summary.numStudentSubmissions()",l+".categoryTitle",l+".dueDate"]);const g=e.$watchGroup(c,(()=>{const t=e[l];if(t){let e;e=t instanceof this.ColumnModel?this.contentIconService.getColumnIconClass(t):this.contentIconService.getIconClass(t),e.then((e=>{e&&(this.iconName=this.contentIconService.getIconName(e),this.iconNameForLocalization=this.contentIconService.getIconNameForLocalization(this.iconName));const n=m.Folder.isEqualTo(t.contentHandler),i=m.Unknown.isEqualTo(t.contentHandler),s=m.File.isEqualTo(t.contentHandler),a=m.LtiLink.isEqualTo(t.contentHandler),r=u.D.isLtiPlacement(t.contentHandler),l=m.RusticiScorm.isEqualTo(t.contentHandler),c=m.TestLink.isEqualTo(t.contentHandler);n||i||t instanceof o||s||a||r||l||c||g(),p()}))}}))}))}get iconColor(){return this.scope.showAlertIcon?"error":"primary"}}p.$inject=["scope","$q","element",a.serviceName,r.b,s.C.serviceName,l.d];class h{constructor(e){this.$injector=e,this.restrict="A",this.template=c,this.scope={bbContentItemIcon:"=",contentColumn:"=",showAlertIcon:"="},this.link=(e,t)=>{e.contentItemIcon=this.$injector.instantiate(p,{scope:e,element:t})}}}h.$inject=["$injector"],i.module(m,[o.a,r.a,l.b]).directive("bbContentItemIcon",["$injector",e=>e.instantiate(h)])},IgL1:function(e,t){e.exports='<button bb-complex-tooltip=""\n  enhanced-tooltip="true"\n  tooltip-position="top-center"\n  tooltip-disable-on-mouse-over="false"\n  tooltip-enable-on-mouse-leave-for-all-breakpoints="true"\n  tooltip-enable-on-mouse-over-for-all-breakpoints="true"\n  tooltip-scope="buttonComplexTooltip.$scope"\n  tooltip-template="{{ buttonComplexTooltip.getToolTipTemplate() }}"\n  tooltip-open-on-activation="true"\n  tooltip-auto-update="true"\n  tooltip-always-underline="false"\n  analytics-id="components.directives.content-item-base.conditionalRelease.date.link"\n  tooltip-center-content="true"\n  title="components.directives.grade.grader-column.statuses.restricted">\n  <bb-svg-icon size="small" icon="information" status="default"></bb-svg-icon>\n</button>\n'},Igru:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-invisible",use:"icon-small-invisible-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-invisible"><path d="M8 3C4.6406 3 1 8 1 8s3.6406 5 7 5 7-5 7-5-3.6406-5-7-5zM1 13L15 3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="8" cy="8" r="1" stroke-width="2" /></symbol>'});s.add(a);e.exports=a},"Ij+l":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("71td"),s=n("nsO7"),a=n("Llzl"),o=n("yC9S"),r=n("lmMM"),l=n("nYZ0"),c=n("Qbdf"),d=n("Bu0u"),u=n("pjml"),m=n("lEL+"),p=n("TnpK"),h=n("W6wm"),g=n("AuQm"),b=n("k5nV");const f="ultra.components.directives.delete";class v{constructor(e,t,n,i,s,a,o,r,l){this.$q=e,this.scope=t,this.element=n,this.attrs=i,this.ultraState=s,this.courseModel=a,this.contextCourse=o,this.ContentService=r,this.timeout=l,this.isDeleteDisabled=!1,this.focusedElement=null,t.$watch("contentId",((e,t)=>{e!==t&&this.initialize()})),this.initialize()}initialize(){this.scope.unregisterAutoSave=s.once(this.scope.$root.$on("bb-autosave-form",((e,t,n)=>{if(g.d.Saving===t){const e=i(document.activeElement);e&&e.length&&(this.focusedElement=e[0]),this.scope.savingInProgress=!0}else this.scope.savingInProgress=!1,this.timeout((()=>{this.focusedElement&&(this.focusedElement.focus(),this.focusedElement=null)}),this.scope,0)}))),this.scope.$on("$destroy",this.scope.unregisterAutoSave),this.scope.parent=this.scope.$parent,o.b.OnRootScope(this.scope,"disable-delete",(e=>{this.isDeleteDisabled=!0})),o.b.OnRootScope(this.scope,"enable-delete",(e=>{this.isDeleteDisabled=!1}));const e=this.contextCourse.courseId||this.scope.courseId&&this.scope.courseId();let t;if(e&&(t=this.courseModel.$new(e)),this.scope.contentId&&!e)throw new d.a({message:"A courseId must be provided when contentId is used"});if(this.requiredArgumentsSupplied=!0,this.scope.attrTranslateKey="components.directives.delete.control-delete-label",this.attrs.confirmationHandler&&(this.modalShowType="always",this.scope.attrTranslateKey="components.directives.delete.handlers."+this.attrs.confirmationHandler.replace("resource/","")),!this.scope.content||null!=this.scope.contentId&&this.scope.contentId!==this.scope.content.$pk){if(this.scope.contentId)this.contentPromise=t.contents.$new(this.scope.contentId).$fetch().$asPromise();else if(!this.attrs.deleteFunction||!this.attrs.confirmationHandler)throw this.requiredArgumentsSupplied=!1,new d.a({message:"a content object, a contentId string, or a confirmationHandler and deleteFunction must be provided."})}else this.contentPromise=this.scope.content&&this.scope.content.$asPromise&&this.scope.content.$asPromise()||this.$q.when(this.scope.content);this.contentPromise&&this.contentPromise.then((e=>{this.scope.content=e,this.scope.content.contentHandler&&!this.scope.attrTranslateKey&&(this.scope.attrTranslateKey="components.directives.delete.handlers."+this.scope.content.contentHandler.toString().replace("resource/",""))}))}getConfirmationKeyAndShowType(){return this.$q.when(this.contentPromise).then((()=>{if(this.scope.content&&this.scope.content.$resolve(),this.attrs.confirmationHandler)return this.$q.when({confirmationKey:this.attrs.confirmationHandler,showType:this.modalShowType});let e;return this.ultraState.includes("**.outline.**")?e=h.a.CourseOutline:this.ultraState.includes("**.engagement.**")&&(e=h.a.Discussions),this.scope.content.$asPromise().then((t=>this.ContentService.generateDeleteConfirmationKey(t,e,this.contextCourse.course.isOrganization).then((e=>({confirmationKey:e.ui.deleteConfirmationKey,showType:e.ui.modalShowType})))))}))}deleteElement(){this.attrs.deleteFunction?(this.scope.deleteFunction(),this.scope.unregisterAutoSave()):this.ContentService.deleteContent(this.scope.content).then((()=>{this.scope.parent.contentCreateItem&&(this.scope.parent.contentCreateItem.confirmCancellation=!1),this.scope.unregisterAutoSave(),this.attrs.callbackFunction?this.scope.callbackFunction():this.ultraState.leavePeekState(this.ultraState.current.name)}))}}v.$inject=["$q","scope","element","attrs",p.d,u.m.serviceName,c.e,l.f,m.b];class y{constructor(e){this.$injector=e,this.restrict="E",this.template=b,this.scope={content:"=?",contentId:"=?",courseId:"&?",deleteFunction:"&?",callbackFunction:"&?",displayMode:"@?",extraClass:"@?",choices:"=?"},this.link=(e,t,n)=>{e.delete=this.$injector.instantiate(v,{scope:e,element:t,attrs:n})}}}y.$inject=["$injector",p.d],a.module(f,[c.b,l.d,r.d,u.N,p.b]).directive("bbDelete",["$injector",e=>e.instantiate(y)])},"In+A":function(e,t,n){"use strict";const i=50,s={};function a(e){let t=e.priority||i;t<0&&(t=i),s[e.name]=t}function o(e,t){let n=e.priority||s[e.componentType]||i;n<0&&(n=i);let a=t.priority||s[t.componentType]||i;return a<0&&(a=i),n-a}class r{constructor(e,t,n,i,s,a,o,r){this.element=e,this.componentType=t,this.componentKey=n,this.manager=i,this.helper=s,this.connector=a,this.priority=o,this.isInitialHide=r,this.display=window.getComputedStyle(e,null).display,e.style.display="none",this.isShown=!1}get shown(){return this.isShown}set shown(e){this.isShown=e,this.shownChangedCallback&&this.shownChangedCallback(e)}onShownChanged(e){this.shownChangedCallback=e}registerToManager(){this.shown=!1,this.manager.registerComponent(this)}deregisterFromManager(){this.manager.deregisterComponent(this)}hide(){this.hideImpl(),this.manager.hideComponent(this.componentKey)}onShown(){this.element.style.display=this.display,this.shown=!0}onHidden(e){this.hideImpl(e)}hideImpl(e){this.shown=!1,e||this.helper.hide(this.componentKey)}showComponent(){this.connector.sendStart()}setShouldShow(e){this.shouldShowGuidance=e}shouldShow(){return this.shouldShowGuidance?this.shouldShowGuidance():Promise.resolve(!0)}}n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return i}));const l=new class{constructor(){this.components=[],this.guidanceTargets={},this.hasStartedShowing=!1,this.currentShownComponent=null,this.getFirstComponentToShowPromise=null}isComponentRegistered(e){return this.components.indexOf(e)>=0}registerComponent(e){if(this.components.length){if(this.isComponentRegistered(e))return;let t=this.components.length-1;for(;o(e,this.components[t])<0&&(t-=1,!(t<0)););this.components.splice(t+1,0,e)}else this.components.push(e);const t=this.hasStartedShowing&&!e.isInitialHide,n=this.currentShownComponent||this.getFirstComponentToShowPromise;t&&!n&&this.showGuidanceComponentAsync()}deregisterComponent(e){if(this.getFirstComponentToShowPromise)return void this.getFirstComponentToShowPromise.then((()=>this.deregisterComponent(e)));if(!this.isComponentRegistered(e))return;const t=this.components.indexOf(e);this.components.splice(t,1),this.currentShownComponent&&this.currentShownComponent.componentKey===e.componentKey&&(this.currentShownComponent.onHidden(!0),this.onComponentHidden(this.currentShownComponent))}registerTarget(e){const t=this.guidanceTargets[e.componentKey]||[];if(this.guidanceTargets[e.componentKey]=t,(0===t.length||e.multiTargetSupport)&&t.push(e),this.hasStartedShowing&&this.currentShownComponent){const t=this.currentShownComponent.componentKey;e.componentKey===t&&e.onShown()}}deregisterTarget(e){this.guidanceTargets[e.componentKey]=null}startQueue(){this.hasStartedShowing||(this.hasStartedShowing=!0,this.showGuidanceComponentAsync())}stopQueue(){this.hasStartedShowing&&(this.hasStartedShowing=!1,this.currentShownComponent&&(this.currentShownComponent.onHidden(!0),this.hideTargetsForComponent(this.currentShownComponent),this.currentShownComponent=null))}hideComponent(e){this.getFirstComponentToShowPromise?this.getFirstComponentToShowPromise.then((()=>{this.hideComponent(e)})):this.currentShownComponent&&this.currentShownComponent.componentKey===e&&(this.currentShownComponent.onHidden(!1),this.onComponentHidden(this.currentShownComponent))}hideTargetsForComponent(e){const t=this.guidanceTargets[e.componentKey];t&&t.forEach((e=>{e.onHidden()}))}showTargetsForComponent(e){const t=this.guidanceTargets[e.componentKey];t&&t.forEach((e=>{e.onShown()}))}onComponentHidden(e){this.currentShownComponent===e&&(this.currentShownComponent=null,this.hideTargetsForComponent(e),this.showGuidanceComponentAsync())}showGuidanceComponentAsync(){0!==this.components.length&&(this.getFirstComponentToShowPromise=this.getFirstComponentToShowAsync(0).then((e=>(e&&this.hasStartedShowing&&(this.currentShownComponent=e,e.onShown(),this.showTargetsForComponent(e)),this.getFirstComponentToShowPromise=null,e))))}getFirstComponentToShowAsync(e){return this.components[e].shouldShow().then((t=>t?this.components[e]:e<this.components.length-1?this.getFirstComponentToShowAsync(e+1):null))}},c=new class{constructor(e){this.guidanceManager=e,this.watchers=[],this.addWatcher=e=>{this.watchers.push(e),this.handleStateChange(e.started),e.onStateChanged(this.handleStateChange)},this.removeWatcher=e=>{const t=this.watchers.indexOf(e);-1!==t&&(e.onStateChanged(void 0),this.watchers.splice(t,1))},this.sendStart=()=>{this.handleStateChange(!0)},this.handleStateChange=e=>{e?this.updateGuidanceState(!this.watchers.some((e=>!e.started))):this.updateGuidanceState(e)},this.updateGuidanceState=e=>{e!==this.startState&&(this.startState=e,e?this.guidanceManager.startQueue():this.guidanceManager.stopQueue())}}}(l),d=35,u="guidance"},"Is+C":function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return E}));var i=n("D57K"),s=n("nsO7"),a=n("Llzl"),o=n("pjml"),r=n("VAMW"),l=n("4nF1"),c=n("X455"),d=n("12mu"),u=n("TnpK"),m=n("o5Lu"),p=n("8jzW"),h=n("Sa5G"),g=n("Q/M7"),b=n("fYJU"),f=n("IbyE"),v=n("aHpC"),y=n("kcGO"),k=n("Htol"),x=n("9OUN");const S="ultra.components.services.scorm",C="scorm",E="geolocation *; microphone *; camera *; midi *; encrypted-media *";class I{constructor(e){this.service=e,this.key=r.d.Scorm}scormLaunch({contentId:e,courseId:t,content:n,showPreLaunchPanel:i}){return this.service.scormLaunch({contentId:e,courseId:t,content:n,showPreLaunchPanel:i})}}let w=class{constructor(e,t,n,i,s,a,o,l,c,d,u,m){this.$q=e,this.$rootScope=t,this.$window=n,this.$ngRedux=i,this.cacheFactory=s,this.contextCourseMembership=a,this.modalService=o,this.ultraState=l,this.gradeService=c,this.scoreProviderHelper=d,this.CourseModel=u,this.contextUser=m,this.scormAvailabilityCache={},this.subscribeToReduxChanges(),Object(r.f)(new I(this))}subscribeToReduxChanges(){this.$ngRedux.connect(null,(e=>Object(x.b)({updateContentReviewState:f.X.contentReviewState.persistContentReviewState},e)))(this)}isScormAvailable(e){var t;const n=this.scormAvailabilityCache[e];return n?this.$q.when(null===(t=n.toolEnabledSetting)||void 0===t?void 0:t.isAvailable):this.CourseModel.$new(e).contentHandlers.$find(h.g.RusticiScorm.toString()).$allow([403]).$asPromise().then((t=>{var n;return null===(n=(this.scormAvailabilityCache[e]=t).toolEnabledSetting)||void 0===n?void 0:n.isAvailable}))}async scormLaunch(e){const t=this.$q.defer(),[n,i]=await this.$q.all([this.getContent(e.courseId,e.content,e.contentId),e.showPreLaunchPanel?this.getMembership(e.courseId):null]);if(e.showPreLaunchPanel&&this.isGradable(n))if(n.canEdit()){const n=a.fromJson(this.scoreProviderHelper.getSubmissionListStateRef(f.Q.Scorm,{courseId:e.courseId,contentId:e.contentId},p.a.GenerateStateParams));this.ultraState.goPeekState(n.state,n.args).then((()=>{t.resolve()})).catch((e=>{t.reject({errorMessage:"Failed to open the SCORM submission list.",errorResponse:e})}))}else this.isStudentInCourse(i)&&this.ultraState.goPeekState("scorm-overview.student",{courseId:n.courseId,contentId:n.id}).then((()=>{t.resolve()})).catch((e=>{t.reject({errorMessage:"Failed to open the SCORM submission list.",errorResponse:e})}));else this.launchScormLink(s.merge(e,{content:n}),t);return t.promise}refreshContents(e,t){this.getContent(e,null,t).then((e=>{this.gradeService.refreshCourseContents(e)}))}markContentAsViewed(e,t){return t?this.getContent(e,null,t).then((e=>{var t;if(!(null===(t=e.permissions)||void 0===t?void 0:t.canHaveReviewState))return;const n=Object(y.f)(e);n&&(this.updateContentReviewState(e.courseId,e.id,n),e.inSequence&&this.$rootScope.$broadcast(k.b,e,n))})):this.$q.when()}launch(e,t,n,i=!1){e=g.c(e),e=g.a(e,"from_ultra","true"),i?(this.$window.open(e),this.markContentAsViewed(t,n)):this.ultraState.goPeekState("scorm-launch-frame",{toolHref:e,courseId:t,contentId:n}).then((()=>{this.markContentAsViewed(t,n)}))}launchScormLink(e,t){let n;e.content&&(n=this.getLaunchLinkFromContent(e.content)),n&&(this.determineLaunchTarget(s.merge(e,{launchLink:n})),t.resolve())}determineLaunchTarget(e){e.content&&e.content.isScorm()&&this.launch(e.launchLink,e.content.courseId,e.content.id,e.content.launchInNewWindow)}getLaunchLinkFromContent(e){const t=e.contentDetail&&e.contentDetail[e.contentHandler.toString()];return t&&t.launchUrl||null}scormEditColumn(e){this.getContent(e.courseId,e.ui.content,e.contentId).then((t=>{e.ui.content=t;const n=l.a.create(t).getEditState();this.ultraState.goPeekState(n,{contentId:t.id})}))}isStudentInCourse(e){return e.isStudentMembership()}isGradable(e){return!!e.getScormGradebookItems().length}getContent(e,t,n){return t?this.$q.when(t):n?this.CourseModel.$new(e).contents.$find(n).$asPromise():this.$q.when(null)}getMembership(e){return this.contextCourseMembership.courseMembership?this.$q.when(this.contextCourseMembership.courseMembership):this.CourseModel.$new(e).users.$find(this.contextUser.userId).$asPromise()}loadScormGrade({courseId:e,column:t,grade:n}){let i=null;return i=n?n.$asPromise&&n.$asPromise()||this.$q.when(n):this.gradeService.loadGrade({gradeQueryParams:{},courseId:e,column:t,userId:this.contextUser.userId},!1),i.then((t=>t&&t.attempts.$fetch({fields:"id,status,attemptDate"}).$asPromise().then((e=>e.length&&e.reduce(((e,t)=>e.attemptDate>t.attemptDate?e:t)))).then((e=>e&&e.id)).then((n=>{if(!n)return t;const i=this.CourseModel.$new(e),s={expand:"toolAttemptDetail,alignedGoals,members,attempts,attempts.toolAttemptDetail,lastFeedbackAuthor,attempts.lastFeedbackAuthor",attemptId:n};return this.gradeService.loadAttempt(t,i,s)}))))}};w=Object(i.a)([Object(i.c)(0,Object(v.b)("$q")),Object(i.c)(1,Object(v.b)("$rootScope")),Object(i.c)(2,Object(v.b)("$window")),Object(i.c)(3,Object(v.b)("$ngRedux")),Object(i.c)(4,Object(v.b)("DSCacheFactory")),Object(i.c)(5,Object(v.b)(c.d)),Object(i.c)(6,Object(v.b)(d.b)),Object(i.c)(7,Object(v.b)(u.d)),Object(i.c)(8,Object(v.b)(m.n)),Object(i.c)(9,Object(v.b)(p.c)),Object(i.c)(10,Object(v.b)(o.m.serviceName)),Object(i.c)(11,Object(v.b)(b.b))],w);a.module(S,[c.a,u.b,p.b,m.m,o.N]).service(C,w).config(["$compileProvider",e=>{e.aHrefSanitizationWhitelist(/^\s*(https?|mailto):/)}])},J0Qq:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Llzl"),s=n("0JpG");const a="ultra.directives.bbDate";class o{constructor(e,t){this.$parse=e,this.bbLocalize=t,this.restrict="AE"}compile(e){const t=e.html();return(e,n,i)=>{const a=t=>{const a=this.bbLocalize.getFormatEnum(s.ILocaleDateFormat,i.format)||s.ILocaleDateFormat.Full,o=e=>{"bb-date"===n.prop("tagName").toLowerCase()?n.replaceWith(e):n.html(e)};null==t?o(""):this.bbLocalize.formatDate(t,a,e).then(o)},o=t=>t?new Date(this.$parse(t)(e)):null;let r;"true"===i.autoUpdate?i.$observe("bbDate",(()=>{r=o(i.bbDate),a(r)})):(r=this.$parse(t)(e)||o(i.bbDate),a(r))}}}o.$inject=["$parse",s.serviceName];i.module(a,[s.moduleName]).directive("bbDate",["$injector",e=>e.instantiate(o)])},J3aO:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n("D57K"),s=n("VAMW"),a=n("aHpC");const o="menuCloserService",r="ultra.services.menuCloser";class l{constructor(e){this.service=e,this.key=s.d.AngularMenuCloserService}closeAnyOpenAngularMenus(){this.service.closeAnyOpenAngularMenus()}}let c=class{constructor(e){this.$rootScope=e,Object(s.f)(new l(this))}closeAnyOpenAngularMenus(){const t=e(".f-open-dropdown");t.length>0&&window.Foundation.libs.dropdown.close(t),this.$rootScope.$broadcast("foundation-offcanvas-close-panel")}};c=Object(i.a)([Object(i.c)(0,Object(a.b)("$rootScope"))],c);angular.module(r,[]).service(o,c)}).call(this,n("71td"))},J8YL:function(e,t){e.exports='<div class="discussion-assignment">\n  <button class="button-add-content js-show-add-options" data-show-add-options ng-click="addContentButton.toggleMenu()"\n     ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n     aria-expanded="{{addContentButton.isMenuVisible}}" aria-controls="{{::\'add-content-menu-\' + addMenuId}}"\n     aria-label="{{addContentButton.addButtonAriaLabel}}"\n     ng-focus="addContentButton.showButton()" ng-blur="addContentButton.hideButton()"\n     analytics-id="components.directives.add-content-button.assignment.button">\n  </button>\n  \x3c!-- use ng-show to keep the element when close add buttons, make sure the upload directive handlers will not be lost --\x3e\n  <ul role="menu" class="element-list-add-menu outline-menu angular-animate"\n      aria-expanded="{{addContentButton.isMenuVisible}}"\n      ng-attr-id="{{\'add-content-menu-\' + addMenuId}}"\n      ng-if="::addContentButton.isMenuVisible || undefined"\n      ng-show="addContentButton.isMenuVisible">\n    <li>\n      <bb-file-upload\n        url="/v1/files"\n        data="{}"\n        allow-multiple="true"\n        monitor-leave="true"\n        disable-drag="disableDrag && disableDrag()"\n        target-div="{{\'#\' + fileListViewId}}"\n        hide-transclude-during-upload="false"\n        is-third-party-upload="false"\n        disallow-folder-uploads="true"\n        skip-zip-file-check="true"\n        ignored-states="::ignoredStates()"\n        position="positionBefore ? positionBefore() : positionAfter && positionAfter() + 1">\n        <a href="javascript:void(0);"\n           role="menuitem"\n           bb-translate-attrs="{\'aria-label\':\'course.content.buildContentArea.addFiles\'}"\n           ng-click="addContentButton.toggleMenu()"\n           analytics-id="components.directives.add-content-button.assignment.fileUpload.link" >\n          <bb-svg-icon size="small" icon="upload"></bb-svg-icon><span bb-translate analytics-id="course.content.buildContentArea.addFiles">course.content.buildContentArea.addFiles</span>\n        </a>\n      </bb-file-upload>\n    </li>\n    <li ng-if="!addContentButton.isMobile">\n      \x3c!-- Skip zip file check, assignment does not support unzip file(LRN-101238) --\x3e\n      <bb-file-upload allow-multiple="true" monitor-leave="true" is-third-party-upload="true"  hide-transclude-during-upload="false" skip-zip-file-check="true"\n                      click-enabled="false" primary-key="fileListViewId" disable-drag="disableDrag && disableDrag()"\n                      third-party-download-handler="addContentButton.downloadFile" target-div="{{\'#\' + fileListViewId}}"\n                      position="positionBefore ? positionBefore() : positionAfter && positionAfter() + 1">\n        <a href="javascript:void(0);"\n           role="menuitem"\n           primary-key="fileListViewId"\n           is-flatten="false"\n           attach-handler="attachHandler || addContentButton.defaultAttachHandler"\n           ignored-states="::ignoredStates()"\n           bb-translate-attrs="{\'aria-label\':\'components.directives.add-content-button.aria-label.content.oneDrive\'}"\n           ng-click="addContentButton.toggleMenu()"\n           analytics-id="components.directives.add-content-button.assignment.oneDrive.link">\n          <div>\n            <i class="icon-cloud"></i><span bb-translate>components.directives.add-content-button.oneDrive</span>\n          </div>\n        </a>\n      </bb-file-upload>\n    </li>\n  </ul>\n</div>\n'},JNtI:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return y}));var i=n("D57K"),s=(n("zbCZ"),n("aAQ7"),n("l+9M"),n("dV61"),n("Vdys"),n("RJjh"),n("xN03"),n("f80m"),n("kQ8a"),n("PeCP"),n("dvAF"),n("nsO7")),a=n("Llzl"),o=n("+g6d"),r=n("lmMM"),l=n("0JpG"),c=n("lEL+"),d=n("7+Tq"),u=n("d7QB"),m=n("yC9S"),p=n("aHpC"),h=n("+4Px"),g=n("GgSu"),b=n("3C2s"),f=n("nX1q");const v="ultra.components.directives.overflowMenu.overflowMenu";function y(e){return{titleKey:Object(r.c)(e,"title"),instructionsKey:Object(r.c)(e,"instructions")}}class k{constructor(e,t,n,i){this.menu=e,this.name=t,this.options=n,this.integrationEventEmitterService=i,this.isConfirmationActive=!1,this.id=e.elementId+"_"+t,this.hasConfirmation()&&(this.confirmationId=this.id+"_confirmation"),this.textKey=n.textKey||"",this.bbClickFocus=n.bbClickFocus||"",this.ariaLabel=n.ariaLabel||(()=>""),this.disableInfo=n.disableInfo||"",this.additionalAttributes=n.additionalAttributes||null}show(){return!this.options.show||this.options.show()}disable(){return!!this.options.disable&&this.options.disable()}onClick(){this.disable()||(this.options.confirmationOptions?this.options.confirmationOptions.lazyLoadTitleKeyAndInstructionsKey?this.options.confirmationOptions.lazyLoadTitleKeyAndInstructionsKey().then((e=>{this.options.confirmationOptions.titleKey=e.titleKey||this.options.confirmationOptions.titleKey,this.options.confirmationOptions.instructionsKey=e.instructionsKey||this.options.confirmationOptions.instructionsKey,this.menu.showConfirmation(this.confirmationId),this.isConfirmationActive=!0})):(this.menu.showConfirmation(this.confirmationId),this.isConfirmationActive=!0):this.onConfirm())}isConfirmationMenuVisible(){return this.isConfirmationActive}blur(){this.isConfirmationActive=!1}getLabelKey(){return this.labelKey}onConfirm(e){e&&(this.integrationEventEmitterService.emitIntegrationEvent(e),e.preventDefault(),e.stopImmediatePropagation()),this.persistChoices(),this.menu.closeDropdown(),this.options.onClick(),this.isConfirmationActive=!1}onCancel(){this.menu.closeDropdown(),this.isConfirmationActive=!1}hasConfirmation(){return null!=this.options.confirmationOptions}hasChoices(){return this.hasConfirmation()&&this.options.confirmationOptions.choices&&this.options.confirmationOptions.choices.length>0}hasTextKey(){return this.textKey.length>0}persistChoices(){this.hasChoices()&&this.menu.persistChoices(this.options.confirmationOptions.choices)}addAdditionalAttributes(){if(this.additionalAttributes){const e=this.menu.menuElement.find("#"+this.id+"_li");Object.keys(this.additionalAttributes).forEach((t=>{e.attr(t,this.additionalAttributes[t])}))}return!0}}let x=class extends k{constructor(e,t,n){super(e,t.uniqueId?t.uniqueId:"edit",t,n),this.icon=t.icon||"draw",this.labelKey=t.labelKey||"global.edit"}};x=Object(i.a)([Object(i.c)(0,Object(p.b)("menu")),Object(i.c)(1,Object(p.b)("options")),Object(i.c)(2,Object(p.b)("integrationEventEmitterService"))],x);let S=class extends k{constructor(e,t,n){super(e,t.uniqueId?t.uniqueId:"delete",t,n),this.icon=t.icon||"trash",this.labelKey=t.labelKey||"global.delete"}};S=Object(i.a)([Object(i.c)(0,Object(p.b)("menu")),Object(i.c)(1,Object(p.b)("options")),Object(i.c)(2,Object(p.b)("integrationEventEmitterService"))],S);let C=class extends k{constructor(e,t,n){super(e,t.uniqueId?t.uniqueId:t.icon,t,n),this.icon=t.icon,this.status=t.status,this.uniqueId=t.uniqueId,this.labelKey=t.labelKey}};C=Object(i.a)([Object(i.c)(0,Object(p.b)("menu")),Object(i.c)(1,Object(p.b)("options")),Object(i.c)(2,Object(p.b)("integrationEventEmitterService"))],C);let E=class{constructor(e,t,n,i,a,o,r,l){this.scope=e,this.element=t,this.$injector=n,this.$sce=i,this.bbLocalize=a,this.timeout=o,this.dropdownInit=r,this.integrationEventEmitterService=l,this.menuItems=[],this.confirmationNeededMenuItems=[],this.visibleMenuItemsFilter=e=>e.show(),this.ignoreCloseEvent=!1,this.dialogMap={},this.initDropdownMenu=s.once((()=>{this.dropdownInit(this.element,this.scope),this.timeout((()=>{this.element.find(".js-menu-item-list a").first().focus()}),this.scope,100)})),this.isRtl=a.isRTL(e),this.menuElement=t,this.elementId=e.elementId,this.menuDirection="align:"+(this.isRtl?"right":"left");let c=[];e.menuItems&&e.menuItems()&&(c=e.menuItems()),this.addOptionsToMenuItems(c),this.initWindowResizeHandler(),this.element.on("closed.fndtn.dropdown",".f-open-dropdown",(()=>{e.menuWasToggled(!1),this.ignoreCloseEvent||(this.element.find(".menu-icon-confirmation").hide(),this.element.find("[data-dropdown-content]").removeClass("bb-foundation-dropdown-tab-override"),this.element.find(".js-menu-item-list").show())})),this.element.on("opened.fndtn.dropdown",".f-dropdown-overflow-menu",(()=>{e.menuWasToggled(!0),this.initDropdownMenu(),this.repositionMenuIfNeeded()})),e.menuItems&&e.$on("menuItems.update",((e,t,n)=>{this.elementId===t&&(this.menuItems=[],this.addOptionsToMenuItems(n))}))}addOptionsToMenuItems(e){this.scope.editOptions&&this.scope.editOptions()&&this.menuItems.push(this.$injector.instantiate(x,{menu:this,options:this.scope.editOptions(),integrationEventEmitterService:this.integrationEventEmitterService})),e&&e.length>0&&e.forEach((e=>{this.menuItems.push(this.$injector.instantiate(C,{menu:this,options:e,integrationEventEmitterService:this.integrationEventEmitterService}))})),this.scope.deleteOptions&&this.scope.deleteOptions()&&this.menuItems.push(this.$injector.instantiate(S,{menu:this,options:this.scope.deleteOptions(),integrationEventEmitterService:this.integrationEventEmitterService})),this.checkAndUpdateForSingleMenu(),this.confirmationNeededMenuItems=s.filter(this.menuItems,(e=>e.hasConfirmation()))}repositionMenuIfNeeded(){const t=this.element.find(".f-dropdown-overflow-menu"),n=this.element.find(".overflow-menu-button");if(0!==t.length&&(t.removeClass("align-top"),t.offset().top+t.outerHeight()+8>=e(document).height())){t.addClass("align-top");const e=n.position().top+parseInt(n.css("margin-top"),10);t.css("top",0-t.outerHeight()+4+e)}}initWindowResizeHandler(){m.b.OnWindow("resize",(()=>{this.resetDropdownMenuStyles(),this.repositionMenuIfNeeded()}),this.scope)}resetDropdownMenuStyles(){const t=e(".guidance-wrapper .f-dropdown.f-dropdown-overflow-menu");t.each((n=>{e(t[n]).removeAttr("style")}))}show(){return this.menuItems.length>0&&this.menuItems.some((e=>e.show()))}hasUniqueId(e){return!!this.element.find('a[id*="'+e+'"]').length}closeDropdown(){const e=this.element.find(".f-open-dropdown:visible");this.element.foundation("dropdown","close",e)}toggleDropdown(){const e=this.element.find(".overflow-menu-button");this.element.foundation("dropdown","toggle",e)}showConfirmation(t){this.timeout((()=>{this.element.find("[data-dropdown-content]").addClass("bb-foundation-dropdown-tab-override"),null==this.dialogMap[t]&&(this.dialogMap[t]=this.element.find("#"+t)),this.dialogMap[t].show(),this.element.find(".js-menu-item-list").hide(),this.menuItems.some((e=>a.isDefined(e.disable)))&&e("body").find(".enhanced-tooltip").attr("aria-hidden","true").css({top:0,left:0}),this.ignoreCloseEvent=!0,this.toggleDropdown(),this.toggleDropdown(),this.ignoreCloseEvent=!1}),this.scope)}getButtonAriaLabel(){let e;e=null!=this.scope.elementName?"components.directives.overflow-menu.menu-button.aria-label":"components.directives.overflow-menu.menu-button.title";const t={locale:this.bbLocalize.getLocale(this.scope),key:e,noWrap:!0};null!=this.scope.elementName&&(t.params={elementName:this.$sce.trustAsHtml(this.scope.elementName)});return this.bbLocalize.translateSync(t)}getTextByKey(e){const t={locale:this.bbLocalize.getLocale(this.scope),key:e,noWrap:!0};return this.bbLocalize.translateSync(t)}hasOptionText(){return this.menuItems.length>0&&this.menuItems.some((e=>e.hasTextKey()))}persistChoices(e){e&&e.length&&e.forEach((e=>{this.scope.$emit(e.key,e.value)}))}addMenuItem(e){const t=this.$injector.instantiate(C,{menu:this,options:e,integrationEventEmitterService:this.integrationEventEmitterService});this.indexOfExistingMenuItem(e,this.menuItems)>-1||(this.menuItems.push(t),this.checkAndUpdateForSingleMenu(),this.confirmationNeededMenuItems=s.filter(this.menuItems,(e=>e.hasConfirmation())))}indexOfExistingMenuItem(e,t){return s.findIndex(t,(t=>e.labelKey===t.getLabelKey()))}onOptionKeydown(e){e.keyCode!==h.f&&e.keyCode!==h.t||e.preventDefault()}isSingleMode(){var e,t;return null===(t=(e=this.scope).isSingleMode)||void 0===t?void 0:t.call(e)}ignoreAccordion(){var e,t;return null===(t=(e=this.scope).ignoreAccordion)||void 0===t?void 0:t.call(e)}checkAndUpdateForSingleMenu(){this.isSingleMode()&&this.menuItems.length&&(this.menuItems=this.menuItems.slice(0,1),this.singleMenuItem=this.menuItems[0])}buildAnalyticsId(e){return e.additionalAttributes&&e.additionalAttributes.analyticsIdOverride?e.additionalAttributes.analyticsIdOverride:`${this.scope.analyticsIdTagPrefix}.${e.labelKey}.link`}};Object(i.a)([Object(p.d)("elementName","locale")],E.prototype,"getButtonAriaLabel",null),E=Object(i.a)([Object(i.c)(0,Object(p.b)("scope")),Object(i.c)(1,Object(p.b)("element")),Object(i.c)(2,Object(p.b)("$injector")),Object(i.c)(3,Object(p.b)("$sce")),Object(i.c)(4,Object(p.b)(l.serviceName)),Object(i.c)(5,Object(p.b)(c.b)),Object(i.c)(6,Object(p.b)(d.b)),Object(i.c)(7,Object(p.b)(u.b))],E);class I{constructor(e){this.$injector=e,this.queuedMenuItems=[]}setMenu(e){this.menu=e,this.queuedMenuItems.length>0&&this.queuedMenuItems.forEach((e=>{this.addMenuItem(e)}))}addMenuItem(e){this.menu?this.menu.addMenuItem(e):this.queuedMenuItems.push(e)}destroyMenu(){this.menu=null,this.queuedMenuItems=[]}}I.$inject=["$injector"];let w=class{constructor(e,t,n){this.$compile=e,this.$injector=t,this.bbLocalize=n,this.restrict="E",this.template=b,this.require="?^^bbOverflowMenuContainer",this.scope={elementId:"@",elementName:"@?",editOptions:"&?",deleteOptions:"&?",menuItems:"&?",isDisabled:"&?",isSingleMode:"&?",onMenuToggle:"&?",analyticsIdTagPrefix:"@",ignoreAccordion:"&?"},this.link=(e,t,n,i)=>{this.bbLocalize.loadBundle("components/directives/overflow-menu"),this.bbLocalize.loadBundle("components/directives/confirmation-needed"),e.menuWasToggled=t=>{e.onMenuToggle&&e.$applyAsync((()=>e.onMenuToggle({isOpen:t})))},e.overflowMenu=this.$injector.instantiate(E,{scope:e,element:t}),i&&(i.setMenu(e.overflowMenu),e.$on("$destroy",(()=>{i.destroyMenu()})))}}};w=Object(i.a)([Object(i.c)(0,Object(p.b)("$compile")),Object(i.c)(1,Object(p.b)("$injector")),Object(i.c)(2,Object(p.b)(l.serviceName))],w);class A{constructor(e,t){this.$compile=e,this.$injector=t,this.restrict="A",this.controller=I}}A.$inject=["$compile","$injector"],a.module(v,[o.a,r.d,l.moduleName,g.a,c.a,d.a,u.a,f.a]).directive("bbOverflowMenu",["$injector",e=>e.instantiate(w)]).directive("bbOverflowMenuContainer",["$injector",e=>e.instantiate(A)])}).call(this,n("71td"))},"JRp+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("Llzl"),s=n("0JpG"),a=n("TnpK");const o="ultra.course.conversion.router";i.module(o,[a.b,s.moduleName]).config([a.c,e=>{e.peekState("conversion-analysis",{url:"/conversionAnalysis",resolve:{translations:[s.serviceName,e=>e.loadBundle("components/directives/convert-and-import")]},require:()=>Promise.all([n.e(59),n.e(709)]).then(n.bind(null,"0y0M")),pageTitle:"ultra.convert.analysis.pageTitle"}).peekState("conversion-risk-analysis",{url:"/conversionRiskAnalysis",resolve:{translations:[s.serviceName,e=>e.loadBundle("components/directives/convert-and-import")]},require:[()=>Promise.all([n.e(135),n.e(138)]).then(n.bind(null,"VtI1")),()=>Promise.all([n.e(135),n.e(138),n.e(748)]).then(n.bind(null,"ubcj"))],pageTitle:"ultra.convert.analysis.pageTitle"})}])},JXhc:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("Llzl"),s=n("0JpG"),a=n("hlSw"),o=n("TnpK"),r=n("3bn4");const l="ultra.course.content.assessment.question-goal-alignment",c="question-goal-alignment",d="question-goal-alignment-for-student",u=["course","goal-alignment","goal"];class m extends r.a{constructor(){super(...arguments),this.url="/goalAlignment/:questionId/:questionIndex",this.panelClass="peek assessment-question-goal-peek"}resolveGoalAlignableContent(){return["$q","currentContent","currentCourse",s.serviceName,o.d,"$injector",(e,t,n,i,s,o)=>void 0!==t&&void 0===t.id?e.when([]):e.when(null).then((()=>{if(void 0===t)return o.invoke(a.a.currentContent,null,{currentCourse:n,translations:{}}).then((e=>{t=e}))})).then((()=>e.all([n.assessments.$buildRaw({id:t.getDeployedAssessment().assessment.id}).questions.$find(s.nextParams.questionId,{expand:"alignedGoals"}).$asPromise(),i.loadBundle(`features/${u.join("/")}`)]).then((([e])=>this.setupGoalAlignableContent(e,i,s)))))]}getPeekStateName(){return c}getOverrideSubTitle(){return[s.serviceName,o.d,(e,t)=>e.translateSync({locale:null,key:"components.directives.assessment-question.question-title",params:{index:t.nextParams.questionIndex},noWrap:!0})]}setupGoalAlignableContent(e,t,n){return[{getContentTitleForGoalAlignment:()=>t.translateSync({locale:null,key:`${u.join(".")}.goalsAlignedWithThisQuestion`}),getContentIdForGoalAlignment:()=>e.getContentIdForGoalAlignment(),isCurrentUserEligibleToAlignGoals:()=>e.isCurrentUserEligibleToAlignGoals(),alignedGoals:e.alignedGoals.map((t=>(t.content=e,t)))}]}}m.$inject=["$injector","$q"];class p extends m{resolveGoalAlignableContent(){return["$q","currentCourse","contentData",s.serviceName,o.d,(e,t,n,s,a)=>{let o=e.when(null);return n.courseContent.isGroupContent&&n.groupAttempt?o=t.gradebook.groupAttempts.$find(n.groupAttempt.id,{expand:"toolAttemptDetail,alignedGoals"}).$asPromise():!n.courseContent.isGroupContent&&n.attempt&&(o=t.gradebook.attempts.$find(n.attempt.id,{expand:"toolAttemptDetail,alignedGoals"}).$asPromise()),e.all([o,s.loadBundle(`features/${u.join("/")}`),s.loadBundle("components/directives/assessment/assessment-question")]).then((([e])=>{let t={};if(e){const s=e.getToolAttemptDetailItem(n.gradingColumn.scoreProviderHandle);(s&&s.questionAttempts||[]).forEach((e=>{e.question&&e.question.id===a.nextParams.questionId&&(t=i.extend(e.question,{getContentIdForGoalAlignment:()=>`blackboard.data.qti.asi.AsiObject;${e.question.id}`,isCurrentUserEligibleToAlignGoals:()=>!1}))}))}return this.setupGoalAlignableContent(t,s,a)}))}]}getPeekStateName(){return d}}i.module(l,[o.b,s.moduleName]).config([o.c,e=>{[new m,new p].forEach((t=>{e.peekState(t.getPeekStateName(),t)}))}])},JbSi:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-collab-session",use:"icon-medium-collab-session-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-collab-session"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 5h17v4l5-3.9583V19l-5-4v4H1V5z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M18 8v8M6 8l2 4-2 4M11 8l2 4-2 4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},Jedz:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-time",use:"icon-small-time-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-time"><path d="M15 8c0 3.866-3.134 7-7 7s-7-3.134-7-7 3.134-7 7-7 7 3.134 7 7zM5 11l1-1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M8 4v4l3 2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},JrDC:function(e,t,n){"use strict";function i(e,t){if(t instanceof e)return t.$pk;if(!t.$scope||"object"!=typeof t.$scope)throw new Error("model_utility.findModelPkInScope could not find $scope object on "+t);return i(e,t.$scope)}n.d(t,"a",(function(){return i}))},JuVx:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("D57K"),s=n("ZQFV"),a=n("jhBu"),o=n("oi1r"),r=n("nsO7"),l=n("C2vp"),c=n("cbVV"),d=n("qH3X"),u=n("o5Lu"),m=n("yC9S"),p=n("aHpC"),h=n("Sa5G"),g=n("vYaK"),b=n("Qbdf"),f=n("zGdY"),v=n("IbyE");class y{constructor(e,t){this.cells=e,this.metadata=t}isCellExisting(e){return this.isCellExistingByColumnId(e.column.id)}isCellExistingByColumnId(e){return!r.isUndefined(this.cells[e])}insertDataCell(e){this.isCellExisting(e)||(this.cells[e.column.id]=e)}deleteDataCellByColumnId(e){this.isCellExistingByColumnId(e)&&delete this.cells[e]}}let k=class e{constructor(e,t,n,i,s,a,o,r){this.$rootScope=e,this.$injector=t,this.$q=n,this.CourseModel=i,this.entitlementService=s,this.schemaService=a,this.currentCourse=o,this.gradeGridRebornDirectiveScope=r,this._canViewGrades=!1,this.gradeSchemaBySchemaId={},this.dataRowsByMembershipId={},this.columns=[],this.assignedGroupByGradeColumnId={},this.allGroupMemberships=[],this.userIdsByGroupId={},this.requestQueue=[],this.canViewGroups=!1,this.MAX_SUMMARY_REQUEST_SIZE=1e3,m.b.OnRootScope(this.$rootScope,u.a,((e,t)=>{const n=this.getColumnMetadatas().find((e=>e.id===t));n&&this.$rootScope.$broadcast(u.d,n)})),this.deferredInit=this.$q.defer(),this.initialized=this.deferredInit.promise;const l=r.$watchCollection("columnMetadatas",(e=>{e&&(this.initialize(this.currentCourse.course,e),l())}))}get canViewGrades(){return this._canViewGrades}get course(){return this._course}getSchema(){return this.gradeSchemaBySchemaId}getColumnIdGroupsMap(){return this.assignedGroupByGradeColumnId}getAllGroupMemberships(){return this.allGroupMemberships}getGroupIdUserIdMap(){return this.userIdsByGroupId}initializeSchemas(e){this.gradeSchemaBySchemaId={},e.forEach((e=>{this.gradeSchemaBySchemaId[e.id]=e}))}initialize(e,t){this._course=e,this.courseId=e.id,this.columnMetadatas=t;const n=this.entitlementService.hasCourseEntitlement(h.o.ViewGroups,this.courseId).then((e=>(this.canViewGroups=e,this.canViewGroups?this.initializeGroupsMemberships():this.$q.resolve(!1)))),i=this.entitlementService.hasAnyCourseEntitlement([s.q.ViewGrades,s.q.ViewGrades],e.id).then((e=>(this._canViewGrades=e,e))),a=this.loadSchemas(this.courseId).then((e=>{this.initializeSchemas(e)})),o=this.fetchMemberships({}).then((e=>{this.dataRowsByMembershipId={},this.insertRows(e);let t=!1;this.columns=this.getColumnMetadatas().map((e=>(e.externalGrade&&(t=e.externalGrade),this.insertColumnByMetadata(e))));const n=this.createStudentColumn(t);return this.insertColumn(n,!0),{memberships:e,columns:this.columns}}));return this.$q.all([o,n,a,i]).then((e=>this.deferredInit.resolve(e[0]))).catch((e=>this.deferredInit.reject(e))),this.getOverallColumn(),this.initialized}getAssignedGroupsByColumnId(e){return this.assignedGroupByGradeColumnId[e]}loadSchemas(e){return this.schemaService.loadSchemas(e)}initializeColumnIdGroupsMap(e){this.assignedGroupByGradeColumnId={},r.isEmpty(this.getColumnMetadatas())||this.getColumnMetadatas().forEach((t=>{t.contentId&&!t.isScorm()&&e[t.contentId]&&(this.assignedGroupByGradeColumnId[t.id]=e[t.contentId])}))}initializeGroupsMemberships(){return this.allGroupMemberships=[],this.getGroupsMemberships().then((()=>(this.initializeGroupIdUserIdMap(),!0)))}initializeGroupIdUserIdMap(){this.userIdsByGroupId={};const e={};this.allGroupMemberships.forEach((t=>{this.userIdsByGroupId[t.id]=t.memberships.map((e=>e.userId)),t.assignedContents.forEach((t=>{(e[t.contentId]=e[t.contentId]||[]).push(t)}))})),this.initializeColumnIdGroupsMap(e)}getGroupsMemberships(){return this.course.groups.$refresh({offset:this.allGroupMemberships.length,limit:1e4,fields:"id,memberships,assignedContents"}).$asPromise().then((e=>(this.allGroupMemberships=this.allGroupMemberships.concat(e),e.paging.nextPage?this.getGroupsMemberships():this.allGroupMemberships)))}fetchMemberships(e){return this.fetchMembershipsRecursively([],e,0)}fetchMembershipsRecursively(t,n,i){return this.course.memberships.$refresh({fields:e.MEMBERSHIPS_REQUEST_FIELDS,sort:e.MEMBERSHIPS_SORTING,...s.j,...n,offset:i}).$asPromise().then((e=>{const i=t.concat(e);if(e.paging.nextPage){const t=new URLSearchParams(e.paging.nextPage),s=parseInt(t.get("offset"),10);return this.fetchMembershipsRecursively(i,n,s)}return i}))}getFilteredColumns(e){let t=[];return this.course.gradebook.columns.$refresh({...e}).$asPromise().then((n=>{if(n.filter((e=>!1===e.visibleInBook)).forEach((e=>n.$remove(e))),t=t.concat(n),Object.keys(e).length>0&&this.overallColumn&&t.push(this.overallColumn),n.paging.nextPage)return this.getFilteredColumns(e);if((null==t?void 0:t.length)>0){this.expandColumnSummaries(t);let e=!1;const n=t.map((t=>(t.externalGrade&&(e=t.externalGrade),this.updateColumnByMetadata(t))));this.columns=n;const i=this.createStudentColumn(e);return n.unshift(i),n}return[]}))}getOverallColumn(){this.course.gradebook.columns.$find("finalGrade").$allow([f.S.NotFound]).$asPromise().then((e=>{var t;(null===(t=e.$response)||void 0===t?void 0:t.status)!==f.S.NotFound&&(this.overallColumn=e)}))}clearOverallColumn(){this.overallColumn=void 0}expandColumnSummaries(e){var t,n;const i=null!==(n=null===(t=e.paging)||void 0===t?void 0:t.count)&&void 0!==n?n:this.MAX_SUMMARY_REQUEST_SIZE,s=this.course.gradebook.summaries.expandingColumns(e);return this.$q.all(r.range(0,i,this.MAX_SUMMARY_REQUEST_SIZE).map((e=>s.$fetch({limit:this.MAX_SUMMARY_REQUEST_SIZE,offset:e,excludeCalculations:!0}).$asPromise()))).then((()=>e))}fetchGradeBulkView(e,t,n){return e.gradebook.bulkView.$fetch({membershipIds:t,columnIds:n,expand:"attempts,lastAttemptId,needsGradingAttemptCount,groupAttempts",timestamp:(new Date).getTime()}).$asPromise()}createColumnByColumnMetadata(e){return e.externalGrade?this.createOverallColumn(e):e.isCalculated()?this.createCalculationColumn(e):e.isOffline()?this.createOfflineItemColumn(e):e.isDiscussion()?r.isEmpty(this.assignedGroupByGradeColumnId[e.id])?this.createDiscussionItemColumn(e):this.createGroupDiscussionGradeColumn(e,this.assignedGroupByGradeColumnId[e.id]):e.isAttendance()?this.createAttendanceItemColumn(e):this.assignedGroupByGradeColumnId[e.id]?this.createGroupTestGradeColumn(e,this.assignedGroupByGradeColumnId[e.id]):e.seemsAttemptBased()&&e.scoreProviderHandle?this.createAttemptBasedItemGradeColumn(e):e.scoreProviderHandle?this.createItemGradeColumn(e):this.createOfflineItemColumn(e)}createStudentColumn(t){return this.$injector.instantiate(c.l,{gridData:this,data:{id:e.COLUMN_STUDENT},headerTemplate:"<bb-grade-grid-column-header-student-reborn></bb-grade-grid-column-header-student-reborn>",cellTemplate:"<bb-grade-grid-column-student-reborn></bb-grade-grid-column-student-reborn>",columnWidth:e.STUDENT_COLUMN_WIDTH,position:"left",border:!t,order:0})}createOverallColumn(t){return this.overallColumn=t,this.$injector.instantiate(c.k,{gridData:this,data:t,headerTemplate:"<bb-grade-grid-column-header-overall-reborn></bb-grade-grid-column-header-overall-reborn>",cellTemplate:"<bb-grade-grid-column-overall-reborn></bb-grade-grid-column-overall-reborn>",columnWidth:e.COLUMN_WIDTH,position:"left",border:!0,order:10})}createCalculationColumn(t){return this.$injector.instantiate(c.d,{gridData:this,data:t,headerTemplate:"<bb-grade-grid-column-header-reborn></bb-grade-grid-column-header-reborn>",cellTemplate:"<bb-grade-grid-column-reborn></bb-grade-grid-column-reborn>",columnWidth:e.COLUMN_WIDTH,position:"center",border:!0,order:0})}createItemGradeColumn(t){return this.$injector.instantiate(c.i,{gridData:this,data:t,headerTemplate:"<bb-grade-grid-column-header-reborn></bb-grade-grid-column-header-reborn>",cellTemplate:"<bb-grade-grid-column-reborn></bb-grade-grid-column-reborn>",columnWidth:e.COLUMN_WIDTH,position:"center",border:!0,order:0})}createOfflineItemColumn(t){return this.$injector.instantiate(c.j,{gridData:this,data:t,headerTemplate:"<bb-grade-grid-column-header-reborn></bb-grade-grid-column-header-reborn>",cellTemplate:"<bb-grade-grid-column-reborn></bb-grade-grid-column-reborn>",columnWidth:e.COLUMN_WIDTH,position:"center",border:!0,order:0})}createDiscussionItemColumn(t){return this.$injector.instantiate(c.e,{gridData:this,data:t,headerTemplate:"<bb-grade-grid-column-header-reborn></bb-grade-grid-column-header-reborn>",cellTemplate:"<bb-grade-grid-column-reborn></bb-grade-grid-column-reborn>",columnWidth:e.COLUMN_WIDTH,position:"center",border:!0,order:0})}createAttendanceItemColumn(t){return this.$injector.instantiate(c.b,{gridData:this,data:t,headerTemplate:"<bb-grade-grid-column-header-reborn></bb-grade-grid-column-header-reborn>",cellTemplate:"<bb-grade-grid-column-reborn></bb-grade-grid-column-reborn>",columnWidth:e.COLUMN_WIDTH,position:"center",border:!0,order:0})}createAttemptBasedItemGradeColumn(t){return this.$injector.instantiate(c.a,{gridData:this,data:t,headerTemplate:"<bb-grade-grid-column-header-reborn></bb-grade-grid-column-header-reborn>",cellTemplate:"<bb-grade-grid-column-reborn></bb-grade-grid-column-reborn>",columnWidth:e.COLUMN_WIDTH,position:"center",border:!0,order:0})}createGroupTestGradeColumn(t,n){return this.$injector.instantiate(c.h,{groups:n,gridData:this,data:t,headerTemplate:"<bb-grade-grid-column-header-reborn></bb-grade-grid-column-header-reborn>",cellTemplate:"<bb-grade-grid-column-reborn></bb-grade-grid-column-reborn>",columnWidth:e.COLUMN_WIDTH,position:"center",border:!0,order:0})}createGroupDiscussionGradeColumn(t,n){return this.$injector.instantiate(c.f,{groups:n,gridData:this,data:t,headerTemplate:"<bb-grade-grid-column-header-reborn></bb-grade-grid-column-header-reborn>",cellTemplate:"<bb-grade-grid-column-reborn></bb-grade-grid-column-reborn>",columnWidth:e.COLUMN_WIDTH,position:"center",border:!0,order:0})}getColumnMetadata(e){return r.find(this.columnMetadatas,(t=>t.id===e))}getColumnMetadataByContentId(e){return r.find(this.columnMetadatas,(t=>t.contentId===e))}isColumnMetadataExisting(e){return!r.isUndefined(this.getColumnMetadata(e))}getColumnMetadatas(){return this.columnMetadatas}getRowById(e){return this.dataRowsByMembershipId[e]}getRowByUserId(e){return r.find(r.values(this.dataRowsByMembershipId),(t=>t.metadata.user.id===e))}getGroupById(e){return this.allGroupMemberships.find((t=>t.id===e))}getCell(e,t){return this.dataRowsByMembershipId[e].cells[t]}insertRows(e){e.forEach((e=>this.insertRow(e)))}insertRow(e){this.dataRowsByMembershipId[e.id]=new y({},e)}createCell(t,n){if(n.id===e.COLUMN_STUDENT)return this.$injector.instantiate(l.l,{gridData:this,row:t,column:n});const i=n.data;return i.externalGrade?this.$injector.instantiate(l.k,{gridData:this,row:t,column:n}):i.isCalculated()?this.$injector.instantiate(l.c,{gridData:this,row:t,column:n}):i.isOffline()?this.$injector.instantiate(l.j,{gridData:this,row:t,column:n}):i.isDiscussion()?n instanceof c.g&&n.userIdGroupIdMap[t.metadata.user.id]?this.$injector.instantiate(l.f,{gridData:this,row:t,column:n,group:n.getGroupById(n.userIdGroupIdMap[t.metadata.user.id])}):this.$injector.instantiate(l.d,{gridData:this,row:t,column:n}):i.isAttendance()?this.$injector.instantiate(l.b,{gridData:this,row:t,column:n}):n instanceof c.g&&n.userIdGroupIdMap[t.metadata.user.id]?this.$injector.instantiate(l.e,{gridData:this,row:t,column:n,group:n.getGroupById(n.userIdGroupIdMap[t.metadata.user.id])}):i.isJournal()?this.$injector.instantiate(l.h,{gridData:this,row:t,column:n}):i.seemsAttemptBased()?this.$injector.instantiate(l.a,{gridData:this,row:t,column:n}):this.$injector.instantiate(l.g,{gridData:this,row:t,column:n})}insertColumn(e,t=!1){t?this.columns.unshift(e):this.columns.push(e),this.insertDataCells(e)}insertDataCells(e){r.forOwn(this.dataRowsByMembershipId,(t=>t.insertDataCell(this.createCell(t,e))))}insertColumnByMetadata(e){const t=this.createColumnByColumnMetadata(e);return this.insertColumn(t),t}updateColumnByMetadata(e){this.isColumnExisting(e.id)&&this.deleteColumnById(e.id);const t=this.createColumnByColumnMetadata(e);return this.insertColumnAtIndex(t,this.getColumnMetadataIndexInColumnMetadatas(e)+1),this.insertDataCells(t),t}refreshDataCell(e,t){r.isUndefined(e)||(e.deleteDataCellByColumnId(t.id),e.insertDataCell(this.createCell(e,t)))}deleteColumn(e){this.deleteColumnById(e.id)}deleteColumnById(e){let t=r.remove(this.columns,(t=>t.id===e));this.deleteDataCellsByColumnId(e),t&&t[0]&&t[0].data&&t[0].data.contentId&&(t=r.remove(this.columns,(e=>e.data&&e.data.contentId===t[0].data.contentId)),t.forEach((e=>this.deleteDataCellsByColumnId(e.id))))}deleteDataCellsByColumnId(e){r.forOwn(this.dataRowsByMembershipId,(t=>t.deleteDataCellByColumnId(e)))}getColumnMetadataIndexInColumnMetadatas(e){return r.findIndex(this.columnMetadatas,(t=>e.id===t.id))}insertColumnAtIndex(e,t){this.columns.splice(t,0,e)}getColumn(e){return r.find(this.columns,(t=>t.id===e))}getColumns(){return this.columns}isColumnExisting(e){return!r.isUndefined(this.getColumn(e))}getRowCount(){return r.keys(this.dataRowsByMembershipId).length}loadGradeData(t,n){if(r.isEmpty(t)||r.isEmpty(n))return;if(r.isEmpty(n.filter((t=>t.id!==e.COLUMN_STUDENT))))return;const[i,s]=this.filterRowsAndColumns(t.map((e=>e.id)),n.map((e=>e.id)),(e=>e.isUnloaded||e.isWaiting));r.isEmpty(i)||r.isEmpty(s)||this.prepareFetchGrades(i,e.ROW_NUMBER_PER_REQUEST,s,e.COLUMN_NUMBER_PER_REQUEST)}filterRowsAndColumns(e,t,n){const i=this.filterRows(e,t,n);return[i,this.filterColumns(i,t,n)]}filterRows(e,t,n){const i=[];return e.forEach((e=>{const s=this.dataRowsByMembershipId[e];r.find(t,(e=>n(s.cells[e])))&&i.push(e)})),i}filterColumns(e,t,n){const i=[];return t.forEach((t=>{r.find(e,(e=>n(this.dataRowsByMembershipId[e].cells[t])))&&i.push(t)})),i}prepareFetchGrades(e,t,n,i){const s=r.isEmpty(this.requestQueue),a=[];r.chunk(e,t<=0?e.length:t).forEach((e=>{r.chunk(n,i<=0?n.length:i).forEach((t=>{s?this.requestQueue.push([e,t]):a.push([e,t]),this.markWaiting(e,t)}))})),this.requestQueue=a.concat(this.requestQueue),s&&this.fetchGrades()}fetchGrades(){for(let t=0;t<e.REQUEST_WORKER_NUMBER;t++)this.fetchGrade()}fetchGrade(){if(!r.isEmpty(this.requestQueue)){let[e,t]=this.requestQueue.shift();[e,t]=this.filterRowsAndColumns(e,t,(e=>e.isWaiting)),r.isEmpty(e)||r.isEmpty(t)?this.fetchGrade():(this.markLoading(e,t),this.fetchGradeBulkView(this.CourseModel.$new(this.courseId),e,t).then((n=>{this.assignGrade(n),this.markLoaded(e,t),this.fetchGrade()})))}}assignGrade(e){e.bulkViewUsers.forEach((e=>{const t=this.dataRowsByMembershipId[e.courseMembershipId];e.grades.forEach((e=>{const n=t.cells[e.columnId];n.isLoading&&(n.data=e)}))}))}applyGradesFromState(e){var t,n,i;const s=this.getRowById(e.memberId),a=null==s?void 0:s.cells[e.columnId],o=null===(t=null==a?void 0:a.data)||void 0===t?void 0:t.grade;if(o&&o.isExempt!==e.isExempt){o.isExempt=e.isExempt;let t=null;a.column instanceof c.g&&(t=a.column.groups[0].groupId),this.gradeGridRebornDirectiveScope.$broadcast(u.c,{columnId:a.column.id,groupId:t,userId:null===(i=null===(n=null==s?void 0:s.metadata)||void 0===n?void 0:n.user)||void 0===i?void 0:i.id,updateColumn:!0})}}markWaiting(e,t){e.forEach((e=>t.forEach((t=>{const n=this.dataRowsByMembershipId[e].cells[t];n.isUnloaded&&n.setLoadState(l.i.WAITING)}))))}markLoading(e,t){e.forEach((e=>t.forEach((t=>{const n=this.dataRowsByMembershipId[e].cells[t];n.isWaiting&&n.setLoadState(l.i.LOADING)}))))}markLoaded(e,t){e.forEach((e=>t.forEach((t=>{const n=this.dataRowsByMembershipId[e].cells[t];n.isLoading&&n.setLoadState(l.i.LOADED)})))),this.broadcastRefreshEvent(e,t)}broadcastRefreshEvent(e,t){e.forEach((e=>{const n=t.filter((t=>this.dataRowsByMembershipId[e].cells[t].isLoaded));this.gradeGridRebornDirectiveScope.$broadcast(d.a.REFRESH,{rowId:e,columnIds:n})}))}refreshAllColumns(){r.forEach(this.getColumnMetadatas(),(e=>this.updateColumnByMetadata(e)))}addUpdatedColumnFlag(e){r.forEach(e,(e=>{const t=r.find(this.columns,(t=>t.id===e));t&&(t.isUpdated=!0)}))}destroy(){this.requestQueue=[]}};k.COLUMN_WIDTH=142,k.COLUMN_STUDENT="COLUMN_STUDENT",k.STUDENT_COLUMN_WIDTH=220,k.REQUEST_WORKER_NUMBER=5,k.ROW_NUMBER_PER_REQUEST=0,k.COLUMN_NUMBER_PER_REQUEST=0,k.MEMBERSHIPS_REQUEST_FIELDS=["role","courseRole","childCourseId","user","id","isAvailable","dueDateExceptionType"].join(","),k.MEMBERSHIPS_SORTING=Object(v.Z)(s.k),k=Object(i.a)([Object(i.c)(0,Object(p.b)("$rootScope")),Object(i.c)(1,Object(p.b)("$injector")),Object(i.c)(2,Object(p.b)("$q")),Object(i.c)(3,Object(p.b)(g.serviceName)),Object(i.c)(4,Object(p.b)(a.b)),Object(i.c)(5,Object(p.b)(o.b)),Object(i.c)(6,Object(p.b)(b.e)),Object(i.c)(7,Object(p.b)("gradeGridRebornDirectiveScope"))],k)},Jwnl:function(e,t){e.exports='\x3c!-- Center content title when it is only one line of text (without edit capability, description, or date restrictions). --\x3e\n<button ng-if="!contentItemBase.isEngagementOutline()"\n        class="content-title" ng-class="{\'name-middle\': contentItemFolder.shouldAlignMiddle()}"\n        ng-click="contentItemFolder.toggleFolder()"\n        aria-expanded="{{content.ui.isOpen}}"\n        aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n        bb-translate-attrs="{\'aria-label\':\'components.directives.content-item-base.aria-label.toggle-folder\'}"\n        translate-attrs-values="{folderName: content.title}"\n        analytics-id="content.item.folder.toggleFolder.button"\n        aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n        tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}"><span>{{ content.title }}</span></button>\n<button ng-if="contentItemBase.isEngagementOutline()"\n        class="content-title name"\n        ng-click="contentItemFolder.toggleFolder()"\n        aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n        aria-expanded="{{content.ui.isOpen}}"\n        analytics-id="content.item.folder.engagementOutline.toggleFolder.button"><span>{{ content.title }}</span></button>\n'},"K/D1":function(e,t,n){"use strict";var i=n("nsO7"),s=n("uC9d");const a="learnApiCacheService",o="learnApiCache.CacheRules",r=["DELETE","PUT","POST","PATCH","JSONP"],l="/learn/api/v1";function c(e=""){return Array.isArray(e)?e.sort().join(","):e.split(",").sort().join(",")}class d{constructor(){this.$get=[function(){return{}}]}}class u{constructor(e){this.cacheRules=e,this.cachingEnabled=!0,this.cachedExpandedRequests=new Map,this.queuedRequests=new Map,this.requestCache=new Map,this.disableCaching=()=>{this.cachingEnabled=!1},this.$get=["$q","$log",s.c,function(e,t,n){n.listen((e=>{if("clear"===e.type)this.removeCacheEntries(e.pattern||".*")}));const i=n=>{const i=this.makeKeyFromRequest(n);if(!this.queuedRequests.has(i)){const t=e.defer();return t.promise.finally((()=>{this.queuedRequests.delete(i)})),this.queuedRequests.set(i,{pendingRequestConfig:t}),e.resolve(n)}return t.info(`Easing ${i}`),this.queuedRequests.get(i).pendingRequestConfig.promise};return{request:e=>{if("GET"!==e.method||!this.isApiUrl(e.url)||e.cache)return e;const t=this.handleRequest(e);return t.url.match(/^blob/)?t:i(t).then((e=>e))},requestError:n=>(t.error("requestError: ",n),e.reject(n)),response:e=>{if(e.config.url.match(/^blob/)){const t=e.config.headers;return e.config.url=t.originalUrl,e.config.params=JSON.parse(t.originalParams),e}return"GET"!==e.config.method||!this.isApiUrl(e.config.url)||e.config.cache?e:this.handleResponse(e)},responseError:t=>{if(!t||!t.config)return e.reject(t);const n=this.makeKeyFromResponse(t);return this.queuedRequests.has(n)&&this.queuedRequests.get(n).pendingRequestConfig.reject(t.data),e.reject(t)}}}],this.removeCacheEntries=e=>{this.requestCache.forEach(((t,n)=>{(e instanceof RegExp?e:new RegExp(`${e}$`)).test(t.baseUrl)&&(this.requestCache.delete(n),this.cachedExpandedRequests.delete(t.baseUrl),this.queuedRequests.has(n)&&(this.queuedRequests.get(n).pendingRequestConfig.reject(`Canceled Easing: ${n}`),this.queuedRequests.delete(n)),URL.revokeObjectURL(t.documentUrl))}))},this.requestCachingRules=e.rules,setInterval((()=>{this.requestCache.forEach((e=>{this.isCacheExpired(e)&&this.removeCacheEntries(e.baseUrl)}))}),this.cacheRules.cacheTimes.MEDIUM)}getRule(e,t){return this.requestCachingRules.find((n=>{const i=n.urlRegex?n.urlRegex:new RegExp(n.url+"$","i");return n.methods.indexOf(t.toUpperCase())>-1&&i.test(e)}))}handleRequest(e){return this.resolveCachedEntry(e)||e}handleResponse(e){if(!this.isApiUrl(e.config.url)||e.config.url.match(/^blob/))return e;const t=e.config.method.toUpperCase(),n=e.config.url,i=this.getRule(n,t),s=this.makeKeyFromResponse(e);return i&&!this.requestCache.has(s)&&this.insertCacheEntry({...e},i.duration),this.resolveEasing(e),e}getCacheEntry(e){let t;const n=this.makeKeyFromRequest(e),i=this.lookupExpandedCacheEntry(e);if(i?t=i:this.requestCache.has(n)&&(t=this.requestCache.get(n)),t){if(!this.isCacheExpired(t))return t;this.removeCacheEntries(t.baseUrl)}return{}}getCleanUrl(e){return e.slice(e.indexOf(l)+l.length+1)}insertCacheEntry(e,t){const n=this.makeKeyFromResponse(e),i=e.config.url,s={documentUrl:URL.createObjectURL(new Blob([JSON.stringify(e.data)],{type:"application/json"})),baseUrl:i,fetchedAt:Date.now(),ttl:t};if(this.requestCache.set(n,s),e.config.params&&e.config.params.expand){const t=e.config.params.expand;if(this.cachedExpandedRequests.has(i)){const e=this.cachedExpandedRequests.get(i);this.cachedExpandedRequests.set(i,[...e,{cacheKey:n,expand:t}])}else this.cachedExpandedRequests.set(i,[{cacheKey:n,expand:t}])}}getEffectiveTTL(e){return this.cachingEnabled?e.ttl:Math.min(this.cacheRules.cacheTimes.INSTANT,e.ttl)}isCacheExpired(e){return Date.now()>e.fetchedAt+this.getEffectiveTTL(e)}isApiUrl(e){return e.indexOf(l)>-1}lookupExpandedCacheEntry(e){const t=e.url,n=e.params;if(n&&n.expand&&this.cachedExpandedRequests.has(t)){const e=this.cachedExpandedRequests.get(t).find((e=>{const t=n.expand.split(","),s=e.expand.split(",");return!i.difference(t,s).length}));if(e)return this.requestCache.get(e.cacheKey)}}makeKeyFromRequest(e){const t=this.getCleanUrl(e.url);e.params=e.params||{};const{fields:n,expand:i,...s}=e.params,a=c(n),o={url:t,expand:c(i),fields:a,rest:s};return JSON.stringify(o)}makeKeyFromResponse(e){return this.makeKeyFromRequest(e.config)}resolveCachedEntry(e){if(e.url.match(/^blob/))return e;const t=this.getCacheEntry(e);return t&&t.documentUrl?{...e,url:t.documentUrl,params:{},headers:{originalUrl:e.url,originalParams:JSON.stringify(e.params)}}:e}resolveEasing(e){const t=this.makeKeyFromResponse(e),n=this.queuedRequests.get(t);if(n){const t=this.resolveCachedEntry(e.config);n.pendingRequestConfig.resolve(t)}}}const m="ultra-session-event-existing-window",p="ultra-session-event-new-window",h="ultra-session-updating-storage",g=e=>{if(e.newValue)if(e.key===m)null==window.sessionStorage.getItem(h)&&(window.sessionStorage.setItem(h,"updating"),setTimeout((()=>{window.localStorage.setItem(p,JSON.stringify(window.sessionStorage)),window.localStorage.removeItem(p),window.sessionStorage.removeItem(h)}))),window.localStorage.setItem(p,JSON.stringify(window.sessionStorage));else if(e.key===p&&!window.sessionStorage.length){const t=JSON.parse(e.newValue);for(const e of Object.keys(t))window.sessionStorage.setItem(e,t[e])}};var b=n("5MwF");n.d(t,"a",(function(){return v}));const f="ultra.components.services.learn.api.cacheRules",v="ultra.components.services.learn.api.cache";angular.module(f,[]).constant(o,new class{constructor(){this.cacheTimes={DO_NOT_CACHE:0,INSTANT:500,SHORT:15e3,MEDIUM:6e4,LONG:6e5,PERPETUAL:1/0},this.rules=[{url:"calendars",methods:["GET"],duration:this.cacheTimes.SHORT},{url:"cloudstorages",methods:["GET"],duration:this.cacheTimes.PERPETUAL},{url:"courses/_\\d+_\\d+",methods:["GET"],duration:this.cacheTimes.LONG},{url:"courses/_\\d+_\\d+",methods:r,onUpdate:(e,t)=>{t(new RegExp("users/.*"))}},{url:"courses/_\\d+_\\d+/contents/_\\d+_\\d+",methods:["GET"],duration:this.cacheTimes.INSTANT},{url:"courses/_\\d+_\\d+/contents/ROOT/children",methods:["GET"],duration:this.cacheTimes.INSTANT},{url:"courses/_\\d+_\\d+/convertToUltra/conversionStatus",methods:["GET"],duration:this.cacheTimes.INSTANT,onUpdate:(e,t)=>{const n=e.url,i=new RegExp("courses/(_\\d+_\\d+)/convertToUltra"),s=n.match(i);t(new RegExp(`courses/${s[1]}`))}},{url:"courses/_\\d+_\\d+/tools",methods:["GET"],duration:this.cacheTimes.LONG},{url:"courses/_\\d+_\\d+/assessments/_\\d+_\\d+/questions",methods:["GET"],duration:this.cacheTimes.MEDIUM},{url:"courses/_\\d+_\\d+/discussionboards/default/forums/_\\d+_\\d+/messages/_\\d+_\\d+",methods:r,onUpdate:(e,t)=>{const n=e.url,i=new RegExp("courses/(_\\d+_\\d+)/discussionboards/default/forums/(_\\d+_\\d+)"),s=n.match(i);t(new RegExp(`courses/${s[1]}/discussionboards/default/forums/${s[2]}/messages`))}},{url:"courses/_\\d+_\\d+/gradebook/attempts/_\\d+_\\d+",methods:r,onUpdate:(e,t)=>{const n=e.url,i=new RegExp("courses/(_\\d+_\\d+)/gradebook"),s=n.match(i);t(new RegExp(`courses/${s[1]}/gradebook/.*`))}},{url:"courses/_\\d+_\\d+/gradebook/attempts/_\\d+_\\d+/assessment/answers/_\\d+_\\d+/grades",methods:r,onUpdate:(e,t)=>{const n=e.url,i=new RegExp("courses/(_\\d+_\\d+)/gradebook"),s=n.match(i);t(new RegExp(`courses/${s[1]}/gradebook/.*`))}},{url:"courses/_\\d+_\\d+/gradebook/columns/_\\d+_\\d+",methods:["GET"],duration:this.cacheTimes.INSTANT},{url:"courses/_\\d+_\\d+/gradebook/columns/_\\d+_\\d+/grades",methods:["GET"],duration:this.cacheTimes.INSTANT},{url:"courses/_\\d+_\\d+/gradebook/columns/_\\d+_\\d+/grades/_\\d+_\\d+/attempts",methods:["GET"],duration:this.cacheTimes.INSTANT},{url:"courses/_\\d+_\\d+/gradebook/columns/_\\d+_\\d+/.+",methods:r,onUpdate:(e,t)=>{const n=e.url,i=new RegExp("courses/(_\\d+_\\d+)/gradebook/columns/(_\\d+_\\d+)"),s=n.match(i);t(new RegExp(`courses/${s[1]}/gradebook/columns/${s[2]}/.*`)),t(new RegExp(`courses/${s[1]}/memberships.*`))}},{url:"courses/_\\d+_\\d+/gradebook/columns/_\\d+_\\d+/summary",methods:["GET"],duration:this.cacheTimes.INSTANT},{url:"courses/_\\d+_\\d+/gradebook/grades/bulkView",methods:["GET"],duration:this.cacheTimes.DO_NOT_CACHE},{url:"courses/_\\d+_\\d+/gradebook/groupAttempts/_\\d+_\\d+/activities",methods:r,onUpdate:(e,t)=>{const n=e.url,i=new RegExp("courses/(_\\d+_\\d+)/gradebook/groupAttempts/(_\\d+_\\d+)"),s=n.match(i);t(new RegExp(`courses/${s[1]}/gradebook/groupAttempts/${s[2]}/.*`)),t(new RegExp(`courses/${s[1]}/gradebook/columns/.*`))}},{url:"courses/_\\d+_\\d+/memberships/_\\d+_\\d+",methods:r,onUpdate:(e,t)=>{const n=e.url,i=new RegExp("courses/(_\\d+_\\d+)/memberships"),s=n.match(i);t(new RegExp(`courses/${s[1]}.*`)),t(new RegExp("users/_\\d+_\\d+/memberships"))}},{url:"courses/_\\d+_\\d+/memberships",methods:["GET"],duration:this.cacheTimes.SHORT},{url:"courses/_\\d+_\\d+/users/_\\d+_\\d+",methods:["GET"],duration:this.cacheTimes.LONG},{url:"users/_\\d+_\\d+",methods:r,onUpdate:(e,t)=>{t(new RegExp("users/.*"))}},{url:"users/(?:me|_\\d+_\\d+)",methods:["GET"],duration:this.cacheTimes.LONG},{url:"users/_\\d+_\\d+/memberships",methods:["GET"],duration:this.cacheTimes.LONG},{url:"terms",methods:["GET"],duration:this.cacheTimes.PERPETUAL},{url:".+",methods:["GET"],duration:this.cacheTimes.INSTANT}]}});const y=angular.module(v,[f]);b.a.features.learnApiCaching?y.provider(a,[o,u]).service(s.c,s.a).config(["$provide","$httpProvider","learnApiCacheServiceProvider",(e,t,n)=>{window.addEventListener("storage",(e=>{(e=>[m,p].some((t=>t===e.key)))(e)&&n.disableCaching()})),window.addEventListener("storage",g,!1),localStorage.setItem(m,m),localStorage.removeItem(m);e.decorator("$http",["$delegate",e=>{const t=function(t){if(null!=t.cache)return e(t);const i=n.getRule(t.url,t.method.toUpperCase());return i&&i.onUpdate&&"function"==typeof i.onUpdate&&i.onUpdate(t,n.removeCacheEntries),-1!==r.indexOf(t.method.toUpperCase())&&n.removeCacheEntries(t.url),e(t)};return function(e,t){!function(...e){i.each(e,(function(e){t[e]=function(n,i){return t(angular.extend({},i||{},{method:e,url:n}))}}))}("delete","get","head","jsonp"),function(...e){i.each(e,(function(e){t[e]=function(n,i,s){return t(angular.extend({},s||{},{method:e,url:n,data:i}))}}))}("post","put","patch"),function(...n){i.each(n,(function(n){Object.defineProperty(t,n,{enumerable:!0,get:()=>e[n],set(t){e[n]=t}})}))}("defaults","pendingRequests")}(e,t),t}]),URL&&Object.prototype.hasOwnProperty.call(URL,"createObjectURL")&&t.interceptors.push(a)}]):y.provider(a,[d]).service(s.c,s.b)},K3JI:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var i=n("Llzl");const s="ultra.components.directives.hoverMenuOpacity";class a{constructor(){this.restrict="A",this.link=(t,n)=>{n.on("focus",".hover-menu a, .hover-menu button",(t=>{0===e("body.hide-focus-outline").length&&e(t.target).closest(".hover-menu").css({opacity:1})})).on("blur",".hover-menu a, .hover-menu button",(t=>{e(t.target).closest(".hover-menu").removeAttr("style")}))}}}a.$inject=["$injector"],i.module(s,[]).directive("bbHoverMenuOpacity",["$injector",e=>e.instantiate(a)])}).call(this,n("71td"))},KXuk:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-complete",use:"icon-small-complete-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-complete"><rect x="1" y="1" width="14" height="14" rx="7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M5 8l2 3 4-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},KeOq:function(e,t){e.exports='<div class="grade-grid-cell grade-grid-header-cell">\n  <div class="content student-content student-column" role="columnheader" tabindex="0">\n    <div class="ellipse left-bold location" course-org-token-resolver bb-translate>components.directives.grade.grid.students</div>\n  </div>\n  <div class="summary student-column"></div>\n  <div class="summary student-column">\n    <span bb-translate course-org-token-resolver translate-values="{count: studentsTotal}">components.directives.grade.grid.studentsSummary.plural</span>\n  </div>\n</div>\n'},KiLF:function(e,t,n){"use strict";var i=n("nbDY"),s=n.n(i);class a extends s.a{}a.Continuous=new a("CONTINUOUS"),a.DateRange=new a("DATE_RANGE"),a.FixedNumDays=new a("FIXED_NUM_DAYS"),t.a=a},Kpdw:function(e,t,n){"use strict";n.r(t),n.d(t,"moduleName",(function(){return f})),n.d(t,"serviceName",(function(){return v})),n.d(t,"CREATE_COLUMN_ID",(function(){return y})),n.d(t,"AttemptAggregationModel",(function(){return S})),n.d(t,"defaultAttemptAggregationModel",(function(){return C})),n.d(t,"parseAttemptAggregationModel",(function(){return E})),n.d(t,"getAttemptAggregationModelLabelKey",(function(){return I})),n.d(t,"getAttemptAggregationModelStudentLabelKey",(function(){return w})),n.d(t,"parseForumId",(function(){return A}));n("QLzv");var i=n("nsO7"),s=n("IbyE"),a=n("zGdY"),o=n("vYaK"),r=n("KrjC"),l=n("3uIF"),c=n("yCC5"),d=n("Rjd/"),u=n("wgY5"),m=n("XfOu"),p=n("eUpQ"),h=n("6vR2"),g=n("3PCF"),b=n("ZQFV");const f="ultra.components.services.models.grade.gradeColumn",v=c.fb,y="create",k=Symbol("forceFetchSummary"),x=[a.S.Unauthorized,a.S.Forbidden,a.S.TooManyRequests];var S;!function(e){e.Average="AVERAGE",e.First="FIRST",e.Highest="HIGHEST",e.Last="LAST",e.Lowest="LOWEST"}(S||(S={}));const C=S.Average;function E(e){if(e)return Object.values(S).find((t=>t.toLowerCase()===e.toLowerCase()))}function I(e){return"components.services.grade.aggregation-model."+e.toLowerCase()}function w(e){return"course.content.assessment.overview.gradeBasedOn."+e.toLowerCase()}function A(e){const t=e.split("/");return t[t.length-1]}d.a.factory(v,["$http","$ngRedux","restmod","$rootScope","$q",o.serviceName,l.a,r.serviceName,(e,t,n,o,r,l,d,f)=>n.model().mix({grades:{hasMany:c.gb},summary:{hasOne:c.r,hooks:{"before-request":function(e){!this.$owner[k]&&this.$owner.isCalculated()&&(e.cache={get:()=>({})})}}},groupAssociations:{hasMany:c.L},anonymousGradingReleaseDate:{serialize:"date"},dueDate:{serialize:"date"},dateCreated:{serialize:"date"},dateModified:{serialize:"date"},peerReviewDueDate:{serialize:"date"},ui:{mask:!0,init:()=>({})},$hooks:{"before-request":function(e){if(this.$url()===e.url&&"DELETE"!==e.method){const t="gradebookCategory";e.params&&e.params.expand?i.includes(e.params.expand,t)||(e.params.expand+=`,${t}`):e.params={expand:t,...e.params}}},"before-save":e=>{e.params||(e.params={}),e.params.expand=["externalGrade","gradebookCategory","columnSummary"]},"after-request":function(e){if(e.data.externalGrade&&"PATCH"===e.config.method){const n=e.data.id,i=s.gc.gradebookGrade.getGradebookGradesByColumnId(t.getState(),n);t.dispatch(s.X.gradebookGrade.setInvalidatedGradesInStore(i))}e.data&&e.data.rubricAssociations&&e.data.rubricAssociations.forEach((e=>{m.sortRubricData(e.rubricDefinition)}));if(e.config&&e.config.params&&e.config.params.expand&&-1!==e.config.params.expand.indexOf("associatedRubrics")){const n=Object(h.a)(e.data);t.dispatch(s.X.gradebookColumn.setGradebookColumnInStore(n))}},"after-create":function(e){const n=Object(h.a)(e.data);t.dispatch(s.X.gradebookColumn.addGradebookColumnToStore(n))}},$extend:{Record:{isTest(){return s.Q.Test.isEqualTo(this.scoreProviderHandle)},isAssignment(){return s.Q.UltraAssignment.isEqualTo(this.scoreProviderHandle)},isCalculated(){return a.p.NonCalculated!==this.calculationType},isOffline(){return this.userCreatedColumn},seemsAttemptBased(){return!this.isCalculated()&&!this.isOffline()&&!this.isAttendance()},isDiscussion(){return s.Q.Discussion.isEqualTo(this.scoreProviderHandle)},isJournal(){return s.Q.Journal.isEqualTo(this.scoreProviderHandle)},isScorm(){return s.Q.Scorm.isEqualTo(this.scoreProviderHandle)},isScormSCO(){if(this.isScorm()){const e=this.ui&&this.ui.content||null,t=e&&!e.isConditionalReleaseLocked()&&e.getScormGradebookItems()||[],n=t&&t.find((e=>e.columnId===this.id));return!(!n||n.root)}return!1},isAttendance(){return s.Q.Attendance.isEqualTo(this.scoreProviderHandle)},isVisible(){return this.visible},isHidden(){return!this.visible},isVisibleToStudents(){return this.isVisible()},isHiddenFromStudents(){return this.isHidden()},isGroupContent(){return this.groupContent},isMultipleAttempts(){return this.multipleAttempts>1||this.isUnlimitedAttempts()},isSingleAttempt(){return 1===this.multipleAttempts},isUnlimitedAttempts(){return 0===this.multipleAttempts},isCollectExternalSubmissions(){return!!this.collectExternalSubmissions},lateAttemptCreationDisallowed(){return!!this.isLateAttemptCreationDisallowed},getNumMissing(){let e=NaN;return e=this.isOffline()?this.summary.numNeedsGrading:this.summary.numEligibleToBeGraded-this.summary.numStudentSubmissions(),e},getNumMissingIfLate(){return this.isCalculated()||!this.isLate()?NaN:this.getNumMissing()},getVisibilityAsStudent(){return this.isVisibleToStudents()?a.w.Visible:a.w.Hidden},setVisibility(e){switch(e){case a.w.Visible:this.visible=!0;break;case a.w.Hidden:this.visible=!1}},canEdit(){return this.permissions&&this.permissions.edit},postReadyGrades(){return this.$send({method:"POST",url:this.$url()+"/postReadyGrades",data:{}},(function(e){this.ui.numOfGradesPosted=e.data.count})).$asPromise().then((e=>e.ui.numOfGradesPosted))},postReadyGroupAttempts(e){return this.$send({method:"POST",url:this.$url()+"/groupAssociations/"+e.groupAssociationId+"/postReadyGroupGrades",data:{}},(e=>{this.ui.numOfAttemptsPosted=e.data.count})).$asPromise().then((e=>e.ui.numOfAttemptsPosted))},getGroupGrade(t,n){const i=n?{expand:"instructorFeedback,groupMembersGrades"}:null;return e.get(this.$url()+"/groupAssociations/"+t+"/grades",i&&{params:i}).then((e=>{const t=f.$buildRaw(e.data);return delete t.id,t.groupMembersGrades&&(t.groupMembersGrades=t.groupMembersGrades.map((e=>this.grades.$buildRaw(e)))),t}))},getGroupAttemptByGroupAssociationId(e,t=!1,n){const i={expand:t?"attempts,toolAttemptDetail,viewUrl":"attempts,toolAttemptDetail",excludeUnavailableMembers:!0};return this.groupAssociations.$new(e).groupAttempts.$fetch(i).$asPromise().then((e=>{var t;let i;return e&&n&&(i=e.find((e=>e.id===n))),null!==(t=null!=i?i:e.find((e=>e.isInProgress())))&&void 0!==t?t:e[0]}))},getGradeIdToAttempt(e,t){let n;const i={};return this.withParams(e).$send({method:"GET",url:this.$url()+(t?"/groupAttempts":"/attempts")},(function(e){Object.keys(e.data.lookup).forEach((n=>{if(t)e.data.lookup[n]=this.grades.$new(n).groupAttempts.$decode(e.data.lookup[n]);else{this.grades.$new(n).attempts.$decode(e.data.lookup[n]).some((e=>!e.deletedAttempt))&&(i[n]=this.grades.$new(n).attempts.$decode(e.data.lookup[n]))}})),e.data.lookup=i,n=e.data})).$asPromise().then((()=>n))},loadReviewableAttempts(e){return e.reviewableAttemptsOnly=!0,this.getGradeIdToAttempt(e,!1)},getContentGroupIdToGroupAttempt(e){let t;return(e?this.withParams(e):this).$send({method:"GET",url:this.$url()+"/groupAttempts"},(function(e){Object.keys(e.data.lookup).forEach((t=>{const n=e.data.lookup[t][0];n.submissionResults&&n.submissionResults.results[g.b]&&(n.originalityProcessed=n.submissionResults.results[g.b].originalityProcessed,n.originalityScore=n.submissionResults.results[g.b].originalityScore),e.data.lookup[t]=l.$new(this.courseId).gradebook.groupAttempts.$decode(e.data.lookup[t]),e.data.lookup[t].forEach((e=>{var t;e.attempts=l.$new(this.courseId).gradebook.attempts.$decode(null!==(t=e.attempts)&&void 0!==t?t:[])}))})),t=e.data})).$asPromise().then((()=>t))},hasEvaluations(){return this.getGradeIdToAttempt({}).then((e=>{let t=!1;return e&&e.lookup&&i.each(Object.keys(e.lookup),(n=>(i.each(e.lookup[n],(e=>(e&&e.rubricEvaluation&&(t=!0),!t))),!t))),t}))},launchAttempt(e,t,n,i){return n&&(e.groupId=i),this.$send({method:"POST",url:this.$url()+(n?"/groupAttempts":"/attempts"),data:e.$wrap&&e.$wrap()||e,params:t},(function(e){this.createdAttempt=n?l.$new(this.courseId).gradebook.groupAttempts.$buildRaw(e.data):l.$new(this.courseId).gradebook.attempts.$buildRaw(e.data)})).$allow(x).$asPromise().then((e=>{var t;return x.indexOf(null===(t=null==e?void 0:e.$response)||void 0===t?void 0:t.status)>-1||!(null==e?void 0:e.createdAttempt)?e:e.createdAttempt}))},countAttempts(){const e=r.defer();return this.$send({method:"GET",url:this.$url()+"/attempts/count"},(t=>{let n=null;return t.data&&(n=t.data.count),e.resolve(n)}),(t=>e.reject(t))).$allow([403]),e.promise},timeUntilDueDate(e){if(this.dueDate){const t=u(this.dueDate),n=u(p.a.getServerTime());return t.diff(n,e)}return null},daysUntilDueDate(){return this.timeUntilDueDate("days")},isLate(){return!!this.dueDate&&this.dueDate<=p.a.getServerTime()},isUserReconciler(e){const t=this;return!!(t.delegatedGrading&&t.delegatedGraders&&t.delegatedGraders.some((t=>t.userId===e&&t.canReconcile&&!t.isUnassigned)))},forceDelete(){if(!this.contentId){let e;return e=s.Q.PartnerCloud.isEqualTo(this.scoreProviderHandle)&&this.linkId?d.delete(this.courseId,this.linkId):this.withParams({onlyIfEmpty:!1}).$destroy().$asPromise(),e.then((()=>(o.$broadcast("bb-delete-column",this),t.dispatch(s.X.gradebookColumn.removeGradebookColumnFromStore(this.id)),this)))}throw new Error("Content based column must be deleted by deleting associated content")},hasRubricAssociation(){return null!=this.rubricAssociations&&this.rubricAssociations.length>0},getRubricAssociation(){return this.hasRubricAssociation()?this.rubricAssociations[0]:null},getAssociatedRubricId(){return this.hasRubricAssociation()?this.rubricAssociations[0].rubricId:null},getAssociatedRubric(){return this.hasRubricAssociation()?this.rubricAssociations[0].rubricDefinition:null},setRubricAssociation(e){this.rubricAssociations=e?[{rubricId:e}]:[]},setMaxPossiblePoints(e){Number.isFinite(e)?this.possible=e:this.possible=b.P.GRADE_DEFAULT_POINTS},forceResolveSummary(){return this[k]=!0,this.summary.$resolve().$then((()=>{delete this[k]}))},forceFetchSummary(e={}){return this[k]=!0,this.summary.$fetch(e).$then((()=>{delete this[k]}))},alwaysOverride(){let e=!1;return[s.Q.Test,s.Q.UltraAssignment,s.Q.Discussion,s.Q.Scorm,s.Q.PeerSubmissionsTest].forEach((t=>{t.isEqualTo(this.scoreProviderHandle)&&(e=!0)})),e},isQuestionAnalysisAvailable(){return this.isAssignment()||this.isTest()},isAnonymousGrading(){return this.anonymousGrading},canSeeFinalGrade(e){return this.delegatedGrading?!this.anonymousGrading&&this.isUserReconciler(e.id):!this.anonymousGrading}},Collection:{attachRelatedContentsByScoreProviderHandle(e){const t=this;if(!t.length)return r.when(this);const n=l.$new(t[0].courseId),i=t.filter((t=>e.isEqualTo(t.scoreProviderHandle)&&!t.restricted)),s=new Set(i.map((e=>e.contentId))),a=Array.from(s.values()).map((e=>n.contents.$find(e).$suppressErrorDialog().$asPromise()));return r.all(a).then((e=>(i.forEach((t=>{t.ui.content=e.find((e=>e.id===t.contentId))})),this)))},indexOfItemById(e){return this.$indexOf((t=>t.id===e))}}}})])},KrjC:function(e,t,n){"use strict";n.r(t),n.d(t,"moduleName",(function(){return m})),n.d(t,"serviceName",(function(){return p}));n("QLzv");var i=n("nsO7"),s=n("Llzl"),a=n("wgY5"),o=n("yCC5"),r=n("Rjd/"),l=n("eUpQ"),c=n("nkTj"),d=n("IbyE"),u=n("zGdY");const m="ultra.components.services.models.gradeDetail",p=o.gb;r.a.factory(p,["restmod",c.c,"$ngRedux",(e,t,n)=>e.model().mix({$hooks:{"after-request":function(){this.$response.data.results?n.dispatch(d.X.gradebookGrade.setInvalidatedGradesInStore(this.$response.data.results)):"PATCH"===this.$response.config.method&&n.dispatch(d.X.gradebookGrade.setGradesInStore([this.$response.data]))}},attempts:{hasMany:o.cb,hooks:{"after-fetch-many":function(){this.forEach((e=>{e.permissions=this.permissions}))}}},column:{ignore:"CU"},groupAttempts:{hasMany:o.hb},user:{belongsTo:o.zc},ui:{mask:!0,init:()=>({currentAttemptIndex:0,isCommentBoxShown:!1,areAllAttemptsDeleted:!1})},lastOverrideDate:{serialize:"date"},$extend:{Record:{isMissing(e){return!(this.isGraded()||!(e||s.isUndefined(e)&&!this.isSubmitted())||!this.column||!this.column.dueDate)&&a(this.column.dueDate).isBefore(l.a.getServerTime())},isGraded(){return null!=this.displayGrade&&(null!=this.displayGrade.score||null!=this.displayGrade.grade&&""!==this.displayGrade.grade)},isOverrideGrade(){return u.Eb.NoOverride!==this.manualStatus&&(null!=this.manualGrade||null!=this.manualScore)},isReadyToPost(){return u.Eb.NoOverride===this.manualStatus&&this.isGraded()&&!this.hasGradeBeenPosted||u.Eb.ReadyToPost===this.manualStatus},isPosted(){return!this.isCalculatedColumnGrade&&(u.Eb.NoOverride===this.manualStatus&&(this.hasGradeBeenPosted||!Object.prototype.hasOwnProperty.call(this,"hasGradeBeenPosted")&&this.isGraded())||u.Eb.IsPosted===this.manualStatus)},isSubmitted(){return!(!this.column||!this.column.seemsAttemptBased())&&u.J.NeedsGrading===this.status},isUpcoming(){if(!this.isGraded()&&!this.isSubmitted()&&this.column){if(this.column.dueDate)return a(this.column.dueDate).isAfter(l.a.getServerTime());if(this.column.seemsAttemptBased())return!0}return!1},isInProgress(){return u.Eb.GradingInProgress===this.manualStatus},hasInstructorComments(){var e,t;if(!this.isGraded())return!1;let n,i;return this.column.seemsAttemptBased()&&(n=this.ui&&this.ui.attempt,i=this.attempts),!!(null===(e=null==n?void 0:n.feedbackToUser)||void 0===e?void 0:e.displayText)||(!(!(null==i?void 0:i.length)||!this.hasSomeFeedbackToUser(i))||!!(null===(t=this.instructorFeedback)||void 0===t?void 0:t.displayText))},hasSomeFeedbackToUser:e=>e.some((e=>{var t;return!!(null===(t=e.feedbackToUser)||void 0===t?void 0:t.displayText)})),saveComment(e,t,n,s){let a=t?{userId:t}:{};return n&&(a=i.merge(a,n)),i.isString(e)?this.instructorFeedback?this.instructorFeedback.rawText=e:this.instructorFeedback={rawText:e}:this.instructorFeedback=e,s?this.$send({method:"PATCH",url:this.$url(),data:{instructorFeedback:this.instructorFeedback},params:a},(function(e){this.instructorFeedback=e.data.instructorFeedback})):this.withParams(a).$save(["instructorFeedback"])},hasAttempts(){return!!this.firstAttemptId},postReadyGrades(e){return this.$send({method:"POST",url:this.$url()+"/postReadyGrades",data:{}},(function(e){this.ui.numOfGradesPosted=e.data.count})).$asPromise().then((e=>e.ui.numOfGradesPosted))},getScore(){return this.displayGrade&&null!=this.displayGrade.score?this.displayGrade.score.toString():""},isOverride(){var e,t;return null!==(t=null===(e=this.displayGrade)||void 0===e?void 0:e.isOverride)&&void 0!==t&&t},isPastDueZero(){return null!=this.displayGrade&&!0===this.displayGrade.scoredByAutomaticZero}},Collection:{},Model:{unpack(e,t){return t=this.$super(e,t),e.$isCollection?t.forEach((t=>{n(t,e.permissions)})):n(t,e.permissions),t;function n(e,t){e.permissions=t}}}}})])},KvMR:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("+pNa");const a="ultra.components.directives.bbUiIcon.small.Download";Object(i.a)(s.a,a,"bbUiIconSmallDownload")},"L+81":function(e,t,n){"use strict";var i=n("D57K"),s=(n("zhNR"),n("XPgl"),n("lx16")),a=n("Llzl"),o=n("kC07"),r=n("D8d/"),l=n("lEL+"),c=n("DnQR"),d=(n("lwNT"),n("vcLy"),n("KXuk"),n("CuGX"),n("9OUN")),u=n("Sa5G"),m=n("0JpG"),p=n("MKP7"),h=n("JNtI"),g=n("Ocaa"),b=n("pIXs"),f=n("aTRN"),v=n("nYZ0"),y=n("Qbdf"),k=n("w9Zy"),x=n("TnpK"),S=n("X455"),C=n("oi1r"),E=n("jhBu"),I=n("1ZbL");const w="ultra.features.course.content.banners.bbForcedSequenceWarningBanner",A={Class:n("AuQm").t,withThemeProvider:!0,renderLocalized:!0};a.module(w,[]).component("bbForcedSequenceWarningBanner",Object(I.a)(A));var O=n("VUvS"),D=n("aHpC"),T=n("e6jQ"),P=n("BLb8"),$=n("nmzr"),G=n("/5AG"),j=n("Htol"),L=n("Y+9S"),N=n("IbyE"),B=n("m5Qz"),M=n("tBL6");const R="ultraUi.components.directives.content.learningModule.learningModuleBaseItem";let F=class{constructor(e,t,n,i,s,a,o,r,l,c,d,m,p,h,g){var b;this.scope=e,this.$rootScope=t,this.element=n,this.attrs=i,this.localizeService=s,this.$q=a,this.contentService=o,this.offcanvasService=r,this.timeout=l,this.ultraState=c,this.contextCourseMembership=d,this.entitlementService=p,this.$ngRedux=h,this.contextCourse=g,this.lmTitlePlaceholder=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"components.directives.learning-module.base-item.title-placeholder"}),this.description="",this.controlId=Object(T.a)(),this.childrenRefresher=new M.a(this.$q),this.conditionalRelease=m.instantiate(f.a,{scope:e}),e.content.title||(e.content.title=this.lmTitlePlaceholder),e.content.description=null!==(b=e.content.description)&&void 0!==b?b:"",this.scope.$on("refresh-conditional-release-rules",((e,t)=>{this.scope.content.id===t.id&&this.conditionalRelease.getConditions(t)})),this.scope.$on("bb-update-CR-tooltip",((e,t,n,i)=>{t&&(this.rulesCriteria&&this.rulesCriteria.gradeColumnId)===t.id&&this.conditionalRelease.getConditions(this.scope.content,n,i)})),(e.content.isConditionalReleaseLocked()||e.content.isConditionalRelease()||e.content.isForcedSequenceModule())&&this.conditionalRelease.getConditions(e.content),this.entitlementService.hasCourseEntitlement(u.f.ModifyContent,this.scope.content.courseId).then((e=>{this.entitledToModifyContent=e})),this.scope.$on(j.b,((t,n)=>{this.childrenRefresher.refreshChildren(n,e.content,this.contextCourseMembership.isStudentMembership())})),this.courseId=this.scope.content.courseId||this.ultraState.params.courseId,this.subscribeToReduxChanges();const v=this.entitlementService.isUserEntitledToRetrieveCourseProgressConfiguration(this.contextCourseMembership.isStudentMembership());!this.courseProgressConfiguration&&this.retrieveCourseProgressConfiguration&&v&&this.retrieveCourseProgressConfiguration({courseId:this.courseId}),Object(P.b)(this.scope,((e,t)=>{this.scope.content.isConditionalReleaseLocked()&&this.scope.content.containsCriteriaWithGradeColumnId(t)&&Object(P.c)(this.scope,t)})),Object(P.a)(this.scope,(e=>{this.scope.content.isConditionalReleaseLocked()&&Object(P.c)(this.scope)}))}deleteContent(){this.scope.$emit("deleteContent",this.scope.content)}getOverflowMenu(){return[{icon:"draw",labelKey:"global.edit",show:()=>this.scope.content.canEdit(),onClick:this.edit.bind(this)},{icon:"class-pulse-future",uniqueId:"content-progress",labelKey:this.contextCourse.course.isOrganization?"components.directives.content-item-base.overflow-menu.content-progress-org":"components.directives.content-item-base.overflow-menu.content-progress",show:()=>this.canViewProgress(),onClick:()=>{this.ultraState.goPeekState($.k.GENERIC_STUDENT_PROGRES_PEEK_PANEL,{id:this.scope.content.id,courseId:this.courseId})}},{icon:"trash",labelKey:"global.delete",show:()=>this.scope.content.canDelete(),onClick:this.deleteContent.bind(this),confirmationOptions:{lazyLoadTitleKeyAndInstructionsKey:()=>this.getDeleteConfirmationKeyAndShowType().then((e=>{const t=e.confirmationKey.replace(/^resource\//,"");return this.$q.when(h.a(t))}))}}]}edit(){this.ultraState.goPeekState($.k.EDIT_LEARNING_MODULE_PEEK_PANEL,{id:this.scope.content.id})}getDeleteConfirmationKeyAndShowType(){return this.contentService.generateDeleteConfirmationKey(this.scope.content,this.scope.contextArea).then((e=>({confirmationKey:this.scope.content.ui.deleteConfirmationKey,showType:this.scope.content.ui.modalShowType})))}canViewProgress(){var e;return!!(null===(e=this.courseProgressConfiguration)||void 0===e?void 0:e.progressTrackingEnabled)&&this.entitlementService.isEntitled(G.s.ViewProgressInformation,this.courseId)}subscribeToReduxChanges(){const e=this.$ngRedux.connect((e=>({courseProgressConfiguration:N.gc.courseProgress.getCourseProgressConfiguration(e,this.courseId)})),(e=>Object(d.b)({retrieveCourseProgressConfiguration:N.X.courseProgress.loadCourseProgressConfiguration},e)))(this);this.scope.$on("$destroy",e)}toggleLM(){var e,t;null===(t=(e=this.scope).toggleFunc)||void 0===t||t.call(e),this.scope.content.ui.isOpen&&this.fetchProgress().then((()=>{const e={type:L.c.LearningModuleOpened,status:L.b.Success,contentId:this.scope.content.id};Object(L.r)(e)}))}isCourseCompletedAndInInstructorView(){return!this.scope.content.canEdit()&&this.entitledToModifyContent}get canOpenConditionalRelease(){return!!(this.scope.content&&this.scope.content.permissions&&this.scope.content.permissions.adaptiveRelease&&this.scope.content.permissions.adaptiveRelease.view)}openConditionalRelease(){this.ultraState.goPeekState($.k.CONDITIONAL_RELEASE_PEEK_PANEL,{contentId:this.scope.content.id})}getNeighborReviewState(){return G.y.None}shouldShowReviewStateIcon(){return N.j.canHaveReviewState(this.scope.content)&&N.j.canViewReviewState(this.scope.content)&&!!this.scope.content.id}onChangeVisibility(){this.scope.content.visibility=this.contentService.determineVisibility(this.scope.content.isAvailable);this.scope.content.withParams({fields:"id"}).$save(["isAvailable","isPartiallyVisible","adaptiveReleaseRules"]).$asPromise().then((()=>{this.$rootScope.$broadcast("content-update",this.scope.content)}))}fetchProgress(){return this.scope.content.$fetch({expand:"hasProgressed"}).$asPromise().then((e=>{this.scope.content=e}))}shouldShowForcedSequenceWarningBanner(){return this.scope.content.canEdit()&&this.scope.content.isForcedSequenceModule()&&this.scope.isOpen&&!this.scope.content.isHiddenFromStudents()&&this.scope.content.hasProgressed}};F=Object(i.a)([Object(i.c)(0,Object(D.b)("scope")),Object(i.c)(1,Object(D.b)("$rootScope")),Object(i.c)(2,Object(D.b)("element")),Object(i.c)(3,Object(D.b)("attrs")),Object(i.c)(4,Object(D.b)(m.serviceName)),Object(i.c)(5,Object(D.b)("$q")),Object(i.c)(6,Object(D.b)(v.f)),Object(i.c)(7,Object(D.b)(k.e)),Object(i.c)(8,Object(D.b)(l.b)),Object(i.c)(9,Object(D.b)(x.d)),Object(i.c)(10,Object(D.b)(S.d)),Object(i.c)(11,Object(D.b)("$injector")),Object(i.c)(12,Object(D.b)(E.b)),Object(i.c)(13,Object(D.b)("$ngRedux")),Object(i.c)(14,Object(D.b)(y.e))],F);class V{constructor(e){this.$injector=e,this.restrict="E",this.template=O,this.scope={content:"=",canToggle:"&",toggleFunc:"&",canMove:"=",contextArea:"=",isOpen:"="},this.link=(e,t,n)=>{e.baseItem=this.$injector.instantiate(F,{scope:e,element:t,attrs:n})}}}V.$inject=["$injector"],a.module(R,[p.a,b.a,v.d,g.a,k.d,l.a,x.b,C.a,E.a,w,B.a]).directive("bbLearningModuleBaseItem",["$injector",e=>e.instantiate(V)]);var _=n("zGdY");n.d(t,"a",(function(){return U}));const U="ultra.directives.folder";let H=class{constructor(e,t,n,i){this.scope=e,this.element=t,this.timeout=n,this.contextCourseMembership=i,this.showEmptyMenu=!0,this.showMenuOverride=!1,this.showOutlineOverride=!1,this.isOpen=!1,this.toggleLabelKey="components.directives.folder.aria-label.open",this.initialChildrenLength=0,this.FOLDER_CONTENTS_SELECTOR=".folder-contents",this.contextArea=e.contextArea,this.loadMoreChildren=e.loadMoreChildren,this.contents=e.contents,this.content.ui?this.content.ui.isOpen=!1:this.content.ui={isOpen:!1},e.$on("toggle-folder",((e,t)=>{this.canToggle()&&t===this.content&&this.toggleFolder()})),e.$on("toggle-folder-by-id",((t,n)=>{this.canToggle()&&n===this.content.id&&(this.scope.$$phase||this.scope.$root&&this.scope.$root.$$phase?this.toggleFolder():e.$apply((()=>{this.toggleFolder()})))})),e.$on("close-folder-immediately-by-id",((e,t)=>{this.isOpen&&this.canToggle()&&t===this.content.id&&this._closeFolderImmediately()})),e.$on("bb-drag-start",(()=>{this.isOpen&&this.canToggle()&&(null==this.content.children||0===this.content.children.length)&&this._closeFolderImmediately()})),e.$on("close-all-add-menus",((e,t)=>{if(this.isOpen&&(null==this.content.children||0===this.content.children.length)&&this.content.id!==t){if(this.content.isLearningModule())return;this.toggleFolder()}})),e.$on("showContentImportProgress",((t,n,i)=>{this.content.id!==i||0!==this.content.children.length||this.showOutlineOverride||(this.showOutlineOverride=!0,this.timeout((()=>{this.scope.$broadcast("showContentImportProgress",n,i)}),e))})),e.$on("keyboard-drag-move",((e,t)=>{this.content.id+"blank"===t?this.showEmptyMenu=!1:this.showEmptyMenu=!0})),e.$on("keyboard-drag-lost-focus",(()=>{this.showEmptyMenu=!0})),e.$on("keyboard-drag-end",(()=>{this.showEmptyMenu=!0}))}_closeFolderImmediately(){this.scope.$$phase||this.scope.$root&&this.scope.$root.$$phase?(this.element.children(".folder").children(this.FOLDER_CONTENTS_SELECTOR).hide(),this.isOpen=!1,this.content.ui.isOpen=!1):this.scope.$apply((()=>{this.element.children(".folder").children(this.FOLDER_CONTENTS_SELECTOR).hide(),this.isOpen=!1,this.content.ui.isOpen=!1}))}toggleFolder(){this.isOpen||null!=this.content.children&&0!==this.content.children.length||this.loadMoreChildren(this.content).$then((()=>{var e;this.content.children&&0===this.content.children.length&&(null===(e=this.scope.content.permissions)||void 0===e?void 0:e.canHaveReviewState)&&this.scope.content.state!==_.u.Completed&&this.scope.content.updateState(_.u.Completed,!0)})),this.content.children&&(this.isOpen=this.content.ui.isOpen=!this.content.ui.isOpen,this.content.children.$then((()=>{this.initialChildrenLength=this.content.children.length,0===this.content.children.length?(this._calculateDurationAndToggle(),this.showMenuOverride=!0,(this.isOpen||this.isOpen&&this.content.isLearningModule())&&this.scope.$root.$broadcast("close-all-add-menus",this.content.id)):this.timeout((()=>{this._calculateDurationAndToggle(),this.showMenuOverride=!1}),this.scope),this.clearWatcher&&this.clearWatcher(),this.clearWatcher=this.scope.$watch((()=>this.content.children&&this.content.children.length),((e,t)=>{this.showMenuOverride=0===e,0===e&&e!==t&&this.isOpen&&this.scope.$root.$broadcast("close-all-add-menus",this.content.id),null==e&&this.isOpen&&(this._closeFolderImmediately(),this.toggleFolder())}))})),this.toggleLabelKey=this.isOpen?"components.directives.folder.aria-label.close":"components.directives.folder.aria-label.open")}_calculateDurationAndToggle(){const e=this.isOpen?1e3:2e3,t=this.element.children(".folder").children(this.FOLDER_CONTENTS_SELECTOR).outerHeight(),n=Math.round(1.17*t),i=Math.min(e,n);this.element.children(".folder").children(this.FOLDER_CONTENTS_SELECTOR).slideToggle(i)}canToggle(){return this.content.canEdit()||!this.content.isRestricted()}get content(){return this.scope.content}isProgressTrackingStateShown(e){var t;return null===(t=e.permissions)||void 0===t?void 0:t.canViewReviewState}};H=Object(i.a)([Object(i.c)(0,Object(D.b)("scope")),Object(i.c)(1,Object(D.b)("element")),Object(i.c)(2,Object(D.b)(l.b)),Object(i.c)(3,Object(D.b)(S.d))],H);class z{constructor(e){this.$injector=e,this.restrict="E",this.scope={content:"=",contextArea:"=",canCreate:"=",contents:"=",canMove:"=",loadMoreChildren:"=",nextContentId:"=?",onFileDropHandler:"=?",onMoveHandler:"=",onMoveIntoFolderHandler:"=",previousContentId:"=?",canCopyImport:"=?",rootContent:"&?"},this.compile=e=>({pre:(e,t)=>{e.folder=this.$injector.instantiate(H,{scope:e,element:t})}}),this.template=c}}z.$inject=["$injector"],a.module(U,[o.b,r.a,s.a,l.a,R]).directive("bbFolder",["$injector",e=>e.instantiate(z)])},L2Kv:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return b}));var i=n("D57K"),s=n("0JpG"),a=n("lEL+"),o=n("aHpC"),r=n("+4Px"),l=n("gK/k"),c=n("9Fiv"),d=n("dF44"),u=n("kjyA");const m="rbGridCell";class p{}let h=class{constructor(t,n,i,s,a,o,l,c){this.scope=t,this.element=n,this.grid=i,this.container=s,this.$q=a,this.timeout=o,this.localizeService=l,this.debounce=c,this.goPreviousColumnImpl=()=>{this.removeFocus();let{row:e}=this.scope;const{col:t}=this.scope,n=this.container.rows,i=this.grid.getFocusableColumns(),s=i[(i.indexOf(t)-1+i.length)%i.length];if("right"===this.container.position&&this.scope.$first)return void this.grid.scrollToRight((()=>this.notifyFocus(e,s)));if(s===i[i.length-1]){if(e){const t=n.indexOf(e)-1;e=n[t];let i=NaN;this.container.isRowOutOfBound(t).top&&(i=this.container.getTopRowScrollTop(t)),this.grid.scrollToRightWithTop(i,(()=>this.notifyFocus(e,s)))}return}const a=this.container.columns.indexOf(s),o=a>=0;this.container.isColOutOfBound(a).left?this.grid.scroll({scrollLeft:o?this.container.getLeftColScrollLeft(s):0},(()=>this.notifyFocus(e,s))):this.notifyFocus(e,s)},this.goNextColumnImpl=()=>{this.removeFocus();const{row:e,col:t}=this.scope,n=this.container.rows,i=this.grid.getFocusableColumns(),s=i[(i.indexOf(t)+1)%i.length];if("left"===this.container.position&&this.scope.$last)return void this.grid.scrollToLeft((()=>this.notifyFocus(e,s)));if(s===i[0]){let t=-1,i=n[0];if(void 0===e)t=0;else{const s=n.indexOf(e)+1;i=n[s],i&&this.container.isRowOutOfBound(s).bottom&&(t=this.container.getBottomRowScrollTop(s))}return void this.grid.scroll({scrollLeft:0,scrollTop:t},(()=>this.notifyFocus(i,s)))}const a=this.container.columns.indexOf(s);this.container.isColOutOfBound(a).right?this.grid.scroll({scrollLeft:this.container.getRightColScrollLeft(s)},(()=>this.notifyFocus(e,s))):this.notifyFocus(e,s)},this.goUpImpl=(e=!1)=>{this.removeFocus();const{row:t,col:n}=this.scope,i=this.container.rows,s=i.indexOf(t)-1;if(!t)return void this.grid.scrollToBottom((()=>this.notifyFocus(i[i.length-1],n)));const a=i[s];a?this.container.isRowOutOfBound(s).top?this.grid.scroll({scrollTop:this.container.getTopRowScrollTop(s)},(()=>this.notifyFocus(a,n))):this.notifyFocus(a,n):e?this.grid.scrollToBottom((()=>this.notifyFocus(i[i.length-1],n))):this.notifyFocus(void 0,n)},this.goDownImpl=(e=!1)=>{this.removeFocus();const{row:t,col:n}=this.scope,i=this.container.rows,s=i.indexOf(t)+1;let a=i[s];a?void 0!==t?this.container.isRowOutOfBound(s).bottom?this.grid.scroll({scrollTop:this.container.getBottomRowScrollTop(s)},(()=>this.notifyFocus(a,n))):this.notifyFocus(a,n):this.grid.scrollToTop((()=>this.notifyFocus(a,n))):e?(a=i[0],this.grid.scrollToTop((()=>this.notifyFocus(a,n)))):this.notifyFocus(a,n)},this.goPreviousColumn=this.debounce.asDebounced(this.goPreviousColumnImpl,this.scope,d.c),this.goNextColumn=this.debounce.asDebounced(this.goNextColumnImpl,this.scope,d.c),this.goUp=this.debounce.asDebounced(this.goUpImpl,this.scope,d.c),this.goDown=this.debounce.asDebounced(this.goDownImpl,this.scope,d.c),this.setTabindex(),n.on("keydown",(t=>{const n=this.getHandler(t);n&&(this.grid.previousCell=this,this.tabPressed=t.keyCode===r.u,Object(r.x)(t)&&e(document.body).removeClass("hide-focus-outline"),n.call(this),t.preventDefault(),t.stopPropagation())})),t.$on(d.b.FOCUS_CELL,((e,t,n)=>{this.scope.row===t&&this.scope.col===n&&(this.handleFocus(),this.grid.cellFocusDeferred&&this.grid.cellFocusDeferred.resolve(this))})),t.$on(d.b.LEAVE_CELL,(()=>{this.handleFocus()})),t.$on(d.b.ENTER_NEXT_CELL,(()=>{this.grid.cellFocusDeferred=new function(){this.promise=new Promise((e=>this.resolve=e))},this.goForth(),this.grid.cellFocusDeferred.promise.then((e=>{e.handleEnter(),this.grid.cellFocusDeferred=null}))}))}setTabindex(){this.scope.col.focusable&&this.element.attr("tabindex",0)}goLeft(){return this.localizeService.isRTL(this.scope)?this.goNextColumn():this.goPreviousColumn()}goRight(){return this.localizeService.isRTL(this.scope)?this.goPreviousColumn():this.goNextColumn()}goForth(){this.goDown(!0)}goBack(){this.goUp(!0)}removeFocus(){this.container.element.find(".rb-ax-focus-placeholder").focus()}notifyFocus(e,t){this.grid.$scope.$broadcast(d.b.FOCUS_CELL,e,t)}handleFocus(){this.element.focus()}isFirst(){const{row:e,col:t}=this.scope,n=this.grid.getFocusableColumns();return void 0===e&&t===n[0]}isLast(){const{row:e,col:t}=this.scope,n=this.container.rows,i=this.grid.getFocusableColumns();return e===n[n.length-1]&&t===i[i.length-1]}getHandler(e){return Object(r.z)(e)&&!this.isFirst()?this.goBack:Object(r.A)(e)&&!this.isLast()?this.goForth:e.keyCode===r.j?this.goLeft:e.keyCode===r.s?this.goRight:e.keyCode===r.v?this.goUp:e.keyCode===r.d?this.goDown:Object(r.y)(e)?this.handleEnter:e.keyCode===r.g?this.element.is(e.target)?this.handleEscape:this.handleFocus:void 0}handleEnter(){this.scope.$broadcast(d.b.ENTER_CELL,this.element)}handleEscape(){this.scope.$emit(d.b.LEAVE_GRID)}};h=Object(i.a)([Object(i.c)(0,Object(o.b)("scope")),Object(i.c)(1,Object(o.b)("element")),Object(i.c)(2,Object(o.b)("grid")),Object(i.c)(3,Object(o.b)("container")),Object(i.c)(4,Object(o.b)("$q")),Object(i.c)(5,Object(o.b)(a.b)),Object(i.c)(6,Object(o.b)(s.serviceName)),Object(i.c)(7,Object(o.b)(u.b))],h);class g extends h{setTabindex(){this.scope.col.focusable&&this.element.attr("tabindex",this.scope.col.headerFocusable?0:-1)}goBack(){this.goLeft()}goForth(){const{row:e,col:t}=this.scope;this.canAddColumn()?this.container.canAddColumn()?this.notifyFocus(e,t):this.grid.scrollToLeft((()=>this.notifyFocus(e,t))):this.goRight()}handleFocus(){const e=this.grid.previousCell,t=this.grid.containers.center.columnAdder;e.tabPressed&&e instanceof g&&e.canAddColumn()&&this.canAddColumn()?(this.container.canAddColumn()?t.show(this.element.find(".rb-add-column-placeholder"),this.scope.col):t.show(),t.button.focus()):this.scope.col.headerFocusable?super.handleFocus():this.scope.$broadcast(d.b.CELL_FOCUSED,this.element)}canAddColumn(){return this.container.canAddColumn()||this.grid.canAddColumn()&&"left"===this.container.position&&this.scope.$last}}let b=class{constructor(e,t){this.$injector=e,this.$compile=t,this.templates=Object.create(null),this.restrict="A",this.require=[`^${l.a}`,`^${c.c}`,m],this.controller=p,this.transclude=!0,this.link=(e,t,n,i,s)=>{const a=e.$eval(n[m]);(this.templates[a]=this.templates[a]||this.$compile(a))(e,(e=>t.append(e))),s((e=>t.append(e)));const[o,r,l]=i;l.cellNavigator=this.$injector.instantiate(e.row?h:g,{scope:e,element:t,grid:o,container:r.container})}}};b=Object(i.a)([Object(i.c)(0,Object(o.b)("$injector")),Object(i.c)(1,Object(o.b)("$compile"))],b)}).call(this,n("71td"))},LFd7:function(e,t,n){"use strict";var i=n("D57K"),s=n("X455"),a=n("Sa5G"),o=n("aHpC"),r=n("yC9S"),l=n("9hUw"),c=n("0JpG"),d=n("Llzl"),u=n("ERkP"),m=n("1ZbL"),p=n("/n7R"),h=n("0x+l");const g="ultra.components.directives.content.contentItem.contentItemType.contentItemPeerAssessment.tooltip";class b extends u.Component{render(){return u.createElement(p.AnalyticsTooltip,{placement:"top",title:this.props.tooltipTitle,"aria-label":this.props.tooltipTitle,analyticsId:"components.directives.content-item-base.content-item-peer-assessment.tooltip.button"},u.createElement("button",{className:"peer-review-info-tooltip"},u.createElement(h.Information,null)))}}const f={Class:b,bindingNames:["tooltipTitle"]};d.module(g,[]).component("bbUiContentItemPeerAssessmentTooltip",Object(m.a)(f));var v=n("HE6t");n.d(t,"a",(function(){return y}));const y="ultra.components.directives.content.contentItem.contentItemType.contentItemPeerAssessment";let k=class{constructor(e,t,n,i){this.$scope=e,this.contextCourseMembership=t,this.peerReviewService=n,this.localize=i}$onInit(){var e;this.$scope.contentItemPeerAssessment=this,a.g.TestLink.isEqualTo(null===(e=this.content)||void 0===e?void 0:e.contentHandler)?this.peerReviewService.getOrCreatePeerContentFromContent(this.content).then((e=>{this.peerReviewContentObject=e,this.isInitialized=!0})):this.isInitialized=!0}getTooltipMessage(){return this.localize.translateSync({key:"components.directives.content-item-base.content-item-peer-assessment.peer-review-information-tooltip",locale:this.localize.getLocale(this.$scope)})}get peerReviewsPerStudent(){var e,t;return null!==(t=null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.numOfPeerReviewsToComplete)&&void 0!==t?t:0}get peerReviewDueDate(){var e;return null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.peerReviewDueDate}get isPeerGrading(){var e,t;return null!==(t=null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.peerGrading)&&void 0!==t&&t}get isPeerGradingConfigured(){var e,t;return null!==(t=null===(e=this.peerReviewContentObject)||void 0===e?void 0:e.isPeerGradingConfigured)&&void 0!==t&&t}};k=Object(i.a)([Object(r.a)({moduleName:y,componentName:"bbContentItemPeerAssessment",bindings:{content:"<"},template:v,requireModules:[c.moduleName,l.a,g]}),Object(i.c)(0,Object(o.b)("$scope")),Object(i.c)(1,Object(o.b)(s.d)),Object(i.c)(2,Object(o.b)(l.b)),Object(i.c)(3,Object(o.b)(c.serviceName))],k)},LN5R:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return q})),n.d(t,"a",(function(){return W}));var i=n("D57K"),s=(n("wAzH"),n("KXuk"),n("Tt7N"),n("01PJ"),n("Vdys"),n("xoIb"),n("Lrq8"),n("VCKY"),n("6Fqm"),n("JuVx")),a=n("qH3X"),o=n("cbVV"),r=n("Llzl"),l=n("nsO7"),c=n("yC9S"),d=n("nmzr"),u=n("aHpC"),m=n("2bSy"),p=n("810X"),h=n("7OC/"),g=n("9KIl"),b=n("jSqS"),f=n("TnpK"),v=n("kN1T"),y=n("xcel"),k=n("y+vt"),x=n("0JpG"),S=n("gK/k"),C=n("lEL+"),E=n("hkqm"),I=n("X/qj"),w=n("ROik"),A=n("AVdi"),O=n("o5Lu"),D=n("xiEu"),T=n("C36k"),P=n("s+Z7"),$=n("zGdY"),G=n("IbyE"),j=n("+4Px"),L=n("6CeR"),N=n("9Zs+"),B=n("dF44"),M=n("TmUJ"),R=n("2o5C"),F=n("fGDP"),V=n("uFkY"),_=n("vYaK"),U=n("Kpdw"),H=n("ZzR9"),z=n("ZQFV");const q="ultra.components.directives.gradeGridReborn",W="bbGradeGridReborn";let K=class{constructor(e,t,n,i,s,r,u,m,p,h,g,b,f,v,y,k,x){this.$compile=e,this.$element=t,this.$injector=n,this.$ngRedux=i,this.$q=s,this.$scope=r,this.$location=m,this.ultraState=p,this.gradeService=h,this.gradebookPermissionService=g,this.$attrs=b,this.bbLocalize=f,this.CourseModel=v,this.GradeColumn=y,this.timeout=k,this.toast=x,this.headerHeight=150,this.rowHeight=80,this.showFilterCriteria=!1,this.mergedCourses=[],this.studentsTotal=0,this.onUrlFiltersUpdated=()=>{const e=this.$location.search(),t=this.hasUrlFilters;this.hasUrlFilters=!!(e.memberId||e.gradebookColumnId||e.gradebookCategoryId||e.courseGroupId||e.childCourseId),t!==this.hasUrlFilters&&this.setContainerHeight(),this.updateFilterConditions(e)},this.initialized=!1,c.b.OnWindow("resize",l.debounce(this.setContainerHeight.bind(this),100),r),this.setContainerHeight(),r.$on(H.a.$locationChangeSuccess,(()=>{this.timeout((()=>this.setContainerHeight()),this.$scope,50)})),this.mergedCourses.push(...this.$scope.mergedCourses),r.$on(a.a.FOCUSIN_CELL,((e,t)=>{this.activeColumnId=t.columnId})),r.$on(a.a.FOCUSOUT_CELL,((e,t)=>{this.activeColumnId=void 0})),r.$on(H.b.$stateChangeStart,(()=>this.changingState=!0)),r.$on(H.b.$stateChangeSuccess,(()=>this.changingState=!1)),this.subscribeToReduxChanges(),this.initialize().then((()=>{this.onUrlFiltersUpdated(),this.setupSearchFilterListener(),this.setupColumnChangeListener(),r.$on(H.a.$locationChangeSuccess,this.onUrlFiltersUpdated)})),this.$scope.$on("bb-change-overall-panel-visibility",((e,t,n)=>{var i;this.gridData.course.id!==t&&this.gridData.course.isComplete()||("true"===(null===(i=this.setupOverallGradeMessageIsHiddenPreference)||void 0===i?void 0:i.value)?this.isOverallPanelShown=!1:this.isOverallPanelShown=n)})),this.$scope.$on("grade-notation-cache-update",((e,t)=>{this.updateOverallNotation()})),this.$scope.$on("bb-grades-schema-save",((e,t)=>{this.refreshSchema(t)})),c.b.OnRootScope(this.$scope,"bb-grade-input-save",((e,t,n,i)=>{const s=this.gridData.getColumn(n),a=s.data;a.$fetch().$asPromise().then((()=>a.summary.$fetch().$asPromise())).then((()=>{if(s instanceof o.c)return this.updateAffectedColumns(this.getAffectedColumns(s))})).then((()=>{if(i){const e=this.gridData.getRowByUserId(i);this.refreshDataCell(e,s)}else this.gridData.updateColumnByMetadata(a),this.$scope.$broadcast(B.b.COLUMN)}))})),this.$scope.$on(V.a,((e,t,n,i,s)=>{const a=this.gridData.getRowById(n),o=this.gridData.getColumn(t);this.refreshDataCell(a,o)})),this.$scope.$on("course.grades.gradebook-item.submission.grade-status-change",((e,t)=>{const n=this.gridData.getRowByUserId(t.userId),i=this.gridData.getColumn(t.columnId),s=i.data;s.$fetch().$asPromise().then((()=>s.summary.$fetch().$asPromise())).then((()=>{if(i instanceof o.c)return this.updateAffectedColumns(this.getAffectedColumns(i))})).then((()=>{i instanceof o.h?this.refreshDataCells(this.gridData.getGroupIdUserIdMap()[t.groupId].map((e=>this.gridData.getRowByUserId(e))),[i]):t.updateColumn?(this.gridData.updateColumnByMetadata(s),this.$scope.$broadcast(B.b.COLUMN)):this.refreshDataCell(n,i)}))})),this.$scope.$on("bb-reload-grid-view",(e=>{this.$scope.$emit("grade-notation-update",this.gridData.course.id)})),this.$scope.$on(R.b,(()=>{this.refreshColumns()})),this.$scope.$on(F.a,((e,t)=>{this.refreshColumns((()=>{this.gridData.addUpdatedColumnFlag(t)}))})),this.$scope.$on(H.b.$stateChangeSuccess,((e,t,n,i)=>{i.name.endsWith(d.x.GRADEBOOK_GRID_ADVANCED_FILTERS)&&this.updateFilterConditions(n)})),this.$scope.$on("$destroy",(()=>{this.columnFiltersPresent()&&this.setUnfilteredColumns()})),this.canViewOverallPanel=g.canModify()}updateFilterConditions(e){const t={membershipId:e.memberId,groupId:e.courseGroupId,childCourseId:e.childCourseId},n={columnId:e.gradebookColumnId,gradebookCategoryId:e.gradebookCategoryId};this.changingState||(l.isEqual(t,this.rowFilterParams)||(this.rowFilterParams=t,this.rowFiltersPresent()?this.setAdvancedFilterRows(e):this.setUnfilteredRows()),l.isEqual(n,this.columnFilterParams)||(this.columnFilterParams=n,this.columnFiltersPresent()?this.setAdvancedFilterColumns(e):this.setUnfilteredColumns()))}updateAffectedColumns(e){return this.$q.all(e.map((e=>{const t=e.data;return t.$fetch().$asPromise().then((()=>t.summary.$fetch().$asPromise()))}))).then((()=>{e.forEach((e=>this.gridData.updateColumnByMetadata(e.data)))}))}rowFiltersPresent(){const e=this.ultraState.params;return Object(d.N)(e)}columnFiltersPresent(){const e=this.ultraState.params;return!!e.gradebookCategoryId||!!e.gradebookColumnId}setUnfilteredRows(){this.studentsTotal=this.availableRowSelectedOptions.length,this.$scope.$broadcast(B.b.ROW,this.availableRowSelectedOptions),this.$scope.$emit(a.a.ADVANCED_FILTERS_ROWS,this.availableRowSelectedOptions)}setUnfilteredColumns(){this.gridData.getFilteredColumns({}).then((e=>{this.availableColumnSelectedOptions=e,this.$scope.$broadcast(B.b.COLUMN,e),this.$scope.$emit(a.a.ADVANCED_FILTERS_COLUMNS,this.availableColumnSelectedOptions)}))}setAdvancedFilterRows(e){const t={membershipId:e.memberId,groupId:e.courseGroupId,childCourseId:e.childCourseId};this.gridData.fetchMemberships(t).then((e=>{this.studentsTotal=e.length,this.$scope.$broadcast(B.b.ROW,e),this.$scope.$emit(a.a.ADVANCED_FILTERS_ROWS,e)}))}setAdvancedFilterColumns(e){const t={columnId:e.gradebookColumnId,gradebookCategoryId:e.gradebookCategoryId};this.gridData.getFilteredColumns(t).then((e=>{this.filteredColumns=e,this.$scope.$broadcast(B.b.COLUMN,e),this.$scope.$emit(a.a.ADVANCED_FILTERS_COLUMNS,e)}))}initialize(){return this.$q(((e,t)=>{this.$q.all([this.bbLocalize.loadBundle("components/directives/grade/grade-grid"),this.bbLocalize.loadBundle("components/directives/grade/grade-input")]).then((()=>{this.gridData=this.$injector.instantiate(s.a,{gradeGridRebornDirectiveScope:this.$scope}),this.gridData.initialized.then((n=>{this.availableRowSelectedOptions=n.memberships,this.studentsTotal=n.memberships.length,this.availableColumnSelectedOptions=n.columns,this.$scope.$emit(a.a.ADVANCED_FILTERS_ROWS,this.availableRowSelectedOptions),this.$scope.$emit(a.a.ADVANCED_FILTERS_COLUMNS,this.availableColumnSelectedOptions),this.gridOptions={memberships:n.memberships,columns:n.columns,rowHeight:this.rowHeight,headerHeight:this.headerHeight,headerContentHeight:89,headerBorder:!0,rowBorder:!0,callbacks:{data:(e,t)=>this.gridData.loadGradeData(e,t),column:this.gridData.course.isComplete()?void 0:(e,t)=>this.onClickAddColumnButton(e,t)}},this.initialized=!0,this.handleMergedCourse(),this.gridData.course.isComplete()?(this.isOverallPanelShown=!1,e(!0)):this.gradeService.needsToSetupOverall(this.gridData.getColumnMetadatas(),this.gridData.course.id).then((t=>{t?this.loadSetupOverallGradeMessageIsHiddenPreference&&!this.setupOverallGradeMessageIsHiddenPreference&&this.loadSetupOverallGradeMessageIsHiddenPreference(z.K.key).then((()=>{var e;const t="true"===(null===(e=this.setupOverallGradeMessageIsHiddenPreference)||void 0===e?void 0:e.value);this.isOverallPanelShown=!t})):this.isOverallPanelShown=t,e(!0)})).catch(t)})).catch((e=>{console.error(e),t(e)}))})).catch((e=>{console.error(e),t(e)}))}))}subscribeToReduxChanges(){const e=this.$ngRedux.connect((e=>({setupOverallGradeMessageIsHiddenPreference:G.gc.coursePreference.getCoursePreferenceByKeyAndCourseId(e,z.K.key,this.$scope.course().id),gradebookGrades:G.gc.gradebookGrade.getGradebookGradesByCourseId(e,this.$scope.course().id)})),(e=>({loadSetupOverallGradeMessageIsHiddenPreference:t=>e(G.X.coursePreference.loadCoursePreference({key:t,courseId:this.$scope.course().id}))})))((({setupOverallGradeMessageIsHiddenPreference:e,gradebookGrades:t},{loadSetupOverallGradeMessageIsHiddenPreference:n})=>{let i;Object.assign(this,{setupOverallGradeMessageIsHiddenPreference:e,loadSetupOverallGradeMessageIsHiddenPreference:n}),this.currentGradebookGrades&&t&&this.currentGradebookGrades!==t&&(i=t.find(((e,t)=>{var n,i,s;return!(null===(n=null==e?void 0:e.api)||void 0===n?void 0:n.isUpdating)&&(null===(i=this.currentGradebookGrades[t])||void 0===i?void 0:i.id)===e.id&&(null===(s=this.currentGradebookGrades[t])||void 0===s?void 0:s.isExempt)!==e.isExempt}))),this.currentGradebookGrades=t,i&&this.gridData.applyGradesFromState(i)}));this.$scope.$on("$destroy",e)}refreshSchema(e){this.gridData.getSchema()[e.id]=e,l.forEach(this.gridData.getColumnMetadatas(),(e=>{const t=this.gridData.getSchema()[e.gradingSchemaId];(null==t?void 0:t.scaleType)===$.ac.Tabular&&this.gridData.updateColumnByMetadata(e)})),this.$scope.$broadcast(B.b.COLUMN)}refreshDataCells(e,t){l.forEach(e,(e=>{l.forEach(t,(t=>{this.gridData.refreshDataCell(e,t)}))})),this.$scope.$broadcast(B.b.COLUMN)}refreshDataCell(e,t){this.gridData.refreshDataCell(e,t),this.$scope.$broadcast(B.b.COLUMN)}addStudentColumnBorder(e){e.externalGrade&&!this.gridData.isColumnExisting(e.id)&&this.gridData.getColumn(s.a.COLUMN_STUDENT).deleteBorder()}deleteStudentColumnBorder(e){e.externalGrade&&this.gridData.getColumn(s.a.COLUMN_STUDENT).addBorder()}updateOverallNotation(){const e=l.find(this.gridData.getColumns(),(e=>e instanceof o.k));e&&(e.loadNotation(),this.gridData.updateColumnByMetadata(e.data)&&this.$scope.$broadcast(B.b.COLUMN))}getAffectedColumnsBeforeEdit(e){const t=this.gridData.getColumn(e.id);let n=[];return t instanceof o.i&&(n=t.affectedColumnsBeforeEdit),n}getAffectedColumns(e){const t=e.findAffectedColumns(),n=l.find(this.gridData.getColumns(),(e=>e instanceof o.k));return n&&t.push(n),t}setupSearchFilterListener(){this.$scope.$on(a.a.GRADEBOOK_USER_SELECTED,((e,t)=>{const n=this.availableRowSelectedOptions;t&&t.length>0?this.$scope.$broadcast(B.b.ROW,l.intersectionWith(n,t,((e,t)=>e.userId===t))):n.length!==this.gridOptions.memberships.length&&(this.searchedResult&&"user"===this.searchedResult.type?this.$scope.$broadcast(B.b.ROW,[]):this.$scope.$broadcast(B.b.ROW,n))})),this.$scope.$on(a.a.GRADEBOOK_CLEAR_SEARCHBOX_SELECTION,((e,t)=>{const n=this.getAvailableRowSelectedOptions();this.availableRowSelectedOptions&&this.availableRowSelectedOptions.length!==this.gridOptions.memberships.length&&this.$scope.$broadcast(B.b.ROW,n),this.filteredColumns&&this.filteredColumns.length!==this.availableColumnSelectedOptions.length&&this.$scope.$broadcast(B.b.COLUMN,this.availableColumnSelectedOptions),this.ids&&(this.ids=null),this.handleMergedCourse()})),this.$scope.$on(a.a.GRADEBOOK_COLUMN_SELECTED,((e,t)=>{const n=this.availableColumnSelectedOptions;this.filterColumns(((e,t)=>l.filter(e,(e=>e.filterByColumId(t)))),t,n)})),this.$scope.$on(a.a.GRADEBOOK_CATEGORY_SELECTED,((e,t)=>{const n=this.availableColumnSelectedOptions;this.ids=t,this.filterColumns(((e,t)=>l.filter(e,(e=>e.filterByCategoryId(t)))),t,n)}))}setupColumnChangeListener(){this.$scope.$on(O.d,((e,t,n)=>{t.summary.$fetch().$asPromise().then((()=>{this.addStudentColumnBorder(t),this.updateColumns(t),this.updateFilteredColumns(),this.updateCategoryColumns(),this.filteredColumns&&this.toast.show({messageKey:"components.directives.grade.grid.newItemAdded",icon:"icon-check",toastStatus:"success"})}))})),this.$scope.$on("content-update",((e,t)=>{if(t.isScorm()){const e=t.getScormGradebookItems().map((e=>this.$scope.course().gradebook.columns.$buildRaw(e.gradingColumn)));this.$q.all(e.map((e=>(e.ui={content:t},e.summary.$fetch().$asPromise())))).then((()=>{e.forEach((e=>this.updateColumns(e)))}))}if(t.isDiscussion()){const e=this.gridData.getColumnMetadataByContentId(t.id);l.isUndefined(e)||this.gridData.initializeGroupsMemberships().then((()=>e.summary.$fetch().$asPromise())).then((()=>{this.updateColumns(e)}))}})),this.$scope.$on("bb-delete-column",((e,t)=>{const n=this.gridData.getColumn(t.id);this.deleteStudentColumnBorder(t);let i=this.$q.when();if(n instanceof o.c){const e=this.getAffectedColumns(n);i=this.$q.all(e.map((e=>e.data.$fetch().$asPromise()))).then((()=>{e.forEach((e=>this.gridData.updateColumnByMetadata(e.data)))}))}n instanceof o.k&&this.gridData.clearOverallColumn(),i.then((()=>{this.gridData.deleteColumnById(t.id),l.remove(this.filteredColumns,(e=>e.data.id===t.id)),this.$scope.$broadcast(B.b.COLUMN),this.timeout((()=>{const e=this.$element.find(":focus").parents("bb-grade-grid-column-header-reborn").data("col");l.isUndefined(e)||this.$scope.$broadcast(a.a.FOCUSIN_CELL,{columnId:e.id})}),this.$scope,0,!1)}))})),this.$scope.$on("attempt-base-content-update",((e,t)=>{this.updateAttempBaseContent(t)})),this.$scope.$on("attempt-base-content-update-by-regrading",((e,t)=>{this.updateAttempBaseContent(t)}))}updateAttempBaseContent(e){const t=this.gridData.getColumnMetadataByContentId(e.id);l.isUndefined(t)||t.$fetch().$asPromise().then((()=>{this.gridData.initializeGroupsMemberships().then((()=>t.summary.$fetch().$asPromise())).then((()=>{this.updateColumns(t)}))}))}updateColumns(e){const t=this.getAffectedColumnsBeforeEdit(e),n=this.gridData.updateColumnByMetadata(e);if(n instanceof o.c){let e=n.findAffectedColumns();e=l.unionBy(t,e,"id");const i=l.find(this.gridData.getColumns(),(e=>e instanceof o.k));i&&e.push(i),this.$q.all(e.map((e=>e.data.$fetch().$asPromise()))).then((()=>{e.forEach((e=>this.gridData.updateColumnByMetadata(e.data))),this.$scope.$broadcast(B.b.COLUMN)}))}else this.$scope.$broadcast(B.b.COLUMN)}setContainerHeight(){const t=e(".course-grades-header-buttons-wrapper"),n=t.offset().top+t.outerHeight()+parseFloat(t.css("margin-bottom")),i=window.innerHeight-n;this.$element.find(".grade-grid-container").css("height",i)}getRowCount(){return this.studentsTotal}getGridData(){return this.gridData}getElement(){return this.$element}createMenuScope(e,t){const n=this.$scope.$new(!0);return n.adjustPosition=t=>{const n=e.left+t.width(),i=this.getGradeGridContainerElementRight();n>i&&(e.left-=n-i+Object(M.a)()),t.offset(e)},n.positionAfter=t,n.attendanceColumnExists=this.isAttendanceExisting(),n.attendanceIsAvailable=this.attendanceIsAvailable,n}onClickAddColumnButton(t,n){const i=l.isUndefined(n)||"left"===n.position?"start":n.id,s=`grade-grid-add-column-menu-reborn-${i}`;if(this.isMenuExisting(s))return;const a=e(t.target).offset();a&&(a.top+=30);const o=this.createMenuScope(a,i);this.popupMenu(s,N,o),this.timeout((()=>{const i=this.getPopupMenu();i.on("keydown",(s=>{s.keyCode===j.g||s.keyCode===j.u?(i.data("destroy")(),e(t.target).click(),e(t.target).focus(),s.preventDefault(),s.stopPropagation()):j.y(s)&&this.$scope.$broadcast(B.b.FOCUS_CELL,void 0,n)})),this.getMenuitems().first().focus()}),o,0,!1),t.preventDefault(),t.stopPropagation()}getPopupMenu(){return this.$element.find("[bb-grade-grid-menu-reborn]")}getMenuitems(){return this.getPopupMenu().find("li>:tabbable")}getGradeGridContainerElement(){return this.$element.children("#grade-grid-container")}getGradeGridContainerElementRight(){const e=this.getGradeGridContainerElement();return e.offset().left+e.width()}getGradeGridContainerElementBottom(){const e=this.getGradeGridContainerElement();return e.offset().top+e.height()}popupMenu(e,t,n,i){n.id=e,this.showMenu(t,n,i)}isMenuExisting(e){return!!this.$element.children(`#${e}`).length}showMenu(e,t,n){t.$applyAsync((()=>{this.$compile(e)(t,(e=>{this.$element.append(e),l.isUndefined(n)||e.offset(n)}))}))}isAttendanceExisting(){return!!this.availableColumnSelectedOptions.find((e=>this.gridData.getColumnMetadata(e.id)&&this.gridData.getColumnMetadata(e.id).isAttendance()))}get attendanceIsAvailable(){return this.$scope.attendanceIsAvailable&&this.$scope.attendanceIsAvailable()}setupOverallGradeHideMessageCallback(){this.$scope.$apply((()=>this.isOverallPanelShown=!1))}refreshColumns(e=l.noop){this.gridData.refreshAllColumns(),e(),this.$scope.$broadcast(B.b.COLUMN)}filterColumns(e,t,n){t&&(this.filteredColumns=e(n,t),this.$scope.$broadcast(B.b.COLUMN,this.filteredColumns))}updateFilteredColumns(){const e=l.find(this.filteredColumns,(e=>e instanceof o.k));this.filteredColumns&&!e&&(this.filteredColumns.push(l.find(this.availableColumnSelectedOptions,(e=>e instanceof o.k))),this.$scope.$broadcast(B.b.COLUMN,this.filteredColumns))}updateCategoryColumns(){const e=this.availableColumnSelectedOptions;this.filterColumns(((e,t)=>l.filter(e,(e=>e.filterByCategoryId(t)))),this.ids,e)}handleMergedCourse(){this.mergedCourses.forEach((e=>{if(this.availableRowSelectedOptions){l.find(this.availableRowSelectedOptions,(t=>t.childCourseId===e.id))||(e.ui.hidden=!0)}}))}getCheckedMergeCourseIds(){return l.filter(this.mergedCourses,(e=>e.ui.checked)).map((e=>e.id))}getAvailableRowSelectedOptions(){return this.availableRowSelectedOptions}};K=Object(i.a)([Object(i.c)(0,Object(u.b)("$compile")),Object(i.c)(1,Object(u.b)("$element")),Object(i.c)(2,Object(u.b)("$injector")),Object(i.c)(3,Object(u.b)("$ngRedux")),Object(i.c)(4,Object(u.b)("$q")),Object(i.c)(5,Object(u.b)("$scope")),Object(i.c)(6,Object(u.b)("$rootScope")),Object(i.c)(7,Object(u.b)("$location")),Object(i.c)(8,Object(u.b)(f.d)),Object(i.c)(9,Object(u.b)(O.n)),Object(i.c)(10,Object(u.b)(I.b)),Object(i.c)(11,Object(u.b)("$attrs")),Object(i.c)(12,Object(u.b)(x.serviceName)),Object(i.c)(13,Object(u.b)(_.serviceName)),Object(i.c)(14,Object(u.b)(U.serviceName)),Object(i.c)(15,Object(u.b)(C.b)),Object(i.c)(16,Object(u.b)(E.b))],K);class J{constructor(e){this.$injector=e,this.restrict="E",this.template=L,this.controller=K,this.controllerAs="gg",this.scope={course:"&",columnMetadatas:"<columns",attendanceIsAvailable:"&?",mergedCourses:"<"}}}J.$inject=["$injector"],r.module(q,[S.b,m.a,p.a,h.a,g.a,v.a,y.a,k.a,w.a,A.a,T.a,P.a,I.a,E.a,D.a,f.b,b.a]).directive(W,["$injector",e=>e.instantiate(J)])}).call(this,n("71td"))},LTOG:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));class i{constructor(e,t){this.scope=e,this.timeout=t}highlight(t){t.isUpdated?(e(".rb-col-"+t.id).addClass("highlighted"),delete t.isUpdated,this.timeout((()=>{e(".rb-col-"+t.id).removeClass("highlighted")}),this.scope,6e3,!1)):e(".rb-col-"+t.id).removeClass("highlighted")}}}).call(this,n("71td"))},LdA1:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("D57K"),s=(n("KCTV"),n("Llzl")),a=n("wgY5"),o=n("IbyE"),r=n("0JpG"),l=n("Fvsw"),c=n("hqh6"),d=n("gZZS"),u=n("aHpC"),m=n("e6jQ"),p=n("q0yA");const h="ultra.directives.contentVisibilityRulesOptions";let g=class{constructor(e,t,n,i,s,a){this.$ngRedux=e,this.scope=t,this.element=n,this.form=i,this.context=s,this.bbLocalize=a,this.id=Object(m.a)(),this.scope.contentVisibilityRulesOptions=this,this.dateFrom=i.dateFrom,this.timeFrom=i.timeFrom,this.dateUntil=i.dateUntil,this.timeUntil=i.timeUntil,this.subscribeToReduxChanges();const o=this.bbLocalize.getAppLocaleISO();this.getLocaleSettings&&this.getLocaleSettings({locale:o}),this.startDateSelect=!!this.scope.startDate,this.untilDateSelect=!!this.scope.endDate,this.setWatchers(),this.setValidators();const r=Object(m.a)();this.dateFromContainer=`${r}-date-from-container`,this.dateUntilContainer=`${r}-date-until-container`}shouldFocus(e){return void 0!==this.scope.dateFieldFocus&&"undefined"!==this.scope.dateFieldFocus&&this.scope.dateFieldFocus===e}handleCheckClick(e){const t=this.startDateSelect,n=this.untilDateSelect;this.scope.$emit("date-selection-changed",t,n),this.scope.isAllowedEmpty?t||n||this.form.dateFrom.$setValidity("startAndOrEndDate",!0):t||n?this.form.dateFrom.$setValidity("startAndOrEndDate",!0):(this.form.dateFrom.$setTouched(),this.form.dateFrom.$setValidity("startAndOrEndDate",!1)),this.form.dateUntil.$validate(),this.form.timeUntil.$validate(),this.form.dateFrom.$validate(),this.form.timeFrom.$validate(),"from-check"===e&&t?(this.scope.startDate=this.context.getServerTime(),this.scope.startTime=this.context.getServerTime()):"until-check"===e&&n&&this.setInitialEndDateTime(),this.updateStartAndEndTime()}setInitialEndDateTime(){var e;let t;t=this.scope.subsequentDueDate||this.scope.dueDate?this.addDays(new Date(null!==(e=this.scope.subsequentDueDate)&&void 0!==e?e:this.scope.dueDate),1):this.addDays(this.scope.startDate>this.context.getServerTime()?this.scope.startDate:this.context.getServerTime(),1),this.scope.endDate=t,this.scope.endTime=t}addDays(e,t){return new Date(e.getTime()+24*t*60*60*1e3)}setErrorString(e,t){const n=(t?"start":"end")+(e?"DateValidationError":"TimeValidationError");return this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.content-visibility."+n})}isDateRequired(e){const t=this.element.find("#from-check-"+this.id).prop("checked"),n=this.element.find("#until-check-"+this.id).prop("checked");return!!(e?t:n)}setWatchers(){this.scope.$watch("startDate",(e=>{this.isValidDate(e)&&this.scope.startTime!==e&&(this.scope.startTime=e),this.doValidation(),this.onChange()})),this.scope.$watch("startTime",(e=>{this.isValidDate(e)&&this.scope.startDate!==e&&(this.scope.startDate=e),this.doValidation(),this.onChange()})),this.scope.$watch("endDate",(e=>{this.isValidDate(e)&&this.scope.endTime!==e&&(this.scope.endTime=e),this.doValidation(),this.onChange()})),this.scope.$watch("endTime",(e=>{this.isValidDate(e)&&this.scope.endDate!==e&&(this.scope.endDate=e),this.doValidation(),this.onChange()})),this.scope.$watch("startDateSelect",(e=>{this.scope.isAllowedEmpty&&(this.startDateSelect=e),!1===e&&this.scope.isAllowedEmpty&&(this.scope.startTime=null,this.scope.startDate=null)})),this.scope.$watch("untilDateSelect",(e=>{this.scope.isAllowedEmpty&&(this.untilDateSelect=e),!1===e&&this.scope.isAllowedEmpty&&(this.scope.endTime=null,this.scope.endDate=null)}))}setValidators(){const e=this.scope.$watch("form.dateFrom",((t,n)=>{this.form.dateFrom&&(this.scope.isAllowedEmpty?this.form.dateFrom.$validators.required=e=>!this.startDateSelect||this.startDateSelect&&null!=e||this.scope.isAllowedEmpty&&null===e:this.form.dateFrom.$validators.required=e=>!this.startDateSelect||this.startDateSelect&&null!=e,this.form.timeFrom.$validators.required=e=>!!(!this.startDateSelect||this.startDateSelect&&this.timeFrom.$viewValue),this.scope.isAllowedEmpty?this.form.dateUntil.$validators.required=e=>!this.untilDateSelect||this.untilDateSelect&&null!=e||this.scope.isAllowedEmpty&&null===e:this.form.dateUntil.$validators.required=e=>!this.untilDateSelect||this.untilDateSelect&&null!=e,this.form.timeUntil.$validators.required=()=>!!(!this.untilDateSelect||this.untilDateSelect&&this.timeUntil.$viewValue),this.form.dateFrom.$validators.untilAfterStart=e=>(this.form.dateUntil.$setTouched(),this.form.dateUntil.$validate(),!0),this.form.dateFrom.$validators.startBeforeDueDate=e=>!this.startDateSelect||e&&this.isDueDateAfterStartDate(e),this.form.dateUntil.$validators.untilAfterStart=e=>!this.untilDateSelect||!this.startDateSelect||!this.isStartDateValid()||e&&this.isValidDateOrder(this.scope.startDate,e),this.scope.subsequentDueDate?this.form.dateUntil.$validators.subsequentDueDate=e=>!this.untilDateSelect||e&&this.isDueDateBeforeEndDate(e):this.form.dateUntil.$validators.untilDueDate=e=>!this.untilDateSelect||e&&this.isDueDateBeforeEndDate(e),this.element.find(".restricted-form").focusout((()=>{this.doValidation()})),this.onChange(),e())}))}doValidation(){this.form.$setDirty(),this.form.dateFrom.$validate(),this.form.timeFrom.$validate(),this.form.dateUntil.$validate(),this.form.timeUntil.$validate()}onChange(){this.scope.onchangeFunc&&this.scope.onchangeFunc()}onBlur(){this.scope.onblurFunc&&this.scope.onblurFunc()}noDateErrorsExist(){return this.isStartDateValid()&&this.isEndDateValid()}isStartDateError(){return this.startDateSelect&&!this.scope.startDate}isStartAndOrEndDateError(){return!this.startDateSelect&&!this.untilDateSelect&&!this.scope.endDate}isStartDateValid(){return!this.isStartDateError()&&!this.isStartAndOrEndDateError()&&this.isDueDateAfterStartDate(this.scope.startDate)}isEndDateError(){return this.untilDateSelect&&!this.scope.endDate}isEndDateBeforeError(){return this.untilDateSelect&&this.scope.endDate&&this.startDateSelect&&!this.isValidDateOrder(this.scope.startDate,this.scope.endDate)}isEndDateValid(){return!this.isEndDateError()&&!this.isEndDateBeforeError()&&!this.isDueDateBeforeEndDate(this.scope.endDate)}isValidDate(e){return e&&!Number.isNaN(e.getTime())}updateStartAndEndTime(){this.startDateSelect||(this.scope.startDate=null,this.scope.startTime=null),this.untilDateSelect||(this.scope.endDate=null,this.scope.endTime=null),this.noDateErrorsExist()&&(this.onChange(),this.onBlur())}isValidDateOrder(e,t){if(null==e||null==t)return!1;const n=new Date(e.getTime()),i=new Date(t.getTime());return n.setSeconds(0,0),i.setSeconds(0,0),a(i).isAfter(n)}isDueDateBeforeEndDate(e){return null==this.scope.dueDate||(this.scope.subsequentDueDate?a(this.scope.subsequentDueDate).isBefore(e):a(this.scope.dueDate).isBefore(e))}isDueDateAfterStartDate(e){return null==this.scope.dueDate||a(this.scope.dueDate).isAfter(e)}subscribeToReduxChanges(){const e=this.$ngRedux.connect((e=>({localeSettings:o.gc.locale.getLocaleSettings(e,this.bbLocalize.getAppLocaleISO())})),(e=>({getLocaleSettings:t=>e(o.X.locale.getLocaleSettings(t))})))(this);this.scope.$on("$destroy",e)}get timeDateFromDisabled(){var e;return!this.startDateSelect||(null===(e=this.scope)||void 0===e?void 0:e.isReadOnlyMode())}get timeDateUntilDisabled(){var e;return!this.untilDateSelect||(null===(e=this.scope)||void 0===e?void 0:e.isReadOnlyMode())}};g=Object(i.a)([Object(i.c)(0,Object(u.b)("$ngRedux")),Object(i.c)(1,Object(u.b)("scope")),Object(i.c)(2,Object(u.b)("element")),Object(i.c)(3,Object(u.b)("form")),Object(i.c)(4,Object(u.b)(l.b)),Object(i.c)(5,Object(u.b)(r.serviceName))],g);class b{constructor(e){this.$injector=e,this.restrict="E",this.require="^form",this.scope={startDate:"=?",startTime:"=?",startDateSelect:"=?",endDate:"=?",endTime:"=?",untilDateSelect:"=?",onblurFunc:"&?",onchangeFunc:"&?",isReadOnlyMode:"&?",dateFieldFocus:"@?",isAllowedEmpty:"=?",dueDate:"<",subsequentDueDate:"<?"},this.template=p,this.transclude={customStartDateAndTimeValidationMessages:"?bbContentVisibilityCustomStartDateAndTimeValidationMessages",customEndDateAndTimeValidationMessages:"?bbContentVisibilityCustomEndDateAndTimeValidationMessages"},this.link=(e,t,n,i)=>{e.contentVisibilityRulesOptions=this.$injector.instantiate(g,{scope:e,element:t,form:i})}}}b.$inject=["$injector"],s.module(h,[l.a,c.a,d.a]).directive("bbContentVisibilityRulesOptions",["$injector",e=>e.instantiate(b)])},LecS:function(e,t,n){"use strict";var i=n("Llzl"),s=n("pjml"),a=n("/hmo");n.d(t,"a",(function(){return o}));const o="ultra.directives.lti";class r{constructor(e){this.CourseModel=e,this.replace=!0,this.restrict="E",this.scope={content:"=",targetContent:"=?",prefix:"="},this.template=a,this.link=(e,t)=>{const n=e.$watch("targetContent.contentHandler",(t=>{null!=t&&(e.$emit("click-to-invoke-child-directive-init"),n())}));!e.targetContent&&e.content&&e.content.contentDetail&&(e.targetContent=e.content.getLinkContentSource(),e.targetContent.$then((()=>{e.content.description=e.targetContent.description})))}}}r.$inject=[s.m.serviceName],i.module(o,[]).directive("bbLtiLinkItem",["$injector",e=>e.instantiate(r)])},Lrq8:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-add-feedback",use:"icon-medium-add-feedback-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-add-feedback"><path d="M1 1h22v19h-8l-3 3-3-3H1V1zM12 6v10M7 11h10" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"LsF/":function(e,t){e.exports='<div bb-load-bundle="components/directives/save-tray" role="status">\n  <div class="notification-container" ng-switch on="saveTray.status">\n    <span class="progress-indicator"><div class="canvas" ng-class="{\'success-state\' : saveTray.status === \'success\', \'error-state\' : saveTray.status === \'error\'}"></div></span>\n    <span class="progress-status" ng-switch-default bb-translate>{{::saveTray.localizationKeysPrefix}}.saving</span>\n    <span class="progress-status" ng-switch-when="success" bb-translate>{{::saveTray.localizationKeysPrefix}}.success</span>\n    <span class="progress-status" ng-switch-when="error" bb-translate>{{::saveTray.localizationKeysPrefix}}.error</span>\n  </div>\n</div>\n'},M2M2:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"d",(function(){return u}));var i=n("nsO7");const s="memberships.user,studentCount,signUpSheet,hasSubmittedGroupAttempt,hasGrades";document.createElement("textarea");function a(e){return"item-sub-row-"+e}function o(e){if(e){document.activeElement.blur(),e.focus()}}var r;function l(e){const t=!!e&&i.some(e,["isSelfEnrolledAllowed",!0]),n=new Date;if(t){const t=function(e){return e.map((e=>i.get(e,"signUpSheet.enrollmentStartDate",null))).reduce(((e,t)=>{const n=e?new Date(e):null,i=t?new Date(t):null;return i&&(!n||n>i)?i:n}),null)}(e),s=function(e){return e.map((e=>i.get(e,"signUpSheet.enrollmentEndDate",null))).reduce(((e,t)=>{const n=e?new Date(e):null,i=t?new Date(t):null;return i&&(!n||n<i)?i:n}),null)}(e);let a=r.OPEN;return t&&n<t?a=r.BEFORE:s&&n>s&&(a=r.AFTER),{now:n,firstStartDate:t,lastEndDate:s,enrollmentDateState:a,isSelfEnrollment:!0}}return{now:n,isSelfEnrollment:!1}}async function c(e,t,n){const i=l(e);if(i.isSelfEnrollment){let e=null;return"Before"===i.enrollmentDateState?e=await n.datetime.formatRelativeTimestamp(i.firstStartDate,t):"Open"===i.enrollmentDateState&&i.lastEndDate&&(e=await n.datetime.formatRelativeTimestamp(i.lastEndDate,t)),{relativeDate:e,isEnrollmentDateImportant:!!(i.lastEndDate&&"Open"===i.enrollmentDateState&&i.lastEndDate.getTime()-i.now.getTime()<2592e5),enrollmentDateState:i.enrollmentDateState,isSelfEnrollment:!0}}return{isSelfEnrollment:!1}}function d(e){return i.sortBy(e,"title")}function u(e){return e&&e[0]&&e[0].groupSetId?e[0].groupSetId:null}!function(e){e.OPEN="Open",e.BEFORE="Before",e.AFTER="After"}(r||(r={}))},"M8+u":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("D57K"),s=n("3+vU"),a=n("0JpG"),o=n("yC9S"),r=n("aHpC"),l=n("Xdju");const c="ultra.components.directives.content.content-visibility.membership-ftue";let d=class{constructor(e,t,n){this.$scope=e,this.$q=t,this.localizeService=n,this.translate("components.directives.content-visibility.usersAndGroupsAnnouncement.buttonAriaLabel").then((e=>this.buttonAriaLabel=e)),this.translate("components.directives.content-visibility.usersAndGroupsAnnouncement.title").then((e=>this.title=e)),this.translate("components.directives.content-visibility.usersAndGroupsAnnouncement.content").then((e=>this.content=e)),this.translate("global.close").then((e=>this.closeLabel=e)),this.translate("components.directives.content-visibility.usersAndGroupsAnnouncement.doneButtonText").then((e=>this.doneButtonText=e)),this.translate("components.directives.content-visibility.usersAndGroupsAnnouncement.moreInfoLinkText").then((e=>this.linkText=e)),this.translate("components.directives.content-visibility.usersAndGroupsAnnouncement.moreInfoLinkUrl").then((e=>this.linkHref=e))}translate(e){return this.localizeService.translate({locale:this.localizeService.getLocale(this.$scope),key:e,noWrap:!0,noEscape:!0})}};d=Object(i.a)([Object(o.a)({moduleName:c,componentName:"bbContentVisibilityMembershipFtue",template:l,bindings:{},requireModules:[s.a]}),Object(i.c)(0,Object(r.b)("$scope")),Object(i.c)(1,Object(r.b)("$q")),Object(i.c)(2,Object(r.b)(a.serviceName))],d)},MFWY:function(e,t,n){},MISG:function(e,t,n){},MKP7:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("D57K"),s=n("7UH7"),a=n("Llzl"),o=n("/KQw"),r=n("0JpG"),l=n("TnpK"),c=n("+4Px"),d=n("e6jQ"),u=n("tecA"),m=n("aHpC");const p="ultra.directives.basicTextEditor";let h=class extends u.a{constructor(e,t,n,i,s,a){super(t,n,i,s,a),this.shouldPreventLineBreaking=!0,t.$on(u.b,(()=>{this.updateOriginalValues(),this.isTextTouched=!1})),t.shouldPreventLineBreaking&&(this.shouldPreventLineBreaking=t.shouldPreventLineBreaking())}onKeydown(e){this.shouldPreventLineBreaking&&e.keyCode===c.f&&(e.stopPropagation(),e.preventDefault())}};h.$inject=[],h=Object(i.a)([Object(i.c)(0,Object(m.b)("$q")),Object(i.c)(1,Object(m.b)("scope")),Object(i.c)(2,Object(m.b)("element")),Object(i.c)(3,Object(m.b)("ctrl")),Object(i.c)(4,Object(m.b)(r.serviceName)),Object(i.c)(5,Object(m.b)(l.d))],h);class g{constructor(e){this.$injector=e,this.require=["ngModel"],this.replace=!0,this.restrict="E",this.scope={placeholderKey:"@",placeholderAttrsValues:"@",elementId:"@",readonly:"&",getInputMaxLength:"&?inputMaxLength",onchangeFunc:"&?",onblurFunc:"&?",onFocusFunc:"&",ngModel:"=",fieldRequired:"&?",plainText:"=?",validationMessage:"@?",focusOn:"@?",noValidationMessage:"&?",direction:"&?",shouldPreventLineBreaking:"&?"},this.link=(e,t,n,i)=>{const s=i[0];e.textEditor=this.$injector.instantiate(h,{scope:e,element:t,ctrl:s}),e.elementId||(e.elementId="text-editor-"+d.a())},this.template=s}}g.$inject=["$injector"],a.module(p,[o.a,r.moduleName,l.b]).directive("bbBasicTextEditor",["$injector",e=>e.instantiate(g)])},MOka:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var i=n("D57K"),s=n("pjml"),a=n("emI2"),o=n("fYJU"),r=n("zPsu"),l=n("zGdY"),c=n("aHpC"),d=n("yC9S"),u=n("go4a"),m=n("IbyE");const p="ultra.service.stream.settings",h="streamSettings",g="ultraui.stream.settings.v2",b={Calendar:"CAL",NewContentAdded:"CON",NewAssessmentsAdded:"CON",CourseAvailable:"CRS",BlogEntryPosted:"DIS",BlogEntryEdited:"DIS",BlogEntryComment:"DIS",DiscussionReply:"DIS",NewDiscussionForum:"DIS",NewMessages:"MES",NewGradeableItems:"SUB",StudentActivityAvailable:"GRB",StudentGradeDataAvailable:"GRB",StudentsFallingBehind:"GRB",StudentsFallingBehindAbsent:"GRB",StudentsFallingBehindFailing:"GRB",StudentsFallingBehindAbsentFailing:"GRB",NoRecentActivity:"TEL",LowActivity:"TEL",HighActivity:"TEL",GradeAtRisk:"TEL",LowGrade:"TEL",GradeLowered:"TEL",PerformanceIncreased:"TEL",HighGrade:"TEL"};let f=class{constructor(e,t,n,i,s,a){this.$rootScope=e,this.$q=t,this.preferenceService=n,this.UserModel=i,this.currentUserService=s,this.store=a,this.userSettings=null,d.b.OnRootScope(this.$rootScope,"membership-hidden-status-update",((e,t)=>{this._updateMembership(t),this.$rootScope.$broadcast("stream-settings-updated")})),this.subscribeToRedux()}initializeSettings(){return this.$q.all([this._getUserMemberships(),this.loadAdminNotificationSettings()]).then((()=>this._loadUserSettings()))}subscribeToRedux(){const e=this.store.connect((e=>{const t=m.gc.notificationMethodSetting.getAdminNotificationMethodSettings(e),n=m.gc.systemPreference.getSystemPreferenceByKey(e,r.b),i=this._transformRegistrySettings(n);return{adminNotificationSettings:t.concat(i)}}),(e=>({loadAdminNotificationSettings:()=>this.$q.all([e(m.X.notificationMethodSetting.loadAdminNotificationMethodSettings()),e(m.X.systemPreference.loadSystemPreference({key:r.b,shouldLoadWhilePending:!0}))])})))(this);this.$rootScope.$on("$destroy",e)}_transformRegistrySettings(e){let t=r.d;e&&e.value&&(t=JSON.parse(e.value));const n=[];return t.settings.forEach((e=>{n.push({context:l.Hb.Course,source:r.a,event:e.id,method:"DA",isEditable:e.isEditable,isEnabled:e.isEnabled})})),n}_getUserMemberships(){return this.userMemberships?this.$q.resolve(Object.values(this.userMemberships)):this.currentUserService.getMemberships().then((e=>(this.userMemberships=e.reduce(((e,t)=>({...e,[t.id]:t})),{}),Object.values(this.userMemberships))))}reloadStreamMemberships(){return this.userMemberships=null,this._getUserMemberships()}save(e){if(!e)return this.$q.resolve();Object.keys(e).forEach((t=>{e[t].definition||(e[t].definition=r.c.find((e=>e.id===t)))}));const t={version:3,settings:Object.keys(e).map((t=>({id:e[t].definition.id,isEnabled:e[t].isEnabled})))};return this.preferenceService.setPreference(g,angular.toJson(t)).then((()=>this._loadUserSettings()))}_loadLegacyUserSettings(){return this.preferenceService.getPreference("ultraui.stream.settings",null).then((e=>{if(!e||!e.value)return!1;const t=angular.fromJson(e.value);return this.userSettings=r.c.reduce(((e,n)=>{const i=b[n.id];return{...e,[n.id]:{definition:n,isEnabled:!!i&&"N"!==t[i]}}}),{}),!0}))}_loadUserSettings(){return this.preferenceService.getPreference(g,null).then((e=>{if(!e||!e.value)return this._loadLegacyUserSettings().then((e=>{if(!e)return this._loadDefaultSettings()}));const t=angular.fromJson(e.value);this.userSettings={},t.settings.forEach((e=>{const t=r.c.find((t=>t.id===e.id));t&&(this.userSettings[e.id]={isEnabled:e.isEnabled,definition:t})}))}))}_loadDefaultSettings(){return this.loadAdminNotificationSettings().then((()=>{this.userSettings=r.c.reduce(((e,t)=>{const n=t.defaultSetting(this.adminNotificationSettings);return e[t.id]={isEnabled:n,definition:t},e}),{})}))}getUserSettings(){return this._hasUserSettings()?this.$q.resolve(this.userSettings):this._loadUserSettings().then((()=>this.userSettings))}_hasUserSettings(){return null!==this.userSettings}_updateMembership(e){this.userMemberships={...this.userMemberships,[e.id]:{...this.userMemberships[e.id],...e}}}hidden(e){if(!e)return!1;const t=!!this.userMemberships?Object.values(this.userMemberships).find((t=>t.course.$pk===e.courseId)):null;if(t&&t.userHasHidden)return!0;if(t&&(e.courseColorClass=Object(u.a)(t)),!this.userSettings||!this.adminNotificationSettings)return!1;let n=!1;for(const t of Object.keys(this.userSettings)){const i=this.userSettings[t];if(i.definition.canHandle(e)&&(n=!0,i.definition.isStreamEntryVisible(i.isEnabled,this.adminNotificationSettings)))return!1}return n}};f=Object(i.a)([Object(i.c)(0,Object(c.b)("$rootScope")),Object(i.c)(1,Object(c.b)("$q")),Object(i.c)(2,Object(c.b)(a.c)),Object(i.c)(3,Object(c.b)(s.Jb.serviceName)),Object(i.c)(4,Object(c.b)(o.b)),Object(i.c)(5,Object(c.b)("$ngRedux"))],f);angular.module(p,[a.b]).service(h,f)},Mc6f:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var i=n("nsO7"),s=n("Llzl"),a=n("yC9S"),o=n("pjml");const r="ultra.components.services.grade.gradeNotation.Service",l="gradeNotationService";class c{constructor(e,t,n){this.$q=e,this.$rootScope=t,this.CourseModel=n,this.courseGradeNotationMap={},a.b.OnRootScope(t,"grade-notation-update",((e,t)=>{this.CourseModel.$new(t).gradebook.performancecodes.$fetch().$then((e=>{this.courseGradeNotationMap[t]=e,this.$rootScope.$broadcast("grade-notation-cache-update",t)}))}))}getGradeNotationsMap(e,t){if(t&&this.courseGradeNotationMap[e])return this.$q.when(this.courseGradeNotationMap[e]);const n=this.$q.defer();return this.CourseModel.$new(e).gradebook.performancecodes.$fetch().$then((t=>{this.courseGradeNotationMap[e]=t,n.resolve(t)})),n.promise}isValidPerformanceCodeGrade(e,t){return!(!t||i.isEmpty(e))&&!!i.find(e,(e=>e.code===t))}}c.$inject=["$q","$rootScope",o.m.serviceName];s.module(r,[]).service(l,c)},Mnbc:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-groups",use:"icon-small-groups-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-groups"><path d="M12 15s-1-2-4-2M4 15s1-2 4-2M8 13c1.6569 0 3-1.3431 3-3S9.6569 7 8 7s-3 1.3431-3 3 1.3431 3 3 3zM12 5c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2zM1 7s1-2 3-2 3 2 3 2M9 7s1-2 3-2 3 2 3 2M4 5c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},MoIS:function(e,t,n){"use strict";var i=n("Llzl"),s=n("0JpG"),a=n("tka7"),o=n("70Xn"),r=n("tmbA");n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));const l="ultraUi.components.directives.grade.pastDueZero",c="bb-past-due-zero-confirmation",d="bb-past-due-zero-settings",u="course.grades.pastDue.confirmationNeeded.";class m{constructor(e,t,n,i,s){this.scope=e,this.element=t,this.attrs=n,this.$modal=i,this.bbLocalize=s,this.scope.$on(c,((e,t)=>{this.displayPastDueConfirmation(t)})),this.scope.$on(d,((e,t)=>{this.isPastZeroAssigned=t,this.displayPastDueConfirmation()}))}displayPastDueConfirmation(e){e?this.initModalTranslateOptions(e):this.initModalTranslateOptions();let t=!1;const n=this.scope;this.$modal.open({template:e?o:r,scope:n,resolve:{translations:[s.serviceName,e=>e.loadBundle("course/grades/pastDue/confirmationNeeded")]},controller:["$scope",s.serviceName,function(e,i){e.okAction=()=>{e.$close(),t=!0},e.cancelAction=()=>{e.$close(),t=!1,n.cancelCallback&&n.cancelCallback()}}]}).result.then((()=>{t&&this.scope.confirmCallback&&(this.isPastZeroAssigned?this.scope.confirmCallback():this.scope.confirmCallback({args:{choice:this.scope.modalTranslateOptions.choiceModal}}))}),(()=>{this.scope.dismissCallback&&this.scope.dismissCallback()}))}initModalTranslateOptions(e){if(e)return this.scope.modalTranslateOptions={title:{key:u+"title"},instructions:{key:u+e+".instructions"}};const t=this.isPastZeroAssigned?"assign":"unassign";if(this.scope.modalTranslateOptions={title:{key:u+t+".title"},instructions:{key:u+t+".instructions"},confirm:{key:u+t+".confirm"},cancel:{key:u+t+".cancel"}},!this.isPastZeroAssigned){const e=[{id:"past-due-unassign-retain",name:"pastDueUnassignZero",value:a.a.Retain.toString(),localizedKey:u+"unassign.choices.retain"},{id:"past-due-unassign-delete",name:"pastDueUnassignZero",value:a.a.Delete.toString(),localizedKey:u+"unassign.choices.delete",descriptionKey:u+"unassign.choices.instructions"}];Object.assign(this.scope.modalTranslateOptions,{choices:e,choiceModal:e[0].value})}return this.scope.modalTranslateOptions}}m.$inject=["scope","element","attrs","$modal",s.serviceName];class p{constructor(e){this.$injector=e,this.restrict="E",this.template=o,this.scope={confirmCallback:"&?",cancelCallback:"&?",dismissCallback:"&?"},this.link=(e,t,n)=>{e.pastDueZero=this.$injector.instantiate(m,{scope:e,element:t,attrs:n})}}}p.$inject=["$injector"],i.module(l,[]).directive("bbPastDueZero",["$injector",e=>e.instantiate(p)])},N7x3:function(e,t,n){"use strict";(function(e){var i=n("Llzl"),s=n("5MwF"),a=n("td+C"),o=n("YzQO"),r=n("oPIA"),l=n("myse");t.a=new class{constructor(e){this.integrationService=e,this.integrationForceClick="integration-force-click",this.onClick=e=>{if(e.originalEvent&&e.originalEvent.manualFireFlag)return;const t=i.element(e.target),n=Object(o.b)(t)||Object(o.d)(t.parent());this._sendEventMessage(n,r.hb.Click)},this.onHover=e=>{const t=i.element(e.target),n=Object(o.c)(t);n!==this.lastHoverElementId&&(this.lastHoverElementId=n,this._sendEventMessage(n,r.hb.Hover))},Object(l.subscribeToFramework)("Ultra",((e,t)=>{e===l.AnalyticsEventTypes.CLICK_EVENT?this._sendEventMessage(t.analyticsId,r.hb.Click):e===l.AnalyticsEventTypes.HOVER_EVENT&&this._sendEventMessage(t.analyticsId,r.hb.Hover)}))}addClickListener(){s.a.unitTesting||(e(document).on("click",this.onClick),e(document).on(this.integrationForceClick,this.onClick))}addHoverListener(){s.a.unitTesting||e(document).on("mouseover",this.onHover)}_sendEventMessage(e,t){e&&this.integrationService.sendEventMessage({type:r.j,eventType:t,analyticsId:e})}}(a.a)}).call(this,n("71td"))},NEyJ:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-move-item-up-down",use:"icon-small-move-item-up-down-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-move-item-up-down"><path d="M5 11V3M7 4L5 2 3 4M11 5v8M9 12l2 2 2-2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"NI+y":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i="ANALYTICS_HISTORY";t.b=new class{constructor(){this.analytics=[],this.maxHistorySize=30,this.storageKey=i}setStorage(e,t){return this.browserStorage=e,this.storageType=t,this.getHistoryFromStorage().then((e=>(e&&(this.analytics=e.concat(this.analytics),this.setMaxHistorySize(this.maxHistorySize)),e)))}addHistory(e){this.analytics.push({action:e.action,analyticsId:e.analyticsId,screenDimension:e.screenDimension,timestamp:(new Date).toUTCString()}),this.analytics.length>this.maxHistorySize&&this.analytics.shift(),this.browserStorage.saveToStorage(this.storageKey,this.analytics,this.storageType)}getHistoryFromStorage(){return this.historyRestoredPromise=Promise.resolve(this.browserStorage.getFromStorage(this.storageKey,this.storageType)),this.historyRestoredPromise}async getHistory(){return await this.historyRestoredPromise,this.analytics}clearHistory(){this.historyRestoredPromise=null,this.analytics=[],this.browserStorage.saveToStorage(this.storageKey,this.analytics,this.storageType)}setMaxHistorySize(e){e>0&&Number.isInteger(e)&&(this.maxHistorySize=e,this.analytics=this.analytics.slice(-this.maxHistorySize))}}},NMEb:function(e,t,n){"use strict";var i=n("Llzl");var s=class{static convertToGrayscale(e){const t=document.createElement("canvas"),n=t.getContext("2d"),i=e.naturalWidth,s=e.naturalHeight;t.width=i,t.height=s,n.drawImage(e,0,0);const a=n.getImageData(0,0,i,s);let o;const r=a.data.length;for(let e=0;e<r;e+=4)o=(a.data[e]+a.data[e+1]+a.data[e+2])/3,a.data[e]=o,a.data[e+1]=o,a.data[e+2]=o;return n.putImageData(a,0,0,0,0,a.width,a.height),t.toDataURL()}};n.d(t,"a",(function(){return a}));const a="ultra.components.directives.imageGrayscale";class o{constructor(e,t,n){this.scope=e,this.element=t,this.attributes=n;"true"===this.attributes.bbImageGrayscale&&l()&&t.one("load",this.onLoadCallback())}onLoadCallback(){return()=>{const e=s.convertToGrayscale(this.element[0]);this.element[0].src=e}}}class r{constructor(){this.restrict="A",this.link=(e,t,n)=>new o(e,t,n)}}function l(){const e=document.documentMode;return 10===e||11===e}const c=i.module(a,[]);l()&&c.directive("bbImageGrayscale",["$injector",e=>e.instantiate(r)])},NNy8:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-visible",use:"icon-medium-visible-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-visible"><circle cx="12" cy="12" r="2" stroke-width="2" /><path d="M12 6C7.1067 6 1 12 1 12s6.1067 6 11 6 11-6 11-6-6.1067-6-11-6z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},NXdT:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));n("LNcM"),n("nh++");var i=n("nsO7"),s=n("zFCC");const a="bbIntersectionObservableDirective";function o(e,t=null){return function(n,s,a,o,r){const l=o[o.length-1],c=Object(i.once)((()=>{e.call(this,n,s,a,o,r)}));let d=c;t&&t>0?d=Object(i.debounce)((()=>{c(),n.$evalAsync(i.noop)}),t):d.cancel=i.noop,l?l.link(s[0],n,((e,t,n)=>{n.isIntersecting?d():d.cancel()})):c()}}function r(e=null){return function(t){return class extends t{constructor(...t){super(...t),this.require=[].concat(this.require||[]).concat([`^^?${s.a}`]),this.link=o(this.link||i.noop,e)}}}}const l="bbIntersectionObservable";angular.module(a,[]).directive(l,["$compile",function(t){return{transclude:"element",priority:6e3,terminal:!0,require:`^^?${s.a}`,restrict:"A",link(n,s,a,o,r){if(!o)return r((function(e,t){s.replaceWith(e)}));const c={placeholder:"div",debounce:0,...n.$eval(a[l]||"{}")},d=e(`<${c.placeholder} class="intersection-observable-placeholder"></${c.placeholder}>`);t(d)(n),s.replaceWith(d);const u=Object(i.debounce)(Object(i.once)((()=>{r((function(e,t){o.unlink(d[0]),d.replaceWith(e)}))})),c.debounce);o.link(d[0],n,((e,t,n)=>{n.isIntersecting?u():u.cancel()}))}}}])}).call(this,n("71td"))},NZ4S:function(e,t){e.exports='<bb-modal role="alertdialog" class="notification upload-disallowed-file-type upload-failed-button" bb-translate-attrs="{\'aria-label\': \'course.grades.grades-upload-settings.fileTypeError.title\'}" \n          modal-title-key="course.grades.grades-upload-settings.fileTypeError.title" aria-describedby="gradebook-upload-failed"\n          analytics-id-tag-prefix="course.grades.grades-upload-settings">\n  <div name="modal-contents">\n    <p id="gradebook-upload-failed" bb-translate="course.grades.grades-upload-settings.fileTypeError.content"></p>\n  </div>\n  <a name="modal-footer-help-link" \n     href="" \n     bb-translate-attrs="{\'href\': \'course.grades.grades-upload-settings.helpLinkUpload\'}" \n     target="_blank" \n     bb-translate="course.grades.grades-upload-settings.helpButton" \n     rel="noopener noreferrer"\n     analytics-id="course.grades.grades-upload-settings.helpButton">\n  </a>\n  <button name="modal-footer-button-primary" \n          class="button js-discard-changes js-primary-button" \n          ng-click="$dismiss()"\n          analytics-id="course.grades.gradesUploadSettingsError.closeButton.button">\n    <span bb-translate="course.grades.grades-upload-settings.closeButton"></span>\n  </button>\n</bb-modal>'},Ne7M:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-discussion",use:"icon-medium-discussion-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-discussion"><path d="M8 21.4025a10.4446 10.4446 0 01-1.75-.8072L1 22l1.4318-5.2034C1.5217 15.2417 1 13.4318 1 11.5 1 5.701 5.701 1 11.5 1c4.5718 0 8.4611 2.9218 9.9025 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M9 16c0 3.866 3.134 7 7 7 1.3878 0 2.6812-.3803 3.7692-1.0769L23 23l-1.0769-3.2308C22.6197 18.6812 23 17.3878 23 16c0-3.866-3.134-7-7-7s-7 3.134-7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="13" cy="16" r=".5" /><circle cx="16" cy="16" r=".5" /><circle cx="19" cy="16" r=".5" /></symbol>'});s.add(a);e.exports=a},Nrpd:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("Llzl"),s=n("0JpG"),a=n("pjml"),o=n("TnpK"),r=n("MOka"),l=n("Sa5G");const c="ultra.base.notification-settings.routes";i.module(c,[s.moduleName,o.b]).config([o.c,e=>{e.peekState("notification-settings",{abstract:!0,require:()=>n.e(587).then(n.bind(null,"gE0d")),resolve:{mobileDistributorSettings:[a.Q.serviceName,e=>e.$build().courseSettings.$new(l.q.Mobile).$fetch().$allow([400])],isMobileDistributorActive:["$q","mobileDistributorSettings","memberships",(e,t)=>t.$then((e=>!!e.settings)).$asPromise()],notificationGeneralSettings:[a.P.serviceName,e=>e.$build().$fetch().$asPromise()],memberships:[r.b,e=>e.reloadStreamMemberships()]}}).peekState("notification-settings.content",{url:"/notification/settings?tab",resolve:{translations:[s.serviceName,e=>e.loadBundle("features/base/notifications-settings/base-notifications-settings")],memberships:[r.b,e=>e.reloadStreamMemberships()]},views:{"email-settings@":{require:()=>n.e(680).then(n.bind(null,"IwlP"))},"stream-settings@":{require:()=>n.e(742).then(n.bind(null,"wgch")),resolve:{translations:[s.serviceName,e=>e.loadBundle("features/base/stream/base-stream")]}},"sms-settings@":{require:()=>Promise.all([n.e(27),n.e(53),n.e(660)]).then(n.bind(null,"EKn0"))},"mobile-settings@":{require:()=>n.e(681).then(n.bind(null,"pVU+"))}}})}])},Nyb7:function(e,t){e.exports='<div class="complex-statistic-contents"></div>'},O3Pz:function(e,t){e.exports='<div class="grade-callout-wrapper">\n  <div class="grade-callout readonly {{displayGrade.getCourseColorClass()}}"\n       ng-class="{ \'pending\': displayGrade.attempt.isNeedsGrading() }"\n       bb-load-bundle="components/directives/grade/display-grade"\n       bb-click-to-invoke-child="a.bb-click-grade-target">\n    <span class="value" bb-translate>{{displayGrade.attemptStatus}}</span>\n  </div>\n</div>\n'},OMme:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var i=n("Llzl"),s=n("vdfi"),a=n("bF8R"),o=n("0JpG"),r=n("JXhc"),l=n("TnpK"),c=n("Qbdf"),d=n("36CG"),u=n("X455"),m=n("nmzr"),p=n("+O05");const h="ultra.base.proctoring.routes";i.module(h,[o.moduleName,l.b,c.b,u.a,p.g]).config([l.c,c.c,u.b,(t,i,h)=>{t.baseState(m.d.BASE_PROCTORING_ATTEMPT,{url:"^/proctoring/attempt?courseId&contentId&password",peekStates:["conversations",m.o.COURSE_MESSAGE,"assessment-details","edit-file-settings","attempt-safe-assign-setting","rubric-view",s.b,r.b],onEnter:()=>{e("body").addClass("proctoring-attempt-open")},onExit:()=>{e("body").removeClass("proctoring-attempt-open")},resolve:{[c.d]:i.resolve,[u.c]:h.resolve,contentData:[c.d,a.b,l.d,(e,t,n)=>t.loadContentAndGrades({course:e,contentId:n.nextParams.contentId})],translations:[o.serviceName,e=>e.loadAllBundles(["components/services/proctoring","features/course/content/assessment/assessment"])],currentContent:["contentData",e=>e.courseContent],currentColumn:["contentData",e=>e.gradingColumn],attempt:["contentData",p.h,l.d,(e,t,n)=>{const{gradingColumn:i,courseContent:s}=e,a=n.nextParams.password,o=s.isGroupContent,r=s.assignedGroups?s.assignedGroups[0].groupId:null;return t.launchAttempt(i,a,o,r)}]},require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(27),n.e(18),n.e(19),n.e(25),n.e(7),n.e(43),n.e(89),n.e(145)]).then(n.bind(null,"RTst")),pageTitle:"components.services.proctoring.delivery.attempt.pageTitle",peekViewName:"proctored-assessment-peek"}).baseState("base.proctoring-review",{url:"^/proctoring/review?courseId&contentId&attemptId",peekStates:[],onEnter:()=>{e("body").addClass("proctoring-attempt-open")},onExit:()=>{e("body").removeClass("proctoring-attempt-open")},resolve:{translations:[o.serviceName,e=>e.loadAllBundles(["components/services/proctoring","features/course/content/assessment/assessment"])],[c.d]:i.resolve,[u.c]:h.resolve,currentContent:[c.d,l.d,d.c,(e,t,n)=>e.contents.$find(t.nextParams.contentId).$asPromise().then((e=>(n.setCurrentContent(e),e)))],currentAttempt:[c.d,l.d,(e,t)=>e.gradebook.attempts.$find(t.nextParams.attemptId,{expand:"toolAttemptDetail,alignedGoals,viewUrl"}).$asPromise()],currentGradedQuestionAttempts:["$q","currentAttempt",(e,t)=>{const n=e.defer();return t.assessment.gradedQuestionAttempts.$fetch({expand:"questionAttempt.question,questionAttempt.answerCorrectness"}).$asPromise().then((e=>{e.setPostStatusAndGroupAttemptId(t),n.resolve(e)})),n.promise}]},require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(27),n.e(19),n.e(89),n.e(682)]).then(n.bind(null,"Mpwm")),pageTitle:"components.services.proctoring.delivery.review.pageTitle"})}])}).call(this,n("71td"))},ORAk:function(e,t){e.exports='<div>\n    <div bb-dir>\n        <div ui-view="{0}" bb-offcanvas-pausal-scope></div>\n    </div>\n</div>'},OTLg:function(e,t,n){"use strict";var i=n("Llzl"),s=n("pjml"),a=n("vYaK"),o=n("f8ya");class r{constructor(e){this.content=e,this._groups=[],this._memberships=[],this.counts={count:0,withAccommodationCount:0,dueDateAccommodationCount:0,timeLimitAccommodationCount:0,maxLimit:0},this.refreshGroups()}set groups(e){this.dueDateGroups=[],this.timeLimitGroups=[],this._groups=null!=e?e.filter((e=>(e.accommodation=o.a.fromTypes(e.dueDateExceptionType,e.timeLimitExceptionType),e.accommodation.dueDate.hasAccommodation&&this.dueDateGroups.push(e),e.accommodation.timeLimit.hasAccommodation&&this.timeLimitGroups.push(e),e.accommodation.hasAccommodation))):[]}get groups(){return this._groups}sortGroups(e){this._groups.sort(e),this.dueDateGroups.sort(e),this.timeLimitGroups.sort(e)}refreshGroups(){null!=this.content&&(this.groups=this.content.assignedGroups)}set memberships(e){this.dueDateMembers=[],this.timeLimitMembers=[],this._memberships=null!=e?e.filter((e=>{const t=e.accommodation();return t.dueDate.hasAccommodation&&this.dueDateMembers.push(e),t.timeLimit.hasAccommodation&&this.timeLimitMembers.push(e),t.hasAccommodation})):[]}get memberships(){return this._memberships}get nGroups(){return this.groups.length}get nGroupsDueDate(){return this.groups.filter((e=>e.accommodation.dueDate.hasAccommodation)).length}get nGroupsTimeLimit(){return this.groups.filter((e=>e.accommodation.timeLimit.hasAccommodation)).length}get nUsers(){return this.counts.withAccommodationCount}get nUsersDueDate(){return this.counts.dueDateAccommodationCount}get nUsersTimeLimit(){return this.counts.timeLimitAccommodationCount}get isGroupContent(){if(null==this.content)return!1;const e=this.content.assignedGroups&&0!==this.content.assignedGroups.length;return this.content.isGroupContent||e||0!==this.groups.length}get nInstances(){return this.isGroupContent?this.nGroups:this.nUsers}get nInstancesDueDate(){return this.isGroupContent?this.nGroupsDueDate:this.nUsersDueDate}get nInstancesTimeLimit(){return this.isGroupContent?this.nGroupsTimeLimit:this.nUsersTimeLimit}get nInstancesShown(){if(this.isGroupContent){if(this.showDueDateAccommodation&&this.showTimeLimitAccommodation)return this.nGroups;if(this.showDueDateAccommodation)return this.nGroupsDueDate;if(this.showTimeLimitAccommodation)return this.nGroupsTimeLimit}else{if(this.showDueDateAccommodation&&this.showTimeLimitAccommodation)return this.nUsers;if(this.showDueDateAccommodation)return this.nUsersDueDate;if(this.showTimeLimitAccommodation)return this.nUsersTimeLimit}}get showAccommodation(){return this.showDueDateAccommodation||this.showTimeLimitAccommodation}get showDueDateAccommodation(){if(null==this.content)return!1;return this.content.hasDueDate()&&this.content.getDueDate()&&this.hasDueDateAccommodation}get showTimeLimitAccommodation(){return null!=this.content&&(this.content.getTimedTestDetail().hasTimeLimit&&this.hasTimeLimitAccommodation)}get hasAccommodation(){return this.hasDueDateAccommodation||this.hasTimeLimitAccommodation}get hasDueDateAccommodation(){return this.nInstancesDueDate>0}get hasTimeLimitAccommodation(){return this.nInstancesTimeLimit>0}}n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));const l="ultra.services.accommodation.Service",c="accommodationService",d=["id","isAvailable","role","user.*","userId","courseRole","dueDateExceptionType","timeLimitExceptionType","permissions","user.rowStatus"],u=[...d,"displayOrder"],m=["alignedGoals","assignedGroups","isGroupContent"];class p{constructor(e){this.courseModel=e,this._cache={},this._invalidCache={}}createContentAccommodation(e){const t=new r(e);return null!=e&&e.id&&(e.assignedGroups&&!this._invalidCache[e.id]?t.refreshGroups():this.fetchGroupsOrCounts(t)),t}getContentAccommodation(e){return null==e?this.createContentAccommodation(e):((null==this._cache[e.id]||this._invalidCache[e.id])&&(this._cache[e.id]=this.createContentAccommodation(e),this._invalidCache[e.id]=!1),this._cache[e.id])}forceNewContentAccommodation(e){null!=e&&(this._invalidCache[e.id]=!0)}invalidateContentAccommodationOtherThan(e){null!=e&&Object.keys(this._cache).forEach((t=>{t!==e.id&&(this._invalidCache[t]=!0)}))}refreshAccommodation(e){null!=e.content&&(e.isGroupContent?e.refreshGroups():this.fetchCount(e.content.courseId,e))}fetchGroupsOrCounts(e){null!=e.content&&(null==e.content.isGroupContent||e.isGroupContent?e.content.$fetch({fields:m.join(","),expand:"selfEnrollmentGroups.group"}).$then((t=>{e.refreshGroups(),e.isGroupContent||this.fetchCount(t.courseId,e)})):this.fetchCount(e.content.courseId,e))}sortGroupsByTitle(e){e.sortGroups(((e,t)=>e.groupTitle.localeCompare(t.groupTitle)))}fetchCount(e,t){this.courseModel.$new(e).memberships.getDetailsCount().then((e=>{t.counts=e}))}fetchMemberships(e,t){this.courseModel.$new(e).memberships.$refresh({fields:d.join(","),sort:"user.givenName"}).$then((e=>t.memberships=e))}}p.$inject=[a.serviceName];i.module(l,[s.N]).service(c,class extends p{})},ObAk:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("oPIA");class s{constructor(){this.subscribeToEvents=(e,t)=>{e.subscriptions.forEach((e=>{if(!this.checkIfValidSubscription(e))return void console.warn(`Received subscription to invalid event type ${e}`);const n=this.subscriptions.get(e)||new Set;n.add(t),this.subscriptions.set(e,n);const i=this.subscribeCallbacks.get(e);i&&i.forEach((e=>e(t)))}))},this.unsubscribeFromEvents=(e,t)=>{e.subscriptions.forEach((e=>{if(!this.subscriptions.has(e))return void console.warn(`Integration is not subscribed to ${e}, not unsubscribing`);const n=this.subscriptions.get(e);n.delete(t),this.subscriptions.set(e,n);const i=this.unsubscribeCallbacks.get(e);i&&i.forEach((e=>e(t)))}))},this.onSubscriptionEventCallback=(e,t)=>{const n=this.subscribeCallbacks.get(e)||[];return n.push(t),this.subscribeCallbacks.set(e,n),()=>this.removeCallback(e,t,this.subscribeCallbacks)},this.onUnsubscriptionEventCallback=(e,t)=>{const n=this.unsubscribeCallbacks.get(e)||[];return n.push(t),this.unsubscribeCallbacks.set(e,n),()=>this.removeCallback(e,t,this.unsubscribeCallbacks)},this.getSubscribedIntegrations=e=>this.subscriptions.get(e)||new Set,this.checkIfValidSubscription=e=>Object.values(i.hb).some((t=>t===e)),this.removeCallback=(e,t,n)=>{if(!n.has(e))return;const i=n.get(e);i.splice(i.indexOf(t),1),n.set(e,i)},this.subscriptions=new Map,this.subscribeCallbacks=new Map,this.unsubscribeCallbacks=new Map}}},Ocaa:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));n("0lMW"),n("gORw");var i=n("Llzl"),s=n("0JpG"),a=n("2a+M"),o=n("+4Px"),r=n("pjml"),l=n("lEL+"),c=n("GbAM"),d=n("Qbdf"),u=n("nYZ0"),m=n("W6wm"),p=n("J3aO");const h="ultra.components.directives.bbDragHandle";var g;!function(e){e.Vertical="vertical",e.Horizontal="horizontal",e.Omnidirectional="omnidirectional"}(g||(g={}));class b{constructor(t,n,i,s,a,r,l){this.$rootScope=t,this.bbLocalizeService=n,this.dragDropService=i,this.timeout=s,this.currentCourseService=a,this.contentService=r,this.menuCloserService=l,this.bbDragMoveTimeoutId=null,this.scope={dragItemId:"@",dragItemName:"@",dragItemType:"@",dragDirection:"@?",dragItemContext:"@?"},this.restrict="A",this.link=(t,n,i)=>{this.dragDirection=function(e){if(e)return Object.values(g).find((t=>t.toLowerCase()===e.toLowerCase()))}(t.dragDirection)||g.Vertical,this.dragDropService.currentDragContext=t.dragItemContext,e(n).parent().attr("role","application"),n.on("mousedown",(i=>{function s(e){e.stopImmediatePropagation()}i.preventDefault(),document.addEventListener("click",s,!0),this.dragStart(i,n,t),e(document).on("mousemove.reorder",(e=>{this.dragMove(e,t)})),e(document).on("mouseup.reorder",(i=>{this.dragEnd(i,n),e(document).off("mousemove.reorder"),e(document).off("mouseup.reorder"),n.on("$destroy",(()=>{document.removeEventListener("click",s,!0)})),this.timeout((()=>{document.removeEventListener("click",s,!0)}),t,0,!1)}))})),n.on("keydown",(n=>{if(n.stopPropagation(),n.keyCode===o.f||n.keyCode===o.t)if(n.preventDefault(),this.dragDropService.isKeyboardDragging){const n=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(t),key:"components.services.drag-drop.aria.reorder-stopped",noWrap:!0});this.$rootScope.$broadcast(c.a,n),e(document.body).removeClass("bb-is-dragging"),this.$rootScope.$broadcast("keyboard-drag-end")}else{this.dragDropService.isKeyboardDragging=!0,this.dragDropService.currentDragId=t.dragItemId,this.dragDropService.currentDragType=t.dragItemType,this.contentHasFolderChild(t),this.dragDropService.currentDropTargetId=t.dragItemId,this.dragDropService.positionBefore=t.dragItemId,e(document.body).addClass("bb-is-dragging"),this.$rootScope.$broadcast("keyboard-drag-start");const n=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(t),key:"components.services.drag-drop.aria.reorder-started",params:{itemName:t.dragItemName},noWrap:!0});this.$rootScope.$broadcast(c.a,n)}else if(n.keyCode===o.v)n.preventDefault(),this.$rootScope.$broadcast("keyboard-drag-up");else if(n.keyCode===o.d)n.preventDefault(),this.$rootScope.$broadcast("keyboard-drag-down");else if(n.keyCode===o.s)n.preventDefault(),this.$rootScope.$broadcast("keyboard-drag-right");else if(n.keyCode===o.j)n.preventDefault(),this.$rootScope.$broadcast("keyboard-drag-left");else if(n.keyCode===o.g&&(n.preventDefault(),this.dragDropService.isKeyboardDragging)){const n=this.bbLocalizeService.translateSync({locale:this.bbLocalizeService.getLocale(t),key:"components.services.drag-drop.aria.reorder-canceled"});this.$rootScope.$broadcast(c.a,n),e(document.body).removeClass("bb-is-dragging"),this.$rootScope.$broadcast("keyboard-drag-cancel")}})),n.on("blur",(()=>{this.dragDropService.isKeyboardDragging&&(e(document.body).removeClass("bb-is-dragging"),this.$rootScope.$broadcast("keyboard-drag-cancel"))}));const s=e=>{this.dragStart(e,n,t)},a=e=>{this.dragMove(e,t)},r=e=>{this.dragEnd(e,n)},l=()=>{this.dragCancel()};n[0].addEventListener("touchstart",s,!1),n[0].addEventListener("touchmove",a,!1),n[0].addEventListener("touchend",r,!1),n[0].addEventListener("touchcancel",l,!1),t.$on("$destroy",(()=>{n[0].removeEventListener("touchstart",s,!1),n[0].removeEventListener("touchmove",a,!1),n[0].removeEventListener("touchend",r,!1),n[0].removeEventListener("touchcancel",l,!1)}))}}contentHasFolderChild(e){if(r.p.ContentHandler.Folder.isEqualTo(e.dragItemType)&&!(()=>m.a.Discussions===this.dragDropService.currentDragContext)()){const e=r.p.ContentRootNode.ROOT,t=this.currentCourseService.course,n=this.contentService.findRootNode(t,e);this.contentService.getContentInContentTree(n,t.courseId,this.dragDropService.currentDragId).then((e=>{e.content&&(this.dragDropService.currentDragHasFolderChild=e.content.getChildren().$asPromise().then((e=>e.some((e=>e.isUiFolder())))))}))}}dragStart(t,n,i){if(this.dragDropService.currentDragElement){const t=e(".f-open-dropdown");t.length>0&&window.Foundation.libs.dropdown.close(t),this.dragDropService.currentDragElement.remove()}if(this.$rootScope.$broadcast("bb-drag-start"),e(document.body).addClass("bb-is-dragging"),this.dragDropService.originalElement=n.closest(this.dragDropService.dragElementSelector),this.dragDropService.currentDragElement=this.dragDropService.originalElement.clone(),this.dragDropService.idOfPreviousItem=this.dragDropService.originalElement.prev(".drag-element").find("[drag-item-id]").attr("drag-item-id"),this.dragDropService.idOfNextItem=this.dragDropService.originalElement.next(".drag-element").find("[drag-item-id]").attr("drag-item-id"),this.menuCloserService.closeAnyOpenAngularMenus(),r.p.ContentHandler.Folder.isEqualTo(i.dragItemType)){this.$rootScope.$broadcast("close-folder-immediately-by-id",i.dragItemId);this.dragDropService.currentDragElement.find(".img-icon-folder-open").removeClass("img-icon-folder-open").addClass("img-icon-folder")}this.dragDropService.originalElement.addClass(this.dragDropService.originalElementClass),this.dragDropService.currentDragElement.addClass(this.dragDropService.movableElementClass).addClass("mouse-touch-drag"),this.dragDropService.originalElement.after(this.dragDropService.currentDragElement),this.dragDropService.currentDragId=i.dragItemId,this.dragDropService.currentDragType=i.dragItemType,this.contentHasFolderChild(i),this.dragDropService.currentDropTargetId=i.dragItemId,this.dragDropService.positionBefore=i.dragItemId,this.dragDropService.createDropPlaceholderElement(this.dragDropService.currentDragElement),this.dragMove(t,i)}dragEnd(t,n){e(document.body).removeClass("bb-is-dragging"),t.preventDefault(),this.dragDropService.originalElement.removeClass(this.dragDropService.originalElementClass),this.dragDropService.currentDragElement.removeClass(this.dragDropService.movableElementClass),this.dragDropService.currentDragElement.removeAttr("style"),this.$rootScope.$broadcast("bb-drag-end")}dragCancel(){this.$rootScope.$broadcast("bb-drag-cancel"),e(document.body).removeClass("bb-is-dragging")}dragMove(e,t){e.preventDefault();const n=this.dragDropService.currentDragElement.find("[bb-drag-handle]"),i=this.dragDropService.originalElement.find("[bb-drag-handle]").offset(),s=n.offset(),o=this.dragDropService.currentDragElement.offset(),r=s.left-o.left,l=s.top-o.top,c=r+n.width()/2,d=l+n.height()/2,u=g.Horizontal===this.dragDirection||g.Omnidirectional===this.dragDirection,m=g.Vertical===this.dragDirection||g.Omnidirectional===this.dragDirection;let p,h,b,f;e.touches?(p=u?e.touches[0].pageX-c:o.left,h=m?e.touches[0].pageY-d:o.top,b=u?e.touches[0].pageX:i.left,f=m?e.touches[0].pageY:i.top):(p=u?e.pageX-c:o.left,h=m?e.pageY-d:o.top,b=u?e.pageX:i.left,f=m?e.pageY:i.top),this.dragDropService.currentDragElement.offset({left:p,top:h}),this.dragDropService.pointerPosition={left:b,top:f},this.dragDropService.scrollDragDropItemsContainer(this.dragDropService.pointerPosition.top,a.a.SCROLLING_CONSTANTS.mouseInteractionDistanceToScroll),this.timeout.cancel(this.bbDragMoveTimeoutId),this.bbDragMoveTimeoutId=this.timeout((()=>{this.$rootScope.$broadcast("bb-drag-move")}),t,150,!1)}}b.$inject=["$rootScope",s.serviceName,a.d,l.b,d.e,u.f,p.b],i.module(h,[s.moduleName,a.c,l.a,d.b,u.d,p.a]).directive("bbDragHandle",["$injector",e=>e.instantiate(b)])}).call(this,n("71td"))},OcoR:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));n("3Yz5");var i=n("Llzl"),s=n("Fvsw"),a=n("oQrK"),o=n("lEL+"),r=n("Ediv"),l=n("yC9S");const c="ultra.components.directives.firstVisit";class d{constructor(e,t,n){this.$q=e,this.bbContext=t,this.timeout=n,this.restrict="E",this.template=r,this.link=(e,t,n)=>{this.alterBodyStyles(e,"ftue-on");const i="ultraui.first.time."+n.path+"."+n.place+".visited";e.firstVisit=!1,e.loadImage=(e,t,n,i=null)=>{const s=n.inViewTarget;e&&"both"===t&&!s.src.match(new RegExp(i+"$"))&&(s.src=i)},this.bbContext.getPreference(i,"false").then((n=>{"false"===n.value?(e.firstVisit=!0,this.bbContext.setPreference(i,"true"),this.resizeWelcomeWindow(e,t)):"true"===n.value&&(e.firstVisit=!1)}))}}alterBodyStyles(t,n){e("body").addClass(n),t.$on("$destroy",(()=>{e("body").removeClass(n)}))}resizeWelcomeWindow(t,n){const i=()=>{const e=n.find(".current-view"),t=e.offset().top,i=this.$q.defer(),s=this.$q.defer();n.closest("body").animate({scrollTop:t},{duration:500,always(){i.resolve()}}),n.closest("html").animate({scrollTop:t},{duration:500,always(){s.resolve()}}),this.$q.all([i.promise,s.promise]).then((()=>e.find("a.ftue-img").focus()))};let s;const o=()=>{this.timeout.cancel(s),s=this.timeout((()=>{const t=n.find(".ftue-new-slide");for(let n=0;n<t.length;n++){const i=t.eq(n),s=i.find(".slide-content").height()+i.find(".slide-control").height()+parseInt(i.find(".slide-content").css("top"),10)+40;i.css("min-height",s);const a=e(window).height();a>s&&i.css("height",a)}i()}),t,250,!1)},r=t=>{const n=e(t.target).closest(".ftue-new-slide").next();e(n).addClass("current-view").siblings().removeClass("current-view"),i()};n.on("click",".scroll-button",r),a.a.detect().desktop()&&l.b.OnWindow("resize",o,t),t.$on("$destroy",(()=>{n.off("click",".scroll-button",r)}))}}d.$inject=["$q",s.b,o.b],i.module(c,[s.a,"angular-inview",o.a]).directive("bbFirstVisit",["$injector",e=>e.instantiate(d)])}).call(this,n("71td"))},OmEq:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));const i="[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,24}\\s*",s=new RegExp("^"+i+",?$","i"),a=new RegExp("^"+i+"(,+\\s*\\n*"+i+")*,*\\s*$","i")},OvxF:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("T4UF"),n("67oV");var i=n("nsO7"),s=n("Llzl"),a=n("0JpG"),o=n("XGja"),r=n("+4Px"),l=n("mkvA"),c=n("Y+9S");const d="ultra.components.directives.modal";class u{constructor(e,t,n,s,a){this.scope=e,this.element=t,this.attrs=n,this.transcludes=s,this.bbLocalize=a,this.ariaType="dialog",this.ariaType=e.modalAriaType?e.modalAriaType:this.ariaType,this.analyticsIdTagPrefix=e.analyticsIdTagPrefix||"";const o=e.modalTranslateOptions&&e.modalTranslateOptions();this.titleKey=e.modalTitleKey,this.titleString=a.translateSync(i.merge({key:e.modalTitleKey},o?o.title:{})),this.dismissKey=e.modalDismissKey,(e.modalDismissKey||o&&o.dismiss)&&(this.dismissString=a.translateSync(i.merge({key:e.modalDismissKey},o?o.dismiss:{})));const r=t.find("[name=modal-footer] button");t.find(".reveal-modal__footer").addClass("buttons-"+r.length+"-md")}handleKeyDown(e){e.keyCode===r.u?(e.preventDefault(),e.shiftKey?o.c(this.element):o.b(this.element)):e.keyCode===r.g&&(e.stopPropagation(),this.dismiss())}dismiss(){this.scope.modalDismissCallback?this.scope.modalDismissCallback():this.scope.$parent.$dismiss(),Object(c.o)(c.c.ModelDismissed)}}u.$inject=["scope","element","attrs","transcludes",a.serviceName];class m{constructor(e){this.$injector=e,this.replace=!0,this.restrict="E",this.template=l,this.transclude=!0,this.scope={modalDismissCallback:"&?",modalDismissKey:"@?",modalTitleKey:"@?",modalTranslateOptions:"&?",modalAriaType:"@?",analyticsIdTagPrefix:"@"},this.link=(e,t,n,i,s)=>{e.modal=this.$injector.instantiate(u,{scope:e,element:t,attrs:n,transcludes:s})}}}m.$inject=["$injector","$rootScope"],s.module(d,["multi-transclude"]).directive("bbModal",["$injector",e=>e.instantiate(m)])},"Oyr+":function(e,t,n){"use strict";n("juDU"),n("9RbK"),n("1dyP");var i=n("nsO7"),s=n("71td"),a=n("Llzl"),o=n("nbDY"),r=n.n(o),l=n("X455"),c=n("0JpG"),d=(n("67oV"),n("0+Qs")),u=n("rxY8"),m=n("jT78"),p=n("okL3");const h="ultra.directives.bbProgress";class g{constructor(e,t,n,i,s){this.scope=e,this.bbLocalize=t,this.interval=n,this.$q=i,this.spinner=s,this.processingSpinnerArgs={canvasSize:43,scaleX:1.5,scaleY:1.5},this.cancelUpload=(e,t,n)=>{e.stopImmediatePropagation(),e.preventDefault();const i=this.scope.inProgressFiles.filter((e=>e.id===t&&this.isIdentifierInProgressFile(e.inProgressFileId,n)))[0];this.cancelUploadFile(i)},this.scope.$on("cancel-upload-all",(e=>{this.scope.inProgressFiles.forEach((e=>{this.cancelUploadFile(e)}))}))}cancelUploadFile(e){e.content&&this.scope.$root.$broadcast(U,e.content,W.DeleteContent),e.interval&&this.interval.cancel(e.interval);const t=this.scope.inProgressFiles.splice(this.scope.inProgressFiles.indexOf(e),1)[0];this.scope.$root.$broadcast(U,e.id,t,W.Cancel,this.scope.targetDiv,this.scope.primaryKey&&this.scope.primaryKey())}remove(e){i.remove(this.scope.inProgressFiles,(t=>t.ui&&e.ui&&t.ui.fileId&&e.ui.fileId?t.ui.fileId===e.ui.fileId&&this.isIdentifierInProgressFile(t.inProgressFileId,e.inProgressFileId):!(!e.ui||!e.ui.id)&&(t.id===e.ui.id&&this.isIdentifierInProgressFile(t.inProgressFileId,e.inProgressFileId)))),this.scope.$root.$broadcast(U,this.scope.fileUploadDivId,0,e.id,W.Cancel,this.scope.primaryKey&&this.scope.primaryKey())}isIdentifierInProgressFile(e,t){return!e||!t||e===t}transformModelForDisplay(e){return{barId:e.file.id?e.file.id.replace(/\D/g,""):"",content:e.content,currentMimeType:e.currentMimeType,currentProgress:0,file:e.file,fileName:e.fileName,fileSize:e.file.size,id:e.id,inProgressFileId:e.inProgressFileId||"",interval:null,ui:e.ui}}getProgressIdAttr(e){return e.inProgressFileId?`file-progress-${e.barId}-${e.inProgressFileId}`:`file-progress-${e.barId}`}setProgress(e,t,n,s){let a,o,r,l,c;if(n){c=i.find(this.scope.inProgressFiles,(e=>e.file.id===n&&this.isIdentifierInProgressFile(e.inProgressFileId,s)));const e=this.scope.targetDiv?`-${s}`:"",t=`#file-progress-${n.replace(/\D/g,"")}${e}`;l=this.scope.element.find(t+" .progress-circle .bar"),r=this.scope.element.find(t+" .processing-spinner .canvas")}else{c=this.scope.inProgressFiles.find((t=>t.id===e&&this.isIdentifierInProgressFile(t.inProgressFileId,s)));const t=this.scope.inProgressFiles.indexOf(c);l=this.scope.element.find(".progress-circle-svg .bar").eq(t),r=this.scope.element.find(".processing-spinner .canvas").eq(t)}if(!c)return;if(c.currentProgress>=t)return;null!=c.interval&&this.interval.cancel(c.interval);const d=c.currentProgress;c.interval=this.interval((()=>{c&&(c.currentProgress++,a=l.attr("stroke-dashoffset"),o=a-a*(.01*c.currentProgress),l.css({strokeDashoffset:o+"px"}),100===c.currentProgress&&(c.isProcessing||(this.spinner.initInlineLoader(r,this.processingSpinnerArgs).start(),c.isProcessing=!0),n?this.scope.$root.$broadcast(U,n,W.UploadProgressComplete):this.scope.$root.$broadcast(U,this.scope.fileUploadDivId,this.scope.inProgressFiles.indexOf(c),e,W.UploadProgressComplete),this.interval.cancel(c.interval)))}),this.scope,20,t-d)}}g.$inject=["scope",c.serviceName,d.b,"$q",u.b];class b{constructor(e,t,n){this.$injector=e,this.interval=t,this.bbLocalize=n,this.template=p,this.restrict="E",this.scope={displayResults:"=",progressId:"=",targetDiv:"@",primaryKey:"&?"},this.link=(e,t,n)=>{e.element=t,e.progress=this.$injector.instantiate(g,{scope:e}),e.progress.progressId=n.id||"directive-"+Math.floor(1e4*Math.random())+"-"+Math.floor(1e4*Math.random()),e.inProgressFiles=[],e.$on(U,((n,i,s,a,o)=>{if(null!=s&&(null!=s.content&&s.content.ui.fileUploadId===e.progress.progressId||e.progress.progressId===s.progressId||e.targetDiv&&e.targetDiv===o))if(a!==W.Uploading||s.content)if(a===W.Uploaded)e.progress.displayResults||e.progress.remove(s);else if(a===W.Error)e.progress.remove(s);else if(a===W.CommenceUpload)if(null!=s.content){if(e.fileUploadDivId=i,t.attr("id")===s.targetElement.attr("id")){e.inProgressFiles.push(e.progress.transformModelForDisplay(s));const n=this.interval((()=>{t.find(".progress-circle").length>0&&(e.$root.$broadcast(U,i,s,W.ProgressRenderComplete),this.interval.cancel(n))}),e,100,10)}}else s.progressId===e.progress.progressId&&(e.inProgressFiles.push(e.progress.transformModelForDisplay(s)),e.$root.$broadcast(U,i,s,W.ProgressRenderComplete));else a===W.Cancel&&e.progress.remove(s);else if(e.fileUploadDivId=i,e.inProgressFiles.push(e.progress.transformModelForDisplay(s)),e.progress.displayResults){e.lastPiesRendered=0;const n=this.interval((()=>{const a=t.find(".progress-circle").length;if(a>e.lastPiesRendered){for(let t=e.lastPiesRendered;t<e.lastPiesRendered+a;t++)e.$root.$broadcast(U,i,t,e.inProgressFiles[t].id,W.ProgressRenderComplete,s.inProgressFileId),this.interval.cancel(n);this.interval.cancel(n)}e.lastPiesRendered=a}),e,100,10)}else e.$root.$broadcast(U,i,e.inProgressFiles.length-1,e.inProgressFiles[e.inProgressFiles.length-1].id,W.ProgressRenderComplete,s.inProgressFileId,e.targetDiv)})),e.$on(U,((t,n,i,s,a,o,r,l)=>{(r&&r===e.targetDiv||s&&s.attr&&s.attr("id")===e.element.attr("id")&&a===W.UpdateProgress)&&e.progress.setProgress(n,i,l,o)})),e.progress.displayResults=!0,e.$watch("::displayResults",(t=>{e.progress.displayResults=t}))}}}b.$inject=["$injector",d.b,c.serviceName],a.module(h,[m.a]).directive("bbProgress",["$injector",e=>e.instantiate(b)]);var f=n("5MwF"),v=n("Vsv2"),y=n("k9iv"),k=n("b2lU"),x=n("A+IJ"),S=n("12mu"),C=n("pjml"),E=n("lEL+"),I=n("hkqm"),w=n("TnpK"),A=n("Q/M7"),O=n("GbAM"),D=n("fYJU"),T=n("jx5I"),P=n("RK4w"),$=n("8jry"),G=n("ByeC"),j=n("Za2G"),L=n("mhLG"),N=n("EN13"),B=n("YCUs"),M=n("ofgY"),R=n("W7eU"),F=n("Tfg2"),V=n("yZnR");n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return U})),n.d(t,"d",(function(){return H})),n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return q})),n.d(t,"c",(function(){return W}));const _="ultra.directives.bbFileUpload",U="bbFileUpload",H="thirdPartyFileSelectedEvent",z="fileSelected",q="dismissUploadModalEvent";class W extends r.a{}W.AllUploadsCompleted=new W("allUploadsCompleted"),W.AssignDropTarget=new W("assignDropTarget"),W.Cancel=new W("cancel"),W.CommenceUpload=new W("commenceUpload"),W.ContentCreated=new W("contentCreated"),W.Delete=new W("delete"),W.DeleteContent=new W("deleteContent"),W.Error=new W("error"),W.File=new W("file"),W.FileDrop=new W("fileDrop"),W.Folder=new W("folder"),W.LinkProgress=new W("linkProgress"),W.OutlineAddContentButtonFileSelected=new W("outlineAddContentButtonFileSelected"),W.ProgressRenderComplete=new W("progressRenderComplete"),W.UpdateFileTypes=new W("updateFileTypes"),W.UpdateProgress=new W("updateProgress"),W.Uploaded=new W("uploaded"),W.Uploading=new W("uploading"),W.UploadProgressComplete=new W("uploadProgressComplete");class K extends r.a{constructor(e,t){super(e),this.errorKey=t}getErrorKey(){return this.errorKey}}K.General=new K("generalFileUploadError","components.directives.fileUpload.errorFull"),K.Security=new K("securityFileUploadError","components.directives.fileUpload.errorSecurity");class J{static generateTempFileId(){return`${Math.floor(1e4*Math.random())}-${Math.floor(1e4*Math.random())}`}}class Q{constructor(e,t,n,o,r,l,d,u,m,p,h,g,b,v,y,k,S,C,E){if(this.scope=e,this.element=t,this.attrs=n,this.contextCourseMembership=o,this.bbLocalize=r,this.cloudDrive=l,this.interval=d,this.$modal=u,this.$http=m,this.timeout=p,this.$compile=h,this.Upload=g,this.ultraState=b,this.FileUtilityFactory=v,this.errorModal=y,this.toast=k,this.$q=S,this.contextUser=C,this.$sceService=E,this.aborted=!1,this.alertedUserForFolderIncompatibility=!1,this.fileReviewVisible=!1,this.isMultipleUpload=!1,this.letMeChooseSelected=!1,this.progressVisible=!1,this.successVisible=!1,this.transcludeVisible=!0,this.uploadInProgress=!1,this.isUploadCompleteEventRegistered=!1,this.allowOversizedFiles=!1,this.currentUploadCount=0,this.failedUploadCount=0,this.idCounter=0,this.originalUploadCount=0,this.successfulUploadCount=0,this.allowedFileTypes="",this.allowMultiple=!1,this.hideTranscludeDuringUpload=!0,this.id="",this.isContent=!1,this.monitorLeave=!1,this.useDefaultSuccessMethod=!1,this.isThirdPartyUpload=!1,this.oversizedFiles=[],this.model={fileLocation:null,files:[]},this.uploadingFiles=[],this.uploadsInProgress={},this.cancelUpload=(e,t)=>{const n=this.getUploadingFileIndexById(e,t);this.scope.isThirdPartyUpload&&n>=0?this.uploadingFiles.splice(n,1):this.uploadsInProgress[e]&&n>=0&&(this.abortUpload(e),this.aborted=!0,this.originalUploadCount--,this.resetFileInput(),n>=0&&this.uploadingFiles.splice(n,1),this.allowMultiple&&0!==this.model.files.length||this.hideTranscludeDuringUpload&&(this.fileReviewVisible=!1,this.transcludeVisible=!0)),this.uploadingFiles&&0!==this.uploadingFiles.length||(this.uploadInProgress=!1)},this.updateModel=(e,t,n,i,s)=>{const a=e.mimeType?e.mimeType:n,o=this.fileUtil.calculateSize(t.size),r={fileLocation:e.fileLocation,webLocation:e.webLocation,fileName:e.fileName,currentMimeType:a,fileSize:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.sizeOutput",params:{label:o.sizeLabel,size:parseFloat(o.size.toFixed(2)).toString()}}),rawFileSize:t.size,isMedia:e.isMedia,uploadDate:this.uploadDate,targetClass:i,ui:{position:s}};return this.allowMultiple?this.model.files.push(r):this.model.files[0]=r,this.model.fileLocation=e.fileLocation,this.currentFileName=r.fileName,r},this.success=(e,t)=>{this.currentUploadCount--,this.model.files=[],this.currentUploadCount<=0&&(this.oversizedFiles.length&&this.openMaxSizeWarning(),this.scope.$root.$broadcast(U,W.AllUploadsCompleted,null,null,null,this.scope.primaryKey&&this.scope.primaryKey())),"/v1/files"===this.attrs.url&&this.useDefaultSuccessMethod&&this.hideTranscludeDuringUpload&&(this.transcludeVisible=!0)},this.displayUploadError=e=>{this.scope.errorModalErrorKey=e?e.getErrorKey():K.General.getErrorKey(),this.modalInstance=this.$modal.open({template:R,scope:this.scope,resolve:{translations:[c.serviceName,e=>e.loadBundle("components/directives/file-upload")]}}),this.modalInstance.result.then((()=>{}),(()=>{this.resetFileInput(),this.hideTranscludeDuringUpload&&(this.transcludeVisible=!0)}))},this.getMoreSupportURL=()=>this.contextCourseMembership.isStudentOrGuestMembership()||this.contextUser.userModel.isStudent()||this.contextUser.userModel.isGuest()?"http://help.blackboard.com/001_563en_US":"http://help.blackboard.com/001_562en_US",this.progress=(e,t,n)=>{this.scope.$root.$broadcast(U,e,t,n,W.UpdateProgress,void 0,this.scope.targetDiv)},this.conductUpload=(e,t,n)=>{let s,a,o=0;if(a=n?this.uploadingFiles.filter((e=>e.id===n))[0]:this.uploadingFiles.filter((t=>t.ui.primaryKey===e.ui.primaryKey))[0],s=e.targetElement?e.targetElement:this.scope.targetElement,this.scope.isThirdPartyUpload){if(e){const n=e;n.ui.index=t,n.ui.position=this.scope.position&&this.scope.position(),n.ui.targetDiv=this.getContentOutlineCloudKey(!0)||this.scope.targetDiv,this.scope.thirdPartyDownloadHandler(n),this.oversizedFiles.length&&this.openMaxSizeWarning()}}else{let n=A.j()+f.a.apiBasePath+"/v1/files?expand=mimeType,isMedia";this.scope.fileLocation&&(n=n+"&fileLocation="+this.scope.fileLocation),this.scope.webLocation&&(n=n+"&webLocation="+this.scope.webLocation),this.scope.extraParams&&(n=n+"&"+i.map(this.scope.extraParams(),((e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`)).join("&")),this.uploadsInProgress[a.id]=this.Upload.upload({url:n,method:"POST",headers:{"Content-Type":e.type},data:e.data,file:e.file,fileName:e.fileName}).progress((e=>{o=parseInt((100*e.loaded/e.total).toString(),10),100!==o?a.currentProgress=o:a.currentProgress<100&&(a.currentProgress=99),this.progress(a.id,o,s)})).success(((n,i,s,o)=>{const r=this.interval((()=>{if(100===a.currentProgress||0===a.currentProgress){const i=this.updateModel(n,e.file,e.currentMimeType,e.targetClass,this.scope.position&&this.scope.position());if(i.ui.originFileName=e.fileName,this.success(i,t),this.successfulUploadCount++,this.removeUploadingFile(e),(!this.uploadingFiles||0===this.uploadingFiles.length)&&(this.uploadInProgress=!1,this.failedUploadCount+this.successfulUploadCount===this.originalUploadCount)){let e;e=this.originalUploadCount>1?0===this.failedUploadCount?this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.aria.multipleFiles.uploadSuccessful.plural",params:{filesCount:this.originalUploadCount},noWrap:!0}):this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.aria.multipleFiles.uploadFinished.plural",params:{successfulFilesCount:this.originalUploadCount-this.failedUploadCount,filesCount:this.originalUploadCount},noWrap:!0})+" "+this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.aria.multipleFiles.failedFiles.plural",params:{filesCount:this.failedUploadCount,filenameList:this.bbLocalize.formatItemsSync(this.failedUploadFilenames,this.failedUploadFilenames.length,null,this.scope,!1,{noWrap:!0})},noWrap:!0}):this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.aria.singleFile.uploadSuccessful",noWrap:!0}),this.scope.$root.$broadcast(O.a,e)}i.ui.id=e.id,null!=e.content?this.scope.$root.$broadcast(U,this.scope.fileUploadDivId,e.content,i,W.Uploaded,this.scope.targetDiv,this.isMultipleUpload):this.scope.$root.$broadcast(U,this.scope.fileUploadDivId,i,W.Uploaded,this.scope.targetDiv,this.scope.primaryKey&&this.scope.primaryKey()),this.interval.cancel(r)}}),this.scope,100,5e3,!0)})).error((t=>{if(this.removeUploadingFile(e),this.failedUploadCount++,this.failedUploadFilenames.push(e.fileName),(!this.uploadingFiles||0===this.uploadingFiles.length)&&(this.uploadInProgress=!1,this.failedUploadCount+this.successfulUploadCount===this.originalUploadCount)){let e;e=this.originalUploadCount>1?this.failedUploadCount===this.originalUploadCount?this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.aria.multipleFiles.uploadFailed",noWrap:!0}):this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.aria.multipleFiles.uploadFinished.plural",params:{successfulFilesCount:this.originalUploadCount-this.failedUploadCount,filesCount:this.originalUploadCount},noWrap:!0})+" "+this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.aria.multipleFiles.failedFiles.plural",params:{filesCount:this.failedUploadCount,filenameList:this.bbLocalize.formatItemsSync(this.failedUploadFilenames,this.failedUploadFilenames.length,null,this.scope,!1,{noWrap:!0})},noWrap:!0}):this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.aria.singleFile.uploadFailed",noWrap:!0}),this.scope.$root.$broadcast(O.a,e)}if(this.scope.$root.$broadcast(U,this.scope.fileUploadDivId,e,W.Error,this.scope.targetDiv,this.scope.primaryKey&&this.scope.primaryKey()),this.aborted)this.aborted=!1;else{const e=t&&422===t.status?K.Security:K.General;this.displayUploadError(e)}}))}},this.prepareToUpload=(e,t,n,s)=>{this.resetFileInput();const o=JSON.stringify({fileLocation:this.model.fileLocation});let r=e.type;r||(r=this.unknownMimeType);const l="img-icon-document",c=e.name||e.filename;let d;if(this.scope.isThirdPartyUpload){d={id:e.id,currentMimeType:r,currentProgress:0,data:o,file:e,fileName:c,inProgressFileId:J.generateTempFileId(),targetClass:l,type:e.type},d.ui=a.copy(e.ui),d.ui?d.ui.primaryKey=this.scope.primaryKey&&this.scope.primaryKey():d.ui={primaryKey:this.scope.primaryKey&&this.scope.primaryKey()},t&&this.isZipFile(c)&&(d.ui.needUnzip=t),d.ui.fileId=e.id,this.uploadingFiles.push(d),this.isUploadCompleteEventRegistered||(this.scope.$on("uploadComplete",((e,t,n)=>{if(i.findIndex(this.uploadingFiles,(e=>t.ui.fileId===e.ui.fileId))>=0){const e=this.getContentOutlineCloudKey(!0,n)||this.scope.targetDiv,i=this.getContentOutlineCloudKey(!1,n)||this.scope.primaryKey&&this.scope.primaryKey();this.scope.$root.$broadcast(U,this.scope.fileUploadDivId,t,W.Uploaded,e,i),this.removeUploadingFile(t)}this.uploadingFiles&&0!==this.uploadingFiles.length||(this.uploadInProgress=!1)})),this.isUploadCompleteEventRegistered=!0);const n=this.getContentOutlineCloudKey(!0)||this.scope.targetDiv,s=this.getContentOutlineCloudKey(!1)||this.scope.primaryKey&&this.scope.primaryKey();this.scope.$root.$broadcast(U,this.scope.fileUploadDivId,d,W.Uploading,n,s)}else d={content:s,currentMimeType:r,currentProgress:0,data:o,file:e,fileName:c,id:J.generateTempFileId(),progressId:null,targetClass:l,type:e.type},d.ui={primaryKey:this.scope.primaryKey&&this.scope.primaryKey()},this.uploadingFiles.push(d),null!=s?this.scope.$root.$broadcast(U,this.scope.fileUploadDivId,d,W.FileDrop,this.scope.targetDiv):this.scope.$root.$broadcast(U,this.scope.fileUploadDivId,d,W.Uploading,this.scope.targetDiv,this.scope.primaryKey&&this.scope.primaryKey())},this.uploadFiles=(e,t)=>{this.isContent||(this.fileReviewVisible=!0),this.hideTranscludeDuringUpload&&(this.transcludeVisible=!1),e.forEach((n=>{this.isContent?this.isFolder(n).then((e=>{e?(this.scope.$root.$broadcast(U,this.scope.fileUploadDivId,n,W.Folder),this.scope.isChrome||this.alertedUserForFolderIncompatibility||(this.alertedUserForFolderIncompatibility=!0,this.errorModal.handleError(this.browserFolderWarning))):(this.uploadInProgress=!0,this.scope.$root.$broadcast(U,this.scope.fileUploadDivId,n,W.File),this.currentUploadCount++)})):(this.uploadInProgress=!0,this.prepareToUpload(n,t,e.indexOf(n),null))}))},this.calculateSizeInMib=e=>e/1048576,this.openMaxSizeWarning=()=>{this.maxFileSizeScope=this.scope.$new();let e="";const t=this.scope.fileUploadSettings;this.maxFileSizeScope.shouldIncludeSupportLink=""!==t.supportLink,this.maxFileSizeScope.shouldRecommendAltStorageLocations=""!==t.recommendedAlternatives,this.maxFileSizeScope.shouldIncludeSupportLink&&(e=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.maxSizeWarningSupportLinkText",params:{supportLink:t.supportLink},noWrap:!0}),e=this.$sceService.trustAsHtml(e)),this.maxFileSizeScope.maxFileSize=t.maxUploadSizeInBytes,this.maxFileSizeScope.alternateStorage=t.recommendedAlternatives,this.maxFileSizeScope.supportLink=e,this.maxFileSizeScope.closeModal=this.closeModal,this.maxFileSizeScope.calculateSizeInMib=this.calculateSizeInMib,this.maxFileSizeScope.overSizedFiles=this.oversizedFiles,this.oversizedFiles=[],this.modalInstance=this.$modal.open({template:V,scope:this.maxFileSizeScope,resolve:{translations:[c.serviceName,e=>e.loadBundle("components/directives/file-upload")]}})},this.continueCurrentUpload=(e,t)=>{e.length>0&&this.uploadFiles(e,t)},this.uploadEnabled=()=>(this.allowMultiple||this.allowMultipleSelects||0===this.uploadingFiles.length&&0===this.model.files.length)&&!this.scope.isThirdPartyUpload,this.fileUploadClick=()=>{this.uploadEnabled()&&this.element.find(".fileUploadInput").trigger("click",!0)},this.modalCancelUpload=()=>{this.modalInstance.dismiss()},this.addContent=e=>{e&&this.modalInstance.close(e)},this.closeModal=e=>{if(null===e||a.isUndefined(e))return this.modalInstance.close();e?this.modalInstance.close(e):(this.modalInstance.close(e),this.resetFileInput())},this.closeModalAndChooseFiles=()=>{this.closeModal(!0),this.resetFileInput(),this.element.find(".file-upload-container div:first-child").eq(0).click()},this.containsPackageFile=(e,t)=>{t?(this.modalInstance=this.$modal.open({template:B,scope:this.scope,resolve:{translations:[c.serviceName,e=>e.loadBundle("components/directives/file-upload")]}}),this.modalInstance.result.then((t=>{t&&this.continueCurrentUpload(e,t)}),(e=>{this.notifyUploadCancelled(),this.resetFileInput()}))):this.continueCurrentUpload(e)},this.containsZipFile=e=>{0!==e.filter((e=>this.isZipFile(e.name))).length?(this.modalInstance=this.$modal.open({template:F,scope:this.scope,resolve:{translations:[c.serviceName,e=>e.loadBundle("components/directives/file-upload")]}}),this.modalInstance.result.then((t=>{this.continueCurrentUpload(e,t)}),(e=>{this.notifyUploadCancelled(),this.resetFileInput()}))):this.containsPackageFile(e)},this.checkAllowedFileTypesAndValidateFileSizes=e=>{e=this.validateUploadFileSizes(e);const t=this.validateFiles(e);if(!e.length&&this.oversizedFiles.length)return this.openMaxSizeWarning(),this.notifyUploadCancelled(),void this.resetFileInput();t.length!==e.length?(this.validFiles=t,this.modalInstance=this.$modal.open({template:this.disallowedFileTypeErrorTemplate||$,scope:this.scope,resolve:{translations:[c.serviceName,e=>e.loadBundle("components/directives/file-upload")]}}),this.modalInstance.result.then((e=>{this.scope.skipZipFileCheck&&this.scope.skipZipFileCheck()?this.continueCurrentUpload(t,!1):this.containsZipFile(t)}),(e=>{this.notifyUploadCancelled(),this.resetFileInput()}))):this.scope.skipZipFileCheck&&this.scope.skipZipFileCheck()?this.continueCurrentUpload(t,!1):this.containsZipFile(t)},this.removeFoldersIfBreaksDepthLimit=e=>{this.scope.depth&&this.scope.depth()>x.l?this.removeFolders(e,L):this.checkAllowedFileTypesAndValidateFileSizes(e)},this.removeFoldersIfDisallowed=e=>{this.scope.disallowFolderUploads&&this.scope.disallowFolderUploads()?this.removeFolders(e,G):this.removeFoldersIfBreaksDepthLimit(e)},this.removeFolders=(e,t)=>{const n={};this.$q.all(e.map((e=>this.isFolder(e).then((t=>t?n:e))))).then((i=>{const s=i.filter((e=>e!==n));s.forEach((e=>{e.path=null})),s.length!==e.length?(this.scope.hasFiles=0!==s.length,this.modalInstance=this.$modal.open({template:t,scope:this.scope,resolve:{translations:[c.serviceName,e=>e.loadBundle("components/directives/file-upload")]}}),this.modalInstance.result.then((e=>{this.checkAllowedFileTypesAndValidateFileSizes(s)}),(e=>{this.notifyUploadCancelled(),this.resetFileInput()}))):this.checkAllowedFileTypesAndValidateFileSizes(s)}))},this.ensurePlurality=e=>{e.length>1&&!this.allowMultiple?(this.uploadedFiles=e,this.modalInstance=this.$modal.open({template:j,scope:this.scope,resolve:{translations:[c.serviceName,e=>e.loadBundle("components/directives/file-upload")]}}),this.modalInstance.result.then((t=>{const n=s('input[type="radio"][name="fileListing"]:checked').val();this.removeFoldersIfDisallowed([e[n]])}),(e=>{this.notifyUploadCancelled(),this.resetFileInput()}))):this.removeFoldersIfDisallowed(e)},this.onFileSelect=(e,t,n,i,a,o)=>{if(!(o&&(s(o.target).is(".js-no-file-drop")||s(o.target).is(".js-show-add-options"))||e&&e.length&&"Blob"===e[0].constructor.name))if(e.length){let t;this.isMultipleUpload=e.length>1,this.scope.$root.$broadcast(U,this.scope.primaryKey&&this.scope.primaryKey(),W.AssignDropTarget),this.scope.$root.$broadcast(U,this.scope.primaryKey&&this.scope.primaryKey(),W.OutlineAddContentButtonFileSelected),this.setUploadDate(),this.ensurePlurality(e),this.originalUploadCount=e.length,this.failedUploadCount=this.successfulUploadCount=0,this.failedUploadFilenames=[],t=this.originalUploadCount>1?this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.aria.multipleFiles.uploadStarted.plural",params:{filesCount:this.originalUploadCount},noWrap:!0}):this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.aria.singleFile.uploadStarted",noWrap:!0}),this.scope.$root.$broadcast(O.a,t)}else this.throwModalForNonFileUpload()},this.confirmLeaveDuringUpload=(e,t,n)=>{!this.uploadInProgress&&!this.cloudDrive.isGettingFilesInfo||Q.isLeaveConfirmModalOpened||(e.preventDefault(),this.modalInstance=this.$modal.open({template:P,scope:this.scope,resolve:{translations:[c.serviceName,e=>e.loadBundle("components/directives/file-upload")]}}),Q.isLeaveConfirmModalOpened=!0,this.modalInstance.result.then((e=>{Q.isLeaveConfirmModalOpened=!1,this.scope.isThirdPartyUpload||this.abortAllUploads(),this.aborted=!0,this.uploadInProgress=!1,this.uploadingFiles.forEach((e=>{this.scope.$root.$broadcast(U,this.scope.fileUploadDivId,e,W.Cancel,this.scope.targetDiv,this.scope.primaryKey&&this.scope.primaryKey())})),this.ultraState.go(t.name,n)}),(()=>{Q.isLeaveConfirmModalOpened=!1,this.scope.$root.$broadcast("$stateChangeAbort",{reason:"ABORTED_BY_FILE_UPLOAD"})})))},this.initialState=this.ultraState.current.name,this.allowMultipleSelects=e.$eval(e.allowMultipleSelects),this.scope.isChrome=/Chrome/.test(navigator.userAgent),this.disallowedFileTypeErrorTemplate=this.scope.disallowedFileTypeErrorTemplate,e.dragClass="drag",e.$on("bb-drag-start",(()=>{e.dragClass=""})),e.$on("file-drag-restore",(()=>{e.dragClass="drag"})),!e.isThirdPartyUpload){if(!n.url)throw new Error("'url' attribute required in file upload");if(this.url=n.url,!n.data)throw new Error("'data' attribute required in file upload")}this.element.find(".file-upload:first").on("click",((e,t)=>{this.scope.clickEnabled&&!this.scope.clickEnabled()||t||this.fileUploadClick()})),["hideTranscludeDuringUpload","useDefaultSuccessMethod","allowedFileTypes","forceReselectDisallowedFiles","allowMultiple","isContent","fileUploadClick","allowOversizedFiles"].forEach((e=>{const t=this.scope.$watch(e,(n=>{null!=n&&(t(),this[e]=n)}))}));const I=this.scope.$watch("targetDiv",(n=>{if(null!=n)I(),this.scope.targetElement=t.find(n),0===this.scope.targetElement.length&&(this.scope.targetElement=s(n));else{this.progressVisible=!0;const n=this.interval((()=>{const e=t.find(".file-upload-panel");e.length>0&&(this.scope.targetElement=e,this.interval.cancel(n))}),e,100,10)}})),w=this.scope.$watch("monitorLeave",(e=>{e&&(this.registerRouterStateChangeEventHandlers(),w())}));this.isThirdPartyUpload=e.isThirdPartyUpload,this.loadTranslations(),this.fileUtil=this.FileUtilityFactory()}getContentOutlineCloudKey(e,t){const n=e?"#progress":"progress",i=t||this.scope.cloudUploadSelectedContentId;if(i)return`${n}${i}`}throwModalForNonFileUpload(){this.modalInstance=this.$modal.open({template:N,scope:this.scope,resolve:{translations:[c.serviceName,e=>e.loadBundle("components/directives/file-upload")]}}),this.modalInstance.result.catch((e=>{this.notifyUploadCancelled(),this.resetFileInput()}))}endsWith(e,t){return e.lastIndexOf(t),e.lastIndexOf(t)===e.length-t.length}getUploadingFileIndexById(e,t){const n=this.uploadingFiles.filter((n=>n.id===e&&this.validateIdentifier(n.inProgressFileId,t)))[0];return this.uploadingFiles.indexOf(n)}isFolder(e){const t=this.$q.defer();if("directory"===e.type)t.resolve(!0);else if(e instanceof Blob){const n=new FileReader;n.onload=()=>{1===n.readyState&&n.abort(),t.resolve(!1)},n.onerror=()=>{this.isLikelyAFile(e)&&(this.displayUploadError(),this.scope.$root.$broadcast(U,this.scope.fileUploadDivId,e,W.Error,this.scope.targetDiv,this.scope.primaryKey&&this.scope.primaryKey()),t.reject()),t.resolve(!0)},n.readAsText(this.sliceFileHelper(e))}else t.resolve(!1);return t.promise}sliceFileHelper(e){return e.slice(0,1)}isZipFile(e){return".zip"===e.substring(e.lastIndexOf(".")).toLowerCase()}isLikelyAFile(e){return"directory"!==e.type&&(""!==e.type||e.size>4096)}loadTranslations(){this.bbLocalize.loadBundle("components/directives/file-upload").then((()=>{this.browserFolderWarning=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.browserFolderWarning"}),this.cancelUploadText=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.cancelUploadText"}),this.unknownMimeType=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.unknownMimeType"}),this.uploaded=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.uploaded"}),this.uploading=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.fileUpload.uploading"})}))}notifyUploadCancelled(){this.scope.$root.$broadcast(U,this.scope.fileUploadDivId,null,W.Cancel,this.scope.targetDiv,this.scope.primaryKey&&this.scope.primaryKey())}removeUploadingFile(e){i.remove(this.uploadingFiles,(t=>t.ui&&e.ui&&t.ui.fileId&&e.ui.fileId?t.inProgressFileId&&e.inProgressFileId?t.ui.fileId===e.ui.fileId&&t.inProgressFileId===e.inProgressFileId:t.ui.fileId===e.ui.fileId:t.inProgressFileId&&e.inProgressFileId?e&&t.fileName===e.fileName&&t.inProgressFileId===e.inProgressFileId:e&&t.fileName===e.fileName)),delete this.uploadsInProgress[e.id]}resetFileInput(){const e=s(document.body).find(".fileUploadInput");for(let t=0;t<e.length;t++){e.eq(t)[0].value=""}}registerRouterStateChangeEventHandlers(){this.scope.$on("$stateChangeStart",((e,t,n,i,s)=>{i.name===t.name||t.name===this.initialState||this.isStateIgnored(i,t)||this.confirmLeaveDuringUpload(e,t,n)}))}isStateIgnored(e,t){if(this.scope.ignoredStates&&this.scope.ignoredStates())for(const n of this.scope.ignoredStates())if(e.name.indexOf(n)>=0||t.name.indexOf(n)>=0)return!0;return!1}setUploadDate(){this.bbLocalize.formatDatetime(new Date,c.ILocaleDatetimeFormat.Short).then((e=>{this.uploadDate=e}))}validateFiles(e){if(""===this.allowedFileTypes)return e;let t=[],n=!1;this.allowedFileTypes.indexOf("/")>0?(n=!0,t[0]=this.allowedFileTypes.substr(0,this.allowedFileTypes.indexOf("/")),t[1]=this.allowedFileTypes.substr(this.allowedFileTypes.indexOf("/")+1)):t=this.allowedFileTypes.toLowerCase().split(",");const i=[];for(let s=0;s<e.length;s++){const a=e[s];if(n){const e=[];e[0]=a.type.substr(0,this.allowedFileTypes.indexOf("/")),e[1]=a.type.substr(this.allowedFileTypes.indexOf("/")+1),t[0]!==e[0]||t[1]!==e[1]&&"*"!==t[1]||i.push(a)}else for(let e=0;e<t.length;e++)if("."!==t[e].charAt(0)&&(t[e]="."+t[e]),this.endsWith(a.name.toLowerCase(),t[e])){i.push(a);break}}return i}validateUploadFileSizes(e){if(this.currentUploadCount=0,this.oversizedFiles=[],this.allowOversizedFiles)return e;const t=this.scope.fileUploadSettings.maxUploadSizeInBytes;return this.oversizedFiles=e.filter((e=>e.size>t)),e.filter((e=>e.size<=t))}abortUpload(e){this.uploadsInProgress[e].abort(),delete this.uploadsInProgress[e]}abortAllUploads(){Object.keys(this.uploadsInProgress).forEach((e=>this.abortUpload(e)))}validateIdentifier(e,t){return!e||!t||e===t}}Q.isLeaveConfirmModalOpened=!1;class Z{constructor(e,t,n,i,s,a,o,r,l,c,d,u,m,p,h,g,b){this.contextCourseMembership=e,this.bbLocalize=t,this.cloudDrive=n,this.$modal=i,this.$http=s,this.interval=a,this.timeout=o,this.$compile=r,this.Upload=l,this.ultraStateService=c,this.FileUtilityFactory=d,this.errorModal=u,this.toast=m,this.$q=p,this.contextUser=h,this.fileUploadSettingsService=g,this.$sceService=b,this.replace=!1,this.transclude=!0,this.restrict="E",this.template=M,this.scope={allowedFileTypes:"@",allowMultiple:"=",allowMultipleSelects:"@",cancelUpload:"=",clickEnabled:"&?",confirmLeaveDuringUpload:"=",closeModal:"=",closeModalAndChooseFiles:"@",delete:"=",disableDrag:"&?",disallowFolderUploads:"&?",extensions:"=",cloudUploadSelectedContentId:"<?",fileUploadClick:"=",forceReselectDisallowedFiles:"&?",hideTranscludeDuringUpload:"=",isContent:"=",improperAmountOfFilesUpload:"=",isThirdPartyUpload:"=?",primaryKey:"&?",modalCancelUpload:"=",monitorLeave:"=",onFileSelect:"=",position:"&?",showUnzippedSelection:"=",skipZipFileCheck:"&?",targetDiv:"@",thirdPartyDownloadHandler:"=",uploadUnzippedFiles:"=",unzippedFileSelection:"=",uploadEnabled:"=",useDefaultSuccessMethod:"=",fileLocation:"@?",webLocation:"@?",ignoredStates:"&?",extraParams:"&?",depth:"&?",initialUpload:"=?",disallowedFileTypeErrorTemplate:"@?",allowOversizedFiles:"<?"},this.link=(e,t,n,i)=>{e.fileUploadDivId=`fileUploadDiv-${J.generateTempFileId()}`,e.targetElement=t.find(".file-upload-panel"),e.fileUpload=new Q(e,t,n,this.contextCourseMembership,this.bbLocalize,this.cloudDrive,this.interval,this.$modal,this.$http,this.timeout,this.$compile,this.Upload,this.ultraStateService,this.FileUtilityFactory,this.errorModal,this.toast,this.$q,this.contextUser,this.$sceService),e.$on(H,((t,n,i)=>{t.stopPropagation&&t.stopPropagation(),i&&i===(e.primaryKey&&e.primaryKey())&&e.fileUpload.onFileSelect(n),e.$emit(z,n,i)})),e.$on(q,(()=>{e.fileUpload.modalInstance&&e.fileUpload.modalInstance.dismiss()})),e.$on(U,((t,n,i,s,a,o,r,l)=>{if(n===e.fileUploadDivId)if(a===W.Cancel)e.fileUpload.cancelUpload(s,o);else if(a===W.ProgressRenderComplete)"number"==typeof i&&e.fileUpload.conductUpload(e.fileUpload.uploadingFiles.filter((t=>t.id===s&&e.fileUpload.validateIdentifier(t.inProgressFileId,o)))[0],i,s);else if(a===W.UploadProgressComplete){const t=e.fileUpload.uploadingFiles.filter((t=>t.id===s&&e.fileUpload.validateIdentifier(t.inProgressFileId,o)))[0];t&&(t.currentProgress=100)}})),e.$on(U,((n,i,s,a,o)=>{i===(e.primaryKey&&e.primaryKey())&&o===W.UpdateFileTypes&&(e.fileUpload.allowedFileTypes=s,t.find("input").attr("accept",s),a())})),e.$on(U,((t,n,i,s)=>{n===e.fileUploadDivId&&i&&i.fileName&&s===W.ProgressRenderComplete&&e.fileUpload.conductUpload(i,0,i.id)})),e.$on(U,((t,n,i,s)=>{if(n===e.fileUploadDivId&&s===W.ContentCreated){const t=this.interval((()=>{e.fileUpload.prepareToUpload(i.ui.file,!1,0,i),this.interval.cancel(t)}),e,100,20)}})),e.$on(U,((t,n,i,s,a,o)=>{if(n===e.fileUploadDivId&&o===W.LinkProgress)for(let t=0;t<e.fileUpload.uploadingFiles.length;t++)i.content?e.fileUpload.uploadingFiles[t].fileName===i.fileName&&e.fileUpload.uploadingFiles[t].file.path===i.file.path&&e.fileUpload.uploadingFiles[t].id===i.id&&(e.fileUpload.uploadingFiles[t].progressId=i.content.ui.fileUploadId,e.$root.$broadcast(U,e.fileUploadDivId,i,W.CommenceUpload)):e.fileUpload.uploadingFiles[t].fileName===i.fileName&&e.fileUpload.uploadingFiles[t].file.path===i.file.path&&e.fileUpload.uploadingFiles[t].id===i.id&&null==e.fileUpload.uploadingFiles[t].progressId&&(e.fileUpload.uploadingFiles[t].progressId=e.fileUpload.isContent?null:s,e.fileUpload.uploadingFiles[t].targetElement=a,e.$root.$broadcast(U,e.fileUploadDivId,i,W.CommenceUpload))})),e.fileUploadSettings=this.fileUploadSettingsService.getSettings(),e.initialUpload&&e.fileUpload.uploadFiles([e.initialUpload],!1)}}}Z.$inject=[l.d,c.serviceName,v.b,S.b,"$http",d.b,E.b,"$compile","Upload",w.d,k.b,y.c,I.b,"$q",D.b,T.b,"$sce"],a.module(_,["ngFileUpload",l.a,c.moduleName,v.a,d.a,S.a,C.N,k.c,E.a,h,y.b,I.a,w.b,T.a]).directive(U,["$injector",e=>e.instantiate(Z)])},"P/1j":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("36Bh");const a="ultra.components.directives.bbUiIcon.large.Link";Object(i.a)(s.a,a,"bbUiIconLargeLink")},P2dS:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return p}));var i=n("D57K"),s=n("nsO7"),a=n("Llzl"),o=n("pjml"),r=n("aHpC"),l=n("jhBu"),c=n("ZQFV"),d=n("zGdY");const u="ultra.components.services.gradebookColumnCategory.Service",m="gradeColumnCategoryService";let p=class e{constructor(e,t,n,i){this.$q=e,this.$rootScope=t,this.entitlementService=n,this.CourseModel=i,this.categoriesByCourse={}}getIconByGradebookCategory(t,n){let i=null;return null!=t&&(!1!==n&&t!==d.W.Attendance||t in e.ICON_NAME_BY_CATEGORY_TITLE&&(i=e.ICON_NAME_BY_CATEGORY_TITLE[t]),i||(i=e.DEFAULT_ICON_FOR_CATEGORY)),i}getCategoryIcon(t){let n=e.DEFAULT_ICON_FOR_CATEGORY;return t&&t.title&&(n=this.getIconByGradebookCategory(t.title,t.isUserDefined)),n}loadGradeCategories(e){return this.CourseModel.$new(e).gradebook.categories.$fetch().$asPromise()}getOrLoadCategoriesForCourse(e,t){if((t||!this.categoriesByCourse[e])&&this.userCanViewGradebookCategories(e))return this.loadGradeCategories(e).then((t=>(this.reorderCategories(t,0),this.categoriesByCourse[e]=t,t)));const n=this.$q.defer();return n.resolve(this.categoriesByCourse[e]),n.promise}userCanViewGradebookCategories(e){return this.entitlementService.isEntitled(c.q.ViewUserGrades,e)||this.entitlementService.isEntitled(c.q.ViewGradebookMetaData,e)}getFilteredCategoriesForCourse(e,t){return this.getOrLoadCategoriesForCourse(e,!0).then((e=>s.filter(e,t)))}updateCategoriesForCourse(e,t){if(this.categoriesByCourse[e]){const n=this.categoriesByCourse[e],i=s.findIndex(n,(e=>e.id===t.id));-1===i?n.splice(0,0,t):n.splice(i,1,t)}}deleteCategoriesForCourse(e,t){if(this.categoriesByCourse[e]){const n=this.categoriesByCourse[e],i=s.findIndex(n,(e=>e.id===t.id));i>-1&&n.splice(i,1)}}reorderCategories(e,t){const n=e.length;for(let i=t;i<n;++i){const t=e[i];t.isUserDefined&&(e.splice(i,1),e.unshift(t))}}};p.DEFAULT_ICON_FOR_CATEGORY="custom-item",p.ICON_NAME_BY_CATEGORY_TITLE=Object.freeze({[d.W.Assignment]:"assignment",[d.W.Attendance]:"attendance",[d.W.Blog]:"blog",[d.W.Discussion]:"discussion",[d.W.Exam]:"exam",[d.W.Homework]:"homework",[d.W.Journal]:"journal",[d.W.Presentation]:"presentation",[d.W.Quiz]:"quiz",[d.W.Survey]:"survey",[d.W.Test]:"test"}),p=Object(i.a)([Object(i.c)(0,Object(r.b)("$q")),Object(i.c)(1,Object(r.b)("$rootScope")),Object(i.c)(2,Object(r.b)(l.b)),Object(i.c)(3,Object(r.b)(o.m.serviceName))],p);a.module(u,[l.a]).service(m,p)},P43K:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("Llzl"),s=n("w9Zy"),a=n("TnpK"),o=n("fYJU"),r=n("pjml"),l=n("qhd3"),c=n("nmzr");const d="ultra.features.base.profile.update.basicProfile.routes";i.module(d,["ui.router",s.d,r.N,a.b]).config([a.c,e=>{e.peekState(c.E.UPDATE_PROFILE_PEEK,{url:"/update?focusField",require:()=>Promise.all([n.e(27),n.e(53),n.e(82),n.e(704)]).then(n.bind(null,"SqGJ")),pageTitle:"base.profile.update.sectionTitle",resolve:{currentUser:[l.serviceName,o.b,(e,t)=>e.$find(t.userId).$asPromise()]}}).peekState(c.E.UPDATE_LANGUAGE_PEEK,{url:"/language",require:()=>n.e(661).then(n.bind(null,"Upnn")),pageTitle:"base.profile.updateLanguage.pageTitle",resolve:{currentUser:[l.serviceName,o.b,(e,t)=>e.$find(t.userId).$asPromise()]}})}])},PCGa:function(e,t,n){},PFA5:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("STfh");const a="ultra.components.directives.bbUiIcon.small.Invisible";Object(i.a)(s.a,a,"bbUiIconSmallInvisible")},PIPc:function(e,t){e.exports='\x3c!-- this button is for screenreader users only and should be placed at the end of an infinite scroll list in the DOM so that they know that more items can be loaded --\x3e\n<button class="sr-only load-more-items"\n        ng-click="infiniteScroll.loadMoreItems()"\n        tabindex="-1"\n        ng-disabled="infiniteScroll.disabled || infiniteScroll.remainingCount <= 0"\n        bb-load-bundle="components/directives/infinite-scroll"\n        bb-translate translate-values="infiniteScroll.loadMoreLocalizationValues"\n        analytics-id="{{::infiniteScroll.localizationKeysPrefix + \'.loadMoreButton.label.plural\'}}">{{::infiniteScroll.localizationKeysPrefix + \'.loadMoreButton.label.plural\'}}</button>\n'},PSJS:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"MessageLifeCycleEnum",(function(){return i})),n.d(t,"MessageType",(function(){return s})),n.d(t,"nextMessageType",(function(){return c})),n.d(t,"serviceName",(function(){return d}));var i,s,a=n("yCC5"),o=n("Rjd/"),r=n("nkTj"),l=n("z6Q5");function c(e){let t=parseInt(e,10)+1;const n=Object.keys(s);return n.length<t&&(t=n.length-1),s[n[t]]}!function(e){e.Published="PUBLISHED",e.Deleted="DELETED",e.Drafted="DRAFT"}(i||(i={})),function(e){e.Discussion="0",e.Comment="1",e.Reply="2",e.ClassConversation="3"}(s||(s={}));const d=a.P;o.a.factory(d,["restmod","$q",r.c,l.b,(t,n,i,o)=>t.model().mix({replies:{mask:!0},parent:{mask:!0},states:{hasOne:a.F},discussion:{mask:!0},type:{mask:!0},isAvailable:{mask:!0},user:{mask:!0},lastUpdateUser:{mask:!0},ui:{mask:!0,init:()=>({isEdit:!1})},postDate:{serialize:"date"},editDate:{serialize:"date"},"gradedColumn.dueDate":{serialize:"date"},$hooks:{"after-fetch-many":function(){"messages"===this.$scope.$partial&&this.forEach((e=>{e.type=s.Discussion,e.parent=e,e.discussion=e,e.states.readStateInd=e.messageStatus.isRead}))},"after-destroy":function(e){e.data&&this.$unwrap(e.data)}},$extend:{Record:{getReplies(e,t){if(t&&0===this.messageStatus.numberOfChildren)return this.replies=this.$scope.$collection(),this.replies.$asPromise=()=>n((e=>e(this.replies))),this.replies;const i=this;return this.$scope.$collection().$send({method:"GET",url:this.$scope.$url()+"/"+this.id+"/replies",params:{sort:e.sort,limit:e.limit,offset:e.offset,userId:e.userId,groupId:e.groupId,messageLifecycle:e.messageLifecycle}},(function(e){this.$unwrap(e.data),i.replies=this,i.ui.count=e.data.paging.count,this.forEach((e=>{e.type=c(i.type),e.parent=i,e.discussion=i.discussion,e.states.readStateInd=e.messageStatus.isRead}))}))},saveReply(t,n={}){const i=this.$scope.$url()+"/"+this.id+"/replies?"+e.param(n);return this.$scope.$build().$send({method:"POST",url:i,data:t.$wrap()},(function(e){this.$unwrap(e.data),this.replies=this.$scope.$collection()}))},getRepliesCount(t={}){const n=this.$scope.$url()+"/"+this.id+"/replies/count?"+e.param(t),i=this;return this.$scope.$build().$send({method:"GET",url:n},(function(e){i.ui.count=e.data.count}),(function(){i.ui.count=0}))},updateMessageStatus(t,n={}){const i=this.$scope.$url()+"/"+this.id+"/states?"+e.param(n);return this.$scope.$build().$send({method:"PATCH",url:i,data:t.$wrap()},(function(e){return this.states=this.$unwrap(e.data),this.states}),(function(e){400===e.status||e.$response&&e.$response.status}))},copy(e){Object.getOwnPropertyNames(e).filter((e=>"$"!==e[0])).forEach((t=>{this[t]=e[t]}))}},Collection:{batchGetReplies(e){let t="?";e&&Object.keys(e).forEach((n=>{t+=n,t+="="+e[n]+"&"}));const i=n.defer(),s=[],a=t=>{const i=n.defer();return o.performBatch((()=>{n.all(t.map((t=>t.getReplies(e,!0).$asPromise()))).then(i.resolve)})),i.promise.then((e=>(e.forEach(((e,n)=>{const i=t[n];e.forEach((e=>{e.type=c(i.type),e.parent=i,e.discussion=i.discussion,e.states.readStateInd=e.messageStatus.isRead,s.push(e)}))})),s)))};return a(this).then(a).then(i.resolve),i.promise}}}})])}.call(this,n("71td"))},PZ5L:function(e,t){e.exports='<bb-modal id="notification-modal-api-error"\n          class="notification"\n          modal-title-key="components.services.error-modal.error-course-not-found.title"\n          analytics-id-tag-prefix="components.services.error-modal">\n  <div name="modal-contents">\n    <p bb-translate>components.services.error-modal.error-course-not-found.description</p>\n    <pre>{{ response | json }}</pre>\n  </div>\n  \x3c!-- htmlhint:analytics-id:disable --\x3e\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button js-primary-button"\n          bb-translate\n          analytics-id="components.services.error-modal.dismiss.button"\n  >\n    components.services.error-modal.dismiss\n  </button>\n  \x3c!-- htmlhint:analytics-id:enable --\x3e\n</bb-modal>'},PdQf:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),n.d(t,"n",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return f})),n.d(t,"f",(function(){return v})),function(e){e.AllCourseMembers="allCourseMembers",e.AllCourseInstructors="allCourseInstructors",e.AllCourseStudents="allCourseStudents"}(i||(i={}));const s={[i.AllCourseMembers]:"all",[i.AllCourseInstructors]:"rolebucket:TEACHING",[i.AllCourseStudents]:"rolebucket:TAKING"},a={all:i.AllCourseMembers,"rolebucket:TEACHING":i.AllCourseInstructors,"rolebucket:TAKING":i.AllCourseStudents},o=Array.from(Object.keys(s));function r(){return s[i.AllCourseMembers]}function l(){return s[i.AllCourseInstructors]}function c(){return s[i.AllCourseStudents]}function d(e,t,n){let i="",a="";return e&&t&&n&&(a=s[n.split(".").pop()],i=t.translateSync({locale:t.getLocale(e),key:n,noWrap:!0,noEscape:!0})),{id:a,givenName:i,familyName:"",userName:void 0}}function u(e,t,n){const i=[];return null==e||e.forEach((e=>{o.indexOf(e.split(".").pop())>=0&&i.push(d(t,n,e))})),i}function m(){return{id:r(),givenName:"",familyName:"",userName:void 0}}function p(e){return(null==e?void 0:e.id)===r()}function h(e){return(null==e?void 0:e.id)===l()}function g(e){return(null==e?void 0:e.id)===c()}function b(e){return p(e)||h(e)||g(e)}function f(e){return Object.values(i).includes(e)}function v(e){return a[e]}},PeCP:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-ally-indicator-unscored",use:"icon-small-ally-indicator-unscored-usage",viewBox:"0 0 16 17",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17" id="icon-small-ally-indicator-unscored"><path d="M7 11.6667c0 .4602.4477.8333 1 .8333s1-.3731 1-.8333L8 7.5l-1 4.1667z" stroke-width="2" stroke-linejoin="round" /><path d="M2 11.5H1v-1c0-3.866 3.134-7 7-7s7 3.134 7 7v1h-1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M8 3.5v1M13.25 6l-1 1M3.75 7l-1-1" stroke-width="2" stroke-linecap="round" /></symbol>'});s.add(a);e.exports=a},Pq3J:function(e,t){e.exports='<bb-guidance-feature-announcement\n  component-key="\'gradebook.advancedFilters\'"\n  button-aria-label="$ctrl.buttonAriaLabel"\n  announcement-title="$ctrl.announcementTitle"\n  content="$ctrl.content"\n  done-button-text="$ctrl.doneButtonText"\n  link-href="$ctrl.linkHref"\n  link-text="$ctrl.linkText"\n  close-label="$ctrl.closeLabel"\n></bb-guidance-feature-announcement>\n'},PqsU:function(e,t){e.exports='<bb-modal id="notification-modal-api-error"\n          class="notification"\n          modal-title-key="components.services.error-modal.error-conflict.title"\n          analytics-id-tag-prefix="components.services.error-modal">\n  <div name="modal-contents">\n    <p bb-translate>components.services.error-modal.error-conflict.description</p>\n    <bb-session-debug-modal-button></bb-session-debug-modal-button>\n  </div>\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button js-primary-button"\n          analytics-id="components.services.error-modal.dismiss"\n          bb-translate>components.services.error-modal.dismiss</button>\n</bb-modal>\n'},Q74M:function(e,t,n){"use strict";var i;!function(e){e.ViewAdmin="system.admin.VIEW",e.ViewAdminTop="system.administration.top.VIEW",e.ViewAdminSupportPanel="system.admin.support.panel.VIEW",e.ModifyCustomCss="system.ultra.customCSS.MODIFY",e.ViewBrands="system.portaloptions.brand.VIEW",e.CreateBrand="system.portaloptions.brand.CREATE",e.ModifyBrand="system.portaloptions.brand.MODIFY",e.DeleteBrand="system.portaloptions.brand.DELETE"}(i||(i={})),t.a=i},QaOk:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var i=n("Llzl"),s=n("+4Px");const a="ultra.directives.accessibility.arrowKeyNavigation",o="bb-arrow-key-container",r="bb-arrow-key-destination",l="["+o+"]",c="["+r+"]";class d{constructor(t){this.$parse=t,this.restrict="A",this.link=(t,n,i)=>{const a=this.$parse(i.bbArrowKeyNavigation)(null);if("rows"!==a.layout&&"columns"!==a.layout&&"both"!==a.layout)throw new Error("bb-arrow-key-navigation directive is missing or has an invalid layout specified");if(a.tabDirection&&"vertical"!==a.tabDirection&&"horizontal"!==a.tabDirection)throw new Error("bb-arrow-key-navigation directive has an invalid tabDirection specified");n.on("keydown",(t=>{const i=e(t.target);let o=t.keyCode;a.tabDirection&&o===s.u&&("vertical"===a.tabDirection?o=t.shiftKey?s.v:s.d:"horizontal"===a.tabDirection&&(o=t.shiftKey?s.j:s.s)),"rows"===a.layout&&(o=this.rotateKeyCode(o)),a.upEqualsLeft&&(o=this.upEqualsLeftKeyCode(o));this.navigate(i,n,o,a.wrap,a.explicit)&&(this.body.removeClass("hide-focus-outline"),t.preventDefault(),t.stopPropagation())})),t.$on("$destroy",(()=>{n.off()}))},this.body=e("body")}navigate(e,t,n,i,a){let d;switch(n){case s.v:if(a){const n=parseInt(e.closest(l).attr("bb-arrow-key-container"),10),s=t.find(this.containerWithValue(n)).find(c).filter(":visible"),a=s.index(e.closest(c));"0"===e.attr("tabindex")||0===a&&!i||(d=s.eq(a-1))}else d=e.closest(c).prev(c),!d.length&&i&&(d=e.closest(l).find(c).last());break;case s.d:if(a){const n=e.closest(l).attr("bb-arrow-key-container"),s=t.find(this.containerWithValue(n)).find(c).filter(":visible"),a=s.index(e.closest(c));d=s.eq(a+1),!d.length&&i&&(d=s.first())}else d=e.closest(c).next(c),!d.length&&i&&(d=e.closest(l).find(c).first());break;case s.j:if(a){const n=parseInt(e.closest(l).attr(o),10),i=e.closest(c).attr(r);d=t.find(this.containerWithValue(n-1)).find(this.destinationWithValue(i)).first()}else{const t=e.closest(c).prevAll(c).length,n=this.getPreviousContainer(e).find(c);n.length?d=n.eq(t).add(n.last()).first():i&&t>0&&(d=e.closest(l).nextAll(l).last().find(c).eq(t))}break;case s.s:if(a){const n=parseInt(e.closest(l).attr(o),10),i=e.closest(c).attr(r);d=t.find(this.containerWithValue(n+1)).find(this.destinationWithValue(i)).first()}else{const t=e.closest(c).prevAll(c).length,n=this.getNextContainer(e).find(c);n.length?d=n.eq(t).add(n.last()).first():i&&(d=e.closest(l).prevAll(l).last().find(c).eq(t))}}return!(!d||!d.length)&&(d.focus(),!0)}containerWithValue(e){return"["+o+'="'+e+'"]'}destinationWithValue(e){return"["+r+'="'+e+'"]'}getPreviousContainer(e){return e.closest(l).prevAll(l).first()}getNextContainer(e){return e.closest(l).nextAll(l).first()}rotateKeyCode(e){switch(e){case s.v:return s.j;case s.d:return s.s;case s.j:return s.v;case s.s:return s.d}}upEqualsLeftKeyCode(e){switch(e){case s.j:return s.v;case s.s:return s.d;default:return e}}}d.$inject=["$parse"],i.module(a,[]).directive("bbArrowKeyNavigation",["$injector",e=>e.instantiate(d)])}).call(this,n("71td"))},Qbdf:function(e,t,n){"use strict";var i=n("D57K"),s=n("pjml"),a=n("yC9S"),o=n("ZzR9"),r=n("nsO7"),l=n("zGdY");class c{constructor(){this._cache={},this.hookUserModel=r.once((e=>{const t=this;return this.offHookUserModelFunc||(this.offHookUserModelFunc=e.$mixHook("after-feed",(function(){t.cache(this.id,this)}))),this.offHookUserModelFunc}))}destroy(){this._cache={},this.offHookUserModel()}miss(e){return e.filter((e=>!(e in this._cache)))}hit(e){const t=[].concat(e),n=this.miss(t);return r.isEmpty(n)}get(e,t){const n=this._cache[e];return!n&&t?t:n}invalidate(e){delete this._cache[e]}cache(e,t){e&&t&&!t.isPlaceHolder&&(this._cache[e]=t)}fetchUsers(e,t,n){const i=n.defer(),s=this.miss([].concat(e));return r.isEmpty(s)?i.resolve(this):(this.offHookUserModelFunc||this.hookUserModel(t),t.findMany(s,{},[l.S.NotFound]).$then((e=>{i.resolve(this)}))),i.promise}offHookUserModel(){this.offHookUserModelFunc&&(this.offHookUserModelFunc(),this.offHookUserModelFunc=void 0)}}class d extends c{constructor(e){super(),this.courseId=e}}var u=n("aHpC"),m=n("qhd3"),p=n("vYaK"),h=n("0JpG"),g=n("x+T+"),b=n("lVRt"),f=n("PZ5L");n.d(t,"b",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return x})),n.d(t,"d",(function(){return S}));const v="ultra.service.course-context.course",y="currentCourseModel",k=y+"Provider",x=v+"."+y+".changed",S=b.c;let C=class{constructor(e,t,n,i,s,r){this.$q=e,this.$rootScope=t,this.bbLocalize=n,this.entitlementCache=i,this.CourseModel=s,this.UserModel=r;const l=this;a.b.OnRootScope(t,o.b.$stateHasCourseInContextChanged,((e,t,n)=>{n&&!t&&l.clear()}))}get courseId(){return this._courseId}get course(){return this._courseModel}get usersCache(){return this._usersCache}load(e){return e?e&&this.courseId===e&&this.course?this.course.$asPromise():this.loadCourse(e).then((t=>this.$q.all([this.loadLocalizationBundle(t),this.entitlementCache.loadCourseEntitlements(e)]).then((()=>(this.update(e,t),this._courseModel)))),(e=>this.$q.reject(Object.assign(e||{},{goToBasePage:!0})))):this.$q.when(null)}loadCourse(e){return this.CourseModel.$find(e,{expand:"instructorsMembership, instructorsMembership.courseRole, effectiveAvailability, isChild"}).$allow([404]).$asPromise().then((t=>{const n=t.$response;if(n&&404===n.status){const t=new Error("Course "+e+" not found");return Object.assign(t,{goToBasePage:!0,errorModalConfig:{response:n,template:f}}),this.$q.reject(t)}return t}))}loadLocalizationBundle(e){let t;return t=e.isClassic()||!e.locale?this.bbLocalize.getLocale(this.$rootScope):e.locale,this.$q.all([this.bbLocalize.loadLocale(t),this.bbLocalize.loadBundle("features/course/course",t)])}clear(){this.update(null,null)}update(e,t){const n=this.courseId,i=this.course;this._courseId=e,this._courseModel=t,this._usersCache&&this._usersCache.courseId!==e&&(this._usersCache.destroy(),this._usersCache=null),e&&(this._usersCache=new d(e),this._usersCache.hookUserModel(this.UserModel)),this.$rootScope.$broadcast(x,{id:e,model:t},{id:n,model:i})}refreshStudentPreviewStatus(){return this._courseModel.studentPreview.$fetch()}};C=Object(i.a)([Object(i.c)(0,Object(u.b)("$q")),Object(i.c)(1,Object(u.b)("$rootScope")),Object(i.c)(2,Object(u.b)(h.serviceName)),Object(i.c)(3,Object(u.b)(g.c)),Object(i.c)(4,Object(u.b)(p.serviceName)),Object(i.c)(5,Object(u.b)(m.serviceName))],C);const E=[s.N,h.moduleName,g.b];angular.module(v,E).provider(y,class{constructor(){this.$get=["$injector",e=>e.instantiate(C)],this.name=S,this.resolve=["$state",y,(e,t)=>{const n=e.nextParams.courseId;return t.load(n)}]}})},RDfZ:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));n("yDoS");var i=n("Llzl"),s=n("Qbdf"),a=n("0JpG"),o=n("pjml"),r=n("lEL+"),l=n("TnpK"),c=n("oNH7"),d=n("H+SH"),u=n("CPVT"),m=n("eQBN");const p="ultra.directives.conversionStatusBar";class h{constructor(t,n,i,s,a,o,r,l,c){this.$scope=t,this.$rootScope=n,this.$q=i,this.$modal=s,this.CourseModel=a,this.ultraState=o,this.contextCourse=r,this.bbLocalize=l,this.timeout=c,this.displayGuidanceBackToClassic=!1,this.identifyCourse().then((e=>{this.course=e,this.courseId=this.course.id,this.showStatusBar=!1,this.course.canConvert()&&(this.showStatusBar=this.course.isUltraPreview())})),t.$on("confirmNewExperience",(()=>{this.useTheNewExperience()})),t.$on(m.a,((e,t)=>{this.inPreview=t,this.updateStatusClass(),this.showStatusBar=this.course.isUltraPreview()})),t.$on("$stateChangeSuccess",(()=>{this.updateStatusClass()})),t.$on("$destroy",(()=>{e("body").removeClass("has-conversion-status-bar")}))}get showStatusBar(){return this._showStatusBar}set showStatusBar(e){const t=this._showStatusBar;this._showStatusBar=e,t!==e&&this.updateStatusClass()}updateStatusClass(){!this.showStatusBar||this.hideStatusBar()||this.inPreview?e("body").removeClass("has-conversion-status-bar"):e("body").addClass("has-conversion-status-bar")}identifyCourse(){return this.courseId=this.$scope.courseId?this.$scope.courseId:this.contextCourse.courseId,this.$scope.$parent.course?this.$scope.$parent.course.model.$asPromise():this.CourseModel.$find(this.courseId).$asPromise()}useTheNewExperience(){this.course.setUltraStatusDecided().then((()=>{this.showStatusBar=!1,this.$rootScope.$broadcast("reloadCourse",this.courseId)}))}backToClassic(){this.course.undoCourseConversion().then((e=>{const t=e.$response;if(200===t.status)this.ultraState.transitionTo(this.course.getBaseRoute()),this.$rootScope.$broadcast("convertToClassicCourse",this.course.id);else if(400===t.status||404===t.status){this.$modal.open({template:d,scope:this.$scope,resolve:{translations:[a.serviceName,e=>e.loadBundle("features/course/outline/course-outline")]}}).result.then((()=>{this.ultraState.transitionTo(this.course.getBaseRoute())}))}}))}hideStatusBar(){return(this.ultraState.current.name.match(/\.peek\./g)||[]).length>1}}h.$inject=["scope","$rootScope","$q","$modal",o.m.serviceName,l.d,s.e,a.serviceName,r.b];class g{constructor(e){this.$injector=e,this.restrict="E",this.template=c,this.scope={courseId:"@?"},this.link=e=>{e.conversionStatusBarController=this.$injector.instantiate(h,{scope:e})}}}g.$inject=["$injector"],i.module(p,[s.b,a.moduleName,o.N,l.b,r.a,u.a]).directive("bbConversionStatusBar",["$injector",e=>e.instantiate(g)])}).call(this,n("71td"))},"RJ/U":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("Llzl"),s=n("0JpG"),a=n("TnpK"),o=n("Qbdf"),r=n("nmzr");const l="ultra.course.question-banks.routes";i.module(l,[s.moduleName,a.b,o.b]).config([a.c,o.c,(e,t)=>{e.peekState(r.G.QUESTION_BANKS,{url:"/banks",resolve:{[o.d]:t.resolve,translations:[s.serviceName,e=>e.loadBundle("features/course/question-banks/question-banks")]},peekStates:[r.G.IMPORT_DETAILS,r.G.EDIT_QUESTION_BANK],peekViewName:"question-banks-peek",panelClass:"full",require:()=>n.e(567).then(n.bind(null,"lXpl")),pageTitle:"course.question-banks.pageTitle"}).peekState(r.G.IMPORT_DETAILS,{url:"/importDetails/{taskId:_[0-9]+_1}",require:()=>n.e(612).then(n.bind(null,"zGGy")),pageTitle:"course.question-banks.import-details.pageTitle"}).peekState(r.G.EDIT_QUESTION_BANK,{url:"/editBank/{assessmentId}?isNew",peekViewName:"question-bank-edit-peek",panelClass:"full",require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(637)]).then(n.bind(null,"Ryyg")),pageTitle:"course.question-banks.edit-question-bank.pageTitle"})}])},RJjh:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-invisible",use:"icon-small-invisible-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-invisible"><path d="M8 3C4.6406 3 1 8 1 8s3.6406 5 7 5 7-5 7-5-3.6406-5-7-5zM1 13L15 3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="8" cy="8" r="1" stroke-width="2" /></symbol>'});s.add(a);e.exports=a},RK4w:function(e,t){e.exports='<bb-modal id="close-without-saving-modal" class="notification"\n          modal-title-key="components.directives.fileUpload.closeDuringUploadTitle"\n          analytics-id-tag-prefix="components.directives.fileUpload">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>components.directives.fileUpload.closeDuringUploadInstructions</bb-translate>\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" class="button js-primary-button" ng-click="fileUpload.closeModal()" analytics-id="components.directives.fileUpload.closeDuringUploadClose">\n    <bb-translate>components.directives.fileUpload.closeDuringUploadClose</bb-translate>\n  </button>\n  <button name="modal-footer-button-secondary" class="button button--secondary js-secondary-button" ng-click="fileUpload.modalCancelUpload()" analytics-id="components.directives.fileUpload.closeDuringUploadGoBack">\n    <bb-translate>components.directives.fileUpload.closeDuringUploadGoBack</bb-translate>\n  </button>\n</bb-modal>\n'},RNuw:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("nsO7"),s=n("Llzl");function a(e,t,n,a){const o={};return e.$watchCollection((()=>t),((t,r)=>{const l=Object.keys(t).filter((e=>!Object.prototype.hasOwnProperty.call(o,e)&&t[e]&&Object.prototype.hasOwnProperty.call(t[e],"$viewValue")&&(!a||!(a.indexOf(e)>-1))));s.forEach(l,(s=>{o[s]=e.$watch((()=>t[s].$viewValue),((e,a)=>{!t[s].$dirty&&(null==a||Number.isNaN(Number(a)))||i.isEqual(e,a)||n(e,a)}))}));const c=Object.keys(r).filter((e=>!Object.prototype.hasOwnProperty.call(t,e)&&r[e]&&Object.prototype.hasOwnProperty.call(r[e],"$viewValue")));s.forEach(c,(e=>{o[e](),delete o[e]}))})),()=>{s.forEach(o,(e=>{e()}))}}},ROik:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var i=n("Llzl"),s=n("LN5R"),a=n("nsO7"),o=n("yC9S"),r=n("lEL+"),l=n("dF44"),c=n("+4Px"),d=n("DAbe"),u=n("KvMR"),m=n("GiMb");const p="ultra.components.directives.gradeGridMenuReborn";class h{constructor(t,n,i,s,o){this.scope=t,this.element=n,this.attrs=i,this.gradeGridRebornController=s,this.timeout=o,n.data("destroy",(()=>{if(a.isUndefined(t.onBeforeDestroy)||t.onBeforeDestroy(n),n.remove(),o.cancel(this.timeoutRef),this.scrollHDeregistration&&this.scrollHDeregistration(),this.scrollVDeregistration&&this.scrollVDeregistration(),!1===t.autoDestroy){const n=e(window);n.off(`click.${t.id}`),n.off(`blur.${t.id}`)}else t.$destroy()})),t.keepOthers||e("[bb-grade-grid-menu-reborn]").each(((t,i)=>{i!==n[0]&&e(i).data("destroy")()})),n.mousedown((t=>{e(t.target).closest("button:disabled").length&&t.preventDefault()})),a.isUndefined(t.waiting)?this.listenOnWindow():o((()=>{this.listenOnWindow()}),t,t.waiting,!1),this.timeoutRef=o((()=>{this.scrollHDeregistration=t.$on(l.b.SCROLL_H,(()=>{o((()=>n.data("destroy")()),t,0,!1)})),this.scrollVDeregistration=t.$on(l.b.SCROLL_V,(()=>{o((()=>n.data("destroy")()),t,0,!1)}))}),t,200,!1),o((()=>{a.isUndefined(t.adjustPosition)||t.adjustPosition(n)}),t,0,!1)}listenOnWindow(){const t=(t,n)=>{n||e(t.target).closest("button:disabled").length||this.element.data("destroy")()},n=e=>{this.element.data("destroy")()};if(!1===this.scope.autoDestroy){const n=e(window);n.on(`click.${this.scope.id}`,t),n.on(`blur.${this.scope.id}`,t)}else o.b.OnWindow("click",t,this.scope),o.b.OnWindow("blur",n,this.scope)}}h.$inject=["scope","element","attrs","gradeGridRebornController",r.b];class g{constructor(t,n){this.$injector=t,this.timeout=n,this.restrict="A",this.template=d,this.require=`^${s.a}`,this.transclude=!0,this.link=(t,n,i,s)=>{t.gradeGridMenuReborn=this.$injector.instantiate(h,{scope:t,element:n,attrs:i,gradeGridRebornController:s}),this.timeout((()=>{n.on("keydown",(t=>{const i=n.find("li>:tabbable"),s=e(t.target);if(t.keyCode===c.v)i.eq((i.index(s)-1+i.length)%i.length).focus();else if(t.keyCode===c.d)i.eq((i.index(s)+1)%i.length).focus();else{if(!c.y(t))return;s.click()}t.preventDefault(),t.stopPropagation()}))}),t,0,!1)}}}g.$inject=["$injector",r.b],i.module(p,[u.a,m.a]).directive("bbGradeGridMenuReborn",["$injector",e=>e.instantiate(g)])}).call(this,n("71td"))},RPq7:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var i=n("Llzl"),s=n("lEL+");const a="ultra.directives.contentItemMouseover";var o;!function(e){e.Top="TOP",e.Bottom="BOTTOM",e.Default="DEFAULT"}(o||(o={}));class r{constructor(e,t,n){this.scope=e,this.element=t,this.timeout=n,this.lastPosition=o.Default,this.lastTime=0,t.mouseover((()=>{this.recalculatePosition()})),t.mousemove((e=>{Date.now()-this.lastTime>1e3?(this.timeout.cancel(this.lastMousemoveTimeout),this.handleMousemove(e)):(this.timeout.cancel(this.lastMousemoveTimeout),this.lastMousemoveTimeout=this.timeout((()=>{this.handleMousemove(e)}),this.scope,100,!1))})),t.mouseleave((()=>{this.timeout.cancel(this.lastMousemoveTimeout),this.lastPosition=o.Default})),e.$on("content-outline-hover-end",(()=>{this.timeout.cancel(this.lastMousemoveTimeout),this.lastPosition=o.Default}))}handleMousemove(e){null!=this.elementOffset&&null!=this.elementHeight||this.recalculatePosition(),this.lastTime=Date.now(),e.pageY-this.elementOffset>this.elementHeight/2?(this.lastPosition!==o.Bottom&&this.broadcastPosition(o.Bottom),this.lastPosition=o.Bottom):(this.lastPosition!==o.Top&&this.broadcastPosition(o.Top),this.lastPosition=o.Top)}broadcastPosition(e){this.scope.$emit("content-item-mouseover",{element:this.element,relativeMousePosition:e})}recalculatePosition(){this.elementHeight=this.element.outerHeight(),this.elementOffset=this.element.offset().top}}r.$inject=["scope","element",s.b];class l{constructor(e){this.$injector=e,this.restrict="A",this.scope={canCreate:"&"},this.link=(e,t)=>{e.canCreate&&e.canCreate()&&(e.contentItemMouseover=this.$injector.instantiate(r,{scope:e,element:t}))}}}l.$inject=["$injector"],i.module(a,[s.a]).directive("bbContentItemMouseover",["$injector",e=>e.instantiate(l)])},ReOc:function(e,t,n){"use strict";var i=n("nsO7"),s=n("NI+y"),a=n("Q/M7"),o=n("5MwF");t.a=new class{getHistory(){return s.b.getHistory()}getSiteId(){return this.context?this.context.getSystemInfo().siteId:null}getUserAgent(){return navigator.userAgent}getUser(){return this.userService?this.userService.userModel:null}init(e,t,n,i){this.context=e,this.userService=t,s.b.setStorage(n,i)}async getDebugInfoRaw(){const e=this.getUser(),t=await this.getHistory();return{userAgent:this.getUserAgent(),siteId:this.getSiteId(),siteDomain:a.j(),buildNumber:o.a.buildInfo.buildNumber,ultraVersion:o.a.buildInfo.ultraVersion,learnVersion:o.a.buildInfo.learnVersion,userId:e?e.id:null,userName:e?e.userName:null,analyticsHistory:t,generatedTime:(new Date).toUTCString()}}async getDebugInfoFriendly(){const e=await this.getDebugInfoRaw(),t=[],n={innerHeight:null,innerWidth:null,outerHeight:null,outerWidth:null};let s=!1;return t.push("===== Basic Session Info ===="),t.push(`Debug Exported at: ${e.generatedTime}`),t.push(`User Agent: ${e.userAgent}`),t.push(`Site Domain: ${e.siteDomain}`),t.push(`Build Number: ${e.buildNumber}`),t.push(`Ultra Version: ${e.ultraVersion}`),t.push(`Learn Version: ${e.learnVersion}`),e.siteId?t.push(`Learn Site ID: ${e.siteId}`):t.push("Learn Site ID: site id unavailable, no context provided"),e.userId?t.push(`User: ${e.userName} (${e.userId})`):t.push("User: user id unavailable, no context provided"),t.push("===== Recent Analytics History (oldest first) ====="),e.analyticsHistory.forEach((e=>{e.screenDimension&&!i.isEqual(n,e.screenDimension)&&(t.push(`${e.timestamp}: Screen Size ${s?"changed to ":"is "} ${e.screenDimension.innerHeight} x ${e.screenDimension.innerWidth}`),Object.assign(n,e.screenDimension),s=!0),"click"===e.action?t.push(`${e.timestamp}: clicked on ${e.analyticsId}`):"pageview"===e.action?t.push(`${e.timestamp}: navigated to ${e.analyticsId}`):"request error"===e.action&&t.push(`${e.timestamp}: Request error: ${e.analyticsId}`)})),t}}},RjAI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("0JpG"),a=n("AuQm"),o=n("1ZbL");const r="ultra.components.directives.components.confirmationCalloutDialog",l={Class:a.h,bindingNames:["analyticsId","target","isVisible","textContent","onDismiss","onSuccess"],renderLocalized:!0};i.module(r,[s.moduleName]).component("bbConfirmationCalloutDialog",Object(o.a)(l))},"Rjd/":function(e,t,n){"use strict";n("QLzv"),n("qY1S");var i=n("Llzl"),s=n("nkTj"),a=n("z6Q5");const o=i.module("ultra.models",["restmod","angular-data.DSCacheFactory",s.d,a.a]);t.a=o},S1JE:function(e){e.exports=JSON.parse('{"v":"5.7.1","fr":29.9700012207031,"ip":0,"op":349.000014215061,"w":780,"h":460,"nm":"Product overview","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"lines 12","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-145.505,604.322,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[-183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-10.135,-0.428],[-6.75,1.75]],"o":[[8.875,0.375],[6.75,-1.75]],"v":[[-141.688,-156.188],[-129.125,-166.438]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":217.188,"s":[0]},{"t":236.000009612477,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":212.889,"s":[0]},{"t":231.178759416104,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":214.000008716399,"op":2051.00008353894,"st":214.000008716399,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"lines 11","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-145.505,604.322,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[-183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[9.875,-1.5]],"o":[[0,0],[-9.875,1.5]],"v":[[-152.625,-161.688],[-169.875,-171.438]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":215.743,"s":[0]},{"t":234.555009553621,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":211.445,"s":[0]},{"t":229.733759357247,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":212.000008634937,"op":2049.00008345748,"st":212.000008634937,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"lines 10","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-145.505,604.322,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[-183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[4.25,-1.625],[1.625,-7]],"o":[[-4.25,1.625],[-1.625,7]],"v":[[-152.125,-152.125],[-170,-142]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":214.299,"s":[0]},{"t":233.111259494816,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":210,"s":[0]},{"t":228.290009298442,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":210.000008553475,"op":2047.00008337602,"st":210.000008553475,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"check 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[129.769,317.322,0],"ix":2},"a":{"a":0,"k":[53.182,90.182,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":210,"s":[0,0,100]},{"t":229.000009327361,"s":[183.6,183.6,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-5.125,0],[-1.397,3.728],[5.125,-3.728]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.490000017952,0.172999991623,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[53.647,90.545],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-5.661,0],[0,-5.661],[5.661,0],[0,5.661]],"o":[[5.661,0],[0,5.661],[-5.661,0],[0,-5.661]],"v":[[0,-10.25],[10.25,0],[0,10.25],[-10.25,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.490000017952,0.172999991623,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[53.182,90.546],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":210.000008553475,"op":2047.00008337602,"st":210.000008553475,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"circle 7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,494.162,0],"ix":2},"a":{"a":0,"k":[202,246.5,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-5.661,0],[0,-5.661],[5.661,0],[0,5.661]],"o":[[5.661,0],[0,5.661],[-5.661,0],[0,-5.661]],"v":[[0,-10.25],[10.25,0],[0,10.25],[-10.25,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.463000009574,0.463000009574,0.463000009574,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[53.182,150.182],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":210.000008553475,"st":180.00000733155,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"lines 9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,549.242,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-10.135,-0.428],[-6.75,1.75]],"o":[[8.875,0.375],[6.75,-1.75]],"v":[[-141.688,-156.188],[-129.125,-166.438]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":156.188,"s":[0]},{"t":175.000007127896,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":151.889,"s":[0]},{"t":170.178756931523,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":153.000006231818,"op":1990.00008105436,"st":153.000006231818,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"lines 8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,549.242,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[9.875,-1.5]],"o":[[0,0],[-9.875,1.5]],"v":[[-152.625,-161.688],[-169.875,-171.438]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":154.743,"s":[0]},{"t":173.55500706904,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":150.445,"s":[0]},{"t":168.733756872667,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":151.000006150356,"op":1988.0000809729,"st":151.000006150356,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"lines 7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,549.242,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[4.25,-1.625],[1.625,-7]],"o":[[-4.25,1.625],[-1.625,7]],"v":[[-152.125,-152.125],[-170,-142]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":153.299,"s":[0]},{"t":172.111257010235,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":149,"s":[0]},{"t":167.290006813861,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":149.000006068894,"op":1986.00008089144,"st":149.000006068894,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"check 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[129.769,262.242,0],"ix":2},"a":{"a":0,"k":[53.182,90.182,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":149,"s":[0,0,100]},{"t":168.00000684278,"s":[183.6,183.6,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-5.125,0],[-1.397,3.728],[5.125,-3.728]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.490000017952,0.172999991623,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[53.647,90.545],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-5.661,0],[0,-5.661],[5.661,0],[0,5.661]],"o":[[5.661,0],[0,5.661],[-5.661,0],[0,-5.661]],"v":[[0,-10.25],[10.25,0],[0,10.25],[-10.25,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.490000017952,0.172999991623,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[53.182,90.546],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":149.000006068894,"op":1986.00008089144,"st":149.000006068894,"bm":0},{"ddd":0,"ind":10,"ty":4,"nm":"circle 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,439.082,0],"ix":2},"a":{"a":0,"k":[202,246.5,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-5.661,0],[0,-5.661],[5.661,0],[0,5.661]],"o":[[5.661,0],[0,5.661],[-5.661,0],[0,-5.661]],"v":[[0,-10.25],[10.25,0],[0,10.25],[-10.25,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.463000009574,0.463000009574,0.463000009574,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[53.182,150.182],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-63.0000025660426,"op":149.000006068894,"st":119.000004846969,"bm":0},{"ddd":0,"ind":11,"ty":4,"nm":"lines 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,494.621,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-10.135,-0.428],[-4.25,-2.938]],"o":[[6.438,0.438],[8,3.563]],"v":[[-141.688,-156.188],[-130,-146.563]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":104.188,"s":[0]},{"t":123.000005009893,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":99.889,"s":[0]},{"t":118.178754813519,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":101.000004113814,"op":1938.00007893636,"st":101.000004113814,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"lines 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,494.621,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[8.125,1.813]],"o":[[0,0],[-9.875,1.5]],"v":[[-152.625,-161.688],[-162.75,-171.563]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":102.743,"s":[0]},{"t":121.555004951037,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":98.445,"s":[0]},{"t":116.733754754663,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":99.0000040323527,"op":1936.0000788549,"st":99.0000040323527,"bm":0},{"ddd":0,"ind":13,"ty":4,"nm":"lines 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,494.621,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[4.25,-1.625],[3,-4.625]],"o":[[-4.25,1.625],[-1.625,7]],"v":[[-152.125,-152.125],[-163.875,-141.625]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":101.299,"s":[0]},{"t":120.111254892231,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":97,"s":[0]},{"t":115.290004695858,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":97.000003950891,"op":1934.00007877343,"st":97.000003950891,"bm":0},{"ddd":0,"ind":14,"ty":4,"nm":"check 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[129.769,207.621,0],"ix":2},"a":{"a":0,"k":[53.182,90.182,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":97,"s":[0,0,100]},{"t":116.000004724777,"s":[183.6,183.6,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-5.125,0],[-1.397,3.728],[5.125,-3.728]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.490000017952,0.172999991623,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[53.647,90.545],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-5.661,0],[0,-5.661],[5.661,0],[0,5.661]],"o":[[5.661,0],[0,5.661],[-5.661,0],[0,-5.661]],"v":[[0,-10.25],[10.25,0],[0,10.25],[-10.25,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.490000017952,0.172999991623,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[53.182,90.546],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":97.000003950891,"op":1934.00007877343,"st":97.000003950891,"bm":0},{"ddd":0,"ind":15,"ty":4,"nm":"circle 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,384.461,0],"ix":2},"a":{"a":0,"k":[202,246.5,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-5.661,0],[0,-5.661],[5.661,0],[0,5.661]],"o":[[5.661,0],[0,5.661],[-5.661,0],[0,-5.661]],"v":[[0,-10.25],[10.25,0],[0,10.25],[-10.25,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.463000009574,0.463000009574,0.463000009574,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[53.182,150.182],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-34.0000013848484,"op":97.000003950891,"st":67.0000027289659,"bm":0},{"ddd":0,"ind":16,"ty":4,"nm":"lines 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,440,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-10.135,-0.428],[-6.75,1.75]],"o":[[8.875,0.375],[6.75,-1.75]],"v":[[-141.688,-156.188],[-129.125,-166.438]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":37.188,"s":[0]},{"t":56.0000022809268,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":32.889,"s":[0]},{"t":51.1787520845532,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":34.0000013848484,"op":1871.00007620739,"st":34.0000013848484,"bm":0},{"ddd":0,"ind":17,"ty":4,"nm":"lines 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,440,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[9.875,-1.5]],"o":[[0,0],[-9.875,1.5]],"v":[[-152.625,-161.688],[-169.875,-171.438]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":35.743,"s":[0]},{"t":54.5550022220707,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":31.445,"s":[0]},{"t":49.7337520256972,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":32.0000013033867,"op":1869.00007612593,"st":32.0000013033867,"bm":0},{"ddd":0,"ind":18,"ty":4,"nm":"lines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,440,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[4.25,-1.625],[1.625,-7]],"o":[[-4.25,1.625],[-1.625,7]],"v":[[-152.125,-152.125],[-170,-142]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":34.299,"s":[0]},{"t":53.1112521632656,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":30,"s":[0]},{"t":48.290001966892,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":30.0000012219251,"op":1867.00007604447,"st":30.0000012219251,"bm":0},{"ddd":0,"ind":19,"ty":4,"nm":"check 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[129.769,153,0],"ix":2},"a":{"a":0,"k":[53.182,90.182,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":30,"s":[0,0,100]},{"t":49.0000019958109,"s":[183.6,183.6,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-5.125,0],[-1.397,3.728],[5.125,-3.728]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.490000017952,0.172999991623,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[53.647,90.545],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-5.661,0],[0,-5.661],[5.661,0],[0,5.661]],"o":[[5.661,0],[0,5.661],[-5.661,0],[0,-5.661]],"v":[[0,-10.25],[10.25,0],[0,10.25],[-10.25,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0.490000017952,0.172999991623,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[53.182,90.546],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":30.0000012219251,"op":1867.00007604447,"st":30.0000012219251,"bm":0},{"ddd":0,"ind":20,"ty":4,"nm":"circle 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,329.84,0],"ix":2},"a":{"a":0,"k":[202,246.5,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-5.661,0],[0,-5.661],[5.661,0],[0,5.661]],"o":[[5.661,0],[0,5.661],[-5.661,0],[0,-5.661]],"v":[[0,-10.25],[10.25,0],[0,10.25],[-10.25,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.463000009574,0.463000009574,0.463000009574,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[53.182,150.182],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":30.0000012219251,"st":0,"bm":0},{"ddd":0,"ind":21,"ty":4,"nm":"purple fill","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":318,"s":[100]},{"t":348.000014174331,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[176.713,103.094,0],"ix":2},"a":{"a":0,"k":[78.75,63,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":30,"s":[{"i":[[-2.058,0],[0,0],[0,-2.059],[-1,0.415],[0,0],[0,2.059]],"o":[[0,0],[-2.563,0.057],[0,2.059],[0,0],[-2.058,0],[0,-2.059]],"v":[[-31.074,-3.728],[-31.176,-3.723],[-35.012,0.067],[-31.176,3.732],[-31.074,3.728],[-34.801,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":36.786,"s":[{"i":[[-2.058,0],[0,0],[0,-2.059],[2.058,0],[0,0],[0,2.059]],"o":[[0,0],[2.058,0],[0,2.059],[0,0],[-2.058,0],[0,-2.059]],"v":[[-31.074,-3.728],[-23.926,-3.705],[-20.199,0.022],[-23.926,3.75],[-31.074,3.728],[-34.801,0]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":49,"s":[{"i":[[-2.058,0],[0,0],[0,-2.059],[2.058,0],[0,0],[0,2.059]],"o":[[0,0],[2.058,0],[0,2.059],[0,0],[-2.058,0],[0,-2.059]],"v":[[-31.074,-3.728],[8.962,-3.701],[12.689,0.026],[8.962,3.754],[-31.074,3.728],[-34.801,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":97,"s":[{"i":[[-2.058,0],[0,0],[0,-2.059],[2.058,0],[0,0],[0,2.059]],"o":[[0,0],[2.058,0],[0,2.059],[0,0],[-2.058,0],[0,-2.059]],"v":[[-31.074,-3.728],[8.962,-3.701],[12.689,0.026],[8.962,3.754],[-31.074,3.728],[-34.801,0]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":115,"s":[{"i":[[-2.058,0],[0,0],[0,-2.059],[2.058,0],[0,0],[0,2.059]],"o":[[0,0],[2.058,0],[0,2.059],[0,0],[-2.058,0],[0,-2.059]],"v":[[-31.074,-3.728],[56.846,-3.695],[60.573,0.032],[56.846,3.76],[-31.074,3.728],[-34.801,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":149,"s":[{"i":[[-2.058,0],[0,0],[0,-2.059],[2.058,0],[0,0],[0,2.059]],"o":[[0,0],[2.058,0],[0,2.059],[0,0],[-2.058,0],[0,-2.059]],"v":[[-31.074,-3.728],[56.846,-3.695],[60.573,0.032],[56.846,3.76],[-31.074,3.728],[-34.801,0]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":166,"s":[{"i":[[-2.058,0],[0,0],[0,-2.059],[2.058,0],[0,0],[0,2.059]],"o":[[0,0],[2.058,0],[0,2.059],[0,0],[-2.058,0],[0,-2.059]],"v":[[-31.074,-3.728],[100.098,-3.689],[103.825,0.038],[100.098,3.766],[-31.074,3.728],[-34.801,0]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":210,"s":[{"i":[[-2.058,0],[0,0],[0,-2.059],[2.058,0],[0,0],[0,2.059]],"o":[[0,0],[2.058,0],[0,2.059],[0,0],[-2.058,0],[0,-2.059]],"v":[[-31.074,-3.728],[100.098,-3.689],[103.825,0.038],[100.098,3.766],[-31.074,3.728],[-34.801,0]],"c":true}]},{"t":225.000009164438,"s":[{"i":[[-2.058,0],[0,0],[0,-2.059],[2.058,0],[0,0],[0,2.059]],"o":[[0,0],[2.058,0],[0,2.059],[0,0],[-2.058,0],[0,-2.059]],"v":[[-31.074,-3.728],[147.824,-3.683],[151.551,0.044],[147.824,3.772],[-31.074,3.728],[-34.801,0]],"c":true}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.635000011968,0.204000001795,0.709999952129,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[76.801,60.728],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":22,"ty":4,"nm":"confetti","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-81,"s":[670.373,81.178,0],"to":[0,-3.901,0],"ti":[0,3.901,0]},{"t":-23.0000009368092,"s":[670.373,57.769,0]}],"ix":2,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'pingpong\');"},"a":{"a":0,"k":[328.75,377.5,0],"ix":1},"s":{"a":0,"k":[80.796,80.796,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[2.326,-0.182],[0.068,2.612],[-2.655,0.184],[-0.161,-2.672]],"o":[[-2.522,0.197],[-0.066,-2.555],[2.581,0.117],[0.17,2.807]],"v":[[0.246,4.076],[-4.046,0.11],[-0.066,-4.169],[4.287,-0.189]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[3.607,0.098],[0.062,-3.268],[-3.279,-0.071],[-0.057,3.228]],"o":[[-3.442,-0.095],[-0.061,3.212],[3.309,0.071],[0.064,-3.502]],"v":[[0.195,-5.948],[-6.155,-0.198],[-0.108,5.972],[6.152,0.103]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.176000004189,0.176000004189,0.176000004189,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[327.43,377.408],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-81.0000032991976,"op":1756.00007152335,"st":-81.0000032991976,"bm":0},{"ddd":0,"ind":23,"ty":4,"nm":"confetti","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-124,"s":[462.859,175.768,0],"to":[0,-3.901,0],"ti":[0,3.901,0]},{"t":-66.0000026882351,"s":[462.859,152.359,0]}],"ix":2,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'pingpong\');"},"a":{"a":0,"k":[28.532,367.5,0],"ix":1},"s":{"a":0,"k":[80.796,80.796,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[2.522,0.055],[-0.119,2.794],[-2.615,0.029],[0.003,-2.593]],"o":[[-2.626,-0.056],[0.111,-2.589],[2.723,0.053],[-0.002,2.641]],"v":[[0.077,4.133],[-4.221,-0.349],[0.172,-4.245],[4.121,-0.062]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[3.259,-0.084],[-0.151,-3.322],[-3.256,0.142],[0.155,3.444]],"o":[[-3.408,0.089],[0.149,3.299],[3.237,-0.141],[-0.146,-3.222]],"v":[[-0.054,-6.047],[-5.955,0.131],[0.363,5.989],[5.951,-0.513]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.176000004189,0.176000004189,0.176000004189,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[28.585,365.462],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-124.000005050624,"op":1713.00006977192,"st":-124.000005050624,"bm":0},{"ddd":0,"ind":24,"ty":4,"nm":"confetti","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-29,"s":[646.89,147.004,0],"to":[0,-3.901,0],"ti":[0,3.901,0]},{"t":29.0000011811942,"s":[646.89,123.595,0]}],"ix":2,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'pingpong\');"},"a":{"a":0,"k":[348.75,397.75,0],"ix":1},"s":{"a":0,"k":[80.796,80.796,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[2.481,0.026],[-0.006,2.458],[-2.612,-0.108],[0.107,-2.774]],"o":[[-2.613,-0.028],[0.007,-2.592],[2.567,0.107],[-0.126,2.705]],"v":[[0.014,4.267],[-4.034,-0.089],[0.283,-4.042],[4.266,0.205]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[3.367,0.134],[0.285,-3.095],[-3.333,-0.213],[-0.148,3.463]],"o":[[-3.062,-0.123],[-0.304,3.298],[3.494,0.221],[0.147,-3.439]],"v":[[0.324,-6.043],[-5.884,-0.529],[-0.298,5.945],[6.042,0.302]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.176000004189,0.176000004189,0.176000004189,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[346.535,396.675],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-29.0000011811942,"op":1808.00007364135,"st":-29.0000011811942,"bm":0},{"ddd":0,"ind":25,"ty":4,"nm":"confetti","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-88,"s":[474.493,90.253,0],"to":[0,-3.901,0],"ti":[0,3.901,0]},{"t":-30.0000012219251,"s":[474.493,66.844,0]}],"ix":2,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'pingpong\');"},"a":{"a":0,"k":[163.5,318.5,0],"ix":1},"s":{"a":0,"k":[80.796,80.796,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[2.785,0.025],[0.144,2.662],[-2.222,0.277],[-0.723,-2.153]],"o":[[-2.571,-0.024],[-0.143,-2.623],[2.699,-0.335],[-0.456,2.563]],"v":[[0.027,4.195],[-4.235,0.084],[-0.456,-4.033],[4.173,-0.347]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[3.321,0.178],[0.142,-3.352],[-3.567,-0.172],[-0.206,3.383]],"o":[[-3.34,-0.18],[-0.151,3.589],[3.441,0.166],[0.198,-3.251]],"v":[[0.238,-6.002],[-6.076,-0.251],[-0.383,6.016],[6.03,0.361]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.176000004189,0.176000004189,0.176000004189,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[163.708,317.826],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-88.0000035843135,"op":1749.00007123823,"st":-88.0000035843135,"bm":0},{"ddd":0,"ind":26,"ty":4,"nm":"confetti","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-85,"s":[561.002,74.066,0],"to":[0,-3.901,0],"ti":[0,3.901,0]},{"t":-27.0000010997325,"s":[561.002,50.657,0]}],"ix":2,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'pingpong\');"},"a":{"a":0,"k":[238.75,367.25,0],"ix":1},"s":{"a":0,"k":[80.796,80.796,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[2.319,-0.193],[-0.019,2.561],[-2.476,-0.059],[-0.039,-2.417]],"o":[[-3.018,-0.076],[0.02,-2.724],[2.376,0.055],[0.043,2.693]],"v":[[0.226,4.141],[-4.048,-0.101],[0.271,-4.09],[4.088,-0.019]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[3.249,0.017],[-0.001,-3.317],[-3.455,-0.019],[-0.01,3.412]],"o":[[-3.327,-0.019],[0.002,3.408],[3.441,0.02],[0.011,-3.258]],"v":[[0.025,-6.011],[-6.048,0.016],[-0.005,6.01],[6.038,0.071]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.176000004189,0.176000004189,0.176000004189,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[237.461,371.457],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-85.000003462121,"op":1752.00007136042,"st":-85.000003462121,"bm":0},{"ddd":0,"ind":27,"ty":4,"nm":"confetti","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-45,"s":[466.387,128.599,0],"to":[0,-3.901,0],"ti":[0,3.901,0]},{"t":13.0000005295009,"s":[466.387,105.19,0]}],"ix":2,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'pingpong\');"},"a":{"a":0,"k":[149.25,382,0],"ix":1},"s":{"a":0,"k":[80.796,80.796,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.144,-2.149],[1.819,0.409],[1.962,1.86],[-2.947,1.349],[-0.294,-0.964]],"o":[[-0.653,1.227],[-2.235,-0.504],[2.838,-2.071],[0.988,-0.452],[0.76,2.494]],"v":[[6.515,3.716],[1.329,2.503],[-5.098,-0.275],[3.842,-4.633],[5.725,-3.805]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0.796,3.851],[1.76,-0.797],[4.73,-2.201],[-6.634,-2.883]],"o":[[-0.462,-2.232],[-4.234,1.92],[5.997,4.121],[-0.824,-4.568]],"v":[[7.382,-4.97],[3.538,-6.538],[-9.63,-0.426],[9.631,7.335]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.176000004189,0.176000004189,0.176000004189,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[148.75,382.254],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-45.0000018328876,"op":1792.00007298966,"st":-45.0000018328876,"bm":0},{"ddd":0,"ind":28,"ty":4,"nm":"confetti","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-71,"s":[599.167,67.04,0],"to":[0,-3.901,0],"ti":[0,3.901,0]},{"t":-13.0000005295009,"s":[599.167,43.631,0]}],"ix":2,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'pingpong\');"},"a":{"a":0,"k":[307.75,318.25,0],"ix":1},"s":{"a":0,"k":[80.796,80.796,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[4.547,1.677],[-2.806,1.334],[-0.204,-1.214],[-0.417,-3.06]],"o":[[3.545,-1.687],[1.134,-0.539],[0.403,2.417],[-4.209,-1.553]],"v":[[-5.454,0.039],[3.703,-4.319],[5.856,-3.298],[6.957,4.616]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0.703,3.783],[1.961,-0.852],[4.461,-3.176],[-3.108,-1.133],[-3.573,-0.448]],"o":[[-0.4,-2.151],[-4.416,1.915],[3.593,1.429],[3,1.094],[-0.814,-4.237]],"v":[[7.349,-4.496],[3.776,-6.448],[-9.609,0.387],[0.141,4.242],[9.609,7.299]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.176000004189,0.176000004189,0.176000004189,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[308.045,317.588],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-71.0000028918893,"op":1766.00007193065,"st":-71.0000028918893,"bm":0},{"ddd":0,"ind":29,"ty":4,"nm":"confetti","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-93,"s":[679.998,123.726,0],"to":[0,-3.901,0],"ti":[0,3.901,0]},{"t":-35.0000014255792,"s":[679.998,100.317,0]}],"ix":2,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'pingpong\');"},"a":{"a":0,"k":[210.5,284,0],"ix":1},"s":{"a":0,"k":[80.796,80.796,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[3.252,-1.919],[0.643,-0.223],[1.731,1.678],[0.523,3.121],[-0.449,1.734],[-0.772,0.165],[-0.653,-0.996]],"o":[[-0.595,0.352],[-1.562,0.541],[-2.173,-2.107],[0.534,-2.068],[0.186,-0.717],[1.139,-0.245],[2.07,3.163]],"v":[[3.891,4.523],[2.083,5.532],[-2.489,7.121],[-7.748,-0.221],[-6.317,-5.759],[-4.969,-7.137],[5.596,-2.824]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0.813,2.114],[3.015,1.411],[3.345,1.295],[0.729,-1.132],[-2.883,-3.848],[-0.976,-1.158],[-1.258,0.092],[-2.507,1.696]],"o":[[-0.987,-2.57],[-3.241,-1.516],[-0.929,-0.359],[-2.527,3.926],[0.909,1.213],[0.521,0.619],[2.369,-1.416],[1.241,-0.84]],"v":[[8.962,2.004],[5.242,-5.432],[-4.767,-9.366],[-7.248,-8.871],[-6.687,5.142],[-3.884,8.723],[-1.539,9.91],[6.004,5.342]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.176000004189,0.176000004189,0.176000004189,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[209.354,284.879],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-93.0000037879676,"op":1744.00007103458,"st":-93.0000037879676,"bm":0},{"ddd":0,"ind":30,"ty":4,"nm":"confetti","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-51,"s":[572.868,122.635,0],"to":[0,-3.901,0],"ti":[0,3.901,0]},{"t":7.00000028511585,"s":[572.868,99.226,0]}],"ix":2,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'pingpong\');"},"a":{"a":0,"k":[260.5,406,0],"ix":1},"s":{"a":0,"k":[80.796,80.796,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.227,-1.389],[1.086,-1.915],[1.862,0.865],[-1.797,5.555],[-0.431,1.317],[-1.64,-1.253],[-2.468,-1.785]],"o":[[-1.101,1.573],[-1.785,3.145],[-5.216,-2.422],[0.427,-1.32],[0.444,-1.353],[2.419,1.848],[0.627,0.454]],"v":[[6.686,1.025],[3.082,6.243],[-2.488,6.545],[-5.891,-1.456],[-4.667,-5.432],[-2.068,-6.465],[5.392,-1.187]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0.807,0.575],[3.569,2.62],[0.552,-1.83],[1.245,-3.958],[-0.738,-0.377],[-2.722,-1.345],[-0.43,0.605],[-1.997,2.987]],"o":[[-3.608,-2.568],[-1.554,-1.14],[-1.197,3.974],[-0.225,0.717],[3.319,1.693],[1.436,0.268],[2.081,-2.931],[0.761,-1.14]],"v":[[8.031,-1.505],[-2.769,-9.239],[-5.777,-8.269],[-9.444,3.629],[-9.071,5.446],[0.322,10.111],[2.899,9.649],[9.048,0.793]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.176000004189,0.176000004189,0.176000004189,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[260.034,406.548],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-51.0000020772726,"op":1786.00007274527,"st":-51.0000020772726,"bm":0},{"ddd":0,"ind":31,"ty":4,"nm":"confetti","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-71,"s":[510.775,65.806,0],"to":[0,-3.901,0],"ti":[0,3.901,0]},{"t":-13.0000005295009,"s":[510.775,42.397,0]}],"ix":2,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'pingpong\');"},"a":{"a":0,"k":[79.75,345,0],"ix":1},"s":{"a":0,"k":[80.796,80.796,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.642,-0.738],[0.504,-0.097],[2.996,2.662],[-2.523,4.188],[-0.831,-0.341],[-1.19,-3.594]],"o":[[-0.499,0.224],[-2.431,0.472],[-4.603,-4.09],[0.395,-0.656],[4.618,0.27],[0.517,1.562]],"v":[[5.699,2.984],[4.293,3.839],[-2.651,6.038],[-5.52,-6.98],[-4.009,-7.82],[6.8,-0.399]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0.206,1.286],[2.565,1.35],[3.994,1.498],[0.119,-0.069],[-0.876,-1.502],[-8.703,5.292],[-0.794,0.553]],"o":[[-1.195,-2.124],[-3.747,-1.972],[-0.092,-0.034],[-1.4,0.814],[5.144,8.826],[0.828,-0.503],[0.689,-0.479]],"v":[[9.469,1.26],[6.096,-5.747],[-5.813,-10.388],[-6.185,-10.224],[-8.799,1.38],[5.893,5.13],[8.358,3.589]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.176000004189,0.176000004189,0.176000004189,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[79.961,346.737],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-71.0000028918893,"op":1766.00007193065,"st":-71.0000028918893,"bm":0},{"ddd":0,"ind":32,"ty":4,"nm":"confetti","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-29,"s":[601.682,162.5,0],"to":[0,-3.901,0],"ti":[0,3.901,0]},{"t":29.0000011811942,"s":[601.682,139.091,0]}],"ix":2,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'pingpong\');"},"a":{"a":0,"k":[247.75,268.5,0],"ix":1},"s":{"a":0,"k":[80.796,80.796,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[3.929,0.556],[-0.701,1.817],[-2.973,-0.211],[0.224,-2.052]],"o":[[-0.994,-0.142],[0.836,-2.166],[4.05,0.286],[-0.592,5.406]],"v":[[-3.064,7.734],[-6.657,-2.826],[-1.933,-7.694],[6.07,-2.065]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[8.015,3.538],[0.253,0.114],[-0.141,-4.207],[-0.985,-3.75],[-0.759,-0.146],[-0.858,2.812]],"o":[[-0.253,-0.112],[-3.732,-1.669],[0.966,3.755],[0.187,0.714],[2.866,0.554],[2.604,-8.525]],"v":[[0.968,-8.609],[0.209,-8.949],[-8.842,-2.548],[-5.929,8.712],[-4.518,10.063],[6.379,3.453]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.176000004189,0.176000004189,0.176000004189,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[250.472,267.618],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-29.0000011811942,"op":1808.00007364135,"st":-29.0000011811942,"bm":0},{"ddd":0,"ind":33,"ty":4,"nm":"confetti","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":-100,"s":[436.994,92.568,0],"to":[0,-3.901,0],"ti":[0,3.901,0]},{"t":-42.0000017106951,"s":[436.994,69.159,0]}],"ix":2,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'pingpong\');"},"a":{"a":0,"k":[114.33,325.5,0],"ix":1},"s":{"a":0,"k":[80.796,80.796,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.886,-1.979],[1.346,0.696],[-0.139,1.821],[-1.048,3.438],[-0.495,-0.34],[-3.055,-2.158],[-0.3,-0.593]],"o":[[-1.507,1.582],[-1.663,-0.86],[0.267,-3.512],[0.199,-0.654],[3.085,2.114],[0.29,0.205],[-1.591,2.181]],"v":[[2.144,6.691],[-2.324,5.829],[-7.006,3.017],[-4.223,-7.359],[-2.852,-7.567],[6.371,-1.175],[7.048,0.115]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[1.27,0.876],[3.861,2.669],[0.326,0.157],[0.21,-0.683],[1.277,-3.942],[-1.217,-0.74],[-5.728,8.669],[-0.262,0.314]],"o":[[-3.863,-2.667],[-0.33,-0.228],[-0.845,0.198],[-1.217,3.962],[-0.497,1.533],[8.859,5.38],[0.228,-0.346],[1.043,-1.245]],"v":[[8.282,-2.29],[-3.287,-10.32],[-4.341,-10.837],[-5.641,-9.336],[-9.336,2.534],[-7.897,5.457],[8.145,1.867],[8.79,0.806]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.176000004189,0.176000004189,0.176000004189,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[114.364,320.6],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":-100.000004073084,"op":1737.00007074946,"st":-100.000004073084,"bm":0},{"ddd":0,"ind":34,"ty":4,"nm":"person","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,440,0],"ix":2},"a":{"a":0,"k":[202,246.5,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.625,-0.132],[0.153,-1.503],[1.345,-0.399],[0.967,0.38],[0.639,0.424],[-0.188,1.185],[-0.119,0.667],[-2.491,-0.126],[-1.01,-0.118]],"o":[[-0.798,1.446],[-0.122,1.199],[-0.764,0.227],[-0.678,-0.267],[-1.086,-0.72],[0.107,-0.669],[0.442,-2.478],[1.015,0.052],[0.477,0.055]],"v":[[4.083,-3.94],[2.665,0.426],[0.937,3.092],[-0.991,4.289],[-2.765,2.82],[-3.895,-0.069],[-3.588,-2.077],[-0.524,-4.543],[2.514,-4.264]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.957000014361,0.670999983245,0.238999998803,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[252.337,154.237],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0.656,-0.176],[0.048,0.291],[-0.557,-0.032]],"o":[[0.022,0.458],[-0.3,0.08],[-0.155,-0.965],[0,0]],"v":[[0.509,-0.525],[0.074,0.656],[-0.576,0.229],[0.517,-0.514]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.2,0.172999991623,0.383999992819,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[290.916,86.687],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.098,-0.39],[0.379,-0.028],[0.049,0.305],[-0.432,0.036]],"o":[[-0.021,0.394],[-0.334,0.025],[-0.058,-0.371],[0.4,-0.032]],"v":[[0.657,-0.033],[0.02,0.599],[-0.599,0.109],[-0.071,-0.592]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.195999998205,0.169000004787,0.380000005984,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[288.704,86.138],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.402,-0.002],[-0.062,0.406],[-0.395,-0.044],[0.049,-0.4]],"o":[[-0.372,-0.049],[0.058,-0.376],[0.38,0.043],[-0.047,0.394]],"v":[[-0.092,0.635],[-0.642,-0.032],[0.069,-0.591],[0.655,0.085]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.216000007181,0.383999992819,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[291.848,96.043],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.03,-0.373],[0.362,-0.011],[-0.051,0.45],[-0.383,-0.054]],"o":[[-0.065,0.402],[-0.462,0.013],[0.043,-0.381],[0.355,0.049]],"v":[[0.691,0.022],[0.015,0.632],[-0.64,-0.076],[0.059,-0.591]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.255000005984,0.216000007181,0.383999992819,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[289.188,83.828],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.39,-0.022],[0.04,-0.398],[0.437,0.029],[-0.048,0.422]],"o":[[0.369,0.061],[-0.04,0.411],[-0.457,-0.03],[0.044,-0.392]],"v":[[0.048,-0.685],[0.654,-0.038],[-0.077,0.678],[-0.647,-0.146]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.313999998803,0.258999992819,0.39199999641,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[291.225,90.023],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.399,0.058],[-0.008,-0.457],[0.397,-0.032],[0.016,0.44]],"o":[[0.453,0.005],[0.006,0.369],[-0.465,0.036],[-0.013,-0.369]],"v":[[-0.074,-0.701],[0.679,-0.018],[0.078,0.665],[-0.672,-0.013]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.275,0.226999993418,0.388000009574,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[291.846,93.018],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.048,-0.369],[0.375,-0.024],[-0.007,0.447],[-0.439,-0.022]],"o":[[-0.034,0.383],[-0.436,0.028],[0.007,-0.435],[0.387,0.019]],"v":[[0.691,0.001],[0.07,0.657],[-0.685,0.002],[0.075,-0.663]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.277999997606,0.231000010173,0.388000009574,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[288.943,88.644],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.049,-0.078],[-0.637,-0.207],[0.11,-0.344],[0.265,0.071],[0.473,0.074],[0.174,-0.917],[0.421,0.136],[-0.091,0.333]],"o":[[0.694,-0.042],[0.273,0.088],[-0.131,0.413],[-0.463,-0.124],[-0.709,-0.112],[-0.052,0.27],[-0.393,-0.127],[0.287,-1.049]],"v":[[-0.172,-1.144],[1.782,-0.688],[2.23,-0.057],[1.516,0.076],[0.119,-0.276],[-1.429,0.564],[-1.917,1.085],[-2.249,0.231]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.305999995213,0.250999989229,0.204000001795,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[255.665,90.82],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":2,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.007,-0.432],[0.915,0.1],[0.011,0.82],[-0.514,0.153]],"o":[[-0.272,0.728],[-0.814,-0.088],[-0.017,-1.262],[0.776,-0.231]],"v":[[1.047,-0.215],[-0.058,1.578],[-1.132,-0.416],[0.373,-1.035]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.238999998803,0.195999998205,0.172999991623,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[264.354,114.332],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 10","np":2,"cix":2,"bm":0,"ix":10,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.946,-0.016],[0.573,-0.362],[0.121,0.27],[-0.12,0.099],[-1.075,-0.18],[-0.755,-0.965],[0.075,-0.06],[0.201,0.202]],"o":[[-0.896,-0.064],[-0.216,0.137],[-0.054,-0.123],[0.803,-0.674],[1.271,0.213],[0.056,0.071],[-0.298,0.244],[-0.724,-0.726]],"v":[[-0.282,-0.423],[-2.317,0.245],[-2.925,0.158],[-2.764,-0.341],[0.026,-1.212],[2.923,0.779],[2.871,1.148],[2.128,0.976]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.282000014361,0.231000010173,0.195999998205,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[274.1,90.416],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 11","np":2,"cix":2,"bm":0,"ix":11,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.339,-0.58],[-0.354,0.054],[-0.097,-0.553],[0.343,-0.055],[0.158,-0.816],[0.33,-0.038],[0.083,0.297],[-0.679,1.028],[-0.509,-0.456],[0.121,-0.32]],"o":[[0.741,-0.296],[0.459,-0.071],[0.124,0.716],[-1.063,0.17],[-0.055,0.287],[-0.464,0.055],[-0.328,-1.171],[0.249,-0.376],[0.436,0.389],[-0.082,0.214]],"v":[[-0.954,-0.222],[0.471,-0.775],[1.731,-0.427],[0.791,-0.024],[-0.555,1.787],[-0.967,2.479],[-1.528,1.774],[-1.077,-1.562],[0.046,-2.078],[-0.389,-1.205]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.258999992819,0.211999990426,0.184000007779,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[292.53,103.63],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 12","np":2,"cix":2,"bm":0,"ix":12,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.067,-0.914],[1.013,-0.001],[-0.022,0.927],[-1.092,-0.028]],"o":[[-0.086,0.831],[-1.076,0.001],[0.021,-0.901],[1.101,0.028]],"v":[[1.32,0.106],[0.049,1.882],[-1.298,0.013],[0.049,-1.855]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.122000002394,0.105999995213,0.097999999102,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[257.306,98.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 13","np":2,"cix":2,"bm":0,"ix":13,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.086,-0.89],[1.027,-0.022],[0.004,0.916],[-1.074,0.004]],"o":[[-0.101,0.829],[-1.09,0.023],[-0.005,-0.909],[1.123,-0.004]],"v":[[1.313,0.041],[0.07,1.851],[-1.308,0.016],[0.018,-1.87]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.125,0.105999995213,0.097999999102,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[272.758,98.529],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 14","np":2,"cix":2,"bm":0,"ix":14,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.112,0.693],[-1.132,2.69],[-0.436,-0.188],[0.141,-0.299],[0.413,-2.699],[-1.168,-0.222],[-0.756,-0.163],[0.01,-0.296],[0.241,0.053],[1.226,0.43]],"o":[[0.19,-2.977],[0.129,-0.307],[0.432,0.186],[-1.167,2.477],[-0.188,1.235],[0.758,0.144],[0.228,0.05],[-0.011,0.315],[-1.276,-0.284],[-0.98,-0.345]],"v":[[-2.261,3.079],[0.036,-5.318],[0.688,-5.895],[0.721,-5.02],[-1.47,2.778],[-0.121,4.839],[2.152,5.295],[2.657,5.712],[2.122,6.031],[-1.686,5.113]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.255000005984,0.20800000359,0.180000005984,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[263.098,103.921],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 15","np":2,"cix":2,"bm":0,"ix":15,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.386,1.092],[-1.861,1.194],[0.08,0.56],[-0.461,0.02],[1.286,-0.43],[2.169,0.539]],"o":[[1.493,1.48],[0.418,-0.268],[-0.055,-0.391],[0.47,1.316],[-2.088,0.698],[-0.885,-0.219]],"v":[[-4.38,-0.525],[3.15,0.137],[3.812,-1.058],[4.297,-1.748],[3.188,0.855],[-3.223,1.209]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.118000000598,0.086000001197,0.035000000748,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[277.51,131.565],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 16","np":2,"cix":2,"bm":0,"ix":16,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.128,-0.284],[2.435,5.922],[0.235,0.734],[-0.654,-1.186],[-4.201,-3.486]],"o":[[-5.668,-3.385],[-0.292,-0.709],[1.056,0.963],[2.62,4.75],[0.188,0.156]],"v":[[6.002,8.37],[-5.417,-6.172],[-6.13,-8.37],[-4.182,-4.801],[5.766,7.757]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[211.868,145.422],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 17","np":2,"cix":2,"bm":0,"ix":17,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.445,0.037],[-1.564,-0.353],[0.509,-0.683],[0.316,-1.952],[0.729,-0.202],[0.557,-0.744],[0.535,0.5],[0.918,0.786],[0.02,0.503],[-0.368,1.804],[-0.568,0.068]],"o":[[1.928,0.116],[0.583,0.131],[-1.248,1.675],[-0.1,0.613],[-0.905,0.25],[-0.472,0.631],[-0.883,-0.826],[-0.415,-0.355],[-0.074,-1.86],[0.13,-0.637],[0.767,-0.091]],"v":[[-1.184,-5.422],[3.899,-4.802],[4.526,-3.745],[2.753,1.867],[1.839,3.139],[-0.313,4.79],[-1.737,4.884],[-4.441,2.467],[-4.961,1.176],[-4.279,-4.286],[-3.169,-5.25]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.125,0.090000002992,0.030999998953,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[252.684,154.363],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 18","np":2,"cix":2,"bm":0,"ix":18,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.099,0.622],[-0.504,0.512],[-0.416,-2.582],[-0.33,-1.742],[-0.203,-3.487],[1.398,-7.587],[0.001,-0.193],[2.016,-4.268],[4.751,-3.989],[-0.923,1.133],[-1.579,8.635],[0.464,7.761],[1.148,7.227]],"o":[[0.128,-0.575],[0.606,2.54],[0.283,1.75],[0.278,3.476],[0.446,7.674],[-0.034,0.187],[-1.165,4.539],[-2.638,5.58],[0.511,-1.464],[5.468,-6.709],[1.405,-7.685],[-0.437,-7.305],[-0.099,-0.622]],"v":[[3.994,-35.578],[4.284,-37.318],[5.896,-29.653],[6.879,-24.424],[7.885,-14.012],[6.868,8.888],[6.86,9.466],[2.547,22.818],[-8.33,37.318],[-5.553,33.925],[5.627,11.254],[6.73,-11.92],[4.29,-33.713]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[339.554,111.234],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 19","np":2,"cix":2,"bm":0,"ix":19,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.117,3.681],[-0.103,0.002],[0,-3.683],[0.103,0.001]],"o":[[0.103,-0.001],[0,3.684],[-0.103,-0.001],[-0.116,-3.681]],"v":[[-0.096,-5.521],[0.213,-5.525],[0.212,5.525],[-0.096,5.523]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.426999978458,0.298000021542,0.105999995213,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[202.438,114.401],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 20","np":2,"cix":2,"bm":0,"ix":20,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.708,0.234],[-0.306,-1.644],[-0.168,-1.986],[0.411,-0.528],[0.35,2.135],[0.719,1.484]],"o":[[-0.177,1.736],[0.36,1.94],[-0.361,0.536],[-0.616,-2.086],[-0.265,-1.626],[0.514,-0.323]],"v":[[-0.825,-6.222],[0.146,-1.305],[1.412,4.482],[1.122,6.222],[-0.047,-0.162],[-1.46,-4.837]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[342.426,69.434],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 21","np":2,"cix":2,"bm":0,"ix":21,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.127,-0.314],[0.394,-3.284],[0.186,-2.256],[0.106,0.137],[-0.934,5.544],[-0.471,-0.048]],"o":[[-0.892,3.209],[-0.27,2.246],[-0.1,0.14],[-0.36,-5.667],[0.047,-0.283],[0.609,0.062]],"v":[[1.228,-7.865],[-0.27,1.943],[-0.842,8.709],[-1.152,8.713],[0.438,-8.036],[0.902,-8.803]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.144999994016,0.122000002394,0.086000001197,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[203.493,100.167],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 22","np":2,"cix":2,"bm":0,"ix":22,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.391,-0.438],[1.346,1.034],[0.974,-0.764],[-0.614,-1.094],[-0.208,-0.485],[1.024,-0.524],[0.48,0.925],[-1.298,1.065],[-1.054,-0.742],[-0.541,-1.313]],"o":[[-0.443,-1.533],[-0.874,-0.672],[-1.05,0.822],[0.26,0.464],[0.286,0.669],[0.507,-1.373],[-0.771,-1.483],[1.157,-0.95],[1.185,0.835],[0.082,0.539]],"v":[[3.29,2.098],[0.978,-1.942],[-1.775,-2.311],[-2.166,0.685],[-1.374,2.067],[-2.117,3.897],[-2.917,0.797],[-2.155,-2.947],[1.163,-2.738],[3.606,0.6]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.105999995213,0.086000001197,0.063000002094,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[221.418,82.916],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 23","np":2,"cix":2,"bm":0,"ix":23,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-0.192],[0.086,-0.339],[0.092,0.548],[0.359,2.708],[-0.087,1.191],[0.989,2.887],[-0.449,0.617],[-0.11,-0.391],[-1.131,-7.137]],"o":[[-0.344,0.239],[-0.723,-0.193],[-0.449,-2.694],[-0.151,-1.143],[-0.609,-2.97],[-0.206,-0.6],[0.406,0.167],[1.972,6.954],[0.03,0.187]],"v":[[2.816,10.829],[2.438,11.799],[1.617,10.415],[0.294,2.329],[-0.469,-1.015],[-2.483,-9.884],[-2.395,-11.799],[-1.784,-10.894],[2.814,10.254]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.13300000359,0.13300000359,0.13300000359,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[343.995,75.012],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 24","np":2,"cix":2,"bm":0,"ix":24,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.274,2.317],[-2.556,0.788],[-0.772,-1.096],[0.766,-1.29],[0.761,-0.616],[-0.064,-0.503],[0.528,0.151],[-0.109,0.377],[-0.379,0.368],[-0.428,0.985],[0.668,0.791],[0.993,-0.324],[1.152,-0.885],[-1.215,-1.989],[-0.442,-0.575],[0.412,-0.015]],"o":[[1.427,-2.354],[1.179,-0.363],[0.81,1.15],[-0.5,0.843],[-0.319,0.257],[0.053,0.412],[-0.37,-0.105],[0.156,-0.546],[0.724,-0.702],[0.445,-1.021],[-0.666,-0.788],[-1.408,0.46],[-1.83,1.404],[0.376,0.616],[0.479,0.622],[-1.345,-1.635]],"v":[[-5.024,-0.364],[1.121,-4.9],[4.229,-3.907],[4.532,-0.235],[2.591,1.906],[1.835,2.872],[1.403,3.447],[1.026,2.618],[2.023,1.4],[4.043,-0.842],[3.579,-3.533],[1.085,-4.165],[-2.682,-2.018],[-3.57,2.912],[-2.25,4.641],[-2.664,5.249]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.105999995213,0.086000001197,0.067000003889,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[315.129,52.707],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 25","np":2,"cix":2,"bm":0,"ix":25,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.253,0.488],[-0.34,-0.599],[-3.054,-1.789],[-4.32,3.924],[-0.607,-0.093],[2.741,-0.856],[2.037,0.321],[2.551,4.766]],"o":[[0.883,0.152],[1.726,3.033],[5.037,2.952],[0.336,-0.306],[-1.623,2.503],[-2.034,0.377],[-5.363,-1.628],[-0.202,-0.375]],"v":[[-12.201,-6.003],[-10.854,-4.425],[-3.939,3.051],[11.252,1.447],[12.454,0.802],[5.562,5.332],[-0.547,5.362],[-11.895,-4.812]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.125,0.109999997008,0.086000001197,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[265.567,122.145],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 26","np":2,"cix":2,"bm":0,"ix":26,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.072,-0.225],[0.13,0.235],[-0.135,1.025],[0.289,6.728],[0.018,3.544],[-0.673,-0.036],[-0.148,-5.458],[1.124,-6.157]],"o":[[-0.13,-0.235],[-0.819,-1.061],[0.881,-6.703],[-0.152,-3.536],[0.156,-0.41],[0.959,5.382],[0.169,6.247],[-0.042,0.23]],"v":[[-0.251,17.801],[-0.642,17.095],[-0.649,13.874],[-0.165,-6.267],[-1.055,-16.826],[-0.245,-17.765],[1.293,-1.491],[-0.038,17.126]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.075,0.075,0.075,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[347.056,103.605],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 27","np":2,"cix":2,"bm":0,"ix":27,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.101,-0.146],[-1.598,-5.14],[-0.169,-0.446],[-2.266,-3.027],[-2.553,-1.732],[-0.073,-0.185],[-4.423,-0.52],[-2.33,0.158],[0.04,-0.771],[7.001,9.655],[1.144,6.012],[-0.259,3.512]],"o":[[0.423,5.333],[0.142,0.455],[1.529,3.425],[1.836,2.452],[0.161,0.109],[3.729,2.542],[2.312,0.273],[0.487,-0.033],[-11.478,0.881],[-3.609,-4.978],[-0.655,-3.441],[0.104,-0.137]],"v":[[-17.495,-19.885],[-14.909,-4.1],[-14.406,-2.76],[-9.045,7.094],[-2.63,13.532],[-2.275,13.981],[10.074,18.247],[17.037,18.495],[18.021,19.15],[-10.327,7.275],[-16.949,-9.485],[-17.802,-19.887]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.125,0.113999998803,0.093999997307,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[220.144,139.811],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 28","np":2,"cix":2,"bm":0,"ix":28,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.562,-0.127],[2.883,0.465],[-0.392,0.002],[-7.534,4.376],[-1.664,1.719],[-1.447,1.817],[-1.803,4.468],[-0.733,3.038],[-0.638,0.227],[-0.057,-0.29],[3.614,-5.644],[12.591,-2.316]],"o":[[-2.744,0.075],[0.347,-0.684],[8.677,-0.066],[2.041,-1.186],[1.498,-1.76],[2.997,-3.767],[1.18,-2.924],[0.119,-0.493],[0.377,0.07],[-1.166,6.6],[-6.992,10.922],[-0.567,0.104]],"v":[[-15.081,19.057],[-23.449,19.251],[-22.232,18.702],[2.161,12.286],[7.868,8.104],[12.465,2.911],[19.673,-9.391],[22.282,-18.389],[22.988,-19.715],[23.449,-19.044],[16.378,-0.615],[-13.392,18.678]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.122000002394,0.109999997008,0.097999999102,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[323.355,140.45],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 29","np":2,"cix":2,"bm":0,"ix":29,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.061,-0.947],[3.33,0.147],[-0.551,2.592],[-2.491,3.347],[-1.242,-1.755],[-1.953,-1.369],[1.132,-3.256],[0.143,0.298],[0.81,0.615],[0.77,-0.636],[-0.549,-1.177],[-0.095,-0.329],[0.267,0.521],[-0.786,0.722],[-1.035,-0.778],[0.147,-1.994],[0.734,-1.357]],"o":[[-3.151,-1.145],[-2.331,-1.854],[0.871,-4.084],[1.296,-1.743],[1.398,1.974],[2.859,2.005],[-0.591,0.094],[-0.451,-0.949],[-1.016,-0.772],[-0.92,0.76],[0.265,0.567],[-0.095,-0.285],[-0.558,-1.086],[0.79,-0.727],[1.488,1.12],[-0.936,1.253],[-0.675,1.247]],"v":[[3.113,10.794],[-6.645,9.049],[-8.28,2.212],[-3.327,-8.948],[0.81,-9.039],[5.926,-4.184],[7.844,1.763],[7.142,1.016],[5.177,-1.277],[2.227,-1.435],[1.604,1.715],[2.426,3.074],[1.663,1.816],[2.088,-1.268],[5.169,-1.262],[7.528,3.26],[5.562,7.424]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.760999971278,0.596000043084,0.426999978458,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[217.18,81.754],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 30","np":2,"cix":2,"bm":0,"ix":30,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.112,-1.801],[2.15,-0.914],[1.283,-3.619],[1.566,2.973],[0.302,0.42],[0.332,0.477],[-2.348,1.953],[-1.362,0.417],[-0.763,-1.083],[0.704,-1.063],[0.509,-0.534],[-0.604,0.872],[0.867,1.198],[1.512,-0.531],[1.383,-1.594],[0.48,0.135],[-2.813,2.498],[-2.912,-4.105],[-2.233,-3.386]],"o":[[-2.203,0.042],[-3.631,1.545],[-1.82,-2.822],[-0.294,-0.559],[0.196,-0.755],[-1.777,-2.552],[1.093,-0.91],[1.367,-0.419],[0.763,1.085],[-0.62,0.937],[0.435,-0.514],[0.836,-1.209],[-0.791,-1.092],[-2.001,0.703],[-0.203,0.234],[-1.62,-4.042],[3.571,-3.171],[2.347,3.307],[0.957,1.454]],"v":[[12.04,5.488],[5.544,6.44],[-1.648,14.204],[-6.864,5.59],[-8.059,4.675],[-8.847,3.071],[-8.08,-3.003],[-4.459,-5.075],[-1.409,-4.117],[-1.33,-0.735],[-3.401,1.361],[-1.447,-0.575],[-1.452,-4.192],[-4.665,-5.008],[-9.696,-1.481],[-10.42,-0.938],[-8.58,-11.033],[3.347,-9.396],[10.176,0.676]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.760999971278,0.596000043084,0.426999978458,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[320.525,53.281],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 31","np":2,"cix":2,"bm":0,"ix":31,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.432,-0.703],[1.336,-0.907],[1.157,2.26],[0.451,1.017],[2.415,-1.081],[1.286,0.737],[0.389,0.196],[1.355,-2.003],[3.403,-1.272],[1.017,-1.166],[1.566,-1.153],[1.621,0.917],[-0.012,1.36],[-0.211,1.436],[0.437,1.062],[-1.43,1.567],[-1.141,0.652],[-1.271,2.745],[-1.523,1.506],[-1.809,-0.136],[-0.855,-0.147],[-1.314,1.189],[-1.362,-3.631],[-3.058,0.079],[-0.532,-0.017],[0.622,-3.217],[-2.121,-1.22],[0.525,-1.847]],"o":[[-0.982,1.265],[-2.09,1.421],[-0.506,-0.987],[-1.091,-2.461],[-1.327,0.595],[-0.377,-0.216],[-2.241,-1.127],[-2.032,3.003],[-1.452,0.542],[-1.272,1.46],[-1.551,0.665],[-1.176,-0.664],[0.014,-1.472],[0.167,-1.138],[-0.832,-2.024],[0.889,-0.973],[2.68,-1.529],[0.876,-1.891],[1.291,-1.276],[0.869,0.065],[1.74,0.299],[4.149,-3.755],[1.089,2.906],[0.533,-0.014],[3.27,0.103],[-0.437,2.266],[1.672,0.961],[-0.228,0.804]],"v":[[23.123,7.098],[19.708,10.413],[14.195,9.054],[12.919,5.969],[7.936,3.999],[4.043,3.915],[2.876,3.327],[-2.246,4.245],[-10.176,10.687],[-13.626,13.751],[-17.756,17.792],[-22.46,17.912],[-24.22,14.985],[-23.507,10.691],[-23.848,7.418],[-22.748,2.072],[-19.735,-0.422],[-14.036,-7.007],[-10.73,-12.264],[-6.159,-14.053],[-3.555,-13.828],[1.033,-15.074],[10.683,-12.185],[14.971,-9.249],[16.57,-9.264],[20.564,-4.397],[22.686,0.751],[24.156,4.866]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.152999997606,0.136999990426,0.380000005984,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[266.467,74.181],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 32","np":2,"cix":2,"bm":0,"ix":32,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.416,-1.807],[0,0],[3.226,-0.373],[0.963,0.155],[0.27,0.911],[0.666,1.188],[-0.238,0.06],[-1.125,0.946],[2.525,-0.414],[3.274,2.993],[1.518,2.58],[0.478,1.13],[0.359,4.964],[0.156,2.058],[-0.212,0.149],[-1.541,1.534],[-1.851,0.674],[-0.995,1.562],[-0.654,0.66],[-1.909,-1.107],[-2.136,0.836],[-1.032,-1.633],[-0.497,-1.103],[-2.334,1.759],[-0.637,0.666],[-0.598,-0.13],[-0.177,-1.795],[0.121,-0.132],[-0.121,0.132],[-0.41,-2.764],[-0.021,-0.578],[-0.863,-0.002],[-0.214,-0.944],[1.261,-2.885],[0.976,-0.16],[0.241,-0.699],[3.294,-2.674]],"o":[[0,0],[-0.373,2.194],[-0.942,0.109],[-1.004,-0.161],[-0.667,-1.188],[-0.146,-0.319],[2.008,-0.509],[-1.486,1.266],[-4.523,0.741],[-2.253,-2.061],[-0.125,-1.269],[-1.973,-4.654],[-0.148,-2.059],[-0.23,-0.334],[1.809,-1.272],[1.4,-1.392],[1.759,-0.641],[0.495,-0.776],[1.559,-1.577],[1.958,1.135],[1.793,-0.701],[0.651,1.033],[1.199,2.666],[0.738,-0.557],[0.321,-0.336],[0.514,1.669],[-0.131,0.122],[0.123,-0.131],[1.045,2.628],[0.085,0.575],[0.027,0.738],[1.075,0.001],[0.694,3.063],[-0.385,0.883],[-0.803,0.131],[-1.375,3.99],[-1.611,1.308]],"v":[[10.482,21.708],[9.026,25.48],[5.027,28.369],[2.167,28.244],[0.349,26.704],[-1.651,23.14],[-1.344,22.635],[3.513,20.146],[-2.684,22.89],[-14.164,19.04],[-19.414,11.805],[-20.722,8.343],[-23.606,-6.189],[-24.07,-12.364],[-23.848,-13.094],[-19.283,-17.753],[-14.496,-20.956],[-10.42,-24.3],[-8.753,-26.494],[-3.632,-27.372],[2.305,-26.844],[6.52,-25.249],[8,-21.937],[13.608,-20.502],[15.626,-22.378],[16.809,-23.058],[18.652,-18.165],[18.272,-17.786],[18.644,-18.175],[20.398,-9.994],[20.605,-8.264],[21.704,-7.119],[23.606,-5.404],[22.763,3.546],[20.715,5.243],[19.375,6.545],[12.399,16.545]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.760999971278,0.596000043084,0.426999978458,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[272.781,104.337],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 33","np":2,"cix":2,"bm":0,"ix":33,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.424,-0.378],[-1.807,-2.168],[-0.498,-0.641],[-0.355,-1.645],[-0.519,-2.097],[-0.522,-4.951],[0.1,-6.269],[1.695,-5.963],[2.653,-3.827],[2.295,-2.922],[2.13,-1.231],[6.097,-0.902],[1.803,-0.155],[-1.525,0.291],[-0.416,-0.477],[0.119,-9.515],[-2.647,-10.442],[3.477,-0.723],[6.525,-0.559],[6.3,0.109],[8.178,2.637],[2.041,2.06],[0.041,0.69],[-1.046,10.446],[-2.19,9.843],[0.929,0.004],[0.431,-0.014],[5.62,3.037],[0.362,0.323],[0.874,0.885],[2.123,5.355],[0.138,0.158],[0.511,2.586],[0.093,3.222],[0,0],[-0.957,5.194],[-0.549,0.123],[-2.07,-0.007],[-0.57,-0.054],[-2.145,-0.567],[-0.315,-0.7],[-1.688,-1.706],[0.011,-1.37],[-0.97,-8.79],[-0.277,-1.226],[-2.395,-0.146],[-5.04,1.113],[-5.637,0.423],[-0.124,0.072],[-0.271,-0.07],[-1.706,0.072],[-0.666,-1.403],[-0.895,-0.194],[-1.973,0.737],[0.236,0.851],[-1.415,0.866],[-7.26,-0.827],[-1.829,0.271],[-1.752,3.011],[-0.396,4.679],[2.473,10.951],[-0.57,2.35],[-0.299,0.65],[-4.749,-0.246]],"o":[[2.493,0.961],[0.521,0.624],[1.637,1.161],[0.454,2.104],[0.952,4.89],[0.656,6.224],[-0.098,6.227],[-1.259,4.426],[-2.126,3.066],[-1.722,1.795],[-5.332,3.082],[-2.112,0.312],[1.215,-0.228],[0.54,-0.103],[-1.98,9.322],[-0.135,10.757],[0.881,3.477],[-6.407,1.331],[-6.283,0.539],[-8.483,-0.147],[-2.693,-0.868],[-0.467,-0.471],[-0.636,-10.482],[1.006,-10.042],[0.143,-0.641],[-0.364,-0.363],[-6.306,0.213],[-0.425,-0.23],[-0.65,-1.102],[-4.046,-4.099],[-0.115,-0.288],[-1.086,-2.441],[-0.627,-3.174],[0,0],[0.08,-5.282],[0.081,-0.441],[1.765,-1.174],[0.43,-0.513],[2.205,0.212],[0.651,0.172],[2.133,0.912],[0.942,0.95],[-0.069,8.825],[0.138,1.249],[0.494,2.181],[5.169,0.315],[5.476,-1.209],[0.129,-0.01],[0.188,-0.248],[1.715,0.442],[1.598,0.757],[-0.027,0.839],[2.1,0.456],[1.004,-0.375],[0.34,-1.372],[7.346,-0.555],[1.831,0.208],[3.796,-0.564],[2.38,-4.091],[0.954,-11.279],[-0.535,-2.369],[-0.084,-0.677],[1.981,-4.296],[0.541,0.027]],"v":[[57.768,-85.416],[64.669,-81.51],[66.168,-79.588],[67.988,-74.894],[69.14,-68.532],[71.268,-53.757],[72.207,-35.029],[69.613,-16.705],[63.648,-4.334],[56.816,4.479],[50.909,8.877],[33.737,14.791],[27.699,15.334],[32,15.025],[33.477,15.322],[30.392,43.6],[34.158,75.41],[29.868,82.398],[10.47,85.239],[-8.411,86.016],[-33.556,82.868],[-40.84,78.788],[-41.597,77.14],[-40.819,45.765],[-35.989,15.952],[-36.632,14.775],[-37.854,14.588],[-55.832,10.771],[-57.037,9.986],[-59.659,7.331],[-68.968,-6.808],[-69.444,-7.218],[-71.404,-14.865],[-72.307,-24.469],[-72.307,-35.167],[-70.719,-50.877],[-70.077,-51.882],[-64.261,-53.382],[-62.665,-53.821],[-56.128,-52.709],[-54.504,-51.636],[-48.5,-48.205],[-47.152,-44.824],[-46.246,-18.382],[-45.62,-14.658],[-41.934,-11.726],[-26.641,-13.136],[-10.151,-16.469],[-9.777,-16.678],[-9.033,-17.032],[-3.91,-17.058],[-1.295,-13.278],[-0.099,-11.778],[5.993,-12.312],[6.695,-14.376],[8.465,-18.14],[30.313,-16.775],[35.826,-16.778],[43.526,-23.071],[47.235,-36.389],[44.114,-69.658],[44.08,-76.7],[44.335,-78.666],[56.288,-85.88]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.961000031116,0.670999983245,0.238999998803,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[274.797,144.185],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 34","np":2,"cix":2,"bm":0,"ix":34,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":35,"ty":4,"nm":"line 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,440,0],"ix":2},"a":{"a":0,"k":[202,246.5,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,0],[0,-1.104],[0,0],[1.104,0],[0,0],[0,1.105],[0,0]],"o":[[0,0],[1.104,0],[0,0],[0,1.105],[0,0],[-1.104,0],[0,0],[0,-1.104]],"v":[[-73.943,-5.591],[73.943,-5.591],[75.943,-3.591],[75.943,3.591],[73.943,5.591],[-73.943,5.591],[-75.943,3.591],[-75.943,-3.591]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.941000007181,0.941000007181,0.941000007181,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[148.693,150.182],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":36,"ty":4,"nm":"line 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,440,0],"ix":2},"a":{"a":0,"k":[202,246.5,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,0],[0,-1.104],[0,0],[1.104,0],[0,0],[0,1.105],[0,0]],"o":[[0,0],[1.104,0],[0,0],[0,1.105],[0,0],[-1.104,0],[0,0],[0,-1.104]],"v":[[-73.943,-5.591],[73.943,-5.591],[75.943,-3.591],[75.943,3.591],[73.943,5.591],[-73.943,5.591],[-75.943,3.591],[-75.943,-3.591]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.941000007181,0.941000007181,0.941000007181,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[148.693,180],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":37,"ty":4,"nm":"line 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,440,0],"ix":2},"a":{"a":0,"k":[202,246.5,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,0],[0,-1.104],[0,0],[1.104,0],[0,0],[0,1.104],[0,0]],"o":[[0,0],[1.104,0],[0,0],[0,1.104],[0,0],[-1.104,0],[0,0],[0,-1.104]],"v":[[-73.943,-5.591],[73.943,-5.591],[75.943,-3.591],[75.943,3.591],[73.943,5.591],[-73.943,5.591],[-75.943,3.591],[-75.943,-3.591]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.941000007181,0.941000007181,0.941000007181,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[148.693,120.364],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":38,"ty":4,"nm":"line 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,440,0],"ix":2},"a":{"a":0,"k":[202,246.5,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,0],[0,-1.105],[0,0],[1.104,0],[0,0],[0,1.104],[0,0]],"o":[[0,0],[1.104,0],[0,0],[0,1.104],[0,0],[-1.104,0],[0,0],[0,-1.105]],"v":[[-73.943,-5.591],[73.943,-5.591],[75.943,-3.591],[75.943,3.591],[73.943,5.591],[-73.943,5.591],[-75.943,3.591],[-75.943,-3.591]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.941000007181,0.941000007181,0.941000007181,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[148.693,90.546],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":43,"ty":4,"nm":"purple back","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,440,0],"ix":2},"a":{"a":0,"k":[202,246.5,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-2.058,0],[0,0],[0,-2.059],[2.058,0],[0,0],[0,2.059]],"o":[[0,0],[2.058,0],[0,2.059],[0,0],[-2.058,0],[0,-2.059]],"v":[[-89.455,-3.728],[89.455,-3.728],[93.182,0],[89.455,3.728],[-89.455,3.728],[-93.182,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.925,0.816000007181,0.944999964097,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[135.182,60.728],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":44,"ty":1,"nm":"White Solid 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[403,440,0],"ix":2},"a":{"a":0,"k":[202,246.5,0],"ix":1},"s":{"a":0,"k":[183.6,183.6,100],"ix":6}},"ao":0,"sw":404,"sh":493,"sc":"#ffffff","ip":0,"op":1837.00007482254,"st":0,"bm":0}],"markers":[]}')},S6sW:function(e,t){e.exports='<ng-switch on="displayGrade.shouldShowPointsPossible()">\n  <span ng-switch-when="true" ng-bind-html="displayGrade.fullDisplayGrade"></span>\n  <span ng-switch-default><strong>{{displayGrade.fullDisplayGrade}}</strong></span>\n</ng-switch>'},SBFF:function(e,t){e.exports='<div ng-show="isShown" class="guidance-container stop-click-propagation" aria-hidden="true">\n  <p ng-show="title" ng-transclude="title" class="guidance-title"></p>\n  <p ng-transclude></p>\n</div>'},SE1T:function(e,t){e.exports='<button class="button-add-content js-show-add-options"\n        data-show-add-options\n        ng-click="addContentButton.addGroup()"\n        ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n        aria-label="{{addContentButton.addButtonAriaLabel}}"\n        ng-focus="addContentButton.showButton()"\n        ng-blur="addContentButton.hideButton()"\n        analytics-id="components.directives.add-content-button.course-group.button">\n</button>\n'},SGFZ:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var i=n("Llzl"),s=n("Fvsw"),a=n("TnpK");const o="ultra.components.directives.ultraState.peekSref";class r{constructor(t,n,i,s){this.$parse=t,this.uiSrefDirective=n,this.ultraState=i,this.context=s,this.restrict=this.uiSrefDirective[0].restrict,this.scope=!0,this.require=this.uiSrefDirective[0].require,this.link=(t,n,i,s)=>{const a=this.$parse(i.bbPeekSref)(t)||i.bbPeekSref,o=n.closest("[data-base-state-name]").data("baseStateName")||this.context.basePage;this.ultraState.getPeekStateName(a,o).then((a=>{i.uiSref=a;this.uiSrefDirective[0].compile(n,i,void 0)(t,n,i,s),i.bbPreventRoutingClick&&n.bind("click",(t=>{e(t.target).closest(i.bbPreventRoutingClick).length>0&&t.preventDefault()}))}))}}}r.$inject=["$parse","uiSrefDirective",a.d,s.b],i.module(o,["ui.router",s.a,a.b]).directive("bbPeekSref",["$injector",e=>e.instantiate(r)])}).call(this,n("71td"))},SPaM:function(e){e.exports=JSON.parse('{"v":"5.7.1","fr":29.9700012207031,"ip":0,"op":233.000009490285,"w":780,"h":460,"nm":"Frame 320","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"arrow-right Outlines","parent":5,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[58.201,29.107,0],"ix":2},"a":{"a":0,"k":[12,12,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[23,12],[1,12]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.93464050293,0.93464050293,0.93464050293,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-5,-11],[5,0],[-5,11]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.93464050293,0.93464050293,0.93464050293,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[18,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":225.000009164438,"op":2062.00008398698,"st":225.000009164438,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"black button 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":329,"s":[98.461,74.373,0],"to":[0.125,0.417,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":333,"s":[99.211,76.873,0],"to":[0,0,0],"ti":[0.125,0.417,0]},{"t":338.000013767022,"s":[98.461,74.373,0]}],"ix":2},"a":{"a":0,"k":[58.912,28.48,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.43,0],[0,0],[0,1.43],[0,0],[-1.429,0],[0,0],[0,-1.43],[0,0]],"o":[[0,0],[-1.429,0],[0,0],[0,-1.43],[0,0],[1.43,0],[0,0],[0,1.43]],"v":[[56.072,28.23],[-56.073,28.23],[-58.662,25.641],[-58.662,-25.64],[-56.073,-28.23],[56.072,-28.23],[58.662,-25.64],[58.662,25.641]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.091757202148,0.074548998066,0.078122195076,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[58.912,28.48],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"black button 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":348,"s":[100]},{"t":361.000014703831,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[98.461,74.373,0],"ix":2},"a":{"a":0,"k":[58.912,28.48,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":335,"s":[100,100,100]},{"t":361.000014703831,"s":[133,170,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.43,0],[0,0],[0,1.43],[0,0],[-1.429,0],[0,0],[0,-1.43],[0,0]],"o":[[0,0],[-1.429,0],[0,0],[0,-1.43],[0,0],[1.43,0],[0,0],[0,1.43]],"v":[[56.072,28.23],[-56.073,28.23],[-58.662,25.641],[-58.662,-25.64],[-56.073,-28.23],[56.072,-28.23],[58.662,-25.64],[58.662,25.641]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[58.912,28.48],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.678431391716,0.329411774874,0.654901981354,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false}],"ip":335.00001364483,"op":1837.00007482254,"st":0,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":1,"ty":5,"nm":"D","parent":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[6.975,17.307,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":15.3000001907349,"f":"OpenSans-Regular","t":"D","j":0,"tr":0,"lh":18.3600002288818,"ls":0,"fc":[1,1,1]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25.026,25.905,0],"ix":2},"a":{"a":0,"k":[12.188,12.149,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":0,"s":[0,0,100]},{"t":10.0000004073083,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.754],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.100996159572,0.082543399287,0.085796498317,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.188,12.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"black circle 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":16.334,"s":[100]},{"t":25.0000010182709,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25.026,25.905,0],"ix":2},"a":{"a":0,"k":[12.188,12.149,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":-14,"s":[0,0,100]},{"t":25.0000010182709,"s":[168,168,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.754],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[12.188,12.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.678431372549,0.329411764706,0.654901960784,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false}],"ip":10.0000004073083,"op":1823.00007425231,"st":-14.0000005702317,"bm":0}]},{"id":"comp_2","layers":[{"ddd":0,"ind":1,"ty":5,"nm":"D","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[12.25,21.75,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":15.3000001907349,"f":"OpenSans-Regular","t":"D","j":0,"tr":0,"lh":18.3600002288818,"ls":0,"fc":[0,0,0]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[17.17,16.844,0],"ix":2},"a":{"a":0,"k":[16.938,16.899,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.755],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.121449631336,0.099791545494,0.103483858296,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[16.938,16.899],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0}]},{"id":"comp_3","layers":[{"ddd":0,"ind":1,"ty":5,"nm":"C","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[11.75,22,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":15.3000001907349,"f":"OpenSans-Regular","t":"C","j":0,"tr":0,"lh":18.3600002288818,"ls":0,"fc":[0,0,0]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[17.17,16.844,0],"ix":2},"a":{"a":0,"k":[16.938,16.899,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.755],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.121449631336,0.099791545494,0.103483858296,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[16.938,16.899],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0}]},{"id":"comp_4","layers":[{"ddd":0,"ind":1,"ty":5,"nm":"B","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[12.375,21.875,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":15.3000001907349,"f":"OpenSans-Regular","t":"B","j":0,"tr":0,"lh":18.3600002288818,"ls":0,"fc":[0,0,0]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[17.17,16.844,0],"ix":2},"a":{"a":0,"k":[16.938,16.899,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.755],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.121449631336,0.099791545494,0.103483858296,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[16.938,16.899],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0}]},{"id":"comp_5","layers":[{"ddd":0,"ind":1,"ty":5,"nm":"A","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[12.25,21.75,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":15.3000001907349,"f":"OpenSans-Regular","t":"A","j":0,"tr":0,"lh":18.3600002288818,"ls":0,"fc":[0,0,0]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[17.17,16.844,0],"ix":2},"a":{"a":0,"k":[16.938,16.899,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.755],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.121449631336,0.099791545494,0.103483858296,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[16.938,16.899],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0}]},{"id":"comp_6","layers":[{"ddd":0,"ind":1,"ty":5,"nm":"A","parent":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[7.1,17.182,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":15.3000001907349,"f":"OpenSans-Regular","t":"A","j":0,"tr":0,"lh":18.3600002288818,"ls":0,"fc":[1,1,1]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25.026,25.905,0],"ix":2},"a":{"a":0,"k":[12.188,12.149,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0]},"t":0,"s":[0,0,100]},{"t":10.0000004073083,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.754],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.100996159572,0.082543399287,0.085796498317,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.188,12.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"black circle 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":16.334,"s":[100]},{"t":25.0000010182709,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25.026,25.905,0],"ix":2},"a":{"a":0,"k":[12.188,12.149,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":-14,"s":[0,0,100]},{"t":25.0000010182709,"s":[168,168,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.754],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[12.188,12.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.678431372549,0.329411764706,0.654901960784,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false}],"ip":10.0000004073083,"op":1823.00007425231,"st":-14.0000005702317,"bm":0}]},{"id":"comp_7","layers":[{"ddd":0,"ind":1,"ty":5,"nm":"C","parent":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[6.413,17.494,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":15.3000001907349,"f":"OpenSans-Regular","t":"C","j":0,"tr":0,"lh":18.3600002288818,"ls":0,"fc":[1,1,1]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25.026,25.905,0],"ix":2},"a":{"a":0,"k":[12.188,12.149,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,16.667]},"t":0,"s":[0,0,100]},{"t":10.0000004073083,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.754],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.100996159572,0.082543399287,0.085796498317,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.188,12.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"black circle","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":16.334,"s":[100]},{"t":25.0000010182709,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25.026,25.905,0],"ix":2},"a":{"a":0,"k":[12.188,12.149,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":-14,"s":[0,0,100]},{"t":25.0000010182709,"s":[168,168,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.754],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[12.188,12.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.678431372549,0.329411764706,0.654901960784,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false}],"ip":10.0000004073083,"op":1823.00007425231,"st":-14.0000005702317,"bm":0}]},{"id":"comp_8","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"green check","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[26.725,21.198,0],"ix":2},"a":{"a":0,"k":[18.09,18.032,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":4,"s":[0,0,100]},{"t":14.0000005702317,"s":[61,61,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-8.797,0.313],[-2.422,6.898],[8.797,-6.898]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.999999880323,0.999999820485,0.999999880323,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[18.383,18.412],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-9.795,0.098],[-0.09,-10.094],[9.719,-0.14],[0.257,9.556]],"o":[[10.219,-0.102],[0.089,9.944],[-9.438,0.135],[-0.257,-9.563]],"v":[[-0.041,-17.68],[17.752,-0.434],[0.486,17.647],[-17.584,0.09]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.104395915013,0.375851530187,0.121783200432,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18.09,18.032],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":4.00000016292334,"op":1841.00007498547,"st":4.00000016292334,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"lines 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[177,177.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-10.135,-0.428],[-6.75,1.75]],"o":[[8.875,0.375],[6.75,-1.75]],"v":[[-141.688,-156.188],[-129.125,-166.438]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":7.188,"s":[0]},{"t":26.0000010590017,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2.889,"s":[0]},{"t":21.1787508626282,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":4.00000016292334,"op":1841.00007498547,"st":4.00000016292334,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"lines 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[177,177.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[9.875,-1.5]],"o":[[0,0],[-9.875,1.5]],"v":[[-152.625,-161.688],[-169.875,-171.438]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":5.743,"s":[0]},{"t":24.5550010001457,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1.445,"s":[0]},{"t":19.7337508037721,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":2.00000008146167,"op":1839.00007490401,"st":2.00000008146167,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"lines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[177,177.5,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[4.25,-1.625],[1.625,-7]],"o":[[-4.25,1.625],[-1.625,7]],"v":[[-152.125,-152.125],[-170,-142]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 3","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ty":"st","c":{"a":0,"k":[0.635294117647,0.203921583587,0.709803921569,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":4.299,"s":[0]},{"t":23.1112509413405,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":18.290000744967,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":4,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0}]},{"id":"comp_9","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"green check","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[26.725,21.198,0],"ix":2},"a":{"a":0,"k":[18.09,18.032,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":4,"s":[0,0,100]},{"t":14.0000005702317,"s":[61,61,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-8.797,0.313],[-2.422,6.898],[8.797,-6.898]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.999999880323,0.999999820485,0.999999880323,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[18.383,18.412],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-9.795,0.098],[-0.09,-10.094],[9.719,-0.14],[0.257,9.556]],"o":[[10.219,-0.102],[0.089,9.944],[-9.438,0.135],[-0.257,-9.563]],"v":[[-0.041,-17.68],[17.752,-0.434],[0.486,17.647],[-17.584,0.09]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.104395915013,0.375851530187,0.121783200432,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18.09,18.032],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":4.00000016292334,"op":1841.00007498547,"st":4.00000016292334,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"black circle 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":22,"s":[100]},{"t":30.0000012219251,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[26.901,21.405,0],"ix":2},"a":{"a":0,"k":[12.188,12.149,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":-1,"s":[20,20,100]},{"t":30.0000012219251,"s":[168,168,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.554,0.065],[-0.06,-6.754],[6.502,-0.094],[0.172,6.394]],"o":[[6.838,-0.068],[0.059,6.655],[-6.316,0.09],[-0.173,-6.4]],"v":[[-0.027,-11.831],[11.88,-0.291],[0.326,11.809],[-11.766,0.06]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[12.188,12.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.678431372549,0.329411764706,0.654901960784,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false}],"ip":14.0000005702317,"op":1817.00007400793,"st":-20.0000008146167,"bm":0}]}],"fonts":{"list":[{"fName":"OpenSans-Regular","fFamily":"Open Sans","fStyle":"Regular","ascent":75.9994506835938}]},"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 6","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[12.954,-250.366,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[163.934,163.934,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[336.313,-162.5],[342.438,-167.688],[349.188,-162.625]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.077124143114,0.077124143114,0.077124143114,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"carpetita Outlines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-93.399,-504.874,0],"ix":2},"a":{"a":0,"k":[298,421,0],"ix":1},"s":{"a":0,"k":[23.77,23.77,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[205.835,346.446],[282.496,346.446]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":11,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[8.849,0],[0,0],[2.936,4.791],[10.273,0],[0,0],[0,-6.863],[0,0],[-9.669,0],[0,0],[0,9.886],[0,0]],"o":[[0,0],[0,-5.266],[0,0],[-6.777,0],[-2.935,-4.791],[0,0],[-5.093,0],[0,0],[0,10.272],[0,0],[10.92,0],[0,-9.886],[0,0]],"v":[[108.604,32.374],[108.604,-62.935],[95.482,-74.676],[18.82,-74.676],[2.935,-84],[-15.367,-90.906],[-100.317,-90.906],[-108.604,-78.82],[-108.604,75.886],[-93.583,90.907],[94.885,90.907],[108,76.95],[107.612,47.957]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":11,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[296.871,419.439],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"green check","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-441.952,290.402,0],"ix":2},"a":{"a":0,"k":[18.09,18.033,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-8.798,0.313],[-2.422,6.898],[8.798,-6.898]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.999999880323,0.999999820485,0.999999880323,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[18.383,18.412],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-9.795,0.099],[-0.09,-10.094],[9.718,-0.139],[0.257,9.555]],"o":[[10.219,-0.102],[0.089,9.944],[-9.438,0.136],[-0.257,-9.563]],"v":[[-0.041,-17.681],[17.752,-0.435],[0.487,17.647],[-17.583,0.09]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.104395915013,0.375851530187,0.121783200432,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 2","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"fl","c":{"a":0,"k":[0.104395915013,0.375851530187,0.121783200432,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18.09,18.033],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"color lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-441.87,290.399,0],"ix":2},"a":{"a":0,"k":[50.932,50.932,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-16.482,16.482],[16.482,-16.482]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.976197844861,0.953971473843,0.067632570454,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[33.167,68.696],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-16.482,16.482],[16.482,-16.482]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.639983412799,0.863822069355,0.887750663009,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[68.696,33.167],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[16.482,16.482],[-16.482,-16.482]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.999732462565,0.510308059992,0.028752330705,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[68.696,68.696],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[16.482,16.482],[-16.482,-16.482]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.999732462565,0.510308059992,0.028752330705,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[33.168,33.167],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[50.932,99.363],[50.932,52.744]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.639983412799,0.863822069355,0.887750663009,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[50.932,49.119],[50.932,2.5]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.976197844861,0.953971473843,0.067632570454,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[99.364,50.932],[52.745,50.932]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.976197844861,0.953971473843,0.067632570454,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[49.119,50.932],[2.5,50.932]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.639983412799,0.863822069355,0.887750663009,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false}],"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"purple circle 2","parent":71,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":298,"s":[0]},{"t":322.000013115329,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":298,"s":[312.942,408.962,0],"to":[-16.409,19.69,0],"ti":[16.409,-19.69,0]},{"i":{"x":0.667,"y":0.667},"o":{"x":0.333,"y":0.333},"t":391,"s":[214.491,527.104,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":398,"s":[214.491,527.104,0],"to":[0,0.31,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":402,"s":[214.491,528.963,0],"to":[0,0,0],"ti":[0,0.31,0]},{"t":407.00001657745,"s":[214.491,527.104,0]}],"ix":2},"a":{"a":0,"k":[19.076,19.03,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-7.729,0.077],[-0.071,-7.963],[7.668,-0.11],[0.203,7.539]],"o":[[8.063,-0.081],[0.07,7.846],[-7.446,0.107],[-0.203,-7.545]],"v":[[-0.032,-13.949],[14.006,-0.343],[0.384,13.923],[-13.873,0.071]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.67982895795,0.331096394857,0.653641644646,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[19.076,19.03],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-4.156,0.041],[-0.038,-4.282],[4.123,-0.059],[0.108,4.054]],"o":[[4.335,-0.044],[0.037,4.219],[-4.004,0.058],[-0.11,-4.058]],"v":[[-0.017,-7.501],[7.532,-0.185],[0.207,7.487],[-7.459,0.038]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.67982895795,0.331096394857,0.653641644646,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[19.106,19.024],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":281.000011445365,"op":519.000021139303,"st":224.000009123707,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"purple circle","parent":71,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":143,"s":[0]},{"t":167.000006802049,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"s":true,"x":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.006],"y":[0.106]},"t":143,"s":[-170.098]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":187,"s":[-50.574]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":194,"s":[-50.574]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":198,"s":[-48.707]},{"t":202.000008227629,"s":[-50.574]}],"ix":3},"y":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.006],"y":[0.23]},"t":143,"s":[-309.282]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":187,"s":[-155.339]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":194,"s":[-155.339]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":198,"s":[-153.472]},{"t":202.000008227629,"s":[-155.339]}],"ix":4}},"a":{"a":0,"k":[19.076,19.03,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-7.729,0.077],[-0.071,-7.963],[7.668,-0.11],[0.203,7.539]],"o":[[8.063,-0.081],[0.07,7.846],[-7.446,0.107],[-0.203,-7.545]],"v":[[-0.032,-13.949],[14.006,-0.343],[0.384,13.923],[-13.873,0.071]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.67982895795,0.331096394857,0.653641644646,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[19.076,19.03],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-4.156,0.041],[-0.038,-4.282],[4.123,-0.059],[0.108,4.054]],"o":[[4.335,-0.044],[0.037,4.219],[-4.004,0.058],[-0.11,-4.058]],"v":[[-0.017,-7.501],[7.532,-0.185],[0.207,7.487],[-7.459,0.038]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.67982895795,0.331096394857,0.653641644646,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[19.106,19.024],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":69.0000028104276,"op":243.000009897593,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":8,"ty":0,"nm":"submit","parent":71,"refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[186.5,536,0],"ix":2},"a":{"a":0,"k":[100,75,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":200,"h":150,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":9,"ty":0,"nm":"d black ","parent":71,"refId":"comp_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-30.911,467.52,0],"ix":2},"a":{"a":0,"k":[25,25,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":50,"h":50,"ip":361.000014703831,"op":2198.00008952638,"st":361.000014703831,"bm":0},{"ddd":0,"ind":10,"ty":0,"nm":"d","parent":71,"refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,468,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":361.000014703831,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":11,"ty":0,"nm":"c","parent":71,"refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,431.25,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":12,"ty":0,"nm":"b","parent":71,"refId":"comp_4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,395.5,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":13,"ty":0,"nm":"A","parent":71,"refId":"comp_5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,358.75,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":14,"ty":4,"nm":"blue lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[184.686,395.734,0],"ix":2},"a":{"a":0,"k":[231.31,80.28,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[21.328,-0.001],[21.322,-0.375],[0.056,5.01],[-6.12,-0.032],[-42.656,0.223],[0.063,-4.826],[6.459,0.094]],"o":[[-21.328,0],[-6.668,0.117],[-0.054,-5.015],[42.655,0.223],[6.303,-0.034],[-0.059,4.65],[-21.323,-0.311]],"v":[[0.23,7.795],[-63.752,7.935],[-70.725,-0.287],[-63.892,-8.02],[64.076,-8.018],[70.716,-0.122],[64.212,7.912]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.880364511527,0.92332907284,0.957121246936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[108.569,152.259],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[24.143,0],[24.14,-0.235],[-0.299,5.678],[-6.57,0.005],[-48.084,-0.032],[-0.386,-7.306],[5.457,0.052]],"o":[[-24.143,0],[-5.466,0.053],[0.385,-7.302],[48.084,-0.031],[6.564,0.004],[0.301,5.687],[-24.141,-0.235]],"v":[[-45.003,7.778],[-117.43,7.88],[-124.775,0.679],[-117.124,-7.902],[117.128,-7.901],[124.773,0.685],[117.424,7.88]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.875381649242,0.920586499981,0.955563294654,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[162.631,43.625],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[29.967,0],[30.168,0.069],[0.996,3.564],[-1.876,3.639],[-2.51,0.002],[-56.716,0],[-3.785,0.37],[0.203,-5.42],[8.584,-0.001]],"o":[[-30.168,0],[-2.633,-0.006],[-1.061,-3.793],[1.386,-2.689],[56.715,-0.046],[3.821,0],[5.734,-0.557],[-0.312,8.397],[-29.966,0.001]],"v":[[0.317,7.787],[-90.187,7.743],[-97.544,5.455],[-97.164,-6.33],[-89.912,-7.873],[80.234,-7.908],[91.69,-7.979],[98.838,-0.625],[90.216,7.787]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[135.996,116.047],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[43.648,0.005],[0.006,7.161],[-7.336,0],[-87.297,-0.043],[-0.965,-3.217],[1.627,-3.902],[2.126,-0.003],[32.384,0]],"o":[[-43.647,0],[-8.163,-0.001],[-0.007,-7.364],[87.296,-0.012],[2.466,0.002],[1.2,4.003],[-0.904,2.17],[-32.384,0.048],[0,0]],"v":[[-47.839,7.878],[-78.784,7.876],[-87.052,0.612],[-78.732,-7.81],[83.157,-7.781],[90.044,-5.673],[89.859,6.719],[83.708,7.845],[-13.443,7.878]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[125.009,79.738],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-73.814,0],[-73.614,-0.092],[-1.048,-3.519],[1.122,-3.922],[1.471,-0.033],[1.81,0],[146.624,0.001],[-2.765,8.689],[-1.536,0.034],[-1.81,0]],"o":[[73.614,0],[2.55,0.003],[1.118,3.752],[-0.433,1.515],[-1.81,0.04],[-146.624,0.002],[-8.862,0],[0.529,-1.663],[1.81,-0.04],[73.814,-0.002]],"v":[[1.655,-7.032],[222.497,-6.958],[229.942,-5.144],[229.806,6.744],[226.329,8.617],[220.899,8.662],[-218.973,8.662],[-228.295,-4.719],[-225.219,-6.98],[-219.789,-7.029]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.875381649242,0.920586499981,0.955563294654,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[231.31,8.914],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false}],"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":15,"ty":5,"nm":"3. 2","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-73.814,331.286,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[82.04,82.04,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":20.8999996185303,"f":"OpenSans-Regular","t":"3.","j":0,"tr":0,"lh":25.0799995422363,"ls":0,"fc":[0,0,0]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":16,"ty":0,"nm":"d","parent":71,"refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-30.75,274.75,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":17,"ty":0,"nm":"c","parent":71,"refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-30.75,238,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":18,"ty":0,"nm":"b","parent":71,"refId":"comp_4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-30.75,202.25,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":19,"ty":0,"nm":"A","parent":71,"refId":"comp_5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-30.75,165.5,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":296.000012056327,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":20,"ty":4,"nm":"blue lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[184.686,203.454,0],"ix":2},"a":{"a":0,"k":[231.31,80.28,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[21.328,-0.001],[21.322,-0.375],[0.056,5.01],[-6.12,-0.032],[-42.656,0.223],[0.063,-4.826],[6.459,0.094]],"o":[[-21.328,0],[-6.668,0.117],[-0.054,-5.015],[42.655,0.223],[6.303,-0.034],[-0.059,4.65],[-21.323,-0.311]],"v":[[0.23,7.795],[-63.752,7.935],[-70.725,-0.287],[-63.892,-8.02],[64.076,-8.018],[70.716,-0.122],[64.212,7.912]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.880364511527,0.92332907284,0.957121246936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[108.569,152.259],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[24.143,0],[24.14,-0.235],[-0.299,5.678],[-6.57,0.005],[-48.084,-0.032],[-0.386,-7.306],[5.457,0.052]],"o":[[-24.143,0],[-5.466,0.053],[0.385,-7.302],[48.084,-0.031],[6.564,0.004],[0.301,5.687],[-24.141,-0.235]],"v":[[-45.003,7.778],[-117.43,7.88],[-124.775,0.679],[-117.124,-7.902],[117.128,-7.901],[124.773,0.685],[117.424,7.88]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.875381649242,0.920586499981,0.955563294654,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[162.631,43.624],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[29.967,0],[30.168,0.069],[0.996,3.564],[-1.876,3.639],[-2.51,0.002],[-56.716,0],[-3.785,0.37],[0.203,-5.42],[8.584,-0.001]],"o":[[-30.168,0],[-2.633,-0.006],[-1.061,-3.793],[1.386,-2.689],[56.715,-0.046],[3.821,0],[5.734,-0.557],[-0.312,8.397],[-29.966,0.001]],"v":[[0.317,7.787],[-90.187,7.743],[-97.544,5.455],[-97.164,-6.33],[-89.912,-7.873],[80.234,-7.908],[91.69,-7.979],[98.838,-0.625],[90.216,7.787]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[135.996,116.047],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[43.648,0.005],[0.006,7.161],[-7.336,0],[-87.297,-0.043],[-0.965,-3.217],[1.627,-3.902],[2.126,-0.003],[32.384,0]],"o":[[-43.647,0],[-8.163,-0.001],[-0.007,-7.364],[87.296,-0.012],[2.466,0.002],[1.2,4.003],[-0.904,2.17],[-32.384,0.048],[0,0]],"v":[[-47.839,7.878],[-78.784,7.876],[-87.052,0.612],[-78.732,-7.81],[83.157,-7.781],[90.044,-5.673],[89.859,6.719],[83.708,7.845],[-13.443,7.878]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[125.009,79.738],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-73.814,0],[-73.614,-0.092],[-1.048,-3.519],[1.122,-3.922],[1.471,-0.033],[1.81,0],[146.624,0.001],[-2.765,8.689],[-1.536,0.034],[-1.81,0]],"o":[[73.614,0],[2.55,0.003],[1.118,3.752],[-0.433,1.515],[-1.81,0.04],[-146.624,0.002],[-8.862,0],[0.529,-1.663],[1.81,-0.04],[73.814,-0.002]],"v":[[1.655,-7.032],[222.497,-6.957],[229.942,-5.145],[229.806,6.744],[226.329,8.616],[220.899,8.662],[-218.973,8.663],[-228.295,-4.72],[-225.219,-6.98],[-219.789,-7.03]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.875381649242,0.920586499981,0.955563294654,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[231.31,8.914],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false}],"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":21,"ty":0,"nm":"a black ","parent":71,"refId":"comp_6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-30.698,165.001,0],"ix":2},"a":{"a":0,"k":[25,25,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":50,"h":50,"ip":295.000012015596,"op":2132.00008683814,"st":295.000012015596,"bm":0},{"ddd":0,"ind":22,"ty":5,"nm":"2. 2","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-75.148,140.606,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[92.236,92.236,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":20.8999996185303,"f":"OpenSans-Regular","t":"2.","j":0,"tr":0,"lh":25.0799995422363,"ls":0,"fc":[0,0,0]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":23,"ty":0,"nm":"d","parent":71,"refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,82.5,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":24,"ty":0,"nm":"c black","parent":71,"refId":"comp_7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-30.899,45.104,0],"ix":2},"a":{"a":0,"k":[25,25,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":50,"h":50,"ip":266.000010834402,"op":2103.00008565695,"st":266.000010834402,"bm":0},{"ddd":0,"ind":25,"ty":0,"nm":"c","parent":71,"refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,45.75,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":266.000010834402,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":26,"ty":0,"nm":"b","parent":71,"refId":"comp_4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,10,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":27,"ty":0,"nm":"A","parent":71,"refId":"comp_5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-31,-26.75,0],"ix":2},"a":{"a":0,"k":[17,16.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":34,"h":33,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":28,"ty":4,"nm":"blue lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[184.686,11.173,0],"ix":2},"a":{"a":0,"k":[231.31,80.28,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[21.328,-0.001],[21.322,-0.375],[0.056,5.01],[-6.12,-0.032],[-42.656,0.223],[0.063,-4.826],[6.459,0.094]],"o":[[-21.328,0],[-6.668,0.117],[-0.054,-5.015],[42.655,0.223],[6.303,-0.034],[-0.059,4.649],[-21.323,-0.311]],"v":[[0.23,7.795],[-63.752,7.935],[-70.725,-0.287],[-63.892,-8.02],[64.076,-8.018],[70.716,-0.122],[64.212,7.912]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.880364511527,0.92332907284,0.957121246936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[108.569,152.259],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[24.143,0],[24.14,-0.235],[-0.299,5.678],[-6.57,0.005],[-48.084,-0.032],[-0.386,-7.306],[5.457,0.052]],"o":[[-24.143,0],[-5.466,0.053],[0.385,-7.302],[48.084,-0.031],[6.564,0.004],[0.301,5.687],[-24.141,-0.235]],"v":[[-0.003,7.778],[-72.43,7.88],[-79.775,0.679],[-72.124,-7.902],[72.128,-7.901],[79.773,0.685],[72.424,7.88]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.875381649242,0.920586499981,0.955563294654,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[117.631,43.624],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[29.967,0],[30.168,0.069],[0.996,3.564],[-1.876,3.639],[-2.51,0.002],[-56.716,0.001],[-3.785,0.37],[0.203,-5.42],[8.584,-0.001]],"o":[[-30.168,0],[-2.633,-0.007],[-1.061,-3.793],[1.386,-2.689],[56.715,-0.046],[3.821,0],[5.734,-0.557],[-0.312,8.397],[-29.966,0.001]],"v":[[0.317,7.787],[-90.187,7.743],[-97.544,5.455],[-97.164,-6.33],[-89.912,-7.873],[80.234,-7.909],[91.69,-7.979],[98.838,-0.625],[90.216,7.787]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[135.996,116.047],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[43.648,0.005],[0.006,7.162],[-7.336,0],[-87.297,-0.043],[-0.965,-3.217],[1.627,-3.902],[2.126,-0.003],[32.384,0]],"o":[[-43.647,0],[-8.163,-0.001],[-0.007,-7.363],[87.296,-0.012],[2.466,0.002],[1.2,4.003],[-0.904,2.17],[-32.384,0.048],[0,0]],"v":[[-0.053,7.878],[-130.997,7.876],[-139.266,0.611],[-130.945,-7.81],[130.944,-7.782],[137.83,-5.673],[137.646,6.719],[131.495,7.845],[34.343,7.878]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[177.222,79.738],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-73.814,0],[-73.614,-0.092],[-1.048,-3.519],[1.122,-3.922],[1.471,-0.033],[1.81,0],[146.624,0.001],[-2.765,8.689],[-1.536,0.034],[-1.81,0]],"o":[[73.614,0],[2.55,0.003],[1.118,3.752],[-0.433,1.515],[-1.81,0.04],[-146.624,0.002],[-8.862,0],[0.529,-1.663],[1.81,-0.04],[73.814,-0.002]],"v":[[1.655,-7.032],[222.497,-6.957],[229.942,-5.145],[229.806,6.744],[226.329,8.616],[220.899,8.662],[-218.973,8.663],[-228.295,-4.72],[-225.219,-6.98],[-219.789,-7.03]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.875381649242,0.920586499981,0.955563294654,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[231.31,8.913],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false}],"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":29,"ty":5,"nm":"1. 2","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-74.465,-53.487,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[92.247,92.247,100],"ix":6}},"ao":0,"t":{"d":{"k":[{"s":{"s":20.8999996185303,"f":"OpenSans-Regular","t":"1.","j":0,"tr":0,"lh":25.0799995422363,"ls":0,"fc":[0,0,0]},"t":0}]},"p":{},"m":{"g":1,"a":{"a":0,"k":[0,0],"ix":2}},"a":[]},"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":30,"ty":4,"nm":"icon que baja","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[219.445,-42.294,0],"ix":2},"a":{"a":0,"k":[389.006,42.529,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0.205],[0,0],[0,-0.204],[0,0]],"o":[[0,0],[0,0.205],[0,0],[0,-0.204]],"v":[[-24.48,-0.307],[24.48,-0.307],[24.48,0.307],[-24.48,0.307]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.997958374023,0.99824254653,0.998023717544,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[75.023,28.29],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.27,-5.669],[2.175,-0.631],[1.208,2.599],[0.458,0.469],[-1.404,2.848],[-1.983,0.081]],"o":[[-0.326,1.366],[-2.008,0.581],[-0.261,-0.562],[-1.348,-1.382],[1.058,-2.149],[2.923,-0.12]],"v":[[5.808,0.347],[4.637,4.561],[-0.887,2.723],[-2.225,1.296],[-5.673,-3.144],[0.14,-4.05]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.927441166896,0.919489063936,0.903483671301,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[83.914,58.02],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.092,-4.06],[3.908,0.093],[-0.06,4.156],[-4.201,-0.073]],"o":[[-0.09,4.018],[-4.067,-0.096],[0.062,-4.262],[4.095,0.07]],"v":[[7.181,0.053],[-0.187,7.286],[-7.213,-0.17],[0.047,-7.306]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.961166142482,0.956308222752,0.947330370136,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[75.097,67.093],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[1.644,0.099],[-0.118,1.652],[-1.145,0.018],[-2.968,-0.067],[0.11,-1.901],[1.3,-0.032],[1.32,0]],"o":[[-1.65,0],[-1.113,-0.069],[0.111,-1.543],[2.969,-0.047],[1.249,0.028],[-0.104,1.789],[-1.319,0.033],[0,0]],"v":[[0.17,1.669],[-4.778,1.644],[-7.202,-0.115],[-4.586,-1.708],[4.323,-1.712],[7.21,0.056],[4.13,1.69],[0.17,1.697]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.317654329188,0.287038646025,0.27573260139,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[63.267,50.936],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-4.308,0.001],[-4.142,-0.013],[-0.01,-1.579],[1.143,0.003],[8.616,0.034],[-0.19,1.595],[-0.924,0.007]],"o":[[4.143,-0.002],[1.148,0.004],[0.007,0.998],[-8.616,-0.018],[-1.174,-0.005],[0.161,-1.343],[4.308,-0.038]],"v":[[0.216,-1.373],[12.642,-1.37],[15.279,0.084],[13.07,1.606],[-12.778,1.574],[-15.096,-0.266],[-12.708,-1.355]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.164162714341,0.140012613932,0.141951751709,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[71.303,39.201],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-4.318,0.001],[-4.318,-0.011],[-0.039,-1.326],[1.045,-0.001],[8.801,0.065],[-0.151,1.346],[-0.969,0.004]],"o":[[4.318,0],[1.01,0.002],[0.035,1.22],[-8.802,0.009],[-0.949,-0.007],[0.15,-1.341],[4.318,-0.019]],"v":[[0.107,-1.446],[13.06,-1.441],[15.272,-0.073],[13.225,1.531],[-13.179,1.476],[-15.156,-0.2],[-12.848,-1.437]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.20788566739,0.180479685465,0.18039226158,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[71.302,45.149],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.004,-0.171],[0,0],[0,0.171],[0,0]],"o":[[0,0],[0,-0.171],[0,0],[0.004,0.171]],"v":[[343.3,0.256],[-343.3,0.256],[-343.3,-0.256],[343.289,-0.256]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.810230030733,0.795486869064,0.764521580116,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[434.461,0.507],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-7.831,0.002],[-7.498,0.027],[-1.088,-1.935],[1.476,-1.285],[0.091,-2.042],[0.043,-3.997],[2.156,0.115],[0.013,1.023],[-0.185,4.657],[3.061,-0.045],[12.495,0.101],[-0.03,-2.48],[0.129,-10.659],[-2.358,0.241],[-1.642,-0.197],[0.059,3.287],[-4.354,1.436],[0.456,2.256],[-2.81,-0.265],[-1.166,0],[-0.18,-10.135],[3.694,0.537],[0.091,-2.18],[-1.26,-0.064],[-0.193,9.079],[-2.952,-0.087],[-0.033,-2.031],[11.639,-0.011],[0.995,0.068],[0.561,-1.184],[-0.719,-0.599],[0.826,-1.596],[1.199,0.556],[5.174,-2.416],[0.921,1.964],[-1.039,0.71],[0.42,1.423],[1.358,-0.027],[3.483,-0.229],[-0.041,3.381],[0.013,10.828],[1.427,1.662],[-4.377,0.094]],"o":[[7.498,-0.003],[1.892,-0.007],[1.171,2.083],[-2.004,1.746],[-0.177,3.99],[-0.013,1.231],[-1.84,-0.098],[-0.059,-4.664],[0.104,-2.626],[-12.493,0.182],[-2.321,-0.019],[0.132,10.66],[-0.029,2.456],[1.649,-0.168],[2.903,0.35],[-0.083,-4.671],[1.368,-0.451],[-0.754,-3.738],[1.156,0.108],[10.124,0],[0.068,3.822],[-1.631,-0.237],[-0.113,2.707],[8.84,0.446],[0.042,-1.968],[2.908,0.086],[0.186,11.481],[-1,0.001],[-1.264,-0.087],[-0.914,1.925],[0.967,0.803],[-0.793,1.535],[-5.112,-2.378],[-1.249,0.584],[-0.75,-1.598],[0.719,-0.491],[-0.352,-1.194],[-3.498,0.071],[-3.582,0.234],[0.132,-10.826],[-0.002,-1.776],[-2.769,-3.224],[7.827,-0.169]],"v":[[0.461,-28.155],[22.954,-28.169],[27.702,-26.172],[26.345,-21.435],[25.334,-15.33],[25.266,-3.339],[23.574,-0.492],[22.309,-3.184],[22.335,-17.174],[18.91,-20.919],[-18.577,-20.891],[-21.707,-17.879],[-21.705,14.104],[-18.591,17.115],[-13.601,17.118],[-9.692,13.443],[-2.428,4.393],[0.275,1.845],[4.527,-1.927],[8.025,-1.911],[18.139,8.229],[13.342,12.871],[10.41,15.154],[13.439,17.058],[22.366,8.402],[23.853,2.772],[25.193,8.649],[13.645,20.143],[10.647,20.131],[7.707,21.511],[9.566,23.656],[11.66,26.456],[8.191,26.36],[-7.228,26.24],[-11.062,26.31],[-8.749,23.677],[-6.926,21.828],[-9.609,20.125],[-20.103,20.193],[-24.697,15.5],[-24.655,-16.982],[-26.104,-21.948],[-23.03,-28.104]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.143379031911,0.121264700796,0.123191594143,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[74.697,52.795],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[66.795,0],[67.794,0.002],[0.008,7.232],[-13.59,0],[-133.589,-0.001],[-0.045,-8.624],[12.918,0.006]],"o":[[-67.794,0],[-7.074,0],[-0.015,-13.743],[133.589,0],[8.48,0],[0.068,12.963],[-66.794,-0.036]],"v":[[-1.411,10.13],[-204.794,10.129],[-211.876,2.892],[-198.301,-10.852],[202.467,-10.852],[211.07,-2.111],[198.972,10.147]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[329.869,43.784],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":2,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[91.297,0],[92.962,0.002],[0.008,7.192],[-13.035,0],[0,0],[0.075,-8.198],[13.855,-0.007]],"o":[[-92.962,0],[-7.114,0],[-0.014,-12.797],[0,0],[8.117,0],[-0.126,13.698],[-91.297,0.049]],"v":[[-0.861,9.046],[-279.748,9.045],[-286.87,1.848],[-273.849,-10.949],[276.929,-10.949],[285.034,-2.749],[273.029,9.021]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[404.864,73.859],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 10","np":2,"cix":2,"bm":0,"ix":10,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-8.222,-0.053],[0.098,-8.41],[8.208,0.112],[-0.16,7.849]],"o":[[8.304,0.055],[-0.096,8.22],[-7.973,-0.108],[0.164,-8.068]],"v":[[0.371,-14.549],[14.622,0.153],[-0.061,14.49],[-14.56,-0.279]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.985696171779,0.98383250517,0.980337524414,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.755,52.444],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 11","np":2,"cix":2,"bm":0,"ix":11,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[9.849,0.07],[0.022,9.629],[-9.911,-0.072],[-0.005,-9.538]],"o":[[-9.583,-0.068],[-0.022,-9.754],[9.527,0.068],[0.004,9.681]],"v":[[-0.276,17.556],[-17.671,-0.006],[0.251,-17.554],[17.688,0.019]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.462520704082,0.425947481043,0.410828384699,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.943,52.396],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 12","np":2,"cix":2,"bm":0,"ix":12,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":75.0000030548126,"st":0,"bm":0},{"ddd":0,"ind":31,"ty":4,"nm":"icon paper cuadritos","parent":32,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-44.455,27.227,0],"ix":2},"a":{"a":0,"k":[220.59,229.014,0],"ix":1},"s":{"a":0,"k":[14.937,14.937,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[20.395,20.395],[-20.395,20.395],[-20.395,-20.396],[20.395,-20.396]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[244.747,322.28],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[20.396,20.395],[-20.396,20.395],[-20.396,-20.396],[20.396,-20.396]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[166.329,322.28],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[20.395,20.396],[-20.395,20.396],[-20.395,-20.395],[20.395,-20.395]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[244.747,244.273],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[20.396,20.396],[-20.396,20.396],[-20.396,-20.395],[20.396,-20.395]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[166.329,244.273],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[20.395,20.396],[-20.395,20.396],[-20.395,-20.396],[20.395,-20.396]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[244.747,165.827],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[20.396,20.396],[-20.396,20.396],[-20.396,-20.396],[20.396,-20.396]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[166.329,165.827],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[302.768,341.079],[341.358,341.079]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[302.768,303.525],[341.358,303.525]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[302.768,264.417],[341.358,264.417]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":2,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[302.768,225.309],[341.358,225.309]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 10","np":2,"cix":2,"bm":0,"ix":10,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[302.768,186.201],[341.358,186.201]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 11","np":2,"cix":2,"bm":0,"ix":11,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[302.768,147.093],[341.358,147.093]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 12","np":2,"cix":2,"bm":0,"ix":12,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[16.231,0],[0,0]],"o":[[0,0],[0,-13.122],[0,0],[0,0]],"v":[[159.277,121.382],[159.277,-101.697],[132.687,-121.381],[-159.277,-121.381]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[231.903,180.503],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 13","np":2,"cix":2,"bm":0,"ix":13,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,-24.515],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,-29.352],[0,24.515],[0,0],[0,0],[0,0]],"v":[[-144,-91.158],[-170.59,-91.158],[-170.59,-149.662],[-123.625,-149.662],[-121.554,179.014],[170.59,179.014],[170.59,107.058]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[220.59,229.014],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 14","np":2,"cix":2,"bm":0,"ix":14,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":32,"ty":4,"nm":"blue lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[148.4,-144.879,0],"ix":2},"a":{"a":0,"k":[157.317,41.229,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":206,"s":[100,100,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":212,"s":[104.5,104.5,100]},{"t":218.000008879322,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[70.123,-0.172],[-0.133,5.124],[-13.553,0],[0,0],[-0.003,-7.644],[12.458,0]],"o":[[-70.123,0],[-5.049,0.013],[0.359,-13.771],[0,0],[7.667,0],[0.004,12.357],[0,0]],"v":[[-0.224,9.937],[-210.594,10.053],[-216.974,3.712],[-203.313,-10.066],[209.433,-10.066],[217.103,-2.42],[204.649,9.937]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[218.185,39.309],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-82.133,-0.002],[-0.006,-7.196],[13.036,0],[0,0],[0.003,7.703],[-12.529,0]],"o":[[82.134,0],[7.11,0],[0.009,12.792],[0,0],[-7.613,0],[-0.003,-12.289],[0,0]],"v":[[-0.047,-9.997],[246.354,-9.996],[253.471,-2.794],[240.445,9.998],[-245.861,9.998],[-253.476,2.292],[-240.951,-9.997]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[254.816,10.248],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-92.95,-0.001],[-0.005,-7.322],[13.662,0],[183.901,0.001],[0.073,7.795],[-12.325,0]],"o":[[92.949,0],[7.492,0],[0.008,13.66],[-183.9,0],[-7.721,0],[-0.117,-12.433],[0,0]],"v":[[0.66,-10.493],[279.509,-10.492],[287.006,-3.167],[273.352,10.493],[-278.348,10.492],[-286.898,1.94],[-274.69,-10.493]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[287.264,68.727],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":34,"ty":0,"nm":"green check","parent":71,"refId":"comp_8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-151.938,-505.792,0],"ix":2},"a":{"a":0,"k":[26.5,21,0],"ix":1},"s":{"a":0,"k":[162.556,162.556,100],"ix":6}},"ao":0,"w":53,"h":42,"ip":515.00002097638,"op":2352.00009579892,"st":515.00002097638,"bm":0},{"ddd":0,"ind":35,"ty":0,"nm":"green check","parent":71,"refId":"comp_8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-109.878,-158.242,0],"ix":2},"a":{"a":0,"k":[26.5,21,0],"ix":1},"s":{"a":0,"k":[162.556,162.556,100],"ix":6}},"ao":0,"w":53,"h":42,"ip":515.00002097638,"op":2352.00009579892,"st":515.00002097638,"bm":0},{"ddd":0,"ind":36,"ty":4,"nm":"desactivated circle","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-109.052,-158.331,0],"ix":2},"a":{"a":0,"k":[17.78,17.798,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[8.101,-0.062],[-0.002,8.115],[-8.117,-0.059],[-0.129,-7.708]],"o":[[-8.119,0.062],[0.002,-8.116],[7.7,0.056],[0.136,8.08]],"v":[[0.04,14.487],[-14.563,0],[0.04,-14.49],[14.428,-0.219]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.954082414216,0.950793935738,0.941525567747,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.845,17.765],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.019,10.319],[-9.9,-0.014],[-0.019,-9.41],[9.827,0.082]],"o":[[0.017,-9.641],[9.409,0.015],[0.019,9.751],[-9.997,-0.085]],"v":[[-17.51,-0.485],[0.056,-17.534],[17.511,-0.083],[-0.293,17.466]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.826144349341,0.813032023112,0.783266314338,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.779,17.798],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":515.00002097638,"st":0,"bm":0},{"ddd":0,"ind":37,"ty":0,"nm":"green check","parent":71,"refId":"comp_8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-110.763,-367.647,0],"ix":2},"a":{"a":0,"k":[26.5,21,0],"ix":1},"s":{"a":0,"k":[162.556,162.556,100],"ix":6}},"ao":0,"w":53,"h":42,"ip":69.0000028104276,"op":1906.00007763297,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":38,"ty":4,"nm":"circle","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-110.589,-367.746,0],"ix":2},"a":{"a":0,"k":[18.014,17.997,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-8.09,0.081],[-0.075,-8.337],[8.026,-0.115],[0.212,7.892]],"o":[[8.44,-0.084],[0.073,8.213],[-7.795,0.112],[-0.213,-7.898]],"v":[[-0.034,-14.603],[14.662,-0.358],[0.402,14.574],[-14.522,0.074]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.985696171779,0.98383250517,0.980337524414,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.754,18.195],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[9.491,-0.057],[-0.064,9.747],[-9.496,0.1],[0.122,-9.496]],"o":[[-9.682,0.058],[0.062,-9.399],[9.447,-0.1],[-0.121,9.461]],"v":[[0.014,17.689],[-17.701,-0.158],[-0.103,-17.648],[17.642,0.233]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.462520704082,0.425947481043,0.410828384699,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18.014,17.998],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":39,"ty":0,"nm":"green check","parent":71,"refId":"comp_8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-110.763,-266.27,0],"ix":2},"a":{"a":0,"k":[26.5,21,0],"ix":1},"s":{"a":0,"k":[162.556,162.556,100],"ix":6}},"ao":0,"w":53,"h":42,"ip":114.000004643315,"op":1951.00007946586,"st":114.000004643315,"bm":0},{"ddd":0,"ind":40,"ty":4,"nm":"circle","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-110.641,-266.621,0],"ix":2},"a":{"a":0,"k":[18.002,17.952,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.035,-8.354],[8.005,-0.02],[0.117,7.89],[-8.102,0.038]],"o":[[0.035,8.16],[-7.885,0.021],[-0.118,-7.935],[8.357,-0.04]],"v":[[14.633,-0.153],[0.263,14.596],[-14.55,0.027],[0.075,-14.577]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.985696171779,0.98383250517,0.980337524414,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.821,17.967],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-9.642,0.056],[0.053,-9.726],[9.329,-0.048],[-0.104,9.678]],"o":[[9.645,-0.055],[-0.049,9.219],[-9.586,0.05],[0.102,-9.522]],"v":[[0.007,-17.647],[17.698,0.189],[0.026,17.652],[-17.648,-0.295]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.462520704082,0.425947481043,0.410828384699,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18.001,17.952],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":115.000004684046,"st":0,"bm":0},{"ddd":0,"ind":42,"ty":0,"nm":"green check 2","parent":71,"refId":"comp_9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[465.698,-591.331,0],"ix":2},"a":{"a":0,"k":[26.5,21,0],"ix":1},"s":{"a":0,"k":[115.394,115.394,100],"ix":6}},"ao":0,"w":53,"h":42,"ip":438.000017840106,"op":1915.00007799955,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":45,"ty":0,"nm":"green check 2","parent":71,"refId":"comp_9","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[300.409,-591.331,0],"ix":2},"a":{"a":0,"k":[26.5,21,0],"ix":1},"s":{"a":0,"k":[115.394,115.394,100],"ix":6}},"ao":0,"w":53,"h":42,"ip":69.0000028104276,"op":436.000017758644,"st":69.0000028104276,"bm":0},{"ddd":0,"ind":46,"ty":4,"nm":"icon paper lineas 2","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-54.031,-371.749,0],"ix":2},"a":{"a":0,"k":[220.59,229.014,0],"ix":1},"s":{"a":0,"k":[14.937,14.937,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[254.777,353.338],[352.505,353.338]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,313.281],[352.504,313.281]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,273.568],[352.504,273.568]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,235.183],[352.504,235.183]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,197.25],[352.504,197.25]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,127.151],[271.353,127.151]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[16.231,0],[0,0]],"o":[[0,0],[0,-13.122],[0,0],[0,0]],"v":[[159.277,121.381],[159.277,-101.698],[132.687,-121.381],[-159.277,-121.381]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[231.903,180.504],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,-24.515],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,-29.353],[0,24.515],[0,0],[0,0],[0,0]],"v":[[-144,-91.159],[-170.59,-91.159],[-170.59,-149.662],[-123.626,-149.662],[-121.554,179.014],[170.59,179.014],[170.59,107.057]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[220.59,229.015],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":47,"ty":4,"nm":"icon paper lineas","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-54.031,-268.687,0],"ix":2},"a":{"a":0,"k":[220.59,229.014,0],"ix":1},"s":{"a":0,"k":[14.937,14.937,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[254.777,353.338],[352.505,353.338]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,313.281],[352.504,313.281]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,273.568],[352.504,273.568]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,235.183],[352.504,235.183]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,197.25],[352.504,197.25]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[137.712,127.151],[271.353,127.151]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[16.231,0],[0,0]],"o":[[0,0],[0,-13.122],[0,0],[0,0]],"v":[[159.277,121.381],[159.277,-101.698],[132.687,-121.381],[-159.277,-121.381]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[231.903,180.504],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,-24.515],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,-29.353],[0,24.515],[0,0],[0,0],[0,0]],"v":[[-144,-91.159],[-170.59,-91.159],[-170.59,-149.662],[-123.626,-149.662],[-121.554,179.014],[170.59,179.014],[170.59,107.057]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026204236348,0.02182188969,0.023235448201,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":20,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[220.59,229.015],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":50,"ty":4,"nm":"blue lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[204.407,-320.862,0],"ix":2},"a":{"a":0,"k":[212.253,61.189,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[66.788,0],[67.955,0.001],[0.009,6.904],[-12.883,0],[0,0],[-0.054,-7.973],[12.519,0.007]],"o":[[-67.955,0],[-6.899,-0.001],[-0.019,-13.09],[0,0],[7.843,0],[0.084,12.648],[-66.789,-0.039]],"v":[[-1.047,9.692],[-204.911,9.691],[-211.819,2.779],[-198.955,-10.311],[203.276,-10.311],[211.131,-2.336],[199.319,9.711]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[212.088,10.562],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-68.121,-0.002],[-0.025,-7.215],[13.595,0.002],[134.243,0.001],[0.002,7.653],[-12.12,0]],"o":[[68.121,0],[7.092,0],[0.047,13.689],[-134.242,-0.02],[-7.662,0],[-0.005,-12.348],[0,0]],"v":[[-0.51,-10.456],[203.851,-10.454],[210.952,-3.233],[198.4,9.561],[-204.327,9.548],[-211.991,1.892],[-199.876,-10.456]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[212.259,111.672],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":51,"ty":4,"nm":"blue lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[234.313,-484.367,0],"ix":2},"a":{"a":0,"k":[288.07,40.615,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[66.462,0],[67.96,0.001],[0.009,7.158],[-14.018,0],[-133.422,-0.001],[-0.046,-8.56],[13.32,0.005]],"o":[[-67.96,0],[-7.149,0],[-0.017,-13.817],[133.422,0],[8.566,0],[0.071,13.256],[-66.461,-0.025]],"v":[[-0.824,10.021],[-204.704,10.02],[-211.863,2.856],[-197.862,-10.961],[202.405,-10.96],[211.083,-2.295],[198.559,10.032]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[214.053,11.211],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[91.63,0],[0,0],[-0.08,7.79],[-14.048,0.003],[-183.76,0],[0.074,-8.291],[13.388,-0.006]],"o":[[0,0],[-8.029,0],[0.147,-14.197],[183.759,-0.04],[8.531,0],[-0.118,13.467],[-91.631,0.042]],"v":[[-0.459,10.116],[-277.848,10.116],[-285.865,2.324],[-273.772,-9.861],[277.507,-9.887],[286.024,-1.595],[274.432,10.094]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[288.07,69.108],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-91.63,0],[-92.63,0],[-0.005,-7.298],[12.624,0],[0,0],[-0.071,8.298],[-13.375,0.007]],"o":[[92.63,0],[7.513,0],[0.008,12.698],[0,0],[-8.52,0],[0.116,-13.482],[91.63,-0.042]],"v":[[1.424,-9.11],[279.314,-9.11],[286.832,-1.808],[274.217,10.89],[-276.564,10.89],[-285.072,2.591],[-273.466,-9.087]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[287.276,39.333],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":52,"ty":4,"nm":"filling circle","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-151.719,-505.442,0],"ix":2},"a":{"a":0,"k":[-343.25,-0.75,0],"ix":1},"s":{"a":0,"k":[97.747,97.747,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":78,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-316.681,14.455],[-365.657,14.455],[-365.657,33.661],[-316.681,33.661]],"c":true}]},{"t":79.000003217736,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-316.681,-1.99],[-365.657,-1.99],[-365.657,33.661],[-316.681,33.661]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[25.5,25.5],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.322875797047,0.322875797047,0.322875797047,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-343.25,-0.75],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":515.00002097638,"st":0,"bm":0},{"ddd":0,"ind":53,"ty":4,"nm":"black circle","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-151.591,-505.283,0],"ix":2},"a":{"a":0,"k":[18.031,17.83,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.083,-8.29],[8.148,-0.135],[0.142,7.92],[-8.083,0.116]],"o":[[0.083,8.258],[-7.936,0.132],[-0.143,-7.958],[8.289,-0.12]],"v":[[14.611,-0.258],[0.373,14.559],[-14.55,0.17],[-0.057,-14.571]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.985696171779,0.98383250517,0.980337524414,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17.824,17.825],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-9.771,0.041],[0.124,-9.773],[9.502,-0.01],[-0.085,9.776]],"o":[[9.822,-0.041],[-0.119,9.427],[-9.74,0.01],[0.084,-9.583]],"v":[[-0.033,-17.539],[17.656,0.213],[-0.04,17.57],[-17.695,-0.289]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.462520704082,0.425947481043,0.410828384699,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18.03,17.83],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":515.00002097638,"st":0,"bm":0},{"ddd":0,"ind":54,"ty":4,"nm":"purple clock","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[477.281,-591.775,0],"ix":2},"a":{"a":0,"k":[12.16,12.217,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-1.942,-4.613],[-1.942,1.116],[1.942,4.613]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.580196904201,0.189946073644,0.581678682215,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[14.325,11.016],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-4.773,0.105],[-0.026,-4.598],[4.479,-0.24],[0.113,4.692]],"o":[[4.593,-0.101],[0.025,4.399],[-4.709,0.253],[-0.117,-4.788]],"v":[[-0.132,-8.902],[8.917,-0.091],[0.428,8.749],[-8.824,0.23]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.966032379749,0.912648399203,0.954579372032,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.148,12.35],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.054,-6.328],[6.394,-0.02],[0.087,6.388],[-6.499,-0.129]],"o":[[-0.054,6.409],[-6.345,0.02],[-0.089,-6.531],[6.298,0.125]],"v":[[11.856,0.165],[0.039,11.946],[-11.82,0.208],[0.239,-11.837]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.580196904201,0.189946073644,0.581678682215,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12.16,12.217],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":436.000017758644,"st":0,"bm":0},{"ddd":0,"ind":56,"ty":4,"nm":"grey lines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[202.285,-313.328,0],"ix":2},"a":{"a":0,"k":[406.633,312.954,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"fl","c":{"a":0,"k":[0.181730801451,0.156003136728,0.156628627403,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[780.092,105.097],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":1,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.042,-0.159],[0,0],[0,0.16],[0,0]],"o":[[0,0],[0,-0.159],[0,0],[0.043,0.16]],"v":[[344.283,0.239],[-344.282,0.239],[-344.283,-0.239],[344.156,-0.239]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.810230030733,0.795486869064,0.764521580116,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[468.327,408.987],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.029,0.172],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0.029,-0.172]],"v":[[-344.233,-0.258],[344.322,-0.258],[344.322,0.258],[-344.322,0.258]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.810230030733,0.795486869064,0.764521580116,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[468.267,305.931],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.333,-0.002],[0,0],[-0.333,0],[0,0]],"o":[[0,0],[0.333,0],[0,0],[-0.333,0.002]],"v":[[-0.499,312.704],[-0.499,-312.703],[0.499,-312.704],[0.499,312.7]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.859846526501,0.852124442306,0.825413961972,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.749,312.955],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.002,-0.328],[0,0],[0.001,0.328],[0,0]],"o":[[0,0],[0,-0.328],[0,0],[0.002,0.328]],"v":[[365.257,0.492],[-365.256,0.492],[-365.257,-0.492],[365.249,-0.492]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.859846526501,0.852124442306,0.825413961972,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[447.759,203.582],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.006,-0.333],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[-0.006,0.333]],"v":[[392.244,0.499],[-392.261,0.499],[-392.261,-0.499],[392.261,-0.499]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.859846526501,0.852124442306,0.825413961972,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[416.749,70.572],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":58,"ty":4,"nm":"announcement Outlines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-572.907,-174.136,0],"ix":2},"a":{"a":0,"k":[12,12,0],"ix":1},"s":{"a":0,"k":[140.134,140.134,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-4,0.25],[-2.5,3.25],[4,-0.75],[2,-3.25]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":3,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[15,18.75],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-3.207,-1.793],[1.793,3.207],[3.207,1.793],[-1.793,-3.207]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-0.391,0.391],[0.391,0.391]],"o":[[0.391,0.391],[0.391,-0.391],[0,0]],"v":[[1.793,3.207],[3.207,3.207],[3.207,1.793]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0.391,-0.391],[-0.391,-0.391]],"o":[[-0.391,-0.391],[-0.391,0.391],[0,0]],"v":[[-1.793,-3.207],[-3.207,-3.207],[-3.207,-1.793]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[6.5,17.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":5,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1,1],[1,1],[1,-1],[-1,-1]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0.552],[0.553,0]],"o":[[0.553,0],[0,-0.552],[0,0]],"v":[[1,1],[2,0],[1,-1]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0,-0.552],[-0.553,0]],"o":[[-0.553,0],[0,0.552],[0,0]],"v":[[-1,-1],[-2,0],[-1,1]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[22,7],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":5,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[1,-1],[-1,-1],[-1,1],[1,1]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[1,1]],"c":false},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0.553,0],[0,-0.552]],"o":[[0,-0.552],[-0.553,0],[0,0]],"v":[[1,-1],[0,-2],[-1,-1]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[0,0],[-0.553,0],[0,0.552]],"o":[[0,0.552],[0.553,0],[0,0]],"v":[[-1,1],[0,2],[1,1]],"c":true},"ix":2},"nm":"Path 4","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[17,2],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":6,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[0.293,-1.707],[-1.707,0.293],[-0.293,1.707],[1.707,-0.293]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[-0.391,-0.391],[-0.391,0.391]],"o":[[-0.391,0.39],[0.391,0.391],[0,0]],"v":[[-1.707,0.293],[-1.707,1.707],[-0.293,1.707]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[0.391,0.39],[0.391,-0.391]],"o":[[0.391,-0.391],[-0.391,-0.391],[0,0]],"v":[[1.707,-0.293],[1.707,-1.707],[0.293,-1.707]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[21,3],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":5,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-6,-6],[6,6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[17,7],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[0.5,-10.499],[-7.5,2.501],[-10.5,5.501],[-5.501,10.499],[-2.501,7.499],[10.5,-0.499]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[11.5,12.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":59,"ty":4,"nm":"attendance Outlines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-574.136,-259.382,0],"ix":2},"a":{"a":0,"k":[12,12,0],"ix":1},"s":{"a":0,"k":[140.134,140.134,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1,2],[1,2],[1,-2],[-1,-2]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[-1,-2]],"c":false},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[-0.553,0],[0,0.552]],"o":[[0,0.552],[0.553,0],[0,0]],"v":[[-1,2],[0,3],[1,2]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[0,0],[0.553,0],[0,-0.552]],"o":[[0,-0.552],[-0.553,0],[0,0]],"v":[[1,-2],[0,-3],[-1,-2]],"c":true},"ix":2},"nm":"Path 4","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18,3],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":6,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1,2],[1,2],[1,-2],[-1,-2]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[-1,-2]],"c":false},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[-0.552,0],[0,0.552]],"o":[[0,0.552],[0.552,0],[0,0]],"v":[[-1,2],[0,3],[1,2]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ind":3,"ty":"sh","ix":4,"ks":{"a":0,"k":{"i":[[0,0],[0.552,0],[0,-0.552]],"o":[[0,-0.552],[-0.552,0],[0,0]],"v":[[1,-2],[0,-3],[-1,-2]],"c":true},"ix":2},"nm":"Path 4","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[6,3],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":6,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-1,0],[-0.333,1],[1,-1]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[19,17],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-2.209,0],[0,0],[0,-2.209],[2.209,0],[0,2.209]],"o":[[0,0],[2.209,0],[0,2.209],[-2.209,0],[0,-2.209]],"v":[[0,-4],[0,-4],[4,0],[0,4],[-4,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[19,17],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[9,3],[15,3]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1,-0.5],[1,-0.5],[1,0.5],[-1,0.5]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[6,17.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.5,-0.5],[0.5,-0.5],[0.5,0.5],[-0.5,0.5]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[11.5,17.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1,-0.5],[1,-0.5],[1,0.5],[-1,0.5]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[12,12.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-1,-0.5],[1,-0.5],[1,0.5],[-1,0.5]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[6,12.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":2,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[1,8],[23,8]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 10","np":2,"cix":2,"bm":0,"ix":10,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[9,-10],[11,-10],[11,-2]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-9,-10],[-11,-10],[-11,10],[2,10]],"c":false},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[12,13],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 11","np":4,"cix":2,"bm":0,"ix":11,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":60,"ty":4,"nm":"video Outlines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-573.726,-344.218,0],"ix":2},"a":{"a":0,"k":[298,421,0],"ix":1},"s":{"a":0,"k":[140.134,140.134,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[2.634,-6.496],[2.634,6.497],[-2.634,2.957],[-2.634,-3.129]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.008000000785,0.008000000785,0.008000000785,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[306.576,421.077],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-8.504,-6.583],[-8.504,6.842],[8.503,6.842],[8.503,-2.741],[8.503,-6.842]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.008000000785,0.008000000785,0.008000000785,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[295.439,420.948],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":61,"ty":4,"nm":"information Outlines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-573.726,-429.054,0],"ix":2},"a":{"a":0,"k":[12,12,0],"ix":1},"s":{"a":0,"k":[140.134,140.134,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[10,18],[14,18]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-1,-4.5],[1,-4.5],[1,4.5]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[11,13.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.276,0],[0,0.276],[0.276,0],[0,-0.276]],"o":[[0.276,0],[0,-0.276],[-0.276,0],[0,0.276]],"v":[[0,0.5],[0.5,0],[0,-0.5],[-0.5,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":1,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[12,6],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-6.075,0],[0,6.075],[6.075,0],[0,-6.075]],"o":[[6.075,0],[0,-6.075],[-6.075,0],[0,6.075]],"v":[[0,11],[11,0],[0,-11],[-11,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[12,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":62,"ty":4,"nm":"multi-account Outlines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-573.726,-513.89,0],"ix":2},"a":{"a":0,"k":[12,12,0],"ix":1},"s":{"a":0,"k":[140.134,140.134,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,-2]],"o":[[2,0],[0,0]],"v":[[-2,-2],[2,2]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[8,16],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-10,-8.5],[10,-8.5],[10,8.5]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[13,10.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[13,16],[16,16]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12,13],[16,13]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12,10],[16,10]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.381,0],[0,-1.381],[1.381,0],[0,1.38]],"o":[[1.381,0],[0,1.38],[-1.381,0],[0,-1.381]],"v":[[0,-2.5],[2.5,0],[0,2.5],[-2.5,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[6.5,11.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-9,-7.5],[9,-7.5],[9,7.5],[-9,7.5]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.149000010771,0.149000010771,0.149000010771,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[10,13.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":63,"ty":4,"nm":"edit-tool Outlines","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-572.087,-90.12,0],"ix":2},"a":{"a":0,"k":[298,421,0],"ix":1},"s":{"a":0,"k":[140.134,140.134,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[2.72,-2.546],[-2.978,2.719],[-3.669,4.1],[-0.95,1.079],[2.116,2.547],[1.727,1.813],[-1.555,1.079],[1.045,-1.164]],"o":[[0,0],[-2.719,2.547],[2.979,-2.72],[2.374,2.115],[0.949,-1.079],[-2.331,2.547],[-1.727,-1.813],[-2.245,-2.978],[-2.676,2.978]],"v":[[-0.068,-3.259],[-9.692,6.237],[-5.375,9.95],[3.753,0.213],[9.863,-1.144],[10.294,-7.144],[4.683,-4.079],[7.403,-9.691],[1.273,-8.568]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[297.705,420.602],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":64,"ty":4,"nm":"interfaz icons","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-418.2,-337.009,0],"ix":2},"a":{"a":0,"k":[190.224,272.363,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-0.333],[0,0],[0,0.333],[0,0]],"o":[[0,0],[0,-0.333],[0,0],[0.001,0.333]],"v":[[189.78,0.499],[-189.779,0.499],[-189.78,-0.499],[189.779,-0.499]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.859846526501,0.852124442306,0.825413961972,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[190.418,53.684],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 38","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-8.649,0],[-11.139,0.256],[0.406,-4.271],[0.016,-2.495],[5.705,-0.006],[21.623,0.02],[0.048,5.879],[-13.14,0]],"o":[[11.145,0],[4.477,-0.103],[-0.234,2.472],[-0.038,5.893],[-21.623,0.021],[-5.734,-0.006],[-0.109,-13.251],[8.649,0]],"v":[[-0.181,-9.913],[33.25,-9.997],[38.864,-4.167],[38.819,3.313],[32.28,10.078],[-32.59,10.078],[-39.16,3.339],[-26.13,-9.913]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[109.114,83.542],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 39","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[18.14,-0.2],[-0.402,4.312],[0.185,2.65],[-4.635,-0.014],[-35.953,0.146],[0.022,-4.284],[14.159,0]],"o":[[-18.143,-0.001],[-4.439,0.049],[0.247,-2.639],[-0.337,-4.833],[35.953,0.107],[4.45,-0.018],[-0.072,14.281],[0,0]],"v":[[0.191,9.986],[-54.237,10.069],[-59.888,4.267],[-59.875,-3.715],[-53.312,-10.077],[54.547,-10.1],[60.224,-4.296],[46.131,9.986]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[129.795,336.568],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 40","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[19.466,0.012],[-0.001,6.548],[-15,-0.004],[-36.603,-0.003],[-0.226,-6.491],[13.258,0]],"o":[[-19.465,0],[-6.42,-0.003],[0.003,-15.051],[36.602,0.008],[6.379,0.001],[0.459,13.22],[0,0]],"v":[[0.499,11.14],[-57.898,11.135],[-64.983,3.904],[-51.434,-9.848],[58.373,-9.844],[65.975,-2.359],[52.907,11.14]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[134.94,450.359],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 41","np":2,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[23.141,-0.178],[-0.094,4.779],[-15.734,0.003],[-43.787,0.163],[0.107,-5.213],[13.652,0]],"o":[[-23.142,0],[-4.448,0.033],[0.312,-15.765],[43.788,-0.008],[4.897,-0.018],[-0.282,13.7],[0,0]],"v":[[0.172,10.718],[-69.255,10.801],[-75.383,4.931],[-61.188,-9.279],[70.175,-9.376],[76.815,-2.986],[63.107,10.718]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[145.24,278.85],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 42","np":2,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[24.139,-0.209],[-0.119,5.248],[-15.025,-0.002],[-45.785,-0.002],[-0.013,-6.768],[13.1,0]],"o":[[-24.142,0],[-4.866,0.042],[0.338,-15.061],[45.786,0.006],[7.023,0.001],[0.027,13.227],[0,0]],"v":[[0.692,10.598],[-71.731,10.694],[-78.393,4.325],[-64.697,-9.408],[72.66,-9.405],[79.696,-2.629],[66.623,10.598]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[148.234,420.927],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 43","np":2,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-22.477,0],[-23.973,0.208],[0.109,-5.266],[13.612,0],[45.619,0.004],[-0.076,7.271],[-14.018,0.061]],"o":[[23.975,0],[4.847,-0.042],[-0.288,13.741],[-45.62,0],[-7.094,-0.001],[0.149,-14.2],[22.476,-0.097]],"v":[[1.368,-9.025],[73.294,-9.12],[79.97,-2.766],[66.303,10.98],[-70.556,10.978],[-78.109,3.218],[-66.062,-8.999]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[148.077,504.506],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 44","np":2,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-27.474,0],[-29.305,0.186],[0.111,-5.285],[13.606,0],[55.947,0.002],[-0.076,7.257],[-14.007,0.046]],"o":[[29.305,0],[4.828,-0.031],[-0.29,13.748],[-55.946,0],[-7.107,-0.001],[0.147,-14.202],[27.473,-0.089]],"v":[[0.855,-9.026],[88.771,-9.118],[95.461,-2.779],[81.799,10.974],[-86.041,10.973],[-93.609,3.228],[-81.566,-9]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[163.577,167.626],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 45","np":2,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-31.141,0],[-32.973,-0.005],[-0.098,-6.486],[12.84,-0.012],[63.782,0.001],[0.026,7.865],[-14.078,-0.011]],"o":[[32.974,0],[6.551,0.001],[0.248,16.298],[-63.781,0.056],[-7.831,0],[-0.046,-13.905],[31.141,0.022]],"v":[[0.377,-11.312],[99.297,-11.31],[106.878,-3.877],[93.418,9.644],[-97.926,9.668],[-106.08,1.484],[-93.047,-11.319]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.877391441196,0.922250665403,0.956473436543,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[176.029,366.862],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 46","np":2,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-36.805,-0.006],[-0.018,-6.415],[-0.262,-2.637],[4.256,0.013],[38.971,0],[34.641,0.006],[0.018,6.895],[-12.792,0]],"o":[[36.805,0],[6.359,0.001],[0.007,2.665],[0.448,4.496],[-38.969,-0.125],[-34.639,0],[-6.846,-0.001],[-0.033,-12.556],[0,0]],"v":[[-0.04,-10.042],[110.375,-10.039],[116.754,-3.603],[116.803,4.384],[111.001,10.031],[-5.909,9.958],[-109.829,9.955],[-117.218,2.514],[-104.459,-10.042]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[187.171,250.614],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 47","np":2,"cix":2,"bm":0,"ix":10,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[43.302,0],[44.967,0.005],[0.01,6.72],[-14.318,-0.002],[-87.27,-0.001],[0.07,-7.958],[13.333,-0.019]],"o":[[-44.967,0],[-6.57,0],[-0.021,-14.385],[87.27,0.013],[7.796,0],[-0.119,13.505],[-43.302,0.059]],"v":[[-0.247,9.687],[-135.149,9.684],[-141.732,2.948],[-128.673,-10.324],[133.137,-10.316],[141.202,-2.068],[129.659,9.665]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[211.686,112.943],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 48","np":2,"cix":2,"bm":0,"ix":11,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-43.634,0],[-44.467,-0.003],[-0.014,-6.755],[13.102,0],[87.268,0.002],[0.059,7.966],[-12.247,-0.015]],"o":[[44.466,0.001],[7.043,0],[0.024,13.231],[-87.268,0],[-7.781,0],[-0.09,-12.228],[43.634,0.055]],"v":[[1.334,-9.752],[134.734,-9.75],[141.791,-2.987],[128.713,10.244],[-133.091,10.243],[-141.169,1.983],[-129.568,-9.773]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[211.111,534.232],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 49","np":2,"cix":2,"bm":0,"ix":12,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[44.966,-0.16],[-0.114,5.213],[-15.048,0],[-87.27,-0.001],[-0.005,-7.304],[12.625,0]],"o":[[-44.968,0],[-4.9,0.018],[0.331,-15.056],[87.271,0.002],[7.509,0],[0.009,12.692],[0,0]],"v":[[0.659,10.623],[-134.243,10.718],[-140.879,4.32],[-127.143,-9.378],[134.668,-9.375],[142.182,-2.068],[129.566,10.623]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87438103171,0.920223520316,0.955345303405,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[210.719,196.972],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 50","np":2,"cix":2,"bm":0,"ix":13,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":65,"ty":4,"nm":"Shape Layer 4","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[940.526,-250.366,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[163.934,163.934,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":69,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-378.065,-225.166],[-399.824,-225.357],[-399.824,-188.33],[-378.638,-189.093]],"c":true}]},{"t":89.0000036250443,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-291.032,-225.357],[-399.824,-225.357],[-399.824,-188.33],[-291.032,-188.33]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[80.125,17.25],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2.6,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87450986376,0.921568687289,0.956862804936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-337.063,-207.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":353.000014377985,"st":0,"bm":0},{"ddd":0,"ind":66,"ty":4,"nm":"Shape Layer 5","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1103.597,-250.366,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[163.934,163.934,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[80.125,17.25],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2.6,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87450986376,0.921568687289,0.956862804936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-337.063,-207.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":424.000017269874,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":67,"ty":4,"nm":"Shape Layer 3","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1120.126,-250.366,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[163.934,163.934,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[80.125,17.25],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2.6,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87450986376,0.921568687289,0.956862804936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-337.063,-207.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":424.000017269874,"st":0,"bm":0},{"ddd":0,"ind":68,"ty":4,"nm":"Shape Layer 2","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[438.978,-250.366,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[163.934,163.934,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[121.125,17.25],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2.6,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87450986376,0.921568687289,0.956862804936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-315.563,-207.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":69,"ty":4,"nm":"Shape Layer 1","parent":71,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[14.388,-250.366,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[163.934,163.934,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[105.125,17.25],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":2.6,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.87450986376,0.921568687289,0.956862804936,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-327.563,-207.25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":1837.00007482254,"st":0,"bm":0},{"ddd":0,"ind":71,"ty":3,"nm":"Null 3","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"s":true,"x":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":43.493,"s":[381.223]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":67.493,"s":[229.723]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":161.493,"s":[229.723]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":190,"s":[197.723]},{"t":232,"s":[197.723],"h":1},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":233,"s":[143.723]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":276,"s":[143.723]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":394.493,"s":[143.723]},{"t":449,"s":[143.723],"h":1},{"t":450.000018328876,"s":[204.723],"h":1}],"ix":3},"y":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":43.493,"s":[382.723]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":67.493,"s":[509.723]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":161.493,"s":[509.723]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":190,"s":[564.723]},{"t":232,"s":[564.723],"h":1},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":233,"s":[113.586]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":276,"s":[113.586]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":394.493,"s":[-363.277]},{"t":449,"s":[-363.277],"h":1},{"t":450.000018328876,"s":[526.723],"h":1}],"ix":4}},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":44,"s":[61,61,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":68,"s":[79.9,79.9,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":162,"s":[79.9,79.9,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":190,"s":[133.9,133.9,100]},{"t":232,"s":[133.9,133.9,100],"h":1},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":233,"s":[114.741,114.741,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":276,"s":[114.741,114.741,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":395,"s":[134.5,134.5,100]},{"t":449,"s":[134.5,134.5,100],"h":1},{"t":450.000018328876,"s":[84.7,84.7,100],"h":1}],"ix":6}},"ao":0,"ip":0,"op":1837.00007482254,"st":0,"bm":0}],"markers":[{"tm":68.0000027696968,"cm":"","dr":0},{"tm":232.000009449554,"cm":"","dr":0},{"tm":600.000024438501,"cm":"end","dr":0}],"chars":[{"ch":"C","size":15.3000001907349,"style":"Regular","w":63.09,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-5.404,-2.539],[0,0],[7.487,0],[5.192,-2.995],[2.75,-5.534],[0,-7.356],[-5.713,-6.38],[-10.515,0],[-4.948,1.855],[0,0],[4.98,0],[4.378,5.095],[0,9.343],[-4.541,5.225],[-7.845,0]],"o":[[0,0],[-5.599,-2.734],[-7.031,0],[-5.193,2.995],[-2.751,5.534],[0,11.752],[5.713,6.38],[7.259,0],[0,0],[-6.38,1.791],[-8.105,0],[-4.379,-5.094],[0,-9.082],[4.541,-5.225],[5.403,0]],"v":[[56.592,-61.182],[60.107,-68.311],[40.479,-72.412],[22.144,-67.92],[10.229,-55.127],[6.104,-35.791],[14.673,-8.594],[39.014,0.977],[57.324,-1.807],[57.324,-9.082],[40.283,-6.396],[21.558,-14.038],[14.99,-35.693],[21.802,-57.153],[40.381,-64.99]],"c":true},"ix":2},"nm":"C","mn":"ADBE Vector Shape - Group","hd":false}],"nm":"C","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"},{"ch":"A","size":15.3000001907349,"style":"Regular","w":63.28,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[63.281,0],[35.205,-71.68],[28.223,-71.68],[0,0],[8.398,0],[17.188,-22.705],[45.801,-22.705],[54.688,0]],"c":true},"ix":2},"nm":"A","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[-0.716,3.125],[-1.074,-2.799],[0,0]],"o":[[0,0],[1.334,-3.743],[1.139,4.07],[0,0],[0,0]],"v":[[20.117,-30.176],[28.516,-52.295],[31.592,-62.598],[34.912,-52.295],[43.213,-30.176]],"c":true},"ix":2},"nm":"A","mn":"ADBE Vector Shape - Group","hd":false}],"nm":"A","np":5,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"},{"ch":"B","size":15.3000001907349,"style":"Regular","w":64.79,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[-4.314,3.581],[0,6.38],[10.84,1.855],[0,0],[-2.361,2.751],[0,4.232],[4.231,2.832],[9.473,0],[0,0]],"o":[[0,0],[7.747,0],[4.313,-3.58],[0,-9.538],[0,0],[4.524,-0.813],[2.36,-2.75],[0,-6.12],[-4.232,-2.832],[0,0],[0,0]],"v":[[9.814,0],[34.717,0],[52.808,-5.371],[59.277,-20.313],[43.018,-37.402],[43.018,-37.891],[53.345,-43.237],[56.885,-53.711],[50.537,-67.139],[29.98,-71.387],[9.814,-71.387]],"c":true},"ix":2},"nm":"B","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[-2.865,-1.774],[0,-4.004],[2.571,-1.839],[5.859,0],[0,0]],"o":[[0,0],[6.25,0],[2.864,1.775],[0,4.362],[-2.572,1.839],[0,0],[0,0]],"v":[[18.115,-64.209],[30.322,-64.209],[43.994,-61.548],[48.291,-52.881],[44.434,-43.579],[31.787,-40.82],[18.115,-40.82]],"c":true},"ix":2},"nm":"B","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,0],[-2.979,-2.083],[0,-4.427],[2.913,-2.229],[5.762,0],[0,0],[0,0]],"o":[[6.087,0],[2.979,2.084],[0,4.753],[-2.914,2.23],[0,0],[0,0],[0,0]],"v":[[32.324,-33.789],[45.923,-30.664],[50.391,-20.898],[46.021,-10.425],[33.008,-7.08],[18.115,-7.08],[18.115,-33.789]],"c":true},"ix":2},"nm":"B","mn":"ADBE Vector Shape - Group","hd":false}],"nm":"B","np":6,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"},{"ch":"D","size":15.3000001907349,"style":"Regular","w":72.9,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[6.152,6.152],[11.1,0],[0,0],[0,0],[0,0],[-6.396,6.234],[0,11.784]],"o":[[-6.152,-6.152],[0,0],[0,0],[0,0],[12.012,0],[6.396,-6.233],[0,-11.035]],"v":[[57.568,-62.158],[31.689,-71.387],[9.814,-71.387],[9.814,0],[29.59,0],[57.202,-9.351],[66.797,-36.377]],"c":true},"ix":2},"nm":"D","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[4.98,-4.866],[9.895,0],[0,0],[0,0],[0,0],[-4.671,-4.72],[0,-9.309]],"o":[[-4.98,4.867],[0,0],[0,0],[0,0],[9.212,0],[4.671,4.72],[0,9.538]],"v":[[50.537,-14.478],[28.223,-7.178],[18.115,-7.178],[18.115,-64.209],[30.176,-64.209],[51.001,-57.129],[58.008,-36.084]],"c":true},"ix":2},"nm":"D","mn":"ADBE Vector Shape - Group","hd":false}],"nm":"D","np":5,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"},{"ch":"1","size":20.8999996185303,"style":"Regular","w":57.18,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[-0.847,0.749],[-0.684,0.684],[0,-4.231],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[6.901,-5.598],[0.846,-0.748],[-0.261,3.777],[0,0],[0,0],[0,0]],"v":[[34.912,-71.387],[28.076,-71.387],[9.18,-56.787],[13.477,-51.221],[25.098,-60.742],[27.393,-62.891],[27.002,-50.879],[27.002,0],[34.912,0]],"c":true},"ix":2},"nm":"1","mn":"ADBE Vector Shape - Group","hd":false}],"nm":"1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"},{"ch":".","size":20.8999996185303,"style":"Regular","w":26.61,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.091,-1.025],[-1.66,0],[-1.074,1.139],[0,2.116],[1.057,1.123],[1.888,0],[0.993,-1.123],[0,-2.18]],"o":[[1.09,1.025],[1.855,0],[1.074,-1.139],[0,-2.18],[-1.058,-1.123],[-1.855,0],[-0.993,1.123],[0,2.344]],"v":[[9.058,-0.122],[13.184,1.416],[17.578,-0.293],[19.189,-5.176],[17.603,-10.132],[13.184,-11.816],[8.911,-10.132],[7.422,-5.176]],"c":true},"ix":2},"nm":".","mn":"ADBE Vector Shape - Group","hd":false}],"nm":".","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"},{"ch":"2","size":20.8999996185303,"style":"Regular","w":57.18,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[-2.539,4.427],[0,4.525],[3.809,3.435],[6.705,0],[6.575,-5.469],[0,0],[-2.654,0.977],[-2.962,0],[-2.312,-2.229],[0,-3.809],[0.911,-2.344],[1.823,-2.473],[5.729,-5.794],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[6.966,-6.77],[2.539,-4.427],[0,-5.794],[-3.809,-3.434],[-7.748,0],[0,0],[3.255,-2.571],[2.653,-0.977],[4.102,0],[2.311,2.23],[0,2.702],[-0.912,2.344],[-1.823,2.474],[0,0],[0,0],[0,0],[0,0]],"v":[[51.807,-7.52],[15.088,-7.52],[15.088,-7.91],[30.713,-23.193],[44.971,-39.99],[48.779,-53.418],[43.066,-67.261],[27.295,-72.412],[5.811,-64.209],[10.107,-58.691],[18.97,-64.014],[27.393,-65.479],[37.012,-62.134],[40.479,-53.076],[39.111,-45.508],[35.01,-38.281],[23.682,-25.879],[4.883,-6.982],[4.883,0],[51.807,0]],"c":true},"ix":2},"nm":"2","mn":"ADBE Vector Shape - Group","hd":false}],"nm":"2","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"},{"ch":"3","size":20.8999996185303,"style":"Regular","w":57.18,"data":{"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[3.841,3.174],[6.934,0],[3.825,-1.318],[2.93,-2.311],[0,0],[-2.767,0.847],[-3.125,0],[-2.393,-1.985],[0,-3.483],[3.255,-2.457],[5.566,0],[0,0],[0,0],[0,0],[0,-8.659],[12.337,0],[3.499,0.798],[3.092,1.53],[0,0],[-3.142,-0.569],[-3.777,0],[-4.72,3.662],[0,6.804],[2.766,2.93],[5.729,0.716],[0,0],[-2.556,2.898],[0,4.558]],"o":[[-3.841,-3.174],[-4.232,0],[-3.825,1.318],[0,0],[3.548,-2.278],[2.766,-0.846],[4.102,0],[2.393,1.986],[0,4.362],[-3.255,2.458],[0,0],[0,0],[0,0],[13.606,0],[0,9.668],[-3.125,0],[-3.5,-0.797],[0,0],[2.962,1.433],[3.141,0.569],[8.691,0],[4.72,-3.662],[0,-4.752],[-2.767,-2.93],[0,0],[4.688,-0.977],[2.555,-2.897],[0,-5.534]],"v":[[43.359,-67.651],[27.197,-72.412],[15.112,-70.435],[4.98,-64.99],[9.082,-59.521],[18.555,-64.209],[27.393,-65.479],[37.134,-62.5],[40.723,-54.297],[35.84,-44.067],[22.607,-40.381],[15.479,-40.381],[15.479,-33.398],[22.51,-33.398],[42.92,-20.41],[24.414,-5.908],[14.478,-7.104],[4.59,-10.596],[4.59,-2.881],[13.745,0.122],[24.121,0.977],[44.238,-4.517],[51.318,-20.215],[47.168,-31.738],[34.424,-37.207],[34.424,-37.598],[45.288,-43.408],[49.121,-54.59]],"c":true},"ix":2},"nm":"3","mn":"ADBE Vector Shape - Group","hd":false}],"nm":"3","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}]},"fFamily":"Open Sans"}]}')},SSV0:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-accommodation",use:"icon-small-accommodation-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-accommodation"><circle cx="8" cy="8" r="7" stroke-width="2" /><path d="M4 6l1 2 5-3M12 10l-1-2-5 3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},Sa5G:function(e,t,n){"use strict";var i=n("nbDY"),s=n.n(i);class a extends s.a{}a.Text=new a("textBlock"),a.Html=new a("htmlBlock"),a.File=new a("fileBlock"),a.AttemptFile=new a("attemptFileBlock");var o=a;class r extends s.a{static stringToEnum(e){let t=null;switch(e){case r.SingleText.toString():t=r.SingleText;break;case r.SingleFile.toString():t=r.SingleFile;break;default:t=r.TextAndFiles}return t}}r.SingleText=new r("SingleText"),r.SingleFile=new r("SingleFile"),r.TextAndFiles=new r("TextAndFiles");class l extends s.a{getOptionValue(){switch(this){case l.Add:return"+";case l.Subtract:return"-";case l.Multiply:return"*";case l.Divide:return"/";case l.Open_Parenthesis:return"(";case l.Close_Parenthesis:return")";case l.Value:return"value"}}}l.Add=new l("ADD"),l.Subtract=new l("SUBTRACT"),l.Multiply=new l("MULTIPLY"),l.Divide=new l("DIVIDE"),l.Open_Parenthesis=new l("OPEN_PARENTHESIS"),l.Close_Parenthesis=new l("CLOSE_PARENTHESIS"),l.Value=new l("VALUE");var c=n("7CA4"),d=n("Y3OE"),u=n("pqmn");class m extends s.a{constructor(e,t){super(e),this.keys=t,this.keys.buttonKey||(this.keys.buttonKey="base.courses.conversion.ok")}}m.ConversionInProgress=new m("ConversionInProgress",{titleKey:"base.courses.conversion.beingConverted",bodyKey:"base.courses.conversion.mayTakeAwhile",ariaAlertKey:"base.courses.conversion.beingConvertedAlert"}),m.ConversionComplete=new m("ConversionComplete",{titleKey:"base.courses.conversion.hasBeenConverted",bodyKey:"base.courses.conversion.clickToSeeNewCourse",buttonKey:"base.courses.conversion.seeNewExperience",ariaAlertKey:"base.courses.conversion.hasBeenConvertedAlert"}),m.OrgConversionInProgress=new m("OrgConversionInProgress",{titleKey:"base.organizations.conversion.beingConverted",bodyKey:"base.courses.conversion.mayTakeAwhile",ariaAlertKey:"base.organizations.conversion.beingConvertedAlert"}),m.OrgConversionComplete=new m("OrgConversionComplete",{titleKey:"base.organizations.conversion.hasBeenConverted",bodyKey:"base.organizations.conversion.clickToSeeNewCourse",buttonKey:"base.courses.conversion.seeNewExperience",ariaAlertKey:"base.organizations.conversion.hasBeenConvertedAlert"}),m.StudentTryAgain=new m("StudentTryAgain",{titleKey:"base.courses.noAccess.studentCurrentlyNoAccess",bodyKey:"base.courses.noAccess.studentTryAgain"}),m.StudentNoLongerAccessible=new m("StudentNoLongerAccessible",{titleKey:"base.courses.noAccess.studentCourseHasEnded",bodyKey:"base.courses.noAccess.studentNoLongerAccess"}),m.ParticipantTryAgain=new m("ParticipantTryAgain",{titleKey:"base.organizations.noAccess.studentCurrentlyNoAccess",bodyKey:"base.organizations.noAccess.studentTryAgain"}),m.ParticipantNoLongerAccessible=new m("ParitcipantNoLongerAccessible",{titleKey:"base.organizations.noAccess.studentCourseHasEnded",bodyKey:"base.organizations.noAccess.studentNoLongerAccess"}),m.None=new m("None",{titleKey:"",bodyKey:""});var p=m,h=n("lCpV");class g extends s.a{}g.Assignment=new g("Assignment"),g.Test=new g("Test"),g.Exam=new g("Exam"),g.Homework=new g("Homework"),g.Presentation=new g("Presentation"),g.Quiz=new g("Quiz");class b extends s.a{}b.Letter=new b("Letter"),b.Percentage=new b("Percentage"),b.Points=new b("Points"),b.Text=new b("Text");var f=n("dtd2");class v extends s.a{}v.Email=new v("email"),v.Mobile=new v("mobile"),v.SMS=new v("sms"),v.Voice=new v("voice"),v.Dashboard=new v("dashboard");var y=v;n("bzJv");class k extends s.a{}k.Available=new k("AVAILABLE"),k.Opened=new k("OPENED"),k.Started=new k("STARTED"),k.Saved=new k("SAVED"),k.Submitted=new k("SUBMITTED");var x,S=k;n("KiLF");!function(e){e.SingleOccurrence="S",e.PeriodicOccurrence="P"}(x||(x={}));var C,E=x;!function(e){e.ViewPostedCourseAnnouncement="course.announcements.VIEW",e.ViewUnpostedCourseAnnouncement="course.announcements.admin.VIEW",e.CreateCourseAnnouncement="course.announcements.CREATE",e.ModifyCourseAnnouncement="course.announcements.MODIFY",e.DeleteCourseAnnouncement="course.announcements.DELETE",e.ViewPostedSystemAnnouncement="system.announcements.VIEW",e.ViewUnpostedSystemAnnouncement="system.announcements.admin.VIEW",e.CreateSystemAnnouncement="system.announcements.CREATE",e.ModifySystemAnnouncement="system.announcements.MODIFY",e.DeleteSystemAnnouncement="system.announcements.DELETE"}(C||(C={}));var I,w=C,A=n("nawZ");!function(e){e.ViewCalendar="course.calendar.VIEW"}(I||(I={}));var O,D=I;!function(e){e.CreateContent="course.content.CREATE",e.DeleteContent="course.content.DELETE",e.ModifyContent="course.content.MODIFY",e.ViewContent="course.content.VIEW",e.ViewAsDesigner="course.content.designer.VIEW",e.DeployAssessment="course.content.assessment.deploy.EXECUTE",e.ModifyContentAvailability="course.content.availability.MODIFY"}(O||(O={}));var T,P,$=O,G=n("Z+K4");!function(e){e.CourseExportArchiveWithPassword="course.archive.user.password.EXECUTE"}(T||(T={})),function(e){e.CreateRubrics="course.rubrics.CREATE",e.ModifyRubrics="course.rubrics.MODIFY",e.ViewRubrics="course.rubrics.VIEW"}(P||(P={}));var j,L=P;!function(e){e.EmailAllUsers="course.email-all-users.EXECUTE"}(j||(j={}));var N,B=j;!function(e){e.CreateGroups="course.groups.CREATE",e.DeleteGroups="course.groups.DELETE",e.ModifyGroups="course.groups.MODIFY",e.ViewGroups="course.groups.VIEW",e.ViewGroupsAsAdmin="course.groups.admin.VIEW",e.ManageGroupMembership="course.group-user.manage.EXECUTE"}(N||(N={}));var M,R=N;!function(e){e.Modify="content.embedded-iframe.MODIFY"}(M||(M={}));var F,V=M,_=n("Q74M");!function(e){e.CreatePortalOptionsModuleManagement="system.portaloptions.managemodules.CREATE",e.ModifyPortalOptionsModuleManagement="system.portaloptions.managemodules.MODIFY",e.ViewBrand="system.portaloptions.brand.VIEW",e.CreateBrand="system.portaloptions.brand.CREATE",e.ModifyBrand="system.portaloptions.brand.MODIFY",e.DeleteBrand="system.portaloptions.brand.DELETE",e.ModifyUltraThemeData="system.ultra.themedata.MODIFY",e.ViewBuildingBlock="system.buildingblocks.VIEW"}(F||(F={}));var U,H=F;!function(e){e.ModifyContent="content.trustedcontent.MODIFY"}(U||(U={}));var z=U;n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return c.a})),n.d(t,"g",(function(){return d.a})),n.d(t,"h",(function(){return u.a})),n.d(t,"i",(function(){return p})),n.d(t,"m",(function(){return h.a})),n.d(t,"p",(function(){return f.a})),n.d(t,"q",(function(){return y})),n.d(t,"u",(function(){return S})),n.d(t,"r",(function(){return E})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return A.a})),n.d(t,"d",(function(){return D})),n.d(t,"f",(function(){return $})),n.d(t,"j",(function(){return G.a})),n.d(t,"k",(function(){return T})),n.d(t,"l",(function(){return L})),n.d(t,"n",(function(){return B})),n.d(t,"o",(function(){return R})),n.d(t,"w",(function(){return V})),n.d(t,"s",(function(){return _.a})),n.d(t,"t",(function(){return H})),n.d(t,"v",(function(){return z}))},SeO5:function(e,t){e.exports='<bb-modal id="content-deleted-modal"\n          class="notification"\n          modal-title-key="base.stream.modal.accessDenied.title"\n          analytics-id-tag-prefix="base.stream.modal.accessDenied">\n  <div name="modal-contents">\n    <p bb-translate>base.stream.modal.accessDenied.body</p>\n  </div>\n  <button name="modal-footer-button-primary" class="button confirm-ok js-primary-button" ng-click="$parent.$close()" bb-translate analytics-id="global.ok">global.ok</button>\n</bb-modal>\n'},Si89:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var i=n("D57K"),s=n("Llzl"),a=n("5MwF"),o=n("aHpC"),r=n("fYJU"),l=n("emI2"),c=n("wQOJ"),d=n("TnpK");const u="ultra.service.context.landingPage",m="landingPageService",p="base.recentActivity";let h=class{constructor(e,t,n,i,s,a){this.$q=e,this.$timeout=t,this.currentUser=n,this.preferences=i,this.institutionApi=s,this.ultraState=a}navigateToLandingPage(){return this.getLandingPage().then((e=>this.ultraState.go(e)))}getLandingPage(){return this.currentUser.userModel.$asPromise().then((e=>e.isGuest()?this.convertLandingPageToRoute():this.preferences.getPreference("ultraui.first.time.welcome.welcome.visited").then((()=>this.convertLandingPageToRoute()),(e=>404===e.$response.status?a.a.features.devtools_disableFtue?this.convertLandingPageToRoute():"welcome":this.convertLandingPageToRoute()))))}convertLandingPageToRoute(){return this.currentUser.userModel.$asPromise().then((e=>{switch(e.landingPage){case"ActivityStream":return"base.recentActivity";case"InstitutionPage":return this.getInstitutionPageRoute();case"CourseList":return"base.courses";default:return p}}))}getInstitutionPageRoute(){const e=this.$q.defer(),t=this.$timeout((()=>e.resolve(p)),6e3);return this.institutionApi.getHealth().then((()=>this.institutionApi.getEffectiveVariantIdWithPermissions())).then((({canEdit:e,canView:t})=>e?"base.institution-page-admin":t?"base.institution-page":p)).catch((()=>p)).then((n=>{this.$timeout.cancel(t),e.resolve(n)})),e.promise}};h=Object(i.a)([Object(i.c)(0,Object(o.b)("$q")),Object(i.c)(1,Object(o.b)("$timeout")),Object(i.c)(2,Object(o.b)(r.b)),Object(i.c)(3,Object(o.b)(l.c)),Object(i.c)(4,Object(o.b)(c.b)),Object(i.c)(5,Object(o.b)(d.d))],h);s.module(u,[r.a,l.b,c.a,d.b]).service(m,h)},Sjpn:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Llzl"),s=n("TnpK");const a="ultra.features.base.profile.privacy.routes";i.module(a,["ui.router",s.b]).config([s.c,e=>{e.peekState("privacy",{url:"/privacy",require:()=>Promise.all([n.e(27),n.e(53),n.e(140)]).then(n.bind(null,"0OB5")),pageTitle:"base.profile.updatePrivacySettings.pageTitle"})}])},Sq3Z:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-activity-indicator",use:"icon-small-activity-indicator-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-activity-indicator"><path d="M15 8c0 3.866-3.134 7-7 7a6.983 6.983 0 01-2.528-.4704L1 15l.5-4.3969C1.1775 9.7984 1 8.9199 1 8c0-3.866 3.134-7 7-7s7 3.134 7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="8" cy="8" r="2" stroke-width="4" /></symbol>'});s.add(a);e.exports=a},SqHH:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-lock",use:"icon-medium-lock-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-lock"><path d="M11 16c0-.5523.4477-1 1-1v0c.5523 0 1 .4477 1 1v2c0 .5523-.4477 1-1 1v0c-.5523 0-1-.4477-1-1v-2z" stroke-width="2" /><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M3 11h18v12H3z" /><path d="M6 11V6s0-5 6-5 6 5 6 5v5" stroke-width="2" /></symbol>'});s.add(a);e.exports=a},T1pL:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var i=n("Llzl"),s=n("nsO7"),a=n("o5Lu"),o=n("3l3z"),r=n("LN5R"),l=n("TmUJ"),c=n("qH3X"),d=n("+4Px"),u=n("lEL+"),m=n("dF44"),p=n("TUWB");const h="ultra.components.directives.gradeGridOverallEditorReborn";class g{constructor(e,t,n,i,s,a,o,r){this.$compile=e,this.window=t,this.scope=n,this.element=i,this.attrs=s,this.gradeGridRebornController=a,this.gradeService=o,this.timeout=r,this.initialize(),n.$on(c.a.REFRESH_OVERALL_EDITOR,(()=>{this.initialize()})),n.$on("$destroy",(()=>{this.removeErrorMessage()}))}initialize(){this.score=this.scope.gradeGridColumnOverallReborn.score,this.element.find("input").focus(),this.element.find(".wrapping-input-style").css({"border-color":"#c36fd3"}),this.timeout((()=>{this.element.find("input").select()}),this.scope,0,!1),this.checkValue(this.score).then((e=>{this.isValidated=e}))}removeErrorMessage(){this.element.removeClass("validation-alert"),s.isUndefined(this.messageElement)||(this.messageElement.remove(),this.messageElement=void 0),s.isUndefined(this.messageScope)||(this.messageScope.$destroy(),this.messageScope=void 0)}createErrorMessage(){if(this.messageElement&&this.removeErrorMessage(),s.isUndefined(this.messageElement)){this.element.addClass("validation-alert");const e=this.element.parent(".grade-grid-cell").offset();e.top+=60,this.messageScope=this.scope.$new(!1,this.scope),this.messageScope.adjustPosition=t=>{const n=e.left+t.width(),i=e.top+t.height(),s=this.gradeGridRebornController.getGradeGridContainerElementRight(),a=this.gradeGridRebornController.getGradeGridContainerElementBottom();n>s&&(e.left-=n-s+Object(l.a)()),i>a&&(e.top-=t.height()+40),this.messageElement.offset(e)},this.$compile(g.CELL_MESSAGE_TEMPLATE)(this.messageScope,(e=>{this.messageElement=e,this.element.parents("bb-grade-grid-reborn").append(this.messageElement)}))}}get isValidated(){return this._isValidated}set isValidated(e){this._isValidated=e,this.isValidated?this.removeErrorMessage():this.createErrorMessage()}stopPropagation(e){e.preventDefault(),e.stopPropagation()}mousedown(){e(this.window).trigger("click")}get isHiddenPointsPossible(){return!(s.isUndefined(this.score)||/^-?\d*(\,\d+)?(\.\d+)?$/.test(this.score))}onChange(){this.checkValue(this.score).then((e=>{this.isValidated=e}))}onInputBlur(){this.scope.gradeGridColumnOverallReborn.onInputBlur(this.isValidated,this.score)}checkValue(e){const t=this.gradeGridRebornController.getGridData().getSchema()[this.scope.col.data.gradingSchemaId],n=this.gradeService.createGradeSubmission(this.scope.col.data,e,t);return this.gradeService.validateGrade(n,this.scope)}onKeydown(t){d.y(t)?(this.scope.gradeGridColumnOverallReborn.gotoNextCell(),e(t.target).blur(),this.mousedown(),t.preventDefault(),t.stopPropagation()):t.keyCode===d.g?(e(t.target).blur(),this.mousedown(),this.scope.$emit(m.b.LEAVE_CELL)):d.x(t)&&(!this.score||t.keyCode!==d.j&&t.keyCode!==d.s?this.mousedown():t.stopPropagation())}}g.$inject=["$compile","$window","scope","element","attrs","gradeGridRebornController",a.n,u.b],g.CELL_MESSAGE_TEMPLATE='<div bb-grade-grid-message-reborn class="grade-grid-reborn-message" ng-mousedown="gradeGridMessageReborn.mousedown()"></div>';class b{constructor(e){this.$injector=e,this.restrict="A",this.template=p,this.require=`^${r.a}`,this.link=(e,t,n,i)=>{e.gradeGridOverallEditorReborn=this.$injector.instantiate(g,{scope:e,element:t,attrs:n,gradeGridRebornController:i})}}}b.$inject=["$injector"],i.module(h,[o.a]).directive("bbGradeGridOverallEditorReborn",["$injector",e=>e.instantiate(b)])}).call(this,n("71td"))},TAnh:function(e,t,n){"use strict";var i=n("Llzl"),s=n("4GL6"),a=n("e6jQ"),o=n("usTV");n.d(t,"a",(function(){return r}));const r="ultra.components.directives.squareToggle";class l{constructor(e,t,n){this.scope=e,this.element=t,this.attrs=n,this.radioGroupName=a.a(),this.oneControlId=a.a(),this.twoControlId=a.a()}handleKeyUp(e){13!==e.keyCode&&32!==e.keyCode||(this.scope.property=e.target.value)}handleClick(e){this.scope.property=e.target.value}}l.$inject=["scope","element","attrs"];class c{constructor(e){this.$injector=e,this.restrict="E",this.template=o,this.scope={oneIconClass:"@",oneAriaLabel:"@",oneAriaControls:"@?",oneViewValue:"@",oneTooltipTemplate:"@?",oneTooltipScope:"&?",property:"=",twoIconClass:"@",twoAriaLabel:"@",twoAriaControls:"@?",twoViewValue:"@",twoTooltipTemplate:"@?",twoTooltipScope:"&?",analyticsIdTagPrefix:"@?"},this.compile=(e,t)=>(i.isDefined(t.oneTooltipTemplate)&&e.find("input.input-one").attr("bb-complex-tooltip",""),i.isDefined(t.twoTooltipTemplate)&&e.find("input.input-two").attr("bb-complex-tooltip",""),{post:(e,t,n)=>{e.squareToggle=this.$injector.instantiate(l,{scope:e,element:t,attrs:n})}})}}c.$inject=["$injector"],i.module(r,[s.b]).directive("bbSquareToggle",["$injector",e=>e.instantiate(c)])},TB6y:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("D57K"),s=(n("9RbK"),n("cf0z"),n("KCTV"),n("aHpC")),a=n("71td"),o=n("nsO7"),r=n("Llzl"),l=n("e6jQ"),c=n("lUN/"),d=n("lEL+"),u=n("+4Px"),m=n("7+Tq"),p=n("d7QB");const h="ultra.directives.bbFoundation";window.Foundation.libs.dropdown.dirs._base=function(e){var t,n;const i=this.offsetParent().offset(),s=e.offset();s.top-=i.top,s.left-=i.left,s.missRight=!1,s.missTop=!1,s.missLeft=!1,s.leftRightFlag=!1;const a=null!==(n=null===(t=this.closest(".panel-wrap")[0])||void 0===t?void 0:t.clientWidth)&&void 0!==n?n:window.innerWidth,o=(window.innerWidth-a)/2;let r=a;if(!this.hasClass("mega")){const t=this.outerWidth(),n=e.offset();n.top<=this.outerHeight()&&(s.missTop=!0,r=window.innerWidth-o,s.leftRightFlag=!0),n.left-o+t>a?(s.missRight=!0,s.missLeft=!1):n.left-o-t<=0&&(s.missLeft=!0,s.missRight=!1)}return this.toggleClass("miss-right",s.missRight),this.toggleClass("miss-left",s.missLeft),s};const g=window.Foundation.libs.dropdown.dirs.bottom;window.Foundation.libs.dropdown.dirs.bottom=function(e,t){var n;const i=window.Foundation.libs.dropdown,s=g.call(this,e,t);return!i.rtl||(null===(n=e[0].dataset)||void 0===n?void 0:n.defaultPositioning)?s:this.offsetParent()[0]===e.offsetParent()[0]?{...s,left:0}:{...s,left:e.offset().left}};const b=window.Foundation.libs.dropdown.dirs.right;window.Foundation.libs.dropdown.dirs.right=function(e,t){const n=window.Foundation.libs.dropdown,i=b.call(this,e,t);return n.rtl?{...i,left:i.left-e.outerWidth()}:i};const f=window.Foundation.libs.dropdown.adjust_pip;window.Foundation.libs.dropdown.adjust_pip=function(e,...t){e.hasClass("disable-pip-adjustment")||f.apply(this,[e,...t])};const v=(e,t,n,i)=>{e.$on("$destroy",(()=>{window.Foundation.scope===t[0]&&(window.Foundation.scope=null),o.forEach(window.Foundation.libs,(e=>{e.scope===t[0]&&(e.scope=null),delete e.bindings,delete e.settings.callback}))}));["small","small-only","medium","medium-only","large","large-only","xlarge","xlarge-only","xxlarge"].forEach((e=>{window.Foundation.media_queries[e]=a(".foundation-mq-"+e).css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")})),c.a();const s=e=>{e.each(((t,i)=>{const s=a(i),o=s.hasClass("active"),r=s.children("a").first(),l=s.children(".content").first(),c=a("body");l.attr("aria-hidden",!o+""),r.attr({"aria-selected":o,"aria-expanded":o});const d=s.find(':tabbable[role!="tab"]').add(s.find('[tabindex="-1"]')).add(s.find("input")).not(s.children("a").first());o?d.attr("tabindex",0):d.attr("tabindex","-1"),n||(r.on("keydown",(n=>{if(n.keyCode===u.v||n.keyCode===u.j){const n=0===t?e.length-1:t-1;a(e.get(n)).children("a").first().focus()}else if(n.keyCode===u.d||n.keyCode===u.s){const n=t===e.length-1?0:t+1;a(e.get(n)).children("a").first().focus()}else n.keyCode===u.i?a(e.get(0)).children("a").first().focus():n.keyCode===u.e&&a(e.get(e.length-1)).children("a").first().focus();c.removeClass("hide-focus-outline")})),l.on("keydown",(n=>{if(n.ctrlKey&&n.keyCode===u.v)r.focus();else if(n.ctrlKey&&n.keyCode===u.q){const n=0===t?e.length-1:t-1;a(e.get(n)).children("a").first().focus()}else if(n.ctrlKey&&n.keyCode===u.p){const n=t===e.length-1?0:t+1;a(e.get(n)).children("a").first().focus()}c.removeClass("hide-focus-outline")}))),s.addClass("accordion-complete")}))},r=t.find(".accordion");r.length>0&&r.each(((e,t)=>{const n=a(t),i=n.find(".accordion-navigation:not(.accordion-complete)");n.attr("role","tablist"),i.each(((t,n)=>{const i=a(n),s=i.children("a").first(),o=i.children(".content").first();s.attr("role","tab"),o.attr("role","tabpanel");const r=l.a(),c="accordion"+e+"-"+r+"-header"+t,d="accordion"+e+"-"+r+"-panel"+t;s.attr("id",c),o.attr("id",d),s.attr("href","#"+d),s.attr("aria-controls",d),o.attr("aria-labelledby",c)})),s(i)})),i(t,e),t.foundation({accordion:{multi_expand:!0,callback:e=>{e.closest(".accordion").removeAttr("aria-multiselectable");const t=e.closest(".accordion").children(".accordion-navigation");s(t)}},dropdown:{}})};let y=class{constructor(e,t){this.dropdownInit=e,this.integrationEventEmitterService=t,this.onDestroyHandler=null,this.restrict="A",this.link=(e,t,n)=>{this.onDestroyHandler=this.integrationEventEmitterService.addIntegrationEventClickListener(t);const i=e.$eval(n.rubricOverride);e.$on("$destroy",(()=>{this.onDestroyHandler&&this.onDestroyHandler()})),v(e,t,i,this.dropdownInit)},this.onDestroyHandler=null}};y=Object(i.a)([Object(i.c)(0,Object(s.b)(m.b)),Object(i.c)(1,Object(s.b)(p.b))],y);let k=class{constructor(e,t,n){this.timeout=e,this.dropdownInit=t,this.integrationEventEmitterService=n,this.onDestroyHandler=null,this.restrict="A",this.link=(e,t,n)=>{this.onDestroyHandler=this.integrationEventEmitterService.addIntegrationEventClickListener(t);const i=e.$eval(n.rubricOverride);e.$on("$destroy",(()=>{this.onDestroyHandler&&this.onDestroyHandler()})),this.timeout((()=>{v(e,t,i,this.dropdownInit)}),e,0,!1)},this.onDestroyHandler=null}};k=Object(i.a)([Object(i.c)(0,Object(s.b)(d.b)),Object(i.c)(1,Object(s.b)(m.b)),Object(i.c)(2,Object(s.b)(p.b))],k);let x=class{constructor(e,t,n){this.timeout=e,this.dropdownInit=t,this.integrationEventEmitterService=n,this.onDestroyHandler=null,this.restrict="A",this.link=(e,t,n)=>{this.onDestroyHandler=this.integrationEventEmitterService.addIntegrationEventClickListener(t);const i=e.$eval(n.rubricOverride);e.$on("$destroy",(()=>{this.onDestroyHandler&&this.onDestroyHandler()}));const s=e.$watch(n.bbFoundationWait,(n=>{n&&(s(),this.timeout((()=>{v(e,t,i,this.dropdownInit)}),e,0,!1))}))}}};x=Object(i.a)([Object(i.c)(0,Object(s.b)(d.b)),Object(i.c)(1,Object(s.b)(m.b)),Object(i.c)(2,Object(s.b)(p.b))],x);let S=class{constructor(e,t,n){this.timeout=e,this.dropdownInit=t,this.integrationEventEmitterService=n,this.onDestroyHandler=null,this.restrict="A",this.link=(e,t,n)=>{this.onDestroyHandler=this.integrationEventEmitterService.addIntegrationEventClickListener(t);const i=e.$eval(n.rubricOverride);e.$on("$destroy",(()=>{this.onDestroyHandler&&this.onDestroyHandler()})),e.$watch(n.bbFoundationWaitContinuous,(n=>{n&&this.timeout((()=>{v(e,t,i,this.dropdownInit)}),e,0,!1)}),null!=n.bbDeepWatch&&n.bbDeepWatch)}}};S=Object(i.a)([Object(i.c)(0,Object(s.b)(d.b)),Object(i.c)(1,Object(s.b)(m.b)),Object(i.c)(2,Object(s.b)(p.b))],S),r.module(h,[d.a,m.a,p.a]).directive("bbFoundation",["$injector",e=>e.instantiate(y)]).directive("bbFoundationDefer",["$injector",e=>e.instantiate(k)]).directive("bbFoundationWait",["$injector",e=>e.instantiate(x)]).directive("bbFoundationWaitContinuous",["$injector",e=>e.instantiate(S)])},TFjq:function(e,t){e.exports='<bb-modal id="notification-modal-api-error"\n          class="notification error-something-broke-modal"\n          modal-title-key="components.services.error-modal.error-something-broke.title"\n          analytics-id-tag-prefix="components.services.error-modal.error-something-broke">\n  <div name="modal-contents">\n    <p bb-translate>components.services.error-modal.error-something-broke.description</p>\n    <pre>{{ response | json }}</pre>\n    <bb-session-debug-modal-button></bb-session-debug-modal-button>\n  </div>\n  <button name="modal-footer-button-primary"\n          class="button large reload-page-button js-primary-button"\n          onclick="location.reload(true)"\n          analytics-id="components.services.error-modal.reloadPage"\n          bb-translate>components.services.error-modal.reloadPage</button>\n</bb-modal>\n'},TML7:function(e,t){e.exports='<div class="rb-grid">\n  <style scoped id="rb-grid"></style>\n  <style scoped id="rb-grid-rows-initial-position"></style>\n\n  <div ng-if="grid.containers.left" rb-grid-container="left" id="rb-grid-container-left"></div>\n\n  <div rb-grid-container="center"></div>\n\n  <div ng-if="grid.containers.right" rb-grid-container="right"></div>\n\n  <div ng-transclude></div>\n\n</div>\n'},TOu5:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-question-analysis",use:"icon-small-question-analysis-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-question-analysis"><path d="M11 1H5l1 2v4l-5 8h14l-5-8V3l1-2zM4.125 10h7.75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},TR8k:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-conversation",use:"icon-medium-conversation-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-conversation"><path d="M4.5 18C6.433 18 8 16.433 8 14.5S6.433 11 4.5 11 1 12.567 1 14.5 2.567 18 4.5 18zM9 23c.2624-2.4862-1.873-5-4.5-5M23 7.5c0 3.5899-2.9101 6.5-6.5 6.5-1.0821 0-2.1025-.2644-3-.7322L11 15l.5-3.3464C10.5633 10.5273 10 9.0794 10 7.5 10 3.9101 12.9101 1 16.5 1S23 3.9101 23 7.5z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},TT9l:function(e,t,n){"use strict";var i=n("ERkP"),s=n("7nmT"),a=n("e6jQ"),o=n("v6Sp");const r=()=>{const[e]=i.useState(Object(a.b)()),[t,n]=i.useState(!1),s=i.useRef();return i.createElement("div",{ref:s,className:"course-banner-integration-container"+(t?"":" no-integration-content")},i.createElement(o.d,{portalId:e,selector:"course.banner.top",onContentsChanged:e=>{n(!!e),s.current.dispatchEvent(new CustomEvent("banner-resize",{bubbles:!0}))}}))};n.d(t,"a",(function(){return l}));const l=new class{constructor(){this.subscriptions=[],this.createBanner=()=>{if(this.currentBanner)return this.currentBanner;const e=document.createElement("div");return s.render(i.createElement(r,null),e),this.currentBanner=e,this.notifySubscribers(),this.currentBanner},this.destroyBanner=()=>{this.currentBanner?(s.unmountComponentAtNode(this.currentBanner),this.currentBanner=null,this.notifySubscribers()):console.warn("There is no integration banner present to unmount.")},this.currentPanelBanner=()=>{if(this.bannerStack.length)return this.bannerStack[this.bannerStack.length-1].state},this.pushBanner=e=>{this.bannerStack.push(e),1!==this.bannerStack.length&&this.bannerStack[this.bannerStack.length-2].orphan()},this.popBanner=e=>{this.bannerStack=this.bannerStack.filter((t=>t.state.stateName!==e)),this.bannerStack.length?this.bannerStack[this.bannerStack.length-1].adopt(this.currentBanner):this.destroyBanner()},this.bannerStack=[]}watchBanner(e){return this.subscriptions.push(e),setTimeout((()=>e(this.currentBanner))),()=>this.subscriptions=this.subscriptions.filter((t=>t!==e))}notifySubscribers(){this.subscriptions.forEach((e=>e(this.currentBanner)))}}},TUWB:function(e,t){e.exports='<div class="wrapping-input-style no-hover">\n  <div>\n    <input autocomplete="off" pu-elastic-input pu-elastic-input-minwidth="10px" pu-elastic-input-maxwidth="180px" pu-elastic-input-width-delta="8"\n           ng-blur="gradeGridOverallEditorReborn.onInputBlur()"\n           placeholder="--" ng-model="gradeGridOverallEditorReborn.score"\n           ng-mousedown="gradeGridOverallEditorReborn.stopPropagation($event)"\n           ng-click="gradeGridOverallEditorReborn.stopPropagation($event)"\n           ng-change="gradeGridOverallEditorReborn.onChange()"\n           ng-keydown="gradeGridOverallEditorReborn.onKeydown($event)" spellcheck="false"\n           analytics-id="components.directives.grade.grid.overAll.input.text"/>\n  </div>\n  <div ng-mousedown="gradeGridOverallEditorReborn.mousedown()" ng-class="{hidden: gradeGridOverallEditorReborn.isHiddenPointsPossible}">\n    <span class="slash"></span><span class="possible" ng-bind="gradeGridColumnOverallReborn.pointsPossibleToDisplay"></span>\n  </div>\n</div>\n'},TUnR:function(e,t,n){"use strict";var i=n("ERkP"),s=n("MC1S"),a=n("In+A");class o{constructor(e,t){this.shownStateChanged=e,this.shown=!1,this.viewed=!1,this.onShown=()=>{this.setShown(!0)},this.onHidden=e=>{this.setShown(!1),e||this.markViewed()},this.markViewed=()=>{this.viewed=!0},this.componentType="",this.componentKey=t}shouldShow(){return Promise.resolve(!this.viewed)}setShown(e){this.shown=e,this.shownStateChanged(e)}}let r=!1;const l=()=>{r||(r=!0,Object(a.g)({name:a.a,priority:a.b}))};var c=(e,t,n)=>{l();const[s,a]=i.useState(!1),[r,c]=i.useState((()=>()=>{}));return i.useEffect((()=>{const i=new o(a,n);return e.registerComponent(i),t.sendStart(),c((()=>()=>{a(!1),i.markViewed(),e.hideComponent(i.componentKey)})),()=>{e.deregisterComponent(i)}}),[n,t,e]),[s,r]};var d=e=>{const{componentKey:t}=e,[n,o]=c(a.f,a.e,t);return n?i.createElement(s.TeachingBubble,{onDismiss:o,...e}):null},u=n("tMbR"),m=n("np6O"),p=n("3/0u"),h=n("WBPx"),g=n("dIht"),b=n("7O4Y"),f=n("Hj9i"),v=n("Agfx"),y=n("THXI");const k=Object(v.makeStyles)((e=>Object(v.createStyles)({msModalContainer:{position:"relative",left:"0px",right:"0px",top:"2px",bottom:"0.02px",background:y.c.white,border:"1px solid "+e.palette.secondary.main,boxSizing:"border-box",borderRadius:"2px",width:"460px",height:"780x"},msModalText:{position:"relative",textAlign:"center"},msDialogContent:{height:"300px",[e.breakpoints.up("sm")]:{height:"400px"}},msModalHeader:{margin:"auto"},msModalBody:{position:"absolute",textAlign:"center",p:{margin:"auto"}},animation:{position:"relative"}})));var x=n("Afl9"),S=n("oCLu"),C=n.n(S),E=n("caKH");const I="guidance.featureIntroduction",w=e=>{const{steps:t,componentKey:n,iconButtonAriaLabel:s}=e,[o,r]=i.useState(!1),[l,c]=i.useState(0),d=Object(x.a)(),u=k(),[v,y]=Object(f.a)(`${I}.${n}`),S=t.length-1;return v||o?i.createElement("div",null,i.createElement(m.AnalyticsIconButton,{analyticsId:`${I}.icon-button`,"aria-label":s,className:Object(b.a)(!o&&d.animatedIconButton),onClick:()=>((e,t)=>{a.f.stopQueue(),e(!0),t()})(r,y),onFocus:e=>e.stopPropagation()},i.createElement(g.a,{className:d.icon})),i.createElement(E.c,{isOpen:o,onDismiss:()=>(e=>{e(!1),a.f.startQueue()})(r),analyticsId:"guidanceFeatureIntroduction.dialog"},i.createElement("div",{className:Object(b.a)(u.msDialogContent)},i.createElement("div",{className:Object(b.a)(u.animation)},i.createElement(C.a,{ariaLabel:t[l].imageAriaLabel,options:{loop:!0,autoplay:!0,animationData:t[l].imageSource,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}}})),i.createElement("div",{className:Object(b.a)(u.msModalText)},i.createElement("div",{className:Object(b.a)(u.msModalHeader)},i.createElement("h2",null,t[l].title)),i.createElement("div",{className:Object(b.a)(u.msModalBody)},i.createElement("p",null,t[l].body)))),i.createElement(p.DialogFooter,null,i.createElement(h.AnalyticsDefaultButton,{onClick:()=>l>0?c(l-1):r(!1),analyticsId:"guidanceFeatureIntroduction.defaultButton"},t[l].secondaryButtonText),i.createElement(h.AnalyticsPrimaryButton,{onClick:()=>l<S?c(l+1):r(!1),analyticsId:"guidanceFeatureIntroduction.primaryButton"},t[l].primaryButtonText)))):null};n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u.a})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return f.a}))},TWlR:function(e,t,n){"use strict";var i=n("td+C"),s=n("fN3Q");const a={includeProcessingEvent:!0};class o{constructor(e,t,n,i){this.integrationService=e,this.generateId=t,this.activeMessages=new Map,this.integrationService.addIntegrationMessageType(`${n}:response`,this.correlatedMessageResponseCallback.bind(this)),i.includeProcessingEvent&&this.integrationService.addIntegrationMessageType(`${n}:processing`,this.correlatedMessageProcessingCallback.bind(this))}sendMessage(e,t){return new Promise(((n,i)=>{const s=this.generateId(),a=this.createMessageTimeout(s,i);this.integrationService.sendMessage({...e,correlationId:s,timeout:5e3},t),this.activeMessages.set(s,{integrationId:t,timeoutId:a,resolvePromise:n,rejectPromise:i})}))}correlatedMessageResponseCallback(e,t){const n=this.getCorrelatedMessage(e,t.id);n&&(this.activeMessages.delete(e.correlationId),window.clearTimeout(n.timeoutId),n.resolvePromise(e))}correlatedMessageProcessingCallback(e,t){const n=this.getCorrelatedMessage(e,t.id);n&&(window.clearTimeout(n.timeoutId),n.timeoutId=this.createMessageTimeout(e.correlationId,n.rejectPromise))}createMessageTimeout(e,t){return window.setTimeout((()=>{this.activeMessages.delete(e);const n=`Correlated message '${e}' timed out`;console.warn(n),t(new Error(n))}),5e3)}getCorrelatedMessage(e,t){const n=e.correlationId,i=this.activeMessages.get(n);return i?i.integrationId!==t?(console.error(`Correlated message '${n}' does not belong to '${t}'`),null):i:(console.error(`Couldn't find a correlated message with correlation id '${n}'`),null)}}t.a=(e,t={})=>new o(i.a,s.v4,e,{...a,...t})},Tfg2:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.directives.fileUpload.zipTitle"\n          modal-dismiss-key="components.directives.fileUpload.takeMeBack"\n          analytics-id-tag-prefix="components.directives.fileUpload">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>components.directives.fileUpload.zipFull</bb-translate>\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" role="button" ng-click="fileUpload.closeModal(true)" class="button js-primary-button" analytics-id="components.directives.fileUpload.unzipFile">\n    <bb-translate>components.directives.fileUpload.unzipFile</bb-translate>\n  </button>\n  <button name="modal-footer-button-secondary" role="button" ng-click="fileUpload.closeModal(false)" class="button button--secondary js-secondary-button" analytics-id="components.directives.fileUpload.uploadAsZip">\n    <bb-translate>components.directives.fileUpload.uploadAsZip</bb-translate>\n  </button>\n</bb-modal>\n'},TmUJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("71td");let s;function a(){if(null==s){const e=i('<div style="width:100px; height:100px; overflow:hidden; position:absolute; top:-200px; left:-200px;"><div class="inner" style="height:200px;"></div>'),t=e.find(".inner");i("body").append(e);const n=t.innerWidth();e.css("overflow","auto");const a=t.innerWidth();i(e).remove(),s=n-a}return s}},Tn43:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));n("367g"),n("Aw+3"),n("8+lX"),n("aAQ7"),n("UyCM");var i=n("Llzl"),s=n("nsO7"),a=n("en1n"),o=n("0JpG"),r=n("suMx"),l=n("jciN"),c=n("+e2k"),d=n("+g6d"),u=n("TnpK"),m=n("g7Mf"),p=n("r6lH"),h=n("ELoy"),g=n("pjml"),b=n("f4B+"),f=n("nmzr"),v=n("fvgg"),y=n("yC9S"),k=n("Wqh6"),x=n("Y+9S"),S=n("IbyE"),C=n("50Q+");const E="ultra.components.directives.discussion";class I{constructor(e,t,n,i,a,o,r,l,c,d,u){this.$window=e,this.$sce=t,this.scope=n,this.element=i,this.$stateParams=a,this.$ngRedux=o,this.bbLocalize=r,this.telemetry=l,this.discussion=c,this.ultraState=d,this.courseModel=u,this.updateDfiPanel=e=>{const t=null==e?void 0:e.groupId;if(t===this.scope.currentGroupId)return;const n=null==e?void 0:e.name;t&&t!==m.a?(this.discussion.groupId=t,this.scope.currentGroupId=t,this.scope.currentGroupName=n,this.createDfiReport(this.scope.courseId,this.scope.contentId,t),this.updateNonParticipantView()):(this.discussion.groupId=m.a,this.scope.currentGroupId=m.a,this.scope.currentGroupName=void 0,this.createDfiReport(this.scope.courseId,this.scope.contentId))},n.isLoaded=!1,n.courseId=n.content().courseId,n.contentId=n.content().id,n.isGroupDiscussion=n.content().isGroupContent,this.subscribeToReduxChanges(),this.loadOtherNameAsDisplayNameSystemPreference({key:C.i}),this.ultraState.params.disGroupId&&this.ultraState.params.disGroupId!==m.a?this.createDfiReport(n.courseId,n.contentId,this.ultraState.params.disGroupId):this.createDfiReport(n.courseId,n.contentId),y.b.OnWindow("resize",s.debounce((()=>{(this.scope.displayNonParticipants||this.scope.displayNonParticipantGroup)&&(this.updateNonParticipantView(),this.scope.$apply())}),150),n),this.notifyMobileApp(),this.scope.$on("refresh-student-activity",(()=>{this.updateDfiPanel(this.discussion.selectedGroup)})),this.scope.$on("group-change",(()=>{this.updateDfiPanel(this.discussion.selectedGroup)}))}notifyMobileApp(){var e;const t={type:x.c.DiscussionTelemetryOpened,status:x.b.Success,contentId:this.scope.contentId,contentTitle:this.scope.content().title,prevState:Object(x.i)(null===(e=this.ultraState.prev)||void 0===e?void 0:e.name)};Object(x.r)(t)}createDfiReport(e,t,n){(n?this.telemetry.loadDiscussionActivityData(e,t,n):this.telemetry.loadDiscussionActivityData(e,t)).then((e=>{this.scope.discussionData=e,this.scope.header=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.header",params:{title:this.scope.content().title},noEscape:!0,noWrap:!0}),this.scope.course=this.courseModel.$find(this.scope.courseId),this.scope.isSingleGroup=!!n,this.scope.groups=this.scope.discussionData.groups,this.scope.isGradable=!!this.scope.discussionData.gradeColumnId,this.scope.gradingColumn=this.scope.discussionData.gradeColumnId,this.scope.viewedOnlyCount=this.scope.discussionData.viewedOnlyCount,this.scope.avgCommentsPerStudent=this.scope.discussionData.avgCommentsPerStudent?this.scope.discussionData.avgCommentsPerStudent:0,this.scope.avgWordCountPerComment=this.scope.discussionData.avgWordCountPerComment?this.scope.discussionData.avgWordCountPerComment:0,this.scope.avgGradeOfDiscussion=this.scope.discussionData.avgGrade?this.scope.discussionData.avgGrade/100:0,this.scope.numberOfCommentsToDisplay=1,this.scope.topComments=[],this.scope.displayTopComments=!1,this.scope.topParticipants=[],this.scope.displayTopParticipants=!1,this.scope.nonParticipants=[],this.scope.showNonparticipant=[],this.scope.showLargeNonparticipantPanel=!0,this.scope.minHeightForTopBoxes="auto",this.scope.nonParticipants=this.getNonParticipants(),this.scope.displayNonParticipants=!!this.scope.nonParticipants.length&&!this.scope.isGroupDiscussion,this.scope.displayNonParticipantGroups=!!this.scope.nonParticipants.length&&this.scope.isGroupDiscussion&&!this.scope.isSingleGroup,this.scope.displayNonParticipantGroup=!!this.scope.nonParticipants.length&&this.scope.isGroupDiscussion&&this.scope.isSingleGroup,this.scope.nonParticipantGroups=this.scope.displayNonParticipantGroups?this.getNonParticipantGroups():[],this.scope.totalNonParticipants=this.scope.nonParticipants.length,this.scope.totalParticipants=this.scope.discussionData.totalParticipants+this.scope.totalNonParticipants,this.scope.displayedNonParticipants=24,this.scope.additionalNonParticipants=this.scope.totalNonParticipants,this.scope.currentPanelWidth=0,this.scope.lastPanelWidth=-1,this.scope.isLoaded=!0;for(let e=0;e<this.scope.displayedNonParticipants;e++)this.scope.showNonparticipant[e]=!0;this.getTopComments(),this.getTopParticipants(),this.getParticipantBarChart(),this.updateNonParticipantView(),this.scope.statisticsConfig=this.getSummaryInsightNumbers(),this.scope.topCommentsColumns=this.scope.displayTopComments&&this.scope.displayTopParticipants?"small-12 medium-8 large-9":"small-12",this.scope.topParticipantColumns=this.scope.displayTopComments&&this.scope.displayTopParticipants?"small-12 medium-4 large-3":"small-12"}))}getSummaryInsightNumbers(){const e=this.bbLocalize.getLocale(this.scope),t=this.bbLocalize.translateSync({locale:e,key:"components.directives.discussion.insights.numParticipants"}),n=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.formattedParticipation",params:{count:this.scope.totalParticipants-this.scope.totalNonParticipants,total:this.scope.totalParticipants},noWrap:!0}),i=this.bbLocalize.translateSync({locale:e,key:"components.directives.discussion.insights.avgComments"}),s=this.bbLocalize.translateSync({locale:e,key:"components.directives.discussion.insights.avgCount"}),a=this.bbLocalize.translateSync({locale:e,key:"components.directives.discussion.insights.avgGrade"}),o=this.scope.isGradable&&this.scope.avgGradeOfDiscussion>0?this.bbLocalize.formatPercentageSync(this.scope.avgGradeOfDiscussion,this.scope):this.bbLocalize.translateSync({locale:e,key:"components.directives.discussion.insights.na"}),r=[];return r.push({title:t,data:n}),r.push({title:i,data:this.bbLocalize.formatNumberSync(this.scope.avgCommentsPerStudent,this.scope).toString()}),this.scope.avgWordCountPerComment&&this.scope.avgWordCountPerComment>0&&r.push({title:s,data:this.bbLocalize.formatNumberSync(this.scope.avgWordCountPerComment,this.scope).toString()}),this.scope.isGradable&&r.push({title:a,data:o}),r}getParticipantBarChart(){let t=0,n=0,i=100;const s=this.scope.totalParticipants-this.scope.totalNonParticipants;this.scope.totalParticipants>0?(t=Math.floor((this.scope.totalParticipants-this.scope.totalNonParticipants)/this.scope.totalParticipants*100),n=Math.floor(this.scope.viewedOnlyCount/this.scope.totalParticipants*100),i=100-(t+n)):(t=0,n=0,i=100),e(".bar-chart .participated").attr("style","width: "+t+"%"),e(".bar-chart .opened").attr("style","width: "+n+"%"),e(".bar-chart .unopened").attr("style","width: "+i+"%");const a=this.scope.totalNonParticipants-this.scope.viewedOnlyCount;this.scope.barchartNonParticipants=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.barchartNonParticipants",params:{count:a},noWrap:!0}),this.scope.barchartOpenedNonParticipants=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.barchartOpenedNonParticipants",params:{count:this.scope.viewedOnlyCount},noWrap:!0}),this.scope.barchartParticipants=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.barchartParticipants",params:{count:s},noWrap:!0}),this.scope.percentParticipatedCaption=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.percentParticipated",params:{percent:this.bbLocalize.formatPercentageSync(t/100,this.scope)},noWrap:!0}),this.scope.percentOpenedCaption=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.percentOpened",params:{percent:this.bbLocalize.formatPercentageSync((n+t)/100,this.scope)},noWrap:!0})}getNonParticipantGroups(){const e=[];return this.scope.nonParticipants.length>0&&i.forEach(this.scope.groups,(t=>{const n={id:t.id,name:t.name,nonParticipants:[],total:0,hidden:0};i.forEach(this.scope.nonParticipants,(e=>{(e=this.handlePreferredDisplayName(e)).group.id===t.id&&(e.localizedName=this.bbLocalize.formatUsernameSync(e,o.ILocaleUsernameFormat.Short,null,{noWrap:!0,noEscape:!0}),n.nonParticipants.push(e),n.total++)})),n.hidden=n.total>4?n.total-4:0,n.total>0&&e.push(n)})),e}getTopComments(){this.scope.numberOfCommentsToDisplay=a.k()?3:5,this.scope.discussionData.topComments.forEach((e=>{const t={user:this.handlePreferredDisplayName(e.user),message:b.a.text(e.message),messageId:e.messageId,numReplies:e.numReplies};t.user.localizedName=this.bbLocalize.formatUsernameSync(e.user,o.ILocaleUsernameFormat.Short,null,{noWrap:!0,noEscape:!0}),t.user.avatarData=e.user,this.scope.topComments.push(t),this.scope.displayTopComments=!0}))}getTopParticipants(){this.scope.discussionData.topParticipants.forEach((e=>{const t={user:this.handlePreferredDisplayName(e.user),numComments:e.numComments,numReplies:e.numReplies};t.user.localizedName=this.bbLocalize.formatUsernameSync(e.user,o.ILocaleUsernameFormat.Short,null,{noWrap:!0,noEscape:!0}),t.user.avatarData=e.user,this.scope.topParticipants.push(t),this.scope.displayTopParticipants=!0}))}getNonParticipants(){const e=[];return this.scope.discussionData.nonParticipants.forEach((t=>{t.avatarData=t,t.localizedName=this.bbLocalize.formatUsernameSync(this.handlePreferredDisplayName(t),o.ILocaleUsernameFormat.Short,null,{noWrap:!1,noEscape:!0}),t.localizedNameWithoutWrap=this.bbLocalize.formatUsernameSync(this.handlePreferredDisplayName(t),o.ILocaleUsernameFormat.Short,null,{noWrap:!0,noEscape:!0}),t.preferredDisplayName===o.PreferredDisplayName.Both&&(t.otherName=this.bbLocalize.formatUsernameSync({...t,preferredDisplayName:o.PreferredDisplayName.Other},o.ILocaleUsernameFormat.Brief,null,{noWrap:!0,noEscape:!0}),t.fullName=this.bbLocalize.formatUsernameSync({...t,preferredDisplayName:o.PreferredDisplayName.Given},o.ILocaleUsernameFormat.Short,null,{noWrap:!0,noEscape:!0})),e.push(t)})),e}toggleIndividualNonParticipantDisplay(){s.defer((()=>{let e=i.element("#discussion-insights").find(".non-participant-box").innerWidth()-30;e=e<1118?e:1118;const t=2*Math.ceil((e+20)/126);this.scope.displayedNonParticipants=0;for(let e=0;e<18;e++)e<t&&e<this.scope.totalNonParticipants?(this.scope.showNonparticipant[e]=!0,this.scope.displayedNonParticipants++):this.scope.showNonparticipant[e]=!1;this.scope.additionalNonParticipants=this.scope.totalNonParticipants>this.scope.displayedNonParticipants?this.scope.totalNonParticipants-this.scope.displayedNonParticipants:0,this.scope.nonParticipationSummary=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.discussion.insights.nonParticipationSummary",params:{count:this.scope.displayedNonParticipants,total:this.scope.totalNonParticipants},noWrap:!0}),this.setNonParticipantMargin(e)}))}setNonParticipantMargin(t){const n=e("li.non-participant"),i=Math.floor(t/126),s=126*i+106,a=i-1>0?20+(t-s-2)/i:20+t-s;e(n).css("margin-right",a),e(n[i]).css("margin-right","2px"),2*i+1<=n.length&&e(n[2*i+1]).css("margin-right","2px")}updateNonParticipantView(){const e=this.bbLocalize.getLocale(this.scope);this.scope.nonParticipantsOptions=this.bbLocalize.translateSync({locale:e,key:"components.directives.discussion.insights.nonparticipantsOptions"}),this.scope.numberOfCommentsToDisplay=a.k()?3:5,this.scope.currentPanelWidth=i.element("#discussion-insights").find(".non-participant-box").innerWidth(),this.scope.currentPanelWidth!==this.scope.lastPanelWidth&&(a.k()?this.scope.showLargeNonparticipantPanel=!1:(this.scope.showLargeNonparticipantPanel=!0,this.toggleIndividualNonParticipantDisplay())),this.scope.lastPanelWidth=this.scope.currentPanelWidth}getSafeHtml(e){return this.$sce.trustAsHtml(e)}hasNavScrollbar(){const e=i.element(".group-selector")[0];return!!(e&&e.scrollWidth>e.clientWidth)}goToDiscussion(e){e&&(this.discussion.groupId=e),this.ultraState.search("view","discussions")}goToGrade(e){this.scope.isGradable&&!this.scope.isGroupDiscussion&&this.ultraState.goPeekState("submission-list",{columnId:this.scope.gradingColumn,participantId:e,contentId:this.scope.contentId})}goToMessage(e){this.ultraState.goPeekState(f.o.COURSE_MESSAGE,{courseId:this.scope.courseId,recipientIds:e})}isFocusedNonparticipant(t){return e(document.activeElement).is(i.element(e("a#non-participant-link-"+t)))}sortNamesAlphabetically(e){let t="";return e.sort(((e,t)=>e.givenName+e.familyName<t.givenName+t.familyName?-1:1)).forEach((e=>{t+=e.id+","})),t.slice(0,-1)}goToMessageAll(){const e=this.sortNamesAlphabetically(this.scope.nonParticipants);this.ultraState.goPeekState(f.o.COURSE_MESSAGE,{courseId:this.scope.courseId,recipientIds:e,conversationPerRecipient:!0})}isPreferedNameBoth(e){return e.preferredDisplayName===o.PreferredDisplayName.Both}subscribeToReduxChanges(){const e=this.$ngRedux.connect((e=>({otherNameAsDisplayNameSystemPreference:S.gc.systemPreference.getSystemPreferenceByKey(e,C.i)})),(e=>({loadOtherNameAsDisplayNameSystemPreference:t=>e(S.X.systemPreference.loadSystemPreference(t))})))(this);this.scope.$on("$destroy",e)}handlePreferredDisplayName(e){var t;return e&&(null===(t=this.otherNameAsDisplayNameSystemPreference)||void 0===t?void 0:t.value)&&(e.preferredDisplayName="Y"===this.otherNameAsDisplayNameSystemPreference.value?e.preferredDisplayName:void 0),e}}I.$inject=["$window","$sce","scope","element","$stateParams","$ngRedux",o.serviceName,p.b,m.c,u.d,g.m.serviceName];class w{constructor(e){this.$injector=e,this.restrict="EA",this.template=k,this.scope={content:"&"},this.link=(e,t,n)=>{e.discussionInsights=this.$injector.instantiate(I,{scope:e,element:t,attrs:n})}}}w.$inject=["$injector"],i.module(E,[r.a,l.a,c.a,v.a,d.a,p.a,h.a,u.b]).directive("bbDiscussionInsights",["$injector",e=>e.instantiate(w)])}).call(this,n("71td"))},TnpK:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return C})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return I})),n.d(t,"a",(function(){return A}));n("JzsJ"),n("KUD0");var i=n("nsO7"),s=n("Llzl"),a=n("yC9S"),o=n("t6zR"),r=n("0JpG"),l=n("yA26"),c=n("w9Zy"),d=n("5MwF"),u=n("Fvsw"),m=n("lVRt"),p=n("jhBu"),h=n("lEL+"),g=n("k9iv"),b=n("ZzR9"),f=n("Q/M7"),v=n("Y+9S"),y=n("ORAk"),k=n("TT9l"),x=n("nmzr"),S=n("6fZB");const C="ultra.router",E="ultraState",I=E+"Provider",w="DefaultBasePage",A=".peek.";function O(e){e&&Object.keys(e).forEach((t=>{const n=e[t];Array.isArray(n)&&(e[t]=Array.from(new Set(n)),1===e[t].length&&(e[t]=n[0]))}))}function D(e,t){const n=/^(\^)?(\??)(\w+)/.exec(e),i={searchParents:!1,optional:!1,name:t};return n&&(i.searchParents="^"===n[1],i.optional="?"===n[2],i.name=n[3]?n[3]:t),i}function T(e){if(i.isString(e))return e;const t=e[e.length-1];return i.isString(t)?t:""}class P{constructor(t,n){this.$stateProvider=t,this.addedStates={},this.initAllStates=!1,this.$get=["$rootScope","$state","$injector","$sce","$window",c.e,u.b,w,h.b,g.c,(t,n,i,s,r,l,c,u,m,p)=>{this.$state=n,this.$rootScope=t,this.defaultBasePage=u,this.context=c,this.timeout=m;const h=this.baseStates.map((e=>e.name));if(a.b.OnRootScope(t,b.b.$stateChangeSuccess,((e,t)=>{r.top===r.self&&-1!==h.indexOf(t.name)&&(c.basePage=t.name,sessionStorage.setItem(o.a.getBasePageStorageKey(),c.basePage))})),a.b.OnRootScope(t,b.b.$stateChangeSuccess,((e,t,n,i,s)=>{if(i.name&&t.name&&i.name.split(A).length<t.name.split(A).length)return;const a=""===i.name,o=i.panelClass||"peek",r=t.panelClass||"peek";this.timeout((()=>{"peek"!==o||"full"!==r||a||l.expandTopPanel(),"full"===o&&"peek"===r&&l.shrinkTopPanel()}),this.$rootScope,0,!1)})),a.b.OnRootScope(t,b.b.$stateChangeStart,((e,t,s,a,o)=>{n.next=t,O(s),n.nextParams=s,a&&(n.prev={name:a.name}),O(o),n.prevParams=o,t.routingFunction&&(e.preventDefault(),i.invoke(t.routingFunction))})),a.b.OnRootScope(t,b.b.$stateChangeError,((t,i,a,o,r,l)=>{l.errorModalConfig&&p.openModal(l.modalConfig);if(l&&l.userNotEntitled)n.go(u);else if(l.goToBasePage)n.goCurrentBasePage();else{if(f.m("inPreviewMode",window.location.href)){const t=s.trustAsResourceUrl(f.c(`/ultra/courses/${n.nextParams.courseId}/outline/?inPreviewMode=true`));e(window.parent.document).find("#preview-iframe").attr("src",t)}if(!d.a.production)throw console.error("$stateChangeError when moving from "+o.name+" to "+i.name),l}})),this.initAllStates)this.createAllStates();else{this.registerPeekStates(n.get(this.defaultBasePage));const e=n.get(sessionStorage.getItem(o.a.getBasePageStorageKey())||this.defaultBasePage);e&&e.name!==this.defaultBasePage&&this.registerPeekStates(e)}return n}],this.baseStates=[],this.peekStates={},this.absoluteUrls=[],t.decorator("resolve",(function(e,t){const n=t?t(e):e.resolve;return n.childrenStates&&n.childrenStates.length>0&&n.childrenStates.push(i.once(n.childrenStates.pop())),n})),t.decorator("resolve",(function(e,t){const n=t?t(e):e.resolve;for(let e of Object.keys(n)){const t=n[e],s=D(e,e);s.optional&&(delete n[e],e=s.name,n[e]=t);const a=T(t);if(a){const t=D(a,e);t.searchParents?n[e]=[t.name,e=>e&&e.isLazy?e():e]:console.error("Illegal resolve format. Did you forget to prepend ^?")}if(s.optional){const t=n[e],s=t.slice?t.slice(0,t.length-1):[];n[e]=["$injector",...s,(e,...n)=>{const a=i.once((()=>{const i={};for(let e=0;e<s.length;e++)i[s[e]]=n[e];return e.invoke(t,void 0,i)}));return a.isLazy=!0,a}]}}return n})),t.decorator("url",(function(e,t){const i=t(e);return i&&(i.exec=function(t,...a){const o=this.regexp.source;new RegExp(o.substr(0,o.length-1)+"/").test(t)&&n.invoke(e.resolve.childrenStates||[s.noop]);const r=a?[t].concat(a):[t];return i.constructor.prototype.exec.apply(this,r)}),i})),(e=>{const n=this;t.state=function(...t){return n.addedStates["string"==typeof t[0]?t[0]:t[0].name]=!0,e.apply(this,t)}})(t.state)}baseState(e,t){window.top!==window&&f.m("inPreviewMode",window.location.href)&&(t.require=()=>n.e(703).then(n.bind(null,"shLZ")),t.peekViewName=void 0),t=this.getStateWithName(e,t),this.baseStates.push(t);return(t.resolve=t.resolve||{}).childrenStates=[()=>{this.registerPeekStates(t)}],this.$stateProvider.state(t),this}peekState(e,t){const n=(t=this.getStateWithName(e,t)).name.split(".")[0];return this.peekStates[n]=this.peekStates[n]&&this.peekStates[n].concat(t)||[t],this}state(e,t){return t=this.getStateWithName(e,t),this.$stateProvider.state(t),this}registerPeekStates(e){if(e&&e.peekStates){const t={};if(t.name=e.name+".peek",!Object.prototype.hasOwnProperty.call(this.addedStates,t.name)&&null==this.$state.get(t.name)){let i;t.onExit=[c.e,E,(e,n)=>{i&&k.a.popBanner(t.name),e.close(t.name)}],t.resolve={offCanvasArgs:[E,n=>{const s=P.getPanelStateNameFromNextState(n.next.name,t.name),a=n.get(s),o=k.a.currentPanelBanner(),r=o&&"full"!==o.panelClass&&"full"===a.panelClass;return(2===s.split(A).length||r)&&(i=k.a.createBanner()),{banner:i,panelClass:a&&a.panelClass||"peek",pageTitle:a&&a.pageTitle,template:y.replace("{0}",this._getPanelName(e)),close:()=>(this.$rootScope.bbOffcanvasOpened&&n.go(e.name),!1),stateName:t.name,overlay:null==a||null==a.overlay||a.overlay}}]},e.peekViewName?(t.views={},t.views[e.peekViewName]={require:()=>Promise.resolve().then(n.bind(null,"yA26"))}):t.require=()=>Promise.resolve().then(n.bind(null,"yA26")),this.$stateProvider.state(t)}this.createAllPeekStates(e,e.peekStates)}}createAllPeekStates(e,t){const n=e.name+A;t.forEach((t=>{(this.peekStates[t]||[]).forEach((t=>{this._checkAbsoluteUrl(t);const i=n+t.name;if(Object.prototype.hasOwnProperty.call(this.addedStates,i)||null!=this.$state.get(i))return;const a=s.copy(t);a.name=i,a.abstract||(a.urlHandler=["$location",E,"$match",(t,n,s)=>{var a,r;const l=e=>{const t=e.split("."),n=i.split(".");return t.forEach(((e,t)=>{n[t]=e})),n.join(".")};if(!(null==n.$current.navigable||n.includes(e.name)||(null===(a=n.get(n.$current.name))||void 0===a?void 0:a.onChildStateEnter)||(null===(r=n.get(i))||void 0===r?void 0:r.onChildStateEnter)))return!1;{let e;e=this._isAbsoluteUrl(t.url())?l(sessionStorage.getItem(o.a.getBasePageStorageKey())||this.defaultBasePage):i,null==n.get(e)&&(e=l(this.defaultBasePage)),n.$current.name!==e&&n.transitionTo(e,s,{location:!1})}}]),a.views||(a.views={},a.views[this._getPanelName(e)]={template:a.template,controller:a.controller,require:a.require}),delete a.template,delete a.controller,delete a.require,a.getPageTitle&&(a.pageTitle=a.getPageTitle());const r=()=>{a.peekStates&&a.peekStates.length>0&&("full"===a.panelClass||a.allowChildPeekStates?this.registerPeekStates(a):this.createAllPeekStates(e,a.peekStates))};if(this.initAllStates)this.$stateProvider.state(a),r();else{(a.resolve=a.resolve||{}).childrenStates=[r],this.$stateProvider.state(a),a.peekStates&&a.peekStates.length>0&&"full"!==a.panelClass&&!a.allowChildPeekStates&&this.createAllPeekStates(e,a.peekStates)}}))}))}static getPanelStateNameFromNextState(e,t){const n=e.indexOf(A,t.length);return-1!==n?e.substr(0,n):e}_getPanelName(e){return e.name.split(".").join("-").concat("-panel@")}_checkAbsoluteUrl(e){if(e.url&&0===e.url.indexOf("^")){const t=e.url.match(/\/:[a-zA-Z]+/);let n=e.url;t&&(n=n.substring(0,t.index)),n=n.substring(1);const i=n.match(/\(\?:([^\)]*)/);i?i[1].split("|").forEach((e=>{this.absoluteUrls.push(`/${e}`)})):-1===this.absoluteUrls.indexOf(n)&&this.absoluteUrls.push(n)}}_isAbsoluteUrl(e){return i.find(this.absoluteUrls,(t=>0===e.indexOf(t)))}createAllStates(){this.baseStates&&this.baseStates.length>0&&this.baseStates.forEach((e=>{this.registerPeekStates(e)}))}createAllStatesOnInit(){this.initAllStates=!0}getStateWithName(e,t){return s.isObject(e)?t=e:t.name=e,this._initStateEntitlements(t),t}_initStateEntitlements(e){this._initSystemEntitlementChecks(e),this._initCourseEntitlementChecks(e)}_initSystemEntitlementChecks(e){e.systemEntitlement&&(e.resolve||(e.resolve={}),e.resolve.systemEntitlement=["$q",p.b,(t,n)=>n.hasSystemEntitlement(e.systemEntitlement).then(this._configureStateChangeCallback(t))])}_configureStateChangeCallback(e){return t=>{const n=e.defer();return t?n.resolve():n.reject({userNotEntitled:!0}),n.promise}}_ensureCourseIdParam(e,t){return t.nextParams.courseId?e.resolve():e.reject("Cannot check course entitlements when the state does not have a courseId parameter.")}_guardEntitlementInjectable(e){const t=Array.isArray(e)?e.slice(0,e.length-1):[];return["$q","$injector",E,...t,(n,s,a,...o)=>{const r=i.zipObject(t,o);return this._ensureCourseIdParam(n,a).then((()=>{try{return s.invoke(e,void 0,r)}catch(e){return n.reject(e)}})).then(this._configureStateChangeCallback(n)).catch((()=>n.reject({userNotEntitled:!0})))}]}_getDefaultEntitlementInjectable(e){return[p.b,E,(t,n)=>"string"==typeof e?t.hasCourseEntitlement(e,n.nextParams.courseId):t.hasAnyCourseEntitlement(e,n.nextParams.courseId)]}_initCourseEntitlementChecks(e){let t;e.courseEntitlement&&(t=this._getDefaultEntitlementInjectable(e.courseEntitlement)),e.resolve&&Object.prototype.hasOwnProperty.call(e.resolve,"courseEntitlement")&&(t=e.resolve.courseEntitlement),t&&(e.resolve||(e.resolve={}),e.resolve.courseEntitlement=this._guardEntitlementInjectable(t))}}P.$inject=["$stateProvider","$injector"];s.module(C,["ui.router","oc.lazyLoad",u.a,c.d,l.moduleName,h.a]).provider(E,P).constant(w,d.a.defaultBasePage).config(["$provide","$ocLazyLoadProvider",(e,t)=>{e.decorator("$state",["$injector","$delegate","$resolve","$q","$$animateJs","$ocLazyLoad","$rootScope",u.b,c.e,(e,t,n,a,o,l,d,u,p)=>{t.goPeekState=(...e)=>{if(t.current.onChildStateEnter){const n=e[0],i=t.current.onChildStateEnter(t,n);if(i)return t.go(i.stateName,{...i.args,...e[1]},e[2])}return p.getTopElement().then((n=>{const i=n&&n.name||u.basePage;return t.getPeekStateName(e[0],i).then((n=>(e[0]=n,t.go.apply(t,e))))}))},t.leavePeekState=e=>{null==e&&(e=t.current.name);const n=e.lastIndexOf(A);return-1!==n?t.go(e.substring(0,n)):a.when()},t.peekHref=(e,n,i)=>(i?a.when(new c.a(null,null,i)):p.getTopElement()).then((s=>(i=s&&s.name||u.basePage,t.getPeekStateName(e,i).then((e=>t.href(e,n)))))),t.isPeekPanelOpen=()=>-1!==t.current.name.indexOf(".peek."),t.getPeekStateName=(n,i)=>i===u.basePage?a.when(i+A+n):p.getElement(i).then((()=>{const e=P.getPanelStateNameFromNextState(t.current.name,i),s=e.lastIndexOf(A),a=t.current.name.substring(s+A.length).split(".")[0],o=n.split(".")[0];if(a===o)return t.current.name.substring(0,s+A.length)+n;const r=n.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),l=new RegExp("(^|\\.)"+r+"(\\.|$)");let c=e.search(l);if(-1!==c){const t=new RegExp("(^|\\.)"+r+"(\\.)");return c=e.search(t)?c+1:c,e.substring(0,c+n.length)}const d=t.get(e);return"full"===d.panelClass||d.allowChildPeekStates&&-1!==d.peekStates.indexOf(o)?e+A+n:e.substring(0,s+A.length)+n})).then((n=>{const i=function(n){if(!t.get(n.join("."))){const e=n.pop();i(n),n.push(e)}e.invoke((t.get(n.join("."))&&t.get(n.join(".")).resolve||{}).childrenStates||[s.noop])};return i(n.replace(/\n/g,"").replace(/(^[^\(\)]*)\(.*\)$/,"$1").split(".")),n})),t.goCurrentBasePage=()=>t.go(t.getBaseState()),t.goToRoute=(e,n)=>t.go(e,n),t.getBaseState=()=>u.basePage,t.search=(e,n,i)=>{const a=t.params;if(s.isString(e)&&n?a[e]=n:Object.keys(e).forEach((t=>{a[t]=e[t]})),t.current.name)return t.go(t.current.name,a,i)},t.getCurrentUrlParams=()=>{const e=t.$current.url.parameters(),n=Object.create(null);return e.forEach((e=>{t.params[e]&&(n[e]=t.params[e])})),n},t.requireAllStates=function(){const e=this,t=this.get(),n=[];return t.forEach((t=>{t&&null!=t.name&&n.push(e.requireState(t.name))})),a.all(n)},t.requireState=function(e){const t=this,n=e.split("."),o=[];for(let e=0;e<n.length;e++)o.push(n.slice(0,e+1).join("."));const c=()=>{const e=o.shift();if(null==e)return!0;const n=t.get(e);if(!n)return c();let d=[];const u=[];if(n.require&&(s.isArray(n.require)||(n.require=[n.require]),d=d.concat(n.require),u.push(n)),n.views&&s.isObject(n.views)&&Object.keys(n.views).forEach((e=>{const t=n.views[e];t.require&&(s.isArray(t.require)||(t.require=[t.require]),d=d.concat(t.require),u.push(t))})),d.length<1)return c();const m=a.defer(),p=[],h=new Map,g=d.map((e=>e().then((t=>(h.set(e,t),t)))));return a.all(i.compact(g)).then((()=>{u.forEach((e=>{s.isArray(e.require)&&(e.require.forEach((t=>{const i=h.get(t),a=i.panelDefinition||{},o=a&&a.moduleName||i.moduleName;o&&p.push(l.load({name:o}));const c=a&&a.template||i.template;c&&!e.template&&(e.template=c);const d=a&&a.templateProvider||i.templateProvider;d&&(e.templateProvider=d);const u=a&&a.controllerName||i.controllerName;u&&!e.controller&&(e.controller=u);const m=a&&a.resolve;m&&(e.resolve=s.extend(e.resolve||{},m));const g=a&&a.translations;g&&(e.resolve=s.extend(e.resolve||{},{loadedTranslations:["$q",r.serviceName,(e,t)=>e.all(g.map((e=>t.loadBundle(e))))]}));const b=a&&a.pageTitle;b&&!n.pageTitle&&(n.pageTitle=b)})),e.require=!1)})),a.all(i.compact(p)).then((()=>{m.resolve(c())}),(e=>{m.reject(e)}))}),(e=>{m.reject(e)})),m.promise};return c()};const h=t.transitionTo;t.transitionTo=function(...e){const t=this;let n=e[0];return s.isObject(n)&&(n=n.self.name),a.all([this.requireState(n)]).then((()=>h.apply(t,e)))};const g=t.href;t.href=(e,t,n)=>g(e,t,s.extend(n||{},{absolute:!0})),t.getCurrentResolvedValues=function(){return t.$current&&t.$current.locals&&t.$current.locals.resolve?t.$current.locals.resolve.$$values:{}};const f=(e,n)=>{if(!n||!n.name)return!1;if(e===m.c&&"resolve"in n&&e in n.resolve)return!0;if(e===m.b&&"resolve"in n&&e in n.resolve)return!0;const s=t.get(i.dropRight(n.name.split(".")).join("."));return f(e,s)};return t.hasCourseInContext=e=>f(m.c,e),t.hasContentInContext=e=>f(m.b,e),x.bb.setRouteHandler(function(e,t){return{goPeekState:(t,...n)=>Object(S.a)(e.goPeekState(t,...n)),goToRoute:(t,n)=>Object(S.a)(e.goToRoute(t,n)),leavePeekState:t=>Object(S.a)(e.leavePeekState(t)),getPeekHref:(t,n,i)=>Object(S.a)(e.peekHref(t,n,i)),getHref:(t,n,i)=>e.href(t,n,i),search:(t,n)=>Object(S.a)(e.search(t,null,n)),onRouteChanging:e=>t.$on(b.b.$stateChangeStart,((t,n,i,s,a)=>{const o={toState:n,toParams:i,fromState:s,fromParams:a,preventRouteChange:t.preventDefault.bind(t)};e(o)}))}}(t,d)),t}])}]),s.module(C).run(["$rootScope",E,u.b,w,function(e,t,n,i){const s=sessionStorage.getItem(o.a.getBasePageStorageKey());n.basePage=s||i,e.$on(b.b.$stateChangeSuccess,((n,i,s,a,o)=>{const r=t.hasCourseInContext(a),l=t.hasCourseInContext(i);r!==l&&e.$broadcast(b.b.$stateHasCourseInContextChanged,l,r);const c=t.hasContentInContext(a),d=t.hasContentInContext(i);c!==d&&e.$broadcast(b.b.$stateHasContentInContextChanged,d,c);const u=i.name&&Object(v.i)(i.name),m=a.name&&Object(v.i)(a.name);Object(v.p)(u,m)}))}])}).call(this,n("71td"))},Tt7N:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-calculation",use:"icon-small-calculation-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-calculation"><path d="M4 2v4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="10" cy="10" r=".5" /><circle cx="14" cy="14" r=".5" /><path d="M2 10l4 4M2 14l4-4M14 10l-4 4M14 4h-4M6 4H2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},TuNX:function(e,t){e.exports='<bb-modal class="notification proctoring-modal" analytics-id-tag-prefix="components.services.proctoring">\n  <div name="modal-contents">\n    <p bb-translate>{{::requirementsText}}</p>\n    <p ng-bind-html="::downloadText"></p>\n    <p bb-translate>{{::browserText}}</p>\n  </div>\n  \x3c!-- htmlhint:analytics-id:disable --\x3e\n  <button name="modal-footer-button-primary"\n          role="button"\n          class="button js-primary-button proctoring-modal-button"\n          ng-click="$parent.$dismiss()"\n          bb-translate-attrs="{\'aria-label\':\'components.services.proctoring.modal.continue\'}"\n          analytics-id="components.services.proctoring.modal.continue.button"\n  >\n  \x3c!-- htmlhint:analytics-id:enable --\x3e\n    <bb-translate>components.services.proctoring.modal.continue</bb-translate>\n  </button>\n</bb-modal>\n'},U50L:function(e,t){e.exports='<bb-modal id="notification-modal-api-error"\n          class="notification"\n          modal-aria-type="alertdialog"\n          modal-translate-options="translateOpts"\n          analytics-id-tag-prefix="components.services.error-modal.error-not-enough-submissions">\n  <div name="modal-contents">\n    <p bb-translate>{{::descriptionKey}}</p>\n  </div>\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button js-primary-button"\n          bb-translate\n          analytics-id="components.services.error-modal.dismiss">components.services.error-modal.dismiss</button>\n</bb-modal>\n'},U8wS:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("Llzl"),s=n("5MwF"),a=n("TnpK");const o="ultra.data-ui.routes";i.module(o,[a.b]).config([a.c,e=>{e.baseState("base.dataUi",{url:"^/data-ui",require:()=>n.e(659).then(n.bind(null,"gNT0")),onEnter:[a.d,e=>{s.a.production&&e.go("base.not-found")}]})}])},UD9g:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n("nsO7"),s=n("Llzl"),a=n("0JpG"),o=n("pjml"),r=n("TnpK"),l=n("3bn4");const c="ultra.course.engagement.course-no-grade-content-goal-alignment",d="ultra.course.engagement.course-no-grade-content-goal-alignment.service",u="no-grade-content-goal-alignment",m=["course","goal-alignment","goal"];class p extends l.a{constructor(){super(...arguments),this.panelClass="peek no-grade-content-goal-peek"}resolveGoalAlignableContent(){return["$q",a.serviceName,"$injector",r.d,o.m.serviceName,(e,t,n,i,s)=>{let a,o,r=null;return i.nextParams&&i.nextParams.contentId&&(r=i.nextParams.contentId),i.nextParams&&i.nextParams.id&&(r=i.nextParams.id),r&&"create"!==r?s.$find(i.nextParams.courseId).$asPromise().then((e=>(a=e,e.contents.$find(r).$asPromise()))).then((e=>{o=e})).then((()=>e.all([a.contents.$find(o.id,{expand:"alignedGoals,permissions"}).$asPromise(),t.loadBundle(`features/${m.join("/")}`)]).then((([e])=>this.groupGoals(a.contents.$buildRaw(e),t))))):e.when([])}]}getPeekStateName(){return u}groupGoals(e,t){let n="alignedGoalsDefaultTitle";return e.isDiscussion()?n="goalsAlignedWithDiscussion":e.isDocument()?n="goalsAlignedWithDocument":e.isFile()?n="goalsAlignedWithFile":e.isLink()?n="goalsAlignedWithLink":e.isLtiLink()?n="goalsAlignedWithLtiLink":e.isLtiPlacement()&&(n="goalsAlignedWithLtiPlacement"),[{getContentTitleForGoalAlignment:()=>t.translateSync({locale:null,key:`${m.join(".")}.${n}`}),getContentIdForGoalAlignment:s.bind(e,e.getContentIdForGoalAlignment),isCurrentUserEligibleToAlignGoals:s.bind(e,e.isCurrentUserEligibleToAlignGoals),alignedGoals:e.alignedGoals?e.alignedGoals.map((t=>(t.content=e,t))):[],coreContent:e}]}getOverrideSubTitle(){return[r.d,o.m.serviceName,(e,t)=>{let n=null;return e.nextParams&&e.nextParams.contentId&&(n=e.nextParams.contentId),e.nextParams&&e.nextParams.id&&(n=e.nextParams.id),n?t.$find(e.nextParams.courseId).$asPromise().then((e=>e.contents.$find(n).$asPromise())).then((e=>e.title)):""}]}}p.$inject=["$injector","$q"],s.module(c,[r.b,a.moduleName]).config([r.c,e=>{const t=new p;e.peekState(t.getPeekStateName(),t)}]).service(d,["$injector",a.serviceName,function(e){return{resolveGoalAlignableContents:()=>e.invoke((new p).resolveGoalAlignableContent(),null,{}).then((e=>[e,i.flatten(i.compact(e.map((e=>e.alignedGoals)))).length]))}}])},UEFj:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-beast-analytics",use:"icon-small-beast-analytics-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-beast-analytics"><rect x="1" y="1" width="14" height="14" rx="7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M8 8V1M8 8l5-4M8 8l4.5 4.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},UODz:function(e,t){e.exports='<div class="submission-card" ng-class="{\'is-late\': isLate, \'inline\': inline}" bb-load-bundle="components/directives/submission-card">\n  <div class="panel" ng-class="{\'clickable-panel\': clickable}">\n    <bb-ui-icon-large-assignments class="submission-card__icon" ng-if="!inline" color="{{::submissionCard.showLateIcon ? \'error\' : \'inherit\'}}"></bb-ui-icon-large-assignments>\n    <div class="info" ng-class="{\'completed\': submissionCard.attempt.isCompleted(), \'rubric-icon-spacing\': submissionCard.shouldExpandForRubricIcon()}">\n      <span class="name ellipsis" bb-translate ng-if="!inline">{{title}}</span>\n      <span class="detail">\n        <span class="test-status ellipsis" ng-show="!!status">\n          <span class="inline-status" ng-if="inline && !hasAttempt && showLate" bb-translate>\n            components.directives.submission-card.outlineStatus.late\n          </span>\n          <span class="inline-status" ng-if="inline && !hasAttempt && !showLate" bb-translate>\n            components.directives.submission-card.outlineStatus.new\n          </span>\n          <span ng-if="inline && !hasAttempt"> - </span>\n          <span bb-translate class="status">{{status}}</span>\n          <ng-switch on="submissionCard.attempt.status" ng-if="submissionCard.attempt">\n            <bb-datetime class="date" format="Short" ng-switch-when="COMPLETED" value="::submissionCard.attempt.attemptLastGradedDate"></bb-datetime>\n            <bb-datetime class="date" format="Short" ng-switch-default value="::submissionCard.attempt.attemptDate"></bb-datetime>\n          </ng-switch>\n          <bb-datetime class="date" format="Short" ng-if="!submissionCard.attempt && gradingColumn.dueDate" value="::gradingColumn.dueDate"></bb-datetime>\n        </span>\n      </span>\n    </div>\n    <div class="grade-container">\n      <ng-switch on="gradeDetail.isPosted()">\n        <bb-display-grade ng-switch-when="true"\n                          grade-detail="gradeDetail"\n                          column="gradingColumn"\n                          display-type="GradeColor"\n                          show-rubric-button="showRubricButton()"\n                          show-rubric-div="showRubricDiv()"></bb-display-grade>\n        <bb-display-grade ng-switch-default\n                          attempt="submissionCard.attempt"\n                          display-type="AttemptStatus"></bb-display-grade>\n      </ng-switch>\n    </div>\n  </div>\n</div>\n'},UP3t:function(e,t){e.exports='<div class="bb-course-catalog-link" ng-if="shouldDisplayCatalogLink">\n  <a href="javascript:void(0);"\n     class="catalog-anchor-tag"\n     ng-if="!isExternalCatalog"\n     ng-click="handleCatalogLink()"\n     course-org-token-resolver\n     aria-label="{{ariaLabel}}"\n     analytics-id="base.baseCourses.courseCatalog.link">\n    <span ng-if="windowSizeService.isLargeBreakpoint()">\n      <bb-translate course-org-token-resolver>base.baseCourses.link</bb-translate>\n      <bb-svg-icon class="catalog-icon-large-breakpoint" size="medium" icon="programs" />\n    </span>\n    <bb-svg-icon class="catalog-icon-small-breakpoint" size="small" icon="course_catalog_default" ng-if="!windowSizeService.isLargeBreakpoint()" />\n  </a>\n  <a class="catalog-anchor-tag"\n     ng-if="isExternalCatalog"\n     href="{{ ::externalCatalogUrl }}"\n     target="_blank"\n     rel="noopener noreferrer"\n     course-org-token-resolver\n     bb-translate-attrs="{\'aria-label\': \'base.baseCourses.aria-label.externalLink\'}"\n     analytics-id="base.baseCourses.courseCatalog.externalLink.link">\n    <span ng-if="windowSizeService.isLargeBreakpoint()">\n      <bb-translate course-org-token-resolver>base.baseCourses.externalLink</bb-translate>\n      <bb-svg-icon class="catalog-icon-large-breakpoint" size="medium" icon="programs" />\n    </span>\n    <bb-svg-icon class="catalog-icon-small-breakpoint" size="small" icon="course_catalog_default" ng-if="!windowSizeService.isLargeBreakpoint()" />\n  </a>\n</div>\n'},UeHE:function(e,t){e.exports='<div ng-if="addContentButton.isCloudServiceAvailable">\n  <bb-file-upload\n    allow-multiple="true"\n    monitor-leave="true"\n    target-div="{{\'#\' + fileListViewId}}"\n    hide-transclude-during-upload="false"\n    click-enabled="false"\n    primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n    skip-zip-file-check="true"\n    disable-drag="true"\n    is-third-party-upload="true"\n    third-party-download-handler="addContentButton.downloadFile"\n    ignored-states="::ignoredStates()">\n    <button ng-click="addContentButton.assignPosition()"\n            class="doc-add-media clear ng-scope"\n            bb-cloud-storage-integration\n            primary-key="primaryKey && primaryKey() ? primaryKey() : fileListViewLocalId"\n            attach-handler="addContentButton.cloudUploadAttachHandler"\n            web-location="{{webLocation}}"\n            file-location="{{fileLocation}}"\n            allow-multiple="true"\n            on-files-selected="addContentButton.onFilesSelectedHandler"\n            analytics-id="components.directives.add-content-button.cloud-upload.button">\n      <div class="import-action-header">\n        <i class="icon-cloud add-content-cloud-upload-icon"></i>\n        <span bb-translate>components.directives.add-content-button.importContentFromCloudStorage.title</span>\n        <div class="action-details" bb-translate="components.directives.add-content-button.importContentFromCloudStorage.description"></div>\n      </div>\n    </button>\n  </bb-file-upload>\n</div>\n'},Ui4O:function(e,t){e.exports='<div class="grade-grid-cell grade-grid-body-cell"\n  ng-click="!isDisabled && gradeGridColumnReborn.enterEditor($event)"\n  analytics-id="components.directives.grade.grid.gradeGridColumnReborn.enterEdit"\n>\n  <div class="score hide" aria-label="{{gradeGridColumnReborn.ariaLabelContent}}">\n    <div id="displayedScore" class="hide">\n      <span id="display" class="ellipse hide"></span>\n      <span id="posted"  class="grade-posted-symbol hide" bb-translate>components.directives.grade.grid.postedLabel</span>\n      <span id="pastDueZero" class="past-due-zero-symbol hide" bb-translate>components.directives.grade.grid.pastDueZero</span>\n      <span id="slash" class="slash hide"></span>\n      <span id="pointsPossible" class="pointsPossible hide"></span>\n      <span id="exempt" class="item-exempt-symbol hide" bb-translate>components.directives.grade.grid.exemptLabel</span>\n    </div>\n\n    <div id="gradeNow" class="hide" aria-label="{{gradeGridColumnReborn.ariaLabelContent}}">\n      <a href="javascript:void(0);"\n         analytics-id="components.directives.grade.grid.gradeNow"\n         bb-translate>components.directives.grade.grid.gradeNow</a>\n    </div>\n\n    <div id="newSubmission" class="hide">\n      <span class="new-submission" bb-translate>components.directives.grade.grid.newSubmissionLabel</span>\n    </div>\n\n    <span id="blank" class="sr-only">\n        {{gradeGridColumnReborn.ariaLabelContent}}\n    </span>\n  </div>\n  <div id="group" class="group-label" ng-if="!gradeGridColumnReborn.isRestrictedGroupContent">{{gradeGridColumnReborn.group.groupTitle}}</div>\n  <div id="ungraded" class="ungraded hide">\n    <span class="ellipse">{{gradeGridColumnReborn.ungraded}}</span>\n  </div>\n  <div class="anonymous hide">\n    <button\n      bb-tooltip\n      enhanced-tooltip="true"\n      tooltip-position="bottom-center"\n      class="anonymous-button"\n      analytics-id="components.directives.grade.grid.anonymous.button"\n      bb-translate-attrs="{ title: \'components.directives.grade.grid.anonymous.tooltip\' }">\n      <span bb-translate>components.directives.grade.grid.anonymous.label</span>\n    </button>\n  </div>\n</div>\n'},UiBk:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("Llzl"),s=n("0JpG"),a=n("Qbdf"),o=n("36CG"),r=n("X455"),l=n("8W6D"),c=n("p7NW"),d=n("2Tae"),u=n("TnpK"),m=n("gkef"),p=n("nmzr");const h="ultra.course.rubrics.router";i.module(h,[s.moduleName,u.b,m.a,d.b,a.b,o.d,r.a]).config([u.c,a.c,r.b,o.e,(e,t,i,o)=>{e.peekState(p.H.Rubric.RUBRIC,{abstract:!0,url:"/rubric",resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/course/rubric/rubric"),t.loadBundle("components/services/rubric"),t.loadBundle("features/course/goal-alignment/goal")])],[a.d]:t.resolve,mode:()=>l.a.None}}).peekState(p.H.Rubric.RUBRIC_MODE,{url:"?rubricId&mode",panelClass:"full",pageTitle:"course.rubric.title",peekStates:[d.a],peekViewName:"rubric-grid-peek@",require:()=>Promise.all([n.e(735),n.e(81),n.e(561)]).then(n.bind(null,"gAA+")),resolve:{currentRubric:[a.d,c.g,u.d,(e,t,n)=>{switch(n.nextParams&&n.nextParams.mode.toLowerCase()){case l.a.Create:return t.generateDefaultRubric(e);case l.a.Edit:return n.nextParams.rubricId?e.rubrics.$find(n.nextParams.rubricId,{expand:"rows.alignedGoals,permissions"}).$asPromise():null;case l.a.Copy:return e.rubrics.$find(n.nextParams.rubricId,{expand:"rows.alignedGoals,permissions"}).$asPromise().then((e=>t.createRubricCopy(e)));default:return null}}],hasEvaluations:["currentColumn",u.d,(e,t)=>(t.nextParams&&t.nextParams.mode.toLowerCase())===l.a.Edit&&(e?e.hasEvaluations():null)],mode:[u.d,e=>{switch(e.nextParams&&e.nextParams.mode.toLowerCase()){case l.a.Create:return l.a.Create;case l.a.Edit:return l.a.Edit;case l.a.Copy:return l.a.Copy;default:return l.a.None}}]}}).peekState(p.H.Rubric.RUBRIC_EVALUATION,{url:"/rubric-evaluation?userId&columnId",panelClass:"peek",pageTitle:"course.rubricEvaluation.title",params:{columnId:null,groupId:null,userId:{array:!1}},require:()=>Promise.all([n.e(18),n.e(723)]).then(n.bind(null,"nWWf")),resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/course/rubric/rubric"),t.loadBundle("components/services/rubric")])],[r.c]:i.resolve,offCanvasArgs:["offCanvasArgs",m.b,(e,t)=>(e.overlay=!t.isLargeBreakpoint(),e)]}}).peekState(p.H.Rubric.RUBRIC_VIEW,{url:"/rubric-view?columnId",panelClass:"peek",pageTitle:"course.rubricView.title",params:{columnId:null},require:()=>Promise.all([n.e(18),n.e(724)]).then(n.bind(null,"L8+l")),resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/course/rubric/rubric"),t.loadBundle("components/directives/rubric/rubric-view"),t.loadBundle("components/services/rubric")])],offCanvasArgs:["offCanvasArgs",m.b,(e,t)=>(e.overlay=!t.isLargeBreakpoint(),e)]}})}])},UioO:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Llzl"),s=n("0JpG");const a="ultra.components.directives.bbDatetime";class o{constructor(e,t,n){this.$parse=e,this.$q=t,this.bbLocalize=n,this.restrict="E",this.scope={value:"&"},this.link=(e,t,n)=>{const a=n.format,o=n.timezoneFormat;e.$watch((()=>e.value()),(n=>{let r=s.ILocaleDatetimeFormat.Short,l=s.ILocaleTimezoneFormat.Short;if(!i.isDate(n))return t.html("");if(a&&(r=this.bbLocalize.getFormatEnum(s.ILocaleDatetimeFormat,a)),o&&(l=this.bbLocalize.getFormatEnum(s.ILocaleTimezoneFormat,o)),a&&o)this.bbLocalize.translate({locale:this.bbLocalize.getLocale(e),key:`components.directives.datetime.datetimeWithTimezone.${a.toUpperCase()}_datetime_${o.toUpperCase()}_timezone`,params:{datetime:n},noWrap:!0,noEscape:!0}).then((e=>{t.html(e)}));else{(o?this.bbLocalize.formatTimezone(n,l):this.bbLocalize.formatDatetime(n,r,e)).then((e=>{t.html(e)}))}}),!0)}}}o.$inject=["$parse","$q",s.serviceName];i.module(a,[s.moduleName]).directive("bbDatetime",["$injector",e=>e.instantiate(o)])},Us01:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Llzl"),s=n("0JpG");const a="ultra.directives.bbTranslate";class o{constructor(e,t,n,s,a,o,r,l,c){if(this.$parse=e,this.$rootScope=t,this.bbLocalize=n,this.$interpolate=s,this.scope=a,this.iElement=o,this.iAttr=r,this.rawKey=l,this.translateValuesExist=c,this.interpolateParams={},this.analyticsIdSet=!1,this.intSym="{{",r.bbTranslate=r.bbTranslate||o.text(),o.text(""),r.bbTranslate&&!r.bbTranslate.match(this.intSym)&&this.onAttrUpdate(r.bbTranslate),this.attrWatcher=r.$observe("bbTranslate",this.onAttrUpdate.bind(this)),this.translateValuesExist){let e;r.$observe("translateValues",(t=>{if(t){e&&e();const n=this.$parse(t);e=a.$parent.$watch(n.bind(null,a.$parent),(e=>{i.extend(this.interpolateParams,e),this.updateTranslation()}),!0)}}))}const d=this.$rootScope.$on("$translateChangeSuccess",(()=>this.updateTranslation()));a.$on("$destroy",(()=>d()))}shouldUnwatch(e){return e.indexOf(this.intSym)<0&&this.rawKey.indexOf(this.intSym)<0||(e.indexOf("::")>=0&&this.rawKey.indexOf("::")>=0||void 0)}unwatch(){this.attrWatcher(),this.interpolatedAttrWatcher&&this.interpolatedAttrWatcher()}onTranslationIdUpdate(e){e&&(e=e.replace(/^\s+|\s+$/g,""),this.updateTranslation(e))}onAttrUpdate(e){if(e!==this.bbTranslateAttrValue)if(this.bbTranslateAttrValue=e,e.match(this.intSym)){this.interpolatedAttrWatcher&&this.interpolatedAttrWatcher();const t=this.$interpolate(e);this.interpolatedAttrWatcher=this.scope.$watch((()=>t(this.scope)),this.onTranslationIdUpdate.bind(this))}else this.onTranslationIdUpdate(e)}updateTranslation(e=this.translationId){e&&(this.translationId=e,this.bbLocalize.translate({locale:this.bbLocalize.getLocale(this.scope),key:e,params:this.interpolateParams}).then((t=>{t===e?this.iElement.text(t):this.iElement.html(t),this.shouldUnwatch(this.bbTranslateAttrValue)&&this.unwatch()}),(()=>{this.iElement.text(e)})))}}o.$inject=["$parse","$rootScope",s.serviceName,"$interpolate","scope","iElement","iAttr","rawKey","translateValuesExist"];class r{constructor(e){this.$injector=e,this.restrict="AE",this.scope=!0,this.compile=(e,t)=>{const n=t.bbTranslate=(t.bbTranslate||e.text()||"").replace(/^[\s\n]+|[\s\n]+$/g,"");if(!n)return;const i=t.translateValues?t.translateValues:void 0;return(e,t,s)=>this.$injector.instantiate(o,{scope:e,iElement:t,iAttr:s,rawKey:n,translateValuesExist:i})}}}r.$inject=["$injector"],i.module(a,[s.moduleName]).directive("bbTranslate",["$injector",e=>e.instantiate(r)])},UyCM:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-messages",use:"icon-small-messages-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-messages"><path d="M1 3h14v10H1V3z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M1 3l7 7 7-7M1 13l5-5M15 13l-5-5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},V0gA:function(e,t,n){"use strict";n.r(t),n.d(t,"serviceName",(function(){return u})),n.d(t,"parseWeekDay",(function(){return m})),n.d(t,"getWeekDayValues",(function(){return p})),n.d(t,"getDayOfWeek",(function(){return h})),n.d(t,"MetadataOnCalendarItemCardLinkType",(function(){return g}));n("QLzv");var i=n("Llzl"),s=n("5MwF"),a=n("VdDF"),o=n("yCC5"),r=n("Rjd/"),l=n("g66W"),c=n("nkTj"),d=n("zGdY");const u=o.k;function m(e){return Object.values(d.kc).find((t=>t.toLowerCase()===e.toLowerCase()))}function p(){return Object.values(d.kc)}function h(e){switch(e){case d.kc.Sunday:return 0;case d.kc.Monday:return 1;case d.kc.Tuesday:return 2;case d.kc.Wednesday:return 3;case d.kc.Thursday:return 4;case d.kc.Friday:return 5;case d.kc.Saturday:return 6}}var g;!function(e){e.Course="Course",e.External="External"}(g||(g={})),r.a.factory(u,["restmod","RMUtils",c.c,(e,t,n)=>{const o=s.a.apiBasePath+"/v1/calendars/calendarItems";return e.model(o).mix({startDate:{serialize:"date"},endDate:{serialize:"date"},"recurRules.until":{serialize:"date"},"recurRules.originalStart":{serialize:"date"},"recurRules.originalEnd":{serialize:"date"},ui:{mask:!0,init:()=>({})},$extend:{isDueItem(){return!!this.dynamicCalendarItemProps},isAllDayEvent(){return 0===this.startDate.getHours()&&0===this.startDate.getMinutes()&&23===this.endDate.getHours()&&59===this.endDate.getMinutes()},isConditionalRelease(){return!(this.permissions&&this.permissions.edit)&&d.w.Restricted===this.visibility},getTruncatedLocation(e){return l.e(this.location,e)},Record:{$buildUrl(e){return this.$pk&&this.$pk.itemSourceType&&this.$pk.itemSourceId?t.joinUrl(t.joinUrl(e.$url(),this.$pk.itemSourceType),this.$pk.itemSourceId):null}},Model:{inferKey:e=>({itemSourceType:e.itemSourceType,itemSourceId:e.itemSourceId}),unpack:(e,t)=>{const n=e.$response.config;if(e.$isCollection){if("PUT"===n.method&&Array.isArray(t))return t.map((e=>e.statusCode>=200&&e.statusCode<300?i.fromJson(e.body):e.body));e.paging=t&&t.paging,e.permissions=t&&t.permissions;const s=t&&t.results;return s&&s.forEach((e=>{e.recurRules&&!e.recurRules.timeZoneId&&(e.recurRules.timeZoneId=a.a.getCurrentTimeZoneId())})),s}const s="POST"===n.method&&Array.isArray(t)?t[0]:t;return s.recurRules&&!s.recurRules.timeZoneId&&(s.recurRules.timeZoneId=a.a.getCurrentTimeZoneId()),s}}}})}])},V17J:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var i=n("Llzl"),s=n("+4Px");const a="ultra.components.directives.accessibility.enterKeyUpFocus";class o{constructor(t){this.injector=t,this.restrict="A",this.link=(t,n,i)=>{n.on("keydown",(e=>{e.keyCode!==s.f||i.bbTriggerEnterKeydown||e.preventDefault()})),n.on("keyup",(n=>{if(n.keyCode===s.f&&(n.preventDefault(),n.stopPropagation(),t.$apply((()=>{t.$eval(i.ngClick||i.bbClick,{$event:n}),t.$eval(i.ngBlur,{$event:n})})),i.bbEnterKeyUpFocus)){const t=e(i.bbEnterKeyUpFocus);if(i.indexToFocus){const e=Number(i.indexToFocus);t.eq(e).focus()}else t.focus()}}))}}}o.$inject=["$injector"],i.module(a,[]).directive("bbEnterKeyUpFocus",["$injector",e=>e.instantiate(o)])}).call(this,n("71td"))},V6ed:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return m}));n("MISG");var i=n("9zo4"),s=n("Llzl"),a=n("nsO7"),o=n("+4Px"),r=n("lUN/"),l=n("lEL+");const c="ultra.directives.accessibility.hideFocusOutline",d="hide-focus-outline",u="is-focusVisible";class m{constructor(e){this.bbTimeout=e,this.restrict="A",this.link=(e,t,n)=>{r.a(),t.addClass(d),t.removeClass(u),m.instanceCount+=1,m.ensureEvents(t),e.$on("$destroy",(()=>{m.instanceCount-=1,0===m.instanceCount&&m.unregisterEvents(),t.off()}))}}static enableFocusOutline(){e(document.body).removeClass(d),e(document.body).addClass(u)}static ensureEvents(t){function n(e){e.keyCode===o.u&&(m.enableFocusOutline(),i.a.isLastNavigationByKeyboard=!0)}m.eventHandlers||(m.eventHandlers={keyup:n,keydown:n,mousedown:a.debounce((function(n){t.addClass(d),t.removeClass(u),i.a.isLastNavigationByKeyboard=!1,i.a.lastClickedElement=e(n.target).closest(":tabbable"),a.delay((()=>{i.a.lastClickedElement&&0===i.a.lastClickedElement.parents("body").length&&(i.a.lastClickedElement=void 0)}),800)}),200)},Object.keys(m.eventHandlers).forEach((e=>{document.addEventListener(e,m.eventHandlers[e],!0)})))}static unregisterEvents(){Object.keys(m.eventHandlers).forEach((e=>{document.removeEventListener(e,m.eventHandlers[e],!0)})),m.eventHandlers=null}}m.$inject=[l.b],m.instanceCount=0,m.eventHandlers=null,s.module(c,[l.a]).directive("bbFocusHelper",["$injector",e=>e.instantiate(m)])}).call(this,n("71td"))},VAMW:function(e,t,n){"use strict";var i;!function(e){e.ContentUpdate="content-update",e.CloseFolderById="close-folder-immediately-by-id",e.UpdateReviewState="update-state",e.RouterStateChangeStart="$stateChangeStart"}(i||(i={}));var s=n("ERkP");const a=Object(s.createContext)(void 0),o=a.Provider;function r(){const e=Object(s.useContext)(a);if(!e)throw new Error("[Transit Services]: Invalid Scope Context");return e}function l(){const e=r();return Object(s.useMemo)((()=>e.$applyAsync.bind(e)),[e])}function c(e,t=[]){const n=r(),[{watchedValue:i},a]=Object(s.useState)((()=>({watchedValue:e(n)})));return Object(s.useEffect)((()=>n.$watchCollection(e,(e=>{a({watchedValue:e})}))),t),i}var d,u,m=n("kNOQ");function p(e,t){const n=r(),i=Object(m.b)(t);Object(s.useEffect)((()=>n.$on(e,((e,...t)=>{i(e,...t)}))),[e,n,i])}function h(e,t=[]){const n=r(),[{watchedValue:i},a]=Object(s.useState)((()=>({watchedValue:e(n)})));return Object(s.useEffect)((()=>n.$watch(e,(e=>{a({watchedValue:e})}),!0)),t),i}!function(e){e.Approved="Approved",e.Excluded="Excluded",e.NeedsApproval="NeedsApproval"}(d||(d={})),function(e){e.Scorm="ScormService",e.Lti="LtiService",e.CurrentCourseMembership="CurrentCourseMembershipService",e.ConditionalReleaseCourseModelOperations="ConditionalReleaseCourseModelOperations",e.Context="ContextService",e.ContentIcon="ContentIconService",e.Entitlement="EntitlementService",e.Ally="AllyService",e.Content="ContentService",e.CourseContentModelOperations="CourseContentModelOperations",e.PeerReview="PeerReview",e.CreateContentCourseModelOperations="CreateContentCourseModelOperations",e.DeleteContentCourseModelOperations="DeleteContentCourseModelOperations",e.LearningModuleRefreshChildrenOperations="LearningModuleRefreshChildrenOperations",e.ContentFolderRefresher="ContentFolderRefresher",e.CloudDriveService="CloudDriveService",e.AngularMenuCloserService="AngularMenuCloserService",e.CanEnableForcedSequenceService="CanEnableForcedSequenceService"}(u||(u={}));const g=new Map,b=e=>{g.set(e.key,e)};function f(e){const t=g.get(e);if(!t)throw Error(`No service found with key: ${e}\nDid you forget to register a service with that key?`);return t}n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u}))},VCKY:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-add",use:"icon-small-add-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-add"><path d="M1 8c0-3.866 3.134-7 7-7v0c3.866 0 7 3.134 7 7v0c0 3.866-3.134 7-7 7v0c-3.866 0-7-3.134-7-7v0zM11 8H5M8 5v6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},VUvS:function(e,t){e.exports='<div bb-load-bundle="components/directives/content/learning-module/learning-module-base-item" class="base-content-item bb-lm-base-item"\n  bb-cache-compilation="lm-base-item" role="region" aria-labelledby="::learning-module-title-{{content.id}}">\n  <div class="content-item-base-container guidance-overflow-fix js-content-item-base" ng-paste="$event.stopPropagation()">\n    <div ng-switch on="content.ui.importPlaceholder">\n      \x3c!-- Import placeholder  --\x3e\n      <div ng-switch-when="true" class="placeholder-container" bb-focus>\n        <div class="placeholder-text" bb-translate>components.directives.content-item-base.copy-placeholder</div>\n        <div class="sr-only" bb-translate>components.directives.content-item-base.please-wait</div>\n      </div>\n\n      \x3c!-- Non-imported content --\x3e\n      <div ng-switch-default class="drag-element-row" ng-class="{\'is-restricted\': content.canEdit() && content.isHiddenFromStudents(), \'isNotClickable\': content.isConditionalReleaseLocked() || content.isRestricted() && !content.canEdit()}">\n        <div class="content-item-row">\n          <div class="content-item-details" ng-class="{\'is-uploading\':content.ui.isUploading}">\n            <div class="element-card outline-item">\n\n              <ng-switch on="content.ui.isUploading">\n                \x3c!-- Uploading section begin --\x3e\n\n                <div ng-switch-when="true" class="upload-file">\n                  <bb-progress displayResults="false" id="{{content.ui.fileUploadId}}" class="bb-progress"></bb-progress>\n                </div>\n                \x3c!-- Uploading section end --\x3e\n\n                <div class="outline-item-inner" ng-switch-default>\n\n                  <div class="lm-header-section">\n                    \x3c!-- Learning Module title --\x3e\n                    <div class="lm-header-row"\n                         ng-class="{\'lm-header-row-with-icon\': baseItem.shouldShowReviewStateIcon()}"\n                         bb-click-to-invoke-child=".list-tree-toggle button">\n                      \x3c!-- Header row section --\x3e\n                      <div class="lm-title-container">\n                        <div class="title-container">\n                          \x3c!-- Conditional release section begin --\x3e\n                          <bb-review-state-icon\n                            ng-if="::baseItem.shouldShowReviewStateIcon()"\n                            content-id="content.id"\n                            course-id="content.courseId"\n                            has-automatic-review-state-transition="!content.canUpdateReviewState()"\n                            before-item-state="baseItem.getNeighborReviewState()"\n                            after-item-state="baseItem.getNeighborReviewState()"\n                          ></bb-review-state-icon>\n                          \x3c!-- Conditional release section end --\x3e\n\n                          \x3c!-- Attach event only at Instructor View --\x3e\n                          <div ng-if="::content.canEdit()" class="lm-title-instructor">\n                            <button class="lm-title secondary-title ellipse"\n                              tabindex="0"\n                              bb-translate-attrs="{\'aria-label\': \'components.directives.learning-module.aria-label.toggleLM\'}"\n                              translate-attrs-values="{learningModuleName: content.title}"\n                              aria-expanded="{{isOpen}}"\n                              id="{{::\'learning-module-title-\' + content.id}}"\n                              ng-click="baseItem.toggleLM()"\n                              analytics-id="course.learning.module.base.item.toggleLm.button"\n                              aria-controls="{{::\'learning-module-contents-\' + content.id}}">\n                              {{content.title}}\n                            </button>\n                          </div>\n\n                          \x3c!-- Just display title at Student View --\x3e\n                          <div class="lm-title-student" ng-if="::(!content.canEdit())">\n                            <button class="lm-title secondary-title ellipse"\n                                tabindex="0"\n                                bb-translate-attrs="{\'aria-label\': \'components.directives.learning-module.aria-label.toggleLM\'}"\n                                translate-attrs-values="{learningModuleName: content.title}"\n                                aria-expanded="{{isOpen}}"\n                                ng-click="!content.isConditionalReleaseLocked() && baseItem.toggleLM()"\n                                id="{{::\'learning-module-title-\' + content.id}}"\n                                analytics-id="course.learning.module.base.item.toggleLm.button"\n                                aria-controls="{{::\'learning-module-contents-\' + content.id}}">\n                              {{::content.title}}\n                            </button>\n                            <div ng-if="content.isConditionalReleaseLocked()"\n                              role="tooltip"\n                              tabindex="0"\n                              class="lock-info"\n                              bb-complex-tooltip\n                              enhanced-tooltip="true"\n                              tooltip-position="bottom"\n                              tooltip-open-on-activation="true"\n                              tooltip-disable-on-mouse-over="true"\n                              tooltip-scope="baseItem.conditionalRelease.tooltipScope"\n                              tooltip-template="{{::baseItem.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}">\n                              <span bb-translate>components.directives.content-item-base.conditionalRelease.lock-info</span>\n                              <span class="sr-only">{{baseItem.conditionalRelease.tooltips}}</span>\n                            </div>\n                          </div>\n                        </div>\n\n                        \x3c!-- Learning Module visibility selector  --\x3e\n                        <div class="lm-visibility-selector" ng-if="content.canEdit() || (baseItem.isCourseCompletedAndInInstructorView() && content.isConditionalRelease())">\n                          <bb-content-visibility-selector\n                            ng-if="::content.canEdit()"\n                            content="content"\n                            is-visibility-selector-enabled="true"\n                            onchange-func="baseItem.onChangeVisibility()"\n                            open-panel-on-restricted="true"\n                            disable-restricted="false"\n                            enable-conditional-release="true">\n                          </bb-content-visibility-selector>\n                          <div class="rules" ng-if="(content.canEdit() || baseItem.isCourseCompletedAndInInstructorView()) && content.isConditionalRelease()">\n                            <a href="javascript:void(0);"\n                              ng-click="baseItem.canOpenConditionalRelease && baseItem.openConditionalRelease()"\n                              bb-complex-tooltip\n                              enhanced-tooltip="true"\n                              tooltip-position="bottom"\n                              tooltip-enable-on-mouse-over-for-all-breakpoints="true"\n                              tooltip-enable-on-mouse-leave-for-all-breakpoints="true"\n                              tooltip-auto-update="true"\n                              tooltip-scope="baseItem.conditionalRelease.tooltipScope"\n                              tooltip-template="{{::baseItem.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}"\n                              analytics-id="components.directives.content-item-base.conditionalRelease.link">\n                              <span>{{baseItem.conditionalRelease.getConditionDescription()}}</span>\n                              <span class="sr-only">{{baseItem.conditionalRelease.tooltips}}</span>\n                            </a>\n                          </div>\n                        </div>\n                        <div ng-if="content.isForcedSequenceModule() && content.canEdit()"\n                          class="lm-instructor-note"\n                          bb-translate\n                        >\n                          components.directives.learning-module.base-item.forced-sequence.instructor-note\n                        </div>\n                        \x3c!-- Learning Module control section begin --\x3e\n\n                        \x3c!-- for student --\x3e\n                        \x3c!-- <div ng-if="::(!content.canEdit())">\n                          <span class="lm-counting">{{baseItem.completed}} / {{baseItem.count}}</span>\n                        </div> --\x3e\n\n                        \x3c!-- for instructor --\x3e\n                        <div ng-if="::(content.canEdit() && canMove)" class="lm-drag-button">\n                          <button bb-drag-handle drag-item-id="{{content.id}}"\n                                  drag-item-name="{{content.title}}"\n                                  drag-item-type="{{content.contentHandler}}"\n                                  drag-item-context="{{contextArea}}"\n                                  class="super-clear small button icon js-drag-handle"\n                                  translate-attrs-values="{contentTitle: content.title}"\n                                  bb-translate-attrs="{\'title\': \'components.directives.content-item-base.move\', \'aria-label\': \'components.directives.content-item-base.aria-label.move\'}"\n                                  analytics-id="course.learning.module.base.item.move.button">\n                            <bb-svg-icon size="small" icon="move-item-up-down"></bb-svg-icon>\n                          </button>\n                        </div>\n                        <div bb-foundation-defer>\n                          <bb-overflow-menu ng-if="::(content.canDelete() || content.canEdit() || content.hasConversation() && !content.isConditionalReleaseLocked())"\n                                            element-id="{{::(\'learning-module\' + baseItem.controlId)}}"\n                                            element-name="{{content.title}}"\n                                            menu-items="baseItem.getOverflowMenu()"\n                                            analytics-id-tag-prefix="components.directives.learning-module.base-item.overflowMenu">\n                          </bb-overflow-menu>\n                        </div>\n                      </div>\n\n                      <div class="lm-description" ng-if="content.description">\n                        <bb-course-content-item-description class="description-show-text-container description-show-text"\n                          description="content.description"\n                        ></bb-course-content-item-description>\n                      </div>\n\n                      \x3c!-- Learning Module control section end --\x3e\n                      <div class="list-tree-toggle" ng-if="::(content.canEdit() || !content.isRestricted())">\n                        <button class="button super-clear" ng-click="baseItem.toggleLM()" aria-controls="{{::\'learning-module-contents-\' + content.id}}"\n                          aria-expanded="{{isOpen}}"\n                          bb-translate-attrs="{title: isOpen ? \'components.directives.learning-module.base-item.collapse\' : \'components.directives.learning-module.base-item.expand\'}"\n                          translate-attrs-values="{learningModuleName: content.title}"\n                          analytics-id="course.learning.module.base.item.toggleLm.button"\n                          >\n                          <bb-svg-icon size="small" icon="arrow-down"></bb-svg-icon>\n                        </button>\n                      </div>\n                    </div>\n\n                    <bb-forced-sequence-warning-banner ng-if="baseItem.shouldShowForcedSequenceWarningBanner()"></bb-forced-sequence-warning-banner>\n\n                    \x3c!-- Learning Module title section end --\x3e\n                  </div>\n                </div>\n              </ng-switch>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},VdDF:function(e,t,n){"use strict";var i=n("RZND"),s=n("wgY5"),a=n("nsO7");let o;class r{static isValidDate(e){return Object(a.isDate)(e)&&!Number.isNaN(e.getTime())}static isWithinDateRange(e,t,n=!0){let i=!0,s=!0;return t.start&&(i=n?t.start<=e:t.start<e),t.end&&(s=n?t.end>=e:t.end>e),i&&s}static testWithinDateRange(e,t,n=!0){const i=e=>{const t=new Date(e.getTime());return t.setSeconds(0,0),t},a={when:e&&i(e),range:{start:t&&t.start&&i(t.start),end:t&&t.end&&i(t.end)}},o=!a.when||!a.range||r.isWithinDateRange(a.when,{end:a.range.end,start:a.range.start},n);let l=!0;if(!o){let e=!0;a.range.start&&r.isSameDay(a.range.start,a.when)&&(e=n?s(a.when).isSameOrAfter(a.range.start,"minute"):s(a.when).isAfter(a.range.start,"minute"));let t=!0;a.range.end&&r.isSameDay(a.range.end,a.when)&&(t=n?s(a.when).isSameOrBefore(a.range.end,"minute"):s(a.when).isBefore(a.range.end,"minute")),l=e&&t}return{isValidDate:!l||o,isValidTime:l}}static isSameDay(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}static getCurrentTimeZoneId(){return o||(o=i.determine().name()),o}static parseStringToDate(e){return Object(a.isDate)(e)?e:null==e||""===e?null:new Date(e)}static convertToLocalDate(e){const t=r.parseStringToDate(e);return null!==t&&t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),t}static parseDateToISOString(e){return null==e||Number.isNaN(Number(e.getDate()))?"":e.toISOString()}static compareDates(e,t,n=!0){return e&&t?[e,t].sort(((e,t)=>e.getTime()-t.getTime()))[n?0:1]:e||t}static breakdownSeconds(e){const t=Math.floor(e%60),n=e/60,i=Math.floor(n%60),s=n/60,a=Math.floor(s%24);return{days:Math.floor(s/24),hours:a,minutes:i,seconds:t}}}t.a=r},Vdys:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-visible",use:"icon-small-visible-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-visible"><path d="M8 3C4.6406 3 1 8 1 8s3.6406 5 7 5 7-5 7-5-3.6406-5-7-5z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="8" cy="8" r="1" stroke-width="2" /></symbol>'});s.add(a);e.exports=a},VfFK:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("nmzr"),s=n("Llzl"),a=n("0JpG"),o=n("Qbdf"),r=n("TnpK");const l="ultra.course.attendance.routes";s.module(l,[r.b,o.b]).config([r.c,o.c,(e,t)=>{e.peekState("attendance",{url:"/attendance?courseId&attendanceView&meetingId&memberId&isSingleUserView",resolve:{translations:["$q",a.serviceName,(e,t)=>e.all([t.loadBundle("features/course/attendance/attendance")])]},reloadOnSearch:!1,require:()=>Promise.all([n.e(58),n.e(744)]).then(n.bind(null,"kmhM")),pageTitle:"course.attendance.pageTitle",panelClass:"full",peekStates:["attendance-settings","attendance-student-records"]}).peekState("attendance-settings",{url:"/settings",resolve:{translations:["$q",a.serviceName,(e,t)=>e.all([t.loadBundle("features/course/attendance/attendance")])]},require:()=>Promise.all([n.e(58),n.e(743)]).then(n.bind(null,"qT3r")),pageTitle:"course.attendance.settings.pageTitle"}).peekState("attendance-student-records",{url:"/studentRecords/:membershipId?userId",resolve:{[o.d]:t.resolve,translations:["$q",a.serviceName,(e,t)=>e.all([t.loadBundle("features/course/attendance/attendance")])]},require:()=>Promise.all([n.e(58),n.e(166)]).then(n.bind(null,"OYHs")),pageTitle:"course.attendance.studentRecords.pageTitle",allowChildPeekStates:!0,peekStates:[i.o.COURSE_GRADES_VIEW_INDIVIDUAL_GRADES]}).peekState("attendance-student-view",{url:"/attendanceGrade?courseId",resolve:{translations:["$q",a.serviceName,(e,t)=>e.all([t.loadBundle("features/course/attendance/attendance")])]},require:()=>Promise.all([n.e(58),n.e(166)]).then(n.bind(null,"OYHs")),pageTitle:"course.attendance.studentRecords.pageTitle"})}])},Vsv2:function(e,t,n){"use strict";var i=n("D57K"),s=n("Llzl"),a=n("HAJP"),o=n("0JpG"),r=n("pjml"),l=n("gkef"),c=n("emI2"),d=n("5MwF"),u=n("Q/M7");const m="cloud.account.tokens";var p;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Failed=2]="Failed"}(p||(p={}));class h{constructor(e,t,n,i,s,a){this.$q=e,this.bbLocalize=t,this.$timeout=n,this.bbScriptLoader=i,this.preference=s,this.$rootScope=a,this.credentials={},this.status=p.Uninitialized,this.enabledServices=d.a.cloudStorageIntegrationServices,this.showDummyProvider=!1}get isInitialized(){return this.status===p.Initialized}init(){const e=this.$q.defer(),t=this.loaderUrl||"https://cloud-storage-integration.blackboardcdn.com/loader/js/loader.js",n=t.substring(0,t.indexOf("/loader"))+"/authenticator/js/cloud-storage-integration-authenticator.js";if(this.status===p.Initialized)e.resolve();else if(this.status===p.Failed)e.resolve();else{let i,s=!1,a=p.Uninitialized,o=p.Uninitialized;const r=()=>{s||a!==p.Uninitialized&&o!==p.Uninitialized&&(a===p.Initialized?(this.status=p.Initialized,e.resolve()):(this.status=p.Failed,e.resolve()),s=!0,this.$timeout.cancel(i))};i=this.$timeout((()=>{this.authenticator||(o=p.Failed,console.error("Authenticator initialization timed out. Disabling Authenticator Service.")),this.explorer||(a=p.Failed,console.error("CloudStorageIntegration initialization timed out.  Disabling CloudStorageIntegration Service.")),r()}),d.a.cloudStorageIntegrationInitializationTimeout||1e4),this.$q.all({CloudStorageIntegration:this.bbScriptLoader.getScript(t,{exports:"CloudStorageIntegration"}).then((e=>{this.explorer=e.explorer,a=p.Initialized,r()})),CloudStorageIntegrationAuth:this.bbScriptLoader.getScript(n,{exports:"CloudStorageIntegration"}).then((e=>{this.authenticator=e.authenticator,o=p.Initialized,r()}))}).catch((()=>{this.authenticator||(o=p.Failed,console.error("Failed to load cloudStorageIntegration authenticator. Disabling Authenticator Service.")),this.explorer||(a=p.Failed,console.error("Failed to load cloudStorageIntegration.  Disabling CloudStorageIntegration Service.")),r()}))}return e.promise}getExplorer(e){let t=e?this.explorerInstance_multi:this.explorerInstance_single;if(!t){const n={app_id:this.clientId,retrieve_token:!0,multiselect:e,display_backdrop:!0,create_folder:!1,types:["files"],text_direction:this.bbLocalize.isRTL(this.$rootScope)?"rtl":"ltr",show_dummy_provider:this.showDummyProvider};(this.enabledServices||[]).length>0&&(n.services=this.enabledServices),this.apiUrl&&(n.base_url=u.i(this.apiUrl)),this.useLoaderExplorer&&(n.use_loader_explorer=this.useLoaderExplorer),n.persist="none",t=this.explorer(n),t.on("success",(e=>{this.currentChooserPromiseObject&&(this.currentChooserPromiseObject.resolve(e),this.currentChooserPromiseObject=null)})),t.on("cancel",(()=>{this.currentChooserPromiseObject&&(this.currentChooserPromiseObject.resolve(),this.currentChooserPromiseObject=null)})),t.on("error",(e=>{this.currentChooserPromiseObject&&(this.currentChooserPromiseObject.reject(e),this.currentChooserPromiseObject=null)})),t.on("addAccount",(e=>{this.preference.getPreference(m).then((t=>{const n=this.deleteCloudStorageIntegrationAccount(JSON.parse(t.value),e.id);n.push(e),this.preference.setPreference(m,JSON.stringify(n))})).catch((()=>{const t=[];t.push(e),this.preference.setPreference(m,JSON.stringify(t))}))})),t.on("deleteAccount",(e=>{this.preference.getPreference(m).then((t=>{const n=this.deleteCloudStorageIntegrationAccount(JSON.parse(t.value),e);this.preference.setPreference(m,JSON.stringify(n))}))})),e?this.explorerInstance_multi=t:this.explorerInstance_single=t}return t}openFilePicker(e,t){if(this.currentChooserPromiseObject){const e=this.$q.defer();return e.reject(new Error("multiple explorer instances are not allowed")),e.promise}return this.currentChooserPromiseObject=this.$q.defer(),this.init().then((()=>{if(this.status===p.Initialized){const n=this.getExplorer(t);return this.preference.getPreference(m,"[]",!0).then((t=>{const i=JSON.parse(t.value).map((e=>e.bearer_token.key));n.update({locale:e,tokens:i}),n.choose()})).catch((t=>{console.error(t);n.update({locale:e,tokens:[]}),n.choose()}))}})),this.currentChooserPromiseObject.promise}getCloudStorageIntegrationInfo(){return{client_id:this.clientId,base_url:this.apiUrl}}deleteCloudStorageIntegrationAccount(e,t){return e.filter((e=>e.id!==t))}}var g=n("aHpC"),b=n("VAMW"),f=n("6fZB");n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y}));const v="ultra.service.cloud.drive",y="cloudDrive";class k{constructor(e){this.cloudDriveStorage=e}openFilePicker(e,t){return Object(f.a)(this.cloudDriveStorage.openFilePicker(e,t))}}class x{constructor(e,t,n){this.service=e,this.CloudDriveModel=t,this.CloudDriveTaskModel=n,this.key=b.d.CloudDriveService}isCloudServiceAvailable(){return Object(f.a)(this.service.isCloudServiceAvailable())}get cloudDriveStorage(){return new k(this.service.cloudDriveStorage)}}let S=class{constructor(e,t,n,i,s,a,o,r,l){this.$rootScope=e,this.$q=t,this.$timeout=n,this.bbLocalize=i,this.CloudDriveModel=s,this.CloudDriveTaskModel=a,this.windowSize=o,this.bbScriptLoader=r,this.preferences=l,this.isGettingFilesInfo=!1,this.currentLocale=this.bbLocalize.getAppLocale(),Object(b.f)(new x(this,s,a))}cloudDriveStorageFactory(e){const t=new h(this.$q,this.bbLocalize,this.$timeout,this.bbScriptLoader,this.preferences,this.$rootScope);return t.clientId=e.clientId,t.redirectUrl=e.redirectUrl,t.provider=e.name,t.apiUrl=e.apiUrl,t.loaderUrl=e.loaderUrl,t.useLoaderExplorer=e.useLoaderExplorer,t.persist=e.persist,t.tokens=e.tokens,t}getCloudDrivesInfo(){const e=this.$q.defer();return this.cloudDrivesInfo?e.resolve():this.CloudDriveModel.$collection().$fetch().$then((t=>{this.cloudDrivesInfo=t,s.forEach(this.cloudDrivesInfo,(e=>{"cloudstorageintegration"===e.name&&(this.cloudDriveStorage=this.cloudDriveStorageFactory(e))})),e.resolve()}),(t=>{e.reject(t)})),e.promise}initializeCloudDrive(){const e=this.$q.defer();return this.getCloudDrivesInfo().then((()=>{this.cloudDriveStorage?this.cloudDriveStorage.isInitialized&&this.currentLocale===this.bbLocalize.getAppLocale()?e.resolve(this.cloudDriveStorage):(this.currentLocale=this.bbLocalize.getAppLocale(),this.cloudDriveStorage.init().then((()=>{e.resolve(this.cloudDriveStorage)}))):e.reject("No such cloud drive!")})),e.promise}isCloudServiceAvailable(){const e=this.$q.defer();return this.initializeCloudDrive().then((t=>{e.resolve(t.isInitialized)})).catch((()=>{e.resolve(!1)})),e.promise}getDriveUserInfo(){const e=this.$q.defer(),t=this.cloudDriveStorage.driveUserInfo,n=this.cloudDriveStorage.accessToken;return t?e.resolve(t):n?e.resolve(this.CloudDriveModel.$new("CloudStorageIntegration").me.$fetch({accessToken:n}).$asPromise()):e.resolve(),e.promise}};S=Object(i.a)([Object(i.c)(0,Object(g.b)("$rootScope")),Object(i.c)(1,Object(g.b)("$q")),Object(i.c)(2,Object(g.b)("$timeout")),Object(i.c)(3,Object(g.b)(o.serviceName)),Object(i.c)(4,Object(g.b)(r.h.serviceName)),Object(i.c)(5,Object(g.b)(r.i.serviceName)),Object(i.c)(6,Object(g.b)(l.b)),Object(i.c)(7,Object(g.b)(a.b)),Object(i.c)(8,Object(g.b)(c.c))],S);s.module(v,[r.N,l.a,a.a,c.b]).service(y,S)},"W/rt":function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.services.error-modal.error-persist-question.title"\n          analytics-id-tag-prefix="components.services.error-modal.error-persist-question">\n  <div name="modal-contents">\n    <p bb-translate>components.services.error-modal.error-persist-question.description</p>\n    <bb-session-debug-modal-button></bb-session-debug-modal-button>\n  </div>\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button large reload-page-button js-primary-button"\n          analytics-id="components.services.error-modal.error-persist-question.alt"\n          bb-translate>components.services.error-modal.error-persist-question.alt</button>\n</bb-modal>\n'},W6wm:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.CourseOutline="course-outline",e.Discussions="discussions",e.ContentSearch="content-search"}(i||(i={}))},W7eU:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.directives.fileUpload.errorTitle"\n          analytics-id-tag-prefix="components.directives.fileUpload">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>{{::errorModalErrorKey}}</bb-translate>\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" role="button" class="button js-primary-button" ng-click="$parent.$dismiss()" analytics-id="components.directives.fileUpload.cancelUploadText">\n    <bb-translate>components.directives.fileUpload.cancelUploadText</bb-translate>\n  </button>\n</bb-modal>\n'},WAgA:function(e,t){e.exports='<bb-modal role="alertdialog" class="notification gradebook-upload-failed-modal upload-failed-button" bb-translate-attrs="{\'aria-label\': \'course.grades.grades-upload-settings.wrongDelimiter.title\'}" \n    modal-title-key="course.grades.grades-upload-settings.wrongFormat.title" aria-describedby="wrong-format-content"\n    analytics-id-tag-prefix="course.grades.gradesUploadSettingsWrongFormat">\n    <div name="modal-contents">\n        <p id="wrong-format-content" bb-translate="course.grades.grades-upload-settings.wrongFormat.content"></p>\n    </div>\n    <a name="modal-footer-help-link" \n       href="" \n       bb-translate-attrs="{\'href\': \'course.grades.grades-upload-settings.helpLinkUpload\'}" \n       target="_blank" \n       bb-translate="course.grades.grades-upload-settings.helpButton" \n       rel="noopener noreferrer"\n       analytics-id="course.grades.grades-upload-settings.helpButton">\n    </a>\n    <button name="modal-footer-button-primary" \n            class="button js-discard-changes js-primary-button" \n            ng-click="$dismiss()"\n            analytics-id="course.grades.gradesUploadSettingsWrongFormat.closeButton.button">\n        <span bb-translate="course.grades.grades-upload-settings.closeButton"></span>\n    </button>\n</bb-modal>'},WIGI:function(e,t,n){"use strict";function i(e,t,n){"function"==typeof aptrinsic&&t.getRoles().then((t=>(function(e,t,n){var i,s,a;const o=null!==(i=t.locale)&&void 0!==i?i:n.getAppLocale(),r={id:`${e.siteId}_${t.uuid}`,insRoles:t.insRoles,systemRole:t.systemRole,systemRoles:t.systemRoles,locale:o},l={id:e.siteId,institutionName:e.institutionName,institutionType:e.institutionType,country:e.country,region:e.region,acceptSurveys:null!==(s=e.acceptSurveys)&&void 0!==s&&s,productUpdates:null!==(a=e.productUpdates)&&void 0!==a&&a};aptrinsic("identify",r,l)}(e.getSystemInfo(),t,n),t)))}function s(e){"function"==typeof aptrinsic&&aptrinsic("set","globalContext",e)}function a(){"function"==typeof aptrinsic&&aptrinsic("remove","globalContext",["courseRole"])}n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}))},WShm:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var i=n("Llzl"),s=n("0JpG");const a="ultra.directives.validate.date",o="bbValidateDate";class r{constructor(e,t){this.$parse=e,this.bbLocalize=t,this.require="ngModel",this.restrict="A",this.getISODate=e=>e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2),this.getDateParser=(e,t,n,i)=>a=>{if(i.$isEmpty(a))return i.$setValidity("date",!0),null;let o;try{o=this.bbLocalize.parseDateSync(a,s.ILocaleDateFormat.Short,e,i.$modelValue)}catch(e){return i.$setValidity("date",!1),i.$modelValue}return i.$setValidity("date",!0),"date"!==n.type&&(a=this.bbLocalize.formatDateSync(o,s.ILocaleDateFormat.Short,e))!==i.$viewValue&&(i.$setViewValue(a),t.is(":focus")||i.$render()),o},this.getMinDateValidator=(e,t,n,i)=>t=>{const a=this.$parse(n.min)(e),o=i.$isEmpty(t)||t.getTime()>a.getTime();return o?delete i.$error.minDate:i.$error.minDate={dateMin:this.bbLocalize.formatDateSync(a,s.ILocaleDateFormat.Short)},o},this.getMaxDateValidator=(e,t,n,i)=>t=>{const a=this.$parse(n.max)(e),o=i.$isEmpty(t)||t.getTime()<a.getTime();return o?delete i.$error.maxDate:i.$error.maxDate={dateMax:this.bbLocalize.formatDateSync(a,s.ILocaleDateFormat.Short)},o},this.getDateFormatter=(e,t,n,i)=>()=>{i.$setValidity("date",!0);const t=i.$modelValue;return i.$isEmpty(t)?"":"date"===n.type?this.getISODate(t):this.bbLocalize.formatDateSync(t,s.ILocaleDateFormat.Short,e)},this.link=(e,t,n,i)=>{i.$parsers.push(this.getDateParser(e,t,n,i)),i.$formatters.push(this.getDateFormatter(e,t,n,i)),n.min&&(i.$validators.minDateValidator=this.getMinDateValidator(e,t,n,i)),n.max&&(i.$validators.maxDateValidator=this.getMaxDateValidator(e,t,n,i)),t.on("blur",(()=>{i.$render()}))}}}r.$inject=["$parse",s.serviceName];i.module(a,[s.moduleName]).directive(o,["$parse",s.serviceName,(e,t)=>new r(e,t)])},Wqh6:function(e,t){e.exports='<div class="telemetry-panel">\n\n  <div id="discussion-insights" class="panel-content discussion-insights" bb-foundation-defer>\n\n    <div class="insights">\n      <div class="insight-summary row collapse summary-box">\n        <div class="column small-12">\n          <bb-statistics\n            config="statisticsConfig"\n            ng-if="isLoaded"\n            small-per-row="1"\n            large-per-row="4"></bb-statistics>\n        </div>\n      </div>\n\n      <div class="participation-chart-container">\n        <div class="bar-chart">\n          <span class="participated"\n                aria-label="{{barchartParticipants}}"\n                title="{{barchartParticipants}}"></span>\n          <span class="opened"\n                aria-label="{{barchartOpenedNonParticipants}}"\n                title="{{barchartOpenedNonParticipants}}"></span>\n          <span class="unopened"\n                aria-label="{{barchartNonParticipants}}"\n                title="{{barchartNonParticipants}}"></span>\n        </div>\n        <div class="legend">\n          <div class="participatedCaption" data-ng-bind-html="discussionInsights.getSafeHtml(percentParticipatedCaption)"></div>\n          <div class="openedCaption" data-ng-bind-html="discussionInsights.getSafeHtml(percentOpenedCaption)"></div>\n        </div>\n      </div>\n\n      <div class="non-participant-groups row" ng-if="displayNonParticipantGroups">\n        <div class="column small-12 non-participant-box clearfix" bb-foundation-defer>\n          <h3 class="stat-title large-non-participants-title"\n              bb-translate="components.directives.discussion.insights.groupNonParticipants"\n              translate-values="{count: totalNonParticipants}"></h3>\n          <div class="float-right">\n            <button class="button super-clear message-all-non-participants-button"\n                type="button"\n                ng-click="discussionInsights.goToMessageAll()"\n                bb-translate-attrs="{\'aria-label\': \'components.directives.discussion.insights.messageNonParticipants\'}"\n                translate-attrs-values="{count: totalNonParticipants}"\n                analytics-id="components.directives.discussion.insights.messageNonParticipants.button">\n              <bb-ui-icon-medium-messages></bb-ui-icon-medium-messages>\n            </button>\n          </div>\n\n          <div class="group-nonparticipants" ng-repeat="nonParticipantGroup in nonParticipantGroups track by nonParticipantGroup.id">\n            <div class="group-heading child-is-invokable" bb-click-to-invoke-child="a.group-link">\n              <a class="group-link"\n                 href="javascript:void(0);"\n                 ng-click="discussionInsights.goToDiscussion(nonParticipantGroup.id)"\n                 analytics-id="components.directives.discussion.insights.nonParticipantGroup.link">\n                {{nonParticipantGroup.name}}\n              </a>\n            </div>\n            <div class="nonparticipant-in-group-container"\n                 ng-class="nonParticipantGroup.total > 3 ? \'space-evenly\' : \'set-margin\' ">\n              <div class="nonparticipant-in-group child-is-invokable"\n                   bb-click-to-invoke-child="a.group-non-participant-link"\n                   ng-repeat="nonParticipant in nonParticipantGroup.nonParticipants | limitTo: 4 track by nonParticipant.id">\n                <bb-avatar class="nonparticipant-in-group-avatar" user="nonParticipant"></bb-avatar>\n                <a class="group-non-participant-link"\n                   href="javascript:void(0);"\n                   aria-label="{{nonParticipant.localizedName}}"\n                   ng-click="discussionInsights.goToMessage(nonParticipant.id)"\n                   analytics-id="components.directives.discussion.insights.nonParticipant.link">\n                  {{nonParticipant.localizedName}}\n                </a>\n              </div>\n            </div>\n            <div class="count-link">\n              <a ng-click="discussionInsights.goToDiscussion(nonParticipantGroup.id)"\n                 ng-show="nonParticipantGroup.hidden > 0"\n                 href="javascript:void(0);"\n                 bb-translate="components.directives.discussion.insights.moreLink"\n                 translate-values="{count: nonParticipantGroup.hidden}"\n                 analytics-id="components.directives.discussion.insights.moreLink">\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="non-participants row" ng-show="(displayNonParticipants || displayNonParticipantGroup)">\n        <div class="column small-12 non-participant-box clearfix" ng-if="showLargeNonparticipantPanel" bb-foundation-defer>\n          <h3 class="stat-title large-non-participants-title" bb-translate="components.directives.discussion.insights.nonParticipants"></h3>\n          <div class="float-right">\n            <button class="button super-clear message-all-non-participants-button"\n                type="button"\n                ng-click="discussionInsights.goToMessageAll()"\n                bb-translate-attrs="{\'aria-label\': \'components.directives.discussion.insights.messageNonParticipants\'}"\n                translate-attrs-values="{count: totalNonParticipants}"\n                analytics-id="components.directives.discussion.insights.messageNonParticipants.button">\n              <bb-ui-icon-medium-messages></bb-ui-icon-medium-messages>\n            </button>\n          </div>\n          <ul class="non-participant-list clearfix">\n            <li class="non-participant child-is-invokable"\n                bb-click-to-invoke-child="a.non-participant-link"\n                tabindex="-1"\n                ng-show="showNonparticipant[$index]"\n                ng-repeat="nonParticipant in nonParticipants | limitTo: 18 track by nonParticipant.id">\n              <div class="non-participant-cell"\n                   ng-class="{\'show-focus-outline\': discussionInsights.isFocusedNonparticipant(nonParticipant.id)}">\n                <a class="non-participant-link hide-focus-outline"\n                   bb-translate-attrs="{\'aria-label\':\'{{nonParticipant.localizedNameWithoutWrap}}\'}"\n                   id="non-participant-link-{{nonParticipant.id}}"\n                   tabindex="0"\n                   href="javascript:void(0);"\n                   ng-focus="true"\n                   ng-blur="true"\n                   ng-click="discussionInsights.goToMessage(nonParticipant.id)"\n                   analytics-id="components.directives.discussion.insights.nonParticipantLink.link">\n                  <bb-avatar class="non-participant-avatar" user="nonParticipant.avatarData"></bb-avatar>\n                </a>\n                <span ng-if="!discussionInsights.isPreferedNameBoth(nonParticipant)" class="byline stacked" ng-bind-html="discussionInsights.getSafeHtml(nonParticipant.localizedName)"></span>\n\n                <div ng-if="discussionInsights.isPreferedNameBoth(nonParticipant)">\n                  <span class="byline stacked stacked-other-name" ng-bind-html="discussionInsights.getSafeHtml(nonParticipant.otherName)"></span>\n                  <span class="byline stacked stacked-other-name" ng-bind-html="discussionInsights.getSafeHtml(nonParticipant.fullName)"></span>\n                </div>\n              </div>\n            </li>\n          </ul>\n          <label class="summary-line">{{nonParticipationSummary}}</label>\n        </div>\n        <div class="column small-12 non-participant-box clearfix" ng-if="!showLargeNonparticipantPanel">\n          <h3 class="stat-title subheader">{{barchartNonParticipants}}</h3>\n          <button class="messageAllButton button"\n                  bb-translate="components.directives.discussion.insights.messageAll"\n                  bb-translate-attrs="{\'aria-label\': \'components.directives.discussion.insights.messageAll\'}"\n                  ng-click="discussionInsights.goToMessageAll()"\n                  analytics-id="components.directives.discussion.insights.messageAll">\n          </button>\n        </div>\n      </div>\n\n      <div class="row equal-height" ng-if="displayTopComments || displayTopParticipants">\n        <div class="top-comments column {{topCommentsColumns}} student-list-box" ng-if="displayTopComments">\n          <h3 class="stat-title subheader"\n              id="most-replies-heading"\n              bb-translate="components.directives.discussion.insights.mostReplies"></h3>\n          <div class="tabular-list-container">\n            <div class="tabular-row top-comment-row child-is-invokable"\n                 bb-click-to-invoke-child="a.discussion-link"\n                 ng-class="{\'last\':$last}"\n                 ng-repeat="comment in topComments | limitTo: numberOfCommentsToDisplay | orderBy: \'-numReplies\'">\n              <a href="javascript:void(0);"\n                 class="discussion-link"\n                 ng-click="discussionInsights.goToDiscussion(comment.user.group.id)"\n                 aria-labelledby="comment-user-{{comment.user.id}} most-replies-heading"\n                 aria-describedby="comment-message-{{comment.user.id}}\n                 comment-replies-{{comment.user.id}}"\n                 analytics-id="components.directives.discussion.insights.goToDiscussion.link">\n                <bb-avatar class="top-participant-avatar" user="comment.user.avatarData"></bb-avatar>\n                <div class="comment-info">\n                  <div class="comment-message ellipsis" id="comment-message-{{comment.user.id}}">{{comment.message}}</div>\n                  <div class="byline ellipsis">\n                    <span id="comment-user-{{comment.user.id}}">\n                      <bb-translate>components.directives.discussion.insights.by</bb-translate> {{comment.user.localizedName}}\n                      <span ng-show="isGroupDiscussion"><bb-translate>components.directives.discussion.insights.inGroup</bb-translate> {{comment.user.group.name}}</span>\n                    </span> |\n                    <span id="comment-replies-{{comment.user.id}}"> {{comment.numReplies}} <bb-translate>components.directives.discussion.insights.replies</bb-translate></span>\n                  </div>\n                </div>\n              </a>\n            </div>\n          </div>\n        </div>\n        <div class="top-participants column {{topParticipantColumns}} student-list-box" ng-if="displayTopParticipants">\n          <h3 id="top-heading" class="stat-title subheader" bb-translate="components.directives.discussion.insights.topParticipants"></h3>\n          <div class="tabular-list-container">\n            <div class="tabular-row top-participants-row child-is-invokable"\n                 bb-click-to-invoke-child="a.grading-panel-link"\n                 ng-class="{\'last\':$last, \'not-graded\': (!isGradable || isGroupDiscussion), \'group-row\':isGroupDiscussion}"\n                 ng-repeat="participant in topParticipants | limitTo: numberOfCommentsToDisplay | orderBy: \'-numComments\'">\n              <a href="javascript:void(0);"\n                 class="grading-panel-link"\n                 aria-labelledby="user-{{participant.user.id}} top-heading"\n                 aria-describedby="span-replies-{{participant.user.id}} span-feedback-{{participant.user.id}}"\n                 ng-class="{\'not-graded\': (!isGradable || isGroupDiscussion)}"\n                 ng-click="discussionInsights.goToGrade(participant.user.id)"\n                 analytics-id="components.directives.discussion.insights.goToGrade.link">\n                <bb-avatar class="comment-avatar" user="participant.user.avatarData"></bb-avatar>\n                <div class="top-participant-info ellipsis" ng-class="{\'not-graded\': !isGradable}">\n                  <span class="discussion-insights-heading" id="user-{{participant.user.id}}">{{participant.user.localizedName}}</span><br>\n                  <span class="ellipsis" ng-show="isGroupDiscussion">{{participant.user.group.name}}</span><br ng-show="isGroupDiscussion">\n                  <span class="byline" id="span-feedback-{{participant.user.id}}">\n                    <bb-svg-icon class="top-participant-icon" size="small" icon="feedback" bb-translate-attrs="{\'aria-label\': \'components.directives.discussion.insights.feedback\'}"></bb-svg-icon>\n                    {{participant.numComments}}\n                  </span>\n                  <span class="byline" id="span-replies-{{participant.user.id}}">\n                  <bb-svg-icon class="top-participant-icon" size="small" icon="replies" bb-translate-attrs="{\'aria-label\': \'components.directives.discussion.insights.replies\'}"></bb-svg-icon>\n                    {{participant.numReplies}}\n                  </span>\n                </div>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div ui-view="telemetry-discussion-forum-insights-base@"></div>\n  </div>\n</div>\n'},"X/qj":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var i=n("D57K"),s=n("ZQFV"),a=n("Llzl"),o=n("Fvsw"),r=n("Qbdf"),l=n("fYJU"),c=n("jhBu"),d=n("Sa5G"),u=n("aHpC");const m="ultra.components.services.gradebookPermission",p="gradebookPermission";let h=class{constructor(e,t,n,i){this.context=e,this.currentCourse=t,this.currentUser=n,this.entitlementService=i}isEntitled(e,t){return this.entitlementService.isEntitled(e,t)}canDeanonymizeGrades(e){return this.isEntitled("course.gradebook-deanonymize.EXECUTE",e)}canEnterFeedback(e){return this.isEntitled("course.gradebook-grades.feedback.EXECUTE",e)}canEnterGrades(e){return this.canExecute(e)}canViewAssessmentException(e){return this.isEntitled(d.b.ViewException,e)}canDelegatedEnterAttemptFeedback(e,t){return this.canDelegatedModifyAttempt(e,t)&&this.canEnterFeedback()}canDelegatedEnterAttemptGrades(e,t){return this.canDelegatedModifyAttempt(e,t)&&this.canEnterGrades()}canDelegatedModifyAttempt(e,t){return!e.delegatedGrading||(!t||(!!e.isUserReconciler(this.currentUser.userId)||!t.isReconciled()))}canDelegatedReconcileAttempt(e){return e.delegatedGrading&&e.isUserReconciler(this.currentUser.userId)}canExecute(e){return this.isEntitled("course.gradebook-grades.EXECUTE",e)}canModify(e){return this.isEntitled(s.q.ModifyGradebook,e)}canModifyItemDueDate(e){return this.isEntitled("course.gradebook-item.duedate.MODIFY",e)}canObserve(e){return this.isEntitled(s.q.Observe,e)}canOverrideGrades(e){return this.canExecute(e)}canPostGrades(e,t){const n=t||this.context.column,i=e||this.currentCourse.courseId;return n&&n.delegatedGrading?n.isUserReconciler(this.currentUser.userId)&&this.isEntitled("course.gradebook-grades.publish.EXECUTE",i):this.isEntitled("course.gradebook-grades.publish.EXECUTE",i)}canView(e){return this.isEntitled(s.q.ViewGradebookMetaData,e)}hasItemExceptionView(e){return this.entitlementService.isEntitled(s.q.ViewException,e)}hasAssessmentExceptionView(e){return this.entitlementService.isEntitled(d.b.ViewException,e)}canViewAttempts(e){return this.isEntitled(s.q.ViewAttempts,e)}canViewGrades(e){return this.isEntitled("course.gradebook-grades.VIEW",e)}canViewBulkDownload(e){return this.isEntitled(s.q.ViewGrades,e)}};h=Object(i.a)([Object(i.c)(0,Object(u.b)(o.b)),Object(i.c)(1,Object(u.b)(r.e)),Object(i.c)(2,Object(u.b)(l.b)),Object(i.c)(3,Object(u.b)(c.b))],h);a.module(m,[c.a,r.b,o.a]).service(p,h)},X455:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f}));var i=n("D57K"),s=n("vYaK"),a=n("pjml"),o=n("zGdY"),r=n("yC9S"),l=n("lVRt"),c=n("aHpC"),d=n("fYJU"),u=n("eQBN"),m=n("VAMW"),p=n("Qbdf");const h="ultra.service.course-context.membership",g="currentCourseMembership",b=g+"Provider",f=l.a;class v{constructor(e){this.service=e,this.key=m.d.CurrentCourseMembership}isActAsInstructorMembership(){return this.service.isActAsInstructorMembership()}isStudentMembership(){return this.service.isStudentMembership()}}let y=class{constructor(e,t,n,i,s){this.$q=e,this.$rootScope=t,this.currentUser=n,this.studentPreview=i,this.CourseModel=s;const a=this;r.b.OnRootScope(t,p.a,((e,t,n)=>{null!=t&&null!==t.id||a.clear()})),Object(m.f)(new v(this))}get courseMembership(){return this._courseMembership}clear(){this._courseMembership=null}load(e){return e?this.currentUser.userId?this.courseMembership&&this.courseMembership.course&&this.courseMembership.userId===this.currentUser.userId?e.id!==this.courseMembership.course.id?this.$q.reject(new Error("Cannot resolve course membership because given course does not match the one for the current course membership")):this.courseMembership.$asPromise():e.users.$find(this.currentUser.userId,{expand:"courseRole"}).$allow(["400-499"]).$asPromise().then((e=>(this._courseMembership=e,this._courseMembership.isInStudentPreview=()=>this.studentPreview.isInIframeOfPreviewMode(),e))):this.$q.reject(new Error("Cannot resolve course membership because currentUser service has no userId")):this.$q.reject(new Error("Cannot load course membership because no course model was provided"))}hasCourseMembership(){return!(!this.courseMembership||this.courseMembership.$response.status===o.S.NotFound)}availabilityHasBeenBypassed(){return this.courseMembership&&this.courseMembership.availabilityHasBeenBypassed()}courseIsOpen(){return this.courseMembership&&this.courseMembership.courseIsOpen()}courseIsPrivate(){return this.courseMembership&&this.courseMembership.courseIsPrivate()}courseIsComplete(){return this.courseMembership&&this.courseMembership.courseIsComplete()}isStudentMembership(){return this.courseMembership&&this.courseMembership.isStudentMembership()}isGuestMembership(){return this.courseMembership&&this.courseMembership.isGuestMembership()}isStudentOrGuestMembership(){return this.courseMembership&&this.courseMembership.isStudentOrGuestMembership()}isActAsInstructorMembership(){return this.courseMembership&&this.courseMembership.isActAsInstructorMembership()}isTeachingAssistantMembership(){return this.courseMembership&&this.courseMembership.isTeachingAssistantMembership()}isInRoleBucket(e){return this.courseMembership&&this.courseMembership.isInRoleBucket(e)}isDueDateExcepted(){return this.courseMembership&&this.courseMembership.isDueDateExcepted()}};y=Object(i.a)([Object(i.c)(0,Object(c.b)("$q")),Object(i.c)(1,Object(c.b)("$rootScope")),Object(i.c)(2,Object(c.b)(d.b)),Object(i.c)(3,Object(c.b)(u.e)),Object(i.c)(4,Object(c.b)(s.serviceName))],y);const k=[d.a,a.N,u.b];angular.module(h,k).provider(g,class{constructor(){this.$get=["$injector",e=>e.instantiate(y)],this.name=f,this.resolve=[l.c,u.e,g,"$q",(e,t,n)=>t.init(e).then((()=>n.load(e)))]}})},X4V6:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("Ul6e");const a="ultra.components.directives.bbUiIcon.large.Spreadsheet";Object(i.a)(s.a,a,"bbUiIconLargeSpreadsheet")},XGja:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n("71td"),s=n("lUN/");function a(e,t){s.a();const n=e?e.find(":tabbable"):i(":tabbable"),a=t||i(document.activeElement);let o=0;if(1===a.length){const e=n.index(a);e+1<n.length&&(o=e+1)}n.eq(o).focus()}function o(e,t){s.a();const n=e?e.find(":tabbable"):i(":tabbable"),a=t||i(document.activeElement);let o=n.length-1;if(1===a.length){const e=n.index(a);e>0&&(o=e-1)}n.eq(o).focus()}function r(e,t,n){s.a(),e.is(":tabbable")||null!=e.attr("tabindex")?e.is(":tabbable")&&"-1"===e.attr("tabindex")&&e.removeAttr("tabindex"):e.attr("tabindex","-1"),n&&e.closest(n).removeClass("ng-hide"),t?t(e):e.focus()}},XPgl:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-arrow-down",use:"icon-small-arrow-down-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-arrow-down"><path d="M1 4l7 7 7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},Xdju:function(e,t){e.exports='<bb-guidance-feature-announcement\n  component-key="\'contentVisibility.membersAndGroups\'"\n  button-aria-label="$ctrl.buttonAriaLabel"\n  announcement-title="$ctrl.title"\n  content="$ctrl.content"\n  done-button-text="$ctrl.doneButtonText"\n  link-href="$ctrl.linkHref"\n  link-text="$ctrl.linkText"\n  close-label="$ctrl.closeLabel"\n></bb-guidance-feature-announcement>\n'},XfOu:function(e,t,n){"use strict";n.r(t),n.d(t,"serviceName",(function(){return o})),n.d(t,"sortRubricData",(function(){return r}));n("QLzv");var i=n("yCC5"),s=n("Rjd/"),a=n("nkTj");const o=i.Xb;function r(e){e.columnHeaders&&e.columnHeaders.length>0&&e.columnHeaders.sort(((e,t)=>e.position-t.position)),e.rows&&e.rows.length>0&&(e.rows.sort(((e,t)=>e.position-t.position)),e.rows.forEach((e=>{e.cells&&e.cells.length>0&&e.cells.sort(((e,t)=>e.position-t.position))})))}function l(e){e.rows&&e.rows.length>0&&e.rows.forEach((t=>{t.isCurrentUserEligibleToAlignGoals=function(){return!0===e.permissions.edit&&!e.readOnly},t.getContentIdForGoalAlignment=function(){return"blackboard.plugin.rubric.api.core.data.RubricRow;"+t.id},t.getContentTitleForGoalAlignment=()=>t.header}))}s.a.factory(o,["restmod",a.c,(e,t)=>e.model().mix({$extend:{Record:{canDelete(){return this.permissions&&this.permissions.delete},isCurrentUserEligibleToAlignGoals(){return this.permissions&&!0===this.permissions.edit},getContentIdForGoalAlignment(){return"blackboard.plugin.rubric.api.core.data.Rubric;"+this.id},getContentTitleForGoalAlignment(){return this.title},saveAlignedGoals(e,t){let n;return t&&(n=t.map((e=>({goalId:e.id,isVisibleToStudent:!0,goal:e})))),e&&(this.rows=this.rows.map((t=>(t.id===e&&(t.alignedGoals=n),t)))),this.$send({method:"PATCH",url:this.$url(),data:{rows:this.rows}}).$then((()=>{this.$getPreviousVersion()&&(this.$getPreviousVersion().rows=this.rows)}))}}},$hooks:{"after-request":function(e){e&&e.data&&(e.data.rows&&e.data.columnHeaders?(r(e.data),l(e.data)):e.data.results&&e.data.results.length>0&&e.data.results.forEach((e=>{e.rows&&e.columnHeaders&&(r(e),l(e))})))},"before-save":function(e){e.data.columnHeaders&&e.data.columnHeaders.forEach(((e,t)=>{e.position=t})),e.data.rows&&e.data.rows.forEach(((e,t)=>{e.position=t,e.cells.forEach(((e,t)=>{e.position=t}))}))}}})])},XjwN:function(e,t){e.exports='<div class="panel-header persistent-white-header mode-{{mode}} panel-header-directive"\n  bb-load-bundle="components/directives/panel-header"\n  ng-class="{\'is-editable\' : panelHeader.editMode,\n   \'has-slider\': hasSlider(),\n   \'can-edit\': canEdit,\n   \'has-controls\': showConversations() || showDelete() || showParticipants() || showSettings(),\n   \'has-visibility-toggle\': showVisibility()}">\n  <div class="panel-titles-container">\n    <div ng-if="showCourse()">\n      <div class="panel-sub-title js-vr-remove-random">\n        <span ng-if="::!panelHeaderTitleTranslateKey">{{panelHeader.panelHeaderTitle}}</span>\n        <span ng-if="::panelHeaderTitleTranslateKey" bb-translate>{{::panelHeaderTitleTranslateKey}}</span>\n      </div>\n    </div>\n    <div class="panel-title-texteditor">\n      <div class="editable-title-container" ng-show="!panelHeader.editMode">\n        \x3c!-- ULTRA-13692 Since there\'s already an "Edit" button, we don\'t want keyboard users to be able to focus on the title to edit it,\n             otherwise there would be two ways to edit the title, which is confusing. However, since this title has an event listener, it\'s\n             announced as "clickable" by screenreaders, so let\'s hide it with aria-hidden and add another instance of the header just for\n             screenreaders instead. --\x3e\n        <h1 class="sr-only" tabindex="-1" aria-hidden="true">{{panelTitle}}</h1>\n        <h1 class="panel-title secondary-title" ng-click="panelHeader.onEditMode()"\n            ng-keydown="panelHeader.titlePressKey($event)" bb-focus\n            ng-blur="panelHeader.blurTitle($event)"\n            ng-class="{\'student\' : !canEdit, \'is-hovered\': panelHeader.isEditButtonHovering}" title="{{panelTitle}}"\n            analytics-id="components.directives.content.panelHeader.secondaryTitle.header">{{panelTitle}}\n        </h1>\n        <button ng-if="canEdit" class="button super-clear edit-title" type="button"\n                ng-click="panelHeader.onEditMode()"\n                ng-mouseover="panelHeader.onEditButtonMouseOver()"\n                ng-mouseleave="panelHeader.onEditButtonMouseLeave()"\n                aria-label="{{ panelHeader.getAriaLabel() }}"\n                analytics-id="course.content.panelHeader.edit.button">\n          <bb-svg-icon size="small" icon="draw" aria-hidden="true"></bb-svg-icon>\n        </button>\n      </div>\n      <div class="panel-title-input-container" ng-show="panelHeader.editMode" bb-click-outside="panelHeader.onBlurTitle()">\n        <input\n          name="panel-title"\n          class="panel-header-title panel-title secondary-title"\n          type="text"\n          autocapitalize="off"\n          ng-keydown="panelHeader.pressKey($event)"\n          maxlength="{{maxLength}}"\n          ng-model ="panelTitle"\n          ng-model-options="{ getterSetter: true }"\n          ng-blur="panelHeader.onBlurTitle($event)"\n          ng-change="panelHeader.onChangeTitle()"\n          bb-translate-attrs="{\'aria-label\':\'{{::panelHeader.panelAriaLocalizationKey}}\'}"\n          bb-placeholder="{{::panelHeader.translatedPlaceholder}}"\n          translate-attrs-values="{{::localizationAttrsValues}}"\n          id="{{::panelHeader.getTeachingBubbleTargetElementId()}}"\n          ng-attr-aria-describedby="{{panelHeader.shouldShowTeachingBubble() ? panelHeader.getTeachingBubbleTooltipId() : undefined}}"\n          analytics-id="course.content.panelHeader.title.input.text"\n          >\n          <bb-ui-teaching-bubble\n            show="panelHeader.shouldShowTeachingBubble()"\n            dismiss="panelHeader.dismissTeachingBubble"\n            headline="panelHeader.getTeachingBubbleHeadline()"\n            message="panelHeader.getTeachingBubbleMessage()"\n            target-id="panelHeader.getTeachingBubbleTargetElementId()"\n            tooltip-id="panelHeader.getTeachingBubbleTooltipId()"\n            analytics-id="panelHeader.getTeachingBubbleAnalyticsId()">\n          </bb-ui-teaching-bubble>\n      </div>\n    </div>\n  </div>\n\n  <div\n    class="header-actions-menu button-group header-group"\n    ng-class="panelHeader.getButtonGroupClass()"\n    bb-first-time-container>\n\n    <ng-transclude ng-transclude-slot="panelHeaderActions"></ng-transclude>\n\n    <div ng-if="showVisibility()"\n         class="action-item item-visibility"\n         ng-class="{\'visibility-selector-disabled\': !panelHeader.isVisibilitySelectorEnabled()}">\n      <bb-content-visibility-membership-ftue></bb-content-visibility-membership-ftue>\n\n      <bb-content-visibility-selector ng-if="content" content="content"\n                                      is-visibility-selector-enabled="panelHeader.isVisibilitySelectorEnabled()"\n                                      onchange-func="panelHeader.onChangeVisibility()"\n                                      open-panel-on-restricted="openPanelOnRestricted()"\n                                      on-restricted-selected-func="panelHeader.onRestrictedSelected()"\n                                      validation-func="panelHeader.validateVisibilityChange(visibility)"\n                                      onblur-func="panelHeader.onBlurVisibility()"\n                                      disable-restricted="disableRestricted()"\n                                      has-medium-icon="false"></bb-content-visibility-selector>\n    </div>\n\n    <div class="ally-icons" ng-if="showAllyIcon() && panelHeader.canShowAlly">\n      <div class="small-ally-icon">\n        <bb-ally-show content-id="{{::content.id}}" show-alternative-formats-link="true" show-icon="true"\n          class="ally-icon"></bb-ally-show>\n      </div>\n      <div class="medium-ally-icon">\n        <bb-ally-show content-id="{{::content.id}}" show-alternative-formats-link="true" show-icon="true" icon-size="medium"\n          class="ally-icon"></bb-ally-show>\n      </div>\n    </div>\n\n    <div ng-if="showConversations() && content.ui.hasConversationAttached && content.attachedForumLink"\n         class="action-item conversation"\n         ui-sref-active="active">\n      <button ng-click="panelHeader.gotoConversation()"\n         bb-translate-attrs="{\'aria-label\':\'components.directives.header.conversationAriaLabel\', \'title\':\'components.directives.header.conversation\'}"\n         translate-attrs-values="{\'itemTitle\':\'{{panelTitle}}\'}"\n         class="button super-clear icon open-conversation"\n         type="button"\n         bb-guidance-target component-key="components.features.course.content.assessment.ftue.class-conversation"\n         analytics-id="panel.header.conversation.visibility.button">\n        <bb-svg-icon size="medium" icon="conversation"></bb-svg-icon>\n      </button>\n    </div>\n    <div ng-if="showDelete()"\n         class="action-item delete"\n         ng-class="{\'delete-button\': showDelete() && showSettings()}"\n         ui-sref-active="active">\n      <ng-switch on="panelHeader.getDeleteDirectiveArgumentType()">\n        <bb-delete ng-switch-when="ContentOnly" extra-class="standard-button" content="content" choices="choices" analytics-id="panel.header.content.only.switch"></bb-delete>\n        <bb-delete ng-switch-when="ContentAndDelete" extra-class="standard-button" content="content" delete-function="ondeleteFunc()" choices="choices" analytics-id="panel.header.content.delete.button.switch"></bb-delete>\n        <bb-delete ng-switch-when="ContentAndHandler" extra-class="standard-button" content="content" confirmation-handler="{{ondeleteConfirmHandler}}" choices="choices" analytics-id="panel.header.content.header.button.switch"></bb-delete>\n        <bb-delete ng-switch-when="ContentAndDeleteAndHandler" extra-class="standard-button" content="content" delete-function="ondeleteFunc()" confirmation-handler="{{ondeleteConfirmHandler}}" choices="choices" analytics-id="panel.header.content.delete.handler.button.switch"></bb-delete>\n        <bb-delete ng-switch-when="DeleteAndHandler" extra-class="standard-button" delete-function="ondeleteFunc()" confirmation-handler="{{ondeleteConfirmHandler}}" choices="choices" analytics-id="panel.header.delete.handler.button.switch"></bb-delete>\n      </ng-switch>\n    </div>\n    <div ng-if="showParticipants()"\n         class="action-item participants"\n         ui-sref-active="active">\n      \x3c!--TODO: need add real route here --\x3e\n      <a bb-peek-sref="discussion-participants"\n         bb-translate-attrs="{\'aria-label\':\'components.directives.header.participants\'}"\n         class="button super-clear icon"\n         analytics-id="components.directives.discussion.participants.link">\n        <bb-svg-icon ng-if="!content.isGroupContent" size="medium" icon="people"></bb-svg-icon>\n        <bb-svg-icon ng-if="content.isGroupContent" size="medium" icon="groups"></bb-svg-icon>\n      </a>\n    </div>\n\n    <div ng-if="showSettings() && !!settingsPeekRef"\n         class="action-item settings"\n         ui-sref-active="active">\n      <a class="button super-clear icon assessment-settings-button"\n         href="javascript:void(0);"\n         ng-class="{\'disabled\': settingsDisabled()}"\n         ng-click="panelHeader.openSettingsPanel()"\n         bb-translate-attrs="{\'aria-label\':\'{{settingsLabel}}\'}"\n         analytics-id="panel.header.open.settings.panel.link">\n        <bb-svg-icon size="medium" icon="{{::panelHeader.getSettingsIcon()}}"></bb-svg-icon>\n      </a>\n    </div>\n    <ng-transclude ng-transclude-slot="panelHeaderCustomIcons" />\n  </div>\n  <div class="graded-count-wrap" ng-if="showSubmissionsGrading()">\n    <div class="graded-count-wrap-col col-numbers">\n      <div class="graded-numbers"\n      ng-if="showSubmissionsGrading() && summary.$resolved"\n      bb-translate="components.directives.header.submissions-grading.gradedCount.numbers"\n      translate-values="{gradedCount: summary.numStudentsGraded(), totalCount: summary.numEligibleToBeGraded}"\n      >\n      </div>\n      <div class="filtered-numbers" ng-if="showSubmissionsGrading() && isFiltered" bb-translate="components.directives.header.submissions-grading.filteredCount.numbers"\n      translate-values="{filteredCount}">\n      </div>\n    </div>\n    <div class="graded-count-wrap-col">\n      <p class="graded-label" ng-if="showSubmissionsGrading() && summary.$resolved" bb-translate="components.directives.header.submissions-grading.gradedCount.plural"></p>\n      <p class="graded-label" ng-if="showSubmissionsGrading() && isFiltered" bb-translate="components.directives.header.submissions-grading.filteredCount.plural"></p>\n    </div>\n  </div>\n</div>\n'},"Xq/A":function(e,t,n){"use strict";var i=n("Llzl"),s=n("Sa5G"),a=n("g66W");var o=n("DsaG"),r=n("Q/M7"),l=n("e6jQ"),c=n("AuQm"),d=n("IbyE");n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return b}));const u="ultra.services.bbml-editor",m="bbMLEditorService",p="file",h="embedded-unsafe-html",g="http://localhost";class b{constructor(e,t,n){this.$q=e,this.DSCacheFactory=t,this.fileViewer=n}static get VERSION_INDICATOR_PREFIX(){return'\x3c!-- {"bbMLEditorVersion":'}static get CURRENT_VERSION_INDICATOR(){return b.VERSION_INDICATOR_PREFIX+"1} --\x3e"}static get EMBEDDED_LINK_PREFIX(){return"https://"}getBbMLFileType(e){const t=e.dataset;return(null==t?void 0:t.bbtype)||p}convertBbMLToContentBlocks(e){var t;const n=new Set,i=[];let o=!1;var r;r=e,a.i(r,b.VERSION_INDICATOR_PREFIX)&&(o=!0);const l=document.createElement("div");l.innerHTML=e;for(let e=0;e<l.children.length;e++){const a=l.children[e];let o;if("A"===a.tagName&&this.getBbMLFileType(a)===p)o=this.convertBbMLToFileBlock(a),o.blockType=s.c.File;else if("DIV"===a.tagName){const e=a.innerHTML.trim();e&&(o={blockType:s.c.Text,textBlock:e,id:this.getBlockIdFromBbML(a)})}else if("A"===a.tagName&&this.getBbMLFileType(a)===h){const{dataset:e,href:n}=a;let i;if(null==e?void 0:e.bbfile)try{i=null===(t=JSON.parse(e.bbfile))||void 0===t?void 0:t.linkName}catch(e){}o={blockType:s.c.Html,textBlock:"",fileBlock:{downloadUrl:n,file:{fileName:i}},id:this.getBlockIdFromBbML(a)}}o&&!n.has(o.id)&&(n.add(o.id),i.push(o))}return o||0!==i.length||(this.contains(e,b.EMBEDDED_LINK_PREFIX)||(o=!0),i.push({blockType:s.c.Text,textBlock:e,id:this.generateBlockId()})),{contentBlocks:i,isBbmlEditorCompliant:o}}contains(e,t){return(e||"").indexOf(t)>-1}convertBbMLToFileBlock(e){var t;const n=e.dataset,i={file:{}};let s=null;if(null==n?void 0:n.bbfile)try{const e=JSON.parse(n.bbfile);i.isDecorative=e.isDecorative,i.alternativeText=e.alternativeText,i.linkName=e.linkName,i.currentMimeType=e.mimeType,i.render=null!==(t=e.render)&&void 0!==t?t:d.t.Inline,i.ui={isRenderedInline:Object(c.jb)(i.render)},i.viewerData={},e.bbFileUuid&&(i.viewerData.bbFileUuid=e.bbFileUuid),e.viewerUuid&&(i.viewerData.viewerUuid=e.viewerUuid),e.viewerUrl&&(i.viewerData.viewerUrl=e.viewerUrl),e.viewerTimeToWait&&(i.viewerData.viewerTimeToWait=parseInt(e.viewerTimeToWait+"",10))}catch(e){}i.linkName||(i.linkName=e.innerHTML.substr(0,e.innerHTML.lastIndexOf("?"))),i.currentMimeType||(i.currentMimeType=e.innerHTML.substr(e.innerHTML.lastIndexOf("?")+1)),i.ui||(i.ui={isRenderedInline:this.fileViewer.shouldRenderInlineByDefault(i)}),s=this.getBlockIdFromBbML(e);let a=e.href;return 0===a.indexOf(g)&&(a=Object(r.c)(a.substr(g.length))),i.downloadUrl=a,this.fileViewer.initUiField(i),{fileBlock:i,id:s}}getBlockIdFromBbML(e){const t=e.dataset;return(null==t?void 0:t.bbid)?t.bbid:e.id?e.id:this.generateBlockId()}convertContentBlocksToBbML(e,t){const n=document.createElement("div");if(e.forEach((e=>{var t,i;if(e.blockType===s.c.File){const i=document.createElement("a"),s=i.dataset;if(i.href=e.fileBlock.downloadUrl,s.bbid=e.id,e.fileBlock.ui){const n={};n.render=null!==(t=e.fileBlock.render)&&void 0!==t?t:d.t.Inline,null!=e.fileBlock.isDecorative&&(n.isDecorative=e.fileBlock.isDecorative),e.fileBlock.alternativeText&&(n.alternativeText=e.fileBlock.alternativeText),e.fileBlock.linkName&&(n.linkName=e.fileBlock.linkName),e.fileBlock.currentMimeType&&(n.mimeType=e.fileBlock.currentMimeType),e.fileBlock.viewerData&&(e.fileBlock.viewerData.bbFileUuid&&(n.bbFileUuid=e.fileBlock.viewerData.bbFileUuid),e.fileBlock.viewerData.viewerUuid&&(n.viewerUuid=e.fileBlock.viewerData.viewerUuid)),s.bbfile=JSON.stringify(n)}i.innerHTML=e.fileBlock.linkName,n.appendChild(i)}else if(e.blockType===s.c.Text&&e.textBlock){const t=document.createElement("div");t.dataset.bbid=e.id,t.innerHTML=e.textBlock,n.appendChild(t)}else if(e.blockType===s.c.Html&&(null===(i=null==e?void 0:e.fileBlock)||void 0===i?void 0:i.downloadUrl)){const t=document.createElement("a"),{downloadUrl:i,file:s}=e.fileBlock,{fileName:a}=s,o=t.dataset;o.bbid=e.id,o.bbfile=JSON.stringify({linkName:a}),o.bbtype=h,t.href=i,n.appendChild(t)}e.isNewToBbML&&delete e.isNewToBbML})),n.innerHTML){let i="";return t&&e&&e.length&&(i=b.CURRENT_VERSION_INDICATOR),i+n.innerHTML}return n.innerHTML}generateBlockId(){return"bbml-editor-id_"+l.b()}writeBbMLLink(e,t,n){if(0===n.length)return;let i="";n.length>1&&(i+="<ul>"),n.forEach((e=>{n.length>1&&(i+="<li>"),"lti"===e.type?i+='<a data-bbfile="'+e.data+'" data-bbtype="lti" href="#">'+e.title+"</a>":i+='<a href="'+e.url+'" target="_blank">'+e.title+"</a>",n.length>1&&(i+="</li>")})),n.length>1&&(i+="</ul>")}}b.$inject=["$q","DSCacheFactory",o.b];i.module(u,["angular-data.DSCacheFactory",o.a]).service(m,b)},XseH:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));n("my/J");var i=n("nsO7"),s=n("Llzl"),a=n("H8CZ");const o="ultra.components.directives.hasFooter";class r{constructor(t,n,s){this.scope=t,this.element=n,this.attrs=s,this.domChanged=()=>{const t=this.element.find("footer:not(.notification)").filter(":visible").filter((function(){return e(this).height()>0})),n=this.element.find(".import-status-bar").filter(":visible").filter((function(){return e(this).height()>0}));t.length>0||n.length>0?(e(this.element).addClass("has-footer"),e(this.element).hasClass("in-preview-mode")&&e(window.parent.document).find("body").addClass("has-footer-in-preview-mode"),t.find(".navigation-visible").length>0&&e(this.element).addClass("has-navigation-footer")):(e(this.element).removeClass("has-footer"),e(this.element).hasClass("in-preview-mode")&&e(window.parent.document).find("body").removeClass("has-footer-in-preview-mode"))};const o=i.debounce(this.domChanged,100,{leading:!0,trailing:!0});this.observer=new MutationObserver(o),this.observer.observe(n[0],{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),a.b(this.element,o),a.a(this.element,o),this.scope.$on("$destroy",(()=>{this.observer.disconnect(),a.b(this.element,o),a.a(this.element,o)}))}}r.$inject=["scope","element","attrs"];class l{constructor(e){this.$injector=e,this.restrict="A",this.link=(e,t,n)=>{e.hasfooter=this.$injector.instantiate(r,{scope:e,element:t,attrs:n})}}}l.$inject=["$injector"],s.module(o,[]).directive("bbHasFooter",["$injector",e=>e.instantiate(l)])}).call(this,n("71td"))},"Y/dt":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return l}));const i="EVENT_ATTEMPT_SAVING_START",s="EVENT_ATTEMPT_SAVING_DONE",a="EVENT_ATTEMPT_SUBMITTING_START",o="EVENT_ATTEMPT_SUBMITTING_DONE",r="EVENT_ATTEMPT_TRIGGER_SAVE",l="bb-assessment-persist-pending-saves"},Y3OE:function(e,t,n){"use strict";var i=n("IbyE");t.a=i.i},Y88D:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var i=n("Llzl");const s="ultra.components.directives.accessibility.clickFocus";class a{constructor(t,n){this.injector=t,this.timeout=n,this.restrict="A",this.link=(t,n,i)=>{i.bbClickFocus.length&&n.on("click",(()=>{this.timeout((()=>{if(i.indexToFocus){const t=Number(i.indexToFocus);e(i.bbClickFocus).eq(t).focus()}else{e(i.bbClickFocus).focus()}}),120)}))}}}a.$inject=["$injector","$timeout"],i.module(s,[]).directive("bbClickFocus",["$injector",e=>e.instantiate(a)])}).call(this,n("71td"))},YCUs:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.directives.fileUpload.packageTitle"\n          analytics-id-tag-prefix="components.directives.fileUpload">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>components.directives.fileUpload.packageFull</bb-translate>\n    </p>\n  </div>\n  <div name="modal-footer" class="reveal-modal__footer-content reveal-modal__footer-content--gray">\n    <div class="reveal-modal__footer-buttons">\n      <span class="reveal-modal__footer-button-container">\n        <button role="button" class="button button--secondary js-secondary-button dismiss-message expand" ng-click="fileUpload.modalCancelUpload()" analytics-id="components.directives.fileUpload.takeMeBack">\n          <bb-translate>components.directives.fileUpload.takeMeBack</bb-translate>\n        </button>\n      </span>\n      <span class="reveal-modal__footer-button-container">\n        <button role="button" ng-click="fileUpload.addContent(true)" class="button button--secondary js-secondary-button" bb-translate-attrs="{\'aria-label\':\'components.directives.fileUpload.addAllContent\'}" analytics-id="components.directives.fileUpload.addAllContent">\n          <bb-translate>components.directives.fileUpload.addAllContent</bb-translate>\n        </button>\n      </span>\n      <span class="reveal-modal__footer-button-container">\n        <button role="button" ng-click="fileUpload.addContent(false)" class="button js-primary-button" bb-translate-attrs="{\'aria-label\':\'components.directives.fileUpload.letMeChoose\'}" analytics-id="components.directives.fileUpload.letMeChoose">\n          <bb-translate>components.directives.fileUpload.letMeChoose</bb-translate>\n        </button>\n      </span>\n    </div>\n  </div>\n</bb-modal>\n'},YHe3:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return x}));var i=n("D57K"),s=n("Llzl"),a=n("pjml"),o=n("TnpK"),r=n("Q/M7"),l=n("12mu"),c=n("0JpG"),d=n("nYZ0"),u=n("Qbdf"),m=n("vhkR"),p=n("zJP2"),h=n("IbyE"),g=n("zGdY"),b=n("CY5M"),f=n("nmzr"),v=n("DU7P"),y=n("aHpC");n("TuNX");const k="ultra.components.services.proctoring",x="proctoring",S={Respondus:"respondus"},C="components.services.proctoring.overview.",E="components.services.proctoring.delivery.",I="components.services.proctoring.settings.",w="components.services.proctoring.page.";let A=class{constructor(e,t,n,i,s,a,o,r,l,c,d,u,m){this.$q=e,this.$rootScope=t,this.$sce=n,this.$window=i,this.CourseModel=s,this.CourseContentModel=a,this.ProctoringServicesModel=o,this.modal=r,this.contentService=l,this.contextCourse=c,this.localize=d,this.ultraState=u,this.ltiService=m}getBooksAndToolsDescription(e){return"components.services.proctoring.booksAndTools."+S[e.vendor]+".description"}getProctoringServices(){const e=this.$q.defer();return this.ProctoringServicesModel.$search({"availability.available":"Yes"}).$allow(["400-599"]).$asPromise().then((t=>{t.$response&&t.$response.status>=400?e.resolve([]):e.resolve(t)}),(()=>e.resolve([]))),e.promise}getProctoringAssessmentSettingsText(e){return I+S[e]+".toolLink"}getProctoringAssessmentSettingsRequirementsText(e){const t=I;return e.getProctoringServiceHandle()&&e.isSecureBrowserRequiredToTake()?e.isWebcamRequired()?t+S[e.getProctoringServiceVendor()]+".secureBrowserAndWebcamRequired":t+S[e.getProctoringServiceVendor()]+".secureBrowserRequired":null}getProctoringOverviewBrowserText(e){return e.isSecureBrowserRequiredToTake()?"components.services.proctoring.overview."+S[e.getProctoringServiceVendor()]+".browser":null}getProctoringOverviewRequirementsText(e){const t=C;return e.isSecureBrowserRequiredToTake()?e.isWebcamRequired()?t+S[e.getProctoringServiceVendor()]+".secureBrowserAndWebcamRequired":t+S[e.getProctoringServiceVendor()]+".secureBrowserRequired":null}getProctoringOverviewDownloadText(e){return e.getProctoringDownloadUrl()?"components.services.proctoring.overview."+S[e.getProctoringServiceVendor()]+".downloadBrowser":null}openProctoringLTITool(e,t){let n="/webapps/assessment/controller/proctoring/launchProctoringSettings?proctoring_svc_id="+e.id+"&course_id="+this.contextCourse.courseId;t&&(n+="&content_id="+t.id);const i={toolHref:r.c(n)};t&&t.title&&t.title.length>0&&(i.toolSubtitle=t.title),this.ultraState.goPeekState("proctoring-lti-tool",i)}getProctoringReviewButtonText(e){return E+"review."+S[e]+".reviewResults"}getProctoringReviewDownloadText(e){return E+"review."+S[e]+".download"}getProctoringPageRequirementsText(e){return w+S[e]+".requirements"}getProctoringPageDownloadText(e){return w+S[e]+".download"}getProctoringPageBrowserText(e){return w+S[e]+".browser"}getSecureBbEditorOptions(e){return this.ultraState.current.name===f.d.BASE_PROCTORING_ATTEMPT&&(e.attachment=!1,e.image=!1,e.youtubeVideo=!1,e.video=!1,e.contentMarket=!1),e}handleProctoredAssessmentClose(e,t){if("Respondus"===e.getProctoringServiceVendor())r.p(r.c("/ultra/proctoring/close?rldbsm=1&rldbxb=1"));else if(t){const t={handle:e.getProctoringServiceHandle(),linkType:h.i.LtiPlacement};let n=Object(b.l)(t);n=r.a(n,"custom_proctoring_end_assessment_return","true"),n=r.a(n,"course_id",e.courseId),n=r.a(n,"content_id",e.id),n=r.a(n,"from_ultra","true"),this.ultraState.leavePeekState().then((()=>{this.ltiService.launch(n)}))}else this.ultraState.goPeekState(f.c.ASSESSMENT_OVERVIEW,{contentId:e.id})}getProctoringServiceByHandle(e){return this.$q.resolve(p.a.loadProctoringService(e))}fetchProctoringServices(){return this.$q.resolve(p.a.loadAvailableProctoringServices())}fetchProctoringServiceIntegrations(){return this.$q.resolve(p.a.loadAvailableProctoringServicesWithIntegration())}getCurrentProctoringProviderType(e){return e?e===v.b?v.a.Respondus:v.a.IMS:v.a.None}isRespondusProctoringServiceProvider(e){return this.getCurrentProctoringProviderType(e.handle)===v.a.Respondus}isIMSProctoringServiceProvider(e){return this.getCurrentProctoringProviderType(e.handle)===v.a.IMS}isProctoringServiceUnavailable(e,t){return this.isProctoringPlacementUnavailable(e,t)||this.isProctoringUEFUnavailable(e,t)}isProctoringPlacementUnavailable(e,t){return!!e&&(null==t||t.availability.available===g.Mb.No)}isProctoringUEFUnavailable(e,t){if(!!e){return!this.isRespondusProctoringServiceProvider(t)&&!this.getProctoringServiceIntegrationId(t)}return!1}getProctoringServiceIntegrationId(e){var t;if(e)return null===(t=p.a.getProctoringIntegration(e.handle))||void 0===t?void 0:t.integrationId}promptIntegrationToSave(e,t,n,i){return this.$q.resolve(p.a.promptIntegrationToSaveSettings(e,t,n,i))}openRespondusProctoringLaunchLink(t){const n="data:text/plain,";if(e("#respondus-iframe").remove(),t.startsWith(n)){const e=`<iframe src="data://text/plain,${t.substring(n.length)}" id="respondus-iframe" style="display:none"></iframe>`;this.createRespondusIFrameAndSetLocation(e)}else this.setRespondusWindowLocation(t)}createRespondusIFrameAndSetLocation(t){document.body.appendChild(e(t)[0])}setRespondusWindowLocation(e){this.$window.location.assign(e)}};A=Object(i.a)([Object(i.c)(0,Object(y.b)("$q")),Object(i.c)(1,Object(y.b)("$rootScope")),Object(i.c)(2,Object(y.b)("$sce")),Object(i.c)(3,Object(y.b)("$window")),Object(i.c)(4,Object(y.b)(a.m.serviceName)),Object(i.c)(5,Object(y.b)(a.p.serviceName)),Object(i.c)(6,Object(y.b)(a.kb.serviceName)),Object(i.c)(7,Object(y.b)(l.b)),Object(i.c)(8,Object(y.b)(d.f)),Object(i.c)(9,Object(y.b)(u.e)),Object(i.c)(10,Object(y.b)(c.serviceName)),Object(i.c)(11,Object(y.b)(o.d)),Object(i.c)(12,Object(y.b)(m.b))],A);s.module(k,["ngSanitize",d.d,c.moduleName,l.a,o.b,u.b,m.a]).service(x,A)}).call(this,n("71td"))},"YOs/":function(e,t,n){"use strict";var i=n("nsO7"),s=n("Llzl"),a=n("e6jQ"),o=n("lr7J"),r=n("0JpG"),l=n("en1n"),c=n("o2qC");n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));const d="ultra.components.directives.table";function u(e,t,n){let i=e+"("+t+")";return n&&(i+=","+n+"("+t+")"),i}class m{constructor(e,t,n,a){this.scope=e,this.element=t,this.$q=n,this.localizeService=a,this.fetchingMoreRows=!1,this.initialDataLoaded=!1,this.throttledShowMore=i.throttle((()=>{const e=this.scope.config();if(this.scope.tableData().length<e.totalCount&&!this.fetchingMoreRows){this.fetchingMoreRows=!0;const t=this.$q.defer();this.scope.$emit("table.showMore",{instanceId:e.instanceId,callback:e=>{t.resolve(e)}}),this.scope.$root.$broadcast(o.a,e.instanceId+"-scroll-tray",t.promise),t.promise.then((()=>{this.fetchingMoreRows=!1}))}}),500);const r=this.scope.$watch("config()",(e=>{s.isDefined(e)&&(r(),this.init())}))}init(){const e=this.scope.config();e.instanceId=e.instanceId||a.a(),e.currentSortDirection=e.currentSortDirection||"asc",e.currentSortColumnIndex=e.currentSortColumnIndex||0,e.columns.forEach((e=>{s.isUndefined(e.visible)&&(e.visible=!0)}));const t=this.scope.$watchCollection("tableData()",(e=>{s.isArray(e)&&(this.initialDataLoaded=!0,t())}));if(e.customBreakpointFn){const t=i.throttle((t=>{e.customBreakpointFn(t)}),500);this.scope.$watch((()=>l.g()),(e=>{t(e)}))}this.addEventListeners(),this.setCaption()}addEventListeners(){this.element.on("click","tr th.sortable-header",(e=>{const t=s.element(e.currentTarget).attr("data-heading-index");if(s.isDefined(t)){const e=parseInt(t,10);this.sort(e)}}))}setCaption(){const e=this.scope.config();this.localizeService.loadBundle("components/directives/table").then((()=>{const t=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"components.directives.table.caption",params:{caption:e.title,column:e.columns[e.currentSortColumnIndex].heading,direction:this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"components.directives.table."+e.currentSortDirection})},noWrap:!0});this.element.find("caption").text(t)}))}sort(e){const t=this.scope.config();this.initialDataLoaded=!1,t.currentSortColumnIndex===e?t.currentSortDirection="asc"===t.currentSortDirection?"desc":"asc":t.currentSortDirection="asc",t.currentSortColumnIndex=e,this.scope.$emit("table.sorted",{instanceId:t.instanceId,columnIndex:t.currentSortColumnIndex,sortDirection:t.currentSortDirection,callback:()=>{this.initialDataLoaded=!0,this.setCaption()}})}showMore(){this.throttledShowMore()}}m.$inject=["scope","element","$q",r.serviceName];class p{constructor(e){this.$injector=e,this.restrict="E",this.template=c,this.transclude=!0,this.scope={config:"&",tableData:"&"},this.controller=["$scope",function(e){this.getConfig=function(){return e.config()}}],this.link=(e,t)=>{e.table=this.$injector.instantiate(m,{scope:e,element:t})}}}p.$inject=["$injector"],s.module(d,[o.b,r.moduleName]).directive("bbTable",["$injector",e=>e.instantiate(p)])},YRs5:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("Llzl"),s=n("Qbdf"),a=n("0JpG"),o=n("TnpK"),r=n("nmzr");const l="ultra.course.course-tasks.router";i.module(l,[s.b,a.moduleName,o.b]).config([s.c,o.c,(e,t)=>{t.peekState(r.q.COURSE_TASKS_LOGS,{abstract:!0,url:"/courseTasks",require:()=>Promise.all([n.e(57),n.e(83)]).then(n.bind(null,"+nHB")),resolve:{[s.d]:e.resolve,translations:[a.serviceName,e=>e.loadBundle("features/course/course-tasks")]},panelClass:"full"}).peekState(r.q.COURSE_TASKS_PANEL,{url:"/tasks",views:{"course-tasks@":{require:[()=>Promise.all([n.e(57),n.e(750)]).then(n.bind(null,"+KHK")),()=>Promise.all([n.e(57),n.e(83)]).then(n.bind(null,"+nHB"))]}},pageTitle:"course.courseTasks.tasks.title",peekStates:["content-manage"],panelClass:"full"}).peekState(r.q.COURSE_LOGS_PANEL,{url:"/logs",views:{"course-tasks@":{require:[()=>Promise.all([n.e(57),n.e(749)]).then(n.bind(null,"WRh5")),()=>Promise.all([n.e(57),n.e(83)]).then(n.bind(null,"+nHB"))]}},pageTitle:"course.courseTasks.logs.title",panelClass:"full"})}])},"YVo+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("w9Zy"),a=n("TnpK"),o=n("nmzr");const r="profile.update-password.routes";i.module(r,[s.d,a.b]).config([a.c,e=>{e.peekState(o.E.UPDATE_PASSWORD_PEEK,{url:"/password/update",require:()=>Promise.all([n.e(27),n.e(53),n.e(683)]).then(n.bind(null,"aJE6")),pageTitle:"base.profile.update-password.pageTitle"})}])},Ybms:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-duplicate",use:"icon-small-duplicate-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-duplicate"><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M1 4h11v11H1z" /><path d="M12 12h3V1H4v3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},Ycix:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-people",use:"icon-medium-people-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-people"><path d="M1 23c1.096-4.3157 4.5473-7 9-7s7.904 2.6843 9 7M10 16c2.7614 0 5-2.2386 5-5s-2.2386-5-5-5-5 2.2386-5 5 2.2386 5 5 5zM18.5 8C20.433 8 22 6.433 22 4.5S20.433 1 18.5 1 15 2.567 15 4.5 16.567 8 18.5 8zM23 12c-.2345-1.9862-2.5-4-4.5-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},YfM7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("Llzl"),s=n("5MwF"),a=n("TnpK");const o="ultra.base.demo.routes";i.module(o,[a.b]).config([a.c,e=>{s.a.features.componentDemos&&e.peekState("demoComponent",{url:"/component/:componentId",require:()=>n.e(677).then(n.bind(null,"YZN4")),panelClass:"full",pageTitle:"Sample Component"})}])},Youf:function(e,t){e.exports='<a class="content-title"\n   aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n   ng-click="contentItemLtiLaunch.ltiLaunch()"\n   href="javascript:void(0);"\n   analytics-id="content.item.ltilaunch.link"><span>{{ content.title }}</span></a>\n<div ng-if="contentItemBase.isExcludedOrDeletedLtiToolProvider() && !contentItemBase.ltiLinkNeedsApproval() && contentItemBase.scope.content.canViewAsInstructor()">\n      <span class="broken-lti-link" ng-if="!contentItemBase.hasLTIToolConfigurationEntitlement()"\n      bb-translate>components.directives.content-item-base.excluded-lti-provider.instructor</span>\n      <span class="broken-lti-link" ng-if="contentItemBase.hasLTIToolConfigurationEntitlement()"\n      bb-translate>components.directives.content-item-base.excluded-lti-provider.admin</span>\n</div>\n<div ng-if="contentItemBase.isUnlaunchableLtiLink() && !contentItemBase.isExcludedOrDeletedLtiToolProvider() && !contentItemBase.ltiLinkNeedsApproval() && contentItemBase.scope.content.canViewAsInstructor()">\n      <span class="broken-lti-link" ng-if="!contentItemBase.hasLTIToolConfigurationEntitlement()"\n      bb-translate>components.directives.content-item-base.deleted-placement.instructor</span>\n      <span class="broken-lti-link" ng-if="contentItemBase.hasLTIToolConfigurationEntitlement()"\n      bb-translate>components.directives.content-item-base.deleted-placement.admin</span>\n</div>\n<span class="broken-lti-link" ng-if="contentItemBase.isUnlaunchableLtiLink() && contentItemBase.ltiLinkNeedsApproval() && contentItemBase.scope.content.canViewAsInstructor()"\n      bb-translate>components.directives.content-item-base.approval-required</span>\n'},YzQO:function(e,t,n){"use strict";function i(e){if(e&&e.length){return e.hasClass("bb-editor")||e.is("[analytics-on]")||i(e.parent())}return!1}function s(e){var t;return!!(null===(t=null==e?void 0:e.closest)||void 0===t?void 0:t.call(e,"[data-no-angulartics-click]"))}function a(e){if(e&&e.length)return e.closest("[bb-click-to-invoke-child]").length>0?e.attr("analytics-id"):e.attr("analytics-id")||e.find("[analytics-id]").attr("analytics-id")}function o(e){if(!e||!e.length)return;const t=e.closest("[analytics-id]").attr("analytics-id");return t||(e.attr("[bb-click-to-invoke-child]")||e.closest("[bb-click-to-invoke-child]").length>0?e.find("[analytics-id]").attr("analytics-id")||e.closest("[bb-click-to-invoke-child]").find("[analytics-id]").attr("analytics-id"):void 0)}function r(e){if(e&&e.length){switch((e.prop("tagName")||"").toLowerCase()){case"a":case"input":case"button":return a(e);default:return r(e.parent())}}}function l(e){if(e&&e.length)return e.attr("analytics-context")||l(e.parent())}n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return l}))},"Z+K4":function(e,t,n){"use strict";var i;!function(e){e.DeleteAdaptiveRelease="course.adaptiverelease.DELETE",e.ModifyAdaptiveRelease="course.adaptiverelease.MODIFY",e.ViewAdaptiveRelease="course.adaptiverelease.VIEW",e.ModifyAdaptiveReleaseDates="course.adaptiverelease.dates.MODIFY",e.DeleteAssessment="course.assessment.DELETE",e.ModifyAssessment="course.assessment.MODIFY",e.ViewAssessment="course.assessment.VIEW",e.ModifyAttendance="course.attendance.MODIFY",e.ViewAttendance="course.attendance.VIEW",e.ViewChildCourse="course.children.VIEW",e.ModifyAllowConversationReplies="course.conversations.allow-replies.MODIFY",e.MessageAllMembersInCourse="course.conversations.message-all-members.CREATE",e.MessageAllActAsInstructorInCourse="course.conversations.message-all-act-as-instructor-roles.CREATE",e.MessageAllStudentsInCourse="course.conversations.message-all-students.CREATE",e.ModifyTimeLimitAccomodation="course.timelimit-exception.MODIFY",e.ModifyDueDateException="course.duedate-exception.MODIFY",e.ViewTimeLimitAccomodation="course.timelimit-exception.VIEW",e.ViewDueDateException="course.duedate-exception.VIEW",e.ViewPreviewStudent="course.user-impersonate.EXECUTE",e.ModifyBannerImage="course.banner.MODIFY",e.ModifyBannerVisibility="course.banner.visibility.MODIFY",e.ViewAnalyticsInstructorReport="course.statistics.report.VIEW",e.ViewAnalyticsStudentReport="course.tools.VIEW",e.ViewCourseSettingsConsole="course.configure-properties.EXECUTE"}(i||(i={})),t.a=i},Z6BI:function(e,t){e.exports='<div bb-foundation-defer bb-load-bundle="components/directives/content-visibility"\n  class="item-selector-container content-visibility-selector" bb-cache-compilation="content-visibility-selector">\n  \x3c!-- To allow instructors to see visibility status in a completed course --\x3e\n  <div\n    ng-if="!contentVisibilitySelector.isEditable() && contentVisibilitySelector.entitledToViewDesigner && content.isVisibleToStudents()"\n    class="visibility-message visibility-label">\n    <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="visible" class="visibility-icon">\n    </bb-svg-icon>\n    <span class="js-visibility js-visible-option vert-centered-label-text" bb-translate course-org-token-resolver>\n      components.directives.content-visibility.visible\n    </span>\n  </div>\n  \x3c!-- To allow instructors to see visibility status in a completed course --\x3e\n  <div\n    ng-if="!contentVisibilitySelector.isEditable() && contentVisibilitySelector.entitledToViewDesigner && content.isHiddenFromStudents()"\n    class="visibility-message visibility-label">\n    <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="invisible" class="visibility-icon">\n    </bb-svg-icon>\n    <span bb-translate course-org-token-resolver>components.directives.content-visibility.hidden</span>\n  </div>\n  \x3c!-- To allow instructors to see visibility status in a completed course --\x3e\n  <div\n    ng-if="!contentVisibilitySelector.isEditable() && contentVisibilitySelector.entitledToViewDesigner && content.isConditionalRelease()"\n    class="visibility-message visibility-label">\n    <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="lock" class="visibility-icon"></bb-svg-icon>\n    <span class="js-visibility js-restricted-option js-conditional-release-option"\n      bb-translate>components.directives.content-visibility.conditional-availability</span>\n  </div>\n  <button name="visibility-content" ng-model="content.visible" ng-show="contentVisibilitySelector.isEditable()"\n    bb-prevent-click-if="!contentVisibilitySelector.isVisibilitySelectorEnabled()" type="button" class="button dropdown"\n    aria-controls="item-visibility-selector_{{::contentVisibilitySelector.selectorId}}"\n    data-dropdown="item-visibility-selector_{{::contentVisibilitySelector.selectorId}}" aria-expanded="false"\n    analytics-id="course.content.visibility.button">\n    <div class="visibility-label" ng-if="contentVisibilitySelector.isVisibleToStudents()">\n      <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="visible" class="visibility-icon">\n      </bb-svg-icon>\n      <span class="js-visibility js-visible-option vert-centered-label-text" bb-translate course-org-token-resolver>\n        components.directives.content-visibility.visible\n      </span>\n    </div>\n    <div class="visibility-label" ng-if="contentVisibilitySelector.isHiddenFromStudents()">\n      <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="invisible" class="visibility-icon">\n      </bb-svg-icon>\n      <span class="js-visibility js-hidden-option vert-centered-label-text" bb-translate course-org-token-resolver>\n        components.directives.content-visibility.hidden\n      </span>\n    </div>\n    <div class="visibility-label" ng-if="contentVisibilitySelector.isConditionalRelease()">\n      <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="lock" class="visibility-icon">\n      </bb-svg-icon>\n      <span class="js-visibility js-restricted-option vert-centered-label-text"\n        bb-translate>components.directives.content-visibility.conditional-availability</span>\n    </div>\n    \x3c!-- LRN-114090 The native mobile select works by covering the button to intercept the click.\n          It needs to be nested inside the button properly fill the entirety of the button. --\x3e\n    <select ng-if="::contentVisibilitySelector.useNativeSelect()" class="button"\n      ng-model="contentVisibilitySelector.selectedVisibilityOption"\n      ng-options="option.text for option in contentVisibilitySelector.visibilityOptions | filter: {show: true}"\n      ng-change="contentVisibilitySelector.selectedVisibilityOption.onSelect()"\n      analytics-id="course.content.visibility.select">\n    </select>\n  </button>\n\n  <ul ng-if="::!contentVisibilitySelector.useNativeSelect()" ng-show="contentVisibilitySelector.isEditable()"\n    id="item-visibility-selector_{{::contentVisibilitySelector.selectorId}}"\n    class="f-dropdown item-visibility-selector selection-full-width" data-dropdown-content aria-hidden="true">\n    <li ng-class="{\'item-selected\': content.isVisibleToStudents()}"\n      ng-if="contentVisibilitySelector.showVisibleHiddenMenuOptions()">\n      <a href="javascript:void(0);" ng-click="contentVisibilitySelector.selectVisible()"\n        class="visible-option visibility-label" analytics-id="components.directives.content-visibility.visible.link">\n        <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="visible"></bb-svg-icon>\n        <span bb-translate course-org-token-resolver>components.directives.content-visibility.visible</span>\n      </a>\n    </li>\n    <li ng-class="{\'item-selected\': content.isHiddenFromStudents()}"\n      ng-if="contentVisibilitySelector.showVisibleHiddenMenuOptions()">\n      <a href="javascript:void(0);" ng-click="contentVisibilitySelector.selectHidden()"\n        class="hidden-option visibility-label" analytics-id="components.directives.content-visibility.hidden.link">\n        <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="invisible"></bb-svg-icon>\n        <span bb-translate course-org-token-resolver>components.directives.content-visibility.hidden</span>\n      </a>\n    </li>\n    <li ng-if="contentVisibilitySelector.showConditionalReleaseMenuOption()"\n      ng-class="{\'item-selected\': content.isConditionalRelease()}">\n      <a href="javascript:void(0);" ng-click="contentVisibilitySelector.selectConditionalRelease()"\n        class="restricted-option visibility-label conditional-release-restricted-option"\n        analytics-id="components.directives.content-visibility.conditional-availability.link">\n        <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="lock"></bb-svg-icon>\n        <span bb-translate>components.directives.content-visibility.conditional-availability</span>\n      </a>\n    </li>\n    <course-link-visibility-warning-banner ng-if="contentVisibilitySelector.showInfoBanner">\n    </course-link-visibility-warning-banner>\n  </ul>\n</div>'},ZBYA:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n("Llzl"),s=n("pjml");const a="ultraUi.components.services.predict.institutionPreference",o="predictInstitutionPreference";class r{constructor(e,t){this.$rootScope=e,this.predictInstitutionPreferenceModel=t}getInstitutionPreference(e){return this.predictInstitutionPreferenceModel.getInstitutionPreference(e)}}r.$inject=["$rootScope",s.cb.serviceName];i.module(a,[s.N]).service(o,r)},ZKRZ:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-conversation",use:"icon-small-conversation-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-conversation"><path d="M15 4.5C15 6.433 13.433 8 11.5 8c-.4457 0-.872-.0833-1.264-.2352L8 8l.25-2.1985A3.4905 3.4905 0 018 4.5C8 2.567 9.567 1 11.5 1S15 2.567 15 4.5zM7 15c0-2-2-4-4-4M3 11c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},ZMjE:function(e,t){e.exports='<div class="import-status-bar import-course-error" ng-class="{\'below\': contentImportStatusBarController.hideStatusBar()}"\n     ng-if="display" bb-load-bundle="components/directives/import-status-bar">\n  <div class="row">\n      <div bb-first-time-container>\n        <div class="columns guidance-wrapper import-status-bar-message">\n          <span class="successful-import-message ellipsis" bb-focus bb-translate ng-if="contentImportStatusBarController.notCarriedForwardItemsCount === 0">\n            course.import.statusBar.success\n          </span>\n          <bb-guidance component-key="importAnalysis" page-container-selector=".course-outline"\n                       class="guidance-element-overlay push-right push-top" ng-if="contentImportStatusBarController.notCarriedForwardItemsCount > 0">\n            <bb-translate>course.import.statusBar.tooltip.main</bb-translate>\n          </bb-guidance>\n          <a bb-focus \n             href="javascript:void(0);" \n             class="not-copied-details" \n             ng-if="contentImportStatusBarController.notCarriedForwardItemsCount > 0"\n             ng-class="{\'not-carry-details-warn\': contentImportStatusBarController.notCarriedForwardItemsCount > 0}"\n             ng-click="contentImportStatusBarController.goToImportReport()"\n             analytics-id="course.import.statusBar.importReport.link">\n            <div class="status-bar-alarm" bb-guidance-target component-key="importAnalysis">\n                <bb-translate class="ellipsis" translate-values="{ count: contentImportStatusBarController.notCarriedForwardItemsCount }">\n                  course.import.statusBar.itemsCount.plural\n                </bb-translate>\n            </div>\n          </a>\n        </div>\n      </div>\n    <div class="columns confirm-column right">\n      <button class="button default js-import-confirm" \n              ng-click="contentImportStatusBarController.confirm()"\n              analytics-id="course.import.statusBar.confirm.button">\n        <span bb-translate="course.import.statusBar.confirm"></span>\n      </button>\n      \x3c!-- POST v1 --\x3e\n      \x3c!--<button tabindex="0" class="right inverse undo-import" ng-click="contentImportStatusBarController.undo()">--\x3e\n      \x3c!--<span>Undo Import</span>--\x3e\n      \x3c!--</button>--\x3e\n    </div>\n  </div>\n</div>'},ZQFV:function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"GRADE_POINTS_DECIMALS_RULE_1",(function(){return Oe})),n.d(i,"GRADE_POINTS_DECIMALS_RULE_2",(function(){return De})),n.d(i,"GRADE_POINTS_DECIMALS_RULE_3",(function(){return Te})),n.d(i,"GRADE_POINTS_MAX_EDIT_DECIMALS",(function(){return Pe})),n.d(i,"GRADE_POINTS_MAX_EDIT_INTEGRALS",(function(){return $e})),n.d(i,"GRADE_MAX_POINTS",(function(){return Ge})),n.d(i,"GRADE_MIN_POINTS",(function(){return je})),n.d(i,"GRADE_DEFAULT_POINTS",(function(){return Le})),n.d(i,"REDUCE_ERR_MARGIN_VALUE",(function(){return Ne})),n.d(i,"GradeUnits",(function(){return Be})),n.d(i,"GradePillSizes",(function(){return Me})),n.d(i,"GradePercentileColor",(function(){return Re})),n.d(i,"GRADE_PILL_DEFAULT_BG_CLASS",(function(){return Fe})),n.d(i,"parseGradeValue",(function(){return Ve})),n.d(i,"GradeNumberDisplayRule1Format",(function(){return _e})),n.d(i,"GradeNumberDisplayRule2Format",(function(){return Ue})),n.d(i,"GradeNumberDisplayRule3Format",(function(){return He})),n.d(i,"GradeNumberEditFormat",(function(){return ze})),n.d(i,"determineDisplayRuleFromDigitCount",(function(){return qe})),n.d(i,"sumFloatValues",(function(){return We})),n.d(i,"determineDisplayRuleFromNumber",(function(){return Ke})),n.d(i,"getPercentileColor",(function(){return Je})),n.d(i,"gradeNeedsPosting",(function(){return Qe})),n.d(i,"getGradePillType",(function(){return Ze})),n.d(i,"shouldShowPastDueZeroIndicator",(function(){return Ye})),n.d(i,"getGradeInputAriaLabelKey",(function(){return Xe}));var s=n("ERkP"),a=n.n(s),o=n("7nmT"),r=n("uDfI"),l=n("Uhei"),c=n("3/0u"),d=n("WBPx"),u=n("VQ4P"),m=n("caKH");const p=e=>{const{downloadErrorDialogHidden:t,onCloseDialog:n}=e,i=Object(u.a)();return s.createElement("div",null,s.createElement(m.c,{hidden:t,onDismiss:n,dialogContentProps:{type:c.DialogType.normal,title:i("gradebook.download-submissions.noneSelectedDialog.title"),subText:i("gradebook.download-submissions.noneSelectedDialog.body")},modalProps:{isAlert:!0},analyticsId:"download-submissions-error-dialog"},s.createElement(c.DialogFooter,null,s.createElement(d.AnalyticsDefaultButton,{onClick:()=>n(),analyticsId:"download-submissions-error-dialog-dialog-footer-primary-button"},i("gradebook.download-submissions.noneSelectedDialog.close")))))};var h=n("Zwiy"),g=n("EGyI");class b extends s.PureComponent{constructor(){super(...arguments),this.cancel=()=>{this.props.onLeaveAction()},this.download=()=>{this.props.onDownloadAction()}}render(){const{t:e}=this.props;return s.createElement(h.BbPanelFooter,{primaryButtonProps:{text:e("gradebook.download-submissions.footer.submitButton"),onClick:this.download,id:"button-download"},secondaryButtonProps:{text:e("gradebook.download-submissions.footer.cancelButton"),onClick:this.cancel,id:"button-cancel"},analyticsId:"gradebook.downloadSubmissions.footer"})}}const f=Object(g.a)(b);var v=n("tN4z");class y extends s.PureComponent{constructor(){super(...arguments),this.onToggleSelected=()=>{this.props.onToggleSelected(this.props.contentItem)}}render(){const{contentItem:e,isSelected:t,rowIndex:n}=this.props,{date:i,name:a}=e;return s.createElement("tr",{className:`download-submissions-table__row js-item-id-${e.studentId}`,role:"row","aria-rowindex":n},s.createElement("td",{className:"download-submissions-content-table__cell -fixed-checkbox",role:"gridcell","aria-colindex":1,"aria-describedby":"download-submissions-content-table__cell__header--id-checkbox"},s.createElement("div",{className:"download-submissions-content-table__cell__data-wrapper"},s.createElement("div",{className:"download-submissions-content-table__cell__data-wrapper__data"},s.createElement(v.AnalyticsFormControlLabel,{label:"",htmlFor:`download-submissions.content-table-cell-checkbox-${n}`,className:"download-submissions-content-table__cell__checkbox",control:s.createElement(v.AnalyticsCheckbox,{id:`download-submissions.content-table-cell-checkbox-${n}`,onChange:this.onToggleSelected,checked:t,"aria-label":a,analyticsId:"downloadSubmissions.contentTable.cell.checkbox"}),analyticsId:"downloadSubmissions.contentTable.cell.label"})))),s.createElement("td",{className:"download-submissions-content-table__cell--title -column-name",role:"gridcell",tabIndex:-1,"aria-colindex":2,"aria-describedby":"download-submissions-content-table__cell__header--id-name"},s.createElement("div",{className:"download-submissions-content-table__cell__data-wrapper"},s.createElement("div",{className:"download-submissions-content-table__cell__data-wrapper__data"},a))),s.createElement("td",{className:"download-submissions-content-table__cell -column-date",role:"gridcell",tabIndex:-1,"aria-colindex":3,"aria-describedby":"download-submissions-content-table__cell__header--id-date"},s.createElement("div",{className:"download-submissions-content-table__cell__data-wrapper"},s.createElement("div",{className:"download-submissions-content-table__cell__data-wrapper__data"},this.formatDateString(i)))),s.createElement("td",{className:"download-submissions-content-table__cell -padder -padder-cell","aria-hidden":!0}))}formatDateString(e){const{t}=this.props;return e?s.createElement("div",null,t("gradebook.download-submissions.table.submissionDatetime",{datetime:e})):t("gradebook.download-submissions.table.submissionNoDatetime")}}const k=Object(g.a)(y);var x,S,C=n("j92x"),E=n("Begd"),I=n("0x+l"),w=n("myse");!function(e){e[e.name=0]="name",e[e.date=1]="date"}(x||(x={})),function(e){e[e.ascending=0]="ascending",e[e.descending=1]="descending"}(S||(S={}));class A extends s.PureComponent{constructor(e){super(e),this.onNameHeaderClick=()=>{this.handleSort(x.name,D,T)},this.onDateHeaderClick=()=>{this.handleSort(x.date,$,G)},this.getColumnSortInformation=e=>{if(this.state.sortColumn===e){if(this.state.sortDirection===S.ascending)return{icon:s.createElement(I.SortArrowAscending,null),sorted:"sortedAscending"};if(this.state.sortDirection===S.descending)return{icon:s.createElement(I.SortArrowDescending,null),sorted:"sortedDescending"}}return{icon:null,sorted:"unsorted"}},this.onSelectAllToggle=()=>{this.props.onSelectAllToggle()},this.state={sortColumn:x.name,sortDirection:S.ascending}}displaySpinnerOrChildren(){const{children:e,errorLoading:t,loadingContent:n,t:i}=this.props;return t?s.createElement("div",{className:"error-message","data-testid":"error-message"},s.createElement("div",{className:"download-submissions-content-table__error_message"},i("gradebook.download-submissions.table.errorLoading"))):n?s.createElement(E.Spinner,{className:"download-submissions-content-table__table__spinner",size:E.SpinnerSize.xLarge,"aria-label":i("gradebook.download-submissions.table.loadContent")}):s.createElement("table",{className:"download-submissions-content-table__table",role:"grid","aria-readonly":"true"},s.createElement("thead",null,this.renderHeader()),s.createElement("tbody",null,e))}handleSort(e,t,n){if(e===this.state.sortColumn)switch(this.state.sortDirection){case S.ascending:this.setState({sortDirection:S.descending}),this.props.onSortColumn(n);break;case S.descending:this.setState({sortDirection:S.ascending}),this.props.onSortColumn(t)}else this.setState({sortColumn:e,sortDirection:S.ascending}),this.props.onSortColumn(t)}render(){return s.createElement("div",{className:"download-submissions-content-table"},s.createElement("div",null,this.displaySpinnerOrChildren()))}renderHeader(){const{t:e,selectAllStatus:t}=this.props,n=this.renderSortButton(this.getColumnSortInformation(x.name)),i=this.renderSortButton(this.getColumnSortInformation(x.date)),a="gradebook.downloadSubmissions.column.name.header",o="gradebook.downloadSubmissions.column.date.header",r=this.props.analyticsEventAugmentor(w.AnalyticsEventTypes.CLICK_EVENT,this.onNameHeaderClick,a),l=this.props.analyticsEventAugmentor(w.AnalyticsEventTypes.CLICK_EVENT,this.onDateHeaderClick,o);return s.createElement("tr",{className:"download-submissions-content-table__row -header",role:"row"},s.createElement("th",{className:"download-submissions-content-table__cell--header -fixed-checkbox",role:"columnheader",id:"download-submissions-content-table__cell__header--id-checkbox","aria-label":e("gradebook.download-submissions.header.selectColumn")},s.createElement("div",{className:"download-submissions-content-table__cell__data-wrapper"},s.createElement("div",{className:"download-submissions-content-table__cell__data-wrapper__data"},s.createElement(v.AnalyticsFormControlLabel,{label:"",className:"download-submissions-content-table__cell__checkbox","aria-label":e("gradebook.download-submissions.header.selectAll"),htmlFor:"gradebook.downloadSubmissions.header.selectAll.triStateCheckbox",control:s.createElement(v.AnalyticsCheckbox,{id:"gradebook.downloadSubmissions.header.selectAll.triStateCheckbox",checked:t===C.CheckStateTypesEnum.CHECKED,indeterminate:t===C.CheckStateTypesEnum.PARTIAL,onChange:this.onSelectAllToggle,analyticsId:"gradebook.downloadSubmissions.header.selectAll.triStateCheckbox"}),analyticsId:"gradebook.downloadSubmissions.header.selectAll.label"})))),s.createElement("th",{className:"download-submissions-content-table__cell--header -column-name",role:"columnheader","aria-sort":this.getAriaSortState(x.name),id:"download-submissions-content-table__cell__header--id-name",tabIndex:-1,onClick:r,"data-analytics-id":a},s.createElement("span",{className:"download-submissions-content-table__cell__data-wrapper",role:"button",tabIndex:0},s.createElement("div",{className:"download-submissions-content-table__cell__data-wrapper__data"},e("gradebook.download-submissions.table.nameColumn")),n)),s.createElement("th",{className:"download-submissions-content-table__cell--header -column-date",role:"columnheader","aria-sort":this.getAriaSortState(x.date),id:"download-submissions-content-table__cell__header--id-date",tabIndex:-1,onClick:l,"data-analytics-id":o},s.createElement("span",{className:"download-submissions-content-table__cell__data-wrapper",role:"button",tabIndex:0},s.createElement("div",{className:"download-submissions-content-table__cell__data-wrapper__data"},e("gradebook.download-submissions.table.dateColumn")),i)),s.createElement("td",{className:"download-submissions-content-table__cell--header -padder","aria-hidden":!0}))}renderSortButton(e){const{t}=this.props;return e.icon?s.createElement("div",{className:"download-submissions-content-table__cell__data-wrapper--icon",title:t(`gradebook.download-submissions.screenReaderSortUpdates.${e.sorted}`)},e.icon):s.createElement("div",{className:"download-submissions-content-table__cell__data-wrapper--arrow-container",title:t(`gradebook.download-submissions.screenReaderSortUpdates.${e.sorted}`)},s.createElement(I.SortArrows,null))}getAriaSortState(e){if(this.state.sortColumn===e){if(this.state.sortDirection===S.ascending)return"ascending";if(this.state.sortDirection===S.descending)return"descending"}return"none"}}const O=Object(w.withAnalytics)(Object(g.a)(A)),D=(e,t)=>P(e.name.toLowerCase(),t.name.toLowerCase()),T=(e,t)=>D(t,e),P=(e,t)=>e.localeCompare(t),$=(e,t)=>j(e.date,t.date),G=(e,t)=>j(t.date,e.date),j=(e,t)=>e>t||!e&&t?1:e<t||e&&!t?-1:0;class L extends s.PureComponent{constructor(e){super(e),this.handleColumnSort=e=>{this.setState({sortRule:e})},this.renderErrorDialog=()=>s.createElement(p,{onCloseDialog:this.closeErrorDialog,downloadErrorDialogHidden:this.state.downloadErrorDialogHidden}),this.renderDownloadDialog=()=>s.createElement(H,{hidden:this.state.downloadDialogHidden,onCloseDialog:this.closeDownloadDialog,onDownload:this.onDownload,selectedItems:this.state.selectedItems}),this.toggleSelectedItem=e=>{this.setState((t=>{const n=t.selectedItems.findIndex((t=>t.studentId===e.studentId));return n>=0?{selectedItems:[...t.selectedItems.slice(0,n),...t.selectedItems.slice(n+1)]}:{selectedItems:[...t.selectedItems,e]}}))},this.getSelectAllStatus=()=>{const{contentItems:e}=this.props;return e&&void 0!==e.length&&0===e.length?C.CheckStateTypesEnum.UNCHECKED:e.every((e=>this.state.selectedItems.some((t=>e.studentId===t.studentId))))?C.CheckStateTypesEnum.CHECKED:this.state.selectedItems.length>0?C.CheckStateTypesEnum.PARTIAL:C.CheckStateTypesEnum.UNCHECKED},this.onSelectAllToggle=()=>{this.selectAllToggle()},this.downloadSubmissions=()=>{0===this.state.selectedItems.length?this.setState({downloadErrorDialogHidden:!1}):this.setState({downloadDialogHidden:!1})},this.onDownload=e=>{this.props.downloadSubmissions(e),this.closeDownloadDialog()},this.closeErrorDialog=()=>{this.setState({downloadErrorDialogHidden:!0})},this.closeDownloadDialog=()=>{this.setState({downloadDialogHidden:!0})},this.state={selectedItems:[],sortRule:D,downloadErrorDialogHidden:!0,downloadDialogHidden:!0}}render(){const{contentItems:e,courseName:t,loadingContent:n,errorLoading:i,t:a}=this.props,{sortRule:o}=this.state,r=this.getSelectAllStatus(),l=e.sort(o);return s.createElement("div",{className:"download-submissions-panel panel-wrap"},this.renderErrorDialog(),this.renderDownloadDialog(),s.createElement("div",{className:"download-submissions-panel__content"},s.createElement("div",{className:"download-submissions-panel__header"},s.createElement(h.BbPanelHeader,{title:a("gradebook.download-submissions.header.title"),smallHeaderTitle:t,type:h.BbPanelType.full,analyticsId:"gradebook.downloadSubmissions.header.title",navMenuAriaLabel:a("global.navigationMenu")})),s.createElement("div",{className:"download-submissions-panel__content__header"},a("gradebook.download-submissions.header.contents")),s.createElement("div",{className:"download-submissions-panel__content__table"},s.createElement(O,{loadingContent:n,errorLoading:i,selectAllStatus:r,onSelectAllToggle:this.onSelectAllToggle,onSortColumn:this.handleColumnSort,analyticsId:"gradebook.downloadSubmissions.panel.contentTable",t:a},l.map(((e,t)=>s.createElement(k,{key:e.studentId,contentItem:e,isSelected:!!this.state.selectedItems.find((t=>e.studentId===t.studentId)),rowIndex:t+1,onToggleSelected:this.toggleSelectedItem}))))),s.createElement("div",{className:"download-submissions-panel__footer"},s.createElement(f,{onDownloadAction:this.downloadSubmissions,onLeaveAction:this.props.onLeaveAction}))))}selectAllToggle(){const{contentItems:e}=this.props;this.setState((t=>({selectedItems:this.getSelectAllStatus()===C.CheckStateTypesEnum.CHECKED?[]:e.slice(0)})))}}const N=Object(g.a)(L);var B=n("zGdY"),M=n("IbyE"),R=n("9OUN");class F extends s.PureComponent{constructor(e){super(e),this.downloadSubmissions=e=>{const{courseId:t,columnId:n,onLeaveAction:i}=this.props,s={course:t,column:n,studentIds:{students:e.map((e=>e.studentId))}};Object(M.bc)(s).then((()=>{i()}))},this.state={loadingContent:!0,errorLoading:!1}}componentWillUnmount(){this.setState({loadingContent:!0})}render(){const{contentItems:e,courseName:t,onLeaveAction:n}=this.props,{loadingContent:i,errorLoading:a}=this.state;return s.createElement(N,{courseName:t,contentItems:e,onLeaveAction:n,loadingContent:i,errorLoading:a,downloadSubmissions:this.downloadSubmissions})}async componentDidMount(){const{courseId:e,columnId:t,loadCourseMembershipsByCourseId:n,loadGradebookAttemptsByColumnId:i}=this.props;try{const s=[],a=n({courseId:e,roleBucket:B.y.Taking});s.push(a);const o=i({courseId:e,columnId:t});s.push(o),await Promise.all(s).then((async()=>{await this.setState({loadingContent:!1,errorLoading:!1})}))}catch(e){await this.setState({loadingContent:!1,errorLoading:!0})}}}const V=Object(r.b)(((e,t)=>{const{courseId:n,columnId:i,t:s}=t,a=[],o=M.gc.courseMembership.getCourseMembershipsByCourseId(e,n,B.y.Taking);return o.forEach((t=>{const o=M.gc.user.getUserById(e,t.userId),r=(e=>{if(e.length>0){const t=e.reduce(((e,t)=>e&&e.attemptDate>t.attemptDate?e:t));return new Date(t.attemptDate)}return null})(M.gc.gradebookAttempt.getGradebookAttemptsByUserId(e,n,i,t.userId)),l={name:s("gradebook.download-submissions.table.name",{user:o}),studentId:t.userId,date:r};a.push(l)})),{courseMembers:o,contentItems:a}}),(e=>Object(R.b)({loadCourseMembershipsByCourseId:M.X.courseMembership.loadCourseMembershipsByCourseId,loadGradebookAttemptsByColumnId:M.X.gradebookAttempt.loadGradebookAttemptsByColumnId},e)))(F),_=Object(g.a)(V);var U=n("uxze");const H=e=>{const{hidden:t,onCloseDialog:n,onDownload:i,selectedItems:a}=e,o=Object(u.a)(),r=s.createElement(U.Link,{href:o("gradebook.download-submissions.downloadDialog.helpLink"),target:"_blank",analyticsId:"download-submissions-dialog-help-link"},o("gradebook.download-submissions.downloadDialog.help"));return s.createElement("div",null,s.createElement(m.c,{hidden:t,onDismiss:n,dialogContentProps:{type:c.DialogType.normal,title:o("gradebook.download-submissions.downloadDialog.title"),subText:o("gradebook.download-submissions.downloadDialog.body")},modalProps:{isAlert:!0},analyticsId:"download-submissions-dialog"},s.createElement(c.DialogFooter,{helpLink:r},s.createElement(d.AnalyticsDefaultButton,{onClick:()=>n(),analyticsId:"download-submissions-dialog-dialog-footer-primary-button"},o("gradebook.download-submissions.downloadDialog.cancelButton")),s.createElement(d.AnalyticsPrimaryButton,{onClick:()=>i(a),analyticsId:"download-submissions-dialog-dialog-footer-primary-button"},o("gradebook.download-submissions.downloadDialog.downloadButton")))))};var z,q,W=n("HuI8"),K=n("nsO7"),J=n("7O4Y");!function(e){e.Default="default",e.Mini="mini",e.Large="large"}(z||(z={})),function(e){e.Grey="grey",e.Black="black",e.Green="green",e.YellowGreen="yellow-green",e.Yellow="yellow",e.Orange="orange",e.Red="red"}(q||(q={}));const Q="--";var Z,Y,X;!function(e){e.MaxExceeded="maxExceeded",e.WrongFormat="wrongFormat"}(Z||(Z={})),function(e){e.Points="points",e.Percentage="percentage",e.Tabular="tabular",e.UnitBased="unitBased"}(Y||(Y={})),function(e){e.Points="points",e.PointsEach="points.each"}(X||(X={}));var ee=n("Agfx"),te=n("QgAF"),ne=n("THXI");const ie=Object(ee.makeStyles)((e=>{const t="120px",n="140px",i="max-content",s=ne.d.greenHover,a=ne.d.yellowGreenHover,o=ne.d.yellowHover,r=ne.d.brightOrangeHover,l=ne.d.redHover,c=ne.d.disabledHover,d=e.palette.background.b9,u=ne.d.green,m=ne.d.yellowGreen,p=ne.d.yellow,h=ne.d.brightOrange,g=ne.d.red,b=e.palette.background.b5,f=e.palette.background.b9,v=e.palette.background.b3,y=e.palette.focus.main,k=e.palette.error.main,x={fontFamily:e.typography.fontFamily,lineHeight:"normal",overflow:"hidden",padding:"0 8px",borderRadius:"30px",display:"inline-flex",justifyContent:"center",alignItems:"center","box-sizing":"border-box",fontWeight:ne.h.fontWeightSemiBold,"&.default":{"&.big-pill":{maxWidth:i},height:"30px",minWidth:"70px",maxWidth:t,fontSize:e.typography.fontSizeDefault},"&.mini":{"&.big-pill":{maxWidth:i},height:"26px",minWidth:"50px",maxWidth:t,fontSize:e.typography.fontSizeDefault},"&.large":{"&.big-pill":{maxWidth:i},height:"36px",minWidth:"90px",maxWidth:"150px",fontSize:e.typography.fontSizeLarge,padding:"0 12px"},"&.green, &.yellow-green, &.yellow, &.orange, &.red, &.grey":{border:"0",color:ne.l.primary},"&.black":{border:"0",background:d,color:e.palette.common.white},"&.grey":{background:b},"&.green":{background:u},"&.yellow-green":{background:m},"&.yellow":{background:p},"&.orange":{background:h},"&.red":{background:g},"&.icon-pill":{justifyContent:"left","&.default":{maxWidth:n},"&.mini":{maxWidth:n},"&.large":{maxWidth:"160px"}}};return Object(ee.createStyles)({pill:{...x,border:`1px solid ${f}`,background:"white",transition:"background-color 0.2s cubic-bezier(0.55, 0, 0.1, 1)","&:hover":{background:v,cursor:"pointer"},"&:hover .hyphens-hover":{color:e.palette.grey[800]},"&.focus":{border:`1px solid ${y}`,boxShadow:`inset 0 0 0 1px ${y}`},"&.active":{background:"white",border:`1px solid ${y}`,boxShadow:`inset 0 0 0 4px ${Object(te.fade)(y,.1)}`},"&.error":{background:"white",border:`1px solid ${k}`,boxShadow:`inset 0 0 0 4px ${Object(te.fade)(k,.1)}`},"&.black:hover":{background:c},"&.green:hover":{background:s},"&.yellow-green:hover":{background:a},"&.yellow:hover":{background:o},"&.orange:hover":{background:r},"&.red:hover":{background:l},"&.disabled-max-width":{maxWidth:"inherit"}},readonlyPill:{"&&":{...x}},containerCallOut:{color:k,display:"flex","& div":{paddingRight:"12px"}},containerPill:{display:"inline-flex",alignItems:"center"},iconAlertCallOut:{paddingTop:"4px",paddingRight:"4px"}})})),se=e=>{const{hasFocus:t,hasError:n,pillSize:i,pillColor:a,errorKey:o,showIconButton:r,maxWidthDisabled:l}=e,c=Object(u.a)(),{errorId:d,analyticsId:m,onClick:p,onPointerDown:h,onPointerUp:g}=e,b=ie(e),f=Object(s.useRef)(null),[y,k]=Object(s.useState)(!1),[x,S]=Object(s.useState)(!1),C=Object(J.a)(b.pill,"pill",{"icon-pill":r,focus:t,active:y,[i||"default"]:!0,[a]:!0,error:n,"disabled-max-width":l}),E=()=>{y&&(g(),k(!1))};Object(s.useEffect)((()=>(document.addEventListener("pointerup",E),()=>{document.removeEventListener("pointerup",E)}))),Object(s.useEffect)((()=>{S(n)}),[n]);const w={onClick:r?null:()=>{n&&S(!0),p()},onPointerDown:r?null:()=>{h(),k(!0)},onPointerUp:r?null:E};return s.createElement(s.Fragment,null,s.createElement(v.AnalyticsTooltip,{placement:"bottom-start",title:s.createElement("div",{role:"alert",className:b.containerCallOut,id:d},s.createElement("div",{className:b.iconAlertCallOut},s.createElement(I.Attention,null)),c(`gradePill.errors.${o}`,{maxDigits:5,maxDecimalDigits:2})),analyticsId:`${m}.tooltip`,open:x},s.createElement("div",{className:b.containerPill},s.createElement("div",{className:C,ref:f,...w},e.children))))},ae=()=>s.createElement("span",{className:"pill-hyphens"},Q),oe=(Object(ee.makeStyles)((()=>Object(ee.createStyles)({pillHyphens:{marginRight:"2px"},pillPercentage:{marginLeft:"2px"}}))),Object(ee.makeStyles)((()=>Object(ee.createStyles)({pillPointsSeparator:{margin:"0 3px"}}))),Object(ee.makeStyles)((()=>Object(ee.createStyles)({pillSeparator:{margin:"0px 3px"}})))),re=e=>{const{grade:t,pointsPossible:n}=e,i=oe(e),{formatNumber:a}=Object(W.a)();return s.createElement(s.Fragment,null,s.createElement("span",{className:"js-pill-grade"},a(t,Ke(t))),s.createElement("span",{className:i.pillSeparator},"/"),s.createElement("span",{className:"pill-points-possible"},a(n,_e)))},le=(e,t)=>{if("number"!=typeof e||"number"!=typeof t)return q.Grey;if(0===t||0===e&&0===t)return q.Grey;const n=100*e/t;return n>=90?q.Green:n>=80&&n<90?q.YellowGreen:n>=70&&n<80?q.Yellow:n>=60&&n<70?q.Orange:q.Red},ce=(e,t,n,i,s,a)=>{if(null==t)return null;if(e===Y.Points||e===Y.UnitBased)return s(t,Ke(t));if(e===Y.Percentage){const e=100*t/n;return i("gradePill.percentageGrade",{displayGrade:s(e,Ke(e))})}return e===Y.Tabular?((e,t,n)=>{const i=100*t/n,s=Object(K.orderBy)(e,["lowerBound"],["desc"]);for(const e of s)if(i>=e.lowerBound)return e.symbol;return""})(a,t,n):null},de=e=>{const{grade:t,pointsPossible:n}=e,{translate:i,formatNumber:a}=Object(W.a)();return s.createElement("div",null,ce(Y.Percentage,t,n,i,a))},ue=Object(ee.makeStyles)((()=>Object(ee.createStyles)({gradedTabularContent:{overflow:"hidden",textOverflow:"ellipsis","& span":{whiteSpace:"nowrap"}}}))),me=e=>{const{symbolGrade:t}=e,n=t,i=ue(e);return s.createElement("div",{className:i.gradedTabularContent},s.createElement("span",null,n))},pe=Object(ee.makeStyles)((()=>Object(ee.createStyles)({unitBasedContent:{margin:"0 3px","& span":{whiteSpace:"nowrap"}}}))),he=e=>{const{unit:t}=e,n=pe(e),i=Object(u.a)();return s.createElement("div",{className:n.unitBasedContent},s.createElement("span",null,i(`gradebook.grade.${t}`)))},ge=e=>{const{grade:t,unit:n}=e,{formatNumber:i}=Object(W.a)();return s.createElement(s.Fragment,null,s.createElement("span",null,null==t?"--":i(t,Ke(t))),s.createElement(he,{unit:n}))},be=Object(ee.makeStyles)((e=>Object(ee.createStyles)({pillInput:{overflow:"hidden",textOverflow:"ellipsis",background:"none",border:"none",textAlign:"center",fontWeight:"inherit",margin:"0px",padding:"0px",fontSize:"inherit",color:"inherit",outline:"none",cursor:"pointer","&:focus":{border:"none",fontWeight:e.typography.fontWeightRegular},"&::placeholder":{color:"inherit"}},pillInputContainer:{overflow:"hidden"},contentRef:{width:"auto",visibility:"hidden",position:"absolute"}}))),fe=e=>{const{regroupNumber:t,parseNumber:n,formatNumber:i}=Object(W.a)(),{grade:a,displayGrade:o,hasFocus:r}=e,{analyticsId:l,id:c,showRegroupedGrade:d,onFocus:u,onBlur:m,onError:p,onErrorSolved:h}=e,{ariaLabel:g,ariaDescribedBy:b,ariaHidden:f,emptyGradeNotAllowed:v}=e,[y,k]=Object(s.useState)(!1),[x,S]=Object(s.useState)(null),[C,E]=Object(s.useState)(0),[I,w]=Object(s.useState)({value:a,regrouped:null!=a?t(i(a,{round:"truncate",maximumFractionDigits:2})):"",cursorPosition:0}),A=be(e),O=Object(s.useRef)(null),D=Object(s.useRef)(null),T=Object(s.useRef)(null);return Object(s.useEffect)((()=>{r&&O.current.focus()}),[r]),Object(s.useLayoutEffect)((()=>{E(T.current.offsetWidth+2)}),[I,r]),Object(s.useLayoutEffect)((()=>{const e=D.current.offsetWidth;r||C===e||E(e)}),[C]),Object(s.useEffect)((()=>{y||h()}),[y]),Object(s.useEffect)((()=>{const e=null!=a?t(i(a,{round:"truncate",maximumFractionDigits:2})):"",n=e.length;w({value:a,regrouped:e,cursorPosition:n})}),[a,i,t]),Object(s.useEffect)((()=>{const{cursorPosition:e}=I;O.current.setSelectionRange(e,e)}),[I]),s.createElement(s.Fragment,null,s.createElement("div",{className:A.pillInputContainer,ref:D},s.createElement("input",{id:c,className:A.pillInput,value:r||d||!o?I.regrouped:o,ref:O,onBlur:()=>{y&&p(x),!y&&m&&m(I.value)},onChange:e=>{const i=e.target.value,s=t(i)||i,a=n(s.trim()),o=e.target.selectionStart;if(i)if(Number.isNaN(a))w({value:null,regrouped:i,cursorPosition:o}),k(!0),S(Z.WrongFormat);else{w({value:a,regrouped:i,cursorPosition:(r=i,l=s,c=o,l.length>r.length?c+1:l.length<r.length?c-1:c)});const e=(e=>{if(null==e)return!0;const t=Math.abs(Math.trunc(e)).toString().length,n=e===Math.trunc(e)?0:e.toString().split(".")[1].length;return!(t>5||n>2)})(a);k(!e),e||S(Z.MaxExceeded)}else Number.isNaN(a)&&(w({value:null,regrouped:s,cursorPosition:0}),v?(k(!0),S(Z.WrongFormat)):(k(!1),S(null)));var r,l,c},onKeyDown:e=>{13===e.keyCode&&(y?p(x):O.current.blur())},style:{width:`${C}px`},maxLength:11,"analytics-id":`${l}.input`,"aria-label":g,"aria-describedby":b,"aria-hidden":f,tabIndex:f?-1:0,"aria-invalid":!!y,placeholder:Q,onFocus:u,readOnly:!r}),s.createElement("div",{className:A.contentRef,ref:T},r||d||!o?I.regrouped||Q:o)))},ve=Object(ee.makeStyles)((()=>Object(ee.createStyles)({pendingContent:{fontStyle:"italic"}}))),ye=e=>{const t=ve(e),n=Object(u.a)();return s.createElement("div",{className:t.pendingContent},s.createElement("span",null,n("gradePill.pendingState")))},ke=Object(ee.makeStyles)((()=>Object(ee.createStyles)({pillPointsSeparator:{margin:"0 3px"}}))),xe=e=>{const{pointsPossible:t}=e,n=ke(e),{formatNumber:i}=Object(W.a)();return s.createElement(s.Fragment,null,s.createElement("span",{className:n.pillPointsSeparator},"/"),s.createElement("span",{className:"pill-points-possible"},i(t,Ke(t))))},Se=e=>{const{translate:t,formatNumber:n}=Object(W.a)(),{grade:i,pointsPossible:a,hasFocus:o,variant:r,symbolsMap:l,unit:c,emptyGradeNotAllowed:d}=e,{pillSize:u,gradeColorVariant:m,analyticsId:p,id:h,onBlur:g}=e,{ariaLabel:b,ariaHidden:f,ariaDescribedBy:v}=e,[y,k]=Object(s.useState)(i),[x,S]=Object(s.useState)(ce(r,i,a,t,n,l)),[C,E]=Object(s.useState)(!1),[I,w]=Object(s.useState)(o||!1),[A,O]=Object(s.useState)(!1),[D,T]=Object(s.useState)(null),P=Object(K.uniqueId)("errorMessageId"),$=Object(K.uniqueId)("complementId"),G=s.createElement(xe,{pointsPossible:a}),j=s.createElement(he,{unit:c});Object(s.useEffect)((()=>{k(i),S(ce(r,i,a,t,n,l))}),[i]);let L,N;(I&&r!==Y.UnitBased||C&&r===Y.Points)&&(L=G),r===Y.UnitBased&&(L=j),C||I||null==y||r===Y.UnitBased||(N=m||le(y,a),r===Y.Points&&(L=G));const B=A?`${v} ${$} ${P}`:`${v} ${$}`;return s.createElement(se,{pillSize:u,pillColor:N,hasFocus:I,hasError:A,errorKey:D,errorId:P,showIconButton:!!e.children,analyticsId:p,maxWidthDisabled:r===Y.UnitBased,onClick:()=>{w(!0)},onPointerDown:()=>{E(!0)},onPointerUp:()=>{E(!1)}},e.children,s.createElement(fe,{grade:y,displayGrade:x,emptyGradeNotAllowed:d,analyticsId:`${p}.gradableContent`,ariaLabel:b,hasFocus:I,onFocus:()=>{w(!0)},onBlur:e=>{k(e),S(ce(r,e,a,t,n,l)),w(!1),g&&g(e)},onError:e=>{O(!0),T(e)},ariaDescribedBy:B,ariaHidden:f,id:h,showRegroupedGrade:e.showRegroupedGrade,onErrorSolved:()=>{O(!1),T(null)}}),L&&s.createElement("div",{id:$},L))},Ce=Object(ee.makeStyles)((e=>Object(ee.createStyles)({iconButton:{minWidth:0,padding:0,"&.default":{marginRight:"9px"},"&.mini":{marginRight:"4px"},"&.large":{marginRight:"10px"},"&:hover":{color:"inherit"}},rubricIcon:{fontSize:e.typography.fontSizeMedium}}))),Ee=e=>{const{analyticsId:t,ariaLabel:n,onClick:i,size:a}=e,o=Ce(e),r=Object(J.a)(o.iconButton,a||"default"),l=Object(J.a)(o.rubricIcon,a||"default");return s.createElement(v.AnalyticsIconButton,{className:r,"aria-label":n,color:"inherit",onClick:i,analyticsId:`${t}.iconButton`},s.createElement(I.Rubric,{className:l}))},Ie=e=>{var t;const{pillSize:n,pillColor:i,showIconButton:a,pointsPossible:o}=e,r=ie(e),l=Object(J.a)(r.readonlyPill,"readonly-pill",{"big-pill":null!==(t=null==o?void 0:o.toString().length)&&void 0!==t&&t},i,n||"default",{"icon-pill":a});return s.createElement("div",{className:l},e.children)},we=e=>{const{variant:t,grade:n,pointsPossible:i,isPending:a,symbolGrade:o,unit:r}=e;if(a)return s.createElement(ye,null);switch(t){case Y.Percentage:return null!=n&&null!=i?s.createElement(de,{grade:n,pointsPossible:i}):s.createElement(ae,null);case Y.Tabular:return null!=o?s.createElement(me,{symbolGrade:o}):s.createElement(ae,null);case Y.UnitBased:return null!=r?s.createElement(ge,{grade:n,unit:r}):s.createElement(ae,null);default:return null!=i&&null!=n?s.createElement(re,{grade:n,pointsPossible:i}):s.createElement(ae,null)}},Ae=e=>{const{grade:t,symbolGrade:n,pointsPossible:i,isPending:a,variant:o,pillSize:r,gradeColorVariant:l,unit:c}=e,d=l||le(t,i);return s.createElement(Ie,{pillSize:r,pillColor:d,showIconButton:!!e.children,pointsPossible:i},e.children,s.createElement(we,{grade:t,symbolGrade:n,pointsPossible:i,isPending:a,variant:o,unit:c}))},Oe=2,De=1,Te=0,Pe=2,$e=5,Ge=99999,je=0,Le=100,Ne=1e3;var Be,Me,Re;!function(e){e.Points="points",e.Percent="percent",e.PointsPerQuestion="points.each"}(Be||(Be={})),function(e){e.Default="default",e.Mini="mini",e.Large="large"}(Me||(Me={})),function(e){e.Green="green",e.Yellowgreen="yellowgreen",e.Yellow="yellow",e.Orange="orange",e.Red="red",e.Disabled="color-disabled",e.Ungraded="white",e.Override="grey"}(Re||(Re={}));const Fe=Re.Ungraded;function Ve(e,t=!1){let n;n=e<999||!t?Oe:e<9999?De:Te;const i=new RegExp(`^-?\\d+(?:\\.\\d{0,${n}})?`);return"number"==typeof e?e.toString().match(i)[0]:"string"==typeof e?e.match(i)[0]:""}const _e={minimumFractionDigits:0,maximumFractionDigits:Oe,useGrouping:!0,minimumIntegerDigits:1,round:"truncate"},Ue={minimumFractionDigits:0,maximumFractionDigits:De,useGrouping:!0,minimumIntegerDigits:1,round:"truncate"},He={minimumFractionDigits:0,maximumFractionDigits:Te,useGrouping:!0,minimumIntegerDigits:1,round:"truncate"},ze={minimumFractionDigits:0,maximumFractionDigits:Pe,useGrouping:!0,minimumIntegerDigits:1,style:"decimal",round:"truncate"};function qe(e){return e.integerCount>=0&&e.integerCount<4?_e:4===e.integerCount?Ue:He}function We(e){const t=e.reduce(((e,t)=>e+=t*Ne),null);return null===t?t:t/Ne}function Ke(e){const t={integerCount:0,fractionalCount:0};if(!Number.isNaN(Number(e)))for(;Math.abs(e)>10**t.integerCount;)t.integerCount=t.integerCount+1;return qe(t)}function Je(e,t){if(!t)return Re.Disabled;let n;return n=e>=90?Re.Green:e>=80&&e<90?Re.Yellowgreen:e>=70&&e<80?Re.Yellow:e>=60&&e<70?Re.Orange:Re.Red,n}const Qe=e=>{var t;return e.manualStatus===B.Eb.NoOverride&&e.status===B.J.NeedsGrading&&null!=(null===(t=e.displayGrade)||void 0===t?void 0:t.score)||e.manualStatus===B.Eb.ReadyToPost},Ze=e=>e===B.ac.Percent?Y.Percentage:e===B.ac.Tabular?Y.Tabular:Y.Points,Ye=e=>!!(null==e?void 0:e.scoredByAutomaticZero),Xe=e=>{let t="gradebook.grade.grade-input.aria.scoreInputEmpty";return Ye(e)?t="gradebook.grade.grade-input.aria.pastDueZeroScoreInputGraded":void 0!==(null==e?void 0:e.score)&&(t="gradebook.grade.grade-input.aria.scoreInputGraded"),t};var et=n("MC1S");const tt=Object(ee.makeStyles)((e=>({downloadTestResultsPanelHeader:{height:"auto","& .ms-Panel-header":{boxShadow:"none"}},downloadTestResultsPanelBody:{top:0,overflow:"auto",height:"auto",position:"relative",marginBottom:"48px",[e.breakpoints.up("sm")]:{marginTop:"24px"}},errorMessage:{backgroundColor:"#F9DBD7",display:"flex",padding:"1rem",[e.breakpoints.up("sm")]:{margin:"0 -1.875rem"}},downloadTestResultsPanelFooter:{position:"absolute",bottom:0,left:0,right:0,"& .ms-Panel-footer":{justifyContent:"center"}},panelSection:{padding:"14px 10px",borderBottom:`1px solid ${e.palette.border.main}`,"&:last-child":{borderBottom:"none",paddingBottom:0},"&:first-child":{paddingTop:0},"& fieldset":{border:0,margin:0,padding:0},"& h2":{fontWeight:"bold",marginBottom:"8px"}}})));var nt;!function(e){e.Delimiter="delimiter-type",e.Format="format-of-results",e.Attempts="attempts"}(nt||(nt={}));const it=e=>`id-${e.toLowerCase()}-radio`,st=e=>s.createElement(v.AnalyticsRadioGroup,{analyticsId:e.analyticsId,id:e.radioGroupId,legendVariant:"h2",legendText:e.legendText,name:e.name,value:e.selectedValue,onChange:e.onChangeHandler},e.groupDescription&&s.createElement("div",null,s.createElement("p",null,e.groupDescription)),e.radioProps.map((t=>s.createElement("div",{key:t.value},s.createElement(v.AnalyticsFormControlLabel,{analyticsId:t.labelAnalyticsId,htmlFor:it(t.value),value:t.value,control:s.createElement(v.AnalyticsRadio,{analyticsId:t.radioAnalyticsId,checked:t.value===e.selectedValue,onChange:e.onChangeHandler,id:it(t.value)}),label:t.label})))));var at=n("etrl"),ot=n("nmzr"),rt=n("ddKs"),lt=n("IVC4");const ct=e=>{const{courseName:t,isOrganization:n}=e,i=Object(u.a)(),[a,o]=s.useState(B.ob.Tab),[r,l]=s.useState(B.pb.User),[c,d]=s.useState(B.nb.AllAttempts),[m,p]=s.useState(!1),[h,g]=s.useState(!1),b=n?"organization.":"",f=()=>{ot.bb.leavePeekState()},y="course.grades.download-test-results",k=tt();return s.createElement("div",{id:"download-test-results-panel"},s.createElement("div",{className:"panel-wrap"},s.createElement("header",{className:`panel-header simple-header ${k.downloadTestResultsPanelHeader}`},s.createElement(et.BbPanelHeader,{smallHeaderTitle:t,type:et.BbPanelType.peek,analyticsId:`${y}.header`,title:i("course.grades.download-test-results.pageTitle"),navMenuAriaLabel:i("global.navigationMenu")})),m&&s.createElement("div",{className:k.errorMessage,id:"error-block"},s.createElement(v.AnalyticsIconButton,{analyticsId:`${y}.error.attention`},s.createElement(lt.a,null)),s.createElement("span",null,i("course.grades.download-test-results.errorMessage")),s.createElement(v.AnalyticsIconButton,{id:"close-error",analyticsId:`${y}.error.close`,onClick:()=>{p(!1)}},s.createElement(rt.Close,null))),s.createElement("div",{className:`panel-body panel-content ${k.downloadTestResultsPanelBody}`},s.createElement("div",{className:k.panelSection},s.createElement(st,{analyticsId:`${y}.delimiter.radiogroup`,radioGroupId:"delimiter-radio-group",name:nt.Delimiter,legendText:i("course.grades.download-test-results.fileType"),selectedValue:a,onChangeHandler:e=>{o(e.target.value)},radioProps:[{labelAnalyticsId:`${y}.delimiter.excel.label`,radioAnalyticsId:`${y}.delimiter.excel.radio`,value:B.ob.Tab,label:i("course.grades.download-test-results.excel")},{labelAnalyticsId:`${y}.delimiter.comma.label`,radioAnalyticsId:`${y}.delimiter.comma.radio`,value:B.ob.Comma,label:i("course.grades.download-test-results.comma")}]})),s.createElement("div",{className:k.panelSection},s.createElement(st,{analyticsId:`${y}.results-format.radiogroup`,radioGroupId:"results-format-radio-group",name:nt.Format,legendText:i("course.grades.download-test-results.formatOfResults"),groupDescription:i(`${b}course.grades.download-test-results.formatDescription`),selectedValue:r,onChangeHandler:e=>{l(e.target.value)},radioProps:[{labelAnalyticsId:`${y}.format.student.label`,radioAnalyticsId:`${y}.format.student.radio`,value:B.pb.User,label:i(`${b}course.grades.download-test-results.student`)},{labelAnalyticsId:`${y}.format.question-and-student.label`,radioAnalyticsId:`${y}.format.question-and-student.radio`,value:B.pb.QuestionAndUser,label:i(`${b}course.grades.download-test-results.questionAndStudent`)}]})),s.createElement("div",{className:k.panelSection},s.createElement(st,{analyticsId:`${y}.attempts.radiogroup`,radioGroupId:"attempts-radio-group",name:nt.Attempts,legendText:i("course.grades.download-test-results.attemptsToDownload"),groupDescription:i(`${b}course.grades.download-test-results.attemptsDescription`),selectedValue:c,onChangeHandler:e=>{d(e.target.value)},radioProps:[{labelAnalyticsId:`${y}.attempts.all-attempts.label`,radioAnalyticsId:`${y}.attempts.all-attempts.radio`,value:B.nb.AllAttempts,label:i("course.grades.download-test-results.allAttempts")},{labelAnalyticsId:`${y}.attempts.valid-attempts.label`,radioAnalyticsId:`${y}.attempts.valid-attempts.radio`,value:B.nb.ValidAttempts,label:i("course.grades.download-test-results.validAttempts")}]})))),s.createElement("div",{className:k.downloadTestResultsPanelFooter},s.createElement(et.BbPanelFooter,{primaryButtonProps:{onClick:async()=>{g(!0);const t={delimiter:a,resultFormat:r,attempts:c};let n;try{n=await Object(M.cc)(e.courseId,e.columnId,t),Object(at.saveAs)(n.blob,n.filename),f()}catch(e){console.error(e),p(!0)}},disabled:h,text:i("course.grades.download-test-results.download"),id:"button-download"},secondaryButtonProps:{onClick:f,text:i("course.grades.download-test-results.cancel"),id:"button-cancel"},analyticsId:`${y}.footer`})))},dt=e=>e.isDisabled?s.createElement(Ae,{grade:e.grade,variant:Y.Points,pointsPossible:e.pointsPossible}):s.createElement(Se,{grade:e.grade,pointsPossible:e.pointsPossible,variant:Y.Points,onBlur:e.save,showRegroupedGrade:!0,analyticsId:"ultra.components.directives.assessment.gradePill"});var ut=n("eqO1");const mt=Object(ee.makeStyles)((e=>Object(ee.createStyles)({overallGradeWrapper:{justifyContent:"center",alignContent:"center","& $overallGradeSetupContent":{[e.breakpoints.up("sm")]:{textAlign:"left"}},"& $row":{[e.breakpoints.up("md")]:{flexDirection:"row"}},"& $overallBorder":{[e.breakpoints.up("sm")]:{display:"block",paddingRight:"16px",maxWidth:"575px"},"& $overallGradeImgWrapper":{[e.breakpoints.up("sm")]:{float:"left"},"& $overallGradeImage":{[e.breakpoints.up("sm")]:{marginBottom:"0",marginTop:"16px",marginRight:"7px",marginLeft:"initial"}}},"& $overallGradeSetupHeading":{[e.breakpoints.up("sm")]:{marginTop:"16px",fontSize:e.typography.fontSizeLarge}},"& $overallGradeSetupText":{[e.breakpoints.up("sm")]:{marginBottom:"0px",textAlign:"left"}}},"& $setupOverallBtn":{[e.breakpoints.up("sm")]:{width:"100%",marginTop:"20px",marginLeft:"0"}}},buttonWrapper:{display:"flex",flexDirection:"column"},overallGradeWrapperFixed:{justifyContent:"center",alignContent:"center"},overallGradeSetupContent:{padding:"8px",border:"none",marginTop:"30px",textAlign:"center"},row:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},overallGradeImgWrapper:{minHeight:"inherit"},overallGradeImage:{height:"70px",width:"70px",marginBottom:"14px"},overallSetupContent:{},overallGradeSetupHeading:{"&&":{display:"block",fontSize:e.typography.fontSizeMedium,fontWeight:e.typography.fontWeightSemiBold,marginBottom:"4px"}},overallGradeSetupText:{lineHeight:"1.4",textAlign:"center",color:e.palette.text.secondary,marginBottom:"10px"},setupOverallBtn:{width:"auto",marginBottom:"10px",display:"inline-block"},hideThisMessageLinkOverride:{marginTop:"10px",fontSize:e.typography.fontSizeSmall},overallBorder:{display:"flex",flexDirection:"column",alignItems:"center"}}))),pt=({onClose:e,onHideMessage:t,hidden:n})=>{const i=Object(u.a)();return s.createElement(m.c,{analyticsId:"hideOverallGrade.dialog",dialogContentProps:{type:et.DialogType.normal,title:i("components.common.hideOverallGradeDialog.title"),subText:i("components.common.hideOverallGradeDialog.text"),showCloseButton:!0,className:"js-hide-overall-grade-component-dialog"},hidden:n,onDismiss:e},s.createElement(et.DialogFooter,null,s.createElement(d.AnalyticsDefaultButton,{analyticsId:"components.common.hideOverallGradeDialog.cancel.button",onClick:e},i("components.common.hideOverallGradeDialog.cancel")),s.createElement(d.AnalyticsPrimaryButton,{analyticsId:"components.common.hideOverallGradeDialog.hide.button",className:"js-hide-overall-grade-component-dialog-hide-button",onClick:t},i("components.common.hideOverallGradeDialog.hideButton"))))};var ht=n("aLuL"),gt=n.n(ht);const bt={key:"setupOverallGradeMessageIsHidden",value:"true",visibleToStudents:!1},ft=e=>{const t=Object(r.d)(),n=Object(u.a)(),{analyticsId:i,showFixedView:a,courseId:o,setupOverallGradeHideMessageCallback:l}=e,[c,d]=s.useState(!0),m=Object(ut.t)(),p=mt(m),h=a?p.overallGradeWrapperFixed:p.overallGradeWrapper,g=s.useCallback((()=>{d(!0)}),[]),b=s.useCallback((()=>{t(M.X.coursePreference.persistCoursePreference(bt,o)).then((()=>{l&&l()}))}),[o,l,t]),f=`${i}.setup-button`,v=`${i}.hide-message-button`,y=Object(w.useAnalyticsAugmentEventOnElement)(w.AnalyticsEventTypes.CLICK_EVENT,(()=>ot.bb.goPeekState(Object(ot.Y)())),f);return s.createElement("div",{className:`${h} js-overall-grade-setup${a?"-fixed":""}`},s.createElement(pt,{hidden:c,onClose:g,onHideMessage:b}),s.createElement("div",{className:p.overallGradeSetupContent},s.createElement("div",{className:`${p.row}`},s.createElement("div",{className:p.overallBorder},s.createElement("div",{className:p.overallGradeImgWrapper},s.createElement("div",{className:p.overallGradeImage,dangerouslySetInnerHTML:{__html:gt.a},"aria-hidden":!0})),s.createElement("div",null,s.createElement("h2",{className:`heading ${p.overallGradeSetupHeading}`},n("components.common.overallPanel.title")),s.createElement("p",{className:p.overallGradeSetupText},n("components.common.overallPanel.text")))),s.createElement("div",{className:p.buttonWrapper},s.createElement("button",{onClick:y,type:"button",className:`button ${p.setupOverallBtn} js-overall-grade-setup-button`,"data-analytics-id":f},n("components.common.overallPanel.setupButton")),s.createElement("button",{className:`button-anchor ${p.hideThisMessageLinkOverride} js-hide-this-message-button`,onClick:()=>d(!1),"data-analytics-id":v,"aria-haspopup":"dialog"},n("components.common.overallPanel.hideThisMessage"))))))};var vt=n("AuQm");const yt=Object(ut.l)((()=>Object(ut.e)({loadingIcon:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}})));var kt=n("/n7R");const xt="gradepill.color.preference.settings",St=()=>{const e=Object(r.d)();Object(s.useEffect)((()=>{e(M.X.systemPreference.loadSystemPreference({key:xt}))}),[e]);const t=(n=xt,Object(r.e)((e=>M.gc.systemPreference.getSystemPreferenceByKey(e,n))));var n;return!(!t||!t.value)&&!JSON.parse(t.value).isColorEnabled},Ct=({row:e,isOverallGradeConfigured:t,gradingSchema:n,className:i,overallGradeColumn:a,pillSize:o})=>{let r,l,c,d,m;!(null==a?void 0:a.possible)||(null==n?void 0:n.scaleType)!==B.ac.Score&&(null==n?void 0:n.scaleType)!==B.ac.Tabular||(d=a.possible);St()&&(r=q.Black);const p=()=>{switch(null==n?void 0:n.scaleType){case B.ac.Tabular:return Y.Tabular;case B.ac.Percent:return Y.Percentage;case B.ac.Score:return Y.Points}return Y.Tabular},h=e.overallGrade,g=s.useRef(null),b=Object(u.a)();if(!t)return s.createElement(kt.AnalyticsTooltip,{title:b("gradebook.studentList.table.overallGradeNotSetUpTooltip"),placement:"left-end",analyticsId:"gradebook.student-list.overall-grade-column"},s.createElement("div",{ref:g},s.createElement(Ae,{variant:Y.Tabular,gradeColorVariant:r,pillSize:o})));if(!h||!n)return n&&n.scaleType===B.ac.Score?s.createElement(Ae,{variant:Y.Points,gradeColorVariant:r,pointsPossible:a&&a.possible,pillSize:o}):s.createElement(Ae,{variant:p(),gradeColorVariant:r,pillSize:o});if(null==h?void 0:h.displayGrade){null!==h.manualGrade&&(d=h.pointsPossible);const e=h.displayGrade,t=e.isOverride;t&&(r=q.Grey),t&&e.perfCode?(l=e.perfCode.code,m=Y.Tabular):e.grade&&void 0!==e.score?(m=Y.Tabular,l=e.grade,c=e.score):void 0!==e.score?e.requiresSchemaKnowledgeToDisplay?(m=Y.Percentage,c=e.score,d=100):(m=Y.Points,c=parseFloat(e.score.toFixed(2))):m=p()}return s.createElement("div",{className:i},s.createElement(Ae,{grade:c,symbolGrade:l,variant:m,pointsPossible:d,gradeColorVariant:r,pillSize:o}))};var Et=n("n7/H");const It=Object(ee.makeStyles)({anchor:{color:"inherit",textDecoration:"inherit","&:hover, &:focus, &:active":{color:"inherit",textDecoration:"inherit"}}}),wt=Object(ee.makeStyles)({accommodations:{display:"inline",marginRight:"4px",verticalAlign:"middle","& svg":{height:"16px",width:"16px"}}}),At=e=>{const t=(n=null==e?void 0:e.courseId,Object(r.e)((e=>n?M.gc.courseMembership.getMembershipPermissions(e,n):void 0)));var n;return!(!e||!t)&&M.a.hasAccommodations(e,t)};var Ot=n("50Q+");const Dt=()=>{const e=wt(),t=Object(u.a)();return s.createElement(vt.a,{className:e.accommodations,titleAccess:t("gradebook.studentList.fullNameComponent.aria.accommodations")})},Tt=({row:e,isLink:t})=>{const n=s.createElement(Ot.f,{user:e.user,format:Et.ILocaleUsernameFormat.Short,ariaHidden:!1}),i=It(),a=At(e.membership),o="gradebook.studentListView.fullNameColumn.link",r=Object(w.useAnalyticsAugmentEventOnElement)(w.AnalyticsEventTypes.CLICK_EVENT,w.defaultOnClick,o);return t?s.createElement("a",{href:"#",className:i.anchor,"data-analytics-id":o,onClick:r},a?s.createElement(Dt,null):null,n):s.createElement(s.Fragment,null,a?s.createElement(Dt,null):null,n)},Pt=({row:e})=>{const{formatDatetime:t}=Object(W.a)();return e.membership.lastAccessDate?s.createElement(s.Fragment,null,t(e.membership.lastAccessDate,Et.ILocaleDatetimeFormat.Short)):s.createElement(s.Fragment,null,"—")};var $t=n("119o"),Gt=n("6RBU");const jt=e=>{const{row:t,className:n,courseId:i}=e,{translate:a,formatUsername:o}=Object(W.a)(),r=t.membership.permissions.editDueDateException||t.membership.permissions.editTimeLimitException,l=t.membership.isAvailable||void 0===t.membership.isAvailable,c=s.useCallback((()=>{ot.bb.goPeekState(Object(ot.cb)({courseId:i,recipientIds:t.user.id}))}),[t.user.id,i]),d=s.useCallback((()=>{ot.bb.goPeekState(Object(ot.fb)({membershipId:t.membership.id}))}),[t.membership.id]),u={items:[...r?[{icon:s.createElement($t.a,null),key:"accomodations",name:a("gradebook.studentList.table.actionsMenu.accommodations"),onClick:d}]:[],...l?[{icon:s.createElement(Gt.a,null),key:"messageStudent",name:a("gradebook.studentList.table.actionsMenu.messageStudent"),onClick:c}]:[]]};return r||l?s.createElement(et.ActionMenu,{analyticsId:"gradebook.studentListView.studentList",ariaLabel:a("gradebook.studentList.table.actionsMenu.moreOptions",{fullName:o(t.user,Et.ILocaleUsernameFormat.Short)}),menuProps:u,className:n}):null},Lt=Object(ee.makeStyles)((e=>Object(ee.createStyles)({cell:{backgroundColor:e.palette.common.white,borderTop:"none",paddingTop:"0",paddingBottom:"0"},headerTitle:{display:"inline-flex"},invisibleIcon:{height:"8px",verticalAlign:"middle",color:e.palette.common.black},tooltip:{maxWidth:"175px"},nowrap:{whiteSpace:"nowrap"}}))),Nt=({analyticsId:e})=>{const t=Object(u.a)(),n=Lt();return s.createElement(v.AnalyticsTooltip,{analyticsId:`${e}.tableCell.overallGrade.visibilityInformationTooltip`,classes:{tooltip:n.tooltip},title:t("course.grades.gradeVisibilityTooltip"),placement:"top"},s.createElement(v.AnalyticsIconButton,{className:n.invisibleIcon,analyticsId:`${e}.tableCell.overallGrade.visibilityInformationTooltip.button`,"aria-label":t("course.grades.gradeVisibilityIcon")},s.createElement(I.Invisible,null)))};var Bt;!function(e){e.fullName="fullName",e.lastAccessDate="lastAccessDate",e.overallGrade="overallGrade",e.studentId="studentId",e.username="username",e.actionMenu="actionMenu"}(Bt||(Bt={}));const Mt=Bt.fullName,Rt=e=>({row:t})=>{const n=e(t);return n?s.createElement(s.Fragment,null,n):s.createElement(s.Fragment,null,"—")},Ft={[Bt.fullName]:{largeBreakpointSize:3,key:Bt.fullName,renderContent:e=>s.createElement(Tt,{...e,isLink:!0}),renderHeader:e=>s.createElement(s.Fragment,null,e.t("gradebook.studentList.table.fullName")),sortable:!0},[Bt.studentId]:{largeBreakpointSize:1,key:Bt.studentId,renderContent:Rt((e=>e.user.studentId)),renderHeader:e=>s.createElement(s.Fragment,null,e.t("gradebook.studentList.table.studentId")),sortable:!0},[Bt.username]:{largeBreakpointSize:2,key:Bt.username,renderContent:Rt((e=>e.user.userName)),renderHeader:e=>s.createElement(s.Fragment,null,e.t("gradebook.studentList.table.username")),sortable:!0},[Bt.lastAccessDate]:{largeBreakpointSize:4,key:Bt.lastAccessDate,renderContent:Pt,renderHeader:e=>s.createElement(s.Fragment,null,e.t("gradebook.studentList.table.lastAccessDate")),sortable:!0},[Bt.overallGrade]:{largeBreakpointSize:2,key:Bt.overallGrade,renderContent:Ct,renderHeader:e=>s.createElement(s.Fragment,null,e.isOverallGradeHidden&&s.createElement(Nt,{analyticsId:e.analyticsId}),e.t("gradebook.studentList.table.overallGrade")),sortable:!1},[Bt.actionMenu]:{largeBreakpointSize:1,key:Bt.actionMenu,renderContent:e=>s.createElement("div",{onClick:e=>e.stopPropagation()},s.createElement(jt,{row:e.row,courseId:e.courseId})),renderHeader:()=>s.createElement(s.Fragment,null),hideHeaderText:!0,sortable:!1}},Vt=[Bt.fullName,Bt.studentId,Bt.username,Bt.lastAccessDate,Bt.overallGrade,Bt.actionMenu],_t=(e,t)=>e.filter((e=>e.key!==Bt.overallGrade||t)),Ut=[{label:"25",value:"25"},{label:"50",value:"50"},{label:"100",value:"100"}],Ht=Ut.map((e=>Number(e.value))),zt=Object(ee.makeStyles)((e=>Object(ee.createStyles)({fullNameCell:{fontWeight:e.typography.fontWeightSemiBold}}))),qt=({analyticsId:e,column:t,colIndex:n,data:i,isOverallGradeConfigured:a,hoverClass:o,courseId:r,gradingSchema:l,overallGradeColumn:c})=>{const d=zt(),u=((e,t,n)=>e===Bt.fullName?`${t.fullNameCell} ${n}`:"")(t.key,d,o);return s.createElement(v.AnalyticsTableCell,{"aria-colindex":n,"aria-describedby":`studentListTable_header_${t.key}`,analyticsId:`${e}.tableCell.${t.key}`,className:`js-student-list-view-table-body-cell ${u}`,tabIndex:-1},s.createElement(t.renderContent,{row:i,isOverallGradeConfigured:a,courseId:r,gradingSchema:l,overallGradeColumn:c}))},Wt=Object(ee.makeStyles)((e=>Object(ee.createStyles)({hoverTarget:{},tableRow:{"&:hover":{backgroundColor:e.palette.background.b3,cursor:"pointer","& $hoverTarget":{textDecoration:"underline"}}},disabled:{cursor:"default","&:hover":{textDecoration:"none",cursor:"default"},"& a:hover":{cursor:"default"}}}))),Kt=({data:e,courseId:t,analyticsId:n,isOverallGradeConfigured:i,columns:a,rowIndex:o,gradingSchema:r,overallGradeColumn:l,isDisabled:c})=>{var d,u,m;const p=Wt(),h=s.useCallback((()=>{var n,i;ot.bb.goPeekState(Object(ot.ib)({courseId:t,userId:null===(n=null==e?void 0:e.user)||void 0===n?void 0:n.id,membershipId:null===(i=null==e?void 0:e.membership)||void 0===i?void 0:i.id}))}),[t,null===(d=null==e?void 0:e.user)||void 0===d?void 0:d.id,null===(u=null==e?void 0:e.membership)||void 0===u?void 0:u.id]),g=s.useMemo((()=>_t(a,i)),[a,i]);return s.createElement(v.AnalyticsTableRow,{"aria-rowindex":o,analyticsId:`${n}.tableRow`,className:Object(J.a)("js-student-list-view-body-row",p.tableRow,c?p.disabled:""),key:null===(m=null==e?void 0:e.user)||void 0===m?void 0:m.id,onClick:c?void 0:h},g.map(((a,o)=>s.createElement(qt,{colIndex:o+1,analyticsId:n,data:e,column:a,key:a.key,isOverallGradeConfigured:i,hoverClass:p.hoverTarget,courseId:t,gradingSchema:r,overallGradeColumn:l}))))},Jt=({analyticsId:e,bodyData:t,columns:n,isDataLoading:i,courseId:a,isOverallGradeConfigured:o,gradingSchema:r,overallGradeColumn:l,isDisabled:c})=>{const d=yt(),m=Object(u.a)();return s.createElement(v.AnalyticsTableBody,{analyticsId:`${e}.tableBody`,className:"js-student-list-view-body"},i?s.createElement(v.AnalyticsTableRow,{analyticsId:`${e}.loadingIcon.tableRow.container`},s.createElement(v.AnalyticsTableCell,{analyticsId:`${e}.loadingIcon.tableCell.container`,colSpan:n.length},s.createElement("div",{className:d.loadingIcon},s.createElement(v.AnalyticsCircularProgress,{ariaLabel:m("components.studentListView.loadingIconAriaLabel"),size:"large"})))):t.map(((t,i)=>{var d;return s.createElement(Kt,{rowIndex:i+1,data:t,key:null===(d=t.user)||void 0===d?void 0:d.id,courseId:a,isOverallGradeConfigured:o,analyticsId:e,columns:n,gradingSchema:r,overallGradeColumn:l,isDisabled:c})})))},Qt=({analyticsId:e,column:t,isOverallGradeHidden:n})=>{const i=Object(u.a)(),a=Lt(),o=t.key===Bt.studentId,r=`${e}.tableCell.${t.key}`;return t.sortable?s.createElement(v.AnalyticsSortableTableHeaderCell,{id:`studentListTable_header_${t.key}`,analyticsId:r,columnId:t.key,tableCellProps:{className:`js-student-list-view-table-header-cell js-student-list-view-table-header-cell-${t.key} large-${t.largeBreakpointSize} ${a.cell}${o?` ${a.nowrap}`:""}`}},s.createElement(t.renderHeader,{t:i,analyticsId:e,isOverallGradeHidden:n})):s.createElement(v.AnalyticsTableCell,{analyticsId:r,className:`js-student-list-view-table-header-cell js-student-list-view-table-header-cell-${t.key} large-${t.largeBreakpointSize} ${a.cell}${o?` ${a.nowrap}`:""}`,tabIndex:-1},s.createElement(t.renderHeader,{t:i,analyticsId:e,isOverallGradeHidden:n}))},Zt=Object(ee.makeStyles)({row:{height:"40px"}}),Yt=({analyticsId:e,columns:t,isOverallGradeHidden:n,isOverallGradeConfigured:i})=>{const a=Zt(),o=s.useMemo((()=>_t(t,i)),[t,i]);return s.createElement(v.AnalyticsTableHead,{analyticsId:`${e}.tableHead`,className:"js-student-list-view-header"},s.createElement(v.AnalyticsTableRow,{analyticsId:`${e}.tableRow`,className:`js-student-list-view-header-row ${a.row}`},o.map((t=>s.createElement(Qt,{analyticsId:e,column:t,key:`studentListView.tableHeaderCell.${t.key}`,isOverallGradeHidden:n})))))};var Xt;!function(e){e.AllGrading="course.gradebook-grades.EXECUTE",e.DeanonymizeGrades="course.gradebook-deanonymize.EXECUTE",e.EnterFeedback="course.gradebook-grades.feedback.EXECUTE",e.EnterItemGrades="course.gradebook-grades.attempt.EXECUTE",e.ExportGradebookData="course.gradebook-data.export.EXECUTE",e.FullGradebookAccess="course.gradebook.MODIFY",e.ModifyGradebook="course.gradebook.MODIFY",e.ModifyItemDueDate="course.gradebook-item.duedate.MODIFY",e.Observe="observer.gradebook.VIEW",e.OverrideItemGrades="course.gradebook-grades.override.EXECUTE",e.ProvideGradingFeedback="course.gradebook-grades.feedback.EXECUTE",e.PublishGrades="course.gradebook-grades.publish.EXECUTE",e.ViewAttempts="course.gradebook.attempts.VIEW",e.ViewGradebook="course.gradebook.VIEW",e.ViewGradebookMetaData="course.gradebook-metadata.VIEW",e.OverrideGrade="course.gradebook-grades.override.EXECUTE",e.ViewException="course.gradebook-item.exceptions.VIEW",e.AssessmentViewException="course.assessment.exceptions.VIEW",e.ViewGrades="course.gradebook-grades.VIEW",e.ViewUserGrades="course.user.grades.VIEW"}(Xt||(Xt={}));const en=e=>{const{analyticsId:t,isLoading:n,bodyData:i,columnData:a,courseId:o,isOverallGradeConfigured:l,isOverallGradeHidden:c,gradingSchema:d,onSortChanged:m,overallGradeColumn:p}=e,h=Object(u.a)(),g=s.useCallback((e=>(m&&m(e.sortColumnId,e.sortDirection),!0)),[m]),b=s.useCallback(((e,t)=>{const n=h(`gradebook.studentList.table.${e}`);return h(`components.studentListTable.ariaSortMessage.${t}`,{columnName:n})}),[h]),f=Object(r.e)((e=>M.gc.courseEntitlements.userHasCourseEntitlement(e,o,Xt.ViewException))),y=Object(r.e)((e=>M.gc.courseEntitlements.userHasCourseEntitlement(e,o,Xt.AssessmentViewException)));return s.createElement(v.AnalyticsSortableTable,{id:"student-list-view_table",analyticsId:`${t}.table`,tableProps:{className:"js-student-list-view-table"},getAriaSortMessage:b,onSortChanged:g,initialSortColumnId:Mt,initialSortDirection:"asc"},s.createElement(Yt,{analyticsId:`${t}.table`,columns:a,isOverallGradeHidden:c,isOverallGradeConfigured:l}),s.createElement(Jt,{analyticsId:`${t}.table`,bodyData:i,columns:a,isDataLoading:n,courseId:o,isOverallGradeConfigured:l,gradingSchema:d,overallGradeColumn:p,isDisabled:!(f&&y)}))};var tn=n("GuFu");const nn=(e,t,n)=>{const i=Object(r.d)(),a=(e=>Object(r.e)((t=>M.gc.gradebookGrade.getGradebookGradesByColumnId(t,e))))(t),o={};(a||[]).forEach((e=>{o[e.userId]=e}));const l=n.filter((e=>{var t,n;return!o[e.userId]||(null===(n=null===(t=o[e.userId])||void 0===t?void 0:t.api)||void 0===n?void 0:n.isInvalidated)})).map((e=>e.id));if(Object(s.useEffect)((()=>{e&&l.length&&t&&i(M.X.gradebookGrade.loadBulkView(e,[t],l))}),[i,e,t,l.join(",")]),a){const e=(e=>e.filter((e=>{var t;return!(null===(t=null==e?void 0:e.api)||void 0===t?void 0:t.isInvalidated)})))(a);e.forEach((e=>{e.userId&&(o[e.userId]=e)}))}return o},sn=e=>Object(r.e)((t=>M.gc.gradebookColumn.getGradebookColumnsByCourseId(t,e))),an=e=>{const t=Object(r.d)();return Object(s.useEffect)((()=>{t(M.X.gradebookColumn.loadGradebookColumnsByCourseId(e))}),[t,e]),sn(e).filter((e=>e.externalGrade))[0]},on=Object(ee.makeStyles)((e=>Object(ee.createStyles)({loadingIcon:{display:"inline-flex",width:"100%",alignItems:"center",justifyContent:"center"},firstStudentCard:{borderTop:`1px solid ${e.palette.border.main}`},overallGradeInfo:{paddingBottom:"16px",fontStyle:"italic"},infoIcon:{verticalAlign:"middle",marginRight:"8px"}})));var rn=n("bWNV"),ln=n("oYCK");const cn=Object(ee.makeStyles)((e=>Object(ee.createStyles)({smallBreakpointGradePill:{marginTop:"14px"},cardRoot:{"&:hover":{backgroundColor:e.palette.background.b3},"&:hover a $smallBreakpointUserName":{textDecoration:"underline"},borderStyle:"none none solid none",borderBottom:`1px solid ${e.palette.border.main}`},cardContent:{display:"flex"},smallBreakpointUserName:{fontWeight:e.typography.fontWeightSemiBold},smallBreakpointStudentId:{marginBottom:"8px"},cardLink:{"&:hover, &:active, &:focus":{color:"inherit",textDecoration:"inherit"},color:"inherit",textDecoration:"inherit",width:"100%"},smallBreakpointActionMenu:{alignSelf:"flex-end",position:"absolute",right:"0px"}})));var dn=n("l0qt");const un=e=>{var t;const{data:n,isOverallGradeConfigured:i,gradingSchema:a,classes:o,overallGradeColumn:r}=e,l=Object(u.a)();return s.createElement(s.Fragment,null,s.createElement("div",{className:`${o.smallBreakpointUserName}`},s.createElement(Tt,{row:n})),(null===(t=n.user)||void 0===t?void 0:t.studentId)&&s.createElement("div",{className:o.smallBreakpointStudentId},n.user.studentId),n.membership.lastAccessDate&&s.createElement("div",null,l("gradebook.studentList.card.lastAccessedOn",{lastAccessDateControl:(e=>s.createElement(Pt,{row:e}))(n)})),i&&s.createElement(Ct,{row:n,className:o.smallBreakpointGradePill,isOverallGradeConfigured:i,gradingSchema:a,overallGradeColumn:r}))},mn=Object(w.withAnalytics)((e=>{var t,n;const{analyticsId:i,data:a,courseId:o,isOverallGradeConfigured:r,gradingSchema:l,analyticsEventAugmentor:c,overallGradeColumn:d}=e,u=cn(),m=(e=>{const[t,n]=Object(s.useState)("#");return Object(s.useEffect)((()=>{ot.bb.getPeekHref(Object(ot.ib)(e)).then((e=>{n(e)}))}),[e]),t})({courseId:o,userId:null===(t=null==a?void 0:a.user)||void 0===t?void 0:t.id,membershipId:null===(n=null==a?void 0:a.membership)||void 0===n?void 0:n.id}),p="gradebook.studentListView.studentCard.link";return s.createElement(rn.a,{analyticsId:`${i}.card`,className:u.cardRoot},s.createElement(ln.a,{analyticsId:`${i}.cardContent`,className:u.cardContent},s.createElement("a",{className:u.cardLink,href:m,"data-analytics-id":p,onClick:c(dn.AnalyticsEventTypes.CLICK_EVENT,w.defaultOnClick,p)},s.createElement(un,{data:a,isOverallGradeConfigured:r,gradingSchema:l,classes:u,overallGradeColumn:d})),s.createElement(jt,{row:a,className:u.smallBreakpointActionMenu,courseId:o})))})),pn=e=>{const{analyticsId:t,bodyData:n,isLoading:i,courseId:a,isOverallGradeConfigured:o,isOverallGradeHidden:r,gradingSchema:l,overallGradeColumn:c}=e,d=on(),m=Object(u.a)();return i?s.createElement("div",{className:d.loadingIcon},s.createElement(v.AnalyticsCircularProgress,{ariaLabel:m("components.studentListView.loadingIconAriaLabel"),size:"large"})):s.createElement(s.Fragment,null,r&&s.createElement("div",{className:d.overallGradeInfo},s.createElement(I.Information,{className:d.infoIcon}),s.createElement("span",null,m("course.grades.gradeVisibilityTooltip"))),n.map(((e,n)=>s.createElement("div",{className:0===n?d.firstStudentCard:"",key:n},s.createElement(mn,{key:e.user.userName,analyticsId:t,data:e,courseId:a,isOverallGradeConfigured:o,gradingSchema:l,overallGradeColumn:c})))))},hn=Object(ee.makeStyles)((e=>Object(ee.createStyles)({pageInfo:{display:"inline-flex",margin:"14px 16px 13px 0",alignItems:"center",fontWeight:e.typography.fontWeightBold},pageInfoSmall:{textAlign:"center",marginTop:"8px",fontWeight:e.typography.fontWeightBold},pageSize:{display:"inline-flex",margin:"14px 0 13px 0",alignItems:"center"},searchTextControl:{[e.breakpoints.up("md")]:{width:"340px"},width:"100%",margin:"14px 0 13px 0"},smallIconButton:{minWidth:"26px",maxHeight:"40px"},tableHeader:{display:"inline-flex",justifyContent:"space-between",width:"100%",flexDirection:"column",[e.breakpoints.up("md")]:{flexDirection:"row"}},searchTooltipWrapper:{display:"flex",alignItems:"center"},pagingOptions:{display:"inline-flex",flexDirection:"row",marginBottom:"13px",justifyContent:"center",[e.breakpoints.up("md")]:{justifyContent:"flex-start",marginBottom:"0px"},"& .page-size-component button, .paging-component-button":{border:`1px solid ${e.palette.text.hint}`,boxSizing:"border-box"}},pagingControl:{paddingTop:"35px","& .paging-component":{[e.breakpoints.up("sm")]:{justifyContent:"flex-end"},"& .paging-component-button":{border:`1px solid ${e.palette.text.hint}`,boxSizing:"border-box"}}}}))),gn=e=>{const t=Object(r.d)();return Object(s.useEffect)((()=>{t(M.X.course.fetchCourse(e))}),[t,e]),Object(r.e)((t=>M.gc.course.getCourseById(t,e)))},bn=(e,t)=>{const[n,i]=s.useState(0),[a,o]=((e,t)=>{const[n,i]=Object(s.useState)(window.localStorage.getItem(e)||t);return Object(s.useEffect)((()=>{i(window.localStorage.getItem(e)||t)}),[e]),[n,t=>{window.localStorage.setItem(e,t),i(t)}]})(`${e}.studentListViewPageSize`,Ut[0].value),r=t?25:Number(a),l=s.useRef(t);return s.useEffect((()=>{if(l.current===t)return;l.current=t;const e=t?Number(a):25,s=Math.floor(e*n/r);i(s)}),[t,a,n,r]),{effectiveItemsPerPage:r,page:n,setPage:i,itemsPerPage:a,setItemsPerPage:o}},fn=(e,t)=>{const n=Object(r.d)(),i=Object(r.e)((e=>M.gc.gradebookSchema.areGradebookSchemasLoading(e))),a=Object(r.e)((e=>M.gc.gradebookSchema.getGradebookSchemaById(e,t)));return Object(s.useEffect)((()=>{e&&t&&!a&&!i&&n(M.X.gradebookSchema.loadGradebookSchema({courseId:e,schemaId:t}))}),[n,e,t,a,i]),a};const vn=(e,t)=>Math.max(1,Math.ceil(e/t)),yn=e=>{var t,n,i,a,o,l,c;const{analyticsId:d,courseId:m,currentUserId:p}=e,h=Object(u.a)(),g=hn(Object(ut.t)()),b=Object(ut.t)(),f=Object(ut.s)(b.breakpoints.down("xs")),{page:y,setPage:k,itemsPerPage:x,setItemsPerPage:S,effectiveItemsPerPage:C}=bn(p,f),[E,w]=s.useState(""),[A,O]=s.useState(),[D,T]=s.useState(),[P,$]=s.useState(!1),G=s.useRef(),j=((e,t)=>e===Bt.lastAccessDate?[{field:B.ib.LastAccessDate,direction:t}]:e===Bt.studentId?[{field:B.ib.StudentId,direction:t}]:e===Bt.username?[{field:B.ib.Username,direction:t}]:e===Bt.overallGrade?[{field:B.ib.Grade,direction:t}]:[{field:B.ib.FamilyName,direction:e===Bt.fullName?t:B.cc.Ascending},{field:B.ib.GivenName,direction:e===Bt.fullName?t:B.cc.Ascending}])(A,D),L=an(m),N=Object(tn.p)(M.r.OverallGradeSorting),{memberships:R,users:F,view:V}=Object(tn.h)({courseId:m,filter:{searchString:E,roleBucket:[B.y.Taking]},paging:{limit:C,offset:y*C},sort:j,columnId:A===Bt.overallGrade?null==L?void 0:L.id:void 0}),_=Object(tn.j)(bt.key,m),U=(e=>{const t=Object(r.d)();return Object(s.useEffect)((()=>{t(M.X.gradebookColumn.loadGradebookColumnsByCourseId(e))}),[t,e]),sn(e).length>0})(m),H=nn(m,null==L?void 0:L.id,R),z=(e=>{const t=gn(e),n=!0===(null==t?void 0:t.isAvailable)&&!0===(null==t?void 0:t.isClosed);return Object(tn.x)(e,"course.gradebook.MODIFY")&&t&&!n})(m),q=z&&U&&!L&&"true"!==(null==_?void 0:_.value),W=fn(m,null==L?void 0:L.gradingSchemaId),J=s.useCallback(Object(K.debounce)((e=>{k(0),w(e)}),250),[]),Q=s.useCallback((e=>{k(0),S(e.toString())}),[k,S]),Z=R.map((e=>({user:F[e.userId],membership:e,overallGrade:H&&H[e.userId]}))),Y=s.useCallback(((e,t)=>{O(e),T(t)}),[]),X=((e,t)=>e.map((e=>(Ft[e].key===Bt.overallGrade&&(Ft[e].sortable=t),Ft[e]))))(Vt,N),ee=!(null===(t=null==L?void 0:L.visible)||void 0===t||t),te=h("gradebook.studentList.common.search."+(f?"short":"long")),ne=null!==(i=null===(n=null==V?void 0:V.paging)||void 0===n?void 0:n.count)&&void 0!==i?i:0,ie=Number.isInteger(null===(a=null==V?void 0:V.paging)||void 0===a?void 0:a.offset)?V.paging.offset+1:0,se=Number.isInteger(null===(o=null==V?void 0:V.paging)||void 0===o?void 0:o.offset)?V.paging.offset+Z.length:0,ae="student-list-filter-tooltip";let oe;oe=L?(null==V?void 0:V.isLoading)||!ee&&!W:null==V?void 0:V.isLoading;const re=s.useCallback((()=>{$(!0)}),[]),le=s.useCallback((()=>{$(!1)}),[]);return s.useEffect((()=>{const e=G.current;return e&&(e.addEventListener("focus",re),e.addEventListener("blur",le)),()=>{e&&(e.removeEventListener("focus",re),e.removeEventListener("blur",le))}}),[re,le]),s.createElement(s.Fragment,null,s.createElement("div",{className:g.tableHeader},s.createElement("div",{className:g.searchTooltipWrapper},s.createElement(vt.M,{inputId:"student-list-filter-input",analyticsId:`${d}.filter.input`,inputRef:G,label:h("gradebook.studentList.common.search.abbreviated"),InputProps:{inputProps:{"aria-describedby":ae}},TextFieldProps:{fullWidth:!1,className:g.searchTextControl},onChange:J}),s.createElement(v.AnalyticsTooltip,{id:ae,analyticsId:`${d}.filter.tooltip`,open:P,placement:"top-start",onOpen:re,onClose:le,title:te},s.createElement(v.AnalyticsIconButton,{id:"student-list-filter-tooltip-iconButton",analyticsId:`${d}.filter.tooltip.iconButton`,className:g.smallIconButton,"aria-label":h("gradebook.studentList.common.search.tooltipAriaLabel")},s.createElement(I.Information,null)))),s.createElement("div",{className:g.pagingOptions},!f&&s.createElement(s.Fragment,null,!oe&&s.createElement(vt.H,{className:g.pageInfo,totalItems:ne,rangeStart:ie,rangeEnd:se}),s.createElement(vt.I,{className:g.pageSize,pageSizeOptions:(de=Ut,de.map((({value:e})=>Number(e)))),initialPageSize:(ce=x,Ht.indexOf(Number(ce))<0?{value:"25",label:"25"}:{value:`${ce}`,label:`${ce}`}).value,onPageSizeChange:Q,analyticsId:d})),(null==V?void 0:V.paging)&&s.createElement(vt.J,{page:y,className:"paging-component",compact:f,numberOfPages:vn(null===(l=null==V?void 0:V.paging)||void 0===l?void 0:l.count,C),onPageChange:k,analyticsId:d}))),f&&s.createElement(pn,{analyticsId:d,bodyData:Z,isLoading:oe,isOverallGradeConfigured:!!L,isOverallGradeHidden:ee,courseId:m,gradingSchema:W,overallGradeColumn:L}),!f&&s.createElement(en,{analyticsId:d,columnData:X,bodyData:Z,isLoading:oe,isOverallGradeConfigured:!!L,isOverallGradeHidden:ee,courseId:m,onSortChanged:Y,gradingSchema:W,overallGradeColumn:L}),(null==V?void 0:V.paging)&&s.createElement("div",{className:g.pagingControl},s.createElement(vt.J,{className:"paging-component",compact:f,page:y,numberOfPages:vn(null===(c=null==V?void 0:V.paging)||void 0===c?void 0:c.count,C),onPageChange:k,analyticsId:d}),f&&!oe&&s.createElement(vt.H,{className:g.pageInfoSmall,totalItems:ne,rangeStart:ie,rangeEnd:se})),q&&s.createElement(ft,{analyticsId:`${d}.overallGradeSetup`,showFixedView:!1,courseId:m}));var ce,de},kn=Object(ee.makeStyles)((()=>Object(ee.createStyles)({panelFooter:{position:"absolute",bottom:0,left:0,right:0,"& .ms-Panel-footer":{justifyContent:"center"}}}))),xn=e=>{const{analyticsId:t,onClickApply:n,onClickCancel:i,isFiltersPanelDirty:a}=e,o=kn(),r=Object(u.a)();return s.createElement("div",{className:o.panelFooter},s.createElement(h.BbPanelFooter,{primaryButtonProps:{text:r("gradebook.gridFiltersPanel.footer.apply"),onClick:n,disabled:!a},secondaryButtonProps:{text:r("gradebook.gridFiltersPanel.footer.cancel"),onClick:i},analyticsId:t}))},Sn=Object(ee.makeStyles)((()=>Object(ee.createStyles)({header:{"& .ms-Panel-header":{boxShadow:"none"}},body:{marginTop:"24px",marginBottom:"48px"},clearFilters:{marginBottom:"8px",height:"29px"},filter:{marginBottom:"16px"}}))),Cn=e=>{const{inputId:t,analyticsId:n,courseId:i,onSelectionChange:a}=e,o=Object(u.a)(),l=e.selectedMembershipIds||[],c=l.join(""),d=Object(r.e)((e=>M.gc.courseMembership.getUsersFromMembershipIds(e,l).map((e=>null==e?void 0:e.id)))),[m,p]=Object(s.useState)(d),h=Object(r.e)((e=>M.gc.courseMembership.getCourseMembershipsByUserIds(e,i,m).map((e=>null==e?void 0:e.id)))),g=h.join(""),b=Object(r.e)((e=>M.gc.courseMembership.getUsersFromMembershipIds(e,h))),[f,y]=Object(s.useState)(!1),k=Object(s.useCallback)((e=>{y(!0),p(e.map((e=>null==e?void 0:e.id)))}),[p]);Object(s.useEffect)((()=>{f&&g!==c&&a(h),y(!1)}),[g,c,f]),Object(s.useEffect)((()=>{p(d)}),[d.join(""),m.join("")]);const x={inputId:t,analyticsId:n,courseId:i,placeholder:o("gradebook.gridFiltersPanel.memberships.placeholder"),selectedUsers:b,onMemberSelectionChanged:k,selectionLimit:100,label:o("gradebook.gridFiltersPanel.memberships.label"),roleBuckets:[B.y.Taking]};return!m.some((e=>!e))?s.createElement(Ot.c,{...x}):s.createElement(v.AnalyticsCircularProgress,{ariaLabel:o("gradebook.gridFiltersPanel.memberships.loading"),size:"small"})},En=e=>{const{inputId:t,courseId:n,analyticsId:i,onSelectionChange:a,selectedGroupIds:o}=e,l=Object(u.a)(),c=Object(s.useCallback)((e=>{a(e.map((e=>e.id)))}),[a]),d=Object(r.e)((e=>M.gc.group.getCourseGroupsByIds(e,o)));return!d.some((e=>!e))?s.createElement(Ot.b,{inputId:t,label:l("gradebook.gridFiltersPanel.groups.label"),courseId:n,analyticsId:i,placeholder:l("gradebook.gridFiltersPanel.groups.placeholder"),selectionLimit:100,selectedGroups:d,onSelectedGroupsChanged:c}):s.createElement(v.AnalyticsCircularProgress,{ariaLabel:l("gradebook.gridFiltersPanel.groups.loading"),size:"small"})};var In=n("9Ktm");const wn=(e,t)=>{if(e.localizableTitle){return t(`categories.${e.localizableTitle.languageKey.toLowerCase()}`)}return e.title},An=/-/g,On=Object(ee.makeStyles)((()=>Object(ee.createStyles)({choiceLabel:{marginLeft:"-8px"}}))),Dn=e=>{const t=On(),{categories:n,selectedCategoryIds:i,onSelectionChange:a,analyticsId:o}=e,{translate:r,locale:l}=Object(W.a)(),c=((e,t,n)=>e&&e.sort(((e,i)=>{var s;const a=wn(e,t),o=wn(i,t),r=(null===(s=null==n?void 0:n.match(An))||void 0===s?void 0:s.length)>1?n.split("-",2).join("-"):n;return a.localeCompare(o,r)})))(n,r,l),d=Object(s.useCallback)((e=>{const t=e.target.value;a(((e,t)=>{const n=[...e],i=n.indexOf(t);return-1!==i?n.splice(i,1):n.push(t),n})(i,t))}),[i,a]);return s.createElement(In.a,{legendText:r("gradebook.gridFiltersPanel.categoriesTitle"),legendVariant:"h4"},c.map((e=>s.createElement(v.AnalyticsFormControlLabel,{label:wn(e,r),className:t.choiceLabel,htmlFor:e.id,control:s.createElement(v.AnalyticsCheckbox,{id:e.id,value:e.id,checked:i.includes(e.id),analyticsId:`${o}.pickCategoryCheckbox.${e.id}`}),analyticsId:`${o}.pickCategoryLabel.${e.id}`,key:e.id,onChange:d}))))},Tn=e=>{const t=Object(r.d)(),n=Object(r.e)((t=>M.gc.gradebookCategory.getGradebookCategoriesByCourseId(t,e)));return Object(s.useEffect)((()=>{n||t(M.X.gradebookCategory.loadGradebookCategoriesByCourseId(e))}),[t,e,n]),n};var Pn=Tn;const $n=Object(ee.makeStyles)((e=>Object(ee.createStyles)({dialogTitle:{"& h1":{fontFamily:e.typography.fontFamily}}}))),Gn=e=>{const{showConfirmationModal:t,analyticsId:n,handleOnClose:i,handleOnConfirmation:a}=e,o=Object(u.a)(),r="cancel-grid-advanced-filters",l=$n(e);return s.createElement(s.Fragment,null,s.createElement(m.a,{analyticsId:n,open:t,maxWidth:"md",onClose:i,"aria-labelledby":`${r}-dialog-title`},s.createElement(v.AnalyticsDialogTitle,{analyticsId:`${n}.titleClose.button`,id:`${r}-dialog-title`,onClick:i,className:l.dialogTitle},o("gradebook.gridFiltersPanel.confirmationDialog.title")),s.createElement(v.AnalyticsDialogContent,{analyticsId:`${n}.content`},s.createElement(v.AnalyticsDialogContentText,{analyticsId:"",id:`${r}-dialog-description`},o("gradebook.gridFiltersPanel.confirmationDialog.content"))),s.createElement(v.AnalyticsDialogActions,{analyticsId:`${n}.actions`},s.createElement(v.AnalyticsDefaultButton,{analyticsId:`${n}.close.button`,onClick:i},o("gradebook.gridFiltersPanel.confirmationDialog.cancel")),s.createElement(v.AnalyticsPrimaryButton,{analyticsId:`${n}.confirmation.button`,onClick:a},o("gradebook.gridFiltersPanel.confirmationDialog.confirmation")))))},jn=e=>{const{inputId:t,analyticsId:n,courseId:i,onSelectionChange:a,selectedColumnsIds:o}=e,l=Object(u.a)(),c=Object(r.e)((e=>{const t=M.gc.gradebookColumn.getGradebookColumnsByIds(e,o);return Object.keys(t).map((e=>t[e]))})),d=Object(s.useCallback)((e=>{a(e.map((e=>e.id)))}),[a]);return!c.some((e=>!e))?s.createElement(Ot.d,{inputId:t,analyticsId:`${n}.pickColumns`,courseId:i,onColumnSelectionChanged:d,selectedColumns:c,selectionLimit:100,label:l("gradebook.gridFiltersPanel.gradebookColumns.label"),placeholder:l("gradebook.gridFiltersPanel.gradebookColumns.placeholder")}):s.createElement(v.AnalyticsCircularProgress,{ariaLabel:l("gradebook.gridFiltersPanel.gradebookColumns.loading"),size:"small"})},Ln=Object(ee.makeStyles)((e=>Object(ee.createStyles)({choiceLabel:{marginLeft:"-8px"},paragraph:{color:e.palette.text.secondary,marginBottom:"12px",fontStyle:"italic",fontWeight:e.typography.fontWeightRegular},divider:{border:"1px solid",borderColor:e.palette.secondary.main,margin:"16px 0px 0px 0px",height:"0px"}})));var Nn=n("oNm+");const Bn=e=>{const t=Ln(),{childCourses:n,selectedChildCourseIds:i,onSelectionChanged:a,analyticsId:o}=e,r=Object(u.a)(),l=Object(s.useCallback)((e=>{const t=e.target.value;a(function(e,t){const n=[...e],i=n.indexOf(t);return-1!==i?n.splice(i,1):n.push(t),n}(i,t))}),[i,a]);return s.createElement(ee.CheckboxGroup,{legendText:r("gradebook.gridFiltersPanel.mergedCourses.label"),legendVariant:"h4"},s.createElement(v.AnalyticsTypography,{className:t.paragraph,variant:"subtitle2"},r("gradebook.gridFiltersPanel.mergedCourses.guide")),n.map(((e,n)=>s.createElement(v.AnalyticsFormControlLabel,{label:e.childCourse.name,className:t.choiceLabel,htmlFor:`standard-checkbox-${e.childCourse.id}`,control:s.createElement(v.AnalyticsCheckbox,{id:`standard-checkbox-${e.childCourse.id}`,checked:i.includes(e.childCourse.id),value:e.childCourse.id,onChange:l,analyticsId:`${o}.pickMergedCourse.Checkbox.${e.childCourse.id}`}),analyticsId:`${o}.pickMergedCourse.${n}`,key:e.childCourse.id}))),s.createElement(Nn.a,{className:`${t.divider}`,variant:"middle"}))},Mn=e=>{var t,n,i,a,o,l,c,d,m,p;const{courseId:g,onFiltersChanged:b,analyticsId:f}=e,y=Sn(),k=Object(u.a)(),[x,S]=s.useState(!1),C=Object(r.e)((e=>M.gc.app.getLocation(e).queryParams)),E=null!==(n=null===(t=null==C?void 0:C.memberId)||void 0===t?void 0:t.split(","))&&void 0!==n?n:[],I=null!==(a=null===(i=null==C?void 0:C.courseGroupId)||void 0===i?void 0:i.split(","))&&void 0!==a?a:[],w=null!==(l=null===(o=null==C?void 0:C.gradebookColumnId)||void 0===o?void 0:o.split(","))&&void 0!==l?l:[],A=null!==(d=null===(c=null==C?void 0:C.gradebookCategoryId)||void 0===c?void 0:c.split(","))&&void 0!==d?d:[],O=null!==(p=null===(m=null==C?void 0:C.childCourseId)||void 0===m?void 0:m.split(","))&&void 0!==p?p:[],[D,T]=Object(s.useState)(E),[P,$]=Object(s.useState)(O),[G,j]=Object(s.useState)(w),[L,N]=Object(s.useState)(A),[B,R]=Object(s.useState)(I),[F,V]=Object(s.useState)(!1),_=Tn(g),U=(e=>{const t=Object(r.e)((t=>M.gc.courseChildren.byParentCourseId(t,e))),n=Object(r.d)();return s.useEffect((()=>{t||n(M.X.courseChildren.loadChildCourses(e))}),[n,e,t]),t})(g),H=(e=>{const[t,n]=Object(s.useState)(!1),i=Object(r.e)((e=>M.gc.app.getRoute(e).params));return Object(s.useEffect)((()=>{const{selectedMembershipIds:t,selectedGroupIds:s,selectedCourses:a,selectedCategoryIds:o,selectedColumnIds:r}=e,l=i.memberId?i.memberId!==(null==t?void 0:t.join(",")):(null==t?void 0:t.length)>0,c=i.courseGroupId?i.courseGroupId!==(null==s?void 0:s.join(",")):(null==s?void 0:s.length)>0,d=i.childCourseId?i.childCourseId!==(null==a?void 0:a.join(",")):(null==a?void 0:a.length)>0,u=i.gradebookCategoryId?i.gradebookCategoryId!==(null==o?void 0:o.join(",")):(null==o?void 0:o.length)>0,m=i.gradebookColumnId?i.gradebookColumnId!==(null==r?void 0:r.join(",")):(null==r?void 0:r.length)>0;n(l||c||d||u||m)}),[i.memberId,i.courseGroupId,i.childCourseId,i.gradebookCategoryId,i.gradebookColumnId,e.selectedMembershipIds,e.selectedGroupIds,e.selectedCourses,e.selectedCategoryIds,e.selectedColumnIds]),t})({selectedMembershipIds:D,selectedGroupIds:B,selectedCourses:P,selectedCategoryIds:L,selectedColumnIds:G});Object(s.useEffect)((()=>{b(H)}),[H]);const z=Object(s.useCallback)((()=>{const e={...C,memberId:void 0,childCourseId:void 0,gradebookCategoryId:void 0,gradebookColumnId:void 0,courseGroupId:void 0};D.length>0&&(e.memberId=D.join(",")),P.length>0&&(e.childCourseId=P.join(",")),L.length>0&&(e.gradebookCategoryId=L.join(",")),G.length>0&&(e.gradebookColumnId=G.join(",")),B.length>0&&(e.courseGroupId=B.join(",")),ot.bb.search(e),b(!1),ot.bb.leavePeekState()}),[L,B,D,P,G]),q=Object(s.useCallback)((()=>{D.length>0&&T([]),P.length>0&&$([]),L.length>0&&N([]),G.length>0&&j([]),B.length>0&&R([]),V(!1),b(!0)}),[b,L,B,D,P,G]),W=Object(s.useCallback)((()=>{b(!1),S(!1),ot.bb.leavePeekState()}),[b]),K=Object(s.useCallback)((()=>{H?S(!0):(b(!1),ot.bb.leavePeekState())}),[H,b]);Object(s.useEffect)((()=>{V(D.length>0||P.length>0||G.length>0||L.length>0||B.length>0)}),[L,B,D,P,G]);const J=k("gradebook.gridFiltersPanel.header.clearAll");return s.createElement("div",{className:"grid-filters-panel"},x&&s.createElement(Gn,{analyticsId:`${f}.cancel`,showConfirmationModal:x,handleOnClose:()=>S(!1),handleOnConfirmation:W}),s.createElement("div",{className:"panel-wrap"},s.createElement("div",{className:`panel-header simple-header ${y.header}`},s.createElement(h.BbPanelHeader,{title:k("gradebook.gridFiltersPanel.header.title"),smallHeaderTitle:k("gradebook.gridFiltersPanel.header.smallTitle"),type:h.BbPanelType.peek,analyticsId:`${f}.header`,hideNavMenu:!0,panelContentRight:F?s.createElement(v.AnalyticsLink,{className:y.clearFilters,"aria-label":J,variant:"button",tabIndex:0,href:"#",analyticsId:`${f}.clearAllFilters`,onClick:q},J):null})),s.createElement("div",{className:`panel-body panel-content ${y.body}`},(null==U?void 0:U.length)>0?s.createElement("div",{className:`${y.filter}`},s.createElement(Bn,{childCourses:U,analyticsId:`${f}.mergedCoursesPicker`,selectedChildCourseIds:P,onSelectionChanged:$})):null,s.createElement("div",{className:`${y.filter}`},s.createElement(Cn,{inputId:"student-picker",courseId:g,selectedMembershipIds:D,onSelectionChange:T,analyticsId:`${f}.membershipsPicker`})),s.createElement("div",{className:`${y.filter}`},s.createElement(En,{inputId:"groups-picker",courseId:g,selectedGroupIds:B,analyticsId:`${f}.groupsPicker`,onSelectionChange:R})),s.createElement("div",{className:`${y.filter}`},s.createElement(jn,{inputId:"gradable-items-picker",courseId:g,analyticsId:`${f}.gradebookColumnsPicker`,selectedColumnsIds:G,onSelectionChange:j})),(null==_?void 0:_.length)&&s.createElement("div",{className:`${y.filter}`},s.createElement(Dn,{analyticsId:`${f}.categoriesPicker`,categories:_,selectedCategoryIds:L,onSelectionChange:N})))),s.createElement(xn,{onClickApply:z,onClickCancel:K,isFiltersPanelDirty:H,analyticsId:`${f}.footer`}))},Rn=Object(ee.makeStyles)((e=>Object(ee.createStyles)({gradeOptionDescription:{color:e.palette.text.secondary,marginLeft:"20px"}})));var Fn;!function(e){e.Gradebook="gradebook",e.GradeHistory="gradeHistory"}(Fn||(Fn={}));const Vn=[Fn.Gradebook,Fn.GradeHistory],_n=[B.M.Tab,B.M.Comma],Un=[{id:"_All",value:B.L.AllTime},{id:"_6Months",value:B.L.SixMonths},{id:"_30Days",value:B.L.ThirtyDays},{id:"_14Days",value:B.L.FourteenDays},{id:"_7Days",value:B.L.SevenDays},{id:"_1Day",value:B.L.OneDay}],Hn=[B.N.MyDevice,B.N.ContentCollection],zn=s.memo((e=>{const{analyticsId:t,gradeOption:n,onChangeGradeOption:i}=e,a=Object(u.a)(),o=Rn(),r="gradebook.grades-download";return s.createElement(s.Fragment,null,s.createElement(v.AnalyticsTypography,{variant:"h2",gutterBottom:!0},a(`${r}.downloadOptions`)),s.createElement(v.AnalyticsRadioGroup,{analyticsId:`${t}.grade-options`,hasCustomLegend:!1,legendVariant:"h3",legendText:a(`${r}.gradeRecords.title`),value:n,onChange:e=>i(e.target.value)},Vn.map((e=>s.createElement(s.Fragment,{key:e},s.createElement(v.AnalyticsFormControlLabel,{analyticsId:`${r}.gradeRecords.${e}.description`,value:e,htmlFor:`radio-${e}-id`,control:s.createElement(v.AnalyticsRadio,{id:`radio-${e}-id`,analyticsId:`${t}.${e}.input.radio`,inputProps:{"aria-describedby":`${e}-record-id`}}),label:a(`${r}.gradeRecords.${e}.title`)}),s.createElement(v.AnalyticsTypography,{id:`${e}-record-id`,component:"span",className:o.gradeOptionDescription},a(`${r}.gradeRecords.${e}.description`)))))))})),qn=Object(ee.makeStyles)((()=>Object(ee.createStyles)({showMoreButton:{marginTop:"8px"}})));var Wn=n("RPob");const Kn=e=>!!e.id&&!!e.columnName,Jn=e=>({value:e.id||"-",label:e.columnName||"-",checked:!1}),Qn=e=>e.filter(Kn).map(Jn),Zn=e=>e.filter((e=>e.calculationType===B.p.NonCalculated&&Kn(e))).map(Jn),Yn=e=>{var t;const{courseId:n,onChange:i,analyticsId:a,converter:o,selectedColumnIds:r,onChangeSelectAllItems:l,selectAllItems:c,children:d}=e,m=Object(u.a)(),p=qn(),h="gradebook.grades-download.grade-history.RecordDetails",[g,b]=Object(s.useState)(50),[f,y]=Object(s.useState)([]),{columns:k,view:x,totalColumns:S}=((e,t,n)=>{var i,s;const{gradebookColumns:a,view:o}=Object(tn.s)({courseId:e,paging:{limit:n}});return{columns:t(a),totalColumns:null!==(s=null===(i=null==o?void 0:o.paging)||void 0===i?void 0:i.count)&&void 0!==s?s:0,view:o}})(n,o,g);Object(s.useEffect)((()=>{if(null==x?void 0:x.isLoading)return;const e=((e,t,n)=>e.map((e=>({...e,checked:!!n||t.includes(e.value)}))))(k,r,c);y(e)}),[null==x?void 0:x.isLoading,null===(t=null==x?void 0:x.paging)||void 0===t?void 0:t.limit]);const C=Object(s.useCallback)((e=>{y((t=>{const n=e(t);return null==i||i(n),n}))}),[y,i]);return(null==x?void 0:x.isLoading)?s.createElement(v.AnalyticsCircularProgress,{ariaLabel:m(`${h}.MultiselectCheckbox.loading`),size:"small"}):s.createElement(s.Fragment,null,s.createElement(vt.N,{analyticsId:a,items:f,checkboxGroupLegendText:m(`${h}.header.title`),headerDescription:m(`${h}.header.description`),selectAllItemsLabel:m(`${h}.MultiselectCheckbox.selectAll.Label`),onChange:C,onChangeSelectAllItems:l}),S>50&&g!==S&&s.createElement(v.AnalyticsLink,{analyticsId:"course.grades.grades-download-settings.showMore",className:p.showMoreButton,component:"button",onClick:()=>{b(S)}},m("gradebook.grades-download.common.showMore")),d)},Xn=Object(ee.makeStyles)((e=>Object(ee.createStyles)({fileTypeDescription:{color:e.palette.text.secondary,marginBottom:"13px"}}))),ei=s.memo((e=>{const{analyticsId:t,delimiterType:n,onChangeDelimiterType:i}=e,a=Object(u.a)(),o=Xn(),r="gradebook.grades-download";return s.createElement(v.AnalyticsRadioGroup,{id:"gradesDownload.delimiterType.RadioGroup",analyticsId:`${t}.delimiterType.RadioGroup`,hasCustomLegend:!1,legendVariant:"h3",legendText:a(`${r}.delimiterType.LegendText`),value:n,onChange:e=>i(e.target.value)},s.createElement("span",{className:o.fileTypeDescription},a(`${r}.delimiterType.description`)),_n.map((e=>s.createElement(v.AnalyticsFormControlLabel,{key:e,value:e,htmlFor:`radio-${e}-id`,control:s.createElement(v.AnalyticsRadio,{analyticsId:`${t}.delimiterType.${e}.Radio`,id:`radio-${e}-id`}),label:a(`${r}.delimiterType.${e}.Label`),analyticsId:`course.grades.grades-download-settings.${e}.input.radio`}))))})),ti=Object(ee.makeStyles)((e=>Object(ee.createStyles)({switchControlRoot:{marginLeft:"auto"},switchFormControlLabelPlacementStart:{marginRight:"0"},switchFormControlLabel:{display:"flex",justifyContent:"space-between",marginLeft:"0"},switchFormControlLabelDisabled:{color:`${e.palette.primary.light}`},switchFormControlRoot:{width:"100%"}}))),ni=e=>{const{enableFlag:t,flagValue:n,setFlagValue:i,flagControlId:a,i18nFlagLabelKey:o,analyticsId:r,disabled:l}=e,c=Object(u.a)(),d=ti();return t?s.createElement("div",{className:"bottom-option stretch-message"},s.createElement(v.AnalyticsFormControl,{analyticsId:"record.details.extra.check.formControl",className:d.switchFormControlRoot},s.createElement(v.AnalyticsFormControlLabel,{analyticsId:"record.details.extra.check.formControlLabel",label:c(o),htmlFor:a,control:s.createElement(v.AnalyticsSwitch,{analyticsId:`${r}.switchExtraCheck`,id:a,checked:n,onChange:e=>{i(e.target.checked)},disabled:!!l,classes:{root:d.switchControlRoot}}),labelPlacement:"start",className:d.switchFormControlLabel,classes:{labelPlacementStart:d.switchFormControlLabelPlacementStart,label:d.switchFormControlLabelDisabled}}))):null},ii=Object(ee.makeStyles)((e=>Object(ee.createStyles)({contentCollection:{display:"flex",marginTop:"10px","& input":{border:"0",marginBottom:"0"},[e.breakpoints.down("xs")]:{flexDirection:"column"}},contentCollectionFormControl:{flex:"1",[e.breakpoints.down("xs")]:{marginBottom:"16px"}}}))),si=s.memo((e=>{const{analyticsId:t,saveLocation:n,contentCollectionUrl:i,onChangeSaveLocation:a,onChangeContentCollectionUrl:o}=e,r=Object(u.a)(),l=ii(),c="gradebook.grades-download",d=n===B.N.ContentCollection;return s.createElement(s.Fragment,null,s.createElement(v.AnalyticsRadioGroup,{id:"gradesDownload.saveLocation.RadioGroup",analyticsId:`${t}.saveLocation.RadioGroup`,hasCustomLegend:!1,legendVariant:"h3",legendText:r(`${c}.saveLocation.LegendText`),value:n,onChange:e=>a(e.target.value)},Hn.map((e=>s.createElement(v.AnalyticsFormControlLabel,{key:e,value:e,htmlFor:`radio-${e}-id`,control:s.createElement(v.AnalyticsRadio,{analyticsId:`course.grades.grades-download-settings.${e}.input.radio`,id:`radio-${e}-id`}),label:r(`${c}.saveLocation.${e}.Label`),analyticsId:`${t}.saveLocation.${e}.Label`})))),d&&s.createElement("div",{className:l.contentCollection},s.createElement(v.AnalyticsTextField,{analyticsId:"course.grades.grades-download-settings.content.collection.input.text",id:"content-collection-url-input",className:l.contentCollectionFormControl,value:i,onChange:e=>o(e.target.value)}),s.createElement(v.AnalyticsPrimaryButton,{analyticsId:"course.grades.grades-download-settings.browse",onClick:()=>{ot.bb.goPeekState({routeName:"content-collection-picker",getArgs:()=>({pickerType:"Folder",multi:"false"})})}},r(`${c}.saveLocation.browse`))))})),ai=Object(ee.makeStyles)((e=>Object(ee.createStyles)({messageFeedback:{color:e.palette.text.secondary}}))),oi=({enableFlag:e,messageKey:t})=>{const n=Object(u.a)(),i=ai();return e?s.createElement("div",{className:"bottom-option stretch"},s.createElement("span",{className:i.messageFeedback},n(t))):null},ri=e=>Object(ut.e)({styles:{backgroundColor:e.palette.border.main,margin:"20px 0"}}),li=({courseId:e,analyticsId:t,delimiterType:n,saveLocation:i,contentCollectionUrl:a,onChangeSaveLocation:o,onChangeContentCollectionUrl:r,onChangeDelimiterType:l,includeFeedbackFlag:c,setIncludeFeedbackFlag:d,includeFeedbackControlId:u,onChangeSelectedColumnItems:m,selectedColumnIds:p,onChangeSelectAllItems:h,selectAllItems:g})=>{const b=Object(ee.makeStyles)(ri)(),[f,v]=Object(s.useState)(!1),y="gradebook.grades-download.grade-history.RecordDetails",k=((e,t)=>{const n=Object(s.useCallback)((n=>{((e,t,n)=>{((e,t,n)=>{if(!e)return!1;let i=0;for(let s=0;s<e.length;s++)if(t(e[s])&&(i+=1,n(i)))return!0;return!1})(e,(e=>e.checked),(e=>e>1))?(t(!0),n(!1)):t(!1)})(n,e,t)}),[e,t]);return n})(v,d),x=Object(s.useCallback)((e=>{k(e),m(e)}),[k,m]);return s.createElement(s.Fragment,null,s.createElement(Yn,{courseId:e,analyticsId:t,selectedColumnIds:p,selectAllItems:g,onChange:x,converter:Qn,onChangeSelectAllItems:h},s.createElement(ni,{analyticsId:t,enableFlag:!0,flagControlId:u,flagValue:c,setFlagValue:d,disabled:f,i18nFlagLabelKey:`${y}.MultiselectCheckbox.includeFeedback.Label`}),s.createElement(oi,{messageKey:`${y}.MultiselectCheckbox.includeFeedback.FeedbackDescription`,enableFlag:f})),s.createElement(Nn.a,{className:b.styles}),s.createElement(ei,{analyticsId:t,delimiterType:n,onChangeDelimiterType:l}),s.createElement(Nn.a,{className:b.styles}),s.createElement(si,{analyticsId:t,saveLocation:i,contentCollectionUrl:a,onChangeSaveLocation:o,onChangeContentCollectionUrl:r}))},ci=s.memo((({options:e,analyticsId:t,defaultSelectedValue:n,onChange:i})=>{const a=Object(u.a)(),o="gradebook.grades-download.grade-history",[r,l]=Object(s.useState)(n);return s.createElement(v.AnalyticsTextField,{fullWidth:!0,className:"lastmodifiedDatePicker_Container",analyticsId:`${t}.lastmodifiedDatePicker`,id:"lastmodifiedDatePicker",select:!0,label:a(`${o}.lastmodifiedDatePicker.Label`),"aria-label":a(`${o}.lastmodifiedDatePicker.AriaLabel`),value:r,onChange:e=>{const t=e.target.value;l(t),i(t)}},e.map((e=>s.createElement(v.AnalyticsMenuItem,{button:!0,key:e.id,value:e.value,analyticsId:`${t}.lastmodifiedDatePicker.${e.value}`},a(`${o}.lastmodifiedDatePicker.${e.id}.Label`)))))})),di=({courseId:e,analyticsId:t,delimiterType:n,lastModifiedDate:i,onChangeDelimiterType:a,onChangeLastModifiedDate:o,includeDeletedItemsFlag:r,setIncludeDeletedItemsFlag:l,includeDeletedItemsControlId:c,saveLocation:d,contentCollectionUrl:u,onChangeSaveLocation:m,onChangeContentCollectionUrl:p,onChangeSelectedColumnItems:h,selectedColumnIds:g,onChangeSelectAllItems:b,selectAllItems:f})=>{const v=Object(ee.makeStyles)(ri)();return s.createElement(s.Fragment,null,s.createElement(Yn,{courseId:e,analyticsId:t,selectedColumnIds:g,selectAllItems:f,converter:Zn,onChangeSelectAllItems:b,onChange:h},s.createElement(ni,{analyticsId:t,enableFlag:!0,flagControlId:c,flagValue:r,setFlagValue:l,i18nFlagLabelKey:"gradebook.grades-download.grade-history.RecordDetails.MultiselectCheckbox.includeDeletedItems.Label"})),s.createElement(Nn.a,{className:v.styles}),s.createElement(ci,{analyticsId:t,defaultSelectedValue:i,options:Un,onChange:o}),s.createElement(Nn.a,{className:v.styles}),s.createElement(ei,{analyticsId:t,delimiterType:n,onChangeDelimiterType:a}),s.createElement(Nn.a,{className:v.styles}),s.createElement(si,{analyticsId:t,saveLocation:d,contentCollectionUrl:u,onChangeSaveLocation:m,onChangeContentCollectionUrl:p}))},ui=Object(ee.makeStyles)((e=>Object(ee.createStyles)({body:{marginTop:"22px",marginBottom:"48px",[e.breakpoints.down("xs")]:{marginTop:"0"}},divider:{...ri(e).styles}}))),mi=Object(ee.makeStyles)((()=>Object(ee.createStyles)({panelFooter:{position:"absolute",bottom:0,left:0,right:0,"& .ms-Panel-footer":{justifyContent:"center"}}}))),pi=e=>{const{onClickDownload:t,onClickCancel:n,isDownloadDisabled:i,isGradeHistory:a}=e,o=Object(u.a)(),r=mi(),l=a?"course.grades.grades-download.settings.gradeHistoryDownloadAction":"course.grades.grades-download.settings.downloadAction";return s.createElement("div",{className:r.panelFooter},s.createElement(h.BbPanelFooter,{primaryButtonProps:{text:o("gradebook.grades-download.footer.download"),onClick:t,disabled:i},secondaryButtonProps:{text:o("gradebook.grades-download.common.cancel"),onClick:n},analyticsId:l}))},hi="course.grade.gradesDownloadSettings.download",gi="gradebook.grades-download.download",bi=e=>{const{isOpen:t,isGradeHistory:n,onClose:i,onTryAgain:a}=e,o=Object(u.a)(),r=o(n?`${gi}.gradeHistoryFailed`:`${gi}.gradebookFailed`);return s.createElement(m.a,{open:t,onClose:i,"aria-labelledby":"download-grades-error-title","aria-describedby":"download-grades-error-modal",analyticsId:`${hi}.error.modal`},s.createElement(v.AnalyticsDialogTitle,{analyticsId:`${hi}.error.title`,onClose:i,id:"download-grades-error-title"},o(`${gi}.failedTitle`)),s.createElement(v.AnalyticsDialogContent,{analyticsId:`${hi}.error.content`},s.createElement(v.AnalyticsDialogContentText,{analyticsId:`${hi}.error.text`,id:"download-grades-error-modal"},r)),s.createElement(v.AnalyticsDialogActions,{analyticsId:`${hi}.error.actions`},s.createElement(v.AnalyticsDefaultButton,{analyticsId:`${hi}.cancel.button`,onClick:i},o("gradebook.grades-download.common.cancel")),s.createElement(v.AnalyticsPrimaryButton,{analyticsId:`${hi}.tryAgain.button`,onClick:a},o(`${gi}.tryAgain`))))},fi=(e,t)=>e&&t?B.K.HistoryLogAll:e&&!t?B.K.HistoryLog:t?B.K.All:B.K.ByColumns,vi=(e,t)=>{switch(e){case B.L.AllTime:t.setTime(0);break;case B.L.FourteenDays:t.setDate(t.getDate()-14);break;case B.L.OneDay:t.setDate(t.getDate()-1);break;case B.L.SevenDays:t.setDate(t.getDate()-7);break;case B.L.SixMonths:t.setDate(t.getDate()-180);break;case B.L.ThirtyDays:t.setDate(t.getDate()-30)}return t};var yi=n("AYd1"),ki=n("Y+9S");const xi=e=>{const{courseId:t,analyticsId:n}=e,i=ui(),a=Object(u.a)(),[o,l]=Object(s.useState)(Fn.Gradebook),[c,d]=Object(s.useState)(B.L.AllTime),[m,p]=Object(s.useState)(!1),[g,b]=Object(s.useState)(!1),[f,v]=Object(s.useState)([]),[y,k]=Object(s.useState)(B.M.Tab),[x,S]=Object(s.useState)(B.N.MyDevice),[C,E]=Object(s.useState)(""),[I,w]=Object(s.useState)(!1),[A,O]=Object(s.useState)(!1),[D,T]=Object(s.useState)(!1),P=gn(t),$=o===Fn.GradeHistory;(e=>{const t=Object(r.e)((e=>M.gc.app.getRoute(e).name)),n=Object(s.useCallback)((n=>{if("classic-picker-submit"===n.data.messageId&&(t.endsWith("peek.content-collection-picker")&&ot.bb.leavePeekState(t),n.data.items.length)){const t=n.data.items[0];e(t.filePath)}"classic-picker-cancel"===n.data.messageId&&t.endsWith("peek.content-collection-picker")&&ot.bb.leavePeekState(t)}),[t]);Object(s.useEffect)((()=>(window.addEventListener("message",n),()=>{window.removeEventListener("message",n)})),[n])})(E);const{enqueueSnackbar:G}=Object(vt.rb)(vt.S.GradesDownloadToasts,!1),j=Object(s.useCallback)((e=>{l(e),v([]),p(!1),b(!1),O(!1)}),[]),L=Object(s.useCallback)((e=>{k(e)}),[k]),N=Object(s.useCallback)((e=>{S(e)}),[S]),R=Object(s.useCallback)((e=>{E(e)}),[E]),F=Object(s.useCallback)((e=>{d(e)}),[d]),V=Object(s.useCallback)((e=>{v((e=>e.filter((e=>e.checked)).map((e=>e.value)))(e))}),[v]),_=Object(s.useCallback)((e=>{O(e)}),[O]),U=async()=>{Object(ki.o)(ki.c.GradeBookDownloadButtonClicked);const e={icon:s.createElement(yi.a,null),snackbarMessage:a("gradebook.grades-download.download.successful"),isPersistent:!1},n={closeButtonAriaLabel:a("gradebook.grades-download.download.closeSnackbarAriaLabel")},i={delimiterType:y,downloadTo:x,dataScopeType:fi($,A),contentCollectionUrl:C,columnIds:A?void 0:f,isShowComments:!!$||g,lastModifiedDate:$?vi(c,new Date):void 0,isDeletedItemsIncluded:!!$&&m};T(!0);try{const s=await Object(M.ac)(t,i);"SUCCESS"===s.responseCode?(G(e,n),x===B.N.MyDevice&&s.downloadUrl&&(e=>{const t=Object(Wn.n)();window.location.href=t+e})(s.downloadUrl),ot.bb.leavePeekState()):w(!0)}catch(e){w(!0)}finally{T(!1)}};return s.createElement(s.Fragment,null,s.createElement("div",{className:"panel-wrap"},s.createElement("div",{className:"panel-header simple-header"},s.createElement(h.BbPanelHeader,{title:a("gradebook.grades-download.header.title"),smallHeaderTitle:null==P?void 0:P.displayName,type:h.BbPanelType.peek,analyticsId:`${n}.header`,hideNavMenu:!0})),s.createElement("div",{className:`panel-body panel-content ${i.body}`},s.createElement(zn,{analyticsId:n,gradeOption:o,onChangeGradeOption:j}),s.createElement(Nn.a,{className:i.divider}),!$&&s.createElement(li,{courseId:t,analyticsId:n,delimiterType:y,saveLocation:x,selectedColumnIds:f,contentCollectionUrl:C,selectAllItems:A,onChangeDelimiterType:L,includeFeedbackFlag:g,setIncludeFeedbackFlag:b,includeFeedbackControlId:"include-feedback",onChangeSaveLocation:N,onChangeContentCollectionUrl:R,onChangeSelectedColumnItems:V,onChangeSelectAllItems:_}),$&&s.createElement(di,{courseId:t,analyticsId:n,delimiterType:y,lastModifiedDate:c,selectAllItems:A,onChangeDelimiterType:L,onChangeLastModifiedDate:F,includeDeletedItemsFlag:m,setIncludeDeletedItemsFlag:p,includeDeletedItemsControlId:"include-deleteditems",saveLocation:x,contentCollectionUrl:C,selectedColumnIds:f,onChangeSaveLocation:N,onChangeContentCollectionUrl:R,onChangeSelectedColumnItems:V,onChangeSelectAllItems:_}))),s.createElement(pi,{onClickCancel:()=>{ot.bb.leavePeekState()},onClickDownload:()=>U(),isDownloadDisabled:(()=>{const e=f.length;return!!(D||0===e&&!m||x===B.N.ContentCollection&&""===C)})(),isGradeHistory:$}),s.createElement(bi,{isOpen:I,isGradeHistory:$,onClose:()=>w(!1),onTryAgain:()=>{w(!1),U()}}))},Si={marginRight:"8px",marginBottom:"8px",height:"29px"},Ci=Object(ee.makeStyles)((()=>Object(ee.createStyles)({skeletonChip:{...Si,backgroundColor:"rgba(0, 0, 0, 0.3 )",display:"inline-flex",width:"80px",borderRadius:"16px",transform:"initial"}}))),Ei=()=>{const e=Ci();return s.createElement(ee.Skeleton,{className:e.skeletonChip})},Ii=e=>{const{formatUsername:t}=Object(W.a)(),{userNameFormat:n,analyticsId:i,membershipId:a,courseId:o,onDelete:l,className:c}=e,d=Object(s.useCallback)((()=>l(a)),[l,a]),u=((e,t)=>{const n=Object(r.d)(),i=Object(r.e)((e=>M.gc.courseMembership.getCourseMembershipByMembershipId(e,t)));Object(s.useEffect)((()=>{i&&i.userId||n(M.X.courseMembership.loadCourseMembershipByMemberId(e,t))}),[n,t,e,i]);const a=Object(r.e)((e=>{let t=null==i?void 0:i.user;return t||(t=M.gc.user.getUserById(e,null==i?void 0:i.userId)),t})),o=null==i?void 0:i.userId;return Object(s.useEffect)((()=>{o&&!a&&n(M.X.user.loadUser(o))}),[n,a,o]),a})(o,a);return u?s.createElement(v.AnalyticsChip,{analyticsId:i,disabled:!u,className:c,label:t(u,n||Et.ILocaleUsernameFormat.Short),onDelete:d}):s.createElement(Ei,null)},wi=e=>{const{analyticsId:t,courseId:n,groupId:i,onDelete:a,className:o}=e,l=Object(s.useCallback)((()=>a(i)),[a,i]),c=((e,t)=>{const n=Object(r.d)(),i=Object(r.e)((e=>M.gc.group.getGroupByGroupId(e,t)));return Object(s.useEffect)((()=>{i||n(M.X.group.loadGroupById(e,t))}),[n,i,t,e]),i})(n,i);return c?s.createElement(v.AnalyticsChip,{analyticsId:t,disabled:!c,label:c.title,onDelete:l,className:o}):s.createElement(Ei,null)},Ai=e=>{const{analyticsId:t,courseId:n,columnId:i,onDelete:a,className:o}=e,l=Object(s.useCallback)((()=>a(i)),[a,i]),c=((e,t)=>{const n=Object(r.d)(),i=Object(r.e)((e=>M.gc.gradebookColumn.getGradebookColumnById(e,t)));return Object(s.useEffect)((()=>{i||n(M.X.gradebookColumn.loadGradebookColumn({courseId:e,columnId:t}))}),[n,i,t,e]),i})(n,i);return c?s.createElement(v.AnalyticsChip,{analyticsId:t,disabled:!c,className:o,label:c.columnName,onDelete:l}):s.createElement(Ei,null)},Oi=e=>{const{analyticsId:t,categoryId:n,onDelete:i,className:a}=e,o=Object(u.a)(),l=Object(s.useCallback)((()=>i(n)),[i,n]),c=Object(r.e)((e=>M.gc.gradebookCategory.getGradebookCategoryById(e,n)));return c?s.createElement(v.AnalyticsChip,{analyticsId:t,disabled:!c,className:a,label:wn(c,o),onDelete:l}):s.createElement(Ei,null)},Di=e=>{const{analyticsId:t,parentCourseId:n,childCourseId:i,onDelete:a,className:o}=e,l=Object(s.useCallback)((()=>a(i)),[a,i]),c=((e,t)=>{const n=Object(r.d)(),i=Object(r.e)((e=>M.gc.courseChildren.byChildCourseId(e,t)));return Object(s.useEffect)((()=>{i||n(M.X.courseChildren.loadChildCourse(e,t))}),[n,e,t,i]),i})(n,i);return(null==c?void 0:c.childCourse)?s.createElement(v.AnalyticsChip,{analyticsId:t,disabled:!c,label:c.childCourse.name,onDelete:l,className:o}):s.createElement(Ei,null)},Ti={marginRight:"8px",marginBottom:"8px",height:"29px"},Pi=Object(ee.makeStyles)((e=>Object(ee.createStyles)({filterChips:{display:"flex",flexWrap:"wrap",marginTop:"8px"},filtersApplied:{...Ti,fontWeight:e.typography.fontWeightSemiBold},clearFilters:{...Ti},chip:{paddingTop:"7px",backgroundColor:"rgba(0, 0, 0, 0.3 )",...Ti},chipButton:{marginBottom:"-4px"}})));function $i(e,t){return e.filter((e=>e!==t))}const Gi=e=>{const{courseId:t,analyticsId:n,membershipIds:i,onMembershipIdsChanged:a,groupIds:o,onGroupIdsChanged:r,gradeColumnIds:l,onGradeColumnIdsChanged:c,gradeCategoryIds:d,onGradeCategoryIdsChanged:m,childCourseIds:p,onChildCourseIdsChanged:h,onClearAllFilters:g}=e,b=Pi(),f=Object(u.a)(),y=Object(s.useCallback)((e=>a($i(i,e))),[a,i]),k=i.map(((e,i)=>s.createElement(Ii,{analyticsId:`${n}.courseMember.chip.${i}`,courseId:t,membershipId:e,onDelete:y,key:e,className:b.chip}))),x=Object(s.useCallback)((e=>r($i(o,e))),[r,o]),S=o.map(((e,i)=>s.createElement(wi,{analyticsId:`${n}.group.chip.${i}`,courseId:t,groupId:e,onDelete:x,key:e,className:b.chip}))),C=Object(s.useCallback)((e=>{c($i(l,e))}),[l,c]),E=l.map(((e,i)=>s.createElement(Ai,{key:e,columnId:e,courseId:t,analyticsId:`${n}.gradeColumn.chip.${i}`,onDelete:C,className:b.chip}))),I=Object(s.useCallback)((e=>{m($i(d,e))}),[d,m]),w=d.map(((e,i)=>s.createElement(Oi,{key:i,analyticsId:`${n}.gradeColumn.chip.${i}`,onDelete:I,courseId:t,categoryId:e,className:b.chip}))),A=Object(s.useCallback)((e=>{h($i(p,e))}),[p,$i]),O=p.map(((e,i)=>s.createElement(Di,{key:i,analyticsId:`${n}.gradeColumn.chip.${i}`,onDelete:A,parentCourseId:t,childCourseId:e,className:b.chip}))),D=f("gradebook.filterChips.filtersApplied"),T=f("gradebook.filterChips.clearAll");return s.createElement("div",{className:b.filterChips},s.createElement("span",{className:b.filtersApplied},D),k,S,E,w,O,s.createElement(v.AnalyticsLink,{className:b.clearFilters,variant:"button",analyticsId:`${n}.clearAllFilters`,onClick:g,tabIndex:0,"aria-label":T,href:"#"},T))},ji=e=>{var t,n,i,a,o;const l=Object(r.e)((e=>{var t;return null===(t=M.gc.app.getRoute(e).params)||void 0===t?void 0:t.courseId})),c=Object(r.e)((e=>M.gc.app.getLocation(e).queryParams)),d=[null==c?void 0:c.gradebookView,null==c?void 0:c.memberId,null==c?void 0:c.courseGroupId,null==c?void 0:c.gradebookColumnId,null==c?void 0:c.gradebookCategoryId,null==c?void 0:c.childCourseId],u=(null===(t=null==c?void 0:c.memberId)||void 0===t?void 0:t.split(","))||[],m=(null===(n=null==c?void 0:c.courseGroupId)||void 0===n?void 0:n.split(","))||[],p=(null===(i=null==c?void 0:c.gradebookColumnId)||void 0===i?void 0:i.split(","))||[],h=(null===(a=null==c?void 0:c.gradebookCategoryId)||void 0===a?void 0:a.split(","))||[],g=(null===(o=null==c?void 0:c.childCourseId)||void 0===o?void 0:o.split(","))||[];Pn(l);const b=Object(s.useCallback)((e=>{const t={...c,memberId:e.length>0?e.join(","):void 0};ot.bb.search(t)}),d),f=Object(s.useCallback)((e=>{const t={...c,courseGroupId:e.length>0?e.join(","):void 0};ot.bb.search(t)}),d),v=Object(s.useCallback)((e=>{const t={...c,gradebookColumnId:e.length>0?e.join(","):void 0};ot.bb.search(t)}),d),y=Object(s.useCallback)((e=>{const t={...c,gradebookCategoryId:e.length>0?e.join(","):void 0};ot.bb.search(t)}),d),k=Object(s.useCallback)((e=>{const t={...c,childCourseId:e.length>0?e.join(","):void 0};ot.bb.search(t)}),d),x=Object(s.useCallback)((()=>{const e={...c,memberId:void 0,courseGroupId:void 0,gradebookColumnId:void 0,gradebookCategoryId:void 0,childCourseId:void 0};ot.bb.search(e)}),d);return s.createElement(Gi,{courseId:l,membershipIds:u,groupIds:m,gradeColumnIds:p,gradeCategoryIds:h,childCourseIds:g,analyticsId:e.analyticsId,onMembershipIdsChanged:b,onGroupIdsChanged:f,onGradeColumnIdsChanged:v,onGradeCategoryIdsChanged:y,onChildCourseIdsChanged:k,onClearAllFilters:x})};var Li=n("UE5/"),Ni=n("jZnR");const Bi=Object(Li.a)((e=>Object(Ni.a)({categoryRuleHeader:{display:"block",fontSize:e.typography.fontSizeLarge,fontWeight:e.typography.fontWeightSemiBold,marginBottom:"16px"},categoryRuleDescription:{display:"block",fontSize:e.typography.fontSizeSmall,marginTop:"8px"},dropLabel:{display:"flex",alignItems:"center",marginLeft:"20px",flexWrap:"wrap",marginTop:"15px",fontWeight:e.typography.fontWeightRegular},dropScoreInformation:{color:e.palette.text.hint,fontSize:e.typography.fontSizeSmall,fontStyle:"italic",marginLeft:"20px"},dropScoresErrorMessage:{fontSize:e.typography.fontSizeSmall,color:e.palette.error.main},minOrMaxRadio:{display:"block",marginLeft:"20px"},numberInput:{width:"50px",margin:"0 10px"},radio:{marginTop:"16px",display:"block"},radioDescription:{marginLeft:"20px",fontSize:e.typography.fontSizeSmall,marginBottom:"6px"},radioLabel:{fontWeight:e.typography.fontWeightSemiBold},tooManyItemsDroppedErrorMessage:{color:e.palette.error.main,fontSize:e.typography.fontSizeSmall,marginLeft:"20px"}})));var Mi,Ri=n("9EWH");!function(e){e.DropScores="DROP_SCORES",e.GradeCalculationUseOnlyOption="USE_ONLY"}(Mi||(Mi={}));const Fi=(e,t)=>{var n,i,s;let a=(null==e?void 0:e.dropLow)||(null==e?void 0:e.dropHigh)?Mi.DropScores:null;null===a&&(a=(null==e?void 0:e.useOnly)?Mi.GradeCalculationUseOnlyOption:null);const o={dropLow:null!==(n=null==e?void 0:e.dropLow)&&void 0!==n?n:0,dropHigh:null!==(i=null==e?void 0:e.dropHigh)&&void 0!==i?i:0,useOnly:null!==(s=null==e?void 0:e.useOnly)&&void 0!==s?s:null};return{enabled:!!a,selectedRuleType:a,rules:{...o},numGradableItems:null!=t?t:0,initialState:{enabled:!!a,selectedRuleType:a,rules:{...o}}}},Vi="TOGGLE_ENABLED",_i="SELECT_RULE",Ui="SET_DROP_LOW",Hi="SET_DROP_HIGH",zi="SET_USE_ONLY",qi="INITIALIZE_STATE",Wi="ROLLBACK_INITIAL_STATE",Ki={dropHigh:0,dropLow:0,useOnly:null},Ji=(e,t)=>{if(t.type===Vi)return Object(Ri.b)(e,(t=>{t.enabled=!e.enabled,t.selectedRuleType=null,t.rules=Ki}));if(t.type===_i)return Object(Ri.b)(e,(e=>{e.selectedRuleType=t.payload.ruleType,e.rules=Ki}));if(t.type===Ui)return Object(Ri.b)(e,(e=>{e.rules.dropLow=t.payload.dropLow}));if(t.type===Hi)return Object(Ri.b)(e,(e=>{e.rules.dropHigh=t.payload.dropHigh}));if(t.type===zi)return Object(Ri.b)(e,(e=>{e.rules.useOnly=t.payload.useOnly}));if(t.type===qi)return Fi(t.payload.rules,t.payload.numGradableItems);if(t.type===Wi){const t=e.initialState;return Object(Ri.b)(e,(e=>{e.enabled=t.enabled,e.rules=t.rules,e.selectedRuleType=t.selectedRuleType}))}return e},Qi=s.createContext({calculationRule:Fi(void 0,0),dispatch:e=>{}}),Zi=()=>s.useContext(Qi),Yi=({calculationRule:e,numGradableItems:t,children:n})=>{const[i,a]=s.useReducer(Ji,Fi(e,t));return s.useEffect((()=>{a(ss(e,t))}),[e,t]),s.createElement(Qi.Provider,{value:{calculationRule:i,dispatch:a}},n)},Xi=e=>!e.enabled||(e.selectedRuleType===Mi.DropScores?(e=>{var t,n;if(null===e.rules.dropLow||null===e.rules.dropHigh)return!1;const i=null!==(t=e.rules.dropHigh)&&void 0!==t?t:0,s=null!==(n=e.rules.dropLow)&&void 0!==n?n:0;return!(!Number.isInteger(i)||!Number.isInteger(s)||i<0||s<0||0===s&&0===i)})(e):e.selectedRuleType===Mi.GradeCalculationUseOnlyOption&&!!e.rules.useOnly),es=e=>{var t,n;return(null!==(t=e.rules.dropHigh)&&void 0!==t?t:0)+(null!==(n=e.rules.dropLow)&&void 0!==n?n:0)+1},ts=()=>e=>null!=e&&!!Number.isInteger(e),ns=e=>{const t=e.initialState;return e.enabled!==t.enabled||(e.selectedRuleType!==t.selectedRuleType||(e.rules.dropHigh!==t.rules.dropHigh||(e.rules.dropLow!==t.rules.dropLow||e.rules.useOnly!==t.rules.useOnly)))},is=e=>({type:_i,payload:{ruleType:e}}),ss=(e,t)=>({type:qi,payload:{rules:e,numGradableItems:t}}),as=()=>({type:Wi}),os=()=>{var e,t;const n=Bi(),{calculationRule:i,dispatch:a}=Zi(),o=Object(u.a)(),r=s.useCallback((()=>i.selectedRuleType===Mi.DropScores),[i]),l=r()&&s.createElement(vt.G,{ariaDescribedBy:"drop-scores-message",ariaLabel:o("gradebook.overallGradeCalculationPanel.dropLowestScores"),analyticsId:"features.course.grades.overall-grade.calculation-rule-panel.dropLow.number.input",className:Object(J.a)(n.numberInput,"js-drop-low-scores-input"),min:0,onChange:e=>a({type:Ui,payload:{dropLow:e}}),value:null!==(e=i.rules.dropLow)&&void 0!==e?e:null,validate:ts(),required:!1,hideErrorMessage:!0}),c=r()&&s.createElement(vt.G,{ariaDescribedBy:"drop-scores-message",ariaLabel:o("gradebook.overallGradeCalculationPanel.dropHighestScores"),analyticsId:"features.course.grades.overall-grade.calculation-rule-panel.dropHigh.number.input",className:Object(J.a)(n.numberInput,"js-drop-high-scores-input"),min:0,onChange:e=>a({type:Hi,payload:{dropHigh:e}}),value:null!==(t=i.rules.dropHigh)&&void 0!==t?t:null,validate:ts(),required:!1,hideErrorMessage:!0});return s.createElement(s.Fragment,null,s.createElement(v.AnalyticsFormControlLabel,{analyticsId:"features.course.grades.overall-grade.calculation-rule-panel.dropScores.radio.label",checked:r(),className:Object(J.a)(n.radio,"js-drop-scores-radio"),control:s.createElement(v.AnalyticsRadio,{analyticsId:"features.course.grades.overall-grade.calculation-rule-panel.dropScores.radio",id:Mi.DropScores}),disabled:!i.enabled,htmlFor:Mi.DropScores,label:s.createElement("span",{className:n.radioLabel},o("gradebook.overallGradeCalculationPanel.dropScoresTitle")),onChange:e=>a(is(e.target.value)),value:Mi.DropScores}),s.createElement("p",{className:n.radioDescription},o("gradebook.overallGradeCalculationPanel.dropScoresDescription")),r()&&s.createElement(s.Fragment,null,(!!(d=i).rules.dropLow&&d.rules.dropLow>0||!!d.rules.dropHigh&&d.rules.dropHigh>0)&&i.numGradableItems<es(i)&&s.createElement("p",{className:Object(J.a)(n.tooManyItemsDroppedErrorMessage,"js-too-many-items-message"),id:"drop-scores-message"},o("gradebook.overallGradeCalculationPanel.tooManyItemsDroppedWarning",{minGradableItems:es(i)})),s.createElement(v.AnalyticsInputLabel,{className:n.dropLabel,analyticsId:"features.course.grades.overall-grade.calculation-rule-panel.dropLow.number.input.label"},o("gradebook.overallGradeCalculationPanel.dropLowestScores",{numberInput_LOCALIZED:l})),s.createElement(v.AnalyticsInputLabel,{className:n.dropLabel,analyticsId:"features.course.grades.overall-grade.calculation-rule-panel.dropHigh.number.input.label","aria-describedby":"drop-scores-message"},o("gradebook.overallGradeCalculationPanel.dropHighestScores",{numberInput_LOCALIZED:c}))));var d};class rs{constructor(e){this.exclude_alias=e}}class ls{constructor(){this.type="item",this.alias=""}}var cs,ds;!function(e){e.UseMinScore="min",e.UseMaxScore="max"}(cs||(cs={})),function(e){e.UseLowestScore="LOWEST",e.UseHighestScore="HIGHEST",e.Default="DEFAULT"}(ds||(ds={}));class us{constructor(){this.element=new ls,this.weight=0}}const ms=(e=[],{average:t=!1}={})=>({average:t,elements:e});class ps{constructor(e=[],{running:t=!0}={}){this.weights=e,this.running=t}static is(e){return!!e&&(e instanceof ps||"weights"in e)}}class hs{constructor(e=ms(),{running:t=!0}={}){this.selected=e,this.running=t}static is(e){return!!e&&(e instanceof hs||"selected"in e)}}class gs{constructor({aliases:e,formula:t},n){var i,s;this.aliases=e,this.formula=t;const a=[];for(let e=0;e<=n.length;e++){const t=n.item(e);if(t)switch(t.nodeName){case"ci":case"mi":{const[,e]=null!==(s=/^@X@BBCalColElem\([^:]+:(.*)\)@X@$/.exec(null!==(i=t.textContent)&&void 0!==i?i:""))&&void 0!==s?s:[];try{const t=JSON.parse(e);"running"in t&&a.push(t.running)}catch(t){console.warn("Invalid non-JSON function body",e)}break}}}this.running=0===a.length||a.some((e=>!1!==e))}static is(e){return!!e&&(e instanceof gs||"formula"in e)}}function bs(e,t){return ps.is(e)?t.weighted(e):hs.is(e)?t.sumSelected(e):t.advanced(e)}const fs=()=>{const e=Object(u.a)(),t=Bi(),{calculationRule:n,dispatch:i}=Zi(),a=e=>{var t;i((t=e.target.value,{type:zi,payload:{useOnly:t}}))};return s.createElement("div",null,s.createElement(v.AnalyticsFormControlLabel,{analyticsId:"features.course.grades.overall-grade.calculation-rule-panel.useOnly.radio.label",checked:n.selectedRuleType===Mi.GradeCalculationUseOnlyOption,className:Object(J.a)(t.radio,"js-overall-grade-use-only-radio"),control:s.createElement(v.AnalyticsRadio,{analyticsId:"features.course.grades.overall-grade.calculation-rule-panel.useOnly.radio",id:Mi.GradeCalculationUseOnlyOption}),disabled:!n.enabled,htmlFor:Mi.GradeCalculationUseOnlyOption,label:s.createElement("span",{className:t.radioLabel},e("gradebook.overallGradeCalculationPanel.useOnlyTitle")),onChange:e=>i(is(e.target.value)),value:Mi.GradeCalculationUseOnlyOption}),s.createElement("p",{className:t.radioDescription},e("gradebook.overallGradeCalculationPanel.useOnlyDescription")),n.selectedRuleType===Mi.GradeCalculationUseOnlyOption&&s.createElement(s.Fragment,null,s.createElement(v.AnalyticsFormControlLabel,{analyticsId:"features.course.grades.overall-grade.calculation-rule-panel.min.radio.label",checked:n.rules.useOnly===cs.UseMinScore,className:Object(J.a)(t.minOrMaxRadio,"js-use-only-lowest-grade"),control:s.createElement(v.AnalyticsRadio,{analyticsId:"features.course.grades.overall-grade.calculation-rule-panel.min.radio",id:cs.UseMinScore}),htmlFor:cs.UseMinScore,label:e("gradebook.overallGradeCalculationPanel.useOnlyLowest"),onChange:a,value:cs.UseMinScore}),s.createElement(v.AnalyticsFormControlLabel,{analyticsId:"features.course.grades.overall-grade.calculation-rule-panel.max.radio.label",checked:n.rules.useOnly===cs.UseMaxScore,className:Object(J.a)(t.minOrMaxRadio,"js-use-only-highest-grade"),control:s.createElement(v.AnalyticsRadio,{analyticsId:"features.course.grades.overall-grade.calculation-rule-panel.max.radio",id:cs.UseMaxScore}),htmlFor:cs.UseMaxScore,label:e("gradebook.overallGradeCalculationPanel.useOnlyHighest"),onChange:a,value:cs.UseMaxScore})))},vs=()=>{const e=Bi(),{calculationRule:t,dispatch:n}=Zi(),i=Object(u.a)();return s.createElement("div",null,s.createElement("span",{className:e.categoryRuleHeader},i("gradebook.overallGradeCalculationPanel.categoryCalculationRuleTitle")),s.createElement(v.AnalyticsFormControlLabel,{analyticsId:"features.course.grades.overall-grade.calculation-rule-panel.enable.switch.label",checked:!!t.enabled,className:"js-enable-calculation-rule",control:s.createElement(v.AnalyticsSwitch,{analyticsId:"features.course.grades.overall-grade.calculation-rule-panel.enable.switch",id:"enable"}),htmlFor:"enable",label:i("gradebook.overallGradeCalculationPanel.enableCalculationRule"),onChange:()=>n({type:Vi})}),s.createElement("span",{className:e.categoryRuleDescription},i("gradebook.overallGradeCalculationPanel.categoryCalculationRuleDescription")),s.createElement("span",{className:e.categoryRuleDescription},i("gradebook.overallGradeCalculationPanel.categoryCalculationRuleDescriptionXPlus1Rule")),s.createElement(os,null),s.createElement(fs,null))},ys=Object(Li.a)((e=>Object(Ni.a)({ruleButton:{fontSize:"12px",minHeight:"unset"},ruleText:{flexShrink:0},warning:{color:e.palette.error.main,"&:hover, &:focus, &:active":{color:e.palette.error.main}}}))),ks=e=>{var t,n;if(!e)return!1;const i=null!==(t=e.dropLow)&&void 0!==t?t:0,s=null!==(n=e.dropHigh)&&void 0!==n?n:0;return i>0||s>0||!!e.useOnly},xs=(e,t)=>{var n,i;if(!ks(t))return!1;const s=null!==(n=t.dropLow)&&void 0!==n?n:0,a=null!==(i=t.dropHigh)&&void 0!==i?i:0;return s>0||a>0?s+a>=e:!t.useOnly},Ss=({ButtonProps:e,calculationRule:t,numGradableItemsInCategory:n})=>{const i=Object(u.a)(),a=ys(),o=((e,t)=>xs(e,t)?I.AlertError:ks(t)?I.Edit:I.Add)(n,t),r=((e,t)=>{var n,i;if((null==e?void 0:e.dropLow)||(null==e?void 0:e.dropHigh))return t("course.grades.overallGrade.editDropScores.plural",{numOfDrops:Number(null!==(n=e.dropLow)&&void 0!==n?n:0)+Number(null!==(i=e.dropHigh)&&void 0!==i?i:0)});let s="";return s=(null==e?void 0:e.useOnly)?e.useOnly===cs.UseMaxScore?"course.grades.overallGrade.useOnlyHighest":"course.grades.overallGrade.useOnlyLowest":"course.grades.overallGrade.editCalculationRules",t(s)})(t,i),l=xs(n,t);return s.createElement(v.AnalyticsIconButton,{...e,className:Object(J.a)(a.ruleButton,{[a.warning]:l},null==e?void 0:e.className),analyticsId:"course.grades.overallGrade.editCalculationRule"},s.createElement(o,null),s.createElement(v.AnalyticsTypography,{className:a.ruleText,component:"span",variant:"inherit"},r))};function Cs(e){if(!e.formula||""===e.formula)return null;const t=(new DOMParser).parseFromString(e.formula,"text/xml").children[0];if("math"!==t.nodeName)return null;const n=t.childNodes;if(0===n.length)return null;if(n.length>1||-1===["ci","mi"].indexOf(n[0].nodeName))return new gs(e,n);const i=n[0];switch(i.nodeName){case"ci":case"mi":{if(null===i.textContent)return null;const t=/^@X@BBCalColElem\(([^:]+):(.*)\)@X@$/.exec(i.textContent);if(null===t)return null;const[,s,a]=t;try{const t=JSON.parse(a);if("sum"===s){return t.selected.elements.some((e=>"equal"===e.mode))?new gs(e,n):new hs(t.selected,{running:t.running})}return"wgt"===s?new ps(t.weights,{running:t.running}):new gs(e,n)}catch(e){return console.error(e),null}}}return null}function Es(e,t,n=Object.keys(t.reduce(((e,t)=>t.gradebookCategoryId?{...e,[t.gradebookCategoryId]:null}:e),{}))){var i;const s=null!==(i=null==e?void 0:e.aliases)&&void 0!==i?i:{},a=e?Cs(e):null,o=a?bs(a,{weighted:e=>e.weights.map((e=>e.element)),sumSelected:e=>e.selected.elements,advanced:()=>[]}):[],r=o.reduce(((e,t)=>"cat"===t.type?{...e,[s[t.alias]]:t}:e),{}),l=o.reduce(((e,t)=>"item"===t.type?{...e,[s[t.alias]]:t}:e),{}),c=ps.is(a)?a.weights.reduce(((e,t)=>({...e,[t.element.alias]:t.weight})),{}):{},d=t.filter((e=>!l[e.id])),u=(e,t,{isExempted:n}={})=>{var i,s,a;const o=e.id;if(!o)return null;const r=null!==(s=null===(i=null==t?void 0:t.exclude_list)||void 0===i?void 0:i.map((e=>e.exclude_alias)))&&void 0!==s?s:[];return{column:e,el:t,id:o,isCalculation:e.calculationType!==B.p.NonCalculated,isUncategorizedItem:void 0===e.gradebookCategoryId,isCategory:!1,isExempted:null!=n?n:!!t&&!!r.includes(t.alias),weight:t&&null!==(a=c[t.alias])&&void 0!==a?a:0}},m=n.map((e=>e?((e,t)=>{var n,i,o,r,l,m;const p=null!==(i=null===(n=null==t?void 0:t.exclude_list)||void 0===n?void 0:n.map((e=>e.exclude_alias)))&&void 0!==i?i:[],h=p.filter((e=>e!==(null==t?void 0:t.alias))).map((e=>s[e]));return{calculationRule:{dropLow:Number(null!==(o=null==t?void 0:t.drop_low)&&void 0!==o?o:0),dropHigh:Number(null!==(r=null==t?void 0:t.drop_high)&&void 0!==r?r:0),useOnly:null!==(l=null==t?void 0:t.maxmin)&&void 0!==l?l:null},el:t,id:e,isCalculation:!1,isCategory:!0,isUncategorizedItem:!1,isExempted:t&&!!p.includes(t.alias)||hs.is(a)&&void 0===t,weight:t&&null!==(m=c[t.alias])&&void 0!==m?m:0,childGradeItems:d.filter((t=>t.gradebookCategoryId===e)).map((e=>u(e,void 0,{isExempted:!!h.find((t=>t===e.id))}))).filter((e=>null!==e))}})(e,r[e]):null)),p=Object.values(l).map((e=>({el:e,column:t.find((t=>t.id===s[e.alias]))}))).map((({column:e,el:t})=>void 0!==e?u(e,t):null)),h=t.filter((e=>e.calculationType!==B.p.NonCalculated&&!e.externalGrade&&!l[e.id])).map((e=>u(e))),g=t.filter((e=>!e.gradebookCategoryId&&e.calculationType===B.p.NonCalculated&&!e.externalGrade&&!l[e.id])).map((e=>u(e)));return{items:m.concat(p).concat(h).concat(g).filter((e=>!!e)),formula:a}}function Is(e,t,n){return{formula:`<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>@X@BBCalColElem(${e}:${JSON.stringify(t)})@X@</mi></math>`,aliases:n}}function ws(e){const t=e.id.split("_")[1];return e.isCategory?`c_${t}`:`i_${t}`}function As(e){return e.reduce((({aliases:t,elements:n},i)=>{var s,a,o,r,l;const c=new ls;if(c.alias=ws(i),c.exclude_list=[],t[c.alias]=i.id,i.isExempted&&(null===(s=c.exclude_list)||void 0===s||s.push(new rs(c.alias))),i.isCategory){c.type="cat";const n=i.calculationRule;if(n&&((null!==(a=n.dropLow)&&void 0!==a?a:0)>0&&(c.drop_low=String(null==n?void 0:n.dropLow)),(null!==(o=n.dropHigh)&&void 0!==o?o:0)>0&&(c.drop_high=String(null==n?void 0:n.dropHigh)),n.useOnly&&(c.maxmin=n.useOnly)),!i.isExempted){const n=e.filter((e=>!e.isCategory)).filter((e=>{var t;return(null===(t=e.column)||void 0===t?void 0:t.gradebookCategoryId)===i.id}));(null!==(r=i.childGradeItems)&&void 0!==r?r:[]).filter((e=>e.isExempted)).concat(n).forEach((e=>{var n;const i=ws(e);t[i]=e.id,null===(n=c.exclude_list)||void 0===n||n.push(new rs(i))}))}}else c.type="item";return(null===(l=c.exclude_list)||void 0===l?void 0:l.length)||(c.exclude_list=void 0),{aliases:t,elements:[...n,c]}}),{aliases:{},elements:[]})}function Os(e,t){const n=new ps;n.running=t;const{aliases:i,elements:s}=As(e),a=e.reduce(((e,t)=>({...e,[ws(t)]:t.isExempted?0:t.weight})),{});return n.weights=s.map((e=>{const t=new us;return t.element=e,t.weight=a[e.alias],t})),Is("wgt",n,i)}function Ds(e,t){const{aliases:n,elements:i}=As(e),s=ms(i);return Is("sum",new hs(s,{running:t}),n)}const Ts=Object(ee.makeStyles)((e=>Object(ee.createStyles)({usersGroups:{textOverflow:"ellipsis",overflow:"hidden"},groupTitle:{whiteSpace:"nowrap",fontWeight:e.typography.fontWeightMedium,color:e.palette.text.secondary}}))),Ps=e=>{const{userId:t,filteredGroupIds:n=[]}=e,{formatItems:i}=Object(W.a)(),a=Ts(),o=i(Object(r.e)((e=>n.map((t=>M.gc.group.getGroupByGroupId(e,t))).filter((e=>{var n;return null===(n=null==e?void 0:e.memberships)||void 0===n?void 0:n.some((e=>e.userId===t))})))).map((e=>e.title)));return s.createElement("div",{className:a.usersGroups},s.createElement(v.AnalyticsTooltip,{analyticsId:"filtered.users.groups.tooltip",title:o,placement:"top"},s.createElement("span",{className:a.groupTitle}," ",o," ")))},$s=[{field:B.ib.IsPreviewStudent,direction:B.cc.Ascending},{field:B.ib.FamilyName,direction:B.cc.Ascending},{field:B.ib.GivenName,direction:B.cc.Ascending}],Gs={roleBucket:[B.y.Taking]};var js=n("dCsl"),Ls=n("IPrp"),Ns=n("4p3y"),Bs=n("WaTp"),Ms=n("GAfu"),Rs=n("+Koh"),Fs=n("U7v+"),Vs=n("hipI"),_s=n("sY4P");const Us=Object(ee.makeStyles)((e=>Object(ee.createStyles)({actionContainer:{alignItems:"center",display:"flex",flex:0,"&::before":{backgroundColor:e.palette.border.main,content:'" "',height:"50%",left:0,position:"absolute",width:"2px"}},contentContainer:{alignItems:"flex-start",display:"flex",flexDirection:"column",flex:1,justifyContent:"center","& h4":{display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-word",WebkitBoxOrient:"vertical",WebkitLineClamp:2}},controlsContainer:{alignItems:"center",display:"flex",flex:0},iconContainer:{alignItems:"center",display:"flex",flex:0,justifyContent:"center"},itemContainer:{alignItems:"stretch",borderColor:e.palette.border.main,borderStyle:"solid",borderWidth:0,display:"flex",flexDirection:"row",padding:e.spacing(.5),"& > div":{position:"relative"}},rootContainer:{backgroundColor:e.palette.background.default,borderColor:e.palette.border.main,borderWidth:"1px"}}))),Hs=({Action:e,ActionProps:t,ContainerProps:n,Content:i,ContentProps:a,Controls:o,Icon:r,RootProps:l,children:c,testId:d})=>{const u=Us();return s.createElement(ee.Box,{"data-testid":d,...l,className:Object(J.a)(u.rootContainer,null==l?void 0:l.className)},s.createElement(ee.Box,{...n,className:Object(J.a)(u.itemContainer,null==n?void 0:n.className)},void 0!==r?s.createElement(ee.Box,{className:u.iconContainer},r):void 0,s.createElement(ee.Box,{...a,className:Object(J.a)(u.contentContainer,null==a?void 0:a.className)},i),s.createElement(ee.Box,{className:u.controlsContainer},o),void 0!==e?s.createElement(ee.Box,{...t,className:Object(J.a)(u.actionContainer,null==t?void 0:t.className)},e):void 0),c)};var zs=n("WkyU");const qs=Object(ee.makeStyles)((e=>Object(ee.createStyles)({input:{"& > div":{paddingRight:({unitHint:e=""})=>""!==e?"10px":void 0}},root:{display:"inline-block",position:"relative",width:"4.5rem"},unitHint:{alignItems:"center",bottom:0,display:"flex",justifyContent:"center",position:"absolute",right:0,top:0,textAlign:"center",width:"1.5rem"},weightNotApplicable:{textAlign:"center",color:e.palette.text.disabled}}))),Ws=({alias:e,analyticsId:t="course.grades.overallGrade.weight.input.text",disabled:n=!1,isNotApplicable:i=!1,onBlur:a,onFocus:o,unitHint:r="",value:l,...c})=>{const d=qs({unitHint:r}),m=Object(u.a)(),p=`overall-grade-weight-validation-${e}`,[h,g]=s.useState(l),[b,f]=s.useState(!1),[y,k]=s.useState(""),x=s.useCallback(((e,t)=>{null==a||a(t,h)}),[a,h]),S=s.useCallback(((...e)=>{g(l),null==o||o(...e)}),[o,l]);return s.useEffect((()=>{n&&(f(!0),k(""))}),[n]),s.createElement(ee.Box,{className:d.root},i?s.createElement(v.AnalyticsTypography,{className:d.weightNotApplicable,variant:"body1"},m("course.grades.overallGrade.NA")):s.createElement(s.Fragment,null,s.createElement(zs.a,{id:p,open:""!==y,placement:"top",title:y},s.createElement(vt.s,{analyticsId:t,ariaDescribedBy:""!==y?p:void 0,disabled:n,className:d.input,error:!b,helperText:void 0,hideErrorMessage:!0,onChangeValidState:(e,t)=>{f(e),k(e?"":t.trim())},max:100,min:0,onBlurNative:x,onFocus:S,value:l,...c})),""!==r?s.createElement(ee.Box,{"aria-hidden":!0,className:d.unitHint},s.createElement(v.AnalyticsTypography,null,r)):void 0))};var Ks=n("USWt");const Js=Object(ee.makeStyles)((e=>Object(ee.createStyles)({actionPropsUnavailable:{visibility:"hidden"},contentEditCalculationRuleButton:{paddingBottom:e.spacing(.5),paddingRight:e.spacing(1),paddingTop:e.spacing(.5)},controlButton:{padding:e.spacing(1)},controlButtonUnavailable:{visibility:"hidden"},controlButtonLockedActive:{color:e.palette.brand.main},icon:{visibility:"hidden"},itemContainer:{backgroundColor:({isExempted:t})=>t?e.palette.background.b2:"initial","& > div":{padding:e.spacing(1)}},itemRoot:{background:"none",borderBottomStyle:"solid","&:last-child":{borderBottomStyle:"none"}},pointsPossibleContainer:{color:e.palette.text.hint,margin:"0 10px",textAlign:"right",width:"80px"}})));function Qs({alias:e,categoryName:t,icon:n,isExempted:i,isReadOnly:a,onClickExempt:o,onClickLink:r,pointsPossible:l,subTitle:c,title:d,valueType:u}){const m=`child-item-${e}-overflow-menu`,p=Object(ee.useTheme)(),h=Object(ee.useMediaQuery)(p.breakpoints.down("sm")),g=Js({isExempted:i}),{translate:b,formatNumber:f}=Object(W.a)(),y="points"===u,k=!o,x=s.useMemo((()=>Object(Ot.p)(n)),[n]),[S,C]=s.useState(null),E=s.useCallback((e=>{e.stopPropagation(),C(e.currentTarget)}),[]);return s.createElement(Hs,{RootProps:{className:g.itemRoot},ContainerProps:{className:g.itemContainer},Icon:s.createElement(x,{className:g.icon}),Content:s.createElement(s.Fragment,null,s.createElement(v.AnalyticsTypography,{component:"div",variant:"h4"},b(d)),void 0!==c?s.createElement(v.AnalyticsTypography,{variant:"body2"},b(c)):void 0),Controls:s.createElement(s.Fragment,null,y?s.createElement(ee.Box,{"data-test-id":"points-possible",className:g.pointsPossibleContainer},f(l,{maximumFractionDigits:2})):void 0,h&&y&&!a?void 0:s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.toggleExempt.button","aria-label":b(i?"course.grades.overallGrade.unexemptItem":"course.grades.overallGrade.exemptItem",{title:d}),"aria-pressed":i,className:Object(J.a)(g.controlButton,{[g.controlButtonUnavailable]:k}),disabled:a||k,onClick:o},s.createElement(Bs.a,{className:i?g.controlButtonLockedActive:void 0})),a||!h||y?void 0:s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.unlink.button","aria-label":b("course.grades.overallGrade.unlinkFromCategoryName",{title:t}),onClick:r},s.createElement(Ks.a,null)),!a&&y&&h?s.createElement(s.Fragment,null,s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.toggleItemMobileOverflowMenu.toggle","aria-controls":S?m:void 0,"aria-expanded":null!==S,"aria-haspopup":"menu",className:Object(J.a)(g.controlButton),onClick:E},s.createElement(Rs.Menu,null)),s.createElement(v.AnalyticsMenu,{analyticsId:"course.grades.overallGrade.toggleItemMobileOverflowMenu.menu",anchorEl:S,id:m,onClose:e=>{var t;null===(t=e.stopPropagation)||void 0===t||t.call(e),C(null)},open:null!==S,MenuListProps:{"aria-label":b("course.grades.overallGrade.overflowActions")}},k?void 0:s.createElement(v.AnalyticsMenuItem,{"data-analytics-id":"course.grades.overallGrade.toggleExempt.button",analyticsId:"course.grades.overallGrade.toggleExempt.button",button:!0,"aria-label":b(i?"course.grades.overallGrade.unexemptCategory":"course.grades.overallGrade.exemptCategory",{title:d}),"aria-pressed":i,onClick:o},s.createElement(v.AnalyticsListItemIcon,{analyticsId:"courses.grades.overallGrade.listItemIcon"},s.createElement(Bs.a,{className:i?g.controlButtonLockedActive:void 0})),s.createElement(v.AnalyticsListItemText,{analyticsId:"courses.grades.overallGrades.listItemText"},s.createElement(v.AnalyticsTypography,null,b("course.grades.overallGrade.exempt")))),s.createElement(v.AnalyticsMenuItem,{"data-analytics-id":"course.grades.overallGrade.unlink.button",analyticsId:"course.grades.overallGrade.unlink.button","aria-label":b("course.grades.overallGrade.unlinkFromCategoryName",{title:t}),button:!0,onClick:r},s.createElement(v.AnalyticsListItemIcon,{analyticsId:"courses.grades.overallGrade.listItemIcon"},s.createElement(Ks.a,null)),s.createElement(v.AnalyticsListItemText,{analyticsId:"courses.grades.overallGrade.listItemText"},s.createElement(v.AnalyticsTypography,null,b("course.grades.overallGrade.unlinkFromCategory")))))):void 0),Action:h?void 0:s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.unlink.button","aria-label":b("course.grades.overallGrade.unlinkFromCategoryName",{title:t}),className:a?g.controlButtonUnavailable:void 0,disabled:a,onClick:r},s.createElement(Ks.a,null)),ActionProps:{className:a?g.actionPropsUnavailable:void 0},testId:d})}const Zs=Object(ee.makeStyles)((e=>Object(ee.createStyles)({contentEditCalculationRuleButton:{paddingBottom:e.spacing(.5),paddingRight:e.spacing(1),paddingTop:e.spacing(.5)},contentSubTextContainer:{display:"flex",flexDirection:"row","& > *":{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),position:"relative"},"& > *:not(:first-child):before":{borderLeft:`solid 1px ${e.palette.border.dark}`,content:'""',display:"inline-block",height:"18px",left:0,position:"absolute"},"& > *:first-child":{paddingLeft:0}},contentSubTextItems:{color:e.palette.text.hint},controlButton:{padding:e.spacing(1)},controlButtonUnavailable:{visibility:"hidden"},controlButtonLockedActive:{color:e.palette.brand.main},itemContainer:{backgroundColor:({isExempted:t})=>t?e.palette.background.b2:"initial",borderBottomWidth:({isExpanded:e})=>e?"1px":"0",boxShadow:({isExpanded:t})=>t?`${e.palette.border.dark} 0px 4px 5px -3px`:"none","& > div":{padding:e.spacing(1)}},itemRoot:{borderStyle:"solid",marginBottom:e.spacing(.25),marginTop:e.spacing(.25)},childrenContainer:{display:({isExpanded:e})=>e?"block":"none"},noChildrenContainer:{color:e.palette.text.secondary,padding:"20px",textAlign:"center"},pointsPossibleContainer:{color:e.palette.text.hint,margin:"0 10px",textAlign:"right",width:"80px"}})));function Ys({alias:e,calculationRule:t,childItems:n=[],icon:i,isExempted:a,isLocked:o,isReadOnly:r,numGradableItemsInCategory:l,onBlurWeight:c,onChangeWeight:d,onClickEditCalculationRule:u,onClickExempt:m,onClickLock:p,pointsPossible:h,title:g,valueType:b,weight:f}){const y=Object(ee.useTheme)(),k=Object(ee.useMediaQuery)(y.breakpoints.down("sm")),{translate:x,formatNumber:S}=Object(W.a)(),C="points"===b,[E,I]=s.useState(!1),w=!u,A=!m,O=!p,D=A&&w,T=s.useMemo((()=>({isCompact:k,isExempted:a,isExpanded:E})),[k,a,E]),P=Zs(T),$=`item-${e}-overflow-menu`,G=`category-children-${e}`,j=`${G}-toggle`,[L,N]=s.useState(null),B=s.useCallback((e=>{e.stopPropagation(),N(e.currentTarget)}),[]),M=s.useCallback((e=>{e.stopPropagation(),I((e=>!e))}),[]),R=s.useMemo((()=>Object(Ot.p)(i)),[i]);return s.createElement(Hs,{RootProps:{className:P.itemRoot},ContainerProps:{className:P.itemContainer},Icon:s.createElement(R,null),Content:s.createElement(s.Fragment,null,s.createElement(v.AnalyticsTypography,{component:"div",variant:"h4"},x(g)),s.createElement(ee.Box,{className:P.contentSubTextContainer},s.createElement(v.AnalyticsTypography,{className:P.contentSubTextItems},x("course.grades.overallGrade.nItems.plural",{n:n.length})),r||k||w?void 0:s.createElement(Ss,{calculationRule:t,numGradableItemsInCategory:l,ButtonProps:{"aria-label":x("course.grades.overallGrade.editCalculationRulesForCategory",{title:g}),className:P.contentEditCalculationRuleButton,disabled:a,onClick:u}}))),ContentProps:{onClick:e=>{k&&null===L&&M(e)}},Controls:s.createElement(s.Fragment,null,k?s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.overallGradeController.collapse","aria-controls":E?G:void 0,"aria-expanded":E,"aria-label":x(E?"course.grades.overallGrade.collapseItemsForCategory":"course.grades.overallGrade.expandItemsForCategory",{title:g}),id:j,onClick:M},E?s.createElement(Vs.a,null):s.createElement(Fs.a,null)):void 0,r||k||C?void 0:s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.toggleLocked.button","aria-label":x(o?"course.grades.overallGrade.unlockWeightForCategory":"course.grades.overallGrade.lockWeightForCategory",{title:g}),"aria-pressed":o,className:Object(J.a)(P.controlButton,{[P.controlButtonUnavailable]:O}),disabled:O||a,onClick:p},!o||a?s.createElement(_s.a,null):s.createElement(Ms.a,null)),C&&void 0!==h?s.createElement(ee.Box,{"data-test-id":"points-possible",className:P.pointsPossibleContainer},S(h,{maximumFractionDigits:2})):s.createElement(Ws,{alias:e,analyticsId:"course.grades.overallGrade.updateTotalWeight.input.text",ariaLabel:x("course.grades.overallGrade.weightForCategory",{title:g}),disabled:r||o||a,isNotApplicable:!d,onBlur:c,onChange:d,unitHint:"%",value:f}),r||!k||C?void 0:s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.toggleLocked.button","aria-label":x(!o||a?"course.grades.overallGrade.lockWeightForCategory":"course.grades.overallGrade.unlockWeightForCategory",{title:g}),"aria-pressed":o,className:Object(J.a)(P.controlButton,{[P.controlButtonUnavailable]:O}),disabled:O||a,onClick:p},!o||a?s.createElement(_s.a,null):s.createElement(Ms.a,null)),r||!k?s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.toggleExempt.button","aria-label":x(a?"course.grades.overallGrade.unexemptCategory":"course.grades.overallGrade.exemptCategory",{title:g}),"aria-pressed":a,className:Object(J.a)(P.controlButton,{[P.controlButtonUnavailable]:A}),disabled:r||A,onClick:m},s.createElement(Bs.a,{className:a?P.controlButtonLockedActive:void 0})):void 0,!r&&k?s.createElement(s.Fragment,null,s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.toggleItemMobileOverflowMenu.toggle","aria-controls":L?$:void 0,"aria-expanded":null!==L,"aria-haspopup":"menu",className:Object(J.a)(P.controlButton,{[P.controlButtonUnavailable]:D}),disabled:D,onClick:B},s.createElement(Rs.Menu,null)),s.createElement(v.AnalyticsMenu,{analyticsId:"course.grades.overallGrade.toggleItemMobileOverflowMenu.menu",anchorEl:L,id:$,onClose:e=>{var t;null===(t=e.stopPropagation)||void 0===t||t.call(e),N(null)},open:null!==L,MenuListProps:{"aria-label":x("course.grades.overallGrade.overflowActions")}},s.createElement(v.AnalyticsMenuItem,{"data-analytics-id":"course.grades.overallGrade.toggleExempt.button",analyticsId:"course.grades.overallGrade.toggleExempt.button","aria-label":x(a?"course.grades.overallGrade.unexemptCategory":"course.grades.overallGrade.exemptCategory",{title:g}),"aria-pressed":a,button:!0,onClick:m},s.createElement(v.AnalyticsListItemIcon,{analyticsId:"course.grades.overallGrade.listItemicon"},s.createElement(Bs.a,{className:a?P.controlButtonLockedActive:void 0})),s.createElement(v.AnalyticsListItemText,{analyticsId:"course.grades.overallGrade.listItemText"},s.createElement(v.AnalyticsTypography,null,x("course.grades.overallGrade.exempt")))),s.createElement(v.AnalyticsMenuItem,{"data-analytics-id":"course.grades.overallGrade.editCalculationRule",analyticsId:"course.grades.overallGrade.editCalculationRule","aria-label":x("course.grades.overallGrade.editCalculationRulesForCategory",{title:g}),button:!0,disabled:a,onClick:u},s.createElement(v.AnalyticsListItemIcon,{analyticsId:"course.grades.overallGrade.listItemIcon"},s.createElement(js.a,null)),s.createElement(v.AnalyticsListItemText,{analyticsId:"course.grades.overallGrade.listItemText"},s.createElement(v.AnalyticsTypography,null,x("course.grades.overallGrade.editCalculationRules")))))):void 0),Action:k?void 0:s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.overallGradeController.collapse","aria-controls":E?G:void 0,"aria-label":x(E?"course.grades.overallGrade.collapseItemsForCategory":"course.grades.overallGrade.expandItemsForCategory",{title:g}),"aria-expanded":E,id:j,onClick:M},E?s.createElement(Ns.a,null):s.createElement(Ls.a,null))},s.createElement(ee.Box,{id:G,role:"region","aria-labelledby":j,className:Object(J.a)(P.childrenContainer,0===n.length?P.noChildrenContainer:null)},n.length>0?n.map((e=>s.createElement(Qs,{key:e.alias,...e,categoryName:g,isReadOnly:r,valueType:b}))):s.createElement(v.AnalyticsTypography,null,x("course.grades.overallGrade.noItemsInThisCategory"))))}var Xs=n("kbTF");const ea=Object(ee.makeStyles)((e=>Object(ee.createStyles)({actionPropsUnavailable:{visibility:"hidden"},controlButton:{padding:e.spacing(1)},controlButtonUnavailable:{visibility:"hidden"},controlButtonLockedActive:{color:e.palette.brand.main},itemContainer:{backgroundColor:({isExempted:t})=>t?e.palette.background.b2:"initial","& > div":{padding:e.spacing(1)}},itemRoot:{borderStyle:"solid",marginBottom:e.spacing(.25),marginTop:e.spacing(.25)},pointsPossibleContainer:{color:e.palette.text.hint,margin:"0 10px",textAlign:"right",width:"80px"}})));function ta({alias:e,isExempted:t,isLocked:n,isReadOnly:i,onBlurWeight:a,onChangeWeight:o,onClickExempt:r,onClickLink:l,onClickLock:c,pointsPossible:d=0,subTitle:u,title:m,valueType:p,weight:h}){const g=Object(ee.useTheme)(),b=Object(ee.useMediaQuery)(g.breakpoints.down("sm")),f=ea({isExempted:t}),{translate:y,formatNumber:k}=Object(W.a)(),x="points"===p,S=s.useMemo((()=>`item-${e}-overflow-menu`),[e]),[C,E]=s.useState(null),I=s.useCallback((e=>{e.stopPropagation(),E(e.currentTarget)}),[]);return s.createElement(Hs,{RootProps:{className:f.itemRoot},ContainerProps:{className:f.itemContainer},Content:s.createElement(s.Fragment,null,s.createElement(v.AnalyticsTypography,{component:"div",variant:"h4"},y(m)),b?void 0:s.createElement(v.AnalyticsTypography,{variant:"body2"},y(u))),Controls:s.createElement(s.Fragment,null,i||b||x?void 0:s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.toggleLocked.button","aria-label":y(!n||t?"course.grades.overallGrade.lockWeightForItem":"course.grades.overallGrade.unlockWeightForItem",{title:m}),"aria-pressed":n,className:f.controlButton,onClick:c,disabled:t},!n||t?s.createElement(_s.a,null):s.createElement(Ms.a,null)),x?s.createElement(ee.Box,{"data-test-id":"points-possible",className:f.pointsPossibleContainer},k(d,{maximumFractionDigits:2})):s.createElement(Ws,{alias:e,analyticsId:"course.grades.overallGrade.updateTotalWeight.input.text",ariaLabel:y("course.grades.overallGrade.weightForItem",{title:m}),disabled:i||n||t,onBlur:a,onChange:o,value:h,unitHint:"%"}),i||!b||x?void 0:s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.toggleLocked.button","aria-label":y(!n||t?"course.grades.overallGrade.lockWeightForItem":"course.grades.overallGrade.unlockWeightForItem",{title:m}),"aria-pressed":n,className:f.controlButton,disabled:t,onClick:c},!n||t?s.createElement(_s.a,null):s.createElement(Ms.a,null)),i||!b?s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.toggleExempt.button","aria-label":y(t?"course.grades.overallGrade.unexemptItem":"course.grades.overallGrade.exemptItem",{title:m}),"aria-pressed":t,className:f.controlButton,disabled:i,onClick:r},s.createElement(Bs.a,{className:t?f.controlButtonLockedActive:void 0})):void 0,!i&&b?s.createElement(s.Fragment,null,s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.toggleItemMobileOverflowMenu.toggle","aria-controls":C?S:void 0,"aria-expanded":null!==C,"aria-haspopup":"menu",onClick:I},s.createElement(Rs.Menu,null)),s.createElement(v.AnalyticsMenu,{analyticsId:"course.grades.overallGrade.toggleItemMobileOverflowMenu.menu",anchorEl:C,id:S,onClose:()=>E(null),open:null!==C,MenuListProps:{"aria-label":y("course.grades.overallGrade.overflowActions")}},s.createElement(v.AnalyticsMenuItem,{"data-analytics-id":"course.grades.overallGrade.toggleExempt.button",analyticsId:"course.grades.overallGrade.toggleExempt.button","aria-label":y(t?"course.grades.overallGrade.unexemptItem":"course.grades.overallGrade.exemptItem",{title:m}),"aria-pressed":t,button:!0,onClick:r},s.createElement(v.AnalyticsListItemIcon,{analyticsId:"courses.grades.overallGrade.listItemIcon"},s.createElement(Bs.a,{className:t?f.controlButtonLockedActive:void 0})),s.createElement(v.AnalyticsListItemText,{analyticsId:"courses.grades.overallGrade.listItemText"},s.createElement(v.AnalyticsTypography,null,y("course.grades.overallGrade.exempt")))),s.createElement(v.AnalyticsMenuItem,{"data-analytics-id":"course.grades.overallGrade.link.button",analyticsId:"course.grades.overallGrade.link.button","aria-label":y("course.grades.overallGrade.linkToCategoryName",{title:u}),button:!0,onClick:l},s.createElement(v.AnalyticsListItemIcon,{analyticsId:"courses.grades.overallGrade.listItemIcon"},s.createElement(Xs.a,null)),s.createElement(v.AnalyticsListItemText,{analyticsId:"courses.grades.overallGrade.listItemText"},s.createElement(v.AnalyticsTypography,null,y("course.grades.overallGrade.linkToCategory")))))):void 0),Action:b?void 0:s.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.overallGrade.link.button","aria-label":y("course.grades.overallGrade.linkToCategoryName",{title:u}),className:i?f.controlButtonUnavailable:void 0,disabled:i,onClick:l},s.createElement(Xs.a,null)),ActionProps:{className:i?f.actionPropsUnavailable:void 0}})}var na=n("nOKu"),ia=n("HFqc"),sa=n("yUsM");const aa=Object(ee.makeStyles)((e=>Object(ee.createStyles)({showMore:{"&, &:active, &:focus, &:hover":{color:e.palette.text.primary},marginLeft:"8px"},details:{display:({expandDetails:e})=>e?"block":"none","& svg":{verticalAlign:"middle"}}}))),oa={excludeIcon:s.createElement(Bs.a,null),lockIcon:s.createElement(na.a,null),unlinkIcon:s.createElement(ia.a,null)},ra=({calculationType:e})=>{const t=Object(ee.useTheme)(),n=Object(ee.useMediaQuery)(t.breakpoints.down("sm")),i=Object(u.a)(),[a,o]=s.useState(),r=null!=a?a:!n,l=aa({expandDetails:r});const c=s.useMemo((()=>{switch(e){case"weighted":return s.createElement(s.Fragment,null,s.createElement("li",null,i("course.grades.overallGrade.calculationDetail.li0",oa)),s.createElement("li",null,i("course.grades.overallGrade.calculationDetail.li3",oa)),s.createElement("li",null,i("course.grades.overallGrade.calculationDetail.li2",oa)));case"points":return s.createElement(s.Fragment,null,s.createElement("li",null,i("course.grades.overallGrade.calculationDetail.li4",oa)),s.createElement("li",null,i("course.grades.overallGrade.calculationDetail.li2",oa)));case"advanced":return}}),[e,i]);return s.createElement(s.Fragment,null,s.createElement("span",null,i(function(){switch(e){case"weighted":return"course.grades.overallGrade.calculationDetail.p0";case"points":return"course.grades.overallGrade.calculationDetail.p1";case"advanced":return"course.grades.overallGrade.calculationDetail.p2"}}())),c?s.createElement(s.Fragment,null,s.createElement(v.AnalyticsLink,{"aria-controls":r?"overall-grade-detail-expand":void 0,"aria-expanded":r,analyticsId:"course.grades.overallGrade.calculationDetail.showMore",className:l.showMore,component:"button",id:"overall-grade-detail-expand-toggle",onClick:function(e){e.preventDefault(),e.stopPropagation(),o(!r)}},s.createElement(sa.a,{component:"span"},i(r?"course.grades.overallGrade.calculationDetail.showLess":"course.grades.overallGrade.calculationDetail.showMore"))),s.createElement("div",{id:"overall-grade-detail-expand",role:"region","aria-labelledby":"overall-grade-detail-expand-toggle",className:l.details},s.createElement("ul",null,c))):void 0)},la=Object(ee.makeStyles)((e=>Object(ee.createStyles)({filterWrapper:{display:"flex",flex:1,flexDirection:"column",[e.breakpoints.up("md")]:{flexDirection:"row",flexWrap:"wrap",alignContent:"center",gap:"12px"}},textFieldFilter:{display:"flex",margin:"8px 0px",flexGrow:1,[e.breakpoints.up("sm")]:{minWidth:"240px"},[e.breakpoints.up("lg")]:{flexGrow:0}}}))),ca=e=>{const{analyticsId:t,gradingFilterSelected:n,scoreProviderHandler:i,studentFilterSelected:a,initialStudentFilter:o,initialGradingFilter:l,isDelegated:c,isUserReconciler:d,isGroupContent:m}=e,p=Object(u.a)(),h=Object(tn.i)("course.grades.gradebook-item.filters","organization.grades.gradebook-item.filters"),g=((e,t)=>{const n=Object(u.a)(),i=Object(tn.i)("course.grades.gradebook-item.filters","organization.grades.gradebook-item.filters");return Object(s.useMemo)((()=>{const s=new Map;switch(t?s.set(B.dc.allStatuses,n("course.grades.gradebook-item.filters.studentStatus.allGroupStatuses")):s.set(B.dc.allStatuses,n(i("course.grades.gradebook-item.filters.studentStatus.allStatuses"))),e.toString()){case M.Q.UltraAssignment.toString():case M.Q.ClassicAssignment.toString():case M.Q.Test.toString():s.set(B.dc.noAttempt,n("course.grades.gradebook-item.filters.studentStatus.noSubmission")),s.set(B.dc.attemptInProgress,n("course.grades.gradebook-item.filters.studentStatus.draftSaved")),s.set(B.dc.attemptSubmitted,n("course.grades.gradebook-item.filters.studentStatus.submitted"));break;case M.Q.Journal.toString():case M.Q.Discussion.toString():s.set(B.dc.noAttempt,n("course.grades.gradebook-item.filters.studentStatus.noEntry")),s.set(B.dc.attemptSubmitted,n("course.grades.gradebook-item.filters.studentStatus.entryMade"));break;case M.Q.Scorm.toString():s.set(B.dc.noAttempt,n("course.grades.gradebook-item.filters.studentStatus.noSubmission")),s.set(B.dc.attemptInProgress,n("course.grades.gradebook-item.filters.studentStatus.draftSaved")),s.set(B.dc.attemptSubmitted,n("course.grades.gradebook-item.filters.studentStatus.submitted"))}return s}),[e,t,n,i])})(i,m),b=((e,t,n)=>{const i=Object(u.a)();return Object(s.useMemo)((()=>{const s=new Map;switch(s.set(B.O.allStatuses,i("course.grades.gradebook-item.filters.gradingStatus.allStatuses")),e.toString()){case M.Q.UltraAssignment.toString():case M.Q.ClassicAssignment.toString():case M.Q.Test.toString():t?n?(s.set(B.O.needsGrading,i("course.grades.gradebook-item.filters.gradingStatus.needsToReconcile")),s.set(B.O.gradeNeedsPosting,i("course.grades.gradebook-item.filters.gradingStatus.needsPosting")),s.set(B.O.nothingToGrade,i("course.grades.gradebook-item.filters.gradingStatus.nothingToReconcile")),s.set(B.O.completed,i("course.grades.gradebook-item.filters.gradingStatus.completed"))):(s.set(B.O.needsGrading,i("course.grades.gradebook-item.filters.gradingStatus.needsGrading")),s.set(B.O.completed,i("course.grades.gradebook-item.filters.gradingStatus.completed"))):(s.set(B.O.needsGrading,i("course.grades.gradebook-item.filters.gradingStatus.needsGrading")),s.set(B.O.gradeNeedsPosting,i("course.grades.gradebook-item.filters.gradingStatus.needsPosting")),s.set(B.O.completed,i("course.grades.gradebook-item.filters.gradingStatus.completed"))),s.get(B.O.nothingToGrade)||s.set(B.O.nothingToGrade,i("course.grades.gradebook-item.filters.gradingStatus.nothingToGrade"));break;case M.Q.Journal.toString():case M.Q.Discussion.toString():case M.Q.Scorm.toString():s.set(B.O.needsGrading,i("course.grades.gradebook-item.filters.gradingStatus.needsGrading")),s.set(B.O.gradeNeedsPosting,i("course.grades.gradebook-item.filters.gradingStatus.needsPosting")),s.set(B.O.nothingToGrade,i("course.grades.gradebook-item.filters.gradingStatus.nothingToGrade")),s.set(B.O.completed,i("course.grades.gradebook-item.filters.gradingStatus.completed"))}return s}),[e,t,n,i])})(i,c,d),f=la(),y=o&&g.has(o)?o:B.dc.allStatuses,k=l&&b.has(l)?l:B.O.allStatuses,[x,S]=s.useState(y),[C,E]=s.useState(k),I=(e=>{const t=Object(r.e)((e=>{var t,n;return null===(n=null===(t=M.gc.app.getLocation(e))||void 0===t?void 0:t.queryParams)||void 0===n?void 0:n.gradingStatus}));return Object(s.useEffect)((()=>{t&&e(Object(B.rc)(t))}),[e,t]),e=>{ot.bb.search({gradingStatus:e,page:"1"})}})((e=>{C!==e&&(E(e),n(e))})),w=(e=>{const t=Object(r.e)((e=>{var t,n;return null===(n=null===(t=M.gc.app.getLocation(e))||void 0===t?void 0:t.queryParams)||void 0===n?void 0:n.studentStatus}));return Object(s.useEffect)((()=>{t&&e(Object(B.sc)(t))}),[t,e]),e=>{ot.bb.search({studentStatus:e,page:"1"})}})((e=>{x!==e&&(S(e),a(e))})),A=p(m?"course.grades.gradebook-item.filters.groupStatusFilterLabel":h("course.grades.gradebook-item.filters.studentStatusFilterLabel"));return s.createElement("div",{className:f.filterWrapper},s.createElement(v.AnalyticsTextField,{analyticsId:`${t}.student-status`,select:!0,id:"submission-list-dropdown-filters-student-status",label:A,floatingLabel:!0,value:g.get(x),className:f.textFieldFilter},[...g.keys()].map((e=>s.createElement(v.AnalyticsMenuItem,{analyticsId:`${t}.student-status.${e}.list-item`,button:!0,onClick:()=>(e=>{x!==e&&w(e)})(e),key:e,value:g.get(e)},g.get(e))))),s.createElement(v.AnalyticsTextField,{analyticsId:`${t}.grading-status`,select:!0,id:"submission-list-dropdown-filters-grading-status",label:p("course.grades.gradebook-item.filters.gradingStatusFilterLabel"),floatingLabel:!0,value:b.get(C),className:f.textFieldFilter},[...b.keys()].map((e=>s.createElement(v.AnalyticsMenuItem,{analyticsId:`${t}.grading-status.${e}.list-item`,button:!0,onClick:()=>(e=>{C!==e&&I(e)})(e),key:e,value:b.get(e)},b.get(e))))))},da=Object(ee.makeStyles)((e=>{const t=e.spacing(2.5),n=e.spacing(1);return Object(ee.createStyles)({root:{display:"inline-flex",flexDirection:"row"},buttonBase:{backgroundColor:e.palette.background.default,border:`solid 1px ${e.palette.border.main}`,borderRightWidth:0,color:"#666",margin:0,paddingBottom:n,paddingLeft:t,paddingRight:t,paddingTop:n,"&:first-child":{borderBottomLeftRadius:4,borderTopLeftRadius:4},"&:last-child":{borderBottomRightRadius:4,borderRightWidth:1,borderTopRightRadius:4},".side-panel-content &":{cursor:"pointer"}},buttonSelected:{backgroundColor:e.palette.common.black,borderColor:e.palette.common.black,color:e.palette.common.white}})})),ua=({isReadOnly:e=!1,onClick:t,selected:n})=>{const i=da(),a=Object(u.a)(),o="overall-grade-tab-calculation-type";function r(e,n){e.stopPropagation(),t(n)}return s.createElement(ee.Box,{className:i.root},s.createElement(v.AnalyticsFormControlLabel,{analyticsId:"course.grades.overallGrade.formControlLabel",className:Object(J.a)(i.buttonBase,"points"===n?i.buttonSelected:null),control:s.createElement(ee.HideOffScreen,{component:"span"},s.createElement("input",{checked:"points"===n,"data-analytics-id":"course.grades.overallGrade.tab.points.radio",disabled:e,id:"overall-grade-tab-points",name:o,onChange:e=>r(e,"points"),tabIndex:-1,type:"radio",value:"points"})),label:a("course.grades.overallGrade.points"),tabIndex:0}),s.createElement(v.AnalyticsFormControlLabel,{analyticsId:"course.grades.overallGrade.formControlLabel",className:Object(J.a)(i.buttonBase,"weighted"===n?i.buttonSelected:null),control:s.createElement(ee.HideOffScreen,{component:"span"},s.createElement("input",{checked:"weighted"===n,"data-analytics-id":"course.grades.overallGrade.tab.weighted.radio",disabled:e,id:"overall-grade-tab-weighted",name:o,onChange:e=>r(e,"weighted"),tabIndex:-1,type:"radio",value:"weighted"})),disabled:e,label:a("course.grades.overallGrade.weighted"),tabIndex:0}),s.createElement(v.AnalyticsFormControlLabel,{analyticsId:"course.grades.overallGrade.formControlLabel",className:Object(J.a)(i.buttonBase,"advanced"===n?i.buttonSelected:null),control:s.createElement(ee.HideOffScreen,{component:"span"},s.createElement("input",{checked:"advanced"===n,"data-analytics-id":"course.grades.overallGrade.tab.advanced.radio",disabled:e,id:"overall-grade-tab-advanced",name:o,onChange:e=>r(e,"advanced"),tabIndex:-1,type:"radio",value:"advanced"})),label:a("course.grades.overallGrade.advanced"),tabIndex:0}))};var ma=n("jAJq"),pa=n("h/yM"),ha=n("Gt+H"),ga=n("aw66");const ba=Object(ee.makeStyles)((e=>Object(ee.createStyles)({root:{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",width:"100%"},calculationTypeButtonsContainer:{paddingLeft:"60px","& button":{marginRight:"16px"}},calculationTypeContainer:{maxWidth:"650px",minWidth:"350px",width:"50%","& ul":{listStyleType:"none"}},calculationTypeOptionContainer:{marginTop:e.spacing(3),"&:last-of-type":{marginBottom:e.spacing(6)}},calculationTypeOptionDetailsContainer:{marginLeft:"20px"},calculationTypeOptionTitle:{lineHeight:"32px"},calculationTypeOptionsContainer:{paddingLeft:"60px"},description:{color:e.palette.text.secondary},exampleRowChild:{},exampleTable:{minWidth:"350px","& tr":{height:"24px"},"& tr.example-row-child th, & tr.example-row-child td":{paddingTop:0},"& th, & td":{border:"none",padding:0,paddingTop:"16px"}}}))),fa=({description:e,example:t,isSelected:n,value:i})=>{const a=ba(),o=Object(u.a)(),r=`overall-grade-wizard-option-${i}`,l=`${r}-description`,[c,d]=s.useState(!1);return s.createElement(ee.Box,{className:a.calculationTypeOptionContainer},s.createElement(v.AnalyticsFormControlLabel,{analyticsId:"course.grades.overallGrade.formControlLabel",control:s.createElement(v.AnalyticsRadio,{analyticsId:`course.grades.overallGrade.wizard.${i}.radio`,id:r,inputProps:{"aria-checked":n,"aria-describedby":e?l:void 0},value:i}),htmlFor:r,label:s.createElement(v.AnalyticsTypography,{className:a.calculationTypeOptionTitle},o(`course.grades.overallGrade.wizard.options.${i}.name`))}),s.createElement(ee.Box,{className:a.calculationTypeOptionDetailsContainer},void 0!==e?s.createElement(ee.Box,{id:l,className:a.description},e):void 0,void 0!==t?s.createElement(s.Fragment,null,s.createElement(v.AnalyticsLink,{"aria-controls":`overall-grade-wizard-${i}-example`,"aria-expanded":c,"aria-label":o(c?`course.grades.overallGrade.wizard.options.${i}.hideExampleUnique`:`course.grades.overallGrade.wizard.options.${i}.showExampleUnique`),analyticsId:`course.grades.overallGrade.wizard.${i}.example.button`,component:"button",id:`overall-grade-wizard-${i}-example-toggle`,onClick:function(e){e.stopPropagation(),d((e=>!e))}},s.createElement(v.AnalyticsTypography,{component:"span"},o(c?"course.grades.overallGrade.wizard.hideExample":"course.grades.overallGrade.wizard.showExample"))),c?s.createElement(ee.Box,{id:`overall-grade-wizard-${i}-example`},t):void 0):void 0))},va=({onCancel:e,onComplete:t})=>{const n=ba(),{translate:i,formatNumber:a}=Object(W.a)(),[o,r]=s.useState("points");return s.createElement(ee.Box,{className:n.root},s.createElement(ee.Box,{className:n.calculationTypeContainer},s.createElement(ma.a,{component:"fieldset"},s.createElement(pa.a,{component:"legend"},s.createElement(v.AnalyticsTypography,{variant:"h2"},i("course.grades.overallGrade.wizard.header")),s.createElement(v.AnalyticsTypography,null,i("course.grades.overallGrade.wizard.description"))),s.createElement(ee.Box,{className:n.calculationTypeOptionsContainer},s.createElement(v.AnalyticsRadioGroup,{analyticsId:"course.grades.overallGrade.RadioGroup",hasCustomLegend:!0,defaultValue:"points",onChange:function(e,t){r(t)}},s.createElement(fa,{example:s.createElement(v.AnalyticsTable,{analyticsId:"course.grades.overallGrade.table",className:n.exampleTable},s.createElement(v.AnalyticsTableBody,{analyticsId:"course.grades.overallGrade.tableBody"},s.createElement(ha.a,null,s.createElement(ga.a,{component:"th"},i("course.grades.overallGrade.wizard.options.points.example.assignmentsCategory")),s.createElement(ga.a,null,i("course.grades.overallGrade.wizard.options.points.example.nPoints",{points:a(200)}))),s.createElement(ha.a,{className:"example-row-child"},s.createElement(ga.a,{component:"th"},i("course.grades.overallGrade.wizard.options.points.example.assignment1")),s.createElement(ga.a,null,i("course.grades.overallGrade.wizard.options.points.example.nPoints",{points:a(100)}))),s.createElement(ha.a,{className:"example-row-child"},s.createElement(ga.a,{component:"th"},i("course.grades.overallGrade.wizard.options.points.example.assignment2")),s.createElement(ga.a,null,i("course.grades.overallGrade.wizard.options.points.example.nPoints",{points:a(100)}))),s.createElement(ha.a,null,s.createElement(ga.a,{component:"th"},i("course.grades.overallGrade.wizard.options.points.example.finalExam")),s.createElement(ga.a,null,i("course.grades.overallGrade.wizard.options.points.example.nPoints",{points:a(300)}))),s.createElement(ha.a,null,s.createElement(ga.a,{component:"th"},i("course.grades.overallGrade.wizard.options.points.example.overallGrade")),s.createElement(ga.a,null,i("course.grades.overallGrade.wizard.options.points.example.outOfPoints",{points:a(500)}))))),isSelected:"points"===o,value:"points"}),s.createElement(fa,{example:s.createElement(v.AnalyticsTable,{analyticsId:"course.grades.overallGrade.table",className:n.exampleTable},s.createElement(v.AnalyticsTableBody,{analyticsId:"course.grades.overallGrade.tableBody"},s.createElement(ha.a,null,s.createElement(ga.a,{component:"th"},i("course.grades.overallGrade.wizard.options.points.example.assignmentsCategory")),s.createElement(ga.a,null,i("course.grades.overallGrade.wizard.options.weighted.example.nPercent",{percent:a(40)}))),s.createElement(ha.a,{className:"example-row-child"},s.createElement(ga.a,{component:"th"},i("course.grades.overallGrade.wizard.options.points.example.assignment1")),s.createElement(ga.a,null)),s.createElement(ha.a,{className:"example-row-child"},s.createElement(ga.a,{component:"th"},i("course.grades.overallGrade.wizard.options.points.example.assignment2")),s.createElement(ga.a,null)),s.createElement(ha.a,null,s.createElement(ga.a,{component:"th"},i("course.grades.overallGrade.wizard.options.points.example.finalExam")),s.createElement(ga.a,null,i("course.grades.overallGrade.wizard.options.weighted.example.nPercent",{percent:a(60)}))),s.createElement(ha.a,null,s.createElement(ga.a,{component:"th"},i("course.grades.overallGrade.wizard.options.points.example.overallGrade")),s.createElement(ga.a,null,i("course.grades.overallGrade.wizard.options.weighted.example.outOfPercent",{percent:a(100)}))))),isSelected:"weighted"===o,value:"weighted"}),s.createElement(fa,{description:s.createElement(v.AnalyticsTypography,null,i("course.grades.overallGrade.wizard.options.advanced.description")),isSelected:"advanced"===o,value:"advanced"})))),s.createElement(ee.Box,{className:n.calculationTypeButtonsContainer},s.createElement(v.AnalyticsDefaultButton,{analyticsId:"course.grades.overallGrade.wizard.cancel.button",onClick:function(t){t.stopPropagation(),e()}},i("course.grades.overallGrade.wizard.cancel")),s.createElement(v.AnalyticsPrimaryButton,{analyticsId:"course.grades.overallGrade.wizard.next.button",disabled:void 0===o,onClick:function(e){e.stopPropagation(),void 0!==o&&t({calculationType:o})}},i("course.grades.overallGrade.wizard.next")))))},ya=Object(ee.makeStyles)((()=>Object(ee.createStyles)({gradableItemExempt:{position:"absolute",inset:0,display:"flex",flexDirection:"column",justifyContent:"flex-start"},panelContent:{padding:"0 30px",flexGrow:1},panelContentRow:{marginTop:"24px"},panelFooter:{width:"100%",bottom:0,"& > div":{padding:"0 30px"},"& button":{margin:0,"&:first-child":{marginRight:"8px"}}},footerButton:{height:"38px",alignSelf:"center"}}))),ka=e=>{const{showConfirmationModal:t,onCancel:n,onConfirmation:i}=e,a=Object(u.a)(),o=`${e.analyticsId}.cancel-unsaved.dialog`,r="cancel-unsaved.dialog-title";return s.createElement(m.a,{className:"cancel-unsaved-confirmation-dialog",analyticsId:o,open:t,onClose:n,maxWidth:"md","aria-labelledby":r},s.createElement(v.AnalyticsDialogTitle,{analyticsId:`${o}.title`,id:r,onClick:n},a("gradebook.closeExemptionPanelConfirmationModal.title")),s.createElement(v.AnalyticsDialogContent,{analyticsId:`${o}.content`},s.createElement(v.AnalyticsDialogContentText,{analyticsId:`${o}.body`},a("gradebook.closeExemptionPanelConfirmationModal.content"))),s.createElement(v.AnalyticsDialogActions,{analyticsId:`${o}.actions`},s.createElement(v.AnalyticsDefaultButton,{analyticsId:`${o}.cancel.button`,onClick:n},a("gradebook.closeExemptionPanelConfirmationModal.cancel")),s.createElement(v.AnalyticsPrimaryButton,{analyticsId:`${o}.confirmation.button`,onClick:i},a("gradebook.closeExemptionPanelConfirmationModal.close"))))},xa="gradebook.gradableItem.ExemptPanel",Sa=()=>{const e=ya(),t=Object(u.a)(),n=Object(r.d)(),{userId:i,columnId:a,courseId:o}=function(e){const t=new URLSearchParams(window.location.search);return e.reduce(((e,n)=>{const i=t.get(n);return i&&(e[n]=i),e}),{})}(["userId","columnId","courseId"]),l=Object(r.e)((e=>M.gc.gradebookGrade.getGradebookGradesByColumnIdAndUserId(e,a,i)),r.c)[0],c=Object(r.e)((e=>M.gc.user.getUserById(e,i))),d=Object(r.e)((e=>M.gc.gradebookColumn.getGradebookColumnById(e,a))),[m,p]=Object(s.useState)(!!(null==l?void 0:l.isExempt)),[h,g]=Object(s.useState)(!1),[b,f]=Object(s.useState)(!1),[v,y]=Object(s.useState)(!1),k=!!(null==l?void 0:l.isExempt)!==m,x=k&&!v,S=K.memoize((()=>{f(!0)}));Object(ot.db)(x,S),Object(s.useEffect)((()=>{h&&!k&&ot.bb.leavePeekState()}),[h,k]);const C={showConfirmationModal:b,onCancel:()=>f(!1),onConfirmation:()=>{f(!1),y(!0),ot.bb.leavePeekState()},analyticsId:xa},E={headerText:t("components.directives.grade.submission-list-row.per-gradable-item.title"),subHeaderText:(null==d?void 0:d.columnName)||"",analyticsIdPrefix:"gradebook.gradableItem.ExemptPanel ",showMenuToggleButton:!0,readyToFocus:!1};return s.createElement("div",{className:e.gradableItemExempt},s.createElement(vt.R,{...E}),s.createElement("div",{className:e.panelContent},s.createElement("div",{className:e.panelContentRow},s.createElement(et.TextField,{value:`${(null==c?void 0:c.givenName)||""} ${(null==c?void 0:c.familyName)||""}`,disabled:!0,label:t("components.directives.grade.submission-list-row.per-gradable-item.selectedStudentLabel")})),s.createElement("div",{className:e.panelContentRow},s.createElement(et.Checkbox,{defaultChecked:!!(null==l?void 0:l.isExempt),label:t("components.directives.grade.submission-list-row.per-gradable-item.checkboxExemptLabel"),onChange:e=>p((null==e?void 0:e.target).checked),analyticsId:"gradebook.gradableItem.ExemptPanel.checkbox"}))),s.createElement("div",{className:e.panelFooter},s.createElement(et.BbPanelFooter,{primaryButtonProps:{text:t("components.directives.save-buttons.notSaved"),disabled:!k,onClick:()=>(n(l?M.X.gradebookGrade.updateGradeByGradeId(l,{...l,isExempt:m}):M.X.gradebookGrade.createGradeByUserId({courseId:o,columnId:a,userId:i,isExempt:m})),void g(!0)),className:e.footerButton},secondaryButtonProps:{text:t("components.directives.save-buttons.cancel"),onClick:()=>ot.bb.leavePeekState(),className:e.footerButton},analyticsId:"gradebook.gradableItem.ExemptPanel.footer"})),s.createElement(ka,{...C}))};const Ca=Object(ee.makeStyles)((e=>Object(ee.createStyles)({studentTabs:{borderBottom:`1px solid ${e.palette.border.main}`,margin:"0 -30px",padding:"0 30px"}})));var Ea;!function(e){e.Grades="grades",e.Progress="progress"}(Ea||(Ea={}));const Ia=e=>{const{onChange:t,value:n,analyticsId:i}=e,a=Ca(),o=Object(u.a)(),r=[{id:Ea.Grades,ariaControls:`student-tab-panel-${Ea.Grades}`,displayKey:"gradebook.studentTabs.grades"},{id:Ea.Progress,ariaControls:`student-tab-panel-${Ea.Progress}`,displayKey:"gradebook.studentTabs.progress"}];return s.createElement("div",{className:a.studentTabs},s.createElement(v.AnalyticsTabs,{onChange:(e,n)=>t(n),value:null!=n?n:r[0].id,analyticsId:`${i}.grade.studentTabs`},r.map((e=>s.createElement(v.AnalyticsTab,{analyticsId:`${i}.grade.studentTabs.${e.id}`,className:`js-student-tab-${e.id}`,key:`student-tab-${e.id}`,value:e.id,id:`student-tab-${e.id}`,label:o(e.displayKey),"aria-controls":e.ariaControls})))))},wa=Object(ut.l)((e=>Object(ut.e)({sideBarContainer:{height:"100%",borderRight:`1px solid ${e.palette.border.main}`,overflow:"scroll",width:"20%",[e.breakpoints.down("sm")]:{width:"50%"},[e.breakpoints.down("xs")]:{width:"100%"}},schemaTopBar:{display:"flex",padding:"15px 10px 15px 15px",justifyContent:"space-between",alignItems:"center"},sideBarTitle:{margin:"0 !important",fontSize:"16px !important",fontWeight:e.typography.fontWeightBold},openSchemaDialogBtn:{background:e.palette.background.default,color:e.palette.text.secondary,"&:hover":{borderColor:e.palette.background.default,background:e.palette.background.default,color:e.palette.action.active}},warningBanner:{padding:"12px 16px"},warningIconContainer:{display:"flex",justifyContent:"center",alignItems:"center"},warningIcon:{marginRight:"10px"}})));var Aa=n("kNOQ");const Oa=e=>Object(r.e)((t=>M.gc.gradebookSchema.getGradebookSchemasByCourseId(t,e)));var Da=n("flm2"),Ta=n("4vxQ"),Pa=n("Oa+x"),$a=n("NdLt");const Ga=Object(ut.l)((()=>Object(ut.e)({schemaDialog:{"& div":{border:"none"},"& input":{margin:"0px",border:"none"},"& .bb-dialog-content":{minHeight:"85px"}},warningMessage:{margin:"0"},helperTxtMsg:{margin:"0px",marginTop:"5px"}})));var ja=n("EvRQ");function La(){const e={isValid:!0,errorMessage:""};return{lowerBound:e,upperBound:e,gradeName:e}}const Na="components.directives.validation.messages.errors.number_invalid",Ba="components.directives.validation.messages.errors.number_be_zero",Ma="components.directives.validation.messages.errors.number_small",Ra="components.directives.validation.messages.errors.number_small",Fa="components.directives.validation.messages.errors.required",Va="components.directives.validation.messages.errors.schema_symbol_string",_a="components.directives.validation.messages.errors.max_chars",Ua=e=>{const{parseNumber:t,formatNumber:n}=Object(W.a)(),i=Object(u.a)(),[a,o]=Object(s.useState)({isValid:!0,symbols:{}}),r=Object(s.useCallback)((t=>{var n;const i=e[t].lowerBound,s=null===(n=e[t+1])||void 0===n?void 0:n.lowerBound;return void 0!==s&&i<=s}),[e]);const l=Object(s.useCallback)(((t,s)=>{var a;const o=s.lowerBound;let l="";return("string"==typeof o?o:"")?l=i(Na):t===e.length-1&&0!==o?l=i(Ba):r(t)&&(l=i(Ma,{value_LOCALIZED:n((null===(a=e[t+1])||void 0===a?void 0:a.lowerBound)+.1,{style:"decimal",maximumFractionDigits:5})})),{isValid:!l,errorMessage:l}}),[n,r,e,i]),c=Object(s.useCallback)(((e,t)=>{if(0===e){const e=t.upperBound;let s="";return("string"==typeof e?e:"")?s=i(Na):e<100?s=i(Ra,{value_LOCALIZED:n(100)}):function(e){return!isNaN(e.lowerBound)&&e.upperBound<=e.lowerBound}(t)&&(s=i(Ma,{value_LOCALIZED:n(t.lowerBound+.1,{style:"decimal",maximumFractionDigits:5})})),{isValid:!s,errorMessage:s}}return{isValid:!0,errorMessage:""}}),[n,i]),d=Object(s.useCallback)(((t,s)=>{const a=s.symbol;let o="";return a.trim()?a.length>32?o=i(_a,{limit:n(32)}):e.find(((e,n)=>n!==t&&e.symbol===a))&&(o=i(Va)):o=i(Fa),{isValid:!o,errorMessage:o}}),[e,i,n]),m=Object(s.useCallback)((()=>{o(e&&0!==e.length?e.reduce(((e,t,n)=>{const i=l(n,t),s=c(n,t),a=d(n,t);return e.symbols[t.id]={lowerBound:i,upperBound:s,gradeName:a},e.isValid&&(i.errorMessage||s.errorMessage||a.errorMessage)&&(e.isValid=!1),e}),{symbols:{},isValid:!0}):{isValid:!0,symbols:{}})}),[e,d,l,c]);return Object(s.useEffect)((()=>{m()}),[m,e]),a};var Ha=({schemas:e,exitCallback:t})=>{const[n,i]=Object(s.useState)(!1),[o,r]=Object(s.useState)(!1),[l,c]=Object(s.useState)(""),d=Object(s.useRef)(null),p=Object(tn.i)("gradingSchema","gradingSchema.organization"),h=Ga(),g=Object(u.a)(),b="add-schema-name-field",f=(e=!1)=>{r(e),i(!0)},y=Object(ja.a)((()=>{var e,t;d&&d.current&&(null===(t=null===(e=d.current.getElementsByTagName("input"))||void 0===e?void 0:e.item(0))||void 0===t||t.focus())}),1);Object(s.useEffect)((()=>{n||y()}),[n,y]);const k=e.some((e=>e.ui.displayTitle.toLocaleLowerCase()===l.toLocaleLowerCase()));return a.a.createElement(m.a,{open:!n,maxWidth:"md",disableBackdropClick:!0,className:Object(J.a)(h.schemaDialog,"js-add-schema-dialog"),onClose:()=>f(),TransitionProps:{onExited:()=>{t(o,l),i(!1)}},"aria-labelledby":"add-schema-dialog-title",analyticsId:"course.grades.settings.schema.add.dialog"},a.a.createElement(v.AnalyticsDialogTitle,{analyticsId:"add-schema-dialog-title",onClose:()=>f(),id:"add-schema-dialog-title"},g(p("gradingSchema.addGradingSchemaModal.title"))),a.a.createElement(v.AnalyticsDialogContent,{analyticsId:"add-schema-dialog-content"},a.a.createElement(Ta.a,{ref:d,analyticsId:"course.grades.settings.schema.add.title.input",floatingLabel:!0,label:g("gradingSchema.addGradingSchemaModal.textInputLabel"),value:l,error:k,helperText:k&&a.a.createElement(v.AnalyticsTypography,{component:"span",className:h.warningMessage},g("gradingSchema.schemaDetail.duplicateGradingSchemaModal.warning")),InputProps:{id:b},InputLabelProps:{htmlFor:b},FormHelperTextProps:{classes:{root:h.helperTxtMsg}},onChange:e=>{const t=e.target.value.substring(0,64);c(t)},fullWidth:!0})),a.a.createElement(v.AnalyticsDialogActions,{analyticsId:"add-schema-dialog-actions"},a.a.createElement(Pa.a,{onClick:()=>f(!1),analyticsId:"course.grades.settings.schema.add.cancel.button","aria-label":g("global.cancel")},g("global.cancel")),a.a.createElement($a.AnalyticsPrimaryButton,{analyticsId:"course.grades.settings.schema.add.save.button",disabled:""===l||k,onClick:()=>f(!0),"aria-label":g("global.save")},g("gradingSchema.addGradingSchemaModal.add"))))};const za=Object(ut.l)((e=>Object(ut.e)({gradingSchemaListItem:{padding:0},gradingSchemaListItemButton:{width:"100%",justifyContent:"flex-start",padding:"12px",color:e.palette.action.active,fontWeight:e.typography.fontWeightMedium,borderRadius:0,borderBottom:`1px solid ${e.palette.border.main}`,wordBreak:"break-word",textAlign:"start",background:e.palette.background.default,"&:hover":{background:e.palette.background.default}},gradingSchemaListItemButtonActive:{color:e.palette.background.default,background:e.palette.action.selected,textDecoration:"underline","&:hover":{textDecoration:"underline",background:e.palette.action.selected}}})));var qa=n("WcH3");const Wa=({schema:e,selectedSchema:t,setSelectedSchema:n,listItemRef:i,setDrawerOpen:a,discardToggleOpen:o,isFooterOpen:r})=>{var l;const c=Object(ee.useTheme)(),d=Object(ee.useMediaQuery)(c.breakpoints.down("xs")),u=za();return s.createElement(qa.a,{analyticsId:"course.grades.settings.schema.select",onClick:()=>{r?t.id!==e.id&&o(!0):(n(e),d&&a(!0))},ref:t.id===e.id?i:null,className:u.gradingSchemaListItem},s.createElement(v.AnalyticsDefaultButton,{analyticsId:"course.grades.settings.schema.button",className:Object(J.a)({[u.gradingSchemaListItemButton]:!0,"js-listitem-btn-active":t.id===e.id,[u.gradingSchemaListItemButtonActive]:t.id===e.id})},null===(l=null==e?void 0:e.ui)||void 0===l?void 0:l.displayTitle))};var Ka=n("fN3Q");const Ja=({courseId:e,schemas:t,setSelectedSchema:n,selectedSchema:i,setDrawerOpen:a,drawerOpen:o,discardToggleOpen:l,isFooterOpen:c,focusAndScrollAddedSchema:d,setFocusAndScrollAddedSchema:m})=>{const p=wa(),h=Object(u.a)(),g=Object(s.useRef)(null),b=Oa(e),f=Object(r.d)(),{displayModal:y,modal:k}=Object(vt.qb)(Ha,{schemas:t}),x=Object(tn.i)("gradingSchema","gradingSchema.organization"),S=Object(s.useCallback)((async t=>{const i=[],s={id:Object(Ka.v4)(),schemaId:"",symbol:"A",lowerBound:50,upperBound:100,absoluteTranslation:75},a={id:Object(Ka.v4)(),schemaId:"",symbol:"F",lowerBound:0,upperBound:50,absoluteTranslation:25};i.push(s),i.push(a);const o={courseId:e,scaleType:B.ac.Tabular,symbols:i,title:t,userDefined:!1,version:0},r=await f(M.X.gradebookSchema.persistGradebookSchema({courseId:e,schema:o})),l=K.cloneDeep(r.schema);n(l),m(!0)}),[e,f,m,n]),C=Object(Aa.a)((e=>{var t,n;g&&g.current&&(g.current.scrollIntoView({behavior:"smooth",block:"center"}),e&&(null===(n=null===(t=g.current.getElementsByTagName("button"))||void 0===t?void 0:t.item(0))||void 0===n||n.focus(),m(!1)))}),350);Object(s.useEffect)((()=>{C(d)}),[b.length,o,d,C]);const E=b.length>=100;return s.createElement("div",{className:p.sideBarContainer},s.createElement("div",{className:p.schemaTopBar},s.createElement(v.AnalyticsTypography,{variant:"h2",className:p.sideBarTitle},h(x("gradingSchema.sideBar.title"))),s.createElement(v.AnalyticsDefaultButton,{analyticsId:"course.grades.settings.schema.add.button",className:p.openSchemaDialogBtn,disabled:E,startIcon:s.createElement(I.Add,null),onClick:async()=>{if(c)l(!0);else{const{confirmed:e,results:t}=await y();e&&t&&await S(t)}},"aria-label":h("gradingSchema.addGradingSchemaModal.title")},h("gradingSchema.sideBar.add"))),E&&s.createElement(Da.a,{severity:"warning",classes:{root:p.warningBanner}},s.createElement("div",{className:p.warningIconContainer},s.createElement(I.Warning,{className:p.warningIcon}),s.createElement(v.AnalyticsTypography,null,h(x("gradingSchema.sideBar.maximumLimitWarning"))))),i&&s.createElement(v.AnalyticsList,{analyticsId:"gradebook.schema.side-bar.list",className:"grading-schema-list"},t.map((e=>s.createElement(Wa,{key:e.id,setDrawerOpen:a,selectedSchema:i,schema:e,listItemRef:g,setSelectedSchema:n,isFooterOpen:c,discardToggleOpen:l})))),k)},Qa=Object(ut.l)((e=>Object(ut.e)({gradingSchemaContainer:{display:"flex",height:"100%"},peekPanel:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",height:"100%",overflow:"scroll"},peekPanelHeader:{"& .ms-Panel-subTitle, .ms-Panel-headerText":{paddingLeft:"16px",maxWidth:"200px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",[e.breakpoints.up("sm")]:{maxWidth:"400px"}}},peekPanelContainer:{height:"100%",padding:0,overflow:"scroll"},schemaDrawer:{top:"3rem"}}))),Za=Object(ut.l)((()=>Object(ut.e)({schemaDialog:{"& div":{border:"none"},"& input":{margin:"0px",border:"none"},"& .bb-dialog-content":{minHeight:"85px"}},warningMessage:{margin:"0"},helperTxtMsg:{margin:"0px",marginTop:"5px"}})));var Ya;!function(e){e.Discard="discard",e.Duplicate="duplicate"}(Ya||(Ya={}));var Xa=({dialogHandler:e,handleOnClose:t,title:n,description:i,isDialogOpen:o,dialogId:r,actionBtnName:l,schemas:c,selectedSchemaName:d})=>{const m=Object(u.a)(),p=Za(),h=r===Ya.Duplicate,[g,b]=Object(s.useState)(""),f=Object(s.useRef)(null),y="dialog-text-field";Object(s.useEffect)((()=>{const e=m("gradingSchema.schemaDetail.duplicateGradingSchemaModal.duplicatedName",{value_LOCALIZED:""}).length,t=m("gradingSchema.schemaDetail.duplicateGradingSchemaModal.duplicatedName",{value_LOCALIZED:d.substring(0,64-e)});b(t)}),[m,d]);const k=Object(Aa.a)((()=>{var e,t,n;null===(n=null===(t=null===(e=null==f?void 0:f.current)||void 0===e?void 0:e.getElementsByTagName("input"))||void 0===t?void 0:t.item(0))||void 0===n||n.focus()}),1);Object(s.useEffect)((()=>{o&&k()}),[o,k]);const x=c.some((e=>e.ui.displayTitle.toLocaleLowerCase()===g.toLocaleLowerCase()));return a.a.createElement(v.AnalyticsDialog,{analyticsId:`${r}-dialog`,id:`${r}-dialog`,className:Object(J.a)({[p.schemaDialog]:h,"js-duplicate-schema-dialog":h,"gradingSchema-dicard-dialog":!h}),open:o,maxWidth:"md",disableBackdropClick:!0,onClose:t,"aria-labelledby":`${r}-dialog-title`},a.a.createElement(v.AnalyticsDialogTitle,{analyticsId:`${r}-dialog-title`,onClose:t,id:`${r}-dialog-title`},n),a.a.createElement(v.AnalyticsDialogContent,{analyticsId:`${r}-dialog-content`},r===Ya.Duplicate?a.a.createElement(v.AnalyticsTextField,{ref:f,analyticsId:"course.grades.settings.schema.duplicate.title.input",floatingLabel:!0,label:m("gradingSchema.addGradingSchemaModal.textInputLabel"),value:g,error:x,helperText:x&&a.a.createElement(v.AnalyticsTypography,{component:"span",className:p.warningMessage},m("gradingSchema.schemaDetail.duplicateGradingSchemaModal.warning")),FormHelperTextProps:{classes:{root:p.helperTxtMsg}},InputProps:{id:y},InputLabelProps:{htmlFor:y},onChange:e=>{const t=e.target.value.substring(0,64);b(t)},fullWidth:!0}):a.a.createElement(v.AnalyticsDialogContentText,{analyticsId:`${r}-dialog-description`,id:`${r}-dialog-description`},i,a.a.createElement("div",null),m("gradingSchema.schemaDetail.discardGradingSchemaModal.warning"))),a.a.createElement(v.AnalyticsDialogActions,{analyticsId:`${r}-dialog-actions`},a.a.createElement(v.AnalyticsDefaultButton,{onClick:t,analyticsId:`course.grades.settings.schema.${r}.cancel.button`,"aria-label":m("global.cancel")},m("global.cancel")),a.a.createElement(v.AnalyticsPrimaryButton,{analyticsId:`course.grades.settings.schema.${r}.button`,disabled:!!h&&(""===g||x),onClick:()=>e(g),"aria-label":m(h?"gradingSchema.aria.copySchemaSave":"gradingSchema.aria.discardSchemaButton")},l)))};const eo=Object(ut.l)((e=>Object(ut.e)({footerContainer:{width:"80%",position:"absolute",bottom:0,right:0,zIndex:3,[e.breakpoints.down("sm")]:{width:"50%"},[e.breakpoints.down("xs")]:{width:"100%"}}}))),to=Object(ut.l)((e=>Object(ut.e)({menuIconBtn:{minHeight:"auto",zIndex:1},detailsMenuIcon:{cursor:"pointer",color:e.palette.text.secondary,"&:hover":{color:e.palette.action.active}},menuItem:{transition:"all .2s","& span":{marginLeft:"10px"},"&:hover":{transition:"all .2s",background:e.palette.background.b9,"& span":{marginLeft:"10px",color:e.palette.background.default},"& .menu-icon":{color:e.palette.background.default}}}})));var no=({symbol:e,rowDeleteHandler:t,setEditableHandler:n,numberOfSchemaRows:i,currentSymbolIndex:o})=>{const r=to(),l=Object(u.a)(),[c,d]=Object(s.useState)(null),m=Object(s.useCallback)((()=>{d(null)}),[]),p=Object(s.useCallback)((e=>{d(e.currentTarget)}),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(v.AnalyticsIconButton,{analyticsId:"gradebook.schema.read-only-symbol-menu.iconButton",className:r.menuIconBtn,onClick:p,"aria-label":l("gradingSchema.aria.optionsButton",{NAME:e.symbol})},a.a.createElement(Rs.Menu,{"aria-expanded":null!==c,"aria-haspopup":"menu",className:Object(J.a)(r.detailsMenuIcon,`menu-icon-${e.symbol}`)})),a.a.createElement(v.AnalyticsMenu,{analyticsId:"gradebook.schema.read-only-symbol-menu.menu",anchorEl:c,open:null!==c,onClose:m},a.a.createElement(v.AnalyticsMenuItem,{analyticsId:"gradebook.schema.read-only-symbol-menu.menuItem",className:Object(J.a)(r.menuItem,`js-edit-menu-${e.symbol}`),button:!0,onClick:()=>{m(),n(ho.SYMBOL)},"aria-label":l("gradingSchema.schemaDetail.edit")},a.a.createElement(I.Edit,{className:"menu-icon"}),a.a.createElement(v.AnalyticsTypography,{component:"span"},l("gradingSchema.schemaDetail.edit"))),i-1!==o&&i>2&&a.a.createElement(v.AnalyticsMenuItem,{analyticsId:"gradebook.schema.read-only-symbol-menu.menuItem",className:Object(J.a)(r.menuItem,`js-delete-menu-${e.symbol}`),button:!0,onClick:()=>{m(),t(o)},"aria-label":l("gradingSchema.schemaDetail.delete")},a.a.createElement(I.Trash,{className:"menu-icon"}),a.a.createElement(v.AnalyticsTypography,{component:"span"},l("gradingSchema.schemaDetail.delete")))))};const io=Object(ut.l)((e=>Object(ut.e)({gradeText:{width:"70%",'& input[type="text"]':{border:"none"},[e.breakpoints.up("sm")]:{width:"100%"},[e.breakpoints.up("xs")]:{'& input[type="text"]':{margin:"0px"}}},gradeTextErrorMsg:{marginBottom:"5px"},gradeSymbol:{display:"inline-block",width:"70%",margin:"0",zIndex:1,cursor:"pointer"},helperTxtMsg:{margin:"0px",marginTop:"5px"}})));var so=({symbol:e,isEditable:t,gradeSymbolOnChangeHandler:n,gradeSymbolOnClickHandler:i,currentEditableRow:s,currentIndex:o,clickedTextField:r,validation:l})=>{const c=Object(u.a)(),d=io(),m=`grade-symbol-text-field-${o}`,p=`grade-symbol-error-msg-${o}`;return a.a.createElement(a.a.Fragment,null,t?a.a.createElement(v.AnalyticsTextField,{className:d.gradeText,floatingLabel:!0,label:c("gradingSchema.schemaDetail.symbolLabel"),value:null==e?void 0:e.symbol,onChange:n,onClick:i,InputLabelProps:{shrink:!0,htmlFor:m},autoFocus:s===o&&r===ho.SYMBOL,error:!l.isValid,helperText:a.a.createElement(a.a.Fragment,null,!l.isValid&&a.a.createElement(v.AnalyticsTypography,{component:"span",className:d.gradeTextErrorMsg,id:p},l.errorMessage)),InputProps:{id:m,"aria-label":c("gradingSchema.aria.gradeName"),"aria-describedby":l.isValid?void 0:p},FormHelperTextProps:{classes:{root:d.helperTxtMsg}},analyticsId:"course.grades.settings.schemaEdit.updateSymbolString.input.text",required:!0}):a.a.createElement(v.AnalyticsTypography,{component:"span",onClick:i,className:Object(J.a)(d.gradeSymbol,`symbol-${e.symbol}grade-symbol`),"aria-label":c("gradingSchema.aria.gradeName",{NAME:e.symbol})},e.symbol))};var ao=({validation:e,currentIndex:t})=>{const n=Object(ut.l)((()=>Object(ut.e)({warningMessage:{margin:"0"}})))();return a.a.createElement(a.a.Fragment,null,!e.lowerBound.isValid&&a.a.createElement(v.AnalyticsTypography,{component:"span",className:n.warningMessage,id:`lower-bound-error-msg-${t}`},e.lowerBound.errorMessage),!e.upperBound.isValid&&a.a.createElement(v.AnalyticsTypography,{component:"span",className:n.warningMessage,id:`upper-bound-error-msg-${t}`},e.upperBound.errorMessage))};const oo=Object(ut.l)((e=>Object(ut.e)({rangeText:{width:"60px",'& input[type="text"],input[type="text"][disabled]':{margin:"0",textAlign:"left",backgroundColor:e.palette.background.default,border:"none",color:e.palette.action.selected}},nonEditableBound:{margin:"0",cursor:"pointer"},boundHelperTxtMsg:{display:"flex",flexDirection:"column",margin:"0",marginTop:"5px",whiteSpace:"nowrap",color:e.palette.error.main,width:"250px",overflowWrap:"break-word",wordBreak:"break-word",[e.breakpoints.down("sm")]:{whiteSpace:"pre-wrap"}}}))),ro=(e,t)=>{const{formatNumber:n,countDigits:i}=Object(W.a)();if("string"==typeof e)return t;const s=i(t).fractionalCount;return n(e,{maximumFractionDigits:5,useGrouping:!1,minimumFractionDigits:s>0&&s<=5?s:void 0})};var lo=({isEditable:e,symbol:t,lowerBoundOnClickHandler:n,lowerBoundOnChangeHandler:i,isCurrentRowEditable:o,clickedTextField:r,validation:l,HelperText:c,currentIndex:d})=>{const m=oo(),p=Object(u.a)(),[h,g]=Object(s.useState)(t.lowerBound||0===t.lowerBound?t.lowerBound.toString():""),b=`lower-bound-field-${d}`,f=Object(s.useCallback)((e=>{const{value:t}=e.target;g(t),i(t)}),[i]),y=Object(s.useCallback)((()=>{g(t.lowerBound||0===t.lowerBound?t.lowerBound.toString():"")}),[t.lowerBound]),k=ro(t.lowerBound,h);return a.a.createElement(a.a.Fragment,null,e?a.a.createElement(Ta.a,{analyticsId:"course.grades.settings.schemaEdit.first.lowerBound.input.text",className:m.rangeText,floatingLabel:!0,label:p("gradingSchema.schemaDetail.lowerBoundLabel"),value:k,onClick:n,onChange:f,onBlur:y,autoFocus:o&&r===ho.LOWER_BOUND,InputProps:{id:b,"aria-label":p("gradingSchema.aria.lowerBound"),"aria-describedby":l.isValid?void 0:`lower-bound-error-msg-${d}`},InputLabelProps:{shrink:!0,htmlFor:b},error:!l.isValid,helperText:c,FormHelperTextProps:{classes:{root:m.boundHelperTxtMsg}},required:!0}):a.a.createElement(v.AnalyticsTypography,{component:"span",className:Object(J.a)(m.nonEditableBound,`js-lowerBound-${t.symbol}`),onClick:n,"aria-label":p("gradingSchema.aria.lowerBound",{NAME:t.symbol,VALUE:h})},p("gradingSchema.schemaDetail.boundValues",{value_LOCALIZED:k})))};var co=({isDisabled:e,isEditable:t,symbol:n,upperBoundOnClickHandler:i,upperBoundOnChangeHandler:o,currentEditableRow:r,currentIndex:l,clickedTextField:c,validation:d})=>{const m=Object(u.a)(),p=oo(),[h,g]=Object(s.useState)(n.upperBound||0===n.upperBound?n.upperBound.toString():""),b=`upper-bound-field-${l}`,f=Object(s.useCallback)((e=>{const{value:t}=e.target;g(t),o(t)}),[o]),y=Object(s.useCallback)((()=>{g(n.upperBound||0===n.upperBound?n.upperBound.toString():"")}),[n.upperBound]),k=ro(n.upperBound,h);return a.a.createElement(a.a.Fragment,null,!e&&t?a.a.createElement(Ta.a,{analyticsId:"course.grades.settings.schemaEdit.first.upperBound.input.text",className:p.rangeText,value:k,disabled:e,onClick:i,onChange:f,onBlur:y,autoFocus:r===l&&c===ho.UPPER_BOUND,error:!d.isValid,InputProps:{id:b,"aria-label":m("gradingSchema.aria.upperBound"),"aria-describedby":d.isValid?void 0:`upper-bound-error-msg-${l}`},InputLabelProps:{htmlFor:b},required:!0}):a.a.createElement(v.AnalyticsTypography,{component:"span",className:Object(J.a)(p.nonEditableBound,`js-upperBound-${n.symbol}`),onClick:i},m("gradingSchema.schemaDetail.boundValues",{value_LOCALIZED:k})))};const uo=Object(ut.l)((()=>Object(ut.e)({deleteIcon:{transition:"0.2s linear",cursor:"pointer"},deleteIconBtn:{minHeight:"auto",zIndex:1},deleteIconHidden:{visibility:"hidden"}})));var mo=({rowDeleteHandler:e,numberOfSchemaRows:t,currentSymbolIndex:n,deleteMenuVisibilityIndex:i})=>{const s=Object(u.a)(),o=uo();return a.a.createElement(a.a.Fragment,null,t>2&&a.a.createElement(v.AnalyticsIconButton,{analyticsId:"gradingSchema.schemaDetail.delete",className:o.deleteIconBtn,onClick:()=>e(n),"aria-label":s("gradingSchema.schemaDetail.delete")},a.a.createElement(I.Trash,{className:Object(J.a)({[o.deleteIcon]:!0,"js-delete-icon":!0,[o.deleteIconHidden]:!(i===n&&t-1!==n)})})))};const po=Object(ut.l)((e=>Object(ut.e)({gradeDetailsContainer:{position:"relative",padding:0,borderBottom:`1px solid ${e.palette.border.main}`,"&:last-child":{borderBottom:`1px solid ${e.palette.border.main}`}},gradeList:{display:"inline-flex",justifyContent:"space-between",width:"40%",alignItems:"baseline","& span":{width:"100%"},[e.breakpoints.down("sm")]:{display:"flex",width:"100%"}},gradeListRange:{display:"inline-flex",justifyContent:"space-between",width:"60%",alignItems:"baseline",[e.breakpoints.down("sm")]:{display:"flex",width:"100%"}},leftCellBorder:{borderRight:`1px solid ${e.palette.border.main}`},cellContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",[e.breakpoints.down("sm")]:{alignItems:"flex-start"}},gradeLeftContainer:{display:"flex",justifyContent:"space-between",alignItems:"center"},textBoxContainer:{width:"70%"},gradeRightContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",[e.breakpoints.down("sm")]:{marginTop:"24px"}},gradeListRangeLeft:{display:"inline-flex",alignItems:"baseline",justifyContent:"space-between",zIndex:1},textBetween:{margin:"0px 5px",whiteSpace:"nowrap"},middleAddIconList:{position:"absolute",width:"100%",padding:"0",left:0,height:"16px",bottom:2},middleAddIcon:{width:"100%",position:"relative",padding:"12px 0",left:0,transition:"all 0.2s","& span":{height:"16px",zIndex:2}},iconLine:{position:"absolute",bottom:"0",width:"100%",border:`1px solid ${e.palette.brand.main}`},iconLineDisabled:{border:`1px solid ${e.palette.action.disabled}`},addIcon:{color:e.palette.brand.main,fill:e.palette.common.white,position:"absolute",bottom:"30%",zIndex:1},addIconDisabled:{color:e.palette.action.disabled}})));var ho,go=({symbol:e,index:t,id:n,symbolChangeHandler:i,lowerBoundChangeHandler:o,upperBoundChangeHandler:r,editedSchemaSymbols:l,addRowHandler:c,deleteRowHandler:d,validation:m,isUpperBoundDisabled:p,numberOfSchemaRows:h,setEditableRow:g,editableRow:b,clickedTextField:f,setClickedTextField:y})=>{const[k,x]=Object(s.useState)(-1),[S,C]=Object(s.useState)(-1),[E,w]=Object(s.useState)(!1),A=Object(ee.useTheme)(),O=Object(u.a)(),D=po(),T=Object(ee.useMediaQuery)(A.breakpoints.down("sm")),P=b===t||!m.upperBound.isValid||!m.lowerBound.isValid||!m.gradeName.isValid,$=Object(s.useCallback)((e=>{y(e),g(t)}),[t,y,g]),G=Object(s.useCallback)((()=>{$(ho.SYMBOL)}),[$]),j=Object(s.useCallback)((()=>{$(ho.LOWER_BOUND)}),[$]),L=Object(s.useCallback)((()=>{$(ho.UPPER_BOUND)}),[$]),N=Object(s.useCallback)((e=>{i(t,e.target.value)}),[t,i]),B=Object(s.useCallback)((e=>{o(t,e)}),[t,o]),M=Object(s.useCallback)((e=>{r(t,e)}),[t,r]);Object(s.useEffect)((()=>{h-1!==t&&w("number"!=typeof l[t+1].lowerBound)}),[l,t,h]);const R=()=>{x(t)},F=()=>{x(-1)},V=()=>a.a.createElement("div",{className:D.gradeRightContainer},a.a.createElement(ee.Box,{className:D.gradeListRangeLeft},a.a.createElement(lo,{isEditable:P,symbol:e,currentIndex:t,lowerBoundOnClickHandler:j,lowerBoundOnChangeHandler:B,isCurrentRowEditable:b===t,clickedTextField:f,validation:m.lowerBound,HelperText:a.a.createElement(ao,{validation:m,currentIndex:t})}),a.a.createElement(v.AnalyticsTypography,{component:"span",className:D.textBetween,"aria-label":O("gradingSchema.schemaDetail.textBetween")},O(0!==t?"gradingSchema.schemaDetail.textBetween":"gradingSchema.schemaDetail.textBetweenLastRow")),a.a.createElement(co,{isDisabled:p,isEditable:P,symbol:e,upperBoundOnClickHandler:L,upperBoundOnChangeHandler:M,currentEditableRow:b,currentIndex:t,clickedTextField:f,validation:m.upperBound}))),_=()=>a.a.createElement("div",null,P?a.a.createElement(mo,{rowDeleteHandler:d,numberOfSchemaRows:h,currentSymbolIndex:t,deleteMenuVisibilityIndex:S}):a.a.createElement(no,{symbol:e,rowDeleteHandler:d,setEditableHandler:$,numberOfSchemaRows:h,currentSymbolIndex:t}),h-1!==t&&a.a.createElement("div",{className:D.middleAddIconList,onMouseEnter:R,onMouseLeave:F,onFocus:R,onBlur:F},a.a.createElement(v.AnalyticsTooltip,{analyticsId:"",title:O("gradingSchema.schemaDetail.addIcon",{value_LOCALIZED:e.symbol}),className:D.middleAddIcon},a.a.createElement(v.AnalyticsIconButton,{analyticsId:"gradebook.schema.details.iconButton",disabled:E,className:`js-middleAdd-con-${e.symbol}`,onClick:()=>c(t),"aria-label":O("gradingSchema.schemaDetail.addIcon",{value_LOCALIZED:e.symbol})},k===t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(I.Add,{className:Object(J.a)({[D.addIcon]:!0,"js-add-Icon":!0,[D.addIconDisabled]:E})}),a.a.createElement("hr",{className:Object(J.a)({[D.iconLine]:!0,[D.iconLineDisabled]:E})}))))));return a.a.createElement(v.AnalyticsTableRow,{analyticsId:"gradebook.schema.details.tableRow",className:Object(J.a)(D.gradeDetailsContainer,"js-grade-deatails-container"),key:n,onMouseOver:()=>{C(t)},onMouseOut:()=>{C(-1)},onFocus:()=>{C(t)},onBlur:()=>{C(-1)}},a.a.createElement(v.AnalyticsTableCell,{analyticsId:"gradebook.schema.details.tableCell",className:D.leftCellBorder},a.a.createElement("div",{className:D.cellContainer},a.a.createElement("div",{className:D.textBoxContainer},a.a.createElement(so,{symbol:e,isEditable:P,gradeSymbolOnChangeHandler:N,gradeSymbolOnClickHandler:G,currentEditableRow:b,currentIndex:t,clickedTextField:f,validation:m.gradeName}),T&&V()),T&&_())),!T&&a.a.createElement(v.AnalyticsTableCell,{analyticsId:"gradebook.schema.details.tableCell"},a.a.createElement("div",{className:D.cellContainer},V(),_())))};!function(e){e[e.SYMBOL=0]="SYMBOL",e[e.LOWER_BOUND=1]="LOWER_BOUND",e[e.UPPER_BOUND=2]="UPPER_BOUND",e[e.NONE=3]="NONE"}(ho||(ho={}));var bo=({editedSchemaSymbols:e,setSymbolsInCurrentSchema:t,setFooterOpen:n,setIsDirty:i,editableRow:o,setEditableRow:r,validation:l})=>{const{parseNumber:c,formatNumber:d}=Object(W.a)(),[u,m]=Object(s.useState)(ho.NONE),p=Object(s.useCallback)((s=>{var a;const o=[...e];if(s<o.length-1){const l=o[s+1],u=c(d((l.lowerBound+l.upperBound)/2,{style:"decimal",maximumFractionDigits:5}));o.splice(s+1,0,{schemaId:null===(a=e[s])||void 0===a?void 0:a.schemaId,lowerBound:u,upperBound:l.upperBound,absoluteTranslation:(u+l.upperBound)/2,symbol:"",id:Object(Ka.v4)()}),l.upperBound=u,l.absoluteTranslation=(l.lowerBound+l.upperBound)/2,o[s+2]=l,t(o),n(!0),i(!1),r(s+1),m(ho.SYMBOL)}}),[e,c,d,t,n,i,r]),h=Object(s.useCallback)((s=>{const a=[...e];if(s!==a.length-1&&a.length>2){const e=a[s+1];e.upperBound=a[s].upperBound,e.absoluteTranslation=(e.lowerBound+e.upperBound)/2,a.splice(s,1),t(a),i(!0),n(!0)}}),[e,n,i,t]),g=Object(s.useCallback)((n=>{const i=[...e];n!==e.length-1&&(i[n+1].upperBound=i[n].lowerBound,i[n+1].absoluteTranslation=(i[n+1].lowerBound+i[n+1].upperBound)/2,t(i))}),[e,t]),b=Object(s.useCallback)(((s,a,o)=>{const r=[...e];if("symbol"===o)r[s][o]=a;else if(a.length<=21){const e=c(a);!isNaN(e)?(r[s][o]=c(d(e,{style:"decimal",maximumFractionDigits:5})),r[s].absoluteTranslation=(r[s].lowerBound+r[s].upperBound)/2,"lowerBound"===o&&g(s)):r[s][o]=a}t(r),n(!0),i(!0)}),[e,t,n,i,c,d,g]),f=Object(s.useCallback)(((e,t)=>{b(e,t,"symbol")}),[b]),v=Object(s.useCallback)(((e,t)=>{b(e,t,"lowerBound")}),[b]),y=Object(s.useCallback)(((e,t)=>{b(e,t,"upperBound")}),[b]);return a.a.createElement(a.a.Fragment,null,e.filter((e=>!!e)).map(((t,n)=>a.a.createElement(go,{numberOfSchemaRows:e.length,editedSchemaSymbols:e,symbol:t,key:t.id,id:t.id,index:n,symbolChangeHandler:f,lowerBoundChangeHandler:v,upperBoundChangeHandler:y,addRowHandler:p,deleteRowHandler:h,setEditableRow:r,editableRow:o,isUpperBoundDisabled:0!==n,validation:l.symbols[t.id]||La(),clickedTextField:u,setClickedTextField:m}))))};const fo=Object(ut.l)((e=>Object(ut.e)({bodyContainer:{height:"100%",overflow:"scroll",padding:"20px",width:"80%",[e.breakpoints.down("sm")]:{width:"50%"},[e.breakpoints.down("xs")]:{width:"100%"}},backButton:{marginBottom:"10px"},backIcon:{fontSize:e.typography.fontSizeMedium,marginRight:"10px"},detailsHeader:{width:"70%",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`1px solid ${e.palette.border.main}`,"& :hover":{cursor:"pointer"},'& input[type="text"],input[type="text"]:focus':{margin:"0",textAlign:"left",backgroundColor:e.palette.background.default,border:"none",color:e.palette.action.selected,boxShadow:"none"},[e.breakpoints.down("md")]:{width:"70%"},[e.breakpoints.down("sm")]:{width:"100%"}},schemaTitle:{wordBreak:"break-all",margin:"0 !important"},detailsMenuIcon:{position:"relative",cursor:"pointer",color:e.palette.text.secondary,"&:hover":{color:e.palette.action.active}},editableTitle:{border:"none",fontSize:e.typography.fontSizeLarge},duplicateNameWarning:{margin:"8px 0 0 0",color:e.palette.error.main},listContainer:{width:"70%",border:`1px solid ${e.palette.border.main}`,borderBottom:0,marginTop:"16px",marginBottom:"50px",padding:"0px","& th":{width:"60%",background:e.palette.background.default,borderTop:0},[e.breakpoints.down("md")]:{width:"70%"},[e.breakpoints.down("sm")]:{width:"100%"}},leftCellBorder:{width:"40% !important",borderRight:`1px solid ${e.palette.border.main}`},listHeaderContainer:{padding:0},listHeader:{borderBottom:`1px solid ${e.palette.border.main}`},middleBorder:{position:"absolute",height:"100%",width:"60%",borderLeft:`1px solid ${e.palette.border.main}`,left:"40%"},gradeRangeBox:{marginLeft:0}}))),vo=({schemaName:e,isDirty:t,courseId:n,hasDuplicateName:i,editedSchemaSymbols:o,isFooterOpen:r,editableRow:l,setEditedSchemaSymbols:c,setDrawerOpen:d,setFooterOpen:m,setIsDirty:p,setEditableRow:h,discardToggleOpen:g,setIsDuplicateDialogOpen:b,setSchemaName:f,validation:y,selectedSchema:k,setIsNameEditable:x,isNameEditable:S})=>{const C=Object(u.a)(),E=Object(ee.useTheme)(),w=fo(),A=Object(ee.useMediaQuery)(E.breakpoints.down("xs")),O=Object(ee.useMediaQuery)(E.breakpoints.down("sm")),D=Oa(n),T=Object(s.useRef)(null),P=Object(s.useCallback)((e=>{c([...e])}),[c]);return Object(s.useEffect)((()=>{t||x(!0)}),[k.id,t,x]),Object(s.useEffect)((()=>{S||k.ui.displayTitle===e||(m(!0),p(!0))}),[S,m,p,e,k.ui.displayTitle]),Object(s.useEffect)((()=>{m(!1),p(!1)}),[k,m,p]),Object(s.useEffect)((()=>{const e=e=>{var t;T.current&&!(null===(t=T.current)||void 0===t?void 0:t.contains(e.target))&&h(-1)};return document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}}),[y.isValid,h]),a.a.createElement(ee.Box,{className:w.bodyContainer},A&&a.a.createElement(v.AnalyticsIconButton,{className:w.backButton,onClick:()=>{r?g(!0):d(!1)},analyticsId:"course.grades.settings.back.button"},a.a.createElement(I.ChevronLeft,{className:w.backIcon}),C("gradingSchema.schemaDetail.back")),a.a.createElement(ee.Box,{className:w.detailsHeader},S?a.a.createElement(v.AnalyticsTypography,{className:w.schemaTitle,variant:"h2",onClick:()=>{x(!1)}},e,a.a.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.settings.edit.title.button","aria-label":C("gradingSchema.aria.editSchemaNameButton")},a.a.createElement(I.Edit,{className:w.detailsMenuIcon}))):a.a.createElement(v.AnalyticsTextField,{analyticsId:"course.grades.settings.schema.add.title.input",autoFocus:!0,InputProps:{classes:{root:w.editableTitle}},value:e,onChange:e=>f(e.target.value.substring(0,64)),onBlur:()=>x(!i)}),a.a.createElement(v.AnalyticsTooltip,{analyticsId:"course.grades.settings.duplicate.tooltip",title:C("gradingSchema.schemaDetail.duplicate"),placement:"right"},a.a.createElement(v.AnalyticsIconButton,{analyticsId:"course.grades.settings.duplicate.button",disabled:!y.isValid||D.length>=100,onClick:()=>t?g(!0):b(!0),"aria-label":C("gradingSchema.aria.copySchemaButton")},a.a.createElement(I.Duplicate,{className:w.detailsMenuIcon})))),i&&a.a.createElement(v.AnalyticsTypography,{className:w.duplicateNameWarning},C("gradingSchema.schemaDetail.duplicateGradingSchemaModal.warning")),a.a.createElement("div",{className:Object(J.a)(w.listContainer,"js-list-Container"),ref:T},a.a.createElement(v.AnalyticsTable,{analyticsId:"gradingSchema.schemeMappingTable","aria-label":C("gradingSchema.aria.schemaMappingTable")},a.a.createElement(v.AnalyticsTableHead,{analyticsId:"gradingSchema.schemeMappingTableHead"},a.a.createElement(v.AnalyticsTableRow,{analyticsId:"gradingSchema.schemeMappingTableRow"},a.a.createElement(v.AnalyticsTableCell,{analyticsId:"gradingSchema.schemeMappingTableCell",className:w.leftCellBorder},a.a.createElement(v.AnalyticsTypography,{variant:"h3"},C("gradingSchema.schemaDetail.gradeName"))),!O&&a.a.createElement(v.AnalyticsTableCell,{analyticsId:"gradingSchema.schemeMappingTableCell"},a.a.createElement(v.AnalyticsTypography,{variant:"h3"},C("gradingSchema.schemaDetail.gradeRange"))))),a.a.createElement(v.AnalyticsTableBody,{analyticsId:"gradingSchema.schemeMappingTableBody"},o&&o.length&&a.a.createElement(bo,{editedSchemaSymbols:o,setSymbolsInCurrentSchema:P,setFooterOpen:m,setIsDirty:p,editableRow:l,setEditableRow:h,validation:y})))))},yo=({selectedSchema:e,setDrawerOpen:t,courseId:n,schemas:i,setSelectedSchema:a,setFooterOpen:o,isFooterOpen:l,discardToggleOpen:c,isDiscardOpen:d,setFocusAndScrollAddedSchema:m})=>{var p;const[h,g]=Object(s.useState)(e.symbols),b=Ua(h),[f,y]=Object(s.useState)(!1),[k,x]=Object(s.useState)(null===(p=null==e?void 0:e.ui)||void 0===p?void 0:p.displayTitle),[S,C]=Object(s.useState)(-1),[E,I]=Object(s.useState)(!1),[w,A]=Object(s.useState)(!1),[O,D]=Object(s.useState)(!0),T=Object(tn.i)("gradingSchema","gradingSchema.organization"),P=Object(r.d)(),$=Object(u.a)(),G=eo(),j=K.cloneDeep(Object(r.e)((t=>M.gc.gradebookSchema.getGradebookSchemaById(t,e.id))));Object(s.useEffect)((()=>{g(e.symbols),x(e.ui.displayTitle),C(-1)}),[e.symbols,e.ui.displayTitle]);const L=()=>{A(!1)},N=Object(s.useCallback)((()=>{c(!0)}),[c]),B=Object(s.useCallback)((e=>{"Escape"===e.key&&l&&!d&&N()}),[N,d,l]);Object(s.useEffect)((()=>(document.addEventListener("keydown",B,!1),()=>{document.removeEventListener("keydown",B,!1)})),[B]),Object(s.useEffect)((()=>{I(i.some((t=>t.id!==(null==e?void 0:e.id)&&t.ui.displayTitle.toLocaleLowerCase()===k.toLocaleLowerCase())))}),[e.id,k,i]);return s.createElement(s.Fragment,null,h.length>0&&s.createElement(s.Fragment,null,s.createElement(vo,{schemaName:k,isDirty:f,editableRow:S,courseId:n,hasDuplicateName:E,editedSchemaSymbols:h,isFooterOpen:l,setEditedSchemaSymbols:g,setDrawerOpen:t,setFooterOpen:o,setIsDirty:y,setEditableRow:C,discardToggleOpen:c,setIsDuplicateDialogOpen:A,setSchemaName:x,validation:b,selectedSchema:e,setIsNameEditable:D,isNameEditable:O}),l&&s.createElement(v.AnalyticsDialogActions,{analyticsId:"gradebook.schema.view.actions",className:G.footerContainer},s.createElement(v.AnalyticsDefaultButton,{analyticsId:"course.grades.settings.schema.cancel.button",className:"js-footer-cancel-btn",onClick:N,"aria-haspopup":"dialog","aria-label":$("global.cancel")},$("global.cancel")),s.createElement(v.AnalyticsPrimaryButton,{id:"footer-save-btn",onClick:()=>{P(M.X.gradebookSchema.updateGradebookSchema({courseId:n,schema:{...e,title:k,ui:{displayTitle:k},symbols:h}})),y(!1),o(!1),C(-1)},disabled:!f||!b.isValid||E||k.trim().length<=0,analyticsId:"course.grades.settings.schema.save.button","aria-label":$("global.save")},$("gradingSchema.save")))),s.createElement(Xa,{title:$("gradingSchema.schemaDetail.discardGradingSchemaModal.title"),description:$("gradingSchema.schemaDetail.discardGradingSchemaModal.description"),dialogId:Ya.Discard,handleOnClose:()=>{c(!1)},dialogHandler:async()=>{const e=(null==j?void 0:j.ui.displayTitleKey)?$(null==j?void 0:j.ui.displayTitleKey):null==j?void 0:j.ui.displayTitle;a({...j,ui:{displayTitle:e}}),x(e),g(null==j?void 0:j.symbols),o(!1),y(!1),c(!1),D(!0)},isDialogOpen:d,actionBtnName:$("gradingSchema.schemaDetail.discardGradingSchemaModal.discard"),selectedSchemaName:k,schemas:i}),s.createElement(Xa,{title:$(T("gradingSchema.schemaDetail.duplicateGradingSchemaModal.title")),description:"",dialogId:Ya.Duplicate,handleOnClose:L,dialogHandler:async t=>{if(f)return;const i=await P(M.X.gradebookSchema.persistGradebookSchema({courseId:n,schema:{...e,symbols:h,id:void 0,title:t,ui:{displayTitle:t}}})),s=K.cloneDeep(null==i?void 0:i.schema);a(s),m(!0),L()},isDialogOpen:w,actionBtnName:$("gradingSchema.schemaDetail.duplicateGradingSchemaModal.duplicate"),selectedSchemaName:k,schemas:i}))},ko=({courseId:e,setIsDirty:t})=>{(e=>{const t=Object(r.d)(),n=Oa(e),i=Object(r.e)((e=>M.gc.gradebookSchema.areGradebookSchemasLoading(e))),a=Object(r.e)((e=>M.gc.gradebookSchema.getGradebookSchemasPaging(e))),o=Object(s.useRef)(!!a&&!a.nextPage);Object(s.useEffect)((()=>{!e||i||a||t(M.X.gradebookSchema.loadGradebookSchemasByCourseId({courseId:e}))}),[i,e,t,a]),Object(s.useEffect)((()=>{e&&!i&&o.current&&(t(M.X.gradebookSchema.loadGradebookSchemasByCourseId({courseId:e,offset:n.length?n.length:void 0})),o.current=!1)}),[i,e,t,n.length]),Object(s.useEffect)((()=>{e&&!i&&a&&a.nextPage&&t(M.X.gradebookSchema.loadGradebookSchemasByCourseId({courseId:e,offset:n.length}))}),[i,e,t,n.length,a])})(e);const n=gn(e),i=Object(ee.useTheme)(),a=Object(u.a)(),o=Qa(),l=Object(ee.useMediaQuery)(i.breakpoints.down("xs")),[c,d]=Object(s.useState)(),[m,p]=Object(s.useState)(!1),[h,g]=Object(s.useState)(!1),[b,f]=Object(s.useState)(!1),[y,k]=Object(s.useState)(!1),x=Object(s.useCallback)((e=>{d(K.cloneDeep(e))}),[]),S=Oa(e).filter((e=>e.scaleType===B.ac.Tabular)).map((e=>({...e,ui:{...e.ui,displayTitle:e.ui.displayTitleKey?a(e.ui.displayTitleKey):e.ui.displayTitle}})));Object(s.useEffect)((()=>{t(h)}),[h,t]);return Object(s.useEffect)((()=>{!c&&S&&S.length>0&&x(S[0])}),[c,S,x]),s.createElement("div",{className:o.peekPanel},s.createElement("header",{className:o.peekPanelHeader},s.createElement(vt.R,{headerText:a("course.grades.grading-schema.title"),subHeaderText:(null==n?void 0:n.displayName)?null==n?void 0:n.displayName:"",analyticsIdPrefix:"gradebook.components.grading-schema-header",showMenuToggleButton:!0,readyToFocus:!0})),s.createElement("div",{className:o.peekPanelContainer},s.createElement("div",{className:o.gradingSchemaContainer},s.createElement(Ja,{courseId:e,schemas:S,setDrawerOpen:p,drawerOpen:m,setSelectedSchema:x,selectedSchema:c,isFooterOpen:h,discardToggleOpen:f,focusAndScrollAddedSchema:y,setFocusAndScrollAddedSchema:k}),c&&c.symbols&&S.length>0&&s.createElement(s.Fragment,null,l?s.createElement(v.AnalyticsDrawer,{analyticsId:"gradebook.schema.drawer",anchor:"bottom",variant:"persistent",PaperProps:{className:o.schemaDrawer},hideBackdrop:!0,disableEnforceFocus:!0,open:m,onClose:()=>{p(!1)}},s.createElement(yo,{schemas:S,selectedSchema:c,setSelectedSchema:x,setDrawerOpen:p,courseId:e,setFooterOpen:g,isFooterOpen:h,discardToggleOpen:f,isDiscardOpen:b,setFocusAndScrollAddedSchema:k})):s.createElement(yo,{schemas:S,selectedSchema:c,setSelectedSchema:x,setDrawerOpen:p,courseId:e,setFooterOpen:g,isFooterOpen:h,discardToggleOpen:f,isDiscardOpen:b,setFocusAndScrollAddedSchema:k})))))},xo=Object(ee.makeStyles)((e=>Object(ee.createStyles)({container:{display:"flex",flexDirection:"row",paddingLeft:"10px",paddingRight:"10px",[e.breakpoints.up("sm")]:{paddingRight:"0px"},[e.breakpoints.up("md")]:{paddingLeft:"0px"}},userDetailContainer:{flex:1},userFieldContainer:{display:"flex",flexDirection:"row",padding:"2px 5px","& button":{minWidth:0,minHeight:0,padding:"0 5px"}},nameIdContainer:{display:"flex",flexDirection:"column",flexFlow:"row wrap",[e.breakpoints.up("sm")]:{flexDirection:"row"}},username:{paddingRight:"0px",[e.breakpoints.up("sm")]:{paddingRight:"10px"}},userLabel:{fontWeight:e.typography.fontWeightSemiBold,paddingRight:"5px"},noWrap:{whiteSpace:"nowrap"},userValues:{wordBreak:"break-all"},pipeSymbol:{display:"none",[e.breakpoints.up("sm")]:{display:"block",margin:"0px 5px"}},pronounceContainer:{display:"flex",flexDirection:"column",[e.breakpoints.up("sm")]:{flexDirection:"row"}}}))),So=Object(ee.makeStyles)((()=>({studentMenuItem:{minWidth:"200px"},studentMenuIcon:{marginRight:"11px",marginLeft:"6px",display:"flex",alignItems:"center"},container:{display:"flex",height:"fit-content"},iconButton:{margin:"0px 10px"}}))),Co=e=>{const{displayName:t,membership:n}=e,i=Object(u.a)(),a=So(),o=Object(ut.t)(),l=Object(ut.s)(o.breakpoints.up("md")),[c,d]=s.useState(void 0),m=Object(r.e)((e=>M.gc.app.getLocation(e).queryParams)),p=Object(r.e)((e=>M.gc.app.getRoute(e).params)),h=null==n?void 0:n.id,g=null==m?void 0:m.userId,b=null==p?void 0:p.courseId,f=s.useCallback((()=>{d(void 0),ot.bb.goPeekState(Object(ot.cb)({courseId:b,recipientIds:g}))}),[g,b]),y=s.useCallback((()=>{d(void 0),ot.bb.goPeekState(Object(ot.fb)({membershipId:h}))}),[h]),k=s.useCallback((()=>{d(void 0),ot.bb.goPeekState(Object(ot.hb)({userId:g}))}),[g]),x=[{id:"student-activity",analyticsId:"gradebook.components.student-action-menu.student-activity",text:i("gradebook.individualStudentDetails.studentActivity"),icon:s.createElement(I.BeastAnalytics,null),onClick:k,show:!0},{id:"accommodations",analyticsId:"gradebook.components.student-action-menu.accommodations",text:i("gradebook.studentList.table.actionsMenu.accommodations"),icon:s.createElement(I.Accommodations,null),onClick:y,show:(null==n?void 0:n.permissions.editDueDateException)||(null==n?void 0:n.permissions.editTimeLimitException)},{id:"send-message",analyticsId:"gradebook.components.student-action-menu.send-message",text:i("gradebook.individualStudentDetails.sendMessage"),icon:s.createElement(I.Messages,null),onClick:f,show:null==n?void 0:n.isAvailable}];return s.createElement("div",{className:a.container},l?x.map((e=>e.show&&s.createElement(v.AnalyticsIconButton,{analyticsId:e.analyticsId,id:e.id,key:e.id,onClick:e.onClick,className:a.iconButton},e.icon,s.createElement(v.AnalyticsTypography,{component:"span",variant:"inherit"},e.text)))):s.createElement(s.Fragment,null,s.createElement(v.AnalyticsIconButton,{analyticsId:"gradebook.components.common.student-action-menu.moreOptions",id:"student-action-menu-button","aria-controls":c?"student-action-menu":void 0,"aria-haspopup":"menu","aria-label":i("gradebook.studentList.table.actionsMenu.moreOptions",{fullName:t}),"aria-expanded":!!c,onClick:e=>{d(e.currentTarget)}},s.createElement(I.Menu,null)),s.createElement(v.AnalyticsMenu,{variant:"menu",id:"student-action-menu",anchorEl:c,open:!!c,onClose:()=>{d(void 0)},MenuListProps:{"aria-labelledby":"student-action-menu-button"},analyticsId:"gradebook.components.student-action-menu.menu"},x.map((e=>e.show&&s.createElement(v.AnalyticsMenuItem,{analyticsId:e.analyticsId,id:e.id,key:e.id,className:a.studentMenuItem,button:!0,onClick:e.onClick},s.createElement("span",{className:a.studentMenuIcon},e.icon),s.createElement("span",null,e.text)))))))},Eo=e=>{var t,n,i;const{user:a,membership:o}=e,{translate:r,formatDatetime:l,formatUsername:c}=Object(W.a)(),d=xo(),u=c(a,Et.ILocaleUsernameFormat.Short,{noWrap:!0});return s.createElement("div",{className:d.container},s.createElement("div",{className:d.userDetailContainer},s.createElement("div",{className:d.userFieldContainer},s.createElement("div",{className:d.userLabel},r("gradebook.individualStudentDetails.lastAccess")),s.createElement("div",{className:d.userValues},o.lastAccessDate?l(o.lastAccessDate,Et.ILocaleDatetimeFormat.Short):r("gradebook.individualStudentDetails.noActivity"))),s.createElement("div",{className:d.nameIdContainer},a.userName&&s.createElement("div",{className:d.userFieldContainer},s.createElement("div",{className:d.userLabel},r("gradebook.individualStudentDetails.userName")),s.createElement("div",{className:Object(J.a)(d.userValues,d.username)},a.userName)),a.studentId&&s.createElement("div",{className:d.userFieldContainer},s.createElement("div",{className:d.userLabel},r("gradebook.individualStudentDetails.studentId")),s.createElement("div",{className:d.userValues},a.studentId))),s.createElement("div",{className:d.pronounceContainer},a.pronouns&&s.createElement("div",{className:d.userFieldContainer},s.createElement("div",{className:d.userLabel},r("gradebook.individualStudentDetails.pronouns")),s.createElement("div",{className:d.noWrap},a.pronouns)),a.pronouns&&(a.pronunciation||(null===(t=a.pronunciationAudio)||void 0===t?void 0:t.permanentUrl))&&s.createElement("span",{className:d.pipeSymbol},"|"),(a.pronunciation||(null===(n=a.pronunciationAudio)||void 0===n?void 0:n.permanentUrl))&&s.createElement("div",{className:d.userFieldContainer},s.createElement("div",{className:Object(J.a)(d.userLabel,d.noWrap)},r("gradebook.individualStudentDetails.pronounceAs")),a.pronunciation&&s.createElement("div",{className:d.userValues},a.pronunciation),(null===(i=a.pronunciationAudio)||void 0===i?void 0:i.permanentUrl)&&s.createElement(vt.E,{analyticsId:"gradebook.individual-student-grades-info.user.pronunciation",src:a.pronunciationAudio.permanentUrl,ariaLabel:r("gradebook.individualStudentDetails.pronunciationAriaLabel")})))),s.createElement(Co,{displayName:u,membership:o}))},Io=Object(ee.makeStyles)((e=>Object(ee.createStyles)({container:{width:"100%",display:"flex",justifyContent:"center",overflow:"hidden",whiteSpace:"nowrap",[e.breakpoints.up("md")]:{justifyContent:"space-between"}},headerContainer:{display:"flex",maxWidth:"100%",[e.breakpoints.up("md")]:{flex:1,minWidth:0}},iconContainer:{display:"flex",margin:"0px 4px",alignItems:"center"},accommodationsIcon:{color:e.palette.brand.main,marginRight:"10px"},headerText:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:e.palette.primary.contrastText,[e.breakpoints.up("md")]:{color:e.palette.text.primary}}}))),wo=Object(ee.makeStyles)((e=>Object(ee.createStyles)({container:{display:"flex",alignItems:"center"},currentGrade:{display:"none",[e.breakpoints.up("md")]:{display:"flex",marginRight:"8px",alignItems:"center"}}}))),Ao=e=>{const{courseId:t,membership:n,user:i}=e,a=Object(u.a)(),o=wo(),r=Object(ut.t)(),l=Object(ut.s)(r.breakpoints.up("md")),c=an(t),d=fn(t,null==c?void 0:c.gradingSchemaId),m=nn(t,(null==c?void 0:c.id)||null,[n]),p=!1===(null==c?void 0:c.visible),h={user:i,membership:n,overallGrade:m&&m[n.userId],overallGradeColumn:c},g=l?z.Large:z.Default;return s.createElement(s.Fragment,null,h.overallGrade&&s.createElement("div",{className:o.container,"data-testid":"test-grade-pill-container"},p&&s.createElement(v.AnalyticsTooltip,{analyticsId:"gradebook.individualStudentOverallGradePill.visibilityInformationTooltip",title:a("gradebook.grade.tooltip.gradeVisibility")},s.createElement(v.AnalyticsIconButton,{analyticsId:"gradebook.individualStudentOverallGradePill.visibilityInformationTooltip.button","aria-label":a("gradebook.grade.gradeVisibilityIcon")},s.createElement(I.Invisible,null))),s.createElement(v.AnalyticsTypography,{component:"span",variant:"h3",className:o.currentGrade},a("gradebook.grade.currentGrade")),s.createElement(Ct,{row:h,isOverallGradeConfigured:!!c,gradingSchema:d,overallGradeColumn:c,pillSize:g})))},Oo=()=>{var e;const{translate:t,formatUsername:n}=Object(W.a)(),i=Io(),a=Object(ut.t)(),o=Object(ut.s)(a.breakpoints.up("md")),l=Object(r.e)((e=>M.gc.app.getLocation(e).queryParams)),c=Object(r.e)((e=>M.gc.app.getRoute(e).params)),d=null==l?void 0:l.userId,u=null==l?void 0:l.membershipId,m=null==c?void 0:c.courseId,p=Object(tn.r)(d),h=Object(r.e)((e=>M.gc.courseMembership.getCourseMembershipByMembershipId(e,u))),g=Object(tn.e)(m),b=s.createElement(Ot.f,{user:p,format:Et.ILocaleUsernameFormat.Short,ariaHidden:!1}),f=At(h),y=p&&n(p,Et.ILocaleUsernameFormat.Short,{noWrap:!0}),k=s.createElement("div",{className:i.container},s.createElement("div",{className:i.headerContainer},o&&s.createElement("div",null,s.createElement(v.AnalyticsAvatar,{size:"medium",src:null===(e=null==p?void 0:p.avatar)||void 0===e?void 0:e.permanentUrl,alt:y})),s.createElement(v.AnalyticsTypography,{component:"h1",variant:o?"display1":"h3",className:i.headerText},b),f&&s.createElement("div",{className:i.iconContainer},s.createElement(I.Accommodations,{className:i.accommodationsIcon,titleAccess:t("gradebook.studentList.fullNameComponent.aria.accommodations")}))),o&&h&&s.createElement(Ao,{courseId:m,user:p,membership:h}));return s.createElement(vt.R,{headerText:k,subHeaderText:(null==g?void 0:g.displayName)||"",analyticsIdPrefix:"gradebook.components.individual-student-grades-panel-header",showMenuToggleButton:!0,readyToFocus:!0},h&&s.createElement(Ao,{courseId:m,user:p,membership:h}))};var Do=n("kwLz"),To=n("ERsv");const Po=Object(ee.makeStyles)((e=>({userCardContainer:{display:"flex",width:"100%",alignItems:"center"},avatar:{minWidth:"unset",display:"flex"},userContainer:{marginLeft:"12px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},userDetails:{display:"flex"},iconContainer:{display:"flex",alignItems:"center"},accommodationIcon:{color:e.palette.brand.main,marginRight:"10px"},userName:{fontWeight:e.typography.fontWeightSemiBold},roleBadge:{textTransform:"uppercase",fontSize:e.typography.fontSizeXSmall,fontWeight:e.typography.fontWeightBold,backgroundColor:e.palette.background.b10,padding:"0px 10px"},courseRole:{color:e.palette.text.secondary}}))),$o=e=>{var t;const{avatarSize:n,showRoleInBadge:i,role:a,user:o,showAccommodation:r}=e,l=Po(),{translate:c,formatUsername:d}=Object(W.a)(),u=d(o,Et.ILocaleUsernameFormat.Short),m=Object(tn.i)("global.course.","global.organization.");return s.createElement("div",{className:l.userCardContainer},s.createElement("div",{className:l.avatar},s.createElement(v.AnalyticsAvatar,{size:n,alt:u,"aria-hidden":!0,src:null===(t=null==o?void 0:o.avatar)||void 0===t?void 0:t.permanentUrl})),s.createElement("div",{className:l.userContainer},s.createElement("div",{className:l.userDetails},r&&s.createElement("div",{className:l.iconContainer},s.createElement(I.Accommodations,{className:l.accommodationIcon,titleAccess:c("gradebook.studentList.fullNameComponent.aria.accommodations")})),s.createElement(Ot.f,{userNameStyles:l.userName,format:Et.ILocaleUsernameFormat.Short,ariaHidden:!0,user:o})),a&&(i?s.createElement(v.AnalyticsBadge,{classes:{badge:l.roleBadge},position:"inline",badgeContent:c(m(`global.course.role.${a}`)),offScreenLabel:c(m(`global.course.role.${a}`))}):s.createElement("div",{className:l.courseRole},c(m(`global.course.role.${a}`))))))},Go=Object(ee.makeStyles)((()=>({graderInfo:{paddingLeft:"4px"},feedBackPanel:{height:"50%",position:"relative",overflowY:"auto"}}))),jo=e=>{var t,n;const{feedback:i,onFeedbackSave:a,openCloudStorageIntegrationModal:o,lastFeedbackAuthor:l,feedbackIsDirty:c,cancelFuncRef:d}=e,[u,m]=s.useState(!0),[p,h]=s.useState(!1),[g,b]=s.useState(null!==(t=null==i?void 0:i.rawText)&&void 0!==t?t:""),f=s.useRef(null==i?void 0:i.rawText),v=s.useRef(Object(To.generateToBbML)(g)),y=Go(),{translate:k,locale:x}=Object(W.a)(),S=Object(tn.q)(),C=Object(r.e)((e=>M.gc.app.getRoute(e).params.courseId)),E=Object(r.e)((e=>M.gc.app.getLocation(e).queryParams.userId)),I=Object(tn.x)(C,Xt.EnterFeedback),w=Object(r.e)((e=>M.gc.course.getCourseById(e,C))),A=Object(tn.r)(null==l?void 0:l.userId),O=Object(r.e)((e=>M.gc.courseMembership.getCourseMembershipsByUserIds(e,C,[null==l?void 0:l.userId])[0])),D=null==O?void 0:O.role,T=s.useCallback((()=>{c&&c(!Object(Wn.g)(f.current,g),f.current,u)}),[c,i,f.current,u,g]);s.useEffect((()=>{var e;const t=null!==(e=null==i?void 0:i.rawText)&&void 0!==e?e:"";b(t),f.current=t,v.current=Object(To.generateToBbML)(t),m(!!t||!I),d&&(d.current=P),T()}),[i,I,E]);const P=s.useCallback((()=>{f.current=g,g&&(T(),m(!0))}),[T,g]);return s.createElement(s.Fragment,null,s.createElement(Do.a,{analyticsId:"gradebook.grade-and-feedback.offline-items.feedback",panelTitle:k("gradebook.gradeFeedback.offlineGradesAndFeedback.pageTitle"),configProps:{isOrganization:w.isOrganization,courseColorClass:"",editorConfigProps:{apiBasePath:M.kb.apiBasePath,courseId:C,onClickCancel:P,onClickSave:async()=>{if(g||!Object(Wn.g)(f.current,g)){h(!0),m(!0);try{const e=await v.current(!0);await a(e)}finally{h(!1)}}},xsrfToken:M.kb.xsrf,locale:x,fileUploadSettings:S,openCloudStorageIntegrationModal:o},primaryFeedbackConfigProps:{onFeedbackChange:e=>{v.current=e.toBbML;const t=e.toBbML();f.current=t,T()},onClickEdit:()=>{m(!1)},editorIsReadOnly:u}},primaryGraderFeedback:{isFeedbackEditable:!p&&I,rawTextFeedback:null!==(n=f.current)&&void 0!==n?n:""},isInlineMode:!0}),u&&g&&A&&s.createElement("div",{className:y.graderInfo},s.createElement($o,{avatarSize:"small",role:D,showRoleInBadge:!0,user:A,showAccommodation:!1})))};var Lo=n("np6O");const No=Object(ee.makeStyles)((()=>({navigationLabel:{padding:"0 10px"},navigationContainer:{display:"flex",justifyContent:"space-between",padding:"16px 30px",width:"100%"}}))),Bo=e=>{const{onNavigateToNextFeedback:t,onNavigateToPreviousFeedback:n,shouldDisableNextFeedback:i,shouldDisablePreviousFeedback:a}=e,{translate:o,isRtl:r}=Object(W.a)(),l=No(),c=Object(tn.i)("gradebook.","organization.gradebook.");return s.createElement("div",{className:l.navigationContainer},r()?s.createElement(s.Fragment,null,s.createElement(Lo.AnalyticsIconButton,{onClick:t,disabled:i,analyticsId:"offline-feedback.feedback-navigator.next","aria-label":o(c("gradebook.gradeFeedback.offlineGradesAndFeedback.nextStudent"))},s.createElement(I.ArrowLeft,null),s.createElement("span",{className:l.navigationLabel},o(c("gradebook.gradeFeedback.offlineGradesAndFeedback.nextStudent")))),s.createElement(Lo.AnalyticsIconButton,{onClick:n,disabled:a,analyticsId:"offline-feedback.feedback-navigator.previous","aria-label":o(c("gradebook.gradeFeedback.offlineGradesAndFeedback.previousStudent"))},s.createElement("span",{className:l.navigationLabel},o(c("gradebook.gradeFeedback.offlineGradesAndFeedback.previousStudent"))),s.createElement(I.ArrowRight,null))):s.createElement(s.Fragment,null,s.createElement(Lo.AnalyticsIconButton,{onClick:n,disabled:a,analyticsId:"offline-feedback.feedback-navigator.previous","aria-label":o(c("gradebook.gradeFeedback.offlineGradesAndFeedback.previousStudent"))},s.createElement(I.ArrowLeft,null),s.createElement("span",{className:l.navigationLabel},o(c("gradebook.gradeFeedback.offlineGradesAndFeedback.previousStudent")))),s.createElement(Lo.AnalyticsIconButton,{onClick:t,disabled:i,analyticsId:"offline-feedback.feedback-navigator.next","aria-label":o(c("gradebook.gradeFeedback.offlineGradesAndFeedback.nextStudent"))},s.createElement("span",{className:l.navigationLabel},o(c("gradebook.gradeFeedback.offlineGradesAndFeedback.nextStudent"))),s.createElement(I.ArrowRight,null))))},Mo="offline-items.save-feedback-confirmation",Ro=e=>{const{exitCallback:t}=e,n=Object(u.a)(),[i,a]=s.useState(!1),[o,r]=s.useState(!1),[l,c]=s.useState(!1),d=(e=!1,t=!1)=>{r(e),a(!0),c(t)};return s.createElement(m.a,{analyticsId:Mo,open:!i,maxWidth:"md",onClose:()=>d(),"aria-labelledby":"save-feedback-confirmation-dialog-title",TransitionProps:{onExited:()=>{t(o,l),a(!1)}}},s.createElement(v.AnalyticsDialogTitle,{analyticsId:"offline-items.save-feedback-confirmation.titleClose.button",id:"save-feedback-confirmation-dialog-title",onClose:()=>d()},n("gradebook.gradeFeedback.confirmation.title-x-bb-save-feedback")),s.createElement(v.AnalyticsDialogContent,{analyticsId:"offline-items.save-feedback-confirmation.content"},s.createElement(v.AnalyticsDialogContentText,{analyticsId:"offline-items.save-feedback-confirmation.contentText",id:"save-feedback-confirmation-dialog-description"},n("gradebook.gradeFeedback.confirmation.instructions-x-bb-save-feedback"))),s.createElement(v.AnalyticsDialogActions,{analyticsId:"offline-items.save-feedback-confirmation.actions"},s.createElement(v.AnalyticsDefaultButton,{analyticsId:"offline-items.save-feedback-confirmation.close.button",onClick:()=>d(!1,!0)},n("gradebook.gradeFeedback.confirmation.cancel-x-bb-save-and-close")),s.createElement(v.AnalyticsPrimaryButton,{analyticsId:"offline-items.save-feedback-confirmation.save-feedback.button",onClick:()=>d(!0,!0)},n("gradebook.gradeFeedback.confirmation.ok-x-bb-save-feedback"))))},Fo=e=>{const{exitCallback:t}=e,n=Object(u.a)(),i=Object(tn.i)("gradebook.","organization.gradebook."),[a,o]=s.useState(!1),[r,l]=s.useState(!1),c=(e=!1)=>{l(e),o(!0)};return s.createElement(m.a,{analyticsId:"offline-items.post-grade-confirmation",open:!a,maxWidth:"md",onClose:()=>c(),"aria-labelledby":"post-grade-confirmation-dialog-title",TransitionProps:{onExited:()=>{t(r),o(!1)}}},s.createElement(v.AnalyticsDialogTitle,{analyticsId:"offline-items.post-grade-confirmation.titleClose.button",id:"post-grade-confirmation-dialog-title",onClick:()=>c()},n("gradebook.gradeFeedback.confirmation.title-x-bb-grade-options")),s.createElement(v.AnalyticsDialogContent,{analyticsId:"offline-items.post-grade-confirmation.content"},s.createElement(v.AnalyticsDialogContentText,{analyticsId:"offline-items.post-grade-confirmation.contentText",id:"post-grade-confirmation-dialog-description"},n(i("gradebook.gradeFeedback.confirmation.instructions-x-bb-grade-column-post-grades")))),s.createElement(v.AnalyticsDialogActions,{analyticsId:"offline-items.post-grade-confirmation.actions"},s.createElement(v.AnalyticsDefaultButton,{analyticsId:"offline-items.post-grade-confirmation.cancel.button",onClick:()=>c()},n("global.cancel")),s.createElement(v.AnalyticsPrimaryButton,{analyticsId:"offline-items.post-grade-confirmation.post-grade.button",onClick:()=>c(!0)},n("gradebook.gradeFeedback.offlineGradesAndFeedback.overflowMenu.postGrade"))))},Vo=Object(ee.makeStyles)((()=>({gradeMenuItem:{minWidth:"278px"},gradeMenuIcon:{marginRight:"5px",marginLeft:"6px"}}))),_o=e=>{const{gradeDetail:t,onGradeUpdate:n}=e,i=Object(u.a)(),a=Object(r.d)(),o=Vo(),l=Object(r.e)((e=>M.gc.app.getRoute(e).params.courseId)),c=Object(r.e)((e=>M.gc.app.getRoute(e).params.columnId)),[d,m]=s.useState(void 0),p=!!d,h=s.useCallback((()=>{m(void 0)}),[]),g=s.useCallback((e=>{m(e.currentTarget)}),[]),{displayModal:b,modal:f}=Object(vt.qb)(Fo),y=[{key:i("gradebook.gradeFeedback.offlineGradesAndFeedback.overflowMenu.postGrade"),analyticsId:"gradebook.components.common.grade-submission.grade-action-menu.postGrade",text:i("gradebook.gradeFeedback.offlineGradesAndFeedback.overflowMenu.postGrade"),icon:s.createElement(I.Post,{className:o.gradeMenuIcon}),onClick:async()=>{h();const{confirmed:e}=await b();e&&(async()=>{if(await a(M.X.gradebookGrade.postGradeByGradeId({courseId:l,columnId:c,id:t.id})),n){const e={...t};e.manualStatus=B.Eb.IsPosted,e.status=B.J.Graded,n(e)}a(M.X.gradebookGrade.loadBulkView(l,[c],[t.memberId],{expand:["grade.instructorFeedback","grade.lastFeedbackAuthor"]})),a(M.X.columnSummary.loadColumnSummary({courseId:l,columnId:c}))})()}}];return s.createElement(s.Fragment,null,s.createElement(v.AnalyticsIconButton,{analyticsId:"gradebook.components.common.grade-submission.grade-action-menu.trigger",id:"grade-action-menu-button","aria-controls":d?"grade-action-menu":void 0,"aria-haspopup":"menu","aria-label":i("gradebook.gradeFeedback.offlineGradesAndFeedback.overflowMenu.aria"),"aria-expanded":p,onClick:g},s.createElement(I.Menu,null)),s.createElement(v.AnalyticsMenu,{variant:"menu",id:"grade-action-menu",anchorEl:d,open:!!d,onClose:h,MenuListProps:{"aria-labelledby":"grade-action-menu-button"},transformOrigin:{vertical:0,horizontal:"right"},analyticsId:"gradebook.components.common.grade-submission.grade-action-menu"},y.map((e=>s.createElement(v.AnalyticsMenuItem,{analyticsId:e.analyticsId,key:e.key,className:o.gradeMenuItem,button:!0,onClick:e.onClick},s.createElement(v.AnalyticsListItemIcon,{analyticsId:"gradebook.components.common.grade-submissions.listItemIcon"},e.icon),s.createElement(v.AnalyticsListItemText,{analyticsId:"gradebook.components.common.grade-submissions.listItemIcon"},e.text))))),f)},Uo=Object(ee.makeStyles)((e=>({postGrades:{display:"flex",float:"right"},gradeSubmissionCard:{display:"flex",width:"100%"},gradeAdditionalInfo:{fontWeight:e.typography.fontWeightRegular,color:e.palette.text.hint,right:"0px",float:"right"},gradingSection:{position:"relative",width:"35%"},profileCard:{width:"65%"}}))),Ho=e=>{const{analyticsId:t,student:n,role:i,onGradeInputBlur:a,gradeDetail:o,onGradeUpdate:l,membership:c}=e,d=Object(u.a)(),m=Uo(),p=Object(r.e)((e=>M.gc.app.getRoute(e).params.courseId)),h=Object(r.e)((e=>M.gc.app.getRoute(e).params.columnId)),g=St(),b=Object(r.e)((e=>M.gc.gradebookColumn.getGradebookColumnById(e,h))),f=null==b?void 0:b.gradingSchemaId,v=fn(p,f),y=Object(r.e)((e=>M.gc.courseEntitlements.userHasCourseEntitlement(e,p,Xt.PublishGrades))),k=At(c);return s.createElement("div",{className:m.gradeSubmissionCard},s.createElement("div",{className:m.profileCard},s.createElement($o,{avatarSize:"medium",user:n,role:i,showAccommodation:k})),s.createElement("div",{className:m.gradingSection},s.createElement("div",{className:m.postGrades},v&&s.createElement(Se,{grade:null==o?void 0:o.manualScore,variant:Ze(v.scaleType),analyticsId:t,pointsPossible:b.possible,ariaLabel:d(Xe(null==o?void 0:o.displayGrade),{user:n,grade:null==o?void 0:o.manualScore,total:b.possible}),onBlur:a,gradeColorVariant:g?q.Black:void 0,symbolsMap:v.symbols}),o&&y&&Qe(o)&&s.createElement(_o,{gradeDetail:o,onGradeUpdate:l})),Ye(null==o?void 0:o.displayGrade)&&s.createElement("div",{className:m.gradeAdditionalInfo},d("gradebook.grade.grade-input.pastDueZero"))))},zo=e=>{const{gradeDetail:t,onGradeUpdate:n,student:i,role:a,membership:o}=e,[l,c]=s.useState(null),d=Object(r.d)(),u=Object(r.e)((e=>M.gc.app.getRoute(e).params.courseId)),m=Object(r.e)((e=>M.gc.app.getRoute(e).params.columnId)),p=Object(r.e)((e=>M.gc.app.getLocation(e).queryParams.userId)),h=Object(r.e)((e=>M.gc.gradebookGrade.getGradebookGradesByColumnIdAndUserId(e,m,p)[0]));return s.useEffect((()=>{var e;(null===(e=null==t?void 0:t.displayGrade)||void 0===e?void 0:e.score)?c(t.displayGrade.score):c(null)}),[t]),s.useEffect((()=>{n&&h&&n(h)}),[h,n]),s.createElement(Ho,{analyticsId:"offline-grades.gradePill",onGradeInputBlur:async e=>{void 0!==e&&e!==l&&(c(e),t&&(null==t?void 0:t.id)?await d(M.X.gradebookGrade.updateGradeByGradeId(t,{...t,manualScore:e})):await d(M.X.gradebookGrade.createGradeByUserId({courseId:u,columnId:m,userId:p,manualScore:e})),d(M.X.gradebookGrade.loadBulkView(u,[m],[o.id],{expand:["grade.instructorFeedback","grade.lastFeedbackAuthor"]})),d(M.X.columnSummary.loadColumnSummary({courseId:u,columnId:m})))},student:i,membership:o,role:a,gradeDetail:t,onGradeUpdate:n})},qo=Object(ee.makeStyles)((e=>({peekPanel:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column"},peekPanelHeader:{"& .ms-Panel-subTitle, .ms-Panel-headerText":{paddingLeft:"16px",maxWidth:"200px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",[e.breakpoints.up("sm")]:{maxWidth:"400px"}}},hideHeader:{display:"none"},peekPanelBody:{padding:"16px",overflowY:"auto",flex:1,[e.breakpoints.up("sm")]:{padding:"30px"},"& h3":{fontSize:e.typography.fontSizeDefault}}})));const Wo=M.X.gradebookGrade.createGradeByUserId,Ko=M.X.gradebookGrade.updateGradeByGradeId,Jo=e=>{var t,n,i;const{courseName:a,onGradeUpdate:o,onFeedbackUpdate:l,openCloudStorageIntegrationModal:c,onFeedbackDirty:d}=e,m=Object(u.a)(),p=Object(r.d)(),h=qo(),g=s.useRef(!1),b=s.useRef(!0),[f,v]=s.useState(0),y=Object(r.e)((e=>M.gc.app.getLocation(e).queryParams.userId)),k=Object(r.e)((e=>M.gc.app.getLocation(e).queryParams.page)),x=Object(r.e)((e=>M.gc.app.getLocation(e).queryParams.limit)),S=Object(r.e)((e=>M.gc.app.getLocation(e).queryParams.q)),C=Object(r.e)((e=>M.gc.app.getRoute(e).params.courseId)),E=Object(r.e)((e=>M.gc.app.getRoute(e).params.columnId)),I=s.useRef(),w=function(e,t=""){const n=Object(r.d)();return Object(s.useEffect)((()=>{e&&t&&n(M.X.gradebookColumn.loadGradebookColumn({columnId:t,courseId:e,allowedErrors:[B.S.Forbidden]}))}),[n,e,t]),Object(r.e)((e=>M.gc.gradebookColumn.getGradebookColumnById(e,t)))}(C,E),A=Object(tn.x)(C,Xt.ViewGradebookMetaData),O=Object(tn.h)({courseId:C,filter:{searchString:S,roleBucket:[B.y.Taking]},sort:[{field:B.ib.IsPreviewStudent,direction:B.cc.Ascending},{field:B.ib.FamilyName,direction:B.cc.Ascending},{field:B.ib.GivenName,direction:B.cc.Ascending}]}),{memberships:D}=O,{users:T}=(e=>{const[t,n]=Object(s.useState)([]),{memberships:i,users:a,view:o}=e;return Object(s.useEffect)((()=>{if(i&&i.length&&!(null==o?void 0:o.isLoading)){const e=[];i.forEach((t=>{t.userId&&e.push(a[t.userId])})),n(e)}}),[null==o?void 0:o.isLoading,JSON.stringify(i)]),{users:t}})(O),P=Object(r.e)((e=>M.gc.gradebookGrade.getGradebookGradesByColumnIdAndUserId(e,E,y)[0])),$=s.useRef((null===(t=null==P?void 0:P.instructorFeedback)||void 0===t?void 0:t.rawText)||""),G=()=>Number(x||25);s.useEffect((()=>{T&&T.length&&y&&v((()=>{const e=T.findIndex((e=>e.id===y)),t=e,n=G(),i=Math.ceil((e+1)/n).toString();return-1!==e&&k!==i&&ot.bb.search({page:i}),t})())}),[T,y]),s.useEffect((()=>{l&&P&&l(P)}),[P,l]);const j=()=>{g.current=!1,p(M.X.gradebookGrade.loadBulkView(C,[E],[D[f].id],{expand:["grade.instructorFeedback","grade.lastFeedbackAuthor"]}))},L=s.useCallback(((e=$.current)=>{var t;Object(Wn.g)(e,null===(t=null==P?void 0:P.instructorFeedback)||void 0===t?void 0:t.rawText)||(P?(async(e,t)=>{await p(Ko(e,{...e,instructorFeedback:{...e.instructorFeedback,rawText:t}})),j()})(P,e):(async e=>{await p(Wo({columnId:E,courseId:C,userId:y,instructorFeedback:{rawText:e}})),j()})(e),d(!1,!0))}),[P,D,E,C,p,y]),{displayModal:N,modal:R}=Object(vt.qb)(Ro),F=async()=>{const{confirmed:e,results:t}=await N();return e&&await L(),I.current(),t},V=()=>{var e;const t=f,n=G();ot.bb.search({userId:null===(e=T[t+1])||void 0===e?void 0:e.id,page:Math.ceil((t+2)/n).toString()}),v((e=>e+1))},_=()=>{var e;const t=f,n=G();ot.bb.search({userId:null===(e=T[t-1])||void 0===e?void 0:e.id,page:Math.ceil(t/n).toString()}),v((e=>e-1))};return s.useEffect((()=>{const e={type:ki.c.OfflineGradesAndFeedbacksPanelOpened,status:ki.b.Success,pageTitle:m("gradebook.gradeFeedback.offlineGradesAndFeedback.pageTitle")};Object(ki.r)(e)}),[]),s.createElement("div",{id:"offline-grades-and-feedback-panel"},s.createElement("div",{className:h.peekPanel},s.createElement("header",{className:Object(J.a)(h.peekPanelHeader,Object(ki.m)()&&h.hideHeader)},s.createElement(et.BbPanelHeader,{smallHeaderTitle:a,type:et.BbPanelType.peek,analyticsId:"gradebook.grade-and-feedback.offline-items-feedback-panel-header",title:null!==(n=null==w?void 0:w.columnName)&&void 0!==n?n:"",navMenuAriaLabel:m("global.navigationMenu")})),0!==T.length&&A&&-1!==f&&s.createElement(s.Fragment,null,s.createElement("div",{className:h.peekPanelBody},s.createElement("h2",null,m("gradebook.gradeFeedback.offlineGradesAndFeedback.gradesAndFeedbackTitle")),s.createElement(zo,{gradeDetail:P,student:T[f],role:null===(i=D[f])||void 0===i?void 0:i.role,membership:D[f],onGradeUpdate:o}),s.createElement(jo,{cancelFuncRef:I,feedback:null==P?void 0:P.instructorFeedback,feedbackIsDirty:(e,t,n)=>{g.current=e,$.current=t,b.current=n,d(e,n)},onFeedbackSave:L,lastFeedbackAuthor:null==P?void 0:P.lastFeedbackAuthor,openCloudStorageIntegrationModal:c})),s.createElement(Bo,{onNavigateToNextFeedback:async()=>{if(f+1!==T.length)if(!g.current||b.current)V();else{await F()&&V()}},onNavigateToPreviousFeedback:async()=>{if(!(f<1))if(!g.current||b.current)_();else{await F()&&_()}},shouldDisableNextFeedback:f===T.length-1,shouldDisablePreviousFeedback:0===f}))),R)};var Qo=n("8jBL");const Zo=Object(ee.makeStyles)((e=>Object(ee.createStyles)({feedbackIcon:{color:e.palette.brand.main}}))),Yo=e=>{const{student:t}=e,n=Zo(e),i=Object(u.a)();return s.createElement(v.AnalyticsTooltip,{placement:"bottom-start",title:i("gradebook.gradeFeedback.offlineGradesAndFeedback.viewFeedback"),analyticsId:"gradebook.components.common.edit-feedback-tooltip.title"},s.createElement(v.AnalyticsIconButton,{analyticsId:"gradebook.components.common.edit-feedback-tooltip.icon-button",onClick:()=>{t.id&&ot.bb.goPeekState(Object(ot.X)({userId:t.id}))},"aria-label":i("gradebook.gradeFeedback.offlineGradesAndFeedback.viewFeedbackAriaLabel",{student:t})},s.createElement(Qo.Feedback,{className:n.feedbackIcon})))},Xo=Object(ee.makeStyles)((e=>Object(ee.createStyles)({offlineListFilters:{display:"flex",flexDirection:"column",minWidth:0,margin:"0px",[e.breakpoints.up("sm")]:{flexDirection:"row",justifyContent:"space-between",minWidth:"500px",height:"auto"}},offlineListSearchBox:{[e.breakpoints.up("sm")]:{maxWidth:"290px",margin:0,width:"100%"}},pageSizeContainer:{display:"inline-flex",alignItems:"center",borderBottom:`1px solid ${e.palette.secondary.main}`,padding:"20px 17px",[e.breakpoints.up("sm")]:{padding:0,borderBottom:"none"}},itemsPerPage:{padding:0,"& button":{border:`1px solid ${e.palette.text.hint}`,marginLeft:0,"&:hover":{border:`1px solid ${e.palette.text.hint}`}}}}))),er=[25,50,100],tr=e=>{const{onSearchBoxTextChange:t,onPageSizeChange:n,initialPageSize:i}=e,a=Xo(),o=Object(u.a)(),l=Object(r.e)((e=>M.gc.app.getLocation(e).queryParams.name)),[c,d]=s.useState(l||""),m=s.useCallback((e=>{d(e),t(e)}),[t]);return s.useEffect((()=>{m(l||"")}),[l]),s.createElement("div",{className:a.offlineListFilters},s.createElement(vt.M,{value:c,inputId:"offline-items-list-search-input",label:o("gradebook.gridFiltersPanel.memberships.placeholder"),analyticsId:"gradebook.offline-grades-list.search",onChange:m,onClear:()=>m(""),className:a.offlineListSearchBox}),s.createElement("div",{className:a.pageSizeContainer},s.createElement(vt.I,{className:a.itemsPerPage,pageSizeOptions:er,initialPageSize:i,onPageSizeChange:n,analyticsId:"gradebook.offline-grades-list.onPageSizeChange.selector"})))};n.d(t,"V",(function(){return nr})),n.d(t,"P",(function(){return ir})),n.d(t,"f",(function(){return ct})),n.d(t,"H",(function(){return dt})),n.d(t,"D",(function(){return ft})),n.d(t,"K",(function(){return bt})),n.d(t,"L",(function(){return yn})),n.d(t,"o",(function(){return Se})),n.d(t,"J",(function(){return Ee})),n.d(t,"I",(function(){return Ae})),n.d(t,"p",(function(){return Y})),n.d(t,"t",(function(){return X})),n.d(t,"G",(function(){return q})),n.d(t,"u",(function(){return Mn})),n.d(t,"r",(function(){return xi})),n.d(t,"e",(function(){return ji})),n.d(t,"q",(function(){return Xt})),n.d(t,"b",(function(){return vs})),n.d(t,"d",(function(){return Mi})),n.d(t,"bb",(function(){return Zi})),n.d(t,"c",(function(){return Yi})),n.d(t,"U",(function(){return Xi})),n.d(t,"T",(function(){return ns})),n.d(t,"X",(function(){return ss})),n.d(t,"Y",(function(){return as})),n.d(t,"g",(function(){return Ss})),n.d(t,"n",(function(){return cs})),n.d(t,"m",(function(){return ds})),n.d(t,"Q",(function(){return ps})),n.d(t,"a",(function(){return gs})),n.d(t,"Z",(function(){return bs})),n.d(t,"W",(function(){return Cs})),n.d(t,"ab",(function(){return Es})),n.d(t,"S",(function(){return Os})),n.d(t,"R",(function(){return Ds})),n.d(t,"i",(function(){return Ps})),n.d(t,"k",(function(){return $s})),n.d(t,"j",(function(){return Gs})),n.d(t,"B",(function(){return Ys})),n.d(t,"C",(function(){return ta})),n.d(t,"A",(function(){return ra})),n.d(t,"O",(function(){return ca})),n.d(t,"E",(function(){return ua})),n.d(t,"F",(function(){return va})),n.d(t,"l",(function(){return Sa})),n.d(t,"M",(function(){return Ea})),n.d(t,"N",(function(){return Ia})),n.d(t,"s",(function(){return ko})),n.d(t,"v",(function(){return Eo})),n.d(t,"w",(function(){return Oo})),n.d(t,"y",(function(){return jo})),n.d(t,"z",(function(){return Jo})),n.d(t,"h",(function(){return Yo})),n.d(t,"x",(function(){return tr})),n.d(t,"cb",(function(){return St}));const nr={renderDownloadSubmissionsPanel:(e,t,n)=>{o.render(s.createElement(l.a,{locale:n.locale,babelfishInstance:n.babelfishInstance,babelfishFormatInstance:n.babelfishFormatInstance,bundlesToLoad:["gradebook/locales/[locale]/gradebook.json"],isRtl:n.isRtl},s.createElement(v.AnalyticsJssThemeProvider,{isRtl:n.isRtl},s.createElement(r.a,{store:t},s.createElement(_,{...n.componentProps})))),e)},destroyComponent:e=>{o.unmountComponentAtNode(e)}},ir=i},ZQey:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Open="OPEN",e.Complete="COMPLETE",e.Private="PRIVATE",e.PrivateDuration="PRIVATE_DURATION",e.PrivateDurationClassic="PRIVATE_DURATION_CLASSIC",e.OpenTermClassic="OPEN_TERM_CLASSIC",e.PrivateTermClassic="PRIVATE_CLASSIC",e.TermOpen="OPEN_TERM",e.TermComplete="COMPLETE_TERM",e.TermPrivate="PRIVATE_TERM",e.OpenClassic="OPEN_CLASSIC"}(i||(i={}))},Za2G:function(e,t){e.exports='<bb-modal class="notification" \n          modal-title-key="components.directives.fileUpload.improperAmountOfFilesTitle"\n          analytics-id-tag-prefix="components.directives.fileUpload">\n  <div name="modal-contents">\n    <p>\n      <bb-translate>components.directives.fileUpload.improperAmountOfFilesFull</bb-translate>\n    </p>\n    <div class="file-list">\n      <div ng-repeat="file in fileUpload.uploadedFiles">\n        <input ng-if="$index===0" class="toggle-input" type="radio" id="{{\'fileListing\' + $index}}" name="fileListing" value="{{$index}}" checked analytics-id="components.directives.checked.input.radio">\n        <input ng-if="$index!==0" class="toggle-input" type="radio" id="{{\'fileListing\' + $index}}" name="fileListing" value="{{$index}}" analytics-id="components.directives.not.checked.input.radio">\n        <label class="toggle-label" for="{{\'fileListing\' + $index}}" style="white-space: nowrap">{{file.name}}</label><br />\n      </div>\n    </div>\n  </div>\n  <button name="modal-footer-button-primary" role="button" class="button js-primary-button" ng-click="fileUpload.closeModal()" analytics-id="components.directives.fileUpload.uploadSelectedFile">\n    <bb-translate>components.directives.fileUpload.uploadSelectedFile</bb-translate>\n  </button>\n  <button name="modal-footer-button-secondary" role="button" class="button button--secondary js-secondary-button" ng-click="fileUpload.modalCancelUpload()" analytics-id="components.directives.fileUpload.cancelUploadText">\n    <bb-translate>components.directives.fileUpload.cancelUploadText</bb-translate>\n  </button>\n</bb-modal>\n'},Zjmk:function(e,t,n){"use strict";var i=n("ERkP"),s=n.n(i),a=n("GuFu"),o=n("tN4z"),r=n("VQ4P"),l=n("AuQm"),c=n("Agfx");const d=Object(c.makeStyles)((e=>Object(c.createStyles)({container:{"& > div":{width:"100%"}},comboboxWidth:{width:"100%"},comboboxReset:{"& input":{border:0,margin:"0px",minHeight:"auto",height:"auto"},"& input:focus":{boxShadow:"none"}},description:{color:e.palette.text.hint,marginTop:"10px"}})));var u=n("O94r"),m=n.n(u);const p="user-profile-pronouns-description",h=({analyticsId:e,selectedPronouns:t,approvedPronouns:n,onPronounsChanged:a})=>{var c,u;const h=Object(r.a)(),g=d(),b=Object(i.useCallback)((e=>{a(e)}),[a]),f={announceSearchResults:(e,t)=>h("userProfile.pronouns.combobox.comboboxSuggestion.pronounsAvailableAlertText",{count:e,searchString:t}),noResults:e=>h("userProfile.pronouns.combobox.comboboxSuggestion.noPronounsFound",{searchString:e})};return s.a.createElement("div",{className:g.container},s.a.createElement(o.AnalyticsCombobox,{strings:Object(l.ob)(f),classes:{root:m()(g.comboboxReset,g.comboboxWidth)},isMulti:!0,analyticsId:e,isClearable:!0,id:"user-profile-pronouns-control",label:h("userProfile.pronouns.combobox.label"),placeholder:h("userProfile.pronouns.combobox.placeholder"),value:null!==(c=null==t?void 0:t.map((e=>({value:e,label:e}))))&&void 0!==c?c:[],options:null!==(u=null==n?void 0:n.map((e=>({value:e.name,label:e.name}))))&&void 0!==u?u:[],onChange:b,"aria-describedby":p}),s.a.createElement(o.AnalyticsTypography,{id:p,className:g.description,component:"p"},h("userProfile.pronouns.description")))};var g=n("uDfI"),b=n("IbyE"),f=n("zGdY");const v=Object(c.makeStyles)((e=>Object(c.createStyles)({requestPronounDescriptionRoot:{marginTop:"10px"},requestPronounFormRoot:{width:"100%",marginTop:"15px"},requestPronounsFormInputRoot:{"&$requestPronounsFormInputRoot":{paddingRight:0}},requestPronounsFormInputLabel:{fontWeight:e.typography.fontWeightBold},requestPronounsFormInputSendButton:{borderRadius:0}}))),y=({analyticsId:e,approvedPronouns:t})=>{const n=Object(r.a)(),s=v(),[a,l]=i.useState(""),[c,d]=i.useState(""),[u,m]=i.useState(!1),[p,h]=i.useState(!1),y=Object(g.d)(),k=i.useCallback((e=>{const i=e.target.value;l(i);!(null==t?void 0:t.find((e=>{var t;return 0===(null===(t=null==e?void 0:e.name)||void 0===t?void 0:t.localeCompare(i))})))?""!==c&&d(""):d(n("userProfile.pronouns.request.pronounExists"))}),[t,c,n]),x=i.useCallback((()=>{y(b.X.userPronouns.addSystemPronoun({name:a,status:f.Lb.Pending})).then((()=>{d(""),h(!0)})).catch((e=>{e instanceof b.W&&d(n("admin-pages.approved-pronouns.list.add-option-xss-violation"))}))}),[a,y,n]),S=u&&p,C=u&&!p,E=!u,I={};return""!==c&&(I.error=!0,I.helperText=c),i.createElement(i.Fragment,null,S&&i.createElement(o.AnalyticsTypography,{className:s.requestPronounDescriptionRoot,"aria-live":"polite",role:"status"},n("userProfile.pronouns.request.sent")),C&&i.createElement(i.Fragment,null,i.createElement(o.AnalyticsTextField,{classes:{root:s.requestPronounFormRoot},analyticsId:`${e}.request.inputField`,id:"request-new-pronouns",label:n("userProfile.pronouns.request.label"),placeholder:n("userProfile.pronouns.request.placeholder"),value:a,onChange:k,...I,InputLabelProps:{classes:{root:s.requestPronounsFormInputLabel}},InputProps:{endAdornment:i.createElement(o.AnalyticsInputAdornment,{analyticsId:`${e}.input.adornment`,id:"send-pronoun-request",position:"end",disableTypography:!0},i.createElement(o.AnalyticsPrimaryButton,{classes:{root:s.requestPronounsFormInputSendButton},onClick:x,analyticsId:`${e}.request.send`,disabled:""!==c||""===a},n("userProfile.pronouns.request.sendLabel"))),classes:{root:s.requestPronounsFormInputRoot}}})),E&&i.createElement(o.AnalyticsTypography,{className:s.requestPronounDescriptionRoot},n("userProfile.pronouns.request.description")+" ",i.createElement(o.AnalyticsLink,{analyticsId:`${e}.pronouns.request.show.inputField`,"aria-label":n("userProfile.pronouns.request.makeRequestAriaLabel"),component:"button",onClick:()=>m(!0)},n("userProfile.pronouns.request.makeRequest"))))},k=e=>{const t=Object(r.a)(),n=Object(a.D)(),s=Object(a.H)(),l=n.loading||s.loading;return i.createElement("div",null,l&&i.createElement(o.AnalyticsCircularProgress,{ariaLabel:t("userProfile.pronouns.loadingAriaLabel"),size:"small"}),!l&&i.createElement(i.Fragment,null,i.createElement(h,{...e,analyticsId:"userProfile.pronouns.TagPicker",approvedPronouns:s.list}),n.enabled&&i.createElement(y,{approvedPronouns:s.list,analyticsId:"userProfile.pronouns"})))};function x(e){return(e.pronouns||"").split(",").map((e=>e.trim())).join(", ")}var S=n("yQJI");const C=e=>{const{onAudioRecorded:t,onAudioDeleted:n,src:s}=e,a=Object(r.a)(),o=new S.b((e=>t(e)));return i.createElement(l.F,{recordLabel:a("userProfile.pronunciation.recordButtonLabel"),playLabel:a("userProfile.pronunciation.playButtonLabel"),onAudioDeleted:n,analyticsId:"userProfile.pronunciation",recordingSession:o,src:s})};n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return x})),n.d(t,"a",(function(){return C}))},"ZzN+":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("Llzl"),s=n("5MwF"),a=n("pjml"),o=n("0+Qs"),r=n("zGdY");const l="ultra.service.course.conversion",c="courseConversion";class d{constructor(e,t,n,i,s,a){this.interval=e,this.CourseModel=t,this.$modal=n,this.$q=i,this.$rootScope=s,this.ScheduledTaskModel=a,this.showPreviewAlert=!0,this.taskCache={},this.queuedTaskCache={}}_getConversionTask(e){return this.ScheduledTaskModel.$find(e)}isPreview(e){return!e.isOpen()&&e.isUltraPreview()}isConversionComplete(e){return!e||(e===r.Rb.Complete||e===r.Rb.CompleteErrors)}isConversionSuccess(e){return!e||e===r.Rb.Complete}setCheckConversionIntervalIfNotExist(e,t){this.taskCache[e.courseId]||this.setCheckConversionInterval(e,t)}setCheckConversionInterval(e,t){const n=this.cancelConversionInterval(e);this.removeQueuedTaskFromCache(e),void 0===t&&n&&(t=n.onCompleteCallback),e.refreshConvertToUltraStatus().then((n=>{this.queuedTaskCache[e.courseId]=n.ui.convertToUltraTaskId,this._getConversionTask(this.queuedTaskCache[e.courseId]).$then((n=>{this.setUpIntervalToPollForConversionTaskCompletion(n,e,t)}))}))}setUpIntervalToPollForConversionTaskCompletion(e,t,n){const i=e.taskTitle;if(i&&(i.indexOf("ConvertTOUltraQueuedOperation")>=0||i.indexOf("UndoUltraQueuedOperation")>=0)){let i;const a=()=>{i()};if(i=()=>{this._getConversionTask(e.taskId).$then((e=>{const n=e.taskStatus.toString(),i=this.isConversionComplete(n),s=this.isConversionSuccess(n);if(i){const a=this.cancelConversionInterval(t);this.removeQueuedTaskFromCache(t),a&&a.onCompleteCallback&&a.onCompleteCallback(n,{complete:i,success:s,taskId:e.taskId,taskTitle:e.taskTitle})}}))},!this.taskCache[t.courseId]){const e=s.a.production?6e4:6e3;this.taskCache[t.courseId]={interval:this.interval(a,this.$rootScope,e),onCompleteCallback:n}}}}cancelConversionInterval(e){const t=this.taskCache[e.courseId];return t&&(this.interval.cancel(t.interval),this.taskCache[e.courseId]=null),t}removeQueuedTaskFromCache(e){delete this.queuedTaskCache[e.courseId]}}d.$inject=[o.b,a.m.serviceName,"$modal","$q","$rootScope",a.nb.serviceName];i.module(l,[a.N,o.a]).service(c,d)},ZzR9:function(e,t,n){"use strict";var i,s;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),function(e){e.$stateChangeError="$stateChangeError",e.$stateChangeStart="$stateChangeStart",e.$stateChangeSuccess="$stateChangeSuccess",e.$stateNotFound="$stateNotFound",e.$stateHasCourseInContextChanged="$stateHasCourseInContextChanged",e.$stateHasContentInContextChanged="$stateHasContentInContextChanged"}(i||(i={})),function(e){e.$locationChangeStart="$locationChangeStart",e.$locationChangeSuccess="$locationChangeSuccess"}(s||(s={}))},ZzYr:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("D57K"),s=n("TnpK"),a=n("Qbdf"),o=n("aHpC"),r=n("Llzl");const l="ultra.components.directives.courseOrgTokenReplacementDirective",c=[{coursePrefix:"base.baseCourses",orgPrefix:"base.baseOrganizations"},{coursePrefix:"base.courses",orgPrefix:"base.organizations"},{coursePrefix:"course",orgPrefix:"organization"},{coursePrefix:"components.directives.message",orgPrefix:"components.directives.message.organization"},{coursePrefix:"components.directives.learning-module.ghost-panel",orgPrefix:"components.directives.learning-module.orgs-ghost-panel"},{coursePrefix:"components.directives.calendar",orgPrefix:"components.directives.calendar.organization"},{coursePrefix:"components.directives.content-visibility",orgPrefix:"components.directives.content-visibility.organization"},{coursePrefix:"components.directives.grade",orgPrefix:"components.directives.grade.organization"},{coursePrefix:"components.directives.telemetry",orgPrefix:"components.directives.telemetry.organization"}];class d{constructor(e,t,n,i,s){this.element=e,this.attributes=t,this.scope=n,this.ultraState=i,this.currentCourse=s;try{if((i.includes("base.organizations.**")||s.course&&s.course.isOrganization)&&(t.bbTranslate&&(t.bbTranslate=this.replaceToken(t.bbTranslate),e.attr("bb-translate",this.replaceToken(t.bbTranslate))),t.bbTranslateAttrs)){let n=t.bbTranslateAttrs;r.forEach(this.scope.$eval(n),(e=>{n=n.replace(e,this.replaceToken(e))})),t.bbTranslateAttrs=n,e.attr("bb-translate-attrs",n)}}catch(e){}}replaceToken(e){if(e){const t=c.find((t=>e.startsWith(t.coursePrefix)));if(t)return e.replace(t.coursePrefix,t.orgPrefix)}return e}}let u=class{constructor(e,t){this.ultraState=e,this.currentCourse=t,this.restrict="A",this.scope=!1,this.priority=-1,this.compile=()=>(e,t,n)=>new d(t,n,e,this.ultraState,this.currentCourse)}};u=Object(i.a)([Object(i.c)(0,Object(o.b)(s.d)),Object(i.c)(1,Object(o.b)(a.e))],u),r.module(l,[s.b]).directive("courseOrgTokenResolver",["$injector",e=>e.instantiate(u)])},a2qY:function(e,t){e.exports='<div bb-load-bundle="components/directives/content-item-base" ng-class="::contentItemBase.getRootClassName()" bb-cache-compilation="content-item-base">\n  <div class="content-item-base-container guidance-overflow-fix js-content-item-base" bb-click-to-invoke-child=".content-title">\n    <div ng-switch on="content.ui.importPlaceholder" class="content-item-row-container">\n      <div ng-switch-when="true" class="placeholder-container" bb-focus>\n        <div class="placeholder-text" bb-translate>components.directives.content-item-base.copy-placeholder</div>\n        <div class="sr-only" bb-translate>components.directives.content-item-base.please-wait</div>\n      </div>\n      <bb-review-state-icon\n        ng-if="contentItemBase.shouldShowReviewStateIcon()"\n        content-id="content.id"\n        course-id="contentItemBase.courseId"\n        on-review-state-icon-click="contentItemBase.onReviewStateIconClick"\n        has-automatic-review-state-transition="!content.canUpdateReviewState()"\n        before-item-state="contentItemBase.getNeighborReviewState(itemBefore)"\n        after-item-state="contentItemBase.getNeighborReviewState(itemAfter)"\n      ></bb-review-state-icon>\n\n      <div ng-switch-default class="row drag-element-row" ng-class="{\n        \'is-restricted\': content.canViewAsInstructor() ? !content.isAvailable : false,\n        \'hidden-from-student-cr\': content.canViewAsInstructor() && content.isConditionalReleaseWithHiddenFromStudent(),\n        \'isNotClickable\': content.isConditionalReleaseLocked() || content.isRestricted() && !content.canViewAsInstructor()}">\n        <div class="content-item-row">\n          <div class="content-item-details" ng-class="{\'is-uploading\':content.ui.isUploading}">\n            <div class="element-card outline-item">\n              <ng-switch on="content.ui.isUploading">\n                <div ng-switch-when="true" class="upload-file">\n                  <bb-progress displayResults="false" id="{{content.ui.fileUploadId}}" class="bb-progress"></bb-progress>\n                </div>\n\n                <div class="outline-item-inner" ng-switch-default>\n                  <div class="element-image" ng-if="contentItemBase.isGradeLoaded" bb-content-item-icon="content" show-alert-icon="contentItemBase.shouldShowAlertIcon()">\n                  </div>\n                  <div class="element-details">\n                    <div ng-if="shouldShowContent">\n                      <bb-content-item-course-outline ng-if="!contentItemBase.isEngagementOutline()"></bb-content-item-course-outline>\n                      <bb-content-item-engagement-outline ng-if="contentItemBase.isEngagementOutline()"></bb-content-item-engagement-outline>\n                    </div>\n                    <div ng-if="!contentItemBase.shouldShowContent">\n                      {{contentItemBase.overrideMessage}}\n                    </div>\n                  </div>\n                </div>\n              </ng-switch>\n            </div>\n          </div>\n          <div ng-if="content.id" class="item-controls">\n            \x3c!-- Show this if the user has edit permissions on the content and it is movable //--\x3e\n            <button bb-drag-handle\n                    drag-item-id="{{content.id}}"\n                    drag-item-name="{{content.title}}"\n                    drag-item-type="{{contentItemBase.contentHandler}}"\n                    drag-item-context="{{contextArea}}"\n                    class="super-clear small button icon js-drag-handle"\n                    ng-if="canMove && content.canEdit()"\n                    translate-attrs-values="{contentTitle: content.title}"\n                    bb-translate-attrs="{\'title\': \'components.directives.content-item-base.move\', \'aria-label\': \'components.directives.content-item-base.aria-label.move\'}"\n                    analytics-id="content.item.base.move.button"\n                    >\n\n              <bb-svg-icon size="small" icon="move-item-up-down"></bb-svg-icon>\n            </button>\n            <bb-ally-content-ref\n                ng-if="contentItemBase.canShowAlly"\n                content-id="{{content.id}}"\n                file-id="{{::contentItemBase.allyService.getXythosIdFromContentItem(content)}}"\n                file-preview-url="{{::content.getContentDisplay().contentUrl()}}"\n            ></bb-ally-content-ref>\n            <bb-ally-show\n              ng-if="contentItemBase.canShowAlly && contentItemBase.isAllyInstructor"\n              content-id="{{content.id}}"\n              show-view-score-link="true"\n              show-icon="true"\n              class="ally-icon"\n            ></bb-ally-show>\n            <bb-ally-show\n              ng-if="contentItemBase.canShowAllyAlternativeFormats(content)"\n              content-id="{{content.id}}"\n              show-alternative-formats-link="true"\n              show-icon="true"\n              class="ally-icon"\n            ></bb-ally-show>\n            \x3c!-- Show this if the user has edit or delete permissions //--\x3e\n            <div class="right" bb-foundation-defer>\n              <bb-overflow-menu ng-show="contentItemBase.showOverflowMenu()"\n                                element-id="{{content.id}}"\n                                element-name="{{content.title}}"\n                                menu-items="contentItemBase.getOverflowMenu()"\n                                on-menu-toggle="contentItemBase.updateAlly()"\n                                ng-attr-data-ally-content-ref="{{content.id}}"\n                                ng-attr-data-ally-show="{{ contentItemBase.overflowMenuIsAllyConditional() ? \'instructorfeedback\' : undefined }}"\n                                analytics-id-tag-prefix="components.directives.content-item-base.overflowMenu">\n              </bb-overflow-menu>\n            </div>\n          </div>\n        </div>\n\n        <div ng-if="contentItemBase.getDescription()" class="content-item-description">\n          <bb-course-content-item-description\n            description="contentItemBase.getDescription()"\n          ></bb-course-content-item-description>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},aAQ7:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-menu",use:"icon-small-menu-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-menu"><circle cx="2" cy="8" r="1" stroke-width="2" /><circle cx="8" cy="8" r="1" stroke-width="2" /><circle cx="14" cy="8" r="1" stroke-width="2" /></symbol>'});s.add(a);e.exports=a},aCck:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("pjml"),a=n("eYRL"),o=n("IbyE");const r="ultra.directives.webLinkItem";class l{constructor(e){this.CourseModel=e,this.replace=!0,this.restrict="E",this.scope={content:"=",targetContent:"=?",prefix:"=",aria:"=?",tabbable:"=?"},this.template=a,this.link=(e,t)=>{const n=e.$watch("targetContent.contentHandler",(t=>{null!=t&&(e.$emit("click-to-invoke-child-directive-init"),n())}));!e.targetContent&&e.content&&e.content.contentDetail&&(e.targetContent=e.content.getLinkContentSource(),e.targetContent.$then((()=>{e.content.description=e.targetContent.description}))),e.ariaDescribedBy="content-item-icon-"+e.content.id,e.content.ui.hasIndicator&&(e.ariaDescribedBy+=" activity-indicator-"+e.content.id),o.j.isNotAccessibleButVisibleForcedSequenceItem(e.content)?(e.aria=!0,e.tabbable=!0):(e.aria=!1,e.tabbable=!1)}}}l.$inject=[s.m.serviceName],i.module(r,[]).directive("bbWebLinkItem",["$injector",e=>e.instantiate(l)])},aD4H:function(e,t){e.exports='<ng-form name="baseForm" bb-autosave save-func="saveForm.save()" validation-func="saveForm.validate()" delay-autosave="delayAutosave()"\n         debounce-save-destination="debounceSaveDestination()" novalidate>\n    <div ng-transclude />\n    <bb-save-buttons validate-save="saveForm.validate()"\n                     save-action="saveForm.saveClicked()"\n                     cancel-action="saveForm.cancelClicked()"\n                     delete-action="saveForm.deleteClicked()"\n                     hide-save="hideFooter"\n                     hide-cancel="hideFooter"\n                     mousedown-action="saveForm.mouseDown()"\n                     can-delete="canDelete"\n                     display-delete-after-saving="displayDeleteAfterSaving()"\n                     delete-confirmation-resource-type="{{deleteConfirmationResourceType}}"\n                     must-show-delete-confirmation="true"\n                     choices="choices"\n                     analytics-id-tag-prefix="{{::analyticsIdTagPrefix}}.saveForm">\n                          \x3c!-- TODO: will update the above “must-show-delete-confirmation” after PR #818 (update confirmation needed) is merged --\x3e\n    </bb-save-buttons>\n</ng-form>\n'},aHpC:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return l}));var i=n("nsO7");function s(e,...t){const n=Symbol(e.name);return function(i,s,a){const o=a.value;a.value=function(...i){return this[n]=this[n]||e.apply(null,[o].concat(t||[])),this[n].apply(this,i)}}}const a=function(e){return s(i.debounce,e)},o=function(...e){return function(t,n,s){const a=s.value,o=Symbol("@ScopeOnce("+t.constructor.name+"."+n+")"),r=Symbol("@ScopeOnce("+t.constructor.name+"."+n+")");s.value=function(...t){const n=this,s=n.$scope||n.scope;if(!s)throw new Error("NO_SCOPE_FOUND");return Object(i.isEmpty)(e)||(n[r]=n[r]||Object(i.once)((()=>{s.$watchGroup(e,(()=>{n[o]=null}))})),n[r]()),n[o]=n[o]||Object(i.once)((function(...e){return a.apply(n,e)})),n[o].apply(n,t)}}},r=function(e){if(!e)throw new Error("Empty name is not accepted");return function(t,n,i){if("function"!=typeof t)throw new Error("@Inject only supports constructor arguments");t.$inject=t.$inject||[],t.$inject[i]=e}},l=function(){return function(e,t,n){const i=n.value;n.value=function(...e){const t=i.apply(this,e),n=this.$injector;if(!n)throw new Error("$injector NotFound, the decorator requires $injector to be injected into class.");n.invoke(["$rootScope","$q",(e,n)=>{n.when(t).then((()=>e.$applyAsync()))}])}}}},aLuL:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38" xml:space="preserve"><path fill="#C26FD2" d="M3 3.5V34c0 2.2 1.8 4 4 4h22c2.2 0 4-1.8 4-4V3.5H3z"/><path fill="#955CA1" d="M33 7H6.5A3.51 3.51 0 0 1 3 3.5 3.51 3.51 0 0 1 6.5 0H33v7z"/><path fill="#955CA1" d="M7 3.5H3V34c0 2.2 1.8 4 4 4V3.5z"/><path fill="#DFF1FF" d="M3.164 4.5C3.599 5.938 4.925 7 6.5 7H33V2H6.5C4.925 2 3.599 3.062 3.164 4.5z"/><path fill="#D498DF" d="M32 1v5H6.5C5.122 6 4 4.878 4 3.5S5.122 1 6.5 1H32m1-1H6.5C4.575 0 3 1.575 3 3.5S4.575 7 6.5 7H33V0z"/><path fill="#DFF1FF" d="M32 2h1v4h-1z"/><path fill="none" stroke="#C4DAE8" stroke-linecap="round" stroke-miterlimit="10" d="M7.5 4.5h25"/><path fill="#955CA1" d="M31 1h2v1h-2zM9.022 4h4.312v2H9.022z"/><path fill="#7B5080" d="M27.82 32.431h-1.026c.119-.186.206-.395.206-.631V7h-8.01v22.462l6.211 3.377c.149.086.315.129.486.146v.008h.063c.016.001.032.007.05.007.012 0 .021-.006.033-.007h1.988v-.562zm-2.018-.432L25.8 32l.002-.001z"/><path fill="#7B5080" d="M11 7h-1v24.8c0 .63.493 1.134 1.111 1.182v.011h.056c.012 0 .021.007.033.007.017 0 .034-.006.051-.007h1.018v-.265h-.266L19 28.924l.014.008V7H11zm.201 25-.004-.001.004.001zm.105-.031c-.004.003-.009.002-.014.004.005-.002.01-.001.014-.004L19 27.785l-7.694 4.184z"/><path fill="#965CA1" d="M28 7H11v24.8a1.202 1.202 0 0 0 1.799 1.039L20 28.924l7.201 3.916A1.201 1.201 0 0 0 29 31.8V7h-1zM12.055 31.928zm.142.071.004.001H12.2l-.003-.001zM20 27.785l-7.694 4.184c-.004.003-.009.002-.014.004.005-.002.009-.001.014-.004L20 27.785l7.694 4.184c.004.003.009.002.014.004-.004-.002-.009-.001-.014-.004L20 27.785zM27.799 32l.004-.001-.004.001zm.123-.05.023-.022a.12.12 0 0 1-.023.022z"/><path fill="#C26FD2" d="m20.006 14 1.547 3.135 3.46.502-2.504 2.44.591 3.446-3.094-1.627-3.094 1.627.591-3.446L15 17.637l3.459-.502z"/><path fill="#FFF" d="M23.101 24.022a.49.49 0 0 1-.232-.058l-2.862-1.505-2.861 1.505a.5.5 0 0 1-.725-.527l.547-3.186-2.314-2.256a.5.5 0 0 1 .276-.854l3.199-.465 1.431-2.899c.168-.34.729-.34.896 0l1.432 2.899 3.199.465a.5.5 0 0 1 .276.854l-2.314 2.256.547 3.186a.5.5 0 0 1-.495.585zm-3.095-2.627c.08 0 .16.02.232.058l2.198 1.155-.42-2.446a.5.5 0 0 1 .145-.443l1.777-1.732-2.457-.356a.5.5 0 0 1-.376-.273l-1.1-2.227-1.099 2.227a.5.5 0 0 1-.376.273l-2.457.356 1.777 1.732c.118.115.172.28.145.443l-.42 2.446 2.197-1.155a.513.513 0 0 1 .234-.058z"/><path fill="#C26FD2" d="M28.984 7H11.022l-2-3h17.962z"/><path fill="none" stroke="#C4DAE8" stroke-linecap="round" stroke-miterlimit="10" d="M7.5 2.5h25"/></svg>'},aPUy:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));const i="peer-review-assigned";function s(e,t){return e.$broadcast(i,t.listIndex,t.reviewableAttempt)}function a(e,t){return e.$on(i,t)}},aTRN:function(e,t,n){"use strict";var i=n("D57K"),s=n("pjml"),a=n("aHpC"),o=n("4GL6"),r=n("0JpG"),l=n("oi1r"),c=n("TnpK"),d=n("Qbdf"),u=n("X455"),m=n("zGdY"),p=n("IbyE"),h=n("nsO7");const g="performance",b="date";let f=class{constructor(e,t,n,i,s,a,o){this.localizeService=e,this.schemaService=t,this.courseModel=n,this.contextCourse=i,this.contextCourseMembership=s,this.scope=o,this.isPerformanceConditionInvalid=!1,this.role=Object(h.memoize)((()=>this.contextCourseMembership.courseMembership&&this.contextCourseMembership.courseMembership.isStudentMembership()?"student":"instructor")),this.courseId=i.courseId?i.courseId:a.params.courseId}getConditions(e,t,n){var i,s;this.content=e;const a=null===(i=e.adaptiveReleaseRules)||void 0===i?void 0:i.rules;if((null==a?void 0:a.length)||e.isForcedSequenceModule())if((null===(s=null==a?void 0:a[0])||void 0===s?void 0:s.criteria)&&(this.allCriteria=a[0].criteria),this.getACLCriteria()?this.setACLCondition():this.aclToolTips=null,this.getPerformanceCriteria()?this.setPerformanceCondition(t,n):this.performanceToolTips=null,this.getDateCriteria()?this.setDateCondition():this.dateToolTips=null,this.contextCourseMembership.courseMembership.isStudentMembership()&&e.isForcedSequenceItem()){const t=0===e.position?"components.directives.content-item-base.conditionalRelease.student-forced-sequence-first-item-tooltip":"components.directives.content-item-base.conditionalRelease.student-forced-sequence-item-tooltip";this.forcedSequenceTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:t,noWrap:!0,noEscape:!0}),this.updateTooltipScope()}else this.forcedSequenceTips=null}getConditionDescription(){const e=!!this.getACLCriteria(),t=!!this.getPerformanceCriteria(),n=!!this.getDateCriteria(),i=[[e,this.contextCourse.course.isOrganization?"organization-membership":"course-membership"],[n,b],[t,g]].filter((e=>!!e[0])).map((e=>`components.directives.content-item-base.conditionalRelease.conditionDescriptions.${e[1]}`));if(0===i.length)return;const s=this.localizeService.getLocale(this.scope),a=i.map(((e,t)=>this.localizeService.translateSync({locale:s,key:`${e}${0===t?"-capitalized":""}`})));return this.localizeService.formatItemsSync(a,a.length,null,this.scope,!1,{noWrap:!0})}getPerformanceCriteria(){return this.getCriteriaByType(p.d.Grade.toString())||this.getCriteriaByType(p.d.GradePercentage.toString())}getDateCriteria(){return this.getCriteriaByType(p.d.Date.toString())}getACLCriteria(){return this.getCriteriaByType(p.d.ACL.toString())}getCriteriaByType(e){return this.allCriteria&&this.allCriteria.find((t=>t.type===e))}setPerformanceCondition(e,t){this.gradeCriteria=this.getPerformanceCriteria();let n=this.gradeCriteria&&this.gradeCriteria.minScore;const i=this.gradeCriteria&&this.gradeCriteria.maxScore,s=this.gradeCriteria&&this.gradeCriteria.gradeColumnId;let a="",o="";if(!s||t){const e=`components.directives.content-item-base.conditionalRelease.${this.role()}-missing-column-error`;return this.performanceToolTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:e,noWrap:!0,noEscape:!0}),this.isPerformanceConditionInvalid=!0,void this.updateTooltipScope()}this.courseModel.$new(this.courseId||this.content.courseId).gradebook.columns.$find(s).$allow([403]).$then((t=>{if(t.$response&&403===t.$response.status)return this.performanceToolTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"components.directives.content-item-base.conditionalRelease.student-missing-column-error",noWrap:!0,noEscape:!0}),this.isPerformanceConditionInvalid=!0,void this.updateTooltipScope();let s=`components.directives.content-item-base.conditionalRelease.${this.role()}-lock-tooltip`;s+=void 0===i?"-common":n===i?"-equal":"-custom";const r=e||t&&t.columnName;this.schemaService.loadSchemas(this.courseId).then((e=>{const l=e&&e.find((e=>e.id===t.gradingSchemaId))||{};this.gradeCriteria&&"Grade_Range"===this.gradeCriteria.type&&(void 0===i&&l.scaleType!==m.ac.Score&&l.scaleType!==m.ac.Complete||(a=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),params:{score:n||0},key:"components.directives.content-item-base.conditionalRelease.point.plural",noWrap:!0,noEscape:!0}),o=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),params:{score:i||t.possible},key:"components.directives.content-item-base.conditionalRelease.point.plural",noWrap:!0,noEscape:!0}))),this.gradeCriteria&&"Grade_Range_Percentage"===this.gradeCriteria.type&&(void 0!==i||l.scaleType===m.ac.Percent?(a=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),params:{score:n||0},key:"components.directives.content-item-base.conditionalRelease.percentage",noWrap:!0,noEscape:!0}),o=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),params:{score:i||t.possible},key:"components.directives.content-item-base.conditionalRelease.percentage",noWrap:!0,noEscape:!0})):l.scaleType===m.ac.Tabular&&(l.symbols.sort(((e,t)=>e.absoluteTranslation-t.absoluteTranslation)),l.symbols.forEach((e=>{e.absoluteTranslation>=n&&(n=e.symbol,a=n)})))),this.getPerformanceToolTips(s,a,o,r)}))}))}setDateCondition(){if(this.dateCriteria=this.getDateCriteria(),this.dateCriteria){let e=null;this.dateCriteria.start&&this.dateCriteria.end?e="both":this.dateCriteria.start?e="showon":this.dateCriteria.end&&(e="hideafter");const t=`components.directives.content-item-base.conditionalRelease.${this.role()}-${e}-date-tooltip`;this.dateToolTips=e&&this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:t,params:{showon:new Date(this.dateCriteria.start),hideafter:new Date(this.dateCriteria.end)},noWrap:!0,noEscape:!0}),this.updateTooltipScope()}}setACLCondition(){this.aclCriteria=this.getACLCriteria(),this.aclCriteria&&(this.aclToolTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"components.directives.content-item-base.conditionalRelease.acl-tooltip",noWrap:!0,noEscape:!0}),this.updateTooltipScope())}getPerformanceToolTips(e,t,n,i,s=""){this.performanceToolTips=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:e,params:{minScore:t,maxScore:n,title:i},noWrap:!0,noEscape:!0}),this.isPerformanceConditionInvalid=!1,this.updateTooltipScope()}updateTooltipScope(){angular.isUndefined(this.tooltipScope)&&(this.tooltipScope=this.scope.$new(!0)),this.tooltipScope.items=[],this.aclToolTips&&this.tooltipScope.items.push(this.aclToolTips),this.performanceToolTips&&(this.tooltipScope.items.push(this.performanceToolTips),this.isPerformanceConditionInvalid)?this.tooltips=this.performanceToolTips:(this.dateToolTips&&this.tooltipScope.items.push(this.dateToolTips),this.forcedSequenceTips&&this.tooltipScope.items.push(this.forcedSequenceTips),this.tooltips=this.tooltipScope.items.join(" "))}getConditionalReleaseComplexTooltipTemplate(){return o.a("conditional-release-tooltip")}};f=Object(i.a)([Object(i.c)(0,Object(a.b)(r.serviceName)),Object(i.c)(1,Object(a.b)(l.b)),Object(i.c)(2,Object(a.b)(s.m.serviceName)),Object(i.c)(3,Object(a.b)(d.e)),Object(i.c)(4,Object(a.b)(u.d)),Object(i.c)(5,Object(a.b)(c.d)),Object(i.c)(6,Object(a.b)("scope"))],f),t.a=f},abE0:function(e,t){e.exports='<bb-modal class="notification" modal-translate-options="modalTranslateOptions"\n          modal-aria-type="{{modalAriaType}}"\n          analytics-id-tag-prefix="components.directives.confirmationNeeded">\n  <div name="modal-contents">\n    <p ng-bind-html="::modalStrings.instructions"></p>\n    <div ng-show="confirmationNeeded.choices && confirmationNeeded.choices.length > 0" ng-repeat="choice in confirmationNeeded.choices">\n      <input id="{{choice.key}}" ng-disabled="choice.isDisable" ng-model="choice.value" type="checkbox" analytics-id="components.directives.confirmationNeeded.input.checkbox"/>\n      <label for="{{choice.key}}" bb-translate="{{choice.localizedKey}}"></label>\n    </div>\n  </div>\n  <button name="modal-footer-button-primary" class="button confirm-ok js-primary-button" ng-click="okAction()" analytics-id="primary.button.okAction.button">{{::modalStrings.ok}}</button>\n  <button name="modal-footer-button-secondary" class="button button--secondary confirm-cancel js-secondary-button" ng-click="cancelAction()" analytics-id="secondary.button.cancelAction.button">{{::modalStrings.cancel}}</button>\n</bb-modal>\n'},adx1:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("nsO7");class s{constructor(){this.events=Object.create(null)}$onEvent(e,t){return this.events[e]=this.events[e]||[],this.events[e].push(t),i.once((()=>{i.remove(this.events[e],(e=>e===t))}))}$emitEvent(e,...t){const n={type:e};(this.events[e]||[]).forEach((e=>{e.call(this,n,...t)}))}}},agzH:function(e,t,n){"use strict";var i=n("Llzl"),s=n("0JpG"),a=n("1ZbL"),o=n("/5AG");n.d(t,"a",(function(){return r}));const r="ultra.features.course.outline.review-state-icon",l={Class:o.z,bindingNames:["afterItemState","beforeItemState","contentId","courseId","hasAutomaticReviewStateTransition","onReviewStateIconClick"],renderLocalized:!0,withProvider:!0};i.module(r,[s.moduleName]).component("bbReviewStateIcon",Object(a.a)(l))},ajRr:function(e,t){e.exports='<svg width="199" height="200" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M99.5 0C154.45 0 199 44.55 199 99.5S154.45 199 99.5 199 0 154.45 0 99.5 44.55 0 99.5 0Z" fill="#E3F4FC"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.01 137.07c14.78 36.42 50.5 62.11 92.23 62.11 41.73 0 77.45-25.69 92.23-62.11H7.01Z" fill="#D2EDFA"/><path d="M139.71 158.59h-77c-2.21 0-4-1.79-4-4v-108c0-2.21 1.79-4 4-4h77c2.21 0 4 1.79 4 4v108c0 2.21-1.79 4-4 4Z" fill="#545C61"/><path d="M139.71 158.59h-77c-2.21 0-4-1.79-4-4v-104c0-2.21 1.79-4 4-4h77c2.21 0 4 1.79 4 4v104c0 2.21-1.79 4-4 4Z" fill="#3F4549"/><path d="M63.71 60.59a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z" fill="#2F3437"/><path d="M54.69 58.59h9.04c1.09 0 1.98-.89 1.98-1.98v-.04c0-1.09-.89-1.98-1.98-1.98h-9.04c-1.09 0-1.98.89-1.98 1.98v.04c0 1.09.89 1.98 1.98 1.98Z" fill="#C1C1BC"/><path opacity=".2" d="M63.73 54.59h-2c1.09 0 1.98.89 1.98 1.98v.04c0 1.09-.89 1.98-1.98 1.98h2c1.09 0 1.98-.89 1.98-1.98v-.04c0-1.1-.89-1.98-1.98-1.98Z" fill="#000"/><path d="M63.71 82.59a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z" fill="#2F3437"/><path d="M54.69 80.59h9.04c1.09 0 1.98-.89 1.98-1.98v-.04c0-1.09-.89-1.98-1.98-1.98h-9.04c-1.09 0-1.98.89-1.98 1.98v.04c0 1.09.89 1.98 1.98 1.98Z" fill="#C1C1BC"/><path opacity=".2" d="M63.73 76.59h-2c1.09 0 1.98.89 1.98 1.98v.04c0 1.09-.89 1.98-1.98 1.98h2c1.09 0 1.98-.89 1.98-1.98v-.04c0-1.1-.89-1.98-1.98-1.98Z" fill="#000"/><path d="M63.71 104.59a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z" fill="#2F3437"/><path d="M54.69 102.59h9.04c1.09 0 1.98-.89 1.98-1.98v-.04c0-1.09-.89-1.98-1.98-1.98h-9.04c-1.09 0-1.98.89-1.98 1.98v.04c0 1.09.89 1.98 1.98 1.98Z" fill="#C1C1BC"/><path opacity=".2" d="M63.73 98.59h-2c1.09 0 1.98.89 1.98 1.98v.04c0 1.09-.89 1.98-1.98 1.98h2c1.09 0 1.98-.89 1.98-1.98v-.04c0-1.1-.89-1.98-1.98-1.98ZM63.73 120.59h-2c1.09 0 1.98.89 1.98 1.98v.04c0 1.09-.89 1.98-1.98 1.98h2c1.09 0 1.98-.89 1.98-1.98v-.04c0-1.1-.89-1.98-1.98-1.98Z" fill="#000"/><path d="M63.71 148.59a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z" fill="#2F3437"/><path d="M54.69 146.59h9.04c1.09 0 1.98-.89 1.98-1.98v-.04c0-1.09-.89-1.98-1.98-1.98h-9.04c-1.09 0-1.98.89-1.98 1.98v.04c0 1.09.89 1.98 1.98 1.98Z" fill="#C1C1BC"/><path opacity=".2" d="M63.73 142.59h-2c1.09 0 1.98.89 1.98 1.98v.04c0 1.09-.89 1.98-1.98 1.98h2c1.09 0 1.98-.89 1.98-1.98v-.04c0-1.1-.89-1.98-1.98-1.98Z" fill="#000"/><path d="M120.73 102.59H83.69c-1.09 0-1.98-.89-1.98-1.98v-.04c0-1.09.89-1.98 1.98-1.98h37.04c1.09 0 1.98.89 1.98 1.98v.04c0 1.09-.89 1.98-1.98 1.98ZM109.73 112.59H93.69c-1.09 0-1.98-.89-1.98-1.98v-.04c0-1.09.89-1.98 1.98-1.98h16.04c1.09 0 1.98.89 1.98 1.98v.04c0 1.09-.89 1.98-1.98 1.98ZM120.73 92.59H83.69c-1.09 0-1.98-.89-1.98-1.98v-.04c0-1.09.89-1.98 1.98-1.98h37.04c1.09 0 1.98.89 1.98 1.98v.04c0 1.09-.89 1.98-1.98 1.98Z" fill="#545C61"/><path d="M143.71 69.59v-17l3.26 1.09a4 4 0 0 1 2.74 3.79v7.23c0 1.72-1.1 3.25-2.74 3.79l-3.26 1.1Z" fill="#39E079"/><path d="M143.71 87.59v-17l3.26 1.09a4 4 0 0 1 2.74 3.79v7.23c0 1.72-1.1 3.25-2.74 3.79l-3.26 1.1Z" fill="#26D4FA"/><path d="M143.71 106.59v-17l3.26 1.09a4 4 0 0 1 2.74 3.79v7.23c0 1.72-1.1 3.25-2.74 3.79l-3.26 1.1Z" fill="#C26FD2"/><path opacity=".2" d="m145.71 53.25-2-.66v17l2-.67V53.25ZM145.71 71.25l-2-.66v17l2-.67V71.25ZM145.71 90.25l-2-.66v17l2-.67V90.25Z" fill="#000"/><path d="M49.14 123.43a.996.996 0 0 1-1.41 0l-21.57-21.57a3 3 0 0 1 0-4.24l2.12-2.12a.996.996 0 1 1 1.41 1.41l-2.12 2.12a.996.996 0 0 0 0 1.41l21.57 21.57c.39.4.39 1.03 0 1.42Z" fill="#EB5840"/><path opacity=".2" d="M49.14 123.43a.996.996 0 0 1-1.41 0l-21.57-21.57a3 3 0 0 1 0-4.24l2.12-2.12a.996.996 0 1 1 1.41 1.41l-2.12 2.12a.996.996 0 0 0 0 1.41l21.57 21.57c.39.4.39 1.03 0 1.42Z" fill="#000"/><path d="m96.87 151.36-7.07 7.07-38.88-38.9 7.06-7.06 38.89 38.89Z" fill="#F9F9F9"/><path opacity=".2" d="m93.34 154.9-3.54 3.53-38.88-38.89 3.53-3.53 38.89 38.89Z" fill="#000"/><path d="M106.04 166c.44.44.44 1.16 0 1.6-.44.44-1.16.44-1.6 0l-2.98-2.98c-.44-.44-.44-1.16 0-1.6.44-.44 1.16-.44 1.6 0l2.98 2.98Z" fill="#3E3E3E"/><path d="m58.69 111.76-8.49 8.49-24.79-24.79a5.939 5.939 0 0 1 0-8.4l.08-.08a5.939 5.939 0 0 1 8.4 0l24.8 24.78ZM103.95 165.48l-.03.03c-.82.82-2.09.96-3.07.33l-10.12-6.48 7.07-7.07 6.48 10.12c.62.98.49 2.25-.33 3.07Z" fill="#EB5840"/><path opacity=".2" d="m57.98 112.47-7.071 7.071.707.707 7.071-7.071-.707-.707Z" fill="#000"/><path opacity=".2" d="m25.45 87.02-.04.04a5.939 5.939 0 0 0 0 8.4l24.79 24.79 4.24-4.24-28.99-28.99ZM94.26 155.82l-3.54 3.54 10.12 6.48c.97.62 2.25.49 3.07-.33l.01-.01-9.66-9.68Z" fill="#000"/><path d="m98.29 152.77-7.09 7.09a.984.984 0 0 1-1.4 0l-.01-.01a.984.984 0 0 1 0-1.4l7.09-7.09a.984.984 0 0 1 1.4 0l.01.01c.39.39.39 1.01 0 1.4Z" fill="#EB5840"/><path opacity=".2" d="m93.34 154.9-3.54 3.54a.984.984 0 0 0 0 1.4l.01.01c.39.39 1.01.39 1.4 0l3.54-3.54-1.41-1.41Z" fill="#000"/><path opacity=".2" d="m98.73 153.75-.55-.87-6.86 6.86.86.55 6.55-6.54Z" fill="#000"/><path opacity=".1" d="M103.73 175.59H60.69c-1.09 0-1.98-.89-1.98-1.98v-.04c0-1.09.89-1.98 1.98-1.98h43.04c1.09 0 1.98.89 1.98 1.98v.04c0 1.09-.89 1.98-1.98 1.98Z" fill="#000"/></svg>'},aohr:function(e,t,n){"use strict";var i;!function(e){e.CcAdvisors="CC_ADVISORS",e.DisableAdvisorViewAllStudents="DISABLE_ADVISOR_VIEW_ALL_STUDENTS",e.EmailBranding="EMAIL_BRANDING",e.EmailSender="EMAIL_SENDER",e.EnableLogOut="ENABLE_LOG_OUT",e.InstructorViewMajorDegreeColumn="INSTRUCTOR_VIEW_MAJOR_DEGREE_COLUMN",e.OverrideLanguagePack="OVERRIDE_LANGUAGE_PACK",e.TypeaheadCourseLimit="TYPEAHEAD_COURSE_LIMIT",e.TypeaheadStudentLimit="TYPEAHEAD_STUDENT_LIMIT"}(i||(i={})),t.a=i},b2lU:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var i=n("0JpG");const s="fileUtility",a="FileUtilFactory";var o;!function(e){e.bytes="components.directives.fileUpload.bytes",e.GB="components.directives.fileUpload.GB",e.KB="components.directives.fileUpload.KB",e.MB="components.directives.fileUpload.MB"}(o||(o={}));class r{constructor(e,t){this.bbLocalize=e,this.$q=t,this.calculateSize=e=>{let t=o.bytes;return e>1e3&&(e/=1e3,t=o.KB,e>1e3&&(e/=1e3,t=o.MB,e>1e3&&(e/=1e3,t=o.GB))),{size:e,sizeLabel:t}}}getLocalizedSize(e,t,n=1){const i=this.calculateSize(e),s=this.bbLocalize.translateSync({locale:t,key:i.sizeLabel}),a=this.bbLocalize.translateSync({locale:t,key:"global.localizedNumber",params:{number:i.sizeLabel===o.bytes?i.size:parseFloat(i.size.toFixed(n))},noWrap:!0});return this.bbLocalize.translateSync({locale:t,key:"components.directives.fileUpload.sizeOutput",params:{size:a,label:s},noWrap:!0,noEscape:!0})}}r.$inject=[i.serviceName,"$q"],angular.module(s,[i.moduleName]).factory(a,["$injector",e=>function(){return e.instantiate(r)}])},bF8R:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var i=n("nsO7"),s=n("Llzl"),a=n("pjml"),o=n("fYJU"),r=n("o5Lu"),l=n("Bu0u"),c=n("zGdY"),d=n("0JpG");const u="ultra.components.services.courseContent",m="courseContent";class p{constructor(e,t,n,i,s,a,o){this.$q=e,this.$rootScope=t,this.$log=n,this.grade=i,this.contextUser=s,this.UserModel=a,this.bbLocalize=o,this.contentDataResult=new h}loadContentAndGrades(e){let t;if(e.content)t=e.content.$asPromise&&e.content.$asPromise()||this.$q.when(e.content);else{if(!e.contentId)throw new l.a({message:"Content or contentId must be provided."});{const n="assignedGroups,selfEnrollmentGroups.group"+(e.contentExtraExpand?","+e.contentExtraExpand:"");t=e.course.contents.$find(e.contentId,{expand:n}).$asPromise()}}if(!this.contextUser.userId)throw new l.a({message:"There is no userId in the context."});return t.then((t=>{const n=new h;return n.courseContent=t,n.groupMembers=[],e.column?n.gradingColumn=e.column:n.gradingColumn=e.course.gradebook.columns.$buildRaw(t.getAssociatedGradingColumn(e.columnId)),n.gradingColumn.rubricAssociations||n.gradingColumn.$fetch({expand:"associatedRubrics"}).$asPromise().then((e=>{n.gradingColumn.rubricAssociations=e.rubricAssociations})),this.grade.loadGrade({attemptQueryParams:{expand:"toolAttemptDetail,alignedGoals,members,attempts,attempts.toolAttemptDetail,lastFeedbackAuthor,attempts.lastFeedbackAuthor",overrideAggregationModel:a.C.AttemptAggregationModel.Last},gradeQueryParams:{expand:"attemptsLeft"},courseId:e.course.id,column:n.gradingColumn,content:n.courseContent,userId:this.contextUser.userId},!0).then((s=>{if(n.submitter=this.contextUser.userModel,s){if(n.gradeDetail=s,n.attempt=s.ui.attempt,n.groupAttempt=s.ui.groupAttempt,t.isGroupContent)return this.getGroupMembers(e.course,t,n.groupAttempt).then((e=>(n.groupMembers=e,n.groupAttempt&&(n.submitter=i.find(e,(e=>e.id===n.groupAttempt.submittedBy)),!n.submitter&&(n.submitter=null,n.groupAttempt.submittedBy))?this.UserModel.$find(n.groupAttempt.submittedBy).$then((e=>{n.submitter=e||null}),(e=>this.$log.error(e.$response))).$asPromise().then((()=>n)):n)))}else if(t.isGroupContent)return this.getGroupMembers(e.course,t).then((e=>(n.groupMembers=e,n)));return n}))}))}getGroupMembers(e,t,n){return t.assignedGroups&&t.assignedGroups.length>0?e.groups.$find(t.assignedGroups[0].groupId,{expand:"memberships",excludeUnavailableMembers:!0}).$asPromise().then((t=>e.memberships.$refresh({fields:"id, user, courseRole",roleBucket:c.y.Taking}).$asPromise().then((e=>this.sortGroupMembers(e,t))))):this.$q.when([])}sortGroupMembers(e,t){const n={},i=[];let s=t.memberships||t.members;e.forEach((e=>{e.user&&(e.user.ui=e.user.ui||{},n[e.user.id]=e.user)}));const a=[];return s.forEach((e=>{const t=e.userId||e,i=n[t];if(i){const e=this.bbLocalize.formatUsername(i,d.ILocaleUsernameFormat.Short,this.$rootScope);a.push(e),e.then((e=>{i.ui.formatUserName=e}))}})),this.$q.all(a).then((()=>(s=s.filter((e=>!!n[e.userId||e])),s.sort(((e,t)=>{const i=e.userId||e,s=t.userId||t;return n[i].ui.formatUserName.localeCompare(n[s].ui.formatUserName)})),s.forEach((e=>{const t=e.userId||e;n[t]&&(i.push(n[t]),delete n[t])})),i)))}}p.$inject=["$q","$rootScope","$log",r.n,o.b,a.Jb.serviceName,d.serviceName];class h{}s.module(u,[a.N,o.a]).service(m,p)},bMxM:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var i=n("D57K"),s=n("Llzl"),a=n("pjml"),o=n("P2dS"),r=n("IbyE"),l=n("zGdY"),c=n("VAMW"),d=n("6fZB"),u=n("vhkR"),m=n("aHpC");const p="ultra.components.services.courseContentIconService",h="courseContentIconService",g=["-a","-c","-o","-hc"].join("|").replace(/-/g,""),b=new RegExp(`-(${g})$`,"g");class f{constructor(e){this.service=e,this.key=c.d.ContentIcon}getIconClass(e){return Object(d.a)(this.service.getIconClass(e))}}let v=class e{constructor(e,t,n){this.$q=e,this.gradeColumnCategory=t,this.ltiService=n,Object(c.f)(new f(this))}matchLtiPlacementHandler(e){return r.D.isLtiPlacement(e)?l.t.LtiPlacement:e}getIconClass(t){const n=a.p.ContentHandler;let i,s="";if(t&&t.contentHandler){const o=t.contentHandler.toString(),c=n.parse(this.matchLtiPlacementHandler(o));s=c&&c.iconClass;const d=t.getAssociatedGradingColumn?t.getAssociatedGradingColumn():null;if(d&&d.gradebookCategory&&d.gradebookCategory.title)s=this.getColumnIconClassAsString(d);else if(t.contentDetail){if(n.File.isEqualTo(c)){const i=t.contentDetail[n.File.toString()]&&t.contentDetail[n.File.toString()].file&&t.contentDetail[n.File.toString()].file.mimeType||"";s=e.fileMIMETypeToIconClass[i]=e.fileMIMETypeToIconClass[i]||Object(r.Gb)(i)}if(n.CourseLink.isEqualTo(c)&&(i=t.getLinkContentSource().$then((e=>{const t=n.parse(e.contentHandler.toString());s=t&&t.iconClass}))),n.LtiLink.isEqualTo(c)){const e=r.D.isCloudDocument(t),i=r.D.getCloudDocumentType(t),a=i===l.Ab.CloudCollaboration&&e,o=i===l.Ab.Embedded&&e;a?s=n.CollaborativeCloudDocumentPlacement.iconClass:o&&(s=n.CloudDocumentPlacement.iconClass)}}n.Folder.isEqualTo(c)&&(s=t.contentDetail&&t.contentDetail[n.Folder.toString()]&&t.contentDetail[n.Folder.toString()].isBbPage?n.Document.iconClass:t.ui&&t.ui.isOpen?a.p.FolderContentHandlerIcon.OpenFolder:a.p.FolderContentHandlerIcon.ClosedFolder)}return i?i.$asPromise().then((()=>this.$q.when(s||e.DEFAULT_ICON_CLASS))):this.$q.when(s||e.DEFAULT_ICON_CLASS)}getColumnIconClassAsString(t){var n,i,s;let a="";const c=(null===(n=t.isDiscussion)||void 0===n?void 0:n.call(t))||(null===(i=t.isJournal)||void 0===i?void 0:i.call(t));if(t.externalGrade?a=e.GRADE_OVERALL_ICON_CLASS:t.calculationType&&l.p.NonCalculated!==t.calculationType?a=e.GRADE_CALCULATIONS_ICON_CLASS:t.gradebookCategory&&t.gradebookCategory.title&&!c&&(a=this.gradeColumnCategory.getCategoryIcon(t.gradebookCategory)),(""===a||a===o.a.DEFAULT_ICON_FOR_CATEGORY&&c)&&t.scoreProviderHandle){const n=r.Q.parse(t.scoreProviderHandle.toString());null!=n&&(a=n.iconClass,(null===(s=t.isScormSCO)||void 0===s?void 0:s.call(t))&&(a+=e.SCORM_SCO_ICON_CLASS_SUFFIX))}return a}getColumnIconClass(t){var n;let i="";return i=(null===(n=t.scoreProviderHandle)||void 0===n?void 0:n.toString())===a.p.ContentHandler.LtiLink.handle?r.Q.LTILink.iconClass:this.getColumnIconClassAsString(t),this.$q.when(i||e.DEFAULT_ICON_CLASS)}getIconName(e){return e.replace("img-icon-","")}getIconNameForLocalization(e){return e.replace(b,"")}};v.DEFAULT_ICON_CLASS="img-icon-document-blank",v.GRADE_OVERALL_ICON_CLASS="img-icon-overall-grade",v.GRADE_CALCULATIONS_ICON_CLASS="img-icon-calculation",v.SCORM_SCO_ICON_CLASS_SUFFIX="-sco",v.fileMIMETypeToIconClass=Object.create(null),v=Object(i.a)([Object(i.c)(0,Object(m.b)("$q")),Object(i.c)(1,Object(m.b)(o.c)),Object(i.c)(2,Object(m.b)(u.b))],v);s.module(p,[o.b,u.a]).service(h,v)},bTsL:function(e,t){e.exports='<div class="dropdown-directive">\n  <select id="{{::listId}}" ng-if="::dropdown.useNativeSelect()" ng-model="dropdown.selectedItem"\n          ng-options="item.name disable when item.isHeader for item in itemList"\n          ng-class="{\'drowdown-group\': listKind === \'group\'}"\n          ng-change="dropdown.clickItem()" analytics-id="directives.dropdown.item.select">\n    \x3c!--for the listkind=group, ios mobile will show a blank option--\x3e\n    <option ng-if="dropdown.shouldHaveBlankOption(listKind)" class="default-option" value="" analytics-id="directive.dropdown.option"></option>\n  </select>\n\n  <ul ng-attr-role="{{dropdown.getRole()}}"\n      ng-class="{\'feature-filter\': listKind !== \'custom\', \'selection-full-width\': selectionFullWidth(), \'force-above\': forceAbove}"\n      id="{{::listId}}" ng-if="::!dropdown.useNativeSelect()" class="f-dropdown ignore-accordion" data-dropdown-content\n      aria-hidden="true" tabindex="-1">\n    <li class="list-header" ng-if="listHeader">\n      <a href="javascript:void(0);"\n         analytics-id="{{::analyticsIdTagPrefix}}.listHeader.link"\n      >\n        {{listHeader}}\n      </a>\n    </li>\n    <li role="presentation" ng-repeat="item in itemList" ng-if="listKind === \'filter\'"\n        ng-class="{\'item-selected\': selectedItem === item}"\n        class="{{item.extraClass}}"\n    >\n      <a href="javascript:void(0);"\n         role="option"\n         aria-selected="{{selectedItem === item}}"\n         aria-setsize="{{itemList.length}}"\n         aria-posinset="{{itemList.indexOf(item) + 1}}"\n         class="js-filter-id-{{::item.index}}"\n         data-filter-id="{{::item.nature.toString()}}"\n         ng-click="dropdown.selectItem(item)"\n         analytics-id="{{::analyticsIdTagPrefix}}.{{item.name.split(\' \').join(\'\')}}.link">\n        <span class="ellipse" title="{{item.name}}">{{item.name}}</span>\n        <i></i>\n      </a>\n    </li>\n    <li ng-repeat="item in itemList" ng-if="listKind === \'avatar-list\'">\n      <a href="javascript:void(0);"\n         class="item-container"\n         analytics-id="{{::analyticsIdTagPrefix}}.{{item.name}}.avatar.link">\n        <div class="info-container">\n          <div class="avatar-container">\n            <bb-avatar user="item" inactive="!dropdown.isUserCourseAvailable(item.id)"></bb-avatar>\n          </div>\n          <div class="username-container">\n            <bb-username user="item" format="short" show-pronouns="true" show-pronunciation="true"></bb-username>\n            <div ng-if="selectedItem === item" class="sub-text" ng-bind-html="selectedText"></div>\n          </div>\n        </div>\n      </a>\n    </li>\n    <li role="presentation" ng-if="listKind === \'group\'" ng-repeat="item in itemList"\n        ng-class="{\'group-header-li\': item.isHeader }">\n      <a href="javascript:void(0);"\n         role="option"\n         aria-setsize="{{itemList.length}}"\n         aria-posinset="{{itemList.indexOf(item) + 1}}"\n         ng-class="{\'group-header\': item.isHeader}"\n         ng-attr-tabindex="{{ item.isHeader ? -1 : 0 }}"\n         ng-click="dropdown.selectItem(item, $event)"\n         analytics-id="{{::analyticsIdTagPrefix}}.{{item.name}}.group.link">\n        <span class="ellipse" title="{{item.name}}">{{item.name}}</span>\n      </a>\n    </li>\n    <div bb-dropdown-transclude></div>\n  </ul>\n</div>\n'},bd3f:function(e,t){e.exports='<p class="sr-only read-info-polite" role="alert" aria-live="polite">{{readInfo.message}}</p>\n<p class="sr-only read-info-assertive" role="alert" aria-live="assertive">{{readInfo.alertMessage}}</p>'},bd9L:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return g}));var i=n("Llzl"),s=n("+brj"),a=n("7/CN"),o=n("RNuw"),r=n("lEL+"),l=n("AuQm");const c="ultra.directives.autosave",d="bb-autosave-save-to-server-now",u="bb-autosave-browser-delete",m="bb-autosave-form",p="bb-autosave-save-trigger-debounce",h=1e4,g=3;var b;!function(e){e.BrowserLocalStorage="browserLocalStorage",e.BrowserSessionStorage="browserSessionStorage",e.Server="server"}(b||(b={}));class f{constructor(e,t,n,i,a){switch(this.$q=e,this.scope=t,this.formController=n,this.browserStorage=i,this.timeout=a,this.timeoutMillis=2e3,this.startAutoSubmit=!1,this.saveNumber=0,this.saveTo=this.scope.debounceSaveDestination&&function(e){if(e)return Object.values(b).find((t=>t.toLowerCase()===e.toLowerCase()))}(this.scope.debounceSaveDestination())||b.Server,this.saveTo){case b.BrowserSessionStorage:this.browserStorageDestination=s.a.SessionStorage;break;case b.BrowserLocalStorage:this.browserStorageDestination=s.a.LocalStorage}this.checkForDirectiveConfigErrors(),t.timeoutMillis?this.timeoutMillis=t.timeoutMillis():this.browserStorageDestination&&(this.timeoutMillis=1e3),this.setupListeners(),this.browserStorageDestination&&this.restoreFromBrowser(),this.setupWatcher()}setupListeners(){this.scope.$on("bb-autosave-interrupt-timer",(()=>{this.timeout.cancel(this.autoSaveTimeout)})),this.scope.$on(p,(()=>{this.scope.delayAutosave&&this.scope.delayAutosave()||this.debounceSave()})),this.scope.$on(d,(()=>{this.scope.delayAutosave&&this.scope.delayAutosave()||(this.timeout.cancel(this.autoSaveTimeout),this.saveToServerNow())})),this.scope.$on("bb-autosave-save-to-browser-now",(()=>{this.scope.delayAutosave&&this.scope.delayAutosave()||(this.scope.$emit(m,l.d.Change),this.timeout.cancel(this.autoSaveTimeout),this.saveToBrowserNow())})),this.scope.$on("bb-autosave-browser-restore",(()=>{this.restoreFromBrowser()})),this.scope.$on(u,(()=>{this.deleteFromBrowser()})),this.scope.$on("bb-start-auto-submission",((e,t)=>{this.startAutoSubmit=!0,t.resolve()})),this.scope.$on("bb-cancel-auto-submission",(()=>{this.startAutoSubmit=!1}))}setupWatcher(){const e=(e,t)=>{if(!this.scope.delayAutosave||!this.scope.delayAutosave()){if(null===e&&""===t)return;this.debounceSave()}};if(!this.scope.delayAutosave||!this.scope.delayAutosave())return o.a(this.scope,this.formController,e);const t=this.scope.$watch((()=>this.scope.delayAutosave()),(n=>{null==n||n||(o.a(this.scope,this.formController,e),t())}))}checkForDirectiveConfigErrors(){if(!(this.saveTo!==b.Server||this.scope.saveFunc&&this.scope.validationFunc))throw new Error("saving to the server requires save-func and validate to be defined")}isValid(){return this.formController.$valid&&this.scope.validationFunc()}debounceSave(){if(this.startAutoSubmit)return;this.scope.useSaveNumbers&&(this.saveNumber=this.saveNumber+1);const e=this.saveNumber;this.scope.$emit(m,l.d.Change,void 0,{id:this.scope.autoSaveContextId,area:this.scope.autoSaveContextArea,saveNumber:e}),this.scope.$emit("bb-autosave-form-to-browser",l.d.Change),this.timeout.cancel(this.autoSaveTimeout);const t=()=>{this.saveToDestination(e)};!this.autoSaveTimeout&&this.scope.useLeadingEdge?(this.saveToDestination(e),this.autoSaveTimeout=this.timeout((()=>{}),this.scope,this.timeoutMillis)):this.autoSaveTimeout=this.timeout(t,this.scope,this.timeoutMillis)}saveToDestination(e){this.saveTo===b.Server?this.saveToServerNow(e):this.browserStorageDestination&&this.saveToBrowserNow()}saveToServerNow(e=0){if(this.startAutoSubmit||!a.c()){if(!this.scope.saveFunc||!this.scope.validationFunc)throw new Error("saving to the server requires save-func and validate to be defined");this.isValid()?(this.scope.$emit(m,l.d.Saving,void 0,{id:this.scope.autoSaveContextId,area:this.scope.autoSaveContextArea,saveNumber:e}),this.scope.saveFunc().then((t=>{this.scope.$emit(m,l.d.Saved,t,{id:this.scope.autoSaveContextId,area:this.scope.autoSaveContextArea,saveNumber:e}),this.browserStorageDestination&&this.deleteFromBrowser()}),(t=>{this.scope.$emit(m,l.d.SaveFailure,t,{id:this.scope.autoSaveContextId,area:this.scope.autoSaveContextArea,saveNumber:e})}))):this.scope.$emit(m,l.d.ValidationFailure)}}saveToBrowserNow(){if(!this.browserStorageDestination)throw new Error("saving/restoring with browser storage requires the debounceSaveDestination attribute be set");this.scope.$emit("bb-autosave-form-to-browser",l.d.Saving),this.browserStorage.serializeCurrentRouteScopes(this.browserStorageDestination,this.scope.$parent).then((e=>{this.scope.$emit("bb-autosave-form-to-browser",l.d.Saved,e)}))}restoreFromBrowser(){if(!this.browserStorageDestination)throw new Error("saving/restoring with browser storage requires the debounceSaveDestination attribute be set");return this.browserStorage.deserializeCurrentRouteScopes(this.browserStorageDestination,this.scope.$parent).then((e=>{if(e)return this.scope.$root.$broadcast("bb-autosave-browser-restore-data",e),e}))}deleteFromBrowser(){if(!this.browserStorageDestination)throw new Error("saving/restoring with browser storage requires the debounceSaveDestination attribute be set");return this.browserStorage.deleteCurrentRouteScopes(this.browserStorageDestination)}}f.$inject=["$q","scope","formController",s.c,r.b];class v{constructor(e){this.$injector=e,this.restrict="A",this.require="^form",this.scope={debounceSaveDestination:"&?",delayAutosave:"&?",saveFunc:"&?",autoSaveContextId:"@?",autoSaveContextArea:"@?",timeoutMillis:"&?",validationFunc:"&?",useLeadingEdge:"<?",useSaveNumbers:"<?"},this.link=(e,t,n,i)=>{e.autoSave=this.$injector.instantiate(f,{scope:e,formController:i})}}}v.$inject=["$injector"],i.module(c,[r.a,s.b]).directive("bbAutosave",["$injector",e=>e.instantiate(v)])},bhWV:function(e,t,n){"use strict";var i=n("D57K"),s=(n("Sq3Z"),n("1NX5"),n("uAJz"),n("66CI"),n("Llzl")),a=n("YHe3"),o=n("TnpK"),r=n("Qbdf"),l=n("jhBu"),c=n("wy9x"),d=n("ga7A"),u=n("Is+C"),m=n("yV5t");const p="ultra.components.directives.content.contentItem.contentItemType.contentItemScormlaunch";class h{constructor(e,t){this.scope=e,this.scormService=t}scormLaunch(){if(!this.scope.content.isScorm())throw new Error("Attempted to launch a non-SCORM content item. "+this.scope.content.contentHandler.toString());this.scormService.scormLaunch({courseId:this.scope.content.courseId,contentId:this.scope.content.id,content:this.scope.content,showPreLaunchPanel:!0})}}h.$inject=["scope",u.c];class g{constructor(e){this.$injector=e,this.restrict="E",this.template=m,this.scope=!1,this.link=(e,t,n)=>{e.contentItemScormLaunch=this.$injector.instantiate(h,{scope:e,element:t,attrs:n})}}}g.$inject=["$injector"],s.module(p,[u.b]).directive("bbContentItemScormlaunch",["$injector",e=>e.instantiate(g)]);var b=n("z+6U"),f=n("Sa5G"),v=n("aHpC"),y=n("nmzr"),k=n("pjml"),x=n("/R3n"),S=n("DU7P"),C=n("zYa8"),E=n("l2+p");const I="ultra.components.directives.bbUiIcon.small.ProctorShield";Object(C.a)(E.a,I,"bbUiIconSmallProctorShield");var w=n("zGdY");n.d(t,"a",(function(){return A}));const A="ultra.components.directives.content.contentItem.contentItemCourseOutline";let O=class{constructor(e,t,n,i,s){this.scope=e,this.entitlementService=t,this.proctoringService=n,this.ultraState=i,this.currentCourseService=s,this.customCategory="",this.entitlementService.hasCourseEntitlement(f.f.ModifyContent,this.scope.content.courseId).then((e=>{this.entitledToModifyContent=e}))}get canOpenConditionalRelease(){var e,t,n;return!!(null===(n=null===(t=null===(e=this.scope.content)||void 0===e?void 0:e.permissions)||void 0===t?void 0:t.adaptiveRelease)||void 0===n?void 0:n.view)}shouldAlignMiddle(){const e=this.scope.content;return!e.canViewAsInstructor()&&(!e.description&&(!e.isVisible()||!e.adaptiveReleaseRules))}openConditionalRelease(){if(this.isCourseCompletedAndInInstructorView())return;let e=this.scope.content.id;this.scope.content&&this.scope.content.contentHandler&&this.scope.content.contentDetail&&k.p.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler)&&this.scope.content.getLinkContentSource().$then((t=>{e=t.id})),this.ultraState.goPeekState(y.k.CONDITIONAL_RELEASE_PEEK_PANEL,{contentId:e})}isCourseCompletedAndInInstructorView(){var e;return(null===(e=this.currentCourseService.course)||void 0===e?void 0:e.isComplete())&&this.scope.content.canViewAsInstructor()}displayProctoredTag(){const e=this.scope.content.getProctoringServiceHandle(),t=this.scope.content.isSecureBrowserRequiredToTake(),n=e&&e!==S.b;return t||n}};O=Object(i.a)([Object(i.c)(0,Object(v.b)("scope")),Object(i.c)(1,Object(v.b)(l.b)),Object(i.c)(2,Object(v.b)(a.b)),Object(i.c)(3,Object(v.b)(o.d)),Object(i.c)(4,Object(v.b)(r.e))],O);class D{constructor(e){this.$injector=e,this.restrict="E",this.template=x,this.scope=!1,this.link=e=>{if(e.contentItemCourseOutline=this.$injector.instantiate(O,{scope:e}),e.content.getAssociatedGradingColumn()){const t=e.content.getAssociatedGradingColumn().gradebookCategory;t&&!t.isUserDefined?(e.contentItemCourseOutline.groupAssessmentFtueKey="components.directives.content-item-base.group-assessment-description."+t.title,e.contentItemCourseOutline.groupAssessmentFtueTitleKey="components.directives.content-item-base.group-assessment-title."+t.title):(e.contentItemCourseOutline.customCategory=t&&t.title,e.contentItemCourseOutline.groupAssessmentFtueKey="components.directives.content-item-base.group-assessment-description.custom",e.contentItemCourseOutline.groupAssessmentFtueTitleKey="components.directives.content-item-base.group-assessment-title.custom")}else e.contentItemBase.courseLinkContentHandler.isEqualTo(e.content.contentHandler)&&(e.contentItemCourseOutline.groupAssessmentFtueKey=`components.directives.content-item-base.group-assessment-description.${w.W.Discussion}`,e.contentItemCourseOutline.groupAssessmentFtueTitleKey=`components.directives.content-item-base.group-assessment-title.${w.W.Discussion}`)}}}D.$inject=["$injector"],s.module(A,[c.a,d.a,b.a,p,a.a,o.b,r.b,I]).directive("bbContentItemCourseOutline",["$injector",e=>e.instantiate(D)])},bxwa:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-invisible",use:"icon-medium-invisible-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-invisible"><circle cx="12" cy="12" r="2" stroke-width="2" /><path d="M12 6C7.1067 6 1 12 1 12s6.1067 6 11 6 11-6 11-6-6.1067-6-11-6zM1 23L23 1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},bzJv:function(e,t,n){"use strict";var i;!function(e){e.NotStarted="NotStarted",e.Started="Started",e.Completed="Completed",e.PastDue="PastDue",e.Unavailable="Unavailable"}(i||(i={})),t.a=i},c2Z8:function(e,t){e.exports='<div class="bb-statistics">\n  <ul class="statistics-list total-items-{{::statistics.total}} small-per-row-{{::statistics.smallPerRow}} large-per-row-{{::statistics.largePerRow}}">\n    <li ng-repeat="item in statistics.config">\n      <div class="statistics-item-container" ng-class="{\'no-default-padding\': item.noDefaultPadding, \'full-height\': !item.complexScope}">\n        <div class="stat-title" ng-attr-title="{{ item.hover ? item.hover : undefined }}" bb-translate>{{::item.title}}</div>\n        <div ng-if="::!item.complexScope" bb-simple-statistic item="::item"></div>\n        <div ng-if="::item.complexScope" bb-complex-statistic item="::item"></div>\n      </div>\n    </li>\n  </ul>\n</div>'},c6mg:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("Y2MI");const a="ultra.components.directives.bbUiIcon.medium.Settings";Object(i.a)(s.Settings,a,"bbUiIconMediumSettings")},"c7N/":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("D57K"),s=n("Fvsw"),a=n("jhBu"),o=n("aHpC"),r=n("Sa5G");const l="ultra.components.services.unsafe-html",c="unsafe-html";let d=class{constructor(e,t){this.contextService=e,this.entitlementService=t}hasEditUnsafeHtmlPermission(e){return e?this.entitlementService.hasSystemEntitlement(r.w.Modify):this.entitlementService.hasCourseEntitlement(r.w.Modify)}isAlternateDomainConfigured(){return this.contextService.getSystemInfo().alternateDomainConfigured}canEditUnsafeHtml(e=!1){return this.hasEditUnsafeHtmlPermission(e).then((e=>e&&this.isAlternateDomainConfigured()))}};d=Object(i.a)([Object(i.c)(0,Object(o.b)(s.b)),Object(i.c)(1,Object(o.b)(a.b))],d);angular.module(l,[s.a,a.a]).service(c,d)},cFWd:function(e,t,n){"use strict";var i=n("nsO7"),s=n("Llzl"),a=n("oQrK"),o=n("+4Px"),r=n("lEL+"),l=n("bTsL"),c=n("yC9S");n.d(t,"a",(function(){return d}));const d="ultra.components.directives.dropdown";class u{constructor(e,t,n,r){if(this.scope=e,this.element=t,this.$window=n,this.timeout=r,this.RESIZE_DELAY=150,this.isMobile=!1,this.isIos=!1,this.setMaxHeight=()=>{const e=this.element.offset().top,t=s.element(this.$window).height();let n=34;"avatar-list"===this.scope.listKind&&(n=57);let i=Math.max(Math.floor((this.scope.forceAbove?e:t-e)/n),2);this.scope.simplifiedMaxItemsPerPage&&this.scope.simplifiedMaxItemsPerPage()>0&&(i=Math.min(i,this.scope.simplifiedMaxItemsPerPage())),this.element.find(".dropdown-directive").css({maxHeight:n*i+2})},this.element.addClass("bb-dropdown"),this.isMobile=!a.a.detect().desktop(),this.isIos=a.a.detect().ios(),this.selectedItem=this.scope.selectedItem,e.$watch("::selectedItem",(e=>{this.selectedItem=e})),!this.useNativeSelect()){let t;this.element.on("keyup",(e=>{e.keyCode!==o.f&&e.keyCode!==o.t||e.stopPropagation()})),this.element.on("opened.fndtn.dropdown",(()=>{this.setMaxHeight(),this.scope.$applyAsync(),t=c.b.OnWindow("resize",i.debounce(this.setMaxHeight,this.RESIZE_DELAY),e),(this.scope.onOpen||s.noop)()})),this.element.on("closed.fndtn.dropdown",(()=>{t(),(this.scope.onClose||s.noop)()}))}}selectItem(e,t){e.isHeader?t.stopPropagation():this.scope.clickFunction({item:e})}getRole(){let e;return e="menu"===this.scope.listKind?"menu":"listbox",e}clickItem(){this.selectedItem&&(this.scope.selectedItem=this.selectedItem,this.scope.clickFunction({item:this.selectedItem}))}useNativeSelect(){return!this.scope.forceCustomDropdown&&this.isMobile&&"avatar-list"!==this.scope.listKind&&"custom"!==this.scope.listKind&&"region"!==this.scope.listKind}isUserCourseAvailable(e){const t=this.scope.getUserCourseAvailabilities&&this.scope.getUserCourseAvailabilities();return!(t&&!t[e])}shouldHaveBlankOption(e){return this.isIos&&"group"===e}}u.$inject=["scope","element","$window",r.b];class m{constructor(e){this.$injector=e,this.restrict="E",this.template=l,this.transclude=!0,this.scope={listId:"@",itemList:"=",listKind:"@",selectedItem:"=?",selectedText:"@?",listHeader:"@?",clickFunction:"&?",onOpen:"&?",onClose:"&?",getUserCourseAvailabilities:"&?userCourseAvailabilities",selectionFullWidth:"&?",simplifiedMaxItemsPerPage:"&?",forceAbove:"=?",forceCustomDropdown:"=?",analyticsIdTagPrefix:"@?"},this.link=(e,t,n,i,s)=>{e.dropdown=this.$injector.instantiate(u,{scope:e,element:t})}}}m.$inject=["$injector"];class p{constructor(e){this.$injector=e,this.restrict="EA",this.link=(e,t,n,i,s)=>{"custom"===e.listKind||"region"===e.listKind||"menu"===e.listKind?s(((n,i)=>{i.dropdown=e.dropdown,t.replaceWith(n)})):t.remove()}}}p.$inject=["$injector"],s.module(d,[r.a]).directive("bbDropdown",["$injector",e=>e.instantiate(m)]).directive("bbDropdownTransclude",["$injector",e=>e.instantiate(p)])},cGmE:function(e,t){e.exports='<bb-modal id="notification-modal-api-error"\n          class="notification"\n          modal-title-key="components.services.error-modal.error.title"\n          analytics-id-tag-prefix="components.services.error-modal">\n  <div name="modal-contents">\n    <p bb-translate>components.services.error-modal.error.description</p>\n    <pre>{{ response | json }}</pre>\n    <bb-session-debug-modal-button></bb-session-debug-modal-button>\n  </div>\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button js-primary-button"\n          analytics-id="components.services.error-modal.dismiss"\n          bb-translate>components.services.error-modal.dismiss</button>\n</bb-modal>\n'},"cH+F":function(e,t){e.exports='<div class="grade-callout-wrapper">\n  <div class="grade-callout readonly {{displayGrade.colorClass || \'na\'}} overall-grade"\n       bb-load-bundle="components/directives/grade/display-grade"\n       bb-click-to-invoke-child="a.bb-click-grade-target"\n       ng-class="{\'defaultCursor\': displayGrade.cursorDefault}">\n    <span ng-if="!displayGrade.noGradeToDisplay()" class="sr-only" bb-translate>{{displayGrade.gradeDisplayItem.perfCodeDesc || translateKey}}</span>\n    <span ng-if="!overallGradePeekSref" class="value">{{displayGrade.fullDisplayGrade}}</span>\n    <a class="overall-grade value" \n       ng-if="overallGradePeekSref" \n       bb-peek-sref="{{overallGradePeekSref}}"\n       analytics-id="components.directives.grade.display-grade.overallGrade.link">\n      {{displayGrade.fullDisplayGrade}}\n    </a>  \n  </div>\n</div>\n'},cMqb:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("9zo4"),s=n("Llzl"),a=n("w9Zy"),o=n("XGja");const r="ultra.directives.accessibility.focus";class l{constructor(e,t){this.bbOffcanvas=e,this._accessibility=t,this.restrict="A",this.link=(e,t,n)=>{const i=n.keepTriggerFocus,s=e.$watch(n.bbFocus,(e=>{null!=e&&"true"!==e.toString().toLowerCase()||!this._accessibility.isElementInActivePanel(t)||(o.a(t,this.bbOffcanvas.safeFocus.bind(this.bbOffcanvas)),"true"!==i&&s())}))}}}l.$inject=[a.e,i.c],s.module(r,[a.d]).directive("bbFocus",["$injector",e=>e.instantiate(l)])},cQcs:function(e,t){e.exports='<div class="reveal-modal-bg fade"\n     ng-class="{in: animate, dark: darkenBackdrop}"\n     ng-click="close($event)"\n     style="display: block"\n     analytics-id="components.services.backdrop"\n></div>'},cR84:function(e,t){e.exports='<bb-modal class="notification js-dismiss-modal" role="alertdialog" bb-translate-attrs="{\'aria-label\': \'course.grades.settings.categorySettings.deleteAlert.title\'}"\n          modal-title-key="course.grades.settings.categorySettings.deleteAlert.title"\n          analytics-id-tag-prefix="course.grades.settings.categorySettings.deleteAlert">\n  <div name="modal-contents">\n    <bb-translate>course.grades.settings.categorySettings.deleteAlert.content</bb-translate>\n  </div>\n  <button name="modal-footer-button-primary" \n          ng-click="$parent.$dismiss()" \n          class="button js-primary-button"\n          analytics-id="course.grades.settings.categorySettings.deleteAlert.ok.button">\n    <span bb-translate="course.grades.settings.categorySettings.deleteAlert.ok-button"></span>\n  </button>\n</bb-modal>'},cYWG:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("nsO7"),a=n("5MwF");const o="ultra.components.services.angular.http.ease",r="shelfLifeInEase";class l{constructor(e,t){this.$q=e,this.$log=t,this._queue={},this._queueSeq=0,this.delay=500}enqueue(e){e.shelfLifeInEase=(e.params||{})[r]||this.delay,(e.params||{})[r]=void 0;const t=this.$q.defer(),n=(new Date).getTime();if(!s.some(this._queue,((i,s)=>{if(!i)return!1;if(i.completedAt&&n-i.completedAt>i.shelfLifeInEase)return this._queue[s]=void 0,!1;let a;return(i.originalUrl||i.url)===(e.originalUrl||e.url)&&(a=this.isServableBy(i,e)),!!a&&(i.httpEaseResponseQ.promise.then((e=>{this.$q.when(a(e)).then((e=>{t.resolve(e)}))})),!0)}))){const n="x"+this._queueSeq++;e.originalUrl=e.url,e.httpEaseResponseQ=this.$q.defer(),e.httpEaseResponseQ.promise.finally((()=>{e.completedAt=(new Date).getTime()})),this._queue[n]=e,t.resolve()}return t.promise}getHttpInterceptor(){const e=e=>t=>{const n=t.config||t;return this.isDebouncable(n)?e(n,t):this.$q.when(t)};return{request:e((e=>e.cache?e:this.enqueue(e).then((t=>void 0===t?e:s.extend(e,{method:"JSONP",cache:{get:()=>t}}))))),responseError:e=>{const t=e.config;return t.httpEaseResponseQ&&t.httpEaseResponseQ.resolve([e.status,JSON.parse(JSON.stringify(e.data)),{}]),this.$q.reject(e)},response:e(((e,t)=>(e.httpEaseResponseQ&&e.httpEaseResponseQ.resolve([t.status,void 0===t.data?void 0:JSON.parse(JSON.stringify(t.data)),{}]),this.$q.when(t))))}}isDebouncable(e){return a.a.features.httpEase&&"GET"===e.method&&new RegExp("^(http.+)?(/learn/api/.*)$").test(e.url)}isServableBy(e,t){if(!(e.method===t.method))return null;const n=(()=>{const n=e=>{const t=[];return s(e).keys().sortBy().value().forEach((n=>{"expand"!==n&&t.push(`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`)})),t.join("&")};return n(e.params)===n(t.params)})(),i=(()=>{const n={};return((e.params||{}).expand||"").split(",").forEach((e=>{""!==e&&(n[e]=e)})),((t.params||{}).expand||"").split(",").every((e=>""===e||Object.prototype.hasOwnProperty.call(n,e)))})();if(n&&i)return this.$log.debug(`Eased ${t.url}`,e,t),e=>e;this.$log.warn(`Concurrent Requests Captured - "${t.method} ${t.url}" (with different parameters). Please consider to merge them for performance`)}}l.$inject=["$q","$log"];const c=i.module(o,["ng"]);a.a.features.learnApiCaching||c.config(["$httpProvider",function(e){e.interceptors.push(["$injector",e=>e.instantiate(l).getHttpInterceptor()])}])},cacA:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("Llzl"),s=n("Qbdf"),a=n("X455"),o=n("0JpG"),r=n("TnpK"),l=n("nmzr");const c="ultra.base.messages.routes";i.module(c,[s.b,a.a,r.b]).config([r.c,s.c,a.b,(e,t,i)=>{e.peekState("create-message",{url:"/create?courseId&{allowReplies:bool}",resolve:{[s.d]:t.resolve,[a.c]:i.resolve},require:()=>Promise.all([n.e(35),n.e(65)]).then(n.bind(null,"BrlV")),pageTitle:"components.directives.message.newMessage",panelClass:"full"}).peekState("edit-message",{url:"/edit/:conversationId?courseId&offset&count",require:()=>Promise.all([n.e(35),n.e(65)]).then(n.bind(null,"BrlV")),pageTitle:"components.directives.message.message",panelClass:"full",allowChildPeekStates:!0,peekStates:[l.o.COURSE_GRADES_VIEW_INDIVIDUAL_GRADES,l.o.EDIT_ENROLLMENT],peekViewName:"course-conversation-peek@"}).peekState(l.o.COURSE_MESSAGE,{url:"/message?courseId&recipientIds&conversationPerRecipient",onExit:["$rootScope","$stateParams",(e,t)=>{var n,i;n=e,i=t.courseId,n.$broadcast("bb-message-refresh",i)}],resolve:{[a.c]:i.resolve,translations:[o.serviceName,e=>e.loadBundle("features/base/messages/base-messages")]},require:()=>Promise.all([n.e(35),n.e(65)]).then(n.bind(null,"BrlV")),pageTitle:"base.messages.newMessage",panelClass:"full"})}])},cbVV:function(e,t,n){"use strict";(function(e){n.d(t,"l",(function(){return x})),n.d(t,"k",(function(){return S})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return E})),n.d(t,"i",(function(){return I})),n.d(t,"j",(function(){return w})),n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return O})),n.d(t,"g",(function(){return D})),n.d(t,"h",(function(){return T})),n.d(t,"f",(function(){return P})),n.d(t,"e",(function(){return $}));var i=n("D57K"),s=n("nsO7"),a=n("yC9S"),o=n("Sa5G"),r=n("jhBu"),l=n("o5Lu"),c=n("X/qj"),d=n("vhkR"),u=n("Is+C"),m=n("Mc6f"),p=n("8jzW"),h=n("hkqm"),g=n("TnpK"),b=n("dF44"),f=n("aHpC"),v=n("nmzr"),y=n("IbyE");let k=class{constructor(e,t,n,i,s,a,r,l,c,d,u,m,p,h,g,b,f){this.rootScope=e,this.gridData=t,this.data=n,this.headerTemplate=i,this.cellTemplate=s,this.columnWidth=a,this.position=r,this.border=l,this.ltiService=d,this.entitlementService=u,this.gradeService=m,this.gradebookPermissionService=p,this.scormService=h,this.scoreProviderHelper=g,this.toast=b,this.ultraState=f,this.openDownloadTestResultsPanel=()=>{this.ultraState.goPeekState(v.H.Grade.DOWNLOAD_TEST_RESULTS,{columnId:this.id})},this.order=null!=c?c:0,this.id=n.id;const y=this.getCourse().id;this.entitlementService.hasCourseEntitlement(o.j.DeleteAssessment,y).then((e=>{this.canDeleteAssessment=e})),this.entitlementService.hasCourseEntitlement(o.f.DeleteContent,y).then((e=>{this.canDeleteContent=e})),this.entitlementService.hasCourseEntitlement(o.j.ModifyAssessment,y).then((e=>{this.canModifyAssessment=e})),this.entitlementService.hasCourseEntitlement(o.f.ModifyContent,y).then((e=>{this.canModifyContent=e})),this.entitlementService.hasCourseEntitlement(o.j.ViewAssessment,y).then((e=>{this.canViewAssessment=e})),this.entitlementService.hasCourseEntitlement(o.f.ViewAsDesigner,y).then((e=>{this.canViewContentDesigner=e}))}getCourse(){return this.gridData.course}hasContextMenuOptions(){return this.isScorm()||this.canView()||this.gradeService.canPostGrades(this.gridData.course,this.data)||this.data.isQuestionAnalysisAvailable()&&this.canViewQuestionAnalysis()||this.canDelete()}isAssessment(){return y.Q.Test.isEqualTo(this.data.scoreProviderHandle)}canView(){return!this.data.scoreProviderHandle||(this.isAssessment()?this.canViewAssessment:this.canViewContentDesigner)}canEdit(){return!this.gridData.course.isComplete()&&(this.data.scoreProviderHandle?this.isAssessment()?this.canModifyAssessment:this.canModifyContent:this.gradebookPermissionService.canModify())}canDelete(){return!this.gridData.course.isComplete()&&(this.data.scoreProviderHandle?this.isAssessment()?this.canDeleteAssessment:this.canDeleteContent:this.gradebookPermissionService.canModify())}deleteColumn(){throw new Error("Unsupported operation exception")}deleteColumnFromGridData(){this.gridData.deleteColumn(this)}getConfirmationMessage(){throw new Error("Unsupported operation exception")}viewOrEdit(){if(y.Q.PartnerCloud.isEqualTo(this.data.scoreProviderHandle))this.ltiService.ltiLaunch({courseId:this.data.courseId,contentId:this.data.contentId,linkType:o.g.PartnerCloud,linkRefId:this.data.linkId});else{const e=this.data.scoreProviderHandle;e&&!this.scoreProviderHelper.supportsOverall(e)||(this.scoreProviderHelper.supportsExternalEdit(e)?this.ltiService.ltiEditColumn(this.data):this.openEditState())}}canViewQuestionAnalysis(){return this.gradebookPermissionService.canViewGrades()}openQuestionAnalysisOverview(){throw new Error("Unsupported operation exception")}showDownloadResults(){return this.gridData.canViewGrades&&this.isAssessment()&&this.data.summary.numSubmissionsTotal>0}hasDownloads(){return y.Q.Test.isEqualTo(this.data.scoreProviderHandle)}canDownloadAll(){return!1}openDownloadAll(){this.ultraState.goPeekState("grades-bulk-download",{columnId:this.id})}previewScorm(){this.isScorm()&&this.scormService.scormLaunch({courseId:this.data.courseId,contentId:this.data.contentId,showPreLaunchPanel:!1})}openEditState(){throw new Error("Unsupported operation exception")}postGrades(){this.data.postReadyGrades().then((()=>(this.toast.show({messageKey:"components.directives.grade.grid.gradesPosted",icon:"icon-check",toastStatus:"success"}),this.data.anonymousGrading?this.data.$fetch().$asPromise().then((()=>this.data.summary.$fetch().$asPromise())):this.data.summary.$fetch().$asPromise()))).then((()=>{this.gridData.updateColumnByMetadata(this.data)&&this.rootScope.$broadcast(b.b.COLUMN)}))}isShowSummary(){return!0}isScorm(){return this.data&&this.data.isScorm()}onClick(){}triggerDelete(t){t.target===t.currentTarget&&(e(t.target).find("a").click(),t.preventDefault(),t.stopPropagation())}getMetadata(){return this.data}filterByColumId(e){return e.indexOf(this.id)>-1}filterByCategoryId(e){return!!this.data.gradebookCategory&&e.indexOf(this.data.gradebookCategoryId)>-1}};k=Object(i.a)([Object(i.c)(0,Object(f.b)("$rootScope")),Object(i.c)(1,Object(f.b)("gridData")),Object(i.c)(2,Object(f.b)("data")),Object(i.c)(3,Object(f.b)("headerTemplate")),Object(i.c)(4,Object(f.b)("cellTemplate")),Object(i.c)(5,Object(f.b)("columnWidth")),Object(i.c)(6,Object(f.b)("position")),Object(i.c)(7,Object(f.b)("border")),Object(i.c)(8,Object(f.b)("order")),Object(i.c)(9,Object(f.b)(d.b)),Object(i.c)(10,Object(f.b)(r.b)),Object(i.c)(11,Object(f.b)(l.n)),Object(i.c)(12,Object(f.b)(c.b)),Object(i.c)(13,Object(f.b)(u.c)),Object(i.c)(14,Object(f.b)(p.c)),Object(i.c)(15,Object(f.b)(h.b)),Object(i.c)(16,Object(f.b)(g.d))],k);class x extends k{addBorder(){this.border=!0}deleteBorder(){this.border=!1}filterByColumId(e){return!0}filterByCategoryId(e){return!0}}let S=class extends k{constructor(e,t,n,i,s,a,o,r,l,c,d,u,m,p,h,g,b,f){super(e,t,n,i,s,a,o,r,l,c,d,u,m,p,h,g,b),this.notationService=f,this.gradeNotations=[],this.loadNotation()}loadNotation(){this.notationService.getGradeNotationsMap(this.gridData.course.id,!0).then((e=>{this.gradeNotations=e}))}openEditState(){this.ultraState.goPeekState("gradebook-item.overall-grade",{columnId:this.id,gradeitemView:"details"})}deleteColumn(){this.data.forceDelete()}getConfirmationMessage(){return"x-bb-grade-calculation"}filterByColumId(e){return!0}filterByCategoryId(e){return!0}};S.$inject=[],S=Object(i.a)([Object(i.c)(0,Object(f.b)("$rootScope")),Object(i.c)(1,Object(f.b)("gridData")),Object(i.c)(2,Object(f.b)("data")),Object(i.c)(3,Object(f.b)("headerTemplate")),Object(i.c)(4,Object(f.b)("cellTemplate")),Object(i.c)(5,Object(f.b)("columnWidth")),Object(i.c)(6,Object(f.b)("position")),Object(i.c)(7,Object(f.b)("border")),Object(i.c)(8,Object(f.b)("order")),Object(i.c)(9,Object(f.b)(d.b)),Object(i.c)(10,Object(f.b)(r.b)),Object(i.c)(11,Object(f.b)(l.n)),Object(i.c)(12,Object(f.b)(c.b)),Object(i.c)(13,Object(f.b)(u.c)),Object(i.c)(14,Object(f.b)(p.c)),Object(i.c)(15,Object(f.b)(h.b)),Object(i.c)(16,Object(f.b)(g.d)),Object(i.c)(17,Object(f.b)(m.b))],S);class C extends k{refreshAffectedColumns(){this.findAffectedColumns().forEach((e=>this.gridData.updateColumnByMetadata(e.data)))}findAffectedColumns(e=[]){const t=s.differenceBy(this.gridData.getColumns().filter((e=>e instanceof C&&e.isAffected(this))),e,"id");let n=s.unionBy([],t,"id");return e=s.unionBy(t,e,"id"),t.forEach((t=>{n=s.unionBy(n,t.findAffectedColumns(e),"id")})),n}}class E extends C{isAffected(e){const t=this.data.calculatedFormula&&this.data.calculatedFormula.aliases;return!s.isUndefined(t)&&(!s.isUndefined(s.findKey(t,(t=>t===e.id)))||!s.isUndefined(s.findKey(t,(t=>e.data.gradebookCategory&&t===e.data.gradebookCategory.id))))}openEditState(){this.ultraState.goPeekState("gradebook-item.calculation",{columnId:this.id,gradeitemView:"details"})}deleteColumn(){this.data.forceDelete()}getConfirmationMessage(){return"x-bb-grade-calculation"}}let I=class extends C{constructor(e,t,n,i,s,a,o,r,l,c,d,u,m,p,h,g,b){super(e,t,n,i,s,a,o,r,l,c,d,u,m,p,h,g,b),this._affectedColumnsBeforeEdit=[]}getConfirmationMessage(){return"x-bb-grade-column"}stashAffectedColumnsBeforeEdit(){this._affectedColumnsBeforeEdit=this.findAffectedColumns()}get affectedColumnsBeforeEdit(){return this._affectedColumnsBeforeEdit}isAffected(e){return!1}};I.$inject=[],I=Object(i.a)([Object(i.c)(0,Object(f.b)("$rootScope")),Object(i.c)(1,Object(f.b)("gridData")),Object(i.c)(2,Object(f.b)("data")),Object(i.c)(3,Object(f.b)("headerTemplate")),Object(i.c)(4,Object(f.b)("cellTemplate")),Object(i.c)(5,Object(f.b)("columnWidth")),Object(i.c)(6,Object(f.b)("position")),Object(i.c)(7,Object(f.b)("border")),Object(i.c)(8,Object(f.b)("order")),Object(i.c)(9,Object(f.b)(d.b)),Object(i.c)(10,Object(f.b)(r.b)),Object(i.c)(11,Object(f.b)(l.n)),Object(i.c)(12,Object(f.b)(c.b)),Object(i.c)(13,Object(f.b)(u.c)),Object(i.c)(14,Object(f.b)(p.c)),Object(i.c)(15,Object(f.b)(h.b)),Object(i.c)(16,Object(f.b)(g.d))],I);class w extends I{openEditState(){this.stashAffectedColumnsBeforeEdit(),this.ultraState.goPeekState("grade-item.edit",{id:this.id})}deleteColumn(){this.data.forceDelete()}}let A=class extends I{constructor(e,t,n,i,s,o,r,l,c,d,u,m,p,h,g,b,f){super(e,t,n,i,s,o,r,l,c,d,u,m,p,h,g,b,f),this.checkIfAttendanceRecordsExist(),a.b.OnRootScope(e,"$stateChangeSuccess",((e,t,n,i)=>{i.name.indexOf("attendance")>=0&&this.checkIfAttendanceRecordsExist()}))}canDelete(){return super.canDelete()&&this.showAttendanceDeleteOption}get canBePost(){return!1}openEditState(){this.stashAffectedColumnsBeforeEdit();const e={courseId:this.data.courseId,contentId:this.data.contentId};this.scoreProviderHelper.editStateRef(this.data.scoreProviderHandle,e,p.a.GoToState)}deleteColumn(){this.data.forceDelete()}checkIfAttendanceIsAvailable(){if(this.gridData.course.tools){const e=this.gridData.course.tools.getToolById("bb-attendance");if(e&&e.toolEnabledSetting.isAvailable)return!0}return!1}checkIfAttendanceRecordsExist(){this.showAttendanceDeleteOption=!1,this.checkIfAttendanceIsAvailable()&&this.gridData.course.attendanceRecordsExist().then((e=>{this.showAttendanceDeleteOption=!e}))}};A.$inject=[],A=Object(i.a)([Object(i.c)(0,Object(f.b)("$rootScope")),Object(i.c)(1,Object(f.b)("gridData")),Object(i.c)(2,Object(f.b)("data")),Object(i.c)(3,Object(f.b)("headerTemplate")),Object(i.c)(4,Object(f.b)("cellTemplate")),Object(i.c)(5,Object(f.b)("columnWidth")),Object(i.c)(6,Object(f.b)("position")),Object(i.c)(7,Object(f.b)("border")),Object(i.c)(8,Object(f.b)("order")),Object(i.c)(9,Object(f.b)(d.b)),Object(i.c)(10,Object(f.b)(r.b)),Object(i.c)(11,Object(f.b)(l.n)),Object(i.c)(12,Object(f.b)(c.b)),Object(i.c)(13,Object(f.b)(u.c)),Object(i.c)(14,Object(f.b)(p.c)),Object(i.c)(15,Object(f.b)(h.b)),Object(i.c)(16,Object(f.b)(g.d))],A);class O extends I{canDownloadAll(){return(!this.data||!this.data.anonymousGrading)&&this.gradebookPermissionService.canViewBulkDownload()}showDownloadResults(){return(!this.data||!this.data.anonymousGrading)&&super.showDownloadResults()}openEditState(){this.stashAffectedColumnsBeforeEdit();const e={courseId:this.data.courseId,contentId:this.data.contentId};this.scoreProviderHelper.editStateRef(this.data.scoreProviderHandle,e,p.a.GoToState)}deleteColumn(){this.rootScope.$broadcast("bb-delete-column",this.data)}openQuestionAnalysisOverview(){this.ultraState.goPeekState("question-analysis.report",{qaContentId:this.data.contentId})}}let D=class extends O{constructor(e,t,n,i,s,a,o,r,l,c,d,u,m,p,h,g,b,f){super(e,t,n,i,s,a,o,r,l,c,d,u,m,p,h,g,b),this.groups=f,this._userIdGroupIdMap={},this.initializeUserIdGroupIdMap()}initializeUserIdGroupIdMap(){const e=this.gridData.getColumnIdGroupsMap()[this.id];s.isEmpty(e)||e.forEach((e=>{const t=this.gridData.getGroupIdUserIdMap()[e.groupId];s.isEmpty(t)||t.forEach((t=>{this._userIdGroupIdMap[t]=e.groupId}))}))}canDownloadAll(){return!1}get userIdGroupIdMap(){return this._userIdGroupIdMap}getGroupById(e){return s.find(this.groups,(t=>t.groupId===e))}};D.$inject=[],D=Object(i.a)([Object(i.c)(0,Object(f.b)("$rootScope")),Object(i.c)(1,Object(f.b)("gridData")),Object(i.c)(2,Object(f.b)("data")),Object(i.c)(3,Object(f.b)("headerTemplate")),Object(i.c)(4,Object(f.b)("cellTemplate")),Object(i.c)(5,Object(f.b)("columnWidth")),Object(i.c)(6,Object(f.b)("position")),Object(i.c)(7,Object(f.b)("border")),Object(i.c)(8,Object(f.b)("order")),Object(i.c)(9,Object(f.b)(d.b)),Object(i.c)(10,Object(f.b)(r.b)),Object(i.c)(11,Object(f.b)(l.n)),Object(i.c)(12,Object(f.b)(c.b)),Object(i.c)(13,Object(f.b)(u.c)),Object(i.c)(14,Object(f.b)(p.c)),Object(i.c)(15,Object(f.b)(h.b)),Object(i.c)(16,Object(f.b)(g.d)),Object(i.c)(17,Object(f.b)("groups"))],D);class T extends D{}class P extends D{}class $ extends O{}}).call(this,n("71td"))},ckcj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("69Wd");const a="ultra.components.directives.bbUiIcon.large.Assignments";Object(i.a)(s.a,a,"bbUiIconLargeAssignments")},cpZm:function(e,t,n){"use strict";var i=n("D57K"),s=n("Llzl"),a=n("ERkP"),o=n("C+e0"),r=n("1ZbL"),l=n("tN4z"),c=n("TUnR"),d=n("AuQm"),u=n("MC1S"),m=n("uDfI"),p=n("IbyE"),h=n("nmzr");const g="ultra.components.services.gradebookListViewTabs",b=e=>{const{onChange:t,value:n,tabs:i,localize:s,analyticsId:o,ftue:r}=e,g="components.directives.grade.course-grades-grader.actions",b={analyticsId:"course.downloadGradeSettings.link",label:s.translate(`${g}.download`)},f={analyticsId:"course.uploadGradeSettings.link",label:s.translate(`${g}.upload`)},v={analyticsId:"course.attemptReceiptSearch.link",label:s.translate(`${g}.attemptReceiptSearch`)},y={analyticsId:"course.gradebookSettings.link",label:s.translate(`${g}.openGradebookSettings`)},k={analyticsIdPrefix:"course.gradebookDropdownMenu",ariaLabel:s.translate(`${g}.moreOptionsGradebook`),menuOptions:[b,f,v,y],optionClicked:e=>{e.analyticsId===b.analyticsId?h.bb.goPeekState(h.n.GradeDownload()):e.analyticsId===f.analyticsId?h.bb.goPeekState(h.n.GradeUpload()):e.analyticsId===y.analyticsId?h.bb.goPeekState(h.n.GradeSettings()):h.bb.goPeekState(h.n.AttemptReceiptSearch())},isRtl:s.isRtl()},[x,S]=a.useState(),C=Object(m.d)(),[E]=Object(c.d)(null==r?void 0:r.componentKey);return a.createElement("div",{className:"gradebook-list-view-tabs"},a.createElement("div",{className:"more-options"},a.createElement(d.P,{...k,className:"right-menu"})),a.createElement(l.AnalyticsTabs,{onChange:t,value:n,analyticsId:`${o}.gradebook.listViewTabs`},i&&i.map((e=>{const t={analyticsId:`${o}.gradebook.listViewTab.${e.id}`,className:`js-gradebook-tab-${e.id}`,key:e.id,value:e.id,label:s.translate(e.displayKey)};return e.id===(null==r?void 0:r.targetId)&&(t.innerRef=S),a.createElement(l.AnalyticsTab,{...t})}))),E&&x&&a.createElement(c.c,{componentKey:r.componentKey,onDismiss:()=>{C(p.X.userPreference.persistUserPreference({key:r.componentKey,value:"1"}))},targetElement:x,headline:s.translate("components.directives.grade.course-grades-grader.views.studentListViewGuidanceHeader"),calloutProps:{directionalHint:u.DirectionalHint.bottomAutoEdge},analyticsId:`${o}.ftue`},s.translate("components.directives.grade.course-grades-grader.views.studentListViewGuidanceBody"),a.createElement(l.AnalyticsPrimaryButton,{analyticsId:`${o}.gradebook.PrimaryButton`,className:"ftue-action",onClick:()=>{C(p.X.userPreference.persistUserPreference({key:r.componentKey,value:"1"})),r.action()}},s.translate("components.directives.grade.course-grades-grader.views.studentListViewGuidanceTry"))))};class f extends a.Component{render(){return a.createElement(b,{...this.props})}}const v={Class:Object(o.a)(f),attributes:["analyticsId"],bindingNames:["value","onChange","tabs","ftue"],renderLocalized:!0,withProvider:!0};s.module(g,[]).component("bbUiGradebookListViewTabs",Object(r.a)(v));var y=n("aHpC"),k=n("Y+9S");n.d(t,"c",(function(){return x})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return C}));const x="ultra.components.directives.gradebookListViewTabs",S={id:"assignments",ariaLabel:"components.directives.grade.course-grades-grader.views.gradableItemsListView",displayKey:"components.directives.grade.course-grades-grader.views.gradableItemsListViewTabLabel"},C={id:"students",ariaLabel:"components.directives.grade.course-grades-grader.views.studentListView",displayKey:"components.directives.grade.course-grades-grader.views.studentListViewTabLabel"},E=[S,C],I="students";let w=class{constructor(e){this.scope=e,this.onTabChange=(e,t)=>{const n=this.tabs.find((e=>e.id===t));Object(k.o)(t===C.id?k.c.StudentsTabOpened:k.c.GradableItemTabOpened),this.scope.onTabChanged&&this.scope.onTabChanged(n.id),this.scope.$apply()},this.tabs=E,this.ftue={componentKey:"ftue.grades.grader.studentlistview",targetId:I,action:()=>{this.scope.onTabChanged(I)}}}};w=Object(i.a)([Object(i.c)(0,Object(y.b)("scope"))],w);let A=class{constructor(e){this.$injector=e,this.restrict="E",this.template='<bb-ui-gradebook-list-view-tabs\n                            value="gradebookListViewTabs.scope.selectedTab"\n                            on-change="gradebookListViewTabs.onTabChange"\n                            tabs="gradebookListViewTabs.tabs"\n                            ftue="gradebookListViewTabs.ftue">\n                      </bb-ui-gradebook-list-view-tabs>',this.scope={onTabChanged:"<?",selectedTab:"="},this.link=e=>{e.gradebookListViewTabs=this.$injector.instantiate(w,{scope:e})}}};A=Object(i.a)([Object(i.c)(0,Object(y.b)("$injector"))],A),angular.module(x,[g]).directive("bbGradebookListViewTabs",["$injector",e=>e.instantiate(A)])},cs5G:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return S}));var i=n("D57K"),s=n("nsO7"),a=n("t3aq"),o=n("Qbdf"),r=n("X455"),l=n("HAJP"),c=n("0JpG"),d=n("5MwF"),u=n("WSu0"),m=n("pjml"),p=n("Q/M7"),h=n("aHpC"),g=n("6fZB"),b=n("VAMW"),f=n("jhBu"),v=n("Sa5G"),y=n("/5AG"),k=n("nYZ0");const x="ultra.service.ally",S="ally",C="privileged";class E{constructor(e){this.service=e,this.key=b.d.Ally}isAvailable(){return Object(g.a)(this.service.isAvailable())}isAllySupportedContentItem(e){return this.service.isAllySupportedContentItem(e)}getXythosIdFromContentItem(e){return this.service.getXythosIdFromContentItem(e)}update(e,t,n){this.service.update(e,t,n)}isAllyInstructor(){return this.service.isAllyInstructor()}}let I=class{constructor(e,t,n,i,s,a,o,r,l,c){this.$q=e,this.$timeout=t,this.$interval=n,this.allyModel=i,this.contextCourse=s,this.contextCourseMembership=a,this.bbLocalize=o,this.bbScriptLoader=r,this.entitlementService=l,this.contentService=c,this.cachedTokensMap=new Map,this._mockCourses={},this._xythosIdToContentIdMap={},this._xythosIdToInstructorFeedbackUpdateCallbackMap=new Map,this.getToken=e=>{const t=e?this._xythosIdToContentIdMap[e]:void 0;return this.cachedTokensMap.has(e)&&Date.now()<this.cachedTokensMap.get(e).exp?this.$q.resolve(this.cachedTokensMap.get(e).token):this.allyModel.getAllyToken(this.contextCourse.courseId,t).then((t=>{const n=this.getExpireMillisFromToken(t),i={bearer:t.authToken};return this.cachedTokensMap.set(e,{token:i,exp:n}),i}))},Object(b.f)(new E(this))}getContentById(e){const t=this.contextCourse.course,n=this.contentService.findRootNode(t,m.p.ContentRootNode.ROOT);return this.contentService.getContentInContentTree(n,t.courseId,e).then((e=>e.content))}downloadAlternativeFormat(e){window.open(e,"_blank","noopener")}updateReviewStateForLaunchedContent(e){Object(y.B)(e)}getAllySettings(){return this._allyConfig?this.$q.resolve(this._allyConfig):this.allyModel.getAllyConfig().then((e=>this._allyConfig=e))}getExpireMillisFromToken(e){return 1e3*u(e.authToken).exp}isAvailable(){return this.getAllySettings().then((e=>e.serviceAvailable))}getXythosIdFromContentFileUrl(e){const t=/(?:xid|_xy)-([^&]*)/.exec(e);let n=t&&t[1];return n&&"_"!==n.substr(0,1)&&(n="_"+n),n}getXythosIdFromContentItem(e){const t=s.get(e,"contentDetail['resource/x-bb-file'].file.permanentUrl");if(t)return this.getXythosIdFromContentFileUrl(t)}isAllySupportedContentItem(e){return e.isFile()&&!e.isConditionalReleaseLocked()}disable(){this._allyConfig?this._allyConfig.serviceAvailable=!1:this._allyConfig={serviceAvailable:!1}}ensureAlly(){const e=this,t=this.$q.defer();return this.ally?t.resolve():this.getAllySettings().then((n=>{if(n.serviceAvailable){let i,s=!1;const a=(e,n)=>{s||(e?t.resolve():(this.disable(),n&&console.error(n),t.reject()),s=!0,this.$timeout.cancel(i))};i=this.$timeout((()=>{a(!1,"Ally initialization timed out.  Disabling Ally Service.")}),d.a.allyInitializationTimeout||1e4),this.bbScriptLoader.getScript(n.javascriptUrl,{attributes:{"data-ally-loader":""},exports:"ally"}).then((t=>{e.ally=t;try{e.ally.ready((()=>{a(!0)}))}catch(e){console.error(e),a(!1,"Ally initialization error.  Disabling Ally Service.")}})).catch((()=>{a(!1,"Failed to load ally.js.  Disabling Ally Service.")}))}else t.resolve()})),t.promise}getRole(){return this.entitlementService.isEntitled(v.f.ModifyContent)?C:"unprivileged"}isAllyInstructor(){return this.getRole()===C}destroyCurrentAllyInstance(){this.cachedTokensMap.clear();const e=this.$q.defer();return this._xythosIdToInstructorFeedbackUpdateCallbackMap.clear(),this.allyUI?this.allyUI.destroy().then((()=>{e.resolve()})):e.resolve(),e.promise}ensureAllyUI(e){if(this.allyLoadInProgressPromise)return this.allyLoadInProgressPromise;const t="string"==typeof e?e:this.bbLocalize.getLocale(e),n=this.$q.defer();return this.allyLoadInProgressPromise=n.promise,this.ensureAlly().then((()=>{this.getAllySettings().then((e=>{if(!e.serviceAvailable||this.currentCourseId===this.contextCourse.courseId&&this.currentLocale===t)this.allyLoadInProgressPromise=void 0,n.resolve();else{this.currentCourseId!==this.contextCourse.courseId&&(this._xythosIdToContentIdMap={}),this.currentCourseId=this.contextCourse.courseId,this.currentLocale=t;const i={alternativeformats:{callbacks:{closed(){},formatGenerated:e=>this.downloadAlternativeFormat(e.url),alternativeFormatAccessed:e=>{const t=e.contentId;return this.getContentById(t).then((e=>{this.updateReviewStateForLaunchedContent(e)}))}}},client:{auth:this.getToken.bind(this),baseUrl:p.i(e.ltiUrl),clientId:e.clientId},courseId:this.currentCourseId,locale:this.currentLocale,platformName:"learn",role:this.getRole(),instructorfeedback:{callbacks:{closed:()=>{this.allyUI.client.clearAllFromCache(),this.allyUI.update()},deleted:e=>{},replacedFile:(e,t)=>{},updated:e=>{this.instructorFeedbackUpdateCallback(e)},fixHtmlIssue:()=>{}}}};d.a.features.devtools_allyMock&&(this.allyMock=this.ally.ui.$mock(this._mockCourses,void 0),i.client.jQuery=this.allyMock),this.destroyCurrentAllyInstance().then((()=>{this.allyUI=this.ally.ui(i),this.allyUI.autoUpdate({domWatch:d.a.allyAutoUpdateInterval||500}).then((()=>{this.allyLoadInProgressPromise=void 0,n.resolve()}))}))}}))})).catch((()=>{this.allyLoadInProgressPromise=void 0,n.reject()})),this.allyLoadInProgressPromise}update(e,t,n){this.isAvailable().then((i=>{if(i){const i="string"==typeof e?e:this.bbLocalize.getLocale(e);this.ensureAllyUI(i).then((()=>{t&&n&&(this._xythosIdToContentIdMap[n]=t,this.allyUI.client.clearFileIdFromCache(n)),this.registerMockFileReference(n)}))}}))}registerMockFileReference(e){d.a.features.devtools_allyMock&&e&&(s.merge(this._mockCourses,{[this.currentCourseId]:{File:{[e]:{availableAlternativeFormats:["Tts","Epub","Translation","Braille","Html"],creator:null,decorative:null,description:"mock file",id:e,isVersioned:!1,libraryReference:null,name:"mockfile",producer:null,results:{},score:.75,size:12345,suggestions:{},type:"pdf"}},RichContent:{}}}),this.allyMock.set(this._mockCourses))}fileUploadEvent(){!this._clearCacheInterval&&this.isAllyInstructor()&&(this._clearCacheInterval=this.$interval((()=>{this.allyUI&&this.allyUI.client&&this.allyUI.client.clearAllFromCache()}),d.a.allyClearCacheInterval||1e4,0,!1))}getIndexMapFromBbML(e){const t=new Map;if(!e)return t;const n=e.match(/(<a[^>]+)/gi)||[];let i=0;return n.forEach((e=>{if(e.includes('data-bbfile="')){const n=e.match(/href="[^"]+xid-([0-9_]+)/)||[];n.length>=2&&("_"!==n[1].substr(0,1)&&(n[1]="_"+n[1]),t.set(n[1],i)),i++}})),t}instructorFeedbackUpdateCallback(e){const t=this._xythosIdToInstructorFeedbackUpdateCallbackMap.get(e.id);t&&t(e)}onUpdate(e,t,n){if(e===a.c.InstructorFeedback)this._xythosIdToInstructorFeedbackUpdateCallbackMap.set(t,n)}destroyListeners(e){this._xythosIdToInstructorFeedbackUpdateCallbackMap.delete(e)}getReactService(e){return{getXythosIdFromContentFileUrl:this.getXythosIdFromContentFileUrl.bind(this),update:(t,n)=>this.update(e,t,n),isAvailable:()=>Object(g.a)(this.isAvailable()),getIndexMapFromBbML:this.getIndexMapFromBbML.bind(this),onUpdate:this.onUpdate.bind(this),destroyListeners:this.destroyListeners.bind(this)}}};I=Object(i.a)([Object(i.c)(0,Object(h.b)("$q")),Object(i.c)(1,Object(h.b)("$timeout")),Object(i.c)(2,Object(h.b)("$interval")),Object(i.c)(3,Object(h.b)(m.a.serviceName)),Object(i.c)(4,Object(h.b)(o.e)),Object(i.c)(5,Object(h.b)(r.d)),Object(i.c)(6,Object(h.b)(c.serviceName)),Object(i.c)(7,Object(h.b)(l.b)),Object(i.c)(8,Object(h.b)(f.b)),Object(i.c)(9,Object(h.b)(k.f))],I);angular.module(x,[o.b,r.a,c.moduleName,l.a,f.a,k.d]).service(S,I)},cwoR:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("Llzl"),s=n("0JpG"),a=n("TnpK");const o="ultra.base.system-content-market.router";i.module(o,[s.moduleName,a.b]).config([a.c,e=>{e.peekState("system-content-market",{url:"/systemcontentmarket",require:()=>Promise.all([n.e(75),n.e(626)]).then(n.bind(null,"tcBX")),resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/base/system-content-market/system-content-market"),t.loadBundle("features/course/content-market/content-market"),t.loadBundle("features/course/books-and-tools/books-and-tools")])]},panelClass:"full",pageTitle:"base.systemContentMarket.title",params:{mode:null}})}])},d7QB:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n("Llzl"),s=n("N7x3");const a="ultra.components.services.event-emitter",o="integration-event-emitter";class r{constructor(){this.emitIntegrationEvent=e=>{e.originalEvent||(e.originalEvent=e.originalEvent||{}),e.originalEvent.manualFireFlag||(this._triggerForceClick(e.target),e.originalEvent.manualFireFlag=!0)},this.addIntegrationEventClickListener=e=>(e.on("click",this.emitIntegrationEventOnClickHandler),()=>{e.off("click",e.selector,this.emitIntegrationEventOnClickHandler)}),this.emitIntegrationEventOnClickHandler=e=>this.emitIntegrationEvent(e)}_triggerForceClick(e){i.element(e).trigger(s.a.integrationForceClick)}}i.module(a,[]).service(o,r)},d8yC:function(e,t,n){"use strict";function i(e){const t=[];let n=0;e.forEach(((e,i)=>{n+=Math.floor(e),t.push({integer:Math.floor(e),remainder:e-Math.floor(e),index:i})}));let i=100-n;if(i>0){t.sort(((e,t)=>t.remainder-e.remainder));let e=0;for(;i>0;)t[e].integer>0||t[e].remainder>0?(t[e].integer+=1,e++,i-=1):e++,e===t.length&&(e=0);t.sort(((e,t)=>e.index-t.index))}return t.map((e=>e.integer))}function s(e,t){const n=e.toString(),i=n.indexOf(".");if(i>0&&n.length-i-1>t){const e=n.slice(0,i+t+1);return parseFloat(e)}return e}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}))},dCrD:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var i,s=n("D57K"),a=n("Oyr+"),o=n("0JpG"),r=n("RPq7"),l=n("Qbdf"),c=n("nYZ0"),d=n("Vsv2"),u=n("jx5I"),m=n("A+IJ"),p=n("+4Px"),h=n("pjml"),g=n("3Jgm"),b=n("e6jQ"),f=n("lEL+"),v=n("TnpK"),y=n("PoQW"),k=n("aHpC"),x=n("zGdY"),S=n("Y+9S");!function(e){e.Unzip="Unzip",e.Website="Website",e.Default="Default"}(i||(i={}));let C=class{constructor(e,t,n){this.scope=t,this.element=n,this.alwaysShow=!1,this.isButtonVisible=!1,this.isMobile=!1,this.isUploadMultipleFiles=!1,this.removeDefaultRenderClass=!1,this.uuid=Object(b.b)(),this.downloadFile=e=>{this.scope.$broadcast("downloadFile",e,this.positionForFiles)},this.defaultAttachHandler=(e,t,n,i,s)=>{const a=i||this.$q.defer();let o={parentId:void 0,positionBefore:"start",positionAfter:void 0,depth:0};return this.isUploadMultipleFiles=n,this.insertLocation=s||this.getInsertLocationData(),o=t.ui&&t.ui.parentId?{parentId:t.ui.parentId,positionBefore:t.ui.positionBefore,positionAfter:t.ui.positionAfter,depth:t.ui.depth}:this.insertLocation,"folder"===t.type?(this.closeMenu(),!t.ui||t.ui.depth<=m.l?this._addFolderToCourseOutline(t,o).then((e=>{t.ui={parentId:e.id,positionBefore:"start",depth:1+Number(e.depth)},a.resolve(t)}),(e=>{a.reject(e)})):a.resolve()):this._addContentToCourseOutline(t,e,o).then((e=>{const n=null==s?void 0:s.positionAfter;this.scope.$root.$broadcast("uploadComplete",t,n),e.$save().$then((n=>{t.ui&&t.ui.needUnzip&&(e=n),a.resolve()}))})),a.promise},this.toggleAddContentMenu=()=>{this.isEmptyFolder()?this.scope.$emit("toggle-folder-by-id",this.scope.content.id):this.isMenuVisible=!this.isMenuVisible,this.timeout((()=>{this.scope.$apply()}),this.scope)},this.hideAddContentMenu=e=>{null===e.target.closest(`#${this.getButtonWrapperId()}`)&&(this.isMenuVisible=!1,this.timeout((()=>{this.scope.$apply()}),this.scope))},this.$q=e.get("$q"),this.$rootScope=e.get("$rootScope"),this.bbLocalize=e.get(o.serviceName),this.cloudDriveService=e.get(d.b),this.fileUploadSettingsService=e.get(u.b),this.timeout=e.get(f.b),this.contentSvc=e.get(c.f),this.CourseModel=e.get(h.m.serviceName),this.PartnerService=e.get(g.b),this.ultraState=e.get(v.d),this.contextCourse=e.get(l.e),this.scope.addMenuId=b.a(),this.showMenuOverride=this.scope.showMenuOverride,this.alwaysShow=this.scope.alwaysShow,this.currentCourse=this.contextCourse.course,this.isCloudServiceAvailablePromise=this.cloudDriveService.isCloudServiceAvailable().then((e=>this.isCloudServiceAvailable=e)),this.bbLocalize.loadBundle("components/directives/add-content-button").then((()=>{let e="content";this.scope.itemIndex&&null!=this.scope.itemIndex()?e="item-index":"grades"===this.scope.contextArea?e="grades":"course-group"===this.scope.contextArea?e="group":"bbml-editor-single-file"===this.scope.contextArea&&(this.scope.addContentButton.isMenuVisible=!0),this.isMenuVisible=!1,this.addButtonAriaLabel=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.add-content-button.aria-label."+e+".add-button-label"});const t="components.directives.add-content-button.aria-label.content."+(this.isMobile?"yourDevice":"yourComputer");if(this.uploadAriaLabel=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:t}),this.scope.itemName||this.scope.itemType){const t=t=>{const[n,i,s]=t;if(n||i){const t=i?i+"-":"",a=this.scope.positionAfter?"after":"before";this.addButtonAriaLabel=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.add-content-button.aria-label."+e+".add-button-label-item-name-"+t+a,params:{itemName:n,itemIndex:s},noWrap:!0,noEscape:!0})}};this.scope.$watchGroup(["itemName()","itemType()","itemIndex()"],t)}})),n.mouseover((()=>{this.$rootScope.$broadcast("mouseover-add-content-button"),this.scope.$apply((()=>{this.scope.addContentButton.showButton()}))})),this.scope.$on("close-all-add-menus",(()=>{this.showMenuOverride?this.isEmptyFolder()&&this.scope.content.ui.isOpen&&(this.scope.addContentButton.isMenuVisible=!0):this.scope.addContentButton.isMenuVisible=!1})),this.scope.showBothButtons&&this.scope.showBothButtons()||this.scope.$on("mouseover-add-content-button",(()=>{this.scope.addContentButton.hideButton()})),this.scope.$on("content-item-hover",((e,t)=>{this.scope.addContentButton.hideButton();const i=()=>{let e;return e=n.closest(".folder-contents").find("bb-add-content-button").first().is(n)?n.closest(".folder-contents").find(".js-content-div .element-list-row").first():n.closest(".js-content-div").next(".js-content-div").find(".element-list-row").first(),e.hasClass("element-list-row")||(e=n.next().find(".js-content-div").first().find(".element-list-row")),!!e.is(t.element)&&this.scope.addContentButton.showButton()},s=()=>{let e=!1;n.closest(".js-content-div").find(".element-list-row").first().is(t.element)&&(e=!0),n.closest(".folder").is(t.element.parent(".folder"))&&(e=!1),t.element.hasClass("js-parent")&&t.element.hasClass("open")&&(e=!1),this.scope.addContentButton.isButtonVisible!==e&&(this.scope.addContentButton.isButtonVisible=e)};this.scope.showBothButtons&&this.scope.showBothButtons()?i()||s():t.relativeMousePosition===r.a.Top?i():s()})),this.scope.$on("content-outline-hover-end",(()=>{this.scope.addContentButton.hideButton()})),this.scope.$watch("alwaysShow",(e=>{this.alwaysShow=e})),n.on("drop",(e=>{this.closeMenu(),this.scope.$emit(a.e,this.scope.parentId(),this.scope.positionBefore&&this.scope.positionBefore(),this.scope.positionAfter&&this.scope.positionAfter(),this.scope.depth(),void 0,this.scope.content,a.c.AssignDropTarget)})),this.scope.$on("$stateChangeStart",(()=>{this.ultraState.includes("**.content-manage.import.**")?this.isMenuVisible=this.isEmptyFolder():this.isEmptyFolder()?this.isMenuVisible=!0:this.isMenuVisible=!1,this.timeout((()=>{this.scope.$apply()}),this.scope)})),this.scope.$on(a.b,(()=>{this.closeMenu()})),this.isMenuVisible=this.scope.showMenuOverride,null!=this.scope.showMenuOverride&&this.scope.$watch((()=>this.scope.showMenuOverride),(e=>{this.scope.addContentButton.isMenuVisible=e,this.showMenuOverride=e})),this.getInsertLocationData()}onKeydown(e){e.keyCode===p.g&&this.isMenuVisible&&(this.closeMenu(),this.element.find("a.js-show-add-options").focus(),e.stopPropagation(),e.preventDefault())}showButton(){this.isButtonVisible=!0}hideButton(){this.isButtonVisible=!1}turnOffAlwaysShow(){this.alwaysShow=!1}toggleMenu(){if(this.showMenuOverride)this.showMenuOverride&&this.isEmptyFolder()&&this.scope.$emit("toggle-folder-by-id",this.scope.content.id);else{const e=this.isMenuVisible;e||this.$rootScope.$broadcast("close-all-add-menus"),this.isMenuVisible||this.timeout((()=>{this.element.scrollintoview({duration:250})}),this.scope,0,!1),this.isMenuVisible=!e}}isForceShowAddButton(){return this.scope.forceShowAddButton}closeMenu(){this.isMenuVisible&&this.toggleMenu()}getInsertLocationData(){return this.insertLocation={parentId:this.scope.parentId(),positionBefore:this.scope.positionBefore&&this.scope.positionBefore(),positionAfter:this.scope.positionAfter&&this.scope.positionAfter(),depth:this.scope.depth(),contentId:"create"}}assignPosition(){Object(S.o)(S.c.CloudStorageOpened),this.closeMenu(),this.scope.$emit("bb-bbml-editor-assign-position",this.getInsertLocationData())}_addFolderToCourseOutline(e,t){return this.contentSvc.makeContentInContentTree(this.scope.rootContent&&this.scope.rootContent(),this.contextCourse.courseId,t.parentId,t.positionBefore,t.positionAfter,!0).then((n=>{const i=n.content;return i.parentId=t.parentId,i.positionBefore=t.positionBefore,i.positionAfter=t.positionAfter,i.isAvailable=!1,i.depth=t.depth,i.description="",i.title=e.name,i.contentDetail={"resource/x-bb-folder":{isFolder:!0}},i.courseId=this.contextCourse.courseId,i.contentHandler=h.p.ContentHandler.Folder,i.$save().$asPromise()}))}_addContentToCourseOutline(e,t,n){return this.contentSvc.makeContentInContentTree(this.scope.rootContent&&this.scope.rootContent(),this.contextCourse.courseId,n.parentId,n.positionBefore,n.positionAfter,!0).then((e=>e.content)).then((s=>(s.parentId=n.parentId,s.positionBefore=n.positionBefore,s.positionAfter=n.positionAfter,s.isAvailable=!1,s.depth=n.depth,s.description="",s.title=t.fileName,s.contentHandler=h.p.ContentHandler.File,s.contentDetail={"resource/x-bb-file":{file:{fileName:t.fileName,fileLocation:t.fileLocation},fileAssociationMode:x.G.Embed}},e.ui&&e.ui.needUnzip&&(s.contentDetail["resource/x-bb-file"].action=i.Unzip.toString()),s.courseId=this.contextCourse.courseId,s.$asPromise())))}getTargetId(){return`addContentButton-${this.uuid}`}getButtonWrapperId(){return`addContentButtonWrapper-${this.uuid}`}getDirectionalHint(){return y.DirectionalHint.bottomCenter}isEmptyFolder(){const{content:e,folderNestedButton:t}=this.scope;return!!(e&&e.isFolder()&&e.children&&0===e.children.length&&t&&t())}};C=Object(s.a)([Object(s.c)(0,Object(k.b)("$injector")),Object(s.c)(1,Object(k.b)("scope")),Object(s.c)(2,Object(k.b)("element"))],C)},dF44:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r}));const i={CELL_FOCUSED:"rb_grid_cell_focused",COLUMN:"rb_grid_column",DATA_UPDATE:"rb_grid_data_update",ENTER_CELL:"rb_grid_enter_cell",ENTER_NEXT_CELL:"rb_grid_enter_next_cell",FOCUS_CELL:"rb_grid_focus_cell",LEAVE_CELL:"rb_grid_leave_cell",LEAVE_GRID:"rb_grid_leave_grid",ROW:"rb_grid_row",SCROLL_H:"rb_grid_scroll_h",SCROLL_V:"rb_grid_scroll_v"},s=2,a=2,o=50,r=50},dJ97:function(e,t,n){"use strict";n("w0/N");var i=n("Llzl"),s=n("Fvsw"),a=n("yMoE"),o=n("X/qj"),r=n("oi1r"),l=n("o5Lu"),c=n("0JpG"),d=n("fYJU"),u=n("zGdY"),m=n("d8yC"),p=n("O3Pz"),h=n("cH+F"),g=n("6TNA"),b=(n("S6sW"),n("pHHL"));n.d(t,"a",(function(){return f}));const f="ultra.grade.display";var v;!function(e){e.AttemptStatus="AttemptStatus",e.FinalBase="FinalBase",e.Column="Column",e.Course="Course",e.GradeColor="GradeColor"}(v||(v={}));class y{constructor(e,t,n,s,o,r,l,c,d,u){this.scope=e,this.attrs=t,this.$q=n,this.$injector=s,this.gradebookPermissionService=r,this.localize=l,this.context=c,this.schemaService=d,this.contextUser=u,this.fullDisplayGrade=y.NO_GRADE_DISPLAY,this.bundlePromise=l.loadBundle("components/directives/grade/display-grade"),this.courseColorClass=e.courseColorClass,this.cursorPointer=e.cursorPointer&&e.cursorPointer(),this.cursorDefault=e.cursorDefault&&e.cursorDefault(),this.isStudent=u.userModel.isStudent(),this.isStudent||r.canViewGrades(this.scope.course&&this.scope.course().id)?(this.scope.$watch("::column",(e=>{if(e){const t=e=>{let t;const n=this.scope.$watch("gradeDetail",(i=>{i&&(this.schemaGrade=o.getGradeToDisplay(i.displayGrade,this.scope,this.schema.scaleType),this.setFullDisplayGrade(),v.GradeColor!==this.scope.gradeType&&v.FinalBase!==this.scope.gradeType||(this.gradeDisplayItem=s.instantiate(a.a,{gradeDetail:i,scope:this.scope}),this.scope.$watch("::column",(t=>{t&&this.gradeDisplayItem.init(t,e).then((()=>{this.gradeDisplayItem.displayGrade=this.scope.showNotGraded&&this.scope.showNotGraded()?null:i.displayGrade,this.gradeDisplayItem.displayValue&&(this.colorClass=this.gradeDisplayItem.getGradeColor())}))}))),n(),t())}));t=this.scope.$watch("summary",(e=>{var t,s;if(this.colorClass="na",e){if(this.schemaGrade=e.averageGradeForStudentsSchemaValue,this.schemaGradeValue=e.averageGradeForStudents,this.setFullDisplayGrade(),v.FinalBase===this.scope.gradeType&&!i.isUndefined(e.averageGradeForStudents)){const n=m.b(null!==(s=null===(t=this.scope.gradeDetail)||void 0===t?void 0:t.pointsPossible)&&void 0!==s?s:this.scope.column.possible,2);this.colorClass=o.getPercentileColor(o.pointToPercentage(e.averageGradeForStudents,n))}n()}}),!0)};this.scope.schema?(this.schema=this.scope.schema,t(this.scope.schema)):d.loadGradeSchema(e).then((e=>{this.schema=e,t()}))}})),v.AttemptStatus===this.scope.displayType&&(this.courseColorClass="na",this.attempt?this.attempt.isNeedsGrading()?this.attemptStatus="components.directives.grade.display-grade.pending-grade":this.attempt.isInProgress()&&(this.attemptStatus="components.directives.grade.display-grade.NA"):this.attemptStatus="components.directives.grade.display-grade.NA")):(this.fullDisplayGrade=this.attemptStatus=y.NO_GRADE_DISPLAY,this.colorClass="na")}setFullDisplayGrade(){var e;let t;if(this.schema&&this.schema.scaleType&&(this.schema.scaleType===u.ac.Tabular||this.schema.scaleType===u.ac.Text||this.schema.scaleType===u.ac.Complete))this.fullDisplayGrade=this.scope.showNotGraded&&this.scope.showNotGraded()?y.NO_GRADE_DISPLAY:this.schemaGrade||y.NO_GRADE_DISPLAY;else if(t=this.scope.showNotGraded&&this.scope.showNotGraded()?y.NO_GRADE_DISPLAY:this.getSchemaGrade(),this.shouldShowPointsPossible()){let e="components.directives.grade.display-grade.";e+=v.Course===this.scope.gradeType?"course-score":"score",this.bundlePromise.then((()=>{var n;this.fullDisplayGrade=this.localize.translateSync({locale:this.localize.getLocale(this.scope),key:e,params:{grade:t,possible:m.b(null!==(n=this.scope.gradeDetail&&this.scope.gradeDetail.pointsPossible)&&void 0!==n?n:this.scope.column.possible,2)},noWrap:!0,noEscape:!0})}))}else(null===(e=this.schema)||void 0===e?void 0:e.scaleType)===u.ac.Percent&&t!==y.NO_GRADE_DISPLAY?this.bundlePromise.then((()=>{this.fullDisplayGrade=this.localize.translateSync({locale:this.localize.getLocale(this.scope),key:"components.directives.grade.display-grade.percent",params:{grade:t},noWrap:!0,noEscape:!0})})):this.fullDisplayGrade=t}get attempt(){return this.scope.attempt&&this.scope.attempt()||this.scope.gradeDetail&&(this.scope.gradeDetail.ui.groupAttempt||this.scope.gradeDetail.ui.attempt)}convertGrade(e){try{const t=e.replace(/[^0-9.,]/g,"");return this.localize.parseNumberSync(t)}catch(e){return null}}getSchemaGrade(){let e;return e=null==this.schemaGradeValue?this.convertGrade(this.schemaGrade):m.b(this.schemaGradeValue,2),null!=e&&this.localize.formatNumberSync(e,this.scope,{maximumFractionDigits:l.e.DEFAULT_GRADEBOOK_SETTINGS_AFTER_DECIMAL})||y.NO_GRADE_DISPLAY}shouldShowPointsPossible(){var e;return(null===(e=this.schema)||void 0===e?void 0:e.scaleType)===u.ac.Score&&(u.p.NonCalculated===this.scope.column.calculationType||this.scope.gradeDetail&&this.scope.gradeDetail.pointsPossible>0||this.scope.column.possible>0)}getCourseColorClass(){return this.courseColorClass}noGradeToDisplay(){return this.fullDisplayGrade===y.NO_GRADE_DISPLAY}getNoGradeDisplay(){return y.NO_GRADE_DISPLAY}shouldShowRubricButton(){return this.scope.showRubricButton&&this.scope.showRubricButton()&&this.scope.column.hasRubricAssociation&&this.scope.column.hasRubricAssociation()}shouldShowRubricDiv(){return this.scope.showRubricDiv&&this.scope.showRubricDiv()&&this.scope.column.hasRubricAssociation&&this.scope.column.hasRubricAssociation()}shouldShowRubricEvaluation(){return this.scope.column.hasRubricAssociation&&this.scope.column.hasRubricAssociation()&&null!=this.attempt&&this.attempt.isCompleted()&&!this.scope.gradeDetail.isOverrideGrade()}}y.NO_GRADE_DISPLAY="--",y.$inject=["scope","attrs","$q","$injector",l.n,o.b,c.serviceName,s.b,r.b,d.b];class k{constructor(e,t){this.$injector=e,this.$compile=t,this.restrict="E",this.scope={attempt:"&?",gradeDetail:"=",summary:"=",column:"=",schema:"=?",displayType:"@",finalGrade:"&?",translateKey:"@",courseColorClass:"=",isGroupGradeMultiple:"&?",showNotGraded:"&?",overallGradePeekSref:"@?",showRubricButton:"&?",showRubricDiv:"&?",cursorPointer:"&?",cursorDefault:"&?",course:"&?"},this.link=(e,t,n)=>{e.displayGrade=this.$injector.instantiate(y,{scope:e,attrs:n}),e.gradeType=function(e){if(e)return Object.values(v).find((t=>t.toLowerCase()===e.toLowerCase()))}(e.displayType)||v.Column,t.append(this.$compile(function(e){switch(e){case v.AttemptStatus:return p;case v.FinalBase:return h;case v.Column:return g;case v.GradeColor:return b}}(e.gradeType))(e))}}}k.$inject=["$injector","$compile"],i.module(f,[l.m,o.a]).directive("bbDisplayGrade",["$injector",e=>e.instantiate(k)])},"dL5/":function(e,t){e.exports='<span class="group-count-directive" bb-load-bundle="components/directives/group/group-count">\n  <bb-translate translate-values="{number: $ctrl.content.assignedGroups.length}"\n                ng-if="!$ctrl.isSelfEnrollment()">components.directives.group-count.groups.plural</bb-translate>\n  <bb-translate translate-values="{number: $ctrl.content.assignedGroups.length}"\n                ng-if="$ctrl.isSelfEnrollment()">components.directives.group-count.groups.selfEnroll.plural</bb-translate>\n</span>\n'},dV61:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-trash",use:"icon-small-trash-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-trash"><path d="M4 4l2-3h4l2 3M2 5l1 10h10l1-10M1 4h14M8 7v5M11 7l-.5 5M5 7l.5 5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},dd1C:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));n("zAxy"),n("10QP");var i=n("Llzl"),s=n("0JpG"),a=n("e6jQ"),o=n("GbAM"),r=n("3mUc");const l="ultra.components.directives.grade.inlineValidation";class c{constructor(t,n,i,s,o){this.scope=t,this.element=n,this.attrs=i,this.$compile=s,this.bbLocalize=o,this.scope.$on("$destroy",(()=>{this.element.off(),this.element=null,e(`#${this.scope.tooltipId}`).remove()}));const r=a.a();t.tooltipId=`inline-validation-tooltip-${r}`,t.alertTextId=`inline-validation-alert-text-${r}`,this.updateErrorMessage(),this.scope.focusableElement=this.element.find(":tabbable, input:enabled"),this.setupEventHandlers(),t.$watch((()=>this.scope.focusableElement.val()),(e=>{null!=e&&this.checkErrors()})),t.$watch((()=>this.scope.showError()),(e=>{this.checkErrors()})),t.$watch("errorMessage",(e=>this.updateErrorMessage()))}tooltipExists(){return 0!==e(`#${this.scope.tooltipId}`).length}updateErrorMessage(){this.scope.errorMessage?this.scope.errorMessageRefined=this.scope.errorMessage:this.bbLocalize.loadBundle("components/directives/grade/inline-validation").then((()=>{this.scope.errorMessageRefined=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.inline-validation.default"})}))}checkErrors(){this.scope.showError()?this.showErrorTip():this.hideErrorTip()}setupEventHandlers(){this.scope.focusableElement.on("focus",(()=>{this.checkErrors()})).on("blur",(()=>{this.hideErrorTip()})),this.scope.$on("bb-inline-validation-check",(()=>{this.checkErrors()}))}showErrorTip(){if(this.scope.focusableElement[0]===document.activeElement){this.tooltipExists()||e("body").append(this.$compile(`\n          <div id="${this.scope.tooltipId}"\n            class="tooltip inline-validation f-dropdown content inline-validation-tooltip">\n            <span class="validation-message" ng-bind="errorMessageRefined" aria-role="text"></span>\n            <span class="nub"></span>\n          </div>\n        `)(this.scope));const t=this.element.children().first(),n=e(`#${this.scope.tooltipId}`);window.Foundation.libs.tooltip.reposition(t,n,t.attr("class")),n.show(),this.scope.$root.$broadcast(o.a,this.scope.errorMessageRefined)}}hideErrorTip(){e(`#${this.scope.tooltipId}`).hide()}}c.$inject=["scope","element","attrs","$compile",s.serviceName];class d{constructor(e){this.$injector=e,this.restrict="E",this.transclude=!0,this.template=r,this.scope={showError:"&",errorMessage:"@"},this.link=(e,t,n,i)=>{e.inlineValidation=this.$injector.instantiate(c,{scope:e,element:t,attrs:n})}}}d.$inject=["$injector"],i.module(l,[s.moduleName]).directive("bbInlineValidation",["$injector",e=>e.instantiate(d)])}).call(this,n("71td"))},"dha+":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("13AT");const a="ultra.components.directives.bbUiIcon.large.Lti";Object(i.a)(s.a,a,"bbUiIconLargeLti")},dtd2:function(e,t,n){"use strict";var i=n("nbDY"),s=n.n(i);class a extends s.a{}a.Outline=new a("outline"),a.Inline=new a("inline"),t.a=a},dvAF:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-ally-alt-formats",use:"icon-small-ally-alt-formats-usage",viewBox:"0 0 16 17",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17" id="icon-small-ally-alt-formats"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 16.5l8-13 8 13h-4s-.5-3-4-3-4 3-4 3H0zm8-4c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2z" fill="#262626" /><path d="M16 3.5l-3 5-3-5h2v-3h2v3h2z" fill="#262626" /></symbol>'});s.add(a);e.exports=a},e6ZA:function(e,t,n){"use strict";n.r(t);n("BfLg"),n("Ddvy"),n("OkIp"),n("dY8P"),n("W67r"),n("juDU"),n("9RbK"),n("1dyP"),n("RB+a"),n("nsGK"),n("LNcM"),n("T4UF"),n("FNJT"),n("zhNR"),n("abLi"),n("B1ET"),n("1wt3"),n("rEGj"),n("qY1S"),n("lGTS"),n("Jsos"),n("HopG");const i=new Map;class s{constructor(e){this.name=e,this.id=`$BroadcastChannel$${e}$`,i.has(this.id)||i.set(this.id,new Set),i.get(this.id).add(this),this.onStorage=this._onStorage.bind(this),window.addEventListener("storage",this.onStorage),this.messageChannel=new MessageChannel}close(){window.removeEventListener("storage",this.onStorage);const e=i.get(this.id);e.delete(this),e.size||i.delete(this.id)}_onStorage({key:e,newValue:t,storageArea:n}){if(n===window.localStorage&&null!==t&&e.substring(0,this.id.length)===this.id)try{const e=JSON.parse(t);this.dispatchEvent(new MessageEvent("message",{data:e}))}catch(e){this.dispatchEvent(new ErrorEvent("messageerror",{error:e,message:"Failed to deserialize incoming message."}))}}postMessage(e){e=JSON.stringify(e);const t=`${this.id}${Date.now()}$${Math.random()}`;window.localStorage.setItem(t,e),setTimeout((()=>window.localStorage.removeItem(t)),500),i.get(this.id).forEach((t=>{t!==this&&t.dispatchEvent(new MessageEvent("message",{data:JSON.parse(e)}))}))}get onmessage(){return this.messageChannel.port1.onmessage}set onmessage(e){this.messageChannel.port1.onmessage=e}get onmessageerror(){return this.messageChannel.port1.onmessageerror}set onmessageerror(e){return this.messageChannel.port1.onmessageerror=e}addEventListener(...e){return this.messageChannel.port1.addEventListener.apply(this.messageChannel.port1,e)}removeEventListener(...e){return this.messageChannel.port1.removeEventListener.apply(this.messageChannel.port1,e)}dispatchEvent(...e){return this.messageChannel.port1.dispatchEvent.apply(this.messageChannel.port1,e)}}"BroadcastChannel"in window||(window.BroadcastChannel=s);var a=n("71td"),o=n("Llzl"),r=n("ssIi"),l=n("0uRC"),c=n("V8Kl"),d=n("OrNH"),u=n("kcGO"),m=n("/5AG"),p=n("IbyE");const h={"course-content":u.h,"course-core":m.A,"learn-data-services":p.ec};let g,b={};function f(e=h){return e!==g&&(b=function(e=h){const t={};return Object.keys(e).forEach((n=>{const i=e[n];Object.keys(null!=i?i:{}).forEach((e=>{const s=i[e];t[`${n}/${e}`]=s}))})),g=e,Object.freeze(t)}(e)),b}function*v(){const e=f(),t=Object.keys(e).map((t=>Object(d.f)(function(e,t=e.name){return function*(){for(;;)try{yield Object(d.b)(e);break}catch(e){console.error(`Uncaught error in saga ${t}:`,e)}}}(e[t],t))));yield Object(d.a)(t)}var y=n("In+A"),k=n("lEL+");const x="ultra.components.directives.animatedGif";class S{constructor(e,t){this.$injector=e,this.timeout=t,this.restrict="E",this.link=(e,t,n)=>{const i=o.element('<img role="presentation" alt="" style="width:0; height:0">');i.attr("src",t.attr("src")),t.append(i),this.timeout((()=>{t.attr("alt")&&i.attr("alt",t.attr("alt"))}),e,0,!1);const s=()=>{i.off("load",s),i.attr("src",""),i.addClass("animated-gif"),this.timeout((()=>{i.removeAttr("style"),i.attr("src",t.attr("src"))}),e,250,!1)};i.on("load",s)}}}S.$inject=["$injector",k.b],o.module(x,[k.a]).directive("bbAnimatedGif",["$injector",e=>e.instantiate(S)]);n("4MCF"),n("p95z");var C=n("NI+y"),E=n("5MwF"),I=n("Qbdf"),w=n("YzQO"),A=n("pjml"),O=n("w9mJ"),D=n("myse"),T=n("ZzR9"),P=n("TnpK");const $="ultra.bb.angulartics";let G=e=>{},j=(e,t)=>{},L={subscribeToFramework:D.subscribeToFramework};o.module($,["angulartics","angulartics.scroll",A.N,O.a,I.b]).config(["$analyticsProvider",e=>{e.registerPageTrack((e=>{G(e)})),e.registerEventTrack(((e,t)=>{j(e,t)})),a.fn.extend({waypoint(){return this.each((function(){a(this).triggerHandler("scrollby")}))}})}]).run(["$rootScope","$timeout",A.b.serviceName,O.b,I.e,(e,t,n,i,s)=>{const a=i.getQueue("telemetry");function r(e){a.enqueue((()=>t((()=>(C.b.addHistory(e),n.$create(e))),1e3,!1)))}function l(){return s.course?{id:s.course.id,uuid:s.course.uuid,batchUid:s.course.batchUid,ultraStatus:s.course.ultraStatus}:null}function c(e){if(e){if("{"===e[0])try{return JSON.parse(e)}catch(e){}return{value:e}}}L.subscribeToFramework("UltraTelemetry",((e,t)=>{const{analyticsId:n,...i}=null!=t?t:{};e===D.AnalyticsEventTypes.CLICK_EVENT&&r({action:"click",analyticsId:n,context:i,url:document.URL,applicationId:E.a.telemetryAppId,course:l()}),e===D.AnalyticsEventTypes.CHANGE_EVENT&&r({action:"change",analyticsId:n,context:i,url:document.URL,applicationId:E.a.telemetryAppId,course:l()})})),G=e=>{r({action:"pageview",analyticsId:e,url:document.URL,applicationId:E.a.telemetryAppId,course:l(),screenDimension:{innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth}})},j=(e,t)=>{!t.id||"click"!==t.eventType&&"scrollby"!==t.eventType||r({action:t.eventType,analyticsId:t.id,url:document.URL,context:c(t.context),applicationId:E.a.telemetryAppId,course:l()})},e.$on(T.b.$stateChangeSuccess,((e,t,n,i)=>{var s;(null===(s=null==t?void 0:t.name)||void 0===s?void 0:s.startsWith(null==i?void 0:i.name))||function(e){if(!e)return[];const t=e.split(P.a),n=[];let i="";return t.forEach((e=>{""!==e&&(i=i.length>0?`${i}${P.a}${e}`:e,n.push(i))})),n}(null==i?void 0:i.name).forEach((e=>{var n;!(null===(n=null==t?void 0:t.name)||void 0===n?void 0:n.startsWith(e))&&e.includes(P.a)&&r({action:"panelclosed",analyticsId:e,url:document.URL,applicationId:E.a.telemetryAppId,course:l()})}))}));document.addEventListener("click",(e=>{var t,n;if(Object(w.f)(e.target))return;const i=o.element(e.target),s=i.closest("a"),a="_blank"===s.attr("target"),d=Object(w.e)(i);let u,m;d||(u=Object(w.b)(i)||Object(w.d)(i.parent())),!u&&a&&(u=i.attr("analytics-id")||"external-link"),u&&(d||(m=c(Object(w.a)(i))),a&&(m=null!=m?m:{},m.value=null!==(t=m.value)&&void 0!==t?t:s.attr("href"),m.valueType=null!==(n=m.valueType)&&void 0!==n?n:"link"),r({action:"click",analyticsId:u,url:document.URL,context:m,applicationId:E.a.telemetryAppId,course:l()}))}),!0)}]);var N=n("/KQw"),B=n("lmMM"),M=n("0JpG");const R="ultra.components.directives.dir";class F{constructor(e){this.bbLocalize=e,this.restrict="A",this.link=(e,t,n)=>{e.$watch("locale",(()=>{n.attr=n.attr||"dir",n.rtl=n.rtl||"rtl",n.ltr=n.ltr||"ltr",this.bbLocalize.isRTL(e)?t.attr(n.attr,n.rtl):t.attr(n.attr,n.ltr)}))}}}F.$inject=[M.serviceName],o.module(R,[]).directive("bbDir",["$injector",e=>e.instantiate(F)]);var V=n("Xq/A"),_=n("07uq"),U=n("Us01"),H=n("t3AZ"),z=n("J0Qq");const q="ultra.directives.bbTime";class W{constructor(e,t){this.$parse=e,this.bbLocalize=t,this.restrict="AE"}compile(e){const t=e.html();return(e,n,i)=>{const s=t=>{const s=this.bbLocalize.getFormatEnum(M.ILocaleTimeFormat,i.format)||M.ILocaleTimeFormat.Short;if("true"===i.epoch){const e=new Date(0);e.setUTCSeconds(t),t=e}const a=e=>{"bb-time"===n.prop("tagName").toLowerCase()?n.replaceWith(e):n.html(e)};null==t?a(""):this.bbLocalize.formatTime(t,s,e).then(a)};let a;"true"===i.autoUpdate?i.$observe("bbTime",(()=>{a=new Date(this.$parse(i.bbTime)(e)),s(a)})):(a=this.$parse(t)(e)||new Date(this.$parse(i.bbTime)(e)),s(a))}}}W.$inject=["$parse",M.serviceName];o.module(q,[M.moduleName]).directive("bbTime",["$injector",e=>e.instantiate(W)]);var K=n("UioO");const J="ultra.directives.bbNumber";class Q{constructor(e,t){this.$parse=e,this.bbLocalize=t,this.restrict="AE"}compile(e){const t=e.html();return(e,n,i)=>{const s=this.$parse(t)(e);this.bbLocalize.formatNumber(s,e).then((e=>{"bb-number"===n.prop("tagName").toLowerCase()?n.replaceWith(e):n.html(e)}))}}}Q.$inject=["$parse",M.serviceName];o.module(J,[M.moduleName]).directive("bbNumber",["$injector",e=>e.instantiate(Q)]);var Z=n("Oyr+"),Y=n("bd9L"),X=n("pIXs"),ee=n("43zP"),te=n("aD4H"),ne=n("AuQm");const ie="ultra.directives.saveForm";class se{constructor(e,t){this.scope=e,this.$q=t,this.queuedSave=!1,e.editMode?(e.$broadcast("bb-save-button",ne.d.Saved),this.autoSaveState=ee.a.Saved):this.autoSaveState=ee.a.NotSaved,e.$on(Y.c,((t,n,i)=>{switch(e.$broadcast("bb-save-button",n,i),n){case ne.d.Change:this.autoSaveState=ee.a.NotSaved;break;case ne.d.Saving:this.autoSaveState=ee.a.Saving;break;case ne.d.Saved:this.autoSaveState=ee.a.Saved;case ne.d.SaveFailure:case ne.d.ValidationFailure:}}))}validate(){return this.scope.validate()&&this.scope.baseForm&&this.scope.baseForm.$valid}save(){if(this.validate()){if(this.savePromise)this.queuedSave||(this.queuedSave=!0,this.savePromise=this.savePromise.finally((()=>(this.savePromise=null,this.queuedSave=!1,this.save()))));else{this.autoSaveState=ee.a.Saving;const e=this.scope.save();this.savePromise=e.then((e=>(this.autoSaveState=ee.a.Saved,e)))}return this.savePromise}}saveClicked(){if(this.autoSaveState===ee.a.NotSaved)return this.save().then((()=>{this.scope.$emit("autosave-button-click",{target:"save"}),this.scope.showAlertMessage&&this.scope.showAlertMessage()}));this.scope.$emit("autosave-button-click",{target:"save"})}cancelClicked(){if(this.scope.cancel){const e=this.scope.cancel();e?e.then((()=>{this.scope.$emit("autosave-button-click",{target:"cancel"})})):this.scope.$emit("autosave-button-click",{target:"cancel"})}}deleteClicked(){if(this.scope.delete){const e=this.scope.delete();e?e.then((()=>{this.scope.$emit("autosave-button-click",{target:"delete"})})):this.scope.$emit("autosave-button-click",{target:"delete"})}}mouseDown(){this.scope.$emit("bb-autosave-interrupt-timer"),this.scope.$emit("autosave-button-click",{target:"mouseDown"})}}class ae{constructor(e){this.$q=e,this.transclude=!0,this.restrict="E",this.scope={save:"&",cancel:"&?",validate:"&",delete:"&?",canDelete:"=",deleteConfirmationResourceType:"@?",choices:"=?",editMode:"=",hideFooter:"=",baseForm:"=?",delayAutosave:"&?",displayDeleteAfterSaving:"&?",debounceSaveDestination:"&?",showAlertMessage:"&?",analyticsIdTagPrefix:"@"},this.link=(e,t)=>{e.saveForm=new se(e,this.$q)},this.template=te}}ae.$inject=["$q"],o.module(ie,[Y.g,X.a]).directive("bbSaveForm",["$injector",e=>e.instantiate(ae)]);var oe=n("gZo5");const re="ultra.services.security",le="xsrf",ce="X-Blackboard-XSRF",de="xsrf-token-changed";class ue{constructor(e,t){this.$rootScope=e,this.crossWindowMessaging=t,this.xsrfCallbacks=new Set,e.$on(de,((e,t)=>this.updateToken(t))),e.$on("$destroy",(()=>{this.xsrfCallbacks.clear()}))}registerXsrfCallback(e){this.xsrfCallbacks.add(e),this.token&&this.invokeXsrfCallback(e)}unregisterXsrfCallback(e){return this.xsrfCallbacks.delete(e)}getToken(){return this.token}updateToken(e){return this.token===e||(this.token=e,this.xsrfCallbacks.forEach((e=>this.invokeXsrfCallback(e))),this.crossWindowMessaging.postMessage(de,this.token)),this.token}invokeXsrfCallback(e){try{e(this.token)}catch(e){}}}ue.$inject=["$rootScope",oe.b];o.module(re,[oe.a]).service(le,ue);var me=n("Fvsw"),pe=n("fYJU"),he=n("Si89"),ge=n("t6zR"),be=n("QaOk"),fe=n("Y88D"),ve=n("FR7u"),ye=n("+g6d"),ke=n("RDfZ"),xe=n("V17J"),Se=n("tcaZ"),Ce=n("V6ed"),Ee=n("P2dS"),Ie=n("g66W"),we=n("w9Zy"),Ae=n("SBFF");const Oe="ultra.components.directives.bbGuidance",De=/[_-]/g;Object(y.g)({name:y.a,priority:y.b});class Te{constructor(e,t,n,i){this.ultraState=e,this.offCanvas=t,this.timeout=n,this.$document=i,this.require="^bbFirstTimeContainer",this.replace=!0,this.restrict="E",this.scope={componentKey:"@",pageContainerSelector:"@?",alwaysShow:"@",displayPriority:"&?",broadcastGuidanceHideEvent:"@?",onGuidanceEnabledEvent:"@?",disableHideInPanelState:"@?",forceShowInPanelState:"@?"},this.transclude={title:"?bbGuidanceTitle"},this.template=Ae,this.link=(e,t,n,i)=>{if(!e.componentKey)throw new Error("'component-key' attribute required in bb-guidance");e.componentKey=Ie.a(e.componentKey,De);const s=t.closest(".bb-offcanvas-panel").attr("data-base-state-name"),o=!!e.onGuidanceEnabledEvent,r=new y.d(t.get(0),y.a,e.componentKey,i.manager,i.firstTimeHelper,y.e,e.displayPriority&&e.displayPriority(),o);r.setShouldShow((()=>{const n=a(t).parent().is(":visible"),o=!!e.pageContainerSelector&&a(e.pageContainerSelector).is(":visible");return n||o?i.firstTimeHelper.shouldShow(r.componentKey,s,e.$eval(e.alwaysShow)):Promise.resolve(!1)})),e.isShown=r.shown,r.onShownChanged((t=>{e.$applyAsync((()=>{e.isShown=t}))})),r.registerToManager();const l=t=>{a(t.target).parents().addBack();const n=!!e.disableHideInPanelState&&this.ultraState.includes(e.disableHideInPanelState);!e.isShown||this.ultraState.transition||n||(r.hide(),this.$document[0].removeEventListener("click",l,!0),e.broadcastGuidanceHideEvent&&e.$root.$broadcast(e.broadcastGuidanceHideEvent))},c=()=>{r.showComponent(),this.$document[0].addEventListener("click",l,!0)};let d;d=null,e.onGuidanceEnabledEvent?(d=e.$root.$on(e.onGuidanceEnabledEvent,(()=>{c()})),d=e.$root.$on("show-guidance-component",(()=>{this.timeout((()=>{c()}),e,600)})),i.firstTimeHelper.shouldShow("predict.wizard").then((t=>{const n=!!e.forceShowInPanelState&&this.ultraState.includes(e.forceShowInPanelState);t&&!n||c()}))):this.$document[0].addEventListener("click",l,!0),e.$on("$destroy",(()=>{r.deregisterFromManager(),this.$document[0].removeEventListener("click",l,!0),d&&d()}))},this.ultraState=e}}Te.$inject=[P.d,we.e,k.b,"$document"],o.module(Oe,[P.b,Se.a]).directive("bbGuidance",["$injector",e=>e.instantiate(Te)]);const Pe="ultra.components.directives.guidanceTarget";class $e{constructor(e,t,n){this.element=e,this.componentKey=t,this.containerController=n,this.manager=n.manager}get multiTargetSupport(){return this.containerController.firstTimeHelper.hasMultiTargetSupport(this.componentKey)}registerToManager(){this.manager&&(this.hideImpl(),this.manager.registerTarget(this))}deregisterToManager(){this.manager&&this.manager.deregisterTarget(this)}onShown(){this.showImpl()}onHidden(){this.hideImpl()}showImpl(){this.element.addClass("is-guided")}hideImpl(){this.element.removeClass("is-guided")}}class Ge{constructor(){this.require="^bbFirstTimeContainer",this.restrict="A",this.link=(e,t,n,i)=>{if("false"!==n.showGuidanceTarget){let s=n.componentKey;const a=n.componentKeyList,o=[],r=(e,n)=>{const i=new $e(t,e,n);i.registerToManager(),o.push(i)};if(!s&&!a)throw new Error("'component-key' or 'component-key-list' attribute required in bb-guidance-target");if(a){const t=e.$watch(a,(e=>{e&&e.length>0&&(e.forEach((e=>{e=Ie.a(e,De),r(e,i)})),t())}))}if(s&&(s=Ie.a(s,De),r(s,i)),"true"!==n.keepGuidanceWhenFocusout){const n=()=>{e.$root.$broadcast("hide-ftue-component",s)};t.on("focusout",n),t.on("keypress",n),e.$on("$destroy",(()=>{t.off("focusout",n),t.off("keypress",n)}))}e.$on("$destroy",(()=>{o.forEach((e=>e.deregisterToManager()))}))}}}}o.module(Pe,[Se.a]).directive("bbGuidanceTarget",["$injector",e=>e.instantiate(Ge)]);var je=n("XseH"),Le=n("iVgd"),Ne=n("/qpZ");const Be="ultra.components.directives.keyHideFtue";class Me{constructor(){this.restrict="A",this.link=(e,t,n)=>{const i=n.bbKeyHideFtue;if(!i)throw new Error("'bb-key-hide-ftue' attribute should have value");const s=()=>{e.$root.$broadcast("hide-ftue-component",i)};t.on("focusout",s),t.on("keypress",s),e.$on("$destroy",(()=>{t.off("focusout",s),t.off("keypress",s)}))}}}o.module(Be,[]).directive("bbKeyHideFtue",["$injector",e=>e.instantiate(Me)]);var Re=n("cMqb"),Fe=n("+4Px");const Ve="ultra.directives.accessibility.focusNext";class _e{constructor(){this.restrict="A",this.link=(e,t,n)=>{const i="true"===n.bbFocusNextOneTimeOnly;!function(e,t,n){e.on("keydown.focusNext",(i=>{if(i.keyCode===Fe.u&&!i.shiftKey&&t){const s=o.element(t);s.length>=1&&-1!==parseInt(s.attr("tabindex"),10)&&(s.first().focus(),i.preventDefault(),n&&e.off("keydown.focusNext"))}}))}(t,n.bbFocusNext,i)}}}o.module(Ve,[]).directive("bbFocusNext",["$injector",e=>e.instantiate(_e)]);const Ue="ultra.directives.accessibility.focusPrev";class He{constructor(){this.restrict="A",this.link=(e,t,n)=>{const i="true"===n.bbFocusPrevOneTimeOnly;!function(e,t,n){e.on("keydown.focusPrev",(i=>{if(i.keyCode===Fe.u&&i.shiftKey&&t){const s=o.element(t);s.length>=1&&-1!==s.prop("tabindex")&&(s.first().focus(),i.preventDefault(),n&&e.off("keydown.focusPrev"))}}))}(t,n.bbFocusPrev,i)}}}o.module(Ue,[]).directive("bbFocusPrev",["$injector",e=>e.instantiate(He)]);var ze=n("i8dz"),qe=n("K3JI"),We=n("GbAM"),Ke=n("vhkR"),Je=n("OvxF"),Qe=n("TB6y"),Ze=n("ZMjE");const Ye="ultra.directives.contentImportStatusBar";class Xe{constructor(e,t,n,i,s,a,r,l,c){this.$scope=e,this.$rootScope=t,this.element=n,this.$q=i,this.CourseModel=s,this.ultraState=a,this.context=r,this.bbLocalize=l,this.contextCourse=c,this.identifyCourse().then((t=>{this.course=t,this.baseState=a.current.name,n.detach().appendTo(o.element(".side-panel-content")),e.$on("$destroy",(()=>{o.element(".side-panel-content > "+n.get(0).tagName).length>0&&o.element(".side-panel-content > "+n.get(0).tagName).remove()})),e.$watch("taskId",(()=>{e.taskId&&this.getItemsCount().then((e=>{this.notCarriedForwardItemsCount=e}))}))}))}identifyCourse(){return this.courseId=this.$scope.courseId?this.$scope.courseId:this.contextCourse.courseId,this.$scope.$parent.course?this.$scope.$parent.course.model.$asPromise():this.CourseModel.$find(this.courseId).$asPromise()}confirm(){const e="courseImport"+this.course.id.replace(/\_/g,".");this.context.setPreference(e,"false").then((()=>{this.$scope.display=!1}))}undo(){const e="courseImport"+this.course.id.replace(/\_/g,".");this.context.setPreference(e,"true").then((()=>{this.$scope.display=!1}))}goToImportReport(){this.ultraState.goPeekState("content-manage.import-report",{id:this.$scope.taskId})}hideStatusBar(){return-1!==this.ultraState.current.name.indexOf(this.baseState)&&this.ultraState.current.name.length>this.baseState.length}getItemsCount(){return this.course.getImportCopyTaskStatus(this.$scope.taskId).then((e=>{const t=e.$response.data.conversionReportTORest;if(t){return t.filter((e=>A.l.ConversionReportStatus.Success!==e.ultraConversionStatus)).length}return 0}))}}Xe.$inject=["scope","$rootScope","element","$q",A.m.serviceName,P.d,me.b,M.serviceName,I.e];class et{constructor(e){this.$injector=e,this.restrict="E",this.template=Ze,this.scope={display:"=",taskId:"=",courseId:"@?"},this.link=(e,t)=>{e.contentImportStatusBarController=this.$injector.instantiate(Xe,{scope:e,element:t})}}}et.$inject=["$injector"],o.module(Ye,[me.a,M.moduleName,A.N,P.b]).directive("bbContentImportStatusBar",["$injector",e=>e.instantiate(et)]);var tt=n("yA26"),nt=n("SGFZ");const it="ultra.directives.preventClick";class st{constructor(e,t){this.$parse=e,this.$rootScope=t,this.priority=101,this.restrict="A",this.compile=(e,t)=>{const n=this.$parse(t.bbPreventClickIf);return{pre:(e,t)=>{t.on("click",(t=>{function i(){if(n(e,{$event:t}))return t.stopImmediatePropagation(),t.preventDefault(),!1}this.$rootScope.$$phase?e.$evalAsync(i):e.$apply(i)}))}}}}}st.$inject=["$parse","$rootScope"],o.module(it,[]).directive("bbPreventClickIf",["$injector",e=>e.instantiate(st)]);var at=n("yC9S"),ot=n("bd3f");const rt="ultra.components.directives.accessibility.readInfo";class lt{constructor(e,t,n,i){this.scope=e,this.element=t,this.attrs=n,this.timeout=i,this.message="",this.alertMessage="",at.b.OnRootScope(e,"read-info-directive",((t,n)=>{this.message=n,i((()=>{this.message=""}),e,1e3)})),at.b.OnRootScope(e,"read-info-directive-alert",((t,n,s)=>{void 0!==s?(this.alertMessage="",i((()=>{this.alertMessage=n}),e,s)):(this.alertMessage=n,i((()=>{this.alertMessage=""}),e,1e3))}))}}lt.$inject=["scope","element","attrs",k.b];class ct{constructor(e,t){this.$injector=e,this.$compile=t,this.restrict="A",this.link=(e,t,n)=>{t.append(this.$compile(ot)(e)),e.readInfo=this.$injector.instantiate(lt,{scope:e,element:t,attrs:n})}}}ct.$inject=["$injector","$compile"],o.module(rt,[k.a]).directive("bbReadInfo",["$injector",e=>e.instantiate(ct)]);var dt=n("7/0s");const ut="ultra.components.directives.accessibility.skipLink";class mt{constructor(){this.restrict="E",this.scope={bbSkipLinkTarget:"@",bbSkipLinkFocusNext:"@?"},this.template=dt,this.link=(e,t,n)=>{t.find(".skip-link").on("click",(()=>{let e=t.closest(".bb-offcanvas-panel");e.length||(e=t.closest("#site-wrap"));const i=e.find(n.bbSkipLinkTarget).first();i.focus(),i.is(document.activeElement)||null!=i.attr("tabindex")||(i.attr("tabindex","-1"),i.focus())}))}}}o.module(ut,[]).directive("bbSkipLink",["$injector",e=>e.instantiate(mt)]);var pt=n("TAnh"),ht=n("YOs/"),gt=n("Dwp2"),bt=n("fGgA"),ft=n("4HBD"),vt=n("3vti"),yt=n("cFWd"),kt=n("HDxW"),xt=n("zXZW"),St=n("k9iv"),Ct=n("nsX6"),Et=n("OcoR"),It=n("td+C"),wt=n("v6Sp"),At=n("oPIA"),Ot=n("e6jQ");var Dt=new class{constructor(e,t){this.integrationService=e,this.portalManager=t,this.sendNewPortal=e=>{this.integrationService.sendEventMessage({type:At.j,eventType:At.hb.PortalNew,portalId:e.portalId,selector:e.selector,selectorData:e.selectorData},e.owningIntegrationId)},this.sendRemovedPortal=e=>{this.integrationService.sendEventMessage({type:At.j,eventType:At.hb.PortalRemove,portalId:e.portalId,selector:e.selector,selectorData:e.selectorData},e.owningIntegrationId)},this.sendCallbackPortal=e=>{this.integrationService.sendMessage({type:At.g.PortalCallback,callbackId:e.callbackId,portalId:e.portalId,event:e.event},e.owningIntegrationId)},this.sendRenderFailure=e=>{e.requestingIntegrationId?this.integrationService.sendMessage({type:At.H,portalId:e.portalId,status:At.r.Failure,error:e.error,errorMessage:e.errorMessage},e.requestingIntegrationId):console.warn("Unable to send error to targetless portal")},this.onPortalEvent=(e,t)=>{switch(e){case At.gb.NewPortal:this.sendNewPortal(t);break;case At.gb.RemovedPortal:this.sendRemovedPortal(t);break;case At.gb.CallbackPortal:this.sendCallbackPortal(t);break;case At.gb.FailedValidationPortal:this.sendRenderFailure(t)}},this.updatePortal=(e,t)=>{if(!e)return;const{portalId:n,contents:i}=e;this.portalManager.updatePortal({portalId:n,contents:i,requestingIntegrationId:t.id},(()=>{const e=this.portalManager.getPortalData(n).getOwningIntegrationId();if(e&&e!==t.id)return{portalId:n,error:At.M.Authorization,errorMessage:`Portal ${n} is already owned by ${e} -- not allowing render from ${t.id}`,requestingIntegrationId:t.id}}))&&(this.portalManager.setPortalOwnership(n,t.id),this.sendRenderSuccess(t.id,n))},this.sendRenderSuccess=(e,t)=>{this.integrationService.sendMessage({type:At.H,portalId:t,status:At.r.Success},e)}}init(){this.integrationContainer=document.querySelector(".integration-react-container"),this.portalManager.addPortalListener(this.onPortalEvent),this.integrationService.addIntegrationMessageType(At.I,this.updatePortal)}generateUniqueDomElement(){const e=Ot.b(),t=document.createElement("div");return t.id=e,this.integrationContainer.appendChild(t),t}getIntegrationContainer(){return this.integrationContainer}}(It.a,wt.e),Tt=n("ERkP"),Pt=n("7nmT"),$t=n("MC1S"),Gt=n("wWlP"),jt=n("caKH");const Lt=e=>{const{integrationId:t,contents:n,portalId:i}=e;return Tt.createElement(wt.d,{portalType:Bt,initialOwningIntegrationId:t,initialContents:n,portalId:i})};var Nt=n("Uhei");const Bt="modal",Mt={[At.Z.Small]:$t.DialogType.small,[At.Z.Large]:$t.DialogType.large,[At.Z.Medium]:$t.DialogType.normal};var Rt=new class{constructor(e,t,n,i){this.integrationService=e,this.integrationPortalService=t,this.componentManager=n,this.portalManager=i,this.modalWhitelist=new Map,this.isValidModalElement=(e,t)=>{if(!At.Q.has(e.props.width))return console.warn(`Invalid prop \`width\` of value ${e.props.width} supplied to ${e.tag}, expected one of [${Object.values(At.P)}].`),!1;if(!e.children)return console.warn(`Children are needed for ${At.t.Modal}, but no value for \`children\` was given.`),!1;if("string"==typeof e.children)return console.warn("Incorrect children value: expected `Array` but received `string`."),!1;const n=[At.t.ModalHeader,At.t.ModalBody,At.t.ModalFooter];if(e.children.length!==n.length)return console.warn(`Incorrect number of children elements: expected ${n.length}, but received ${e.children.length}.`),!1;for(let i=0;i<n.length;i++){const s=e.children[i];if(s.tag!==n[i])return console.warn(`Incorrect order of children: position ${i} expected ${n[i]}, but received ${s.tag}.`),!1;if(!this.componentManager.isValidComponent({componentContext:Bt,componentName:n[i],contents:s,integrationId:t}))return!1}return!0},this.onPortalModal=(e,t)=>{if(!this.isValidRequestParameters(e,t))return;const n=Gt.a.length()>0,i=jt.b.getInstance().isModalDisplaying();if(this.componentManager.overMaxComponents(Bt)||i||n)return console.error("A modal is already open; not opening another one."),void this.sendModalMessage(t,null,e.modalId,At.r.Failure,At.u.ModalAlreadyOpenError,"A modal is already open; not opening another one.");if(!this.portalManager.validateContents({portalType:Bt,contents:e.contents,integrationId:t.id}).passed)return void this.sendModalMessage(t,null,e.modalId,At.r.Failure,At.u.FailedComponentValidationError,`Component validation failed; not rendering ${At.t.Modal}.`);this.modalId=e.modalId,this.owningIntegration=t;const s=Ot.b();this.currentModal=this.integrationPortalService.generateUniqueDomElement();const a={owningIntegrationId:t.id,portalId:s,element:this.currentModal};return this.render(a,e.contents).then((()=>{this.sendModalMessage(t,a.portalId,this.modalId,At.r.Success)}))},this.isValidRequestParameters=(e,t)=>e.type&&e.type===At.O.ModalNew?e.modalId?!!e.contents||(console.warn("Not a valid new modal request, `contents` were not provided."),this.sendModalMessage(t,null,e.modalId,At.r.Failure,At.u.MissingContentsError,"Not a valid new modal request, `contents` were not provided."),!1):(console.warn("Not a valid new modal request, `modalId` must be a unique non-empty value."),this.sendModalMessage(t,null,e.modalId,At.r.Failure,At.u.InvalidIdError,"Not a valid new modal request, `modalId` must be a unique non-empty value."),!1):(console.warn(`Not a valid new modal request, \`type\` must be ${At.O.ModalNew}.`),this.sendModalMessage(t,null,e.modalId,At.r.Failure,At.u.InvalidRequestTypeError,`Not a valid new modal request, \`type\` must be ${At.O.ModalNew}.`),!1),this.render=(e,t)=>new Promise((n=>{Pt.render(Tt.createElement(Nt.a,{babelfishInstance:this.bbLocalize.intl,babelfishFormatInstance:this.bbLocalize.frmt,locale:this.bbLocalize.getLocale(null),isRtl:this.bbLocalize.isRTL()},Tt.createElement(Lt,{integrationId:e.owningIntegrationId,portalId:e.portalId,contents:t})),e.element,(()=>{n()}))})),this.onPortalModalClose=(e,t)=>this.owningIntegration&&this.owningIntegration.id!==t.id?(console.warn(`The integration ${t.id} does not own the modal of ${e.modalId}; not closing modal`),void this.sendModalCloseResponseMessage(t,e.modalId,At.r.Failure,At.u.WrongOwnerError,`The integration ${t.id} does not own the modal of ${e.modalId}; not closing modal`)):this.modalId!==e.modalId?(console.warn(`No modal has an id of ${e.modalId}`),void this.sendModalCloseResponseMessage(t,e.modalId,At.r.Failure,At.u.ModalNotFoundError,`No modal has an id of ${e.modalId}`)):void this.closePortalModal(e.modalId,t),this.closePortalModal=(e,t)=>{this.currentModal&&(Pt.unmountComponentAtNode(this.currentModal),this.sendModalCloseResponseMessage(t||this.owningIntegration,e||this.modalId,At.r.Success))},this.sendModalMessage=(e,t,n,i,s,a)=>{this.integrationService.sendMessage({type:At.O.ModalResponse,status:i,portalId:t,modalId:n,...s&&{error:s},...a&&{errorMessage:a}},e)},this.sendModalCloseResponseMessage=(e,t,n,i,s)=>{this.integrationService.sendMessage({type:At.O.ModalCloseResponse,status:n,modalId:t,...i&&{error:i},...s&&{errorMessage:s}},e)}}init(e){this.bbLocalize=e,this.integrationService.addIntegrationMessageType(At.O.ModalNew,this.onPortalModal),this.integrationService.addIntegrationMessageType(At.O.ModalClose,this.onPortalModalClose),this.initializeWhitelist()}initializeWhitelist(){this.modalWhitelist.set(At.t.Modal,{props:{width:!0},isValid:(e,t)=>this.isValidModalElement(e,t),render:(e,t,n)=>{const{width:i,...s}=t,a=Mt[i];return Tt.createElement(jt.c,{...s,dialogContentProps:{type:a},hidden:!1,onDismiss:()=>this.closePortalModal()},n)}}),this.modalWhitelist.set(At.t.ModalHeader,{props:{title:!1},isValid:e=>(e.props&&e.props.title&&"string"!=typeof e.props.title&&console.warn(`Invalid prop \`title\` value: expected \`string\` but received \`${typeof e.props.title}\`, defaulting to no title.`),!0),render:(e,t,n)=>Tt.createElement($t.DialogHeader,{...t,analyticsId:"integration.modal.header",showCloseButton:!0,onDismiss:()=>this.closePortalModal(),closeButtonAriaLabel:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(null),key:"global.close"})},n)}),this.modalWhitelist.set(At.t.ModalBody,{isValid:e=>!0,render:(e,t,n)=>Tt.createElement("div",{key:t.key},n)}),this.modalWhitelist.set(At.t.ModalFooter,{isValid:e=>!0,render:(e,t,n)=>Tt.createElement($t.DialogFooter,{...t},n)}),this.componentManager.addComponentType(Bt,1,this.modalWhitelist)}}(It.a,Dt,wt.b,wt.e),Ft=n("q/wk"),Vt=n("N7x3"),_t=n("x9Ok");const Ut=e=>{const{component:t,contents:n}=e,[i,s]=Tt.useState(t.shown);return Tt.useEffect((()=>(s(t.shown),t.addListener(s),()=>{t.removeListener(s)})),[t]),i&&Tt.createElement(wt.d,{portalType:an,initialOwningIntegrationId:t.integrationId,initialContents:n,portalId:t.portalId})};var Ht=n("nsO7"),zt=n("uFyr"),qt=n("jGf1"),Wt=n("xkx/"),Kt=n("kNOQ");const Jt={[At.Z.Small]:250,[At.Z.Medium]:300,[At.Z.Large]:500},Qt={[At.A.Light]:Wt.DefaultPalette.white,[At.A.Dark]:Wt.DefaultPalette.neutralDark},Zt={[At.S.BottomLeft]:qt.ScreenPosition.bottomLeft,[At.S.BottomRight]:qt.ScreenPosition.bottomRight,[At.S.TopLeft]:qt.ScreenPosition.topLeft,[At.S.TopRight]:qt.ScreenPosition.topRight},Yt=(e,t)=>{const n=Jt[At.Z.Medium];return!e.isSmallBreakpoint()||Jt[t]<=n?Jt[t]:(console.warn("Requested prop `size` is greater than current breakpoint size: reducing `size` to medium breakpoint."),n)},Xt=e=>{if(e.isSmallBreakpoint())return $t.DirectionalHint.bottomCenter},en=(e,t)=>{if(e.isSmallBreakpoint())return Object(qt.getScreenPositionPoint)(qt.ScreenPosition.bottomCenter);if(t.selector.type===At.U.Region){const e=Zt[t.selector.value];return Object(qt.getScreenPositionPoint)(e)}return t.targetElementFinder()},tn=e=>e.isLargeBreakpoint()?At.y.Large:e.isMediumBreakpoint()?At.y.Medium:At.y.Small,nn=Object(zt.windowResizingResponsiveComponentWrapper)((e=>{const{children:t,hideBeak:n,key:i,notificationData:s,onDismiss:a,size:o,theme:r,UltraWindowSize:l}=e,c=en(l,s),d=s.targetElementFinder(),[u,m]=Tt.useState((()=>{var e,t;return"callout-"+s.selector.type===At.U.Region?"regional":null===(t=null===(e=null==d?void 0:d.getBoundingClientRect())||void 0===e?void 0:e.top)||void 0===t?void 0:t.toString()})),p=tn(l),h=Yt(l,o),g=Qt[r],b=Xt(l),f=Object(Kt.b)((()=>{var e;d&&Object(ne.gb)(d)?m("target"+(null===(e=d.getBoundingClientRect())||void 0===e?void 0:e.top)):a()}));return Tt.useEffect((()=>{const e=Ht.debounce((()=>f()),100);if(s.selector.type!==At.U.Region)return document.body.addEventListener("scroll",e,!0),()=>{document.body.removeEventListener("scroll",e),e.cancel()}}),[s.selector.type,f]),Tt.createElement($t.Callout,{key:i,target:c,onDismiss:a,calloutWidth:h,setInitialFocus:!0,isBeakVisible:!n,directionalHint:b,className:`integration-notification-${r}`,backgroundColor:g,minPagePadding:p,allowDismissOnFocusTarget:!0,preventDismissOnScroll:!0,calloutId:u},Tt.createElement("div",{tabIndex:0},t))}));class sn{constructor(e,t){this.notificationData=e,this.guidanceManager=t,this.componentType="IntegrationNotification",this.priority=2*y.c,this.isInitialHide=!1,this._shown=!1,this.listeners=[],this.shouldShow=()=>new Promise(((e,t)=>{e(!!this.notificationData.targetElementFinder())})),this.addListener=e=>{this.listeners.push(e)},this.removeListener=e=>{const t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)},this.onShown=()=>{this.setShown(!0)},this.onHidden=e=>{this.setShown(!1)},this.dispose=()=>{this.listeners=[],this.guidanceManager.deregisterComponent(this)},this.componentKey=`integration.notification.${e.portalId}`,this.notificationId=e.notificationId,this.portalId=e.portalId,this.integrationId=e.owningIntegrationId,this.data=e,this.guidanceManager.registerComponent(this),this.guidanceManager.startQueue()}get shown(){return this._shown}setShown(e){this.shown!==e&&(this._shown=e,this.listeners.forEach((t=>t(e))))}}const an="notification";var on=new class{constructor(e,t,n,i,s){this.integrationService=e,this.integrationPortalService=t,this.componentManager=n,this.ftueManager=i,this.portalManager=s,this.notificationWhitelist=new Map,this.isValidNotificationElement=e=>At.ab.has(e.props.size)?(e.props.theme&&!At.B.has(e.props.theme)&&console.warn(`Invalid prop \`theme\` of value ${e.props.theme} supplied to ${e.tag}, expected one of [${Object.values(At.A)}];\n        defaulting to ${At.A.Light} theme.`),e.props.hideBeak&&"boolean"!=typeof e.props.hideBeak&&console.warn(`Invalid prop \`hideBeak\` value: expected a \`boolean\` but received \`${typeof e.props.hideBeak}\`; defaulting to a visible beak.`),!0):(console.warn(`Invalid prop \`size\` of value ${e.props.size} supplied to ${e.tag}, expected one of [${Object.values(At.Z)}].`),!1),this.findElementByAnalyticsId=e=>{if(!e)return null;const t=document.querySelector(`[data-analytics-id="${e}"]`);return t||document.querySelector(`[analytics-id="${e}"]`)},this.createFTUEComponent=(e,t)=>{const n=new sn(t,this.ftueManager),i={component:n,element:t.element};return n.addListener((n=>{if(!n)return void this.sendNotificationStatus(e,t.portalId,t.notificationId,At.z.Removed);if(!t.targetElementFinder())return this.closeNotification(t.portalId),void this.sendNotificationStatus(e,t.portalId,t.notificationId,At.z.Failed);this.currentNotification=i,this.sendNotificationStatus(e,t.portalId,t.notificationId,At.z.Visible)})),this.notificationMap.set(t.portalId,i),n},this.onPortalNotification=(e,t)=>{if(!e.selector||!At.V.has(e.selector.type))return console.warn(`Invalid selector type provided ${e.selector&&e.selector.type}`),void this.sendNotificationResponseMessage(t,null,At.r.Failure,At.x.InvalidSelectorError,`Invalid selector type provided ${e.selector&&e.selector.type}`);if(e.selector.type===At.U.Region&&!At.T.has(e.selector.value))return console.warn(`Invalid selector value provided ${e.selector&&e.selector.value}`),void this.sendNotificationResponseMessage(t,null,At.r.Failure,At.x.InvalidSelectorError,`Invalid selector value provided ${e.selector&&e.selector.value}`);if(!this.portalManager.validateContents({portalType:an,contents:e.contents,integrationId:t.id}).passed)return void this.sendNotificationResponseMessage(t,null,At.r.Failure,At.x.FailedComponentValidationError,`Component validation failed; not rendering ${At.w.Notification}.`);const n=this.getTargetElementFinder(e.selector,t);if(!n)return;const i={element:this.integrationPortalService.generateUniqueDomElement(),portalId:Ot.b(),notificationId:Ot.b(),owningIntegrationId:t.id,targetElementFinder:n,selector:e.selector},s=this.createFTUEComponent(t,i);return this.render(s,i.element,e.contents).then((()=>{this.sendNotificationResponseMessage(t,i.notificationId,At.r.Success),this.sendNotificationStatus(t,i.portalId,i.notificationId,At.z.Queued)}))},this.removeNotificationFromQueue=e=>{e.dispose(),this.notificationMap.delete(e.portalId)},this.clearPortalNotification=()=>{this.notificationMap.forEach((e=>{const t=this.findNotification(e.component.notificationId);this.currentNotification&&this.currentNotification.component.notificationId===t.notificationId?this.closeNotification(t.portalId):this.removeNotificationFromQueue(t)}))},this.onPortalNotificationClose=(e,t)=>{const n=this.findNotification(e.notificationId);return n?n.integrationId!==t.id?(console.warn(`${t.id} does not have ownership of the current notification`),void this.sendCloseNotificationResponse(t,e.notificationId,At.r.Failure,At.x.NoOwnershipError,`${t.id} does not have ownership of the current notification--not closing notification`)):(this.currentNotification&&this.currentNotification.component.notificationId===e.notificationId?this.closeNotification():(this.removeNotificationFromQueue(n),this.sendNotificationStatus(t,n.portalId,n.notificationId,At.z.Removed)),void this.sendCloseNotificationResponse(t,e.notificationId,At.r.Success)):(console.warn("Notification not found"),void this.sendCloseNotificationResponse(t,e.notificationId,At.r.Failure,At.x.NotificationNotFoundError,"Notification not found"))},this.render=(e,t,n)=>new Promise((i=>{Pt.render(Tt.createElement(Nt.a,{babelfishInstance:this.bbLocalize.intl,babelfishFormatInstance:this.bbLocalize.frmt,locale:this.bbLocalize.getLocale(null),isRtl:this.bbLocalize.isRTL()},Tt.createElement(Ut,{component:e,contents:n})),t,(()=>{i()}))})),this.sendCloseNotificationResponse=(e,t,n,i,s)=>{this.integrationService.sendMessage({type:At.R.NotificationCloseResponse,notificationId:t,status:n,...i&&{error:i},...s&&{errorMessage:s}},e)},this.sendNotificationResponseMessage=(e,t,n,i,s)=>{this.integrationService.sendMessage({type:At.R.NotificationResponse,status:n,notificationId:t,...i&&{error:i},...s&&{errorMessage:s}},e)},this.sendNotificationStatus=(e,t,n,i)=>{this.integrationService.sendMessage({type:At.R.NotificationStatus,status:i,notificationId:n,portalId:t},e)},this.closeNotification=e=>{if(!this.currentNotification&&!e)return;let t=this.currentNotification;e&&(t=this.notificationMap.get(e)),t&&(Pt.unmountComponentAtNode(t.element),setTimeout((()=>{this.removeNotificationFromQueue(t.component),this.currentNotification=void 0}),500))},this.notificationMap=new Map}init(e){this.bbLocalize=e,this.integrationService.addIntegrationMessageType(At.R.NotificationNew,this.onPortalNotification),this.integrationService.addIntegrationMessageType(At.R.NotificationClose,this.onPortalNotificationClose),this.notificationWhitelist.set(At.w.Notification,{props:{size:!0,theme:!1,hideBeak:!1,directionalHint:!1},isValid:e=>this.isValidNotificationElement(e),render:(e,t,n)=>{const{key:i,size:s,theme:a=At.A.Light,hideBeak:o}=t,r=this.notificationMap.get(e);return Tt.createElement(nn,{size:s,hideBeak:o,key:i,notificationData:r.component.data,onDismiss:()=>{this.closeNotification(e)},theme:a},n)}}),this.componentManager.addComponentType(an,0,this.notificationWhitelist)}getTargetElementFinder(e,t){if(e.type===At.U.Region)return()=>this.integrationPortalService.getIntegrationContainer();const n=()=>this.findElementByAnalyticsId(e.value);if(n())return n;console.warn("Invalid notification target"),this.sendNotificationResponseMessage(t,null,At.r.Failure,At.x.InvalidTargetError,"Invalid notification target")}findNotification(e){const t=Array.from(this.notificationMap.values()).find((t=>t.component.notificationId===e));if(t)return t.component}}(It.a,Dt,wt.b,y.f,wt.e);var rn=n("Zwiy"),ln=n("VQ4P");const cn=e=>{const t=Object(ln.a)(),{panelType:n,panelTitle:i,panelSubtitle:s,integrationId:a,showPanel:o,portalId:r,onPanelClose:l,stackIndex:c,useCustomPadding:d,closeButtonAriaLabel:u,resolver:m}=e,p=null!=u?u:t("global.close");return Tt.createElement(rn.BbPanel,{isOpen:o,onDismiss:()=>l(r,a),type:n,stackIndex:c,analyticsId:"components.directives.integration.integrationPanel",excludeContentPadding:d,closeButtonAriaLabel:p},Tt.createElement(rn.BbPanelHeader,{title:i,smallHeaderTitle:s,navMenuAriaLabel:t("global.navigationMenu")}),Tt.createElement("div",{className:"integration-panel"},Tt.createElement("div",{className:"integration-panel-contents"},Tt.createElement(wt.d,{portalId:r,initialOwningIntegrationId:a,portalType:dn,skipCustomValidation:!0,onRegistered:m}))))},dn="panel",un=e=>{switch(e){case At.Y.Full:return $t.BbPanelType.full;case At.Y.Small:return $t.BbPanelType.peek;default:return console.warn(`Received unknown panel type ${e}`),null}};var mn=new class{constructor(e,t,n,i){this.integrationService=e,this.integrationPortalService=t,this.componentManager=n,this.portalManager=i,this.onPortalPanel=(e,t)=>{const{panelTitle:n,correlationId:i,useCustomPadding:s}=e;if(this.componentManager.overMaxComponents(dn))return console.warn("Panel is already open; not opening another one"),void this.sendPanelMessage(t,null,At.r.Failure,i);if(!n)return console.warn("Received a panel event without a panelTitle; not opening panel"),void this.sendPanelMessage(t,null,At.r.Failure,i);if(null===un(e.panelType))return void this.sendPanelMessage(t,null,At.r.Failure,i);const a=Ot.b();if(!this.updatePanelAttributes(e,a))return console.warn("Received a panel event without proper attributes or with a missing callback id."),void this.sendPanelMessage(t,null,At.r.Failure,i);const o=this.integrationPortalService.generateUniqueDomElement();return o.className="integration-panel",this.currentPanelData={element:o,panelType:e.panelType,panelTitle:e.panelTitle,panelSubtitle:e.panelSubtitle,owningIntegrationId:t.id,portalId:a,useCustomPadding:s||!1,closeButtonAriaLabel:e.closeButtonAriaLabel},this.renderPanel(this.currentPanelData,!0).then((()=>{this.sendPanelMessage(t,this.currentPanelData.portalId,At.r.Success,i)}))},this.updatePanelAttributes=(e,t)=>{const n=e.attributes;if(!n)return!0;let i={};const s=Object.keys(n).filter((e=>!n[e]||!n[e].callbackId));return s.length>0?(console.warn(`Panel attributes [${s.join(",")}] are missing callbackId parameters`),!1):(Object.keys(n).forEach((e=>{const t=n[e];i={...i,[e]:{callbackId:t.callbackId}}})),this.panelAttributesEvents.set(t,{portalId:t,subscribedAttributes:i}),!0)},this.renderPanel=(e,t)=>{const n=document.getElementsByClassName("bb-offcanvas-panel").length+1,i=un(e.panelType);return new Promise((s=>{Pt.render(Tt.createElement(Nt.a,{locale:this.bbLocalize.getLocale(null),babelfishInstance:this.bbLocalize.intl,babelfishFormatInstance:this.bbLocalize.frmt,isRtl:this.bbLocalize.isRTL()},Tt.createElement(cn,{panelType:i,panelTitle:e.panelTitle,panelSubtitle:e.panelSubtitle,integrationId:e.owningIntegrationId,showPanel:t,portalId:e.portalId,onPanelClose:this.onPanelCloseAction,stackIndex:n,useCustomPadding:e.useCustomPadding,resolver:s,closeButtonAriaLabel:e.closeButtonAriaLabel})),e.element)}))},this.onPortalPanelClose=(e,t)=>{const n=t.id,i=this.portalManager.getPortalData(e.id);if(i){if(i.getOwningIntegrationId()===n)return this.renderPanel(this.currentPanelData,!1);console.warn(`The integration ${n} does not own the portalId of ${e.id}; not closing anything`)}else console.warn(`no panel has an id of ${e.id}`)},this.onPanelCloseAction=(e,t)=>{this.renderPanel(this.currentPanelData,!1);const n=this.portalManager.getPortalData(e);if(!n)return;const i=At.W.onClose,s=this.panelAttributesEvents.get(n.portalId),a=s&&s.subscribedAttributes[i],o=this.integrationService.findIntegration(t);if(this.portalManager.removePortal({portalId:e,owningIntegrationId:t}),this.removePanel(this.currentPanelData.element),this.currentPanelData=null,a&&o){const e={type:At.g.PortalCallback,callbackId:s.subscribedAttributes[i].callbackId,portalId:n.portalId,event:i};this.integrationService.sendMessage(e,o)}},this.sendPanelMessage=(e,t,n,i)=>{this.integrationService.sendMessage({type:At.X.PanelResponse,status:n,portalId:t,correlationId:i},e)},this.panelAttributesEvents=new Map}init(e){this.bbLocalize=e,this.integrationService.addIntegrationMessageType(At.X.PanelNew,this.onPortalPanel),this.integrationService.addIntegrationMessageType(At.X.PanelClose,this.onPortalPanelClose),this.componentManager.addComponentType(dn,1)}removePanel(e){if(!e)return;setTimeout((()=>{Pt.unmountComponentAtNode(e),e.remove()}),500)}}(It.a,Dt,wt.b,wt.e),pn=n("vJBG"),hn=n("zJP2"),gn=n("4vd5"),bn=n("CY5M");const fn=e=>{const{handle:t,customParameters:n,courseId:i,style:s,isOrganization:a}=e,o=((e,t,n)=>{const[i,s]=Object(Tt.useState)("");return Object(Tt.useEffect)((()=>{const i=Object(bn.j)({bbFileData:{linkType:p.i.LtiPlacement.toString()},handle:e,courseId:n});i.customParameters=t,s(Object(bn.l)(i))}),[e,t,n]),i})(t,n,i);return Tt.useEffect((()=>{o&&It.a.sendEventMessage({type:At.j,eventType:At.hb.LtiLaunch,launchData:{courseId:i,coursesOrOrganizations:a?"organizations":"courses",isLaunchedInNewWindow:!1,toolHref:o}})}),[i,o,a]),Tt.createElement("iframe",{src:o,style:s})};var vn=new class{constructor(e){this.componentManager=e}init(e){this.componentManager.addGlobalComponent(At.k.LtiLaunch,{props:{handle:!0,customParameters:!1,courseId:!1,style:!1},isValid:e=>!e.children,render:(t,n)=>{var i,s;const a=null!==(i=n.courseId)&&void 0!==i?i:null===(s=e.getCurrentUrlParams())||void 0===s?void 0:s.courseId,o=e.current.name.includes("organization");return Tt.createElement(fn,{courseId:a,isOrganization:o,...n})}})}}(wt.b),yn=n("Agfx");const kn=Object(yn.makeStyles)({container:{maskImage:e=>`url(${e.url})`,WebkitMaskImage:e=>`url(${e.url})`,height:e=>`${e.height}`,width:e=>`${e.width}`,backgroundColor:"currentColor"}}),xn=new RegExp(`(^[\\u0000-\\u001F ]*${/d([\r\n\t])*a\1*t\1*a\1*:\1*i\1*m\1*a\1*g\1*e\1*\/\1*s\1*v\1*g\1*\+\1*x\1*m\1*l\1*;\1*/i.source})|(${/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/i.source})`,"i"),Sn=new Map([["uef--base-nav-svg","svg-icon medium-icon default integration-svg-icon"]]),Cn=new Map([["classname",e=>Object(wt.h)(e,Sn)]]),En=e=>{const{url:t,height:n,width:i,className:s,style:a}=e,o=kn({url:t,height:n,width:i});return Tt.createElement("div",{className:`${s} ${o.container}`,style:a})};var In=new class{constructor(e){this.componentManager=e,this.init=()=>{this.componentManager.addGlobalComponent(At.k.SvgIcon,{props:{url:!0,height:!0,width:!0,className:!1,style:!1},isValid:e=>this.isValidSvgUrl(e.props),render:(e,t)=>Tt.createElement(En,{...t}),transformers:Cn})},this.isValidSvgUrl=e=>e.url?e.height||e.width?!!xn.test(e.url)||(console.warn(`Unsupported URI received for ${At.k.SvgIcon}: [${e.url}] Only HTTPS and data:image/svg+xml data URIs are supported.`),!1):(console.warn(`A height and/or width is required for ${At.k.SvgIcon}, but no value for \`height\` and/or \`width\` was given.`),!1):(console.warn(`A url is required for ${At.k.SvgIcon}, but no value for \`url\` was given.`),!1)}}(wt.b),wn=n("7n5u");const An=new Map([["uef--action-menu--extension","action-menu-extension"],["uef--action-menu--labeled","action-menu-labeled"]]),On=new Map([["uef--course-details--menu-label","blue-link select-value"]]);var Dn=new class{constructor(e){this.componentManager=e}init(){const e=new Map;e.set("items",((e,t,n)=>e?e.map((e=>({...e,callback:Object(wt.g)(e.callbackId,At.N.onClick,t,n)}))):e)),this.componentManager.addGlobalComponent(At.k.ActionMenu,{props:{items:!0,label:!0,className:!0,labelClassName:!0},transformers:e,isValid:e=>!e.children,render:(e,t)=>{var n;if(!t.items)return;const i=t.items.map(((e,t)=>({key:t,name:e.name,onClick:e.callback}))),s=t.label?Tt.createElement("span",{className:Object(wt.h)(t.labelClassName,On)},t.label):null,a={items:i},o=`components.services.integration.${t.analyticsId||"unknown"}.actionMenu`;return Tt.createElement($t.ActionMenu,{ariaLabel:t.ariaLabel,menuProps:a,className:null!==(n=Object(wt.h)(t.className,An))&&void 0!==n?n:"action-menu-extension",analyticsId:o},s)}})}}(wt.b),Tn=n("l8+E");const Pn=(e,t,n,i)=>{Ft.a.init(),Dt.init(),pn.a.init(e,t),hn.a.init(t),mn.init(e),Rt.init(e),on.init(e),Vt.a.addHoverListener(),Vt.a.addClickListener(),_t.b.subscribe(((e,t)=>{const n=t;n.isLaunchedInNewWindow=!!t.isLaunchedInNewWindow,It.a.sendEventMessage({type:At.j,eventType:At.hb.Route,routeName:e,routeData:n})}),_t.a.Changed),_t.b.subscribe(((e,t)=>{e.includes("classic")&&on.clearPortalNotification();const n=t;n.isLaunchedInNewWindow=!!t.isLaunchedInNewWindow,It.a.sendEventMessage({type:At.j,eventType:At.hb.RouteChanging,routeName:e,routeData:n})}),_t.a.Changing),gn.a.init(e),vn.init(n),In.init(),Dn.init(),wn.b.init(),Tn.a.initPageAnalytics(i)};class $n{constructor(e,t){this.routeListener=e,this._started=!0,this.handleRouteChanging=()=>{this.started=!1},this.handleRouteChanged=()=>{this.started=!0},this.onStateChanged=e=>{this.startedCallback=e},t.addWatcher(this)}start(){this.routeListener.subscribe(this.handleRouteChanging,_t.a.Changing),this.routeListener.subscribe(this.handleRouteChanged,_t.a.Changed)}get started(){return this._started}set started(e){this._started=e,this.startedCallback&&this.startedCallback(e)}}var Gn=n("0+Qs"),jn=n("4HXK"),Ln=n("eUpQ"),Nn=n("WIGI"),Bn=n("6Ksg"),Mn=n("vT39"),Rn=n("WShm"),Fn=n("OmEq");const Vn="ultra.directives.validate.emailAddress";class _n{constructor(){this.require="ngModel",this.link=(e,t,n,i)=>{i.$validators.email=function(e){return Fn.b.test(e)||!e}}}}o.module(Vn,[]).directive("bbValidateEmailAddress",["$injector",e=>e.instantiate(_n)]);const Un="ultra.directives.validate.emailAddresses";class Hn{constructor(){this.require="ngModel",this.link=(e,t,n,i)=>{i.$validators.email=function(e){return!e||Fn.a.test(e)}}}}o.module(Un,[]).directive("bbValidateEmailAddresses",["$injector",e=>e.instantiate(Hn)]);const zn="ultra.directives.validate.input";class qn{constructor(){this.require="?ngModel",this.link=(e,t,n,i)=>{i&&(t.on("focusin",(()=>{i.$focused=!0,e.$root.$$phase||e.$$phase||e.$root.$digest()})),t.on("focusout",(()=>{i.$focused=!1,e.$root.$$phase||e.$$phase||e.$root.$digest()})))}}}o.module(zn,[]).directive("input",["$injector",e=>e.instantiate(qn)]).directive("textarea",["$injector",e=>e.instantiate(qn)]);const Wn="ultra.directives.validate.kvp";class Kn{constructor(){this.require="ngModel",this.restrict="A",this.link=(e,t,n,i)=>{i.$validators.kvp=this.getKVPValidator(e,t,n,i)}}getKVPValidator(e,t,n,i){return(e,t)=>{const n=t+"";if(""===n)return!0;let i=!0;return n.split("\n").forEach((e=>{if(e.trim().length>0&&i){2!==e.split("=").length&&(i=!1)}})),i}}}o.module(Wn,[]).directive("bbValidateKeyValuePair",["$injector",e=>e.instantiate(Kn)]);var Jn=n("f4B+");const Qn="ultra.directives.validate.maxlength",Zn="bbValidateMaxlength";class Yn{constructor(e){this.bbLocalize=e,this.require="ngModel",this.restrict="A",this.getMaxlengthValidator=(e,t,n,i)=>e=>{const t=a("<textarea/>").val(e).text()||e;if(null==t)return!0;const s=n.bbValidateMaxlength;if(null==s||""===s)return!0;let o=t.length;"true"===(!!n.maxlengthAfterEscape&&n.maxlengthAfterEscape)&&(o=Jn.a.HTML(t).length);let r=n.maxlengthNotice?n.maxlengthNotice:Math.floor(.9*s).toString();return r.match(/\%$/)&&(r=r.replace(/\D/,""),r=Math.floor(s*(1-r/100)).toString()),o>s?(delete i.$warning.maxlengthWarning,i.$error.maxlength={maxlength:s,diff:o-s},i.$errorImmediate.maxlengthImmediate={maxlength:s,diff:o-s},!1):o>=r?(delete i.$error.maxlength,delete i.$errorImmediate.maxlengthImmediate,i.$warning.maxlengthWarning={maxlength:s,left:s-o},!0):(delete i.$error.maxlength,delete i.$errorImmediate.maxlengthImmediate,delete i.$warning.maxlengthWarning,!0)},this.link=(e,t,n,i)=>{i.$validators.maxlengthValidator=this.getMaxlengthValidator(e,t,n,i),i.$warning||(i.$warning={}),i.$errorImmediate||(i.$errorImmediate={})}}}o.module(Qn,[M.moduleName]).directive(Zn,[M.serviceName,e=>new Yn(e)]);const Xn="ultra.directives.validate.number";class ei{constructor(e){this.bbLocalize=e,this.require="ngModel",this.restrict="A",this.selectionStart=0,this.selectionEnd=0,this.oldViewValue="",this.getNumberParser=(e,t,n,i)=>t=>{if(i.$isEmpty(t))return i.$setValidity("numberInvalid",!0),t;const s=this.regroup(e,i);let a=this.bbLocalize.parseNumberSync(s,e);if(Number.isNaN(a))return i.$setValidity("numberInvalid",!1),a;i.$setValidity("numberInvalid",!0);const o=this.bbLocalize.getDecimalStringForScope(e);let r=a.toString();const l=r.split(String(o)),c=n&&n.maxDecimal?Number(n.maxDecimal):M.Service.defaultDecimalPrecision;return l.length>1&&l[1].length>c&&(r=l[0]+o+l[1].substring(0,c),a=parseFloat(r),this.reformatFromModel(i,a)),this.updateSelection(e,i,this.target,this.key),a},this.getMinValidator=(e,t,n,i)=>e=>{const t=parseFloat(n.min),s=i.$isEmpty(e);if(!s&&Number.isNaN(Number(e)))return delete i.$error.numberSmall,!1;const a=s||e>=t;return a?delete i.$error.numberSmall:i.$error.numberSmall={min:t},a},this.getMaxValidator=(e,t,n,i)=>e=>{const t=parseFloat(n.max),s=i.$isEmpty(e);if(!s&&Number.isNaN(Number(e)))return delete i.$error.numberLarge,!1;const a=s||e<=t;return a?delete i.$error.numberLarge:i.$error.numberLarge={max:t},a},this.getNumberFormatter=(e,t,n,i)=>t=>{const s=t||i.$modelValue;if(i.$setValidity("numberInvalid",!0),s||0===s){const t=n&&n.maxDecimal?n.maxDecimal:M.Service.defaultDecimalPrecision;return this.bbLocalize.formatNumberSync(parseFloat(s),e,{maximumFractionDigits:t,useGrouping:!0})}return""},this.regroup=(e,t)=>{const n=this.bbLocalize.regroupNumberSync(t.$viewValue,e);return t.$viewValue!==n&&(t.$viewValue=n,t.$render(),t.$validate()),n},this.reformatFromModel=(e,t)=>{t=t||e.$modelValue;const n=e.$formatters;let i=n.length,s=t;for(;i--;)s=n[i](s);e.$viewValue!==s&&(e.$viewValue=s,e.$render(),e.$validate())},this.allowInput=(e,t,n,i)=>{if(!t||!t.key)return!1;const s=i.$viewValue,{selectionStart:a,selectionEnd:o}=t.target,r=this.bbLocalize.getGroupingStringForScope(e),l=this.bbLocalize.getDecimalStringForScope(e),c=this.bbLocalize.parseNumberSync(s,e),d=n&&n.maxDecimal?Number(n.maxDecimal):M.Service.defaultDecimalPrecision,u=o-a>1,m=t.key===r,p=o-a==0&&"Backspace"===t.key&&s[a-1]===r,h=o-a==0&&"Delete"===t.key&&s[a]===r,g=o-a==1&&s[a]===r&&("Backspace"===t.key||"Delete"===t.key),b=o-a==0&&!Number.isNaN(Number(t.key))&&this.target.selectionStart>s.indexOf(l)&&s.split(l)[1]&&s.split(l)[1].length>=d;u||Number.isNaN(c)||!(p||h||m||g||b)||t.preventDefault()},this.updateSelection=(e,t,n,i)=>{if(!i||-1!==["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Shift","Meta","Tab","End","Home","-"].indexOf(i))return;const s=Math.max(0,this.selectionEnd+t.$viewValue.length-this.oldViewValue.length);n.selectionStart=s,n.selectionEnd=s},this.link=(e,t,n,i)=>{t.on("blur",(()=>{i.$valid&&this.reformatFromModel(i)})),t.on("focus",(()=>{t.select()})),t.on("keydown",(t=>{this.target=t.target,this.key=t.key,this.selectionStart=this.target.selectionStart,this.selectionEnd=this.target.selectionEnd,this.oldViewValue=i.$viewValue,this.allowInput(e,t,n,i)})),i.$parsers.push(this.getNumberParser(e,t,n,i)),i.$formatters.push(this.getNumberFormatter(e,t,n,i)),n.min&&(i.$validators.minValidator=this.getMinValidator(e,t,n,i),n.$observe("min",(()=>{i.$validate()}))),n.max&&(i.$validators.maxValidator=this.getMaxValidator(e,t,n,i),n.$observe("max",(()=>{i.$validate()})))}}}o.module(Xn,[M.moduleName]).directive("bbValidateNumber",[M.serviceName,e=>new ei(e)]);const ti="ultra.directives.validate.time";class ni{constructor(e){this.bbLocalize=e,this.require="ngModel",this.restrict="A",this.getISOTime=e=>("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2),this.getTimeParser=(e,t,n,i)=>s=>{if(i.$isEmpty(s))return i.$setValidity("time",!0),i.$modelValue;let a;try{a=this.bbLocalize.parseTimeSync(s,M.ILocaleTimeFormat.Short,e,i.$modelValue)}catch(e){return i.$setValidity("time",!1),i.$modelValue}return i.$setValidity("time",!0),(s="time"===n.type?this.getISOTime(a):this.formatTime(a,e))!==i.$viewValue&&(i.$setViewValue(s),t.is(":focus")||i.$render()),a},this.getTimeFormatter=(e,t,n,i)=>()=>{i.$setValidity("time",!0);const s=i.$modelValue;return i.$isEmpty(s)?t.val():"time"===n.type?this.getISOTime(s):this.formatTime(s,e)},this.link=(e,t,n,i)=>{i.$parsers.push(this.getTimeParser(e,t,n,i)),i.$formatters.push(this.getTimeFormatter(e,t,n,i)),t.on("blur",(()=>{i.$render()}))}}formatTime(e,t){return"ar-sa"===this.bbLocalize.getLocale(t)?this.getISOTime(e):this.bbLocalize.formatTimeSync(e,M.ILocaleTimeFormat.Short,t)}}o.module(ti,[M.moduleName]).directive("bbValidateTime",[M.serviceName,e=>new ni(e)]);const ii=new RegExp("^(?:(?:https?|ftp)://)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$","i"),si=(new RegExp("^(http://|https://)"),"ultra.directives.validate.url");class ai{constructor(){this.require="ngModel",this.restrict="A",this.link=(e,t,n,i)=>{i.$validators.url=this.getUrlValidator(e,t,n,i),i.$warning||(i.$warning={}),i.$errorImmediate||(i.$errorImmediate={})}}getUrlValidator(e,t,n,i){return e=>{if(!e)return i.$error.urlInvalid&&delete i.$error.urlInvalid,!0;const t=e+"";return ii.test(t)?(delete i.$error.urlInvalid,!0):(i.$error.urlInvalid=!0,!1)}}}o.module(si,[]).directive("bbValidateUrl",["$injector",e=>e.instantiate(ai)]);var oi=n("lDJ8");const ri=[Bn.b,Mn.a,Rn.b,Vn,Un,zn,Wn,Qn,Xn,ti,si,oi.a];var li=n("2qV7"),ci=n("Q/M7"),di=n("HtY7"),ui=n("H8CZ");const mi="ultra.components.directives.preventEventBubbling";class pi{constructor(e,t,n){this.scope=e,this.element=t,this.attrs=n,n.bbPreventEventBubbling&&t.on(n.bbPreventEventBubbling,(function(e){e.stopPropagation()}))}}pi.$inject=["scope","element","attrs"];class hi{constructor(e){this.$injector=e,this.restrict="A",this.link=(e,t,n)=>{e.bbPreventEventBubbling=this.$injector.instantiate(pi,{scope:e,element:t,attrs:n})}}}hi.$inject=["$injector"],o.module(mi,[]).directive("bbPreventEventBubbling",["$injector",e=>e.instantiate(hi)]);const gi="ultra.components.directives.sizeToFitTextArea";class bi{constructor(e,t,n,i){if(this.scope=e,this.element=t,this.attrs=n,this.timeout=i,this.defaultHeight=null!=this.scope.defaultHeight?parseInt(this.scope.defaultHeight,10):37,"textarea"!==t[0].tagName.toLowerCase())throw new Error("This directive is only for use as an attribute on textareas");this.maxHeight=this.scope.maxHeight?parseInt(this.scope.maxHeight,10):null,t.addClass("size-to-fit-textarea"),null!=e.textareaModel?this.scope.$watch("textareaModel",((e,t)=>{e!==t&&this.sizeToFit()})):t.keyup(this.sizeToFit.bind(this)),this.timeout((()=>{this.minHeight="true"===this.scope.initialHeightLock?this.element.get(0).clientHeight:null,this.sizeToFit()}),this.scope,0,!1)}sizeToFit(){const e=this.element.get(0);e.clientHeight===e.scrollHeight&&(e.style.height=this.defaultHeight+"px");let t=e.clientHeight;(!this.maxHeight||this.maxHeight>t)&&(t=Math.max(e.scrollHeight,t,this.minHeight),this.scope.maxHeight&&(t=Math.min(this.maxHeight,t)),t>e.clientHeight&&(e.style.height=t+"px"))}}bi.$inject=["scope","element","attrs",k.b];class fi{constructor(e){this.$injector=e,this.replace=!1,this.restrict="A",this.priority=1,this.terminal=!1,this.scope={defaultHeight:"@",maxHeight:"@",initialHeightLock:"@",textareaModel:"=?"},this.link=(e,t,n)=>{e.sizetofittextarea=this.$injector.instantiate(bi,{scope:e,element:t,attrs:n})}}}fi.$inject=["$injector"],o.module(gi,[k.a]).directive("bbSizeToFitTextarea",["$injector",e=>e.instantiate(fi)]);const vi="ultra.components.directives.bbPreventDrag";class yi{constructor(e){this.$rootScope=e,this.restrict="A",this.link=(e,t)=>{t.attr("draggable","false"),t.on("dragstart",(e=>{const t=e.originalEvent.target;if(!(t.ownerDocument.activeElement.className.includes("bb-editor")||t.getAttribute&&"true"===t.getAttribute("draggable")))return!1}))}}}yi.$inject=["$rootScope"],o.module(vi,[]).directive("bbPreventDrag",["$injector",e=>e.instantiate(yi)]);n("my/J");const ki="ultra.components.directives.formlabel",xi="bbFormLabelDecorator";class Si{constructor(e,t,n){this.$q=e,this.$log=t,this.timeout=n,this.restrict="A",this.scope=!0,this.waitForElement=(e,t)=>{null==t.elementInspectStartAt&&(t.elementInspectStartAt=(new Date).getTime());const n=this.$q.defer();return this.timeout((()=>o.element(document.getElementById(e))),t,50).then((i=>{i.length>0?n.resolve(i):(new Date).getTime()-t.elementInspectStartAt>Si.elementInspectTimeout?n.reject("Cannot find element #"+e+" in "+Si.elementInspectTimeout+"ms"):this.waitForElement(e,t).then((e=>{n.resolve(e)})).catch((e=>{n.reject(e)}))})),n.promise},this.link=(e,t,n)=>{const i=e.$eval(n.bbFormLabelDecorator)||{},s=n.for;s&&this.waitForElement(s,e).then((t=>{const n=()=>{e.attrsElement=Ht.mapValues(Ht.keyBy(t[0].attributes,"nodeName"),(e=>e.nodeValue))};i.autoupdate&&(e.domObserver=new MutationObserver(n),e.domObserver.observe(t[0],{childList:!1,attributes:!0,subtree:!1})),n()})).catch((e=>{this.$log.warn(e)})),e.$watchGroup(Ht.compact(["attrsElement",n.bbFormLabelDecorator]),(e=>{Si.decorators.forEach((n=>{n(t,o.extend({},e[0],e[1]))}))})),e.$on("$destroy",(()=>{void 0!==e.domObserver&&e.domObserver.disconnect()}))}}}Si.elementInspectTimeout=1e4,Si.$inject=["$q","$log","timeout"],Si.decorators=[(e,t)=>{const n=t.required;!0===n||["true","required",""].indexOf(n)>=0?e.addClass("required"):e.removeClass("required")}],o.module(ki,[]).directive(xi,["$injector",e=>e.instantiate(Si)]);var Ci=n("+e2k"),Ei=n("D57K"),Ii=n("GGEJ");n("JbSi"),n("0Y4C");const wi="ultra.components.directives.collabSessionIcon";let Ai=class{constructor(e,t,n){this.$scope=e,this.$element=t,this.bbLocalize=n}$onChanges(e){this.bbLocalize.translate({locale:this.bbLocalize.getLocale(this.$scope),key:this.runningSessionFlag?"components.directives.collab-session-icon.aria-label.active-collab":"components.directives.collab-session-icon.aria-label.inactive-collab"}).then((e=>{this.$element.attr("aria-label",e)}))}};Ai.$inject=["$scope","$element",M.serviceName],Ai=Object(Ei.a)([Object(at.a)({moduleName:wi,componentName:"bbCollabSessionIcon",template:Ii,bindings:{runningSessionFlag:"<"},requireModules:[M.moduleName]})],Ai);const Oi="ultra.directives.elementimage.accessibility",Di="aria-label",Ti=["components","directives","element-image","element-image-accessibility"];class Pi{constructor(e,t){this.$injector=e,this.bbLocalize=t,this.restrict="C",this.link=(e,t,n)=>{if(t.attr(Di))return;let i=t.attr("class");const s=n=>{const i=/\bimg-icon-[\w-]+\b/.exec(n);null===i?t.removeAttr(Di):(this.loadBundle.then((()=>{t.attr(Di,this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(e),key:Ti.join(".")+"."+i[0].replace(/-[aco]$/,"")}))})),e.$digest())};requestAnimationFrame((()=>{s(i)}));const a=new MutationObserver(Ht.debounce((()=>{requestAnimationFrame((()=>{const e=t.attr("class");i!==e&&(i=e,s(i))}))}),100,{leading:!0}));a.observe(t[0],{attributes:!0,attributeFilter:["class"]}),e.$on("$destroy",(()=>{a.disconnect()}))},this.loadBundle=t.loadBundle(Ti.join("/"))}}Pi.$inject=["$injector",M.serviceName],o.module(Oi,[M.moduleName]).directive("elementImage",["$injector",e=>e.instantiate(Pi)]);var $i=n("cYWG"),Gi=n("K/D1");const ji=["scheduledTasks","telemetry"];let Li=null;class Ni{constructor(){this.pendingRequests=[],this.httpRequestLog=[],this.registerWebRequestListener()}registerWebRequestListener(){window.addEventListener("message",(e=>{e.source===window&&e.data&&e.data.type&&e.data.details&&this.handleWebRequestMessage(e.data.type,e.data.details)}))}handleWebRequestMessage(e,t){if(this.isMonitoredUrl(t.url))switch(e){case"onBeforeRequest":this.onRequestStarted(t);break;case"onCompleted":case"onErrorOccurred":this.onRequestCompleted(t)}}isMonitoredUrl(e){return e&&e.indexOf("/learn/api/v1")>=0&&0===ji.filter((t=>e.indexOf(t)>-1)).length}onRequestStarted(e){this.pendingRequests.push(e)}onRequestCompleted(e){const t=Ht.findIndex(this.pendingRequests,(t=>t.requestId===e.requestId));if(t>-1){const n=this.pendingRequests[t],i={requestId:e.requestId,type:e.type,method:e.method,url:e.url,statusCode:e.statusCode,elapsedTime:e.timeStamp-n.timeStamp,requestBody:n.requestBody,error:e.error};this.httpRequestLog.push(i),this.pendingRequests.splice(t,1)}}dumpHttpRequestLog(){const e={};window.httpRequestLog.forEach((t=>{const n=t.method+" "+t.url;null==e[n]&&(e[n]=[]),e[n].push(t.params)}));for(const t of Object.keys(e))if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];console.log(t+" ["+n.length+"]",n)}}clearHttpRequestLog(){this.httpRequestLog.length=0}}var Bi=n("oQrK");const Mi="ultra.services.zoomUtility";o.module(Mi,[]),Bi.a.detect().mobile()&&a(document).on("mouseover","input, textarea, select, .editor-element",(function(){a(this).css("font-size","16px")}));var Ri=n("aHpC"),Fi=n("gkef"),Vi=n("eQBN"),_i=n("90v0");const Ui="ultraUi.components.directives.conversion.previewHeader";let Hi=class{constructor(e,t,n,i,s){this.scope=e,this.element=t,this.attrs=n,this.windowSize=i,this.studentPreview=s;const a=e.course,o=i.isMediumBreakpoint()||i.isLargeBreakpoint();this.scope.shouldShowHeader=o&&a.isUltraPreview(),this.scope.hasExceptionReport=!!a.ultraConversionReportId,e.$on("reloadCourse",((e,t)=>{t===a.id&&(this.scope.shouldShowHeader=a.isUltraPreview())}))}};Hi=Object(Ei.a)([Object(Ei.c)(0,Object(Ri.b)("scope")),Object(Ei.c)(1,Object(Ri.b)("element")),Object(Ei.c)(2,Object(Ri.b)("attrs")),Object(Ei.c)(3,Object(Ri.b)(Fi.b)),Object(Ei.c)(4,Object(Ri.b)(Vi.e))],Hi);class zi{constructor(e){this.$injector=e,this.restrict="AE",this.template=_i,this.scope={course:"="},this.link=(e,t,n)=>{e.previewHeader=this.$injector.instantiate(Hi,{scope:e,element:t,attrs:n})}}}zi.$inject=["$injector"],o.module(Ui,[Vi.b]).directive("bbPreviewHeader",["$injector",e=>e.instantiate(zi)]);const qi="ultra.service.filters.timespan",Wi=[{symbol:"d",base:86400,label:"days"},{symbol:"h",base:3600,label:"hours"},{symbol:"m",base:60,label:"minutes"},{symbol:"s",base:1,label:"seconds"}];o.module(qi,[M.moduleName]).filter("timeSpan",["$log",M.serviceName,function(e,t){const n={};return Wi.forEach((e=>{n[e.symbol]=e})),function(i,s="hm",a){const o={},r={};return Ht.forEach(s,(t=>{const i=t.toLowerCase();Object.prototype.hasOwnProperty.call(n,i)?r[i]=i!==t:e.error(`${i} is not supported!`)})),Ht(n).filter((e=>Object.prototype.hasOwnProperty.call(r,e.symbol))).forEach((e=>{const s=e.symbol,l=1===Ht.size(r),c=Math.floor(i/n[s].base),d=n[s].label;(c>0||!0===r[s]||l&&0===Ht.size(o))&&(o[d]=t.translateSync({locale:t.getLocale(a),key:`global.timeSpan.${d}.plural`,params:{v:c},noEscape:!0})),i%=n[s].base,delete r[s]})),Ht.defaults(o,{days:"",hours:"",minutes:"",seconds:""}),t.translateSync({locale:t.getLocale(a),key:"global.timeSpan.oneline",params:o,noWrap:!0,noEscape:!0}).trim().replace(/\s+/g," ")}}]);const Ki=[qi];var Ji=n("0fB1"),Qi=n("z6Q5");const Zi="ultra.service.batch-utility-rest-api.directive";o.module(Zi,[Qi.a,k.a]).directive("bbBatchScope",[Qi.b,k.b,function(e,t){return{restrict:"A",link(n){let i,s;n.$on("BEFORE_REQUEST",(function(a,o){a.stopPropagation(),o.params=o.params||{},o.params[Qi.c]||(i=i||e.newToken(),o.params[Qi.c]=i),i&&(t.cancel(s),s=t((()=>{i.send(),i=null}),n))}))}}}]);var Yi=n("gCXj"),Xi=n("BXiQ"),es=n("tb/u");const ts="ultra.directives.user-avatar-group";o.module(ts,[Xi.a]).directive("bbUserAvatarGroup",(function(){return{restrict:"E",template:es,scope:{users:"=?"},link(e,t){t.addClass("avatar element-image"),e.$watch("users",(t=>{t&&(e.displayUsers=Object(Ht.compact)([e.users[0],e.users.length>2?{id:"_groupedusers_"+(e.users.length-1),getInitials:()=>"+"+(e.users.length-1),avatar:{permanentUrl:"default"},lastModifiedAt:void 0}:e.users[1]]))}))}}}));var ns=n("zFCC"),is=n("NXdT"),ss=n("/jNt");var as=new class{init(){if(this._isEventAlreadyWrapped)return;const e=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(...t){return this.addEventListener("load",(function(){if(this.status>399){const e=new URL(this.responseURL).pathname.substring(1),n=e.substr(0,e.lastIndexOf("/"));if(!Ht.includes(["learn/api/v1/users/me/preferences","learn/api/v1/systemPreferences","telemetry/api/v1/browser"],n)){const n=this.responseText.replace(/(\r\n|\n|\r)/gm,"").substr(0,150),i=`${t[0]} ${e} ${this.status} - ${this.statusText} "${n}"`;C.b.addHistory({applicationId:"",analyticsId:i,action:"request error",url:e})}}})),e.apply(this,[].slice.call(t))},this._isEventAlreadyWrapped=!0}},os=n("9zo4");let rs;n.d(t,"userId",(function(){return rs})),n.d(t,"moduleName",(function(){return ls})),n.d(t,"shouldUseAbsoluteUrl",(function(){return ps})),n.d(t,"appInjector",(function(){return ds})),n.d(t,"init",(function(){return bs}));const ls="ultra";let cs;window.Foundation.libs.reveal.settings.dismiss_modal_class="close-reveal-modal, .reveal-close",!Li&&function(){const e=ci.j();return!E.a.production||e.indexOf("perf-ultra")>-1||e.indexOf("mylearn.int.bbpd.io")>-1||e.indexOf(".dev.bbpd.io")>-1||e.indexOf(".animal.bbsaas.io")>-1}()&&(Li=new Ni,window.httpRequestLog=Li.httpRequestLog,window.pendingRequests=Li.pendingRequests,window.dumpHttpRequestLog=Li.dumpHttpRequestLog,window.clearHttpRequestLog=Li.clearHttpRequestLog,window.disableFtueGuidance=()=>{E.a.disableAllFtueGuidance=!0});let ds,us=["angulartics","angulartics.scroll","ngAnimate","ngAria","ngMessages","ngOnload","ngSanitize","ui.router","angular-data.DSCacheFactory","fng","ngRedux",x,$,be.a,Zi,N.a,di.a,fe.a,ve.a,ye.a,B.d,ke.a,z.a,K.a,R,yt.a,xe.a,Z.f,Se.a,Re.a,Ce.b,Ve,Ue,ki,Qe.a,ze.a,Ee.b,Oe,Pe,je.a,qe.a,Ye,Be,Le.a,Ne.a,We.c,Ke.a,V.b,Je.a,_.a,J,tt.moduleName,nt.a,it,rt,ie,ut,vt.b,pt.a,ht.b,gt.a,q,bt.b,H.a,U.a,ft.a,re,me.a,he.a,St.b,kt.a,xt.a,Ct.a,Et.a,mi,vi,_t.c,Gn.a,jn.a,k.a,A.N,gi,Ci.a,wi,Oi,li.a,P.b,Gi.a,$i.b,Mi,Ui,Ji.a,Yi.a,Xi.a,ts,ss.c,ns.b,is.b].concat(ri).concat(Ki);function ms(){return cs=Object(l.b)(),o.module(ls,us).config([M.providerName,e=>{e.setOptions({production:E.a.production})}]).config(["$locationProvider",P.c,"$urlRouterProvider",(e,t,n)=>{e.html5Mode(!0),n.rule(((e,t)=>{const n=t.url();if(!n)return;const i=ci.r(n);return"/"===i[i.length-1]?i.substring(0,i.length-1):void 0})),n.otherwise(((e,t)=>{const n=t.url(),i=e.get(P.d);if("/"===ci.r(n)){e.get(he.b).navigateToLandingPage()}else i.go("base.not-found")}))}]).config(["$ocLazyLoadProvider",e=>{e.config({loadedModules:[ls]})}]).config(["$animateProvider",e=>{e.classNameFilter(/angular-animate/)}]).config(["$compileProvider",e=>{e.debugInfoEnabled(!E.a.production)}]).config(["$httpProvider",e=>{e.useApplyAsync(!0),hs(e)}]).config(["DSCacheFactoryProvider",e=>{e.setCacheDefaults({capacity:1e3,maxAge:18e5,deleteOnExpire:"passive"})}]).config(["$ariaProvider",e=>{e.config({bindRoleForClick:!1,bindKeydown:!1,ariaRequired:!1,ariaInvalid:!1,tabindex:!1})}]).config(["$logProvider",e=>{e.debugEnabled(!E.a.production)}]).config(["$provide",function(e){e.decorator("$rootScope",["$delegate",function(e){return Object.defineProperty(e.constructor.prototype,"$$digestPaused",{get(){const e=this;return Object.prototype.hasOwnProperty.call(e,"$$__digestPaused")&&null!=e.$$__digestPaused?e.$$__digestPaused:(e.$parent||{}).$$digestPaused}}),e}])}]).config(["$ngReduxProvider",e=>{const t=window,n=[cs,c.a],i=[];if(!E.a.production){const e=Object(r.createLogger)({level:"info",collapsed:!0});n.unshift(e),t.__REDUX_DEVTOOLS_EXTENSION__&&i.push(t.__REDUX_DEVTOOLS_EXTENSION__&&t.__REDUX_DEVTOOLS_EXTENSION__())}e.createStoreWith(p.dc,n,i)}]).config(["$qProvider",e=>{e.errorOnUnhandledRejections(!1)}])}function ps(e){return e&&e.url&&(e.url.indexOf("/api/")>=0||e.url.indexOf("/partner-cloud/app/")>=0)}function hs(e){e.interceptors.push((()=>({request:e=>(ps(e)&&(e.url=ci.c(e.url)),e)})))}function gs(e){e.run(["$rootScope","$ngRedux",M.serviceName,kt.b,le,(e,t,n,i,s)=>{let a;s.registerXsrfCallback((e=>{Object(p.lb)({apiBasePath:E.a.apiBasePath,xsrf:e,partnerCloudBasePath:E.a.partnerCloudBasePath,foundationsApiSession:p.p})})),cs.run(v);const o=t.connect((e=>({})),p.X.app)(((e,t)=>{a=t}));e.$on("destroy",o),e.$on(T.b.$stateChangeSuccess,((t,i,s,o,r)=>{a&&a.handleStateChangeSuccess({toState:i,toParams:s});let l="base.recentActivity";o.name&&(l=o.name),e.previousState=l,e.previousStateSref=`${l}${r?`(${JSON.stringify(r)})`:""}`,e.index=Object.create(null),e.index.locale=(n.getLocale(e)||"").replace("_","-");const c=()=>{const t=i.pageTitle||"base.ultra";n.translate({locale:e.index.locale,key:t}).then((t=>{e.index.title=t}))};new Promise(((e,t)=>{try{if(i.pageTitleHandler){const t=i.pageTitleHandler;t.build({injector:ds,name:i.name,pageTitle:i.pageTitle}).process(),e(t)}else c()}catch(e){console.error(`Uncaught error in dynamic title for state ${i.name}:`,e),t()}})).then(null,c)})),e.$on(T.a.$locationChangeSuccess,((e,t)=>{if(!a)return;const n=t.split("?")[1],i={};if(n){const e=new URLSearchParams(n);for(const[t,n]of Array.from(e.entries()))i[t]=n}a.handleLocationChangeSuccess({queryParams:i})}));const r=i.subscribe();e.$on("destroy",r)}]).run(["$http",me.b,le,(e,t,n)=>{n.registerXsrfCallback((t=>{e.defaults.headers.common[ce]=t,o.element.ajaxSetup({headers:{[ce]:t}})})),o.element.ajaxPrefilter((e=>{ps(e)&&(e.url=ci.c(e.url))}))}]).run(["$rootScope",me.b,pe.b,M.serviceName,function(e,t,n,i){e.context=t,e.$on("bbCurrentUserModified",(()=>{n.userModel.$fetch()})),Object(Nn.b)(t,n,i)}]).run(["$rootScope",e=>{e.Modernizr=window.Modernizr}])}function bs(){ci.m("inPreviewMode",window.location.href)&&a("body").addClass("in-preview-mode"),o.element(document).ready((()=>{o.module("pre-bootstrap-ultra",["ng",me.a]).config(["$httpProvider",e=>{hs(e)}]);const e=o.injector(["pre-bootstrap-ultra"]),t=e.get(me.b),n=e.get(pe.b),i=e.get("$http"),s=e.get(k.b),r=e.get("$q");a(document).foundation(),/Android/.test(navigator.appVersion)&&"function"==typeof document.activeElement.scrollIntoViewIfNeeded&&window.addEventListener("resize",(()=>{"INPUT"===document.activeElement.tagName&&s((()=>{document.activeElement.scrollIntoViewIfNeeded()}),this.scope,0,!1)}));const l=ci.j(),c=window.__initialContext.xsrf?r.when({data:{xsrfToken:window.__initialContext.xsrf}}):i.get(l+E.a.apiBasePath+"/v1/utilities/xsrfToken");r.all([n.userModel.$asPromise(),c,t.getSystemInfo().$asPromise()]).then((e=>{const t=e[0];rs=t.id;const i=e[2];ge.a.userId=rs,Ln.a.setClientOffset(i.now.getTime()-(new Date).getTime());const s=a("base"),r=s.attr("href");s.attr("href",E.a.basePath+"/"),ds=o.bootstrap(document.documentElement,[ls],{strictDi:!0});const l=ds.get(me.b),c=ds.get(le);ds.get(_t.d).addRouteListener();new $n(_t.b,y.e).start(),c.updateToken(e[1].data.xsrfToken),n._setUserId(rs),c.registerXsrfCallback((e=>{l.sessionId=e,l.xsrfToken=e})),bn.n.init(window),It.a.init(window),Pn(ds.get(M.serviceName),ds.get("$ngRedux"),ds.get(P.d),ds.get(os.c)),as.init(),s.attr("href",r)})).catch((e=>{401===e.status&&(window.location.href="/?new_loc="+encodeURIComponent(window.location.pathname+(window.location.search||"")+(window.location.hash||"")))})).finally((()=>{const e=()=>{const e=a("#initial-load-area");if(e&&e.length>0){if(window.__e2eTestingEnabled)return void e.remove();e.addClass("fade-out");const t=t=>{if(!t.data.noTransitions&&"opacity"!==t.originalEvent.propertyName)return!1;e.remove()};ui.b(e,t),setTimeout((()=>e.remove()),500)}};if(window.__e2eTestingEnabled)e();else if(ds){const t=ds.get("$rootScope");let n;const i=t.$on("$stateChangeSuccess",(()=>{e(),i(),n()}));n=t.$on("$stateChangeError",(()=>{e(),n(),i()})),t.$on("hideInitialLoadingArea",(()=>{e()}))}else e()}))}))}if(E.a.production){gs(ms()),bs()}else Promise.all([n.e(554),n.e(252)]).then((()=>{Promise.resolve().then(n.bind(null,"tWb8")).then((e=>{us=us.concat(e.modules);const t=ms();gs(t),e.init(t),bs()}))}).bind(null,n)).catch((()=>{}))},e6jQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));let i=0;function s(){return i++,"id_"+i}function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},e7Kn:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var i=n("D57K"),s=(n("1/hr"),n("Llzl")),a=n("lx16"),o=n("0JpG"),r=n("kC07"),l=n("RPq7"),c=n("nYZ0"),d=n("LdA1"),u=n("sLTT"),m=n("M8+u"),p=n("D8d/"),h=n("L+81"),g=n("lr7J"),b=n("aHpC"),f=n("pjml"),v=n("rtZE"),y=n("tfx2"),k=n("lEL+"),x=n("gkef"),S=n("oQrK"),C=n("fN3Q"),E=n("hDL0"),I=n("W6wm");const w="ultra.directives.contentOutline";let A=class{constructor(t,n,i,s,a,o,r,l){this.scope=t,this.element=n,this.ContentService=s,this.CourseContentModel=a,this.timeout=o,this.windowService=r,this.localizeService=l,this.cloudUploadInProgress={},this.showContentImportProgress=!1,this.LARGE_CONTAINER_SELECTOR=".bb-offcanvas-panel-wrap .panel-wrap",this.SMALL_CONTAINER_SELECTOR=".bb-offcanvas-panel-wrap .panel-wrap .panel-content",this.getContentTrackingId=e=>null!=e.id?e.id:(e.ui.tempId||(e.ui.tempId=this.getTempId()),e.ui.tempId),this.contextArea=t.contextArea,this.addContentButtonLocation=null,this.loadMoreChildren=t.loadMoreChildren,this.parentFolder=t.parentFolder,this.onFileDropHandler=t.onFileDropHandler,this.onMoveHandler=t.onMoveHandler,this.onMoveIntoFolderHandler=t.onMoveIntoFolderHandler,this.canMove=t.canMove&&(!t.contents.permissions||t.contents.permissions.move),this.showMenuOverride=!1,null!=t.contents&&"function"==typeof t.contents.$asPromise&&t.contents.$asPromise().then((()=>{this.showMenuOverride=0===t.contents.length})),this.placeholderContent=this.CourseContentModel.$buildRaw({id:this.parentFolder&&this.parentFolder.id&&this.parentFolder.id+"_placeholder",parentId:this.parentFolder&&this.parentFolder.id,contentHandler:f.p.ContentHandler.Unknown.toString(),depth:this.parentFolder&&this.parentFolder.depth&&this.parentFolder.depth+1}),t.$watch("contents.length",((i,s)=>{this.showMenuOverride=0===i,this.placeholderContent.id=this.parentFolder&&this.parentFolder.id&&this.parentFolder.id+"_placeholder",this.placeholderContent.parentId=this.parentFolder&&this.parentFolder.id,this.resetMovableAddContentButton(n),i<s&&(t.$emit("content-outline-infinite-scroll-check"),e(`#add-button${this.scope.parentFolder.id}`).appendTo(e(`#add-button-container${this.scope.parentFolder.id}`)))})),t.$eval(i.showContentImportProgress)&&this.addImportPlaceholder(),t.$on("bb-drag-start",(()=>{this.resetMovableAddContentButton(n)})),t.$on("keyboard-drag-start",(()=>{this.resetMovableAddContentButton(n)})),t.$on("showContentImportProgress",((e,t,n)=>{"-1"!==n&&this.parentFolder.id!==n||this.addImportPlaceholder()})),t.$on(y.b,((e,t)=>{this.cloudUploadInProgress[t]||(this.cloudUploadInProgress[t]=!0)}))}resetMovableAddContentButton(e){this.addContentButtonLocation=null,e.append(this.getMovableAddContentButton())}addImportPlaceholder(){this.ContentService.getOrMakeContentInContentTree(this.parentFolder,this.parentFolder.courseId,void 0,this.parentFolder.id,"start").then((t=>{t.content.ui.importPlaceholder=!0,this.timeout((()=>{e(".placeholder-container").closest(".js-content-div").scrollintoview({duration:300})}),this.scope,0,!1)}))}getScrollContainerSelector(){return this.windowService.isLargeBreakpoint()?this.LARGE_CONTAINER_SELECTOR:this.SMALL_CONTAINER_SELECTOR}getScrollForceShowSelector(){return`.${r.a}`}isAllContentsLoaded(){return!!(this.scope.contents&&this.scope.contents.paging&&this.scope.contents.paging.count)&&this.scope.contents.length>=this.scope.contents.paging.count}isAddContentButtonUnattached(e){return!!e&&(!this.addContentButtonLocation||e!==this.addContentButtonLocation.id)}placeAddButton(t,n=!1){const i=this.parentFolder?`.movable-add-content-button-folder${this.parentFolder.id}`:"";if(!this.isAddContentButtonUnattached(t.id)||this.contextArea===I.a.Discussions||void 0===t.id)return;const s=!!document.querySelector(".ms-ContextualMenu-list.is-open");!n&&s||(this.getMovableAddContentButton().appendTo(e(`#add-button-placeholder${t.id}`)),this.addContentButtonLocation=t,this.scope.$broadcast("change-add-content-button-position",{reopen:s}),n&&this.element.find(`.movable-add-content-button.movable-add-content-button${i} .button-add-content.js-show-add-options`).focus())}getMovableAddContentButton(){const e=this.parentFolder?`.movable-add-content-button-folder${this.parentFolder.id}`:"";return this.element.find(`.movable-add-content-button${e}`)}getAddButtonLineLabel(e){return this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"components.directives.add-content-button.aria-label.content.add-button-label-item-name-after",params:{itemName:e},noWrap:!0,noEscape:!0})}isMobileDevice(){return S.a.detect().mobile()}shouldShowMenuOverride(){return(!this.parentFolder||0!==this.parentFolder.depth)&&this.showMenuOverride}shouldShowAddButton(){return this.scope.isFirst||this.scope.contents&&0===this.scope.contents.length}hasId(e){return this.scope.contents.some((t=>t.ui.tempId===e||t.id===e))}getTempId(){let e,t=!1;for(;!t;)e=Object(C.v4)(),t=!this.hasId(e);return e}isProgressTrackingStateShown(e){var t;return null===(t=e.permissions)||void 0===t?void 0:t.canViewReviewState}};A=Object(i.a)([Object(i.c)(0,Object(b.b)("scope")),Object(i.c)(1,Object(b.b)("element")),Object(i.c)(2,Object(b.b)("attrs")),Object(i.c)(3,Object(b.b)(c.f)),Object(i.c)(4,Object(b.b)(f.p.serviceName)),Object(i.c)(5,Object(b.b)(k.b)),Object(i.c)(6,Object(b.b)(x.b)),Object(i.c)(7,Object(b.b)(o.serviceName))],A);class O{constructor(e,t){this.link=e,this.recursionHelper=t,this.replace=!0,this.restrict="E",this.scope={canCreate:"=",contents:"=",contextArea:"=",loadMoreChildren:"=",isFirst:"=",parentFolder:"=",onFileDropHandler:"=?",onMoveHandler:"=",onMoveIntoFolderHandler:"=?",canMove:"=",canCreateAllContents:"=?",canCopyImport:"=?",hideAddMenuOverride:"=?"},this.compile=e=>this.recursionHelper.compile("content-outline-directive",e,this.link),this.template=E}}O.$inject=["link",v.b],s.module(w,[a.a,r.b,u.a,m.a,d.a,l.b,c.d,p.a,h.a,g.b,v.a,x.a,o.moduleName]).directive("bbContentOutline",["$injector",c.f,e=>e.instantiate(O,{link:(t,n,i)=>{t.contentOutline=e.instantiate(A,{scope:t,element:n,attrs:i})}})])}).call(this,n("71td"))},eAzf:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("1ZbL"),a=n("0JpG"),o=n("gqzd");const r="ultra.components.directives.moving-member-alert",l={Class:o.i,renderLocalized:!0,withProvider:!0};i.module(r,[a.moduleName]).component("bbMovingMemberAlertBanner",Object(s.a)(l))},eQBN:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return y}));var i=n("D57K"),s=n("aHpC"),a=n("yC9S"),o=n("Q/M7"),r=n("ZzR9"),l=n("qhd3"),c=n("lVRt"),d=n("12mu"),u=n("0JpG"),m=n("x+T+"),p=n("hkqm"),h=n("zIHT");const g="ultra.service.studentPreview",b="studentPreview",f=b+"Provider",v=c.d,y="TOGGLE-PREVIEW",k="in-preview-mode-parent";let x=class{constructor(e,t,n,i,s,o,l,c){this.$q=e,this.$rootScope=t,this.$sce=n,this.entitlementCache=i,this.localize=s,this.modal=o,this.toast=l,this.UserModel=c,a.b.OnRootScope(this.$rootScope,r.b.$stateHasCourseInContextChanged,((e,t,n)=>{var i;n&&!t&&(null===(i=this.previewStatus)||void 0===i?void 0:i.previewing)&&this.exitPreviewMode()})),a.b.OnRootScope(this.$rootScope,r.a.$locationChangeSuccess,((e,t)=>{this.isInIframeOfPreviewMode()&&this.course&&sessionStorage.setItem(this.previewUrlStorageKey,t)}))}get previewUrlStorageKey(){return`PREVIEW_URL_${this.course.id}`}get course(){return this._course}get previewStatus(){return this._previewStatus}get previewUrl(){return this._previewUrl}load(){return this.course.studentPreview.$fetch().$asPromise().then((e=>(this._previewStatus=e,this.updateClasses(),e.courseMembershipId?this.course.memberships.$new(e.courseMembershipId).$fetch().$asPromise().then((t=>(e.user=this.UserModel.$buildRaw(e.user),e.user.memberships.push(this.course.memberships.$buildRaw(t)),e))):this.$q.when(e))))}init(e){var t;return(null===(t=this.course)||void 0===t?void 0:t.id)===e.id&&this.previewStatus?this.$q.resolve(this.previewStatus):(this._course=e,this.setPreviewUrl(),this.load())}setPreviewUrl(){const e=sessionStorage.getItem(this.previewUrlStorageKey);let t;t=e?Object(o.a)(e,"inPreviewMode","true"):Object(o.c)(`/ultra/courses/${this.course.id}/outline/?inPreviewMode=true`),this._previewUrl=this.$sce.trustAsResourceUrl(t)}openStartPreviewModal(){const e=this.$rootScope.$new();return e.courseOrgTokenPrefix=this.course.isOrganization?"components.services.organization":"components.services",document.body.classList.add("dialog-pop-up-in-preview-mode"),this.modal.open({scope:e,template:h,resolve:{translations:[u.serviceName,e=>e.loadBundle("components/services/student-preview")]}}).result}updateClasses(){var e;(null===(e=this.previewStatus)||void 0===e?void 0:e.previewing)?document.body.classList.add(k):(document.body.classList.remove(k),document.body.classList.remove("has-footer-in-preview-mode"))}showToastNotification(e){this.toast.show({messageKey:e,icon:"icon-check",toastStatus:"success"})}exitPreviewMode(e=!1){return this.entitlementCache.clearEntitlementCache(this.course.id),this.$q.all([this.course.studentPreview.withParams({discardData:e}).$destroy().$asPromise(),this.localize.loadBundle("components/services/student-preview")]).then((e=>this.entitlementCache.loadCourseEntitlements(this.course.id).then((()=>{this.$rootScope.$broadcast(y,!1),this.setPreviewUrl(),this.showToastNotification("components.services.studentPreview.previewEnded"),this._previewStatus=e[0],this.updateClasses()}))))}launchPreviewMode(){return this.openStartPreviewModal().then((()=>this.course.studentPreview.$save().$asPromise().then((e=>{this._previewStatus=e,this.$rootScope.$broadcast(y,!0),this.updateClasses()}))))}resetPreviewMode(){return this.course.studentPreview.withParams({discardData:!0}).$destroy().$asPromise().then((()=>this.course.studentPreview.$save().$asPromise().then((()=>{this.setPreviewUrl(),this.showToastNotification("components.services.studentPreview.activityReset")}))))}isInIframeOfPreviewMode(){var e;return(null===(e=this.previewStatus)||void 0===e?void 0:e.previewing)&&window.top!==window}};x=Object(i.a)([Object(i.c)(0,Object(s.b)("$q")),Object(i.c)(1,Object(s.b)("$rootScope")),Object(i.c)(2,Object(s.b)("$sce")),Object(i.c)(3,Object(s.b)(m.c)),Object(i.c)(4,Object(s.b)(u.serviceName)),Object(i.c)(5,Object(s.b)(d.b)),Object(i.c)(6,Object(s.b)(p.b)),Object(i.c)(7,Object(s.b)(l.serviceName))],x);angular.module(g,[m.b,u.moduleName,d.a,p.a]).provider(b,class{constructor(){this.$get=["$injector",e=>e.instantiate(x)],this.name=v,this.resolve=[c.c,b,(e,t)=>t.init(e)]}})},eUpQ:function(e,t,n){"use strict";class i{static getServerTime(){return new Date((new Date).getTime()+i.clientTimeDifferenceMS)}static getServerTimeAsEpochTime(){return this.getServerTime().getTime()/1e3}static setClientOffset(e){i.clientTimeDifferenceMS=e}}i.clientTimeDifferenceMS=0,t.a=i},eWdw:function(e,t,n){},eYRL:function(e,t){e.exports='<ng-switch on="targetContent.contentHandler.toString()">\n  <a ng-switch-when="resource/x-bb-forumlink" class="content-title"\n     bb-peek-sref="discussion.view.with-grading({contentId:\'{{targetContent.id}}\'})"\n     bb-prevent-click-if="targetContent.isConditionalReleaseLocked()"\n     aria-describedby="{{ariaDescribedBy}}"\n     analytics-id="course.link.item.forumLink.link"\n     aria-hidden="{{ aria }}"\n     tabindex="{{ tabbable ? -1 : 0 }}"><span>{{ content.title }}</span></a>\n  <div ng-switch-default class="content-title">{{ content.title }}</div>\n</ng-switch>\n'},emI2:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return l}));var i=n("D57K"),s=n("pjml"),a=n("aHpC");const o="ultra.service.preference",r="preferenceService",l=250;let c=class{constructor(e,t){this.$q=e,this.MyPreferenceModel=t,this.preferences={}}getPreference(e,t,n){const i=this.$q.defer();return n||!Object.prototype.hasOwnProperty.call(this.preferences,e)?this.MyPreferenceModel.$find(e).$allow([404]).$asPromise().then((n=>{if(n.$response&&404===n.$response.status){if(void 0===t)return void i.reject(n);this._addPreferenceToCache(e,t),i.resolve(this.preferences[e])}else this.preferences[n.key]=n,i.resolve(n)}),(e=>{i.reject(e)})):i.resolve(this.preferences[e]),i.promise}_addPreferenceToCache(e,t,n){const i=this.MyPreferenceModel.$new(e);i.key=e,i.value=t,i.isRequired=!n,this.preferences[e]=i}setPreference(e,t,n){if(e.length>l)throw new Error("Preference key is too long!");return this._addPreferenceToCache(e,t,n),this.preferences[e].$save().$asPromise()}};c=Object(i.a)([Object(i.c)(0,Object(a.b)("$q")),Object(i.c)(1,Object(a.b)(s.O.serviceName))],c);angular.module(o,[s.N]).service(r,c)},en1n:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"k",(function(){return y})),n.d(t,"j",(function(){return k})),n.d(t,"h",(function(){return x})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return C})),n.d(t,"i",(function(){return E})),n.d(t,"n",(function(){return A}));n("9RbK");var i=n("71td"),s=n("xkx/");const a=39.9375,o=40,r=63.9375,l=89.9375,c=119.9375;let d;const u=e=>e*parseFloat(i("html").css("font-size"));var m;!function(e){e.Small="small",e.Medium="medium",e.Large="large",e.Xlarge="xlarge",e.Xxlarge="xxlarge"}(m||(m={}));const p=function(){return d||(d={small:{start:0,end:u(a)},medium:{start:u(a),end:u(r)},large:{start:u(r),end:u(l)},xlarge:{start:u(l),end:u(c)},xxlarge:{start:u(c),end:999999999}}),d};let h=p,g=null;i(window).resize((()=>{g=null}));const b=function(){return null==g&&(g=i(window).width()),g};let f=b;function v(){const e=h(),t=f();return t>=e.small.start&&t<e.small.end?m.Small:t>=e.medium.start&&t<e.medium.end?m.Medium:t>=e.large.start&&t<e.large.end?m.Large:t>=e.xlarge.start&&t<e.xlarge.end?m.Xlarge:m.Xxlarge}function y(){return v()===m.Small}function k(){return v()===m.Medium}function x(){return v()===m.Large}function S(){return v()===m.Xlarge}function C(){return v()===m.Xxlarge}function E(){return x()||S()||C()}function I(e){return e.replace("@media","").trim()}const w={smallUp:window.matchMedia(I(s.BbMediaQueries.smallUp)),smallOnly:window.matchMedia(I(s.BbMediaQueries.smallOnly)),mediumUp:window.matchMedia(I(s.BbMediaQueries.mediumUp)),mediumOnly:window.matchMedia(I(s.BbMediaQueries.mediumOnly)),largeUp:window.matchMedia(I(s.BbMediaQueries.largeUp)),largeOnly:window.matchMedia(I(s.BbMediaQueries.largeOnly)),xlargeUp:window.matchMedia(I(s.BbMediaQueries.xLargeUp)),xlargeOnly:window.matchMedia(I(s.BbMediaQueries.xLargeOnly)),xxlargeUp:window.matchMedia(I(s.BbMediaQueries.xXLargeUp))},A={smallUp:w.smallUp,smallOnly:w.smallOnly,mediumUp:w.mediumUp,mediumOnly:w.mediumOnly,largeUp:w.largeUp,largeOnly:w.largeOnly,xlargeUp:w.xlargeUp,xlargeOnly:w.xlargeOnly,xxlargeUp:w.xxlargeUp,"small-up":w.smallUp,"small-only":w.smallOnly,"medium-up":w.mediumUp,"medium-only":w.mediumOnly,"large-up":w.largeUp,"large-only":w.largeOnly,"xlarge-up":w.xlargeUp,"xlarge-only":w.xlargeOnly,"xxlarge-up":w.xxlargeUp}},"f4B+":function(e,t,n){"use strict";var i=n("71td"),s=n("BqZm"),a=n.n(s);class o extends a.a{static text(e){return i("<div></div>").html(e).text()}}Object.setPrototypeOf(o,a.a),t.a=o},f80m:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-import-export",use:"icon-small-import-export-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-import-export"><path d="M15 9.091V15H1V1h5.909" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M6 7v3h3M12 1h3v3M6 10l9-9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},f8ya:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return d}));var i,s=n("zGdY");!function(e){e.Add="Add",e.Delete="Delete",e.ValueChange="ValueChange",e.NoChange="NoChange"}(i||(i={}));class a{constructor(e,t){this.type=e,this.value=t}equals(e){return null==e?this.hasNoAccommodation():this.type===s.fc.Custom?this.value===e.value:this===e||this.type===e.type}hasNoAccommodation(){return!1}get hasAccommodation(){return!this.hasNoAccommodation()}}class o extends a{compare(e){return this.equals(e)?i.NoChange:this.hasAccommodation?i.Add:i.Delete}}class r extends o{constructor(){super(s.D.Normal)}hasNoAccommodation(){return!0}}class l extends a{compare(e){return this.equals(e)?i.NoChange:this.hasAccommodation?e.hasAccommodation?i.ValueChange:i.Add:i.Delete}toKey(){switch(this.type){case s.fc.NoAccommodation:return"NoAccommodation";case s.fc.Unlimited:return"Unlimited";default:return"Custom"}}}class c extends l{constructor(){super(s.fc.NoAccommodation)}hasNoAccommodation(){return!0}}class d{constructor(e,t){null!=e&&(this.dueDate=e),null!=t&&(this.timeLimit=t)}static fromTypes(e,t){const n=new d;var i;return n.dueDate=null==(i=e)||i===s.D.Normal?new r:new o(i),n.timeLimit=function(e){if(null==e||e===s.fc.NoAccommodation)return new c;if(e!==s.fc.Unlimited){const t=parseInt(e+"",10);return new l(s.fc.Custom,t)}return new l(e)}(t),n}clone(){return this.timeLimit.type===s.fc.Custom?d.fromTypes(this.dueDate.type,this.timeLimit.value):d.fromTypes(this.dueDate.type,this.timeLimit.type)}equals(e){return e.dueDate.equals(this.dueDate)&&e.timeLimit.equals(this.timeLimit)}compare(e){return{dueDate:this.dueDate.compare(e.dueDate),timeLimit:this.timeLimit.compare(e.timeLimit)}}get hasAccommodation(){return this.dueDate.hasAccommodation||this.timeLimit.hasAccommodation}}},fGDP:function(e,t,n){"use strict";var i=n("D57K"),s=(n("HwkA"),n("CG4K"),n("8wib"),n("6ZXc"),n("3Lzw"),n("5m/6"),n("nsO7")),a=n("Llzl"),o=n("en1n"),r=(n("s4xR"),n("lx16")),l=n("RPq7"),c=n("D8d/"),d=n("pKNj"),u=n("X/qj"),m=n("o5Lu"),p=n("P2dS"),h=n("ujI6"),g=n("0JpG"),b=n("lEL+"),f=n("IbyE"),v=n("Efpj"),y=n("ZQFV"),k=n("aHpC"),x=n("2VX+"),S=n("fnL1");const C="ultra.components.directives.grade.courseGradesGraderList";let E=class{constructor(e,t,n,i,s,a){this.scope=e,this.attrs=t,this.gradebookPermissionService=n,this.$ngRedux=i,this.grade=s,this.categoryService=a,this.categoryMap={},this.onMoveGraderItem=e=>{const t=this.findGraderItemById(e.dragContentId),n=t.positionBeforeId?t.positionBeforeId:null,i=t.positionAfterId?t.positionAfterId:null,s=this.columns.indexOfItemById(e.dragContentId);let a=null;return e.positionBeforeId?(a=this.columns.indexOfItemById(e.positionBeforeId),-1!==a&&-1!==s&&s<a&&a--,t.positionBeforeId=e.positionBeforeId):e.positionAfterId&&(a=this.columns.indexOfItemById(e.positionAfterId),-1!==a&&-1!==s&&s>a&&a++,t.positionAfterId=e.positionAfterId),null==a||s===a||-1===s||-1===a?(t.positionBeforeId=n,void(t.positionAfterId=i)):(this.columns.splice(a,0,this.columns.splice(s,1)[0]),t.$patch())},this.canModify=this.gradebookPermissionService.canModify(),this.contextArea="grades",this.columns=e.columns,this.course=e.course(),this.hasColumns=!0,this.subscribeToReduxChanges(),this.categoryService.getOrLoadCategoriesForCourse(this.scope.course().id).then((e=>{e.forEach((e=>{this.categoryMap[e.id]=e}))})),this.scope.showSetupOverallColumn&&this.loadSetupOverallGradeMessageIsHiddenPreference&&!this.setupOverallGradeMessageIsHiddenPreference&&this.loadSetupOverallGradeMessageIsHiddenPreference(y.K.key).then((()=>{var e;const t="true"===(null===(e=this.setupOverallGradeMessageIsHiddenPreference)||void 0===e?void 0:e.value);this.showSetupOverallGradeMessage=!t})),e.$watchCollection("columns",(t=>{t&&(this.columns=t,this.hasColumns=0!==t.length,this.attendanceColumnExists=this.columns.some((e=>e.isAttendance())),e.$broadcast("update-content-menu"))})),e.$on("content-item-mouseover",((t,n)=>{e.$apply((()=>{e.$broadcast("content-item-hover",n)}))})),e.$on("course-gradebook-mouse-leave",(()=>{e.$broadcast("content-outline-hover-end")})),e.$on("attempt-base-content-update",((e,t)=>{const n=this.columns.filter((e=>t.id===e.contentId));n.length>0&&n.forEach((e=>{e.$fetch()}))})),e.$on("bb-change-overall-panel-visibility",((e,t,n)=>{var i;if(this.course.id!==t&&this.course.isComplete())return;const s="true"===(null===(i=this.setupOverallGradeMessageIsHiddenPreference)||void 0===i?void 0:i.value);this.showSetupOverallGradeMessage=s?!s:n}))}subscribeToReduxChanges(){const e=this.$ngRedux.connect((e=>({setupOverallGradeMessageIsHiddenPreference:f.gc.coursePreference.getCoursePreferenceByKeyAndCourseId(e,y.K.key,this.course.id)})),(e=>({loadSetupOverallGradeMessageIsHiddenPreference:t=>e(f.X.coursePreference.loadCoursePreference({key:t,courseId:this.course.id}))})))(this);this.scope.$on("$destroy",e)}findGraderItemById(e){return s.find(this.columns,(t=>t.id===e))}setupOverallGradeHideMessageCallback(){this.scope.$apply((()=>this.showSetupOverallGradeMessage=!1))}onClickSort(e){this.scope.onClickSortIcon({headerName:e})}getSortTypeValue(e){return Object(S.a)(e,this.scope.sortAttributes)}getAriaLabelString(e){var t;return(null===(t=this.scope.sortAttributes)||void 0===t?void 0:t.sortType)&&this.scope.sortAttributes.columnName===e?"components.directives.grade.course-grades-grader-list.headers.aria-label."+e+"."+this.scope.sortAttributes.sortType:"components.directives.grade.course-grades-grader-list.headers.aria-label."+e+".none"}};E=Object(i.a)([Object(i.c)(0,Object(k.b)("scope")),Object(i.c)(1,Object(k.b)("attrs")),Object(i.c)(2,Object(k.b)(u.b)),Object(i.c)(3,Object(k.b)("$ngRedux")),Object(i.c)(4,Object(k.b)(m.n)),Object(i.c)(5,Object(k.b)(p.c))],E);class I{constructor(e,t){this.$injector=e,this.timeout=t,this.restrict="E",this.template=v,this.scope={course:"&",columns:"=",showSetupOverallColumn:"=",isFirst:"=",attendanceIsAvailable:"&",sortAttributes:"=",onClickSortIcon:"&"},this.link=(e,t,n)=>{this.timeout((()=>{e.courseGradesGraderList=this.$injector.instantiate(E,{scope:e,element:t,attrs:n})}),e)}}}I.$inject=["$injector",b.b],a.module(C,[d.a,h.c,r.a,l.b,c.a,x.a]).directive("bbCourseGradesGraderList",["$injector",g.serviceName,(e,t)=>(t.loadBundle("components/directives/grade/course-grades-grader-list"),e.instantiate(I))]);var w=n("jhBu"),A=n("cbVV");const O="ultra.components.services.gradebookSearchbox",D="gradebookSearchbox";var T;!function(e){e.USER="user",e.COLUMN="column",e.CATEGORY="category",e.NO_RESULT="noResult"}(T||(T={}));let P=class e{constructor(e,t,n){this.$rootScope=e,this.$q=t,this.bbLocalize=n}typeAheadSearch(t,n,i){const s=new RegExp("^.*"+t.replace(e.REGULAR_EXPRESSION_TOKENS,"\\$&")+".*$","i"),a=[];this.searchUsersResults(s,t,i).forEach((e=>{a.push({type:T.USER,data:e})}));this.searchColumnResults(s,t,n).forEach((e=>{a.push({type:T.COLUMN,data:e})}));return this.searchCategoryResults(s,t,n).forEach((e=>{a.push({type:T.CATEGORY,data:e,id:e.data.gradebookCategory.id})})),0===a.length&&a.push({type:T.NO_RESULT,data:null}),a}searchUsersResults(e,t,n){const i=[n=>{const i=(n,i)=>e.test(n)&&0===n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())&&t.length>i;return i(`${n.user.givenName} ${n.user.familyName}`,n.user.givenName.length)||i(`${n.user.familyName} ${n.user.givenName}`,n.user.familyName.length)},t=>e.test(`${t.user.givenName}`),t=>e.test(`${t.user.familyName}`),t=>t.user.userName&&e.test(t.user.userName),t=>t.user.studentId&&e.test(t.user.studentId)];return Object(s.orderBy)(n.filter((e=>{let n=0;const s=i.findIndex((t=>t(e)));switch(s){case 1:n=e.user.givenName.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());break;case 2:n=e.user.familyName.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())+.5;break;case 3:n=e.user.userName.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())+100;break;case 4:n=e.user.studentId.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())+1e3}return e.ui._weight=n,s>=0})),["ui._weight","user.givenName","user.familyName"],["asc","asc","asc"])}searchColumnResults(e,t,n){const i=[t=>e.test(`${t.data.columnName}`)],a=n.filter((e=>!(e instanceof A.l||e instanceof A.k)));return Object(s.orderBy)(a.filter((e=>{let n=0;const s=i.findIndex((t=>t(e)));return-1!==s&&(n=e.data.effectiveColumnName&&e.data.effectiveColumnName.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())),e.weight=n,s>=0})),["weight","data.columnName"],["asc","asc"])}searchCategoryResults(e,t,n){const i=[(()=>t=>{const n=this.getCategoryTitle(t.data.gradebookCategory);return e.test(`${n}`)})()],a=n.filter((e=>!!e.data.gradebookCategory)),o=Object(s.uniqBy)(a,(e=>e.data.gradebookCategory.id));return Object(s.orderBy)(o.filter((e=>{let n=0;const s=i.findIndex((t=>t(e))),a=this.getCategoryTitle(e.data.gradebookCategory);return-1!==s&&(n=a.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())),e.weight=n,s>=0})),["weight","data.categoryTitle"],["asc","asc"])}getCategoryTitle(e){return e.isUserDefined?e.title:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$rootScope),key:e.localizableTitle.languageKey})}};P.REGULAR_EXPRESSION_TOKENS=/[-\/\\^$*+?.()|[\]{}]/g,P=Object(i.a)([Object(i.c)(0,Object(k.b)("$rootScope")),Object(i.c)(1,Object(k.b)("$q")),Object(i.c)(2,Object(k.b)(g.serviceName))],P);a.module(O,[g.moduleName]).service(D,P);var $=n("lr7J"),G=n("12mu"),j=n("pjml"),L=n("TnpK"),N=n("yC9S"),B=n("oQrK"),M=n("LN5R"),R=n("qH3X"),F=n("2o5C"),V=n("kp/p"),_=n("ERkP"),U=n("1ZbL");const H="ultra.directives.grade.studentListViewTable";class z extends _.Component{render(){const{analyticsId:e,courseId:t,currentUserId:n}=this.props;return _.createElement(y.L,{analyticsId:e,courseId:t,currentUserId:n})}}const q={Class:z,attributes:["analyticsId"],bindingNames:["courseId","currentUserId"],renderLocalized:!0,withProvider:!0};a.module(H,[]).component("bbStudentListViewTable",Object(U.a)(q));var W=n("fYJU");const K="ultra.components.directives.studentListView";let J=class{constructor(e,t){this.scope=e,this.currentUserId=t.userId}};J=Object(i.a)([Object(i.c)(0,Object(k.b)("scope")),Object(i.c)(1,Object(k.b)(W.b))],J);let Q=class{constructor(e){this.$injector=e,this.restrict="E",this.template='<bb-student-list-view-table\n                        analytics-id="components.directives.grades.studentListView"\n                        course-id="studentListView.scope.courseId"\n                        current-user-id="studentListView.currentUserId"\n                      ></bb-student-list-view-table>',this.scope={courseId:"<"},this.link=e=>{e.studentListView=this.$injector.instantiate(J,{scope:e})}}};Q=Object(i.a)([Object(i.c)(0,Object(k.b)("$injector"))],Q),angular.module(K,[H]).directive("bbStudentListView",["$injector",e=>e.instantiate(Q)]);const Z="ultra.directives.grade.overallGradeSetup",Y={Class:({showFixedView:e,courseId:t,analyticsId:n,setupOverallGradeHideMessageCallback:i})=>_.createElement(y.D,{analyticsId:n,showFixedView:e,courseId:t,setupOverallGradeHideMessageCallback:i}),attributes:["analyticsId"],bindingNames:["showFixedView","courseId","setupOverallGradeHideMessageCallback"],renderLocalized:!0,withProvider:!0,withThemeProvider:!0};a.module(Z,[]).component("bbOverallGradeSetup",Object(U.a)(Y));const X="ultra.components.directives.setupOverallGrade";let ee=class{constructor(e){this.$injector=e,this.restrict="E",this.template='<bb-overall-grade-setup\n                        analytics-id="components.directives.grade.overall-panel"\n                        show-fixed-view="showFixedView"\n                        course-id="courseId"\n                        setup-overall-grade-hide-message-callback="setupOverallGradeHideMessageCallback">\n                      </bb-overall-grade-setup>',this.scope={showFixedView:"<",courseId:"<",setupOverallGradeHideMessageCallback:"&"}}};ee=Object(i.a)([Object(i.c)(0,Object(k.b)("$injector"))],ee),angular.module(X,[Z]).directive("bbSetupOverallGrade",["$injector",e=>e.instantiate(ee)]);var te=n("cpZm"),ne=n("zYa8"),ie=n("93oC");const se="ultra.components.directives.bbUiIcon.small.FilterOptions";Object(ne.a)(ie.a,se,"bbUiIconSmallFilterOptions");var ae=n("KvMR"),oe=n("884J"),re=n("c6mg"),le=n("3+vU"),ce=n("Pq3J");const de="ultra.components.directives.grade.gradebook-advanced-filters-ftue";let ue=class{constructor(e,t,n){this.$scope=e,this.$q=t,this.localizeService=n,this.translate("components.directives.grade.course-grades-grader.ftue.advancedFilters.buttonAriaLabel").then((e=>this.buttonAriaLabel=e)),this.translate("components.directives.grade.course-grades-grader.ftue.advancedFilters.title").then((e=>this.announcementTitle=e)),this.translate("components.directives.grade.course-grades-grader.ftue.advancedFilters.content").then((e=>this.content=e)),this.translate("components.directives.grade.course-grades-grader.ftue.advancedFilters.doneButtonText").then((e=>this.doneButtonText=e)),this.translate("global.close").then((e=>this.closeLabel=e)),this.translate("components.directives.grade.course-grades-grader.ftue.advancedFilters.moreInfoLinkText").then((e=>this.linkText=e)),this.translate("components.directives.grade.course-grades-grader.ftue.advancedFilters.moreInfoLinkUrl").then((e=>this.linkHref=e))}translate(e){return this.localizeService.translate({locale:this.localizeService.getLocale(this.$scope),key:e,noWrap:!0,noEscape:!0})}};ue=Object(i.a)([Object(N.a)({moduleName:de,componentName:"bbGradebookAdvancedFiltersFtue",template:ce,bindings:{},requireModules:[le.a]}),Object(i.c)(0,Object(k.b)("$scope")),Object(i.c)(1,Object(k.b)("$q")),Object(i.c)(2,Object(k.b)(g.serviceName))],ue);var me=n("PxC7");const pe="ultra.components.directives.bbUiIcon.medium.ContentView";Object(ne.a)(me.a,pe,"bbUiIconMediumContentView");var he=n("Sa5G"),ge=n("po/h"),be=n("dF44"),fe=n("ZzR9"),ve=n("Y+9S"),ye=n("ewIX"),ke=n("yYax");n.d(t,"c",(function(){return xe})),n.d(t,"a",(function(){return Se})),n.d(t,"b",(function(){return Ee}));const xe="ultra.directives.grade.courseGradesGrader",Se="after-update-grades";var Ce,Ee;!function(e){e[e.NeedsGrading=1]="NeedsGrading",e[e.NeedsPostingOrAllGraded=2]="NeedsPostingOrAllGraded",e[e.AllPosted=3]="AllPosted",e[e.NothingToGrade=4]="NothingToGrade",e[e.Restricted=5]="Restricted",e[e.Attendance=6]="Attendance",e[e.Other=7]="Other"}(Ce||(Ce={})),function(e){e.List="list",e.Grid="grid"}(Ee||(Ee={}));const Ie=new Set([Ee.List,Ee.Grid]),we=Ee.List,Ae=new Set([te.a.id,te.b.id]),Oe=te.a.id,De="item";let Te=class{constructor(e,t,n,i,s,a,o,r,l,c,d,u,p){this.$modal=e,this.$location=t,this.scope=n,this.$q=i,this.entitlementService=s,this.grade=a,this.gradebookPermissionService=o,this.categoryService=r,this.ultraState=l,this.timeout=c,this.gradeSearchBox=d,this.bbLocalize=u,this.$ngRedux=p,this.GRADE_COLUMN_LOAD_LIMIT=1e3,this.GRADE_COLUMN_RENDER_LIMIT=50,this.currentlyLoading=!1,this.categoryTitleMap={},this.allCategoriesLoaded=!1,this.isDesktop=!1,this.firstRender=!0,this.canDownloadGradebook=!1,this.canUploadGradebook=!1,this.showFilterCriteriaSettings=!1,this.mergedCourses=[],this.filteredColumns=[],this.filteredRows=[],this.advancedFiltersEmptyResults=!1,this.checkForURLFilters=()=>{const e=this.$location.search();this.hasUrlFilters=!!(e.memberId||e.gradebookColumnId||e.gradebookCategoryId||e.courseGroupId||e.childCourseId)},this.changeListViewType=e=>{Ae.has(e)&&(this.currentTabId=e,this.resetSortAttributes())},this.handleLocationChanged=()=>{var e;const t=null===(e=this.$location.search())||void 0===e?void 0:e.gradebookView;Ie.has(t)&&(this.view=t)};const h=l.params.gradebookView,g=l.params.listViewType;this.resetSortAttributes(),this.setUpLastViewGradebookPreferenceKey(),this.subscribeToReduxChanges(),this.isDesktop=B.a.detect().desktop(),Ie.has(h)?this.view=h:this.getLastViewPreference(),Ae.has(g)?this.currentTabId=g:this.currentTabId=Oe,this.checkForURLFilters(),n.$on(fe.a.$locationChangeSuccess,this.checkForURLFilters),this.setupColumnUpdateResponder(),this.setupColumnDeleteResponder(),this.setupViewChange(),this.setupBreakpointChange(),this.setupListViewTypeChange(),this.userHasViewGradebookPermission=this.gradebookPermissionService.canView(),n.$on("bb-update-category-icon",((e,t,n)=>{t.categoryTitle=this.categoryTitleMap[n]})),n.$on(F.b,(()=>{this.expandColumnSummaries(this.visibleColumns)})),n.$on(R.a.GRADEBOOK_CLEAR_SEARCHBOX_SELECTION,(e=>{this.updateFilteredCount()})),n.$on(R.a.ADVANCED_FILTERS_COLUMNS,((e,t)=>{var n,i;this.filteredColumns=t,T.CATEGORY!==(null===(n=this.selectedItem)||void 0===n?void 0:n.type)&&T.COLUMN!==(null===(i=this.selectedItem)||void 0===i?void 0:i.type)||this.itemSelected(this.selectedItem)})),n.$on(R.a.ADVANCED_FILTERS_ROWS,((e,t)=>{var n;this.filteredRows=t,T.USER===(null===(n=this.selectedItem)||void 0===n?void 0:n.type)&&this.itemSelected(this.selectedItem)})),N.b.OnRootScope(n,m.c,((e,t)=>{const n=this.visibleColumns.find((e=>e.id===t.columnId));n&&(n.summary.$fetch(),this.scope.$root.$broadcast("bb-update-summary"),this.scope.$root.$broadcast("bb-update-category-icon",n),this.replaceOrInsertColumnWrapper(n),n.$fetch())})),this.canUploadGradebook=o.canModify(),this.scope.courseGrades.course.$then((e=>{e.isToolAvailable("bb-attendance").then((e=>{this.attendanceIsAvailable=e})),this.loadColumns(),this.course=e,this.loadMergedCourse(),this.canDownloadGradebook=o.canViewGrades()&&this.entitlementService.isEntitled("course.gradebook-data.export.EXECUTE",this.course.id),this.notifyMobileApp()}))}getLastViewPreference(){this.isDesktop&&!this.isSmallScreen?this.loadUserPreference({key:this.lastViewGradebookPreferenceKey}).then((()=>{const e=this.lastViewPreference;this.view=(null==e?void 0:e.value)&&Ie.has(e.value)?e.value:we})).catch((()=>{this.view=we})):this.view=we}notifyMobileApp(){if(Object(ve.m)()){const e={showDownload:this.canDownloadGradebook,showSettings:this.userHasViewGradebookPermission,showUpload:this.canUploadGradebook,showSubmissionReceipt:!0},t={type:ve.c.CourseGradeOpened,status:ve.b.Success,permission:e},n=Object(ve.q)(t);n.response.subscribe((e=>this.mobileEventHandlerSubscriber(e))),this.scope.$on("$destroy",(()=>{Object(ve.f)(n.correlationId)}))}}mobileEventHandlerSubscriber(e){e.event===ve.a.GotoSettings?this.ultraState.goPeekState(ye.a.GRADE_SETTING):e.event===ve.a.GotoDownload?this.ultraState.goPeekState(ye.a.GRADE_DOWNLOAD_SETTINGS):e.event===ve.a.GotoUpload?this.ultraState.goPeekState(ye.a.GRADE_UPLOAD):e.event===ve.a.GotoSubmissionReceipt&&this.ultraState.goPeekState(ye.a.ATTEMPT_RECEIPT_SEARCH)}get squareToggleValue(){return this.isGridView?Ee.Grid:Ee.List}set squareToggleValue(e){void 0!==this.lastViewGradebookPreferenceKey&&this.saveUserPreference({key:this.lastViewGradebookPreferenceKey,value:e}),this.isGridView||this.resetSortAttributes(),this.view=e}get areFilterResultsEmpty(){const e=this.filteredColumns.filter((e=>!(e instanceof A.k||e instanceof A.l)));return this.hasUrlFilters&&(0===e.length||0===this.filteredRows.length||this.selectionNotAvailable)}clearSelection(){var e,t,n;T.USER===(null===(e=this.selectedItem)||void 0===e?void 0:e.type)?this.scope.$broadcast(be.b.ROW,this.filteredRows):T.CATEGORY!==(null===(t=this.selectedItem)||void 0===t?void 0:t.type)&&T.COLUMN!==(null===(n=this.selectedItem)||void 0===n?void 0:n.type)||this.scope.$broadcast(be.b.COLUMN,this.filteredColumns),this.selectedItem=void 0,this.selectionNotAvailable=!1}itemSelected(e){switch(this.clearSelection(),this.selectedItem=e,e.type){case T.USER:return this.selectUser(e);case T.COLUMN:return this.selectColumn(e);case T.CATEGORY:return this.selectCategory(e)}}selectUser(e){const t=e.data.user.id,n=this.filteredRows.findIndex((e=>e.userId===t));return this.selectionNotAvailable=-1===n,-1!==n&&this.scope.$broadcast(R.a.GRADEBOOK_USER_SELECTED,[t]),this.bbLocalize.formatUsernameSync(e.data.user,g.ILocaleUsernameFormat.Short,this.scope,{noWrap:!0,noEscape:!0})}selectColumn(e){const t=e.data.id,n=this.filteredColumns.findIndex((e=>e.id===t));return this.selectionNotAvailable=-1===n,-1!==n&&this.scope.$broadcast(R.a.GRADEBOOK_COLUMN_SELECTED,[t]),e.data.getMetadata().columnName}selectCategory(e){const t=e.id,n=this.filteredColumns.findIndex((e=>e.data.gradebookCategoryId===t));return this.selectionNotAvailable=-1===n,-1!==n&&this.scope.$broadcast(R.a.GRADEBOOK_CATEGORY_SELECTED,[t]),this.gradeSearchBox.getCategoryTitle(e.data.getMetadata().gradebookCategory)}typeAheadSearch(e){const t=this.gradeSearchBox.typeAheadSearch(e,this.filteredColumns,this.filteredRows);return this.$q.resolve(t)}renderMoreColumns(){if(this.currentlyLoading||this.firstRender)this.firstRender=!1;else if(this.columns.length<this.visibleColumns.length){const e=this.addColumns();this.scope.$root.$broadcast($.a,"course-grades-grader",e)}}addColumns(){const e=this.$q.defer();return this.timeout((()=>{const t=this.columns.length;this.visibleColumns.length-t>this.GRADE_COLUMN_RENDER_LIMIT?this.columns.push(...this.visibleColumns.$slice(t,t+this.GRADE_COLUMN_RENDER_LIMIT)):this.columns.push(...this.visibleColumns.$slice(t,this.visibleColumns.length)),e.resolve()}),this.scope,1e3),e.promise}showGradeListContainer(){return this.allCategoriesLoaded&&(this.columns.length>0&&!this.hasUrlFilters||this.hasUrlFilters)}updateFilteredCount(){this.filteredCount=this.mergedCourses.filter((e=>!0===e.ui.checked)).length}calculateCanAddOverallGrade(e,t){if(!this.gradebookPermissionService.canModify())return void(this.showSetupOverallColumn=!1);(!t||this.course.id===t)&&!this.course.isComplete()?this.showSetupOverallColumn=e:this.showSetupOverallColumn=!1}loadColumns(){this.currentlyLoading=!0;const e=this.grade.loadColumns(this.scope.courseGrades.course,!0,{expand:"collectExternalSubmissions",limit:this.GRADE_COLUMN_LOAD_LIMIT,offset:this.visibleColumns?this.visibleColumns.length:0});this.scope.$root.$broadcast($.a,"course-grades-grader",e),e.then((e=>e.attachRelatedContentsByScoreProviderHandle(f.Q.Scorm))).then((e=>{this.removeNotVisibleColumns(e),this.visibleColumns&&this.visibleColumns.length>0?this.visibleColumns.concat(e):this.visibleColumns=e,this.totalColumnCount=e.paging.count,e.paging.nextPage?this.loadColumns():(this.currentlyLoading=!1,this.loadCategories(),this.grade.needsToSetupOverall(this.visibleColumns,this.course.id).then((e=>{this.calculateCanAddOverallGrade(e)})),this.visibleColumns.length>this.GRADE_COLUMN_RENDER_LIMIT?this.columns=this.visibleColumns.$slice(0,this.GRADE_COLUMN_RENDER_LIMIT):this.columns=this.visibleColumns,this.expandColumnSummaries(this.visibleColumns))}))}expandColumnSummaries(e){const t=1e3,n=e.paging&&e.paging.count||t,i=this.course.gradebook.summaries.expandingColumns(e);return this.$q.all(s.range(0,n,t).map((e=>i.$fetch({limit:t,offset:e,excludeCalculations:!0}).$asPromise()))).then((()=>e))}loadCategories(){this.categoryService.getOrLoadCategoriesForCourse(this.scope.courseGrades.course.id).then((e=>{e.forEach((e=>{this.categoryTitleMap[e.id]=e.title})),this.visibleColumns&&this.visibleColumns.forEach((e=>{e.gradebookCategoryId&&(e.categoryTitle=this.categoryTitleMap[e.gradebookCategoryId])})),this.allCategoriesLoaded=!0}))}loadMergedCourse(){this.entitlementService.isEntitled(he.j.ViewChildCourse,this.course.id)&&this.course.getChildrenCourses().then((e=>{const t=s.sortBy(e,(e=>e.childCourse.name));this.mergedCourses.push(...t),this.mergedCourses.forEach((e=>{e.ui={checked:!1,hidden:!1}}))}))}setupColumnUpdateResponder(){this.scope.$on(m.d,((e,t)=>{this.replaceOrInsertColumnWrapper(t),t.summary.$fetch()})),this.scope.$on("content-update",((e,t)=>{if(t.isScorm()){t.getScormGradebookItems().forEach((e=>{const n=this.course.gradebook.columns.$buildRaw(e.gradingColumn);n.ui={content:t},this.replaceOrInsertColumnWrapper(n),n.summary.$fetch()}))}})),this.scope.$on("bb-change-overall-panel-visibility",((e,t,n)=>{this.calculateCanAddOverallGrade(n,t)})),this.scope.$on("$stateChangeStart",((e,t,n,i)=>{if(i.name.indexOf("attendance")>-1){const e=this.visibleColumns.find((e=>e.isAttendance()));e?e.$fetch().$asPromise().then((()=>this.removeNotVisibleColumns(this.columns))):this.loadColumns()}})),this.scope.$on(V.b,((e,t)=>{this.grade.loadColumns(this.scope.courseGrades.course,!0).then((e=>{this.visibleColumns=e,this.visibleColumns.forEach((e=>e.summary.$fetch())),this.scope.$broadcast(Se,t)}))}))}replaceOrInsertColumnWrapper(e){const t=this.replaceOrInsertColumn(this.visibleColumns,e);this.columns!==this.visibleColumns&&t<this.columns.length&&this.replaceOrInsertColumn(this.columns,e)}replaceOrInsertColumn(e,t){let n=s.findIndex(e,(e=>e.id===t.id));return n>-1?e[n]=t:(t.positionBeforeId?n="start"===t.positionBeforeId.toLowerCase()?0:s.findIndex(e,(e=>t.positionBeforeId===e.id)):t.positionAfterId&&("start"===t.positionAfterId.toLowerCase()?n=0:"end"===t.positionAfterId.toLowerCase()?n=e.length:(n=s.findIndex(e,(e=>t.positionAfterId===e.id)),n>=0&&n++)),n>=e.length||n<0?e.push(t):e.splice(n,0,t),this.totalColumnCount++),n>-1?n:0}_removeColumn(e,t){const n=s.findIndex(e,(e=>e.id===t.id));n>-1&&e.splice(n,1)}removeNotVisibleColumns(e){let t=0;e.forEach(((n,i)=>{!1===n.visibleInBook&&(e.splice(i,1),t++,n.isAttendance()&&(this.scope.$broadcast("bb-delete-column",n),this.scope.$root.$broadcast("bb-reload-grid-view"),this.attendanceIsAvailable=!1))})),e.paging.count=e.paging.count-t}setupColumnDeleteResponder(){this.scope.$on("bb-delete-column",((e,t)=>{this.removeColumn(t),t.externalGrade&&(this.scope.$root.$broadcast("bb-reload-grid-view"),this.scope.$root.$broadcast("bb-change-overall-panel-visibility",t.courseId,!0))}))}removeColumn(e){if(this._removeColumn(this.visibleColumns,e),this.columns!==this.visibleColumns&&this._removeColumn(this.columns,e),this.totalColumnCount--,e&&e.contentId){const t=this.visibleColumns&&this.visibleColumns.find((t=>t.contentId===e.contentId));t&&this.removeColumn(t)}}setupViewChange(){this.scope.$watch("courseGradesGrader.view",(()=>{var e;const t=!(null===(e=this.$location.search())||void 0===e?void 0:e.gradebookView);this.ultraState.search("gradebookView",this.view,{location:!t||"replace",notify:!1}),this.scope.$root.$broadcast(R.a.GRADEBOOK_CLEAR_SEARCHBOX_SELECTION,!0)})),this.scope.$on(fe.a.$locationChangeSuccess,this.handleLocationChanged)}setupListViewTypeChange(){this.scope.$watch("courseGradesGrader.currentTabId",(()=>{this.ultraState.search("listViewType",this.currentTabId)}))}setupBreakpointChange(){N.b.OnWindow("resize",s.debounce((()=>{o.k()&&this.isGridView&&(this.view=Ee.List)}),100),this.scope)}setUpLastViewGradebookPreferenceKey(){const e=this.scope.courseGrades.course.id.replace(/_/g,".");this.lastViewGradebookPreferenceKey="grade.last.gradebook.view"+e}subscribeToReduxChanges(){const e=this.$ngRedux.connect((e=>({lastViewPreference:f.gc.userPreference.getUserPreferenceByKey(e,this.lastViewGradebookPreferenceKey)})),(e=>({loadUserPreference:t=>e(f.X.userPreference.loadUserPreference({...t})),saveUserPreference:t=>e(f.X.userPreference.persistUserPreference(t))})))(this);this.scope.$on("$destroy",e)}get isSmallScreen(){return o.k()}get isGridView(){return this.view===Ee.Grid}get isGradableItemsListView(){return this.view===Ee.List&&this.currentTabId===te.a.id}get isStudentListView(){return this.view===Ee.List&&this.currentTabId===te.b.id}resetSortAttributes(){this.sortAttributes={columnName:De,sortType:ke.a.NONE},this.sortColumnsByPosition()}sortColumnsByPosition(){this.visibleColumns&&this.visibleColumns.sort(((e,t)=>e.position-t.position))}onClickSortIcon(e){this.sortAttributes=Object(S.b)(e,this.sortAttributes),this.sortColumnByHeaderName()}sortColumnByHeaderName(){var e,t;if(this.sortColumnsByPosition(),(null===(e=this.sortAttributes)||void 0===e?void 0:e.sortType)===ke.a.ASCENDING||(null===(t=this.sortAttributes)||void 0===t?void 0:t.sortType)===ke.a.DESCENDING)switch(this.sortAttributes.columnName){case De:this.sortColumnByFieldName(this.sortAttributes.sortType);break;case"dueDate":this.sortColumnByDueDate(this.sortAttributes.sortType);break;case"gradingStatus":this.sortColumnByStatus(this.sortAttributes.sortType);break;case"post":this.sortColumnByPost(this.sortAttributes.sortType)}this.setPagingDataToColumn()}setPagingDataToColumn(){this.visibleColumns.length>this.GRADE_COLUMN_RENDER_LIMIT?(this.columns.$clear(),this.columns.push(...this.visibleColumns.$slice(0,this.GRADE_COLUMN_RENDER_LIMIT))):this.columns=this.visibleColumns}sortColumnByFieldName(e){this.visibleColumns.sort(((t,n)=>e===ke.a.ASCENDING?t.columnName.localeCompare(n.columnName):n.columnName.localeCompare(t.columnName)))}sortColumnByDueDate(e){const t=[],n=[],i=[];this.visibleColumns.forEach((e=>{e.isAttendance()?t.push(e):e.dueDate?i.push(e):n.push(e)})),e===ke.a.ASCENDING?(i.sort(((e,t)=>e.dueDate.getTime()-t.dueDate.getTime())),this.visibleColumns.$clear(),this.visibleColumns.push(...i,...t,...n)):(i.sort(((e,t)=>t.dueDate.getTime()-e.dueDate.getTime())),this.visibleColumns.$clear(),this.visibleColumns.push(...n,...t,...i))}sortColumnByStatus(e){this.visibleColumns.sort(((t,n)=>{const i=this.getStatusPriorityFromSummary(t),s=this.getStatusPriorityFromSummary(n);if(i===Ce.NeedsGrading&&s===Ce.NeedsGrading){let i=0,s=0;return i=t.isCollectExternalSubmissions()?this.getNumberEligibleToBeGradedExternalSubmissions(t):t.isOffline()?t.summary.numStudentsNeedsGrading:this.getNumberOfSubmissionsNeedsGrading(t),s=n.isCollectExternalSubmissions()?this.getNumberEligibleToBeGradedExternalSubmissions(n):n.isOffline()?n.summary.numStudentsNeedsGrading:this.getNumberOfSubmissionsNeedsGrading(n),e===ke.a.ASCENDING?i-s:s-i}return e===ke.a.ASCENDING?i-s:s-i}))}getNumberOfSubmissionsNeedsGrading(e){return null==e.summary.numSubmissionsNeedsGrading?e.summary.numSubmissionsNeedsReconciling:e.summary.numSubmissionsNeedsGrading}getNumberEligibleToBeGradedExternalSubmissions(e){return a.isUndefined(e.summary.numGroupsNeedsGrading)?e.summary.numStudentsEligibleToBeGradedExternalSubmission:e.summary.numGroupsEligibleToBeGradedExternalSubmission}getStatusPriorityFromSummary(e){if(e.isAttendance())return Ce.Attendance;const t=e.summary.getStatus();if(e.isCollectExternalSubmissions()&&(t===he.e.NeedsPosting||t===he.e.NothingToGrade||t===he.e.AllGraded)&&this.getNumberEligibleToBeGradedExternalSubmissions(e)>0)return Ce.NeedsGrading;switch(t){case he.e.NeedsGrading:return Ce.NeedsGrading;case he.e.NeedsPosting:case he.e.AllGraded:return Ce.NeedsPostingOrAllGraded;case he.e.AllPosted:return Ce.AllPosted;case he.e.NothingToGrade:return Ce.NothingToGrade;case he.e.Restricted:return Ce.Restricted;default:return Ce.Other}}sortColumnByPost(e){const t=[],n=[];this.visibleColumns.forEach((e=>{const i=this.gradebookPermissionService.canPostGrades(e.courseId,e);!e.isCalculated()&&!this.course.isComplete()&&e.summary.hasGradesToPost()&&i?n.push(e):t.push(e)})),e===ke.a.ASCENDING?(n.sort(((e,t)=>e.summary.totalNumberOfGradesToPost()-t.summary.totalNumberOfGradesToPost())),this.visibleColumns.$clear(),this.visibleColumns.push(...n,...t)):(n.sort(((e,t)=>t.summary.totalNumberOfGradesToPost()-e.summary.totalNumberOfGradesToPost())),this.visibleColumns.$clear(),this.visibleColumns.push(...t,...n))}};Te=Object(i.a)([Object(i.c)(0,Object(k.b)("$modal")),Object(i.c)(1,Object(k.b)("$location")),Object(i.c)(2,Object(k.b)("scope")),Object(i.c)(3,Object(k.b)("$q")),Object(i.c)(4,Object(k.b)(w.b)),Object(i.c)(5,Object(k.b)(m.n)),Object(i.c)(6,Object(k.b)(u.b)),Object(i.c)(7,Object(k.b)(p.c)),Object(i.c)(8,Object(k.b)(L.d)),Object(i.c)(9,Object(k.b)(b.b)),Object(i.c)(10,Object(k.b)(D)),Object(i.c)(11,Object(k.b)(g.serviceName)),Object(i.c)(12,Object(k.b)("$ngRedux"))],Te);let Pe=class{constructor(e){this.$injector=e,this.restrict="E",this.template=ge,this.scope=!0,this.link=e=>{e.courseGradesGrader=this.$injector.instantiate(Te,{scope:e})}}};Pe=Object(i.a)([Object(i.c)(0,Object(k.b)("$injector"))],Pe),a.module(xe,[G.a,C,h.c,m.m,u.a,g.moduleName,$.b,j.N,M.b,te.c,K,X,re.a,ae.a,se,oe.a,O,de,pe]).directive("bbCourseGradesGrader",["$injector",g.serviceName,(e,t)=>(t.loadBundle("components/directives/grade/course-grades-grader"),e.instantiate(Pe))])},fGgA:function(e,t,n){"use strict";n("zAxy");var i=n("7O4Y"),s=n("nsO7"),a=n("71td"),o=n("Llzl"),r=n("0JpG"),l=n("lEL+"),c=n("gkef"),d=n("/J7e"),u=n("+4Px"),m=n("e6jQ");n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));const p="ultra.components.directives.tooltip";class h{constructor(e,t,n,i,s,o){this.scope=e,this.element=t,this.attrs=n,this.localizeService=i,this.timeoutService=s,this.windowSizeService=o,this.tooltipCreated=!1,this.tooltip=null,this.pip=null,this.timeout=null,this.timeoutMS=500,h.initEnhancedTooltipEvents(),this.controlId=this.attrs.tooltipId||`tooltip-${m.a()}`,this.tooltipPosition=this.attrs.tooltipPosition||"top","true"===this.attrs.tooltipAlwaysUnderline&&this.getTriggerElement().addClass("tooltip-always-underline"),this.$body=a("body"),this.attrs.$observe("title",(e=>{e&&(this.content=e,this.updateTooltip())})),this.scope.$on("$destroy",(()=>{this.getTooltip()&&this.getTooltip().remove(),this.$body=null,this.tooltip=null,this.pip=null,h.destroyTooltipEvents()})),"true"!==this.attrs.tooltipDisableOnMouseLeave&&t.on("mouseleave",(()=>{(this.windowSizeService.isLargeBreakpoint()||"true"===this.attrs.tooltipEnableOnMouseLeaveForAllBreakpoints)&&(this.timeoutMS>0?this.timeout=this.timeoutService((()=>{this.hideTooltip()}),this.scope,this.timeoutMS):this.hideTooltip())})),"true"!==this.attrs.tooltipDisableOnMouseOver&&t.on("mouseover",(()=>{(this.windowSizeService.isLargeBreakpoint()||"true"===this.attrs.tooltipEnableOnMouseOverForAllBreakpoints)&&this.showTooltip()})),"true"!==this.attrs.tooltipDisableOnFocus&&(t.on("focus",(()=>{a("body").hasClass("hide-focus-outline")||this.showTooltip()})),t.on("blur",(()=>{this.hideTooltip()}))),t.on("click",(e=>{if(!a("body").hasClass("hide-focus-outline"))return"true"===this.attrs.tooltipHideOnActivation&&this.hideTooltip(),void e.stopPropagation();const t=this.windowSizeService.isSmallBreakpoint(),n=this.windowSizeService.isMediumBreakpoint();if("true"===this.attrs.tooltipOpenOnActivation||t||n){if("true"===this.attrs.tooltipDisableOnMediumDownBreakpoint&&(n||t))return;this.isTooltipVisible()?this.hideTooltip():(this.showTooltip(),e.stopPropagation())}else this.hideTooltip()})),t.on("keydown",(e=>{e.which===u.g&&this.isTooltipVisible()?(this.hideTooltip(),e.stopPropagation()):e.which!==u.t&&e.which!==u.f||("true"===this.attrs.tooltipOpenOnActivation?this.isTooltipVisible()?this.hideTooltip():(this.showTooltip(),e.stopPropagation()):"true"===this.attrs.tooltipHideOnActivation&&this.hideTooltip())}))}isTooltipVisible(){return this.getTooltip()&&"false"===this.getTooltip().attr("aria-hidden")}cancelTimeout(){this.timeout&&this.timeoutService.cancel(this.timeout)}showTooltip(){this.content&&(this.tooltipCreated||(this.addTooltipToDom(),this.attrs.tooltipInitImmediate)?(this.getTriggerElement().attr("title",""),(o.isUndefined(this.attrs.tooltipOnOverflowOnly)||"true"===this.attrs.tooltipOnOverflowOnly&&"true"===o.element(this.getTriggerElement().children()[0]).attr("data-overflowed"))&&(this.cancelTimeout(),this.hideAllTooltips(),this.positionTooltip(),this.getTooltip().attr("aria-hidden","false"),this.postShowTooltip())):this.timeoutService((()=>{this.showTooltip()}),this.scope,100))}hideTooltip(){this.tooltipCreated&&this.getTooltip().attr("aria-hidden","true").css({top:0,left:0})}hideAllTooltips(){a("body").find(".enhanced-tooltip").attr("aria-hidden","true").css({top:0,left:0})}addTooltipToDom(){const e=void 0===this.attrs.tooltipCenterContent||"true"===this.attrs.tooltipCenterContent,t="true"===this.attrs.tooltipDarkTheme,n=Object(i.a)("enhanced-tooltip","tooltip-max-width",{"tooltip-center-content":e,"tooltip-dark-theme":t},this.attrs.tooltipClassNames),s=a(`<span class="${n}" aria-hidden="true" role="tooltip" id="${this.controlId}">${this.getPipHtml()}</span>`);this.addTooltipStyles(s),this.addTooltipContent(s),this.addTooltipEvents(s),this.addTooltipClose(s),this.$body.append(s),this.getTriggerElement().attr("aria-describedby",this.controlId),this.tooltipCreated=!0}getPipHtml(){return"true"===this.attrs.tooltipDisablePip?"":'<span class="enhanced-tooltip-pip"></span>'}getPipPadding(){return"true"===this.attrs.tooltipDisablePip?0:13}getTriggerElement(){return this.element}getTooltip(){if(!this.tooltip){const e=this.$body.find(`#${this.controlId}`);this.tooltip=e.length>0?e:null}return this.tooltip}updateTooltip(){if(this.tooltipCreated){const e=this.getTooltipPip()||"";this.getTooltip().html("").append(e).append(document.createTextNode(this.content))}}getTooltipPip(){return this.pip||(this.pip=this.getTooltip().find(".enhanced-tooltip-pip")),this.pip}positionTooltip(){this.getTooltipPip().removeClass(this.adjustedTooltipPosition);const e=this.getTriggerElement().offset().left,t=e+this.getTriggerElement().outerWidth()/2;switch(this.checkPositionInBoundary(t),this.adjustedTooltipPosition){case"top-center":this.applyPosition(this.getTooltip(),this.getTriggerElement().offset().top-this.getTooltip().outerHeight()-this.getPipPadding(),t-this.getTooltip().outerWidth()/2);break;case"top-left":this.applyPosition(this.getTooltip(),this.getTriggerElement().offset().top-this.getTooltip().outerHeight()-this.getPipPadding(),t-this.getTooltip().outerWidth()+20);break;case"top-right":this.applyPosition(this.getTooltip(),this.getTriggerElement().offset().top-this.getTooltip().outerHeight()-this.getPipPadding(),t-20);break;case"bottom-center":this.applyPosition(this.getTooltip(),this.getTriggerElement().offset().top+this.getTriggerElement().outerHeight()+this.getPipPadding(),t-this.getTooltip().outerWidth()/2);break;case"bottom-left":this.applyPosition(this.getTooltip(),this.getTriggerElement().offset().top+this.getTriggerElement().outerHeight()+this.getPipPadding(),t-this.getTooltip().outerWidth()+h.TOOLTIP_PIP_PADDING);break;case"bottom-right":this.applyPosition(this.getTooltip(),this.getTriggerElement().offset().top+this.getTriggerElement().outerHeight()+this.getPipPadding(),t-h.TOOLTIP_PIP_PADDING);break;case"right-center":this.applyPosition(this.getTooltip(),this.getTriggerElement().offset().top+this.getTriggerElement().outerHeight()/2-this.getTooltip().outerHeight()/2,e+this.getTriggerElement().outerWidth()+this.getPipPadding());break;case"right-top":this.applyPosition(this.getTooltip(),this.getTriggerElement().offset().top+this.getTriggerElement().outerHeight()/2-this.getTooltip().outerHeight()+h.TOOLTIP_PIP_PADDING,e+this.getTriggerElement().outerWidth()+this.getPipPadding());break;case"right-bottom":this.applyPosition(this.getTooltip(),this.getTriggerElement().offset().top+this.getTriggerElement().outerHeight()/2-h.TOOLTIP_PIP_PADDING,e+this.getTriggerElement().outerWidth()+this.getPipPadding());break;case"left-center":this.applyPosition(this.getTooltip(),this.getTriggerElement().offset().top+this.getTriggerElement().outerHeight()/2-this.getTooltip().outerHeight()/2,e-this.getTooltip().outerWidth()-this.getPipPadding());break;case"left-top":this.applyPosition(this.getTooltip(),this.getTriggerElement().offset().top+this.getTriggerElement().outerHeight()/2-this.getTooltip().outerHeight()+h.TOOLTIP_PIP_PADDING,e-this.getTooltip().outerWidth()-this.getPipPadding());break;case"left-bottom":this.applyPosition(this.getTooltip(),this.getTriggerElement().offset().top+this.getTriggerElement().outerHeight()/2-h.TOOLTIP_PIP_PADDING,e-this.getTooltip().outerWidth()-this.getPipPadding())}this.getTooltipPip().addClass(this.adjustedTooltipPosition)}applyPosition(e,t,n){const i=this.adjustLeftPercentage(n),s=this.ensureTopInBounds(t);e.css({top:s||"auto",left:i||"auto"})}ensureTopInBounds(e){const t=e+this.getTooltip().outerHeight();if(this.getWindowHeight()-t<h.TOOLTIP_VIEWPORT_EDGE_PADDING?e=this.getWindowHeight()-this.getTooltip().outerHeight()-h.TOOLTIP_VIEWPORT_EDGE_PADDING:e<h.TOOLTIP_VIEWPORT_EDGE_PADDING&&(e=h.TOOLTIP_VIEWPORT_EDGE_PADDING),o.isDefined(this.attrs.tooltipTopAdjustPercent)){e+=this.getTriggerElement().outerHeight()/100*parseInt(this.attrs.tooltipTopAdjustPercent,10)}return e}adjustLeftPercentage(e){let t=e;if(o.isDefined(this.attrs.tooltipLeftAdjustPercent)){t+=this.getTriggerElement().outerWidth()/100*parseInt(this.attrs.tooltipLeftAdjustPercent,10)}return t}checkPositionInBoundary(e){const t=this.tooltipPosition.split("-");"bottom"!==t[0]&&"top"!==t[0]||(this.getTriggerElement().offset().top+this.getTriggerElement().outerHeight()+this.getTooltip().outerHeight()+this.getPipPadding()>this.getWindowHeight()?t[0]="top":this.getTriggerElement().offset().top-this.getTooltip().outerHeight()-this.getPipPadding()<0&&(t[0]="bottom"),e+this.getTooltip().outerWidth()/2>this.getWindowWidth()?t[1]="left":e-this.getTooltip().outerWidth()/2<0?t[1]="right":t[1]=t[1]?t[1]:"center"),this.adjustedTooltipPosition=t.join("-")}getWindowWidth(){return a(window).width()}getWindowHeight(){return a(window).height()}addTooltipClose(e){const t=e.find(".close-icon");t.length>0&&t.on("click",(()=>{this.hideTooltip()}))}addTooltipStyles(e){}addTooltipContent(e){this.content=this.getTriggerElement().attr("title"),e.append(document.createTextNode(this.content))}addTooltipEvents(e){}postShowTooltip(){}}h.$inject=["scope","element","attrs",r.serviceName,l.b,c.b],h.TOOLTIP_PIP_PADDING=20,h.TOOLTIP_VIEWPORT_EDGE_PADDING=20,h.ariaHideAllTooltips=s.throttle((()=>{a("body").find(".enhanced-tooltip").attr("aria-hidden","true")}),500),h.instanceCount=0,h.initEnhancedTooltipEvents=()=>{h.instanceCount>0||(h.instanceCount+=1,document.addEventListener("scroll",h.ariaHideAllTooltips,!0),a(window).resize(h.ariaHideAllTooltips),a("body").click(h.ariaHideAllTooltips))},h.destroyTooltipEvents=()=>{h.instanceCount<=0||(h.instanceCount-=1,0===h.instanceCount&&(document.removeEventListener("scroll",h.ariaHideAllTooltips),a(window).off("resize",h.ariaHideAllTooltips),a("body").off("click",h.ariaHideAllTooltips),h.ariaHideAllTooltips.flush()))};class g{constructor(e){this.$injector=e,this.restrict="A",this.scope={},this.link=(e,t,n)=>{d.a(n.enhancedTooltip)?e.tooltip=this.$injector.instantiate(h,{scope:e,element:t,attrs:n}):(g.instanceCount++,g.ensureEvents(),t.one("mouseover",(e=>{const t=a(e.currentTarget);null==t.attr("data-tooltip")&&(t.attr("data-tooltip",""),t.parent().foundation({tooltip:{disable_for_touch:!0}}))})),e.$on("$destroy",(()=>{g.instanceCount--,0===g.instanceCount&&g.unregisterEvents(),t.foundation("tooltip","off")})))}}static ensureEvents(){function e(){o.element("span.tooltip:visible").hide(),o.element(".button-with-active-tooltip").removeClass("open")}g.eventHandlers||(g.eventHandlers={click:e,blur:e,keyup:function(t){a.Event(t).keyCode===u.g&&e()}},Object.keys(g.eventHandlers).forEach((e=>{document.addEventListener(e,g.eventHandlers[e],!0)})))}static unregisterEvents(){Object.keys(g.eventHandlers).forEach((e=>{document.removeEventListener(e,g.eventHandlers[e],!0)})),g.eventHandlers=null}}g.instanceCount=0,g.eventHandlers=null,g.$inject=["$injector"],o.module(p,[r.moduleName,l.a,c.a]).directive("bbTooltip",["$injector",e=>e.instantiate(g)])},fYJU:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("D57K"),s=n("Llzl"),a=n("pjml"),o=n("qhd3"),r=n("eQBN"),l=n("aHpC");const c="ultra.service.context.user",d="contextUser";let u=class{constructor(e,t,n){this.$window=e,this.UserModel=t,this.studentPreview=n}get userId(){return this.studentPreview.isInIframeOfPreviewMode()?this.studentPreview.previewStatus.user.id:this._userId||null}get userModel(){return this.studentPreview.isInIframeOfPreviewMode()?this.studentPreview.previewStatus.user:(this._userModel||(this._userModel=this.getInitialUserModel(),this._userId=this._userModel.id),this._userModel)}getMemberships(){return this._userModel||(this._userModel=this.getInitialUserModel()),this._userModel.memberships.$fetch({limit:1e4,expand:"course.effectiveAvailability,course.permissions,courseRole"}).$asPromise()}getRoles(){return this.UserModel.$find("me",{expand:"systemRoles,insRoles"}).$asPromise()}update(){return this.UserModel.$find("me",{expand:"systemRoles"}).$then((e=>this._setUserModel(e)))}getInitialUserModel(){return this.$window.__initialContext?this.UserModel.$buildRaw(this.$window.__initialContext.user):this.UserModel.$find("me",{expand:"systemRoles"})}_setUserId(e){return this._userId=e,this._userId}_setUserModel(e){return this._userModel=e,this._userId=e?e.id:null,this._userModel}};u=Object(i.a)([Object(i.c)(0,Object(l.b)("$window")),Object(i.c)(1,Object(l.b)(o.serviceName)),Object(i.c)(2,Object(l.b)(r.e))],u);s.module(c,[a.N,r.b]).service(d,u)},fm95:function(e,t,n){"use strict";n.r(t);n("QLzv");var i=n("nsO7"),s=n("Llzl"),a=n("wgY5"),o=n("5MwF"),r=n("IbyE"),l=n("zGdY"),c=n("VAMW"),d=n("4nF1"),u=n("ohO4"),m=n("pjml"),p=n("yCC5"),h=n("nkTj"),g=n("Rjd/"),b=n("eUpQ"),f=n("Sa5G"),v=n("94iD"),y=n("6vR2"),k=n("DU7P"),x=n("Htol"),S=n("6fZB");class C{constructor(){this.key=c.d.CreateContentCourseModelOperations}async createContent(e){const t=e.$save().$then((e=>{e.ui.isUploading=!1,e.isAvailable=!1})).$asPromise();await Object(S.a)(t)}}class E{constructor(e,t,n){this.$q=e,this.$rootScope=t,this.CourseModel=n,this.key=c.d.DeleteContentCourseModelOperations,this.$q=e,this.$rootScope=t,this.CourseModel=n}deleteContentHelper(e){this.broadcastChildrenContentForDelete(e).then((()=>{e.hasCourseLinks()?e.getSoftLinks().$asPromise().then((t=>{t.length?this.$q.all(t.map((t=>this.CourseModel.$new(e.courseId).contents.$new(t.courseContent).$fetch().$asPromise().then((e=>{this.$rootScope.$broadcast("deleteContent",e,!1)}))))).then((()=>{this.$rootScope.$broadcast("deleteContent",e)})):this.$rootScope.$broadcast("deleteContent",e)})):this.$rootScope.$broadcast("deleteContent",e)}))}broadcastChildrenContentForDelete(e){return e.isFolder()||e.isLearningModule()?e.getChildren({recursive:!0}).$then((e=>e.filter((e=>!e.isCourseLink())).forEach((e=>this.$rootScope.$broadcast("deleteContent",e,!1))))).$asPromise():this.$q.when()}deleteContent(e){m.p.ContentHandler.CourseLink.isEqualTo(e.contentHandler)?e.getLinkContentSource().$then((t=>{var n;const i=null===(n=null==t?void 0:t.contentHandler)||void 0===n?void 0:n.toString();l.t.Discussion===i?this.deleteContentHelper(t):this.deleteContentHelper(e)})):this.deleteContentHelper(e)}}class I{constructor(){this.key=c.d.CourseContentModelOperations}hasCourseLinks(e){const t=e;return Object(S.a)(t.hasCourseLinks())}}class w{constructor(){this.key=c.d.ConditionalReleaseCourseModelOperations}conditionalReleaseAsync(e,t,n,i,s){const a=e.conditionalReleaseAsync(t,n,i,s),o="function"==typeof a.$asPromise?a.$asPromise():a;return Object(S.a)(o)}async save(e,t,n=[]){const i=e,s={fields:"id",...n.length>0&&{expand:n.join(",")}},a=i.withParams(s).$save(t).$asPromise();await Object(S.a)(a)}}var A=n("tBL6");class O{constructor(e){this.scope=e,this.key=c.d.ContentFolderRefresher}refresh(e,t){this.scope.$applyAsync((()=>{this.scope.$broadcast(x.a,e,t)}))}}class D{constructor(){this.key=c.d.CanEnableForcedSequenceService}canForcedSequenceBeEnabled(e){const t=e.canForcedSequenceBeEnabled();return Object(S.a)(t)}}n.d(t,"CREATE_CONTENT_ID",(function(){return T})),n.d(t,"FolderContentHandlerIcon",(function(){return P})),n.d(t,"getProctoredAssessmentSettings",(function(){return $})),n.d(t,"ForumAttacherAction",(function(){return G})),n.d(t,"ScormScoringMethod",(function(){return j})),n.d(t,"ScormLearningStandard",(function(){return L})),n.d(t,"parseScormScoringMethod",(function(){return N})),n.d(t,"serviceName",(function(){return B})),n.d(t,"ContentHandler",(function(){return r.i})),n.d(t,"ContentRootNode",(function(){return f.h}));const T="create";var P;!function(e){e.OpenFolder="img-icon-folder-open",e.ClosedFolder="img-icon-folder"}(P||(P={}));const $=e=>{if(s.isUndefined(e)||null==e)return null;const t=e.contentHandler.toString();if(m.p.ContentHandler.TestLink.isEqualTo(e.contentHandler)&&e.contentDetail&&e.contentDetail[t]&&e.contentDetail[t].test&&e.contentDetail[t].test.deploymentSettings){const n=e.contentDetail[t].test&&e.contentDetail[t].test.deploymentSettings;return{proctoringDownloadUrl:n.proctoringDownloadUrl,proctoringServiceHandle:n.proctoringServiceHandle,proctoringServiceVendor:n.proctoringServiceVendor,isSecureBrowserRequiredToTake:n.isSecureBrowserRequiredToTake,isSecureBrowserRequiredToReview:n.isSecureBrowserRequiredToReview,isWebcamRequired:n.isWebcamRequired}}return null};var G,j,L;function N(e){if(e)return Object.values(j).find((t=>t.toLowerCase()===e.toLowerCase()))}!function(e){e.Add="ADD",e.Delete="DELETE"}(G||(G={})),function(e){e.Score="SCORE",e.Completion="COMPLETION",e.Satisfaction="SATISFACTION"}(j||(j={})),function(e){e.AICC="AICC",e.CMI5="CMI5",e.Scorm11="SCORM_11",e.Scorm12="SCORM_12",e.Scorm2004SecondEdition="SCORM_2004_2ND_EDITION",e.Scorm2004ThirdEdition="SCORM_2004_3RD_EDITION",e.Scorm2004Fourth="SCORM_2004_4TH_EDITION",e.TINCAN="TINCAN"}(L||(L={}));const B=p.A,M=p.t;g.a.factory(B,["restmod",h.c,"$q","$rootScope","$ngRedux",M,u.b,(e,t,n,s,u,p,h)=>{Object(c.f)(new w),Object(c.f)(new C),Object(c.f)(new E(n,s,p)),Object(c.f)(new D);let g=!1;h.createWaiter("feature.course.content.inline-render").then((e=>g=e)),Object(c.f)(new A.b(n)),Object(c.f)(new O(s)),Object(c.f)(new I);const S=e.model().mix({depth:{mask:!0},children:{mask:!0},softLinks:{mask:!0},"adaptiveReleaseRules.startDate":{serialize:"date"},"adaptiveReleaseRules.endDate":{serialize:"date"},position:{mask:"CU"},selfEnrollmentGroups:{mask:"CU"},positionBefore:{mask:"R"},positionAfter:{mask:"R"},hasMoreChildren:{mask:!0},launchInNewWindow:{init:!0},ui:{mask:!0,init:()=>({hasData:!1,isDeleted:!1,isOpen:!1})},$extend:{Record:{getDeployedAssessment(){var e;if(!this.contentDetail)return;const t=Object(l.hd)(null===(e=this.contentHandler)||void 0===e?void 0:e.toString());if(t){const e=this.contentDetail[this.contentHandler.toString()];return e.gradingColumn?e:e[t]}},getAssociatedGradingColumn(e){const t=this.contentDetail&&this.contentDetail[this.contentHandler.toString()];if(t&&t.gradingColumn)return t.gradingColumn;if(t){const e=this.getDeployedAssessment();if(e)return e.gradingColumn}},getDueDate(){return this.genericReadOnlyData&&this.genericReadOnlyData.dueDate},getContentHandlerByIconUrl(){const e=this.iconUrl.match("^/.*/(.*)_.*..*$");let t=r.i.Unknown;if(e)switch(e[1]){case"assignment":t=r.i.UltraAssignment;break;case"discussion":t=r.i.Discussion;break;case"file":t=r.i.File;break;case"folder":t=r.i.Folder;break;case"link":t=r.i.ExternalLink;break;case"test":t=r.i.TestLink}return t},setupAssessmentContentDetail(e,t){const n=this.contentHandler.toString(),i=Object(l.ed)(n),s=Object(l.hd)(n);if(i&&s){this.contentDetail={},this.contentDetail[n]={};const o=a(b.a.getServerTime()).startOf("day").add({days:1}).toDate();this.contentDetail[n][s]={deployedAssessmentType:s,assessment:{title:this.title,type:i},deploymentSettings:{feedbackSettings:{[l.e.AfterSubmission]:{options:[l.f.InstructorFeedback,l.f.UserAnswers,l.f.AllAnswers]},[l.e.AfterAttemptGraded]:{options:[l.f.Score]}}},gradingColumn:{columnName:this.title,possible:0,visible:!1,gradebookCategoryId:t?t.id:null,gradebookCategory:t,gradingSchemaId:e,courseId:this.courseId,dueDate:o},permissions:{modify:!0}}}},createScormSettings(e){const t={method:"POST",url:this.$url()+"/scormSettings",data:e},i=n.defer();return this.$scope.$collection().$send(t,(e=>{i.resolve(e.data)}),(e=>{i.reject(e)})),i.promise},conditionalReleaseAsync(e,t,n,i){let s=n?"/rules/"+n+"/conditions":"";i&&(s+=`/${i}`);const a={method:e,url:this.$url()+"/adaptiveReleaseRules"+s};if(t&&"DELETE"!==e&&(a.data=t),"GET"===e)return this.$scope.$collection().$send(a).$then((e=>e.$unwrap(e.$response.data)));if("DELETE"===e){const e=r.i.CourseLink.isEqualTo(this.contentHandler)?this.contentDetail[r.i.CourseLink.toString()].linkSourceId:this.id;if(t&&t.type)u.dispatch(r.X.content.deleteAdaptiveReleaseRuleInStore(e,t.type));else{if(this.isForcedSequenceItem())return this.removeNonForcedSequenceReleaseCriteria();u.dispatch(r.X.content.deleteAdaptiveReleaseRulesInStore(e))}}return this.$scope.$collection().$send(a)},removeNonForcedSequenceReleaseCriteria(){const e=this.adaptiveReleaseRules.rules[0],t=r.i.CourseLink.isEqualTo(this.contentHandler)?this.contentDetail[r.i.CourseLink.toString()].linkSourceId:this.id,i=`/rules/${e.id}/conditions/`,s={method:"DELETE"},a=[];return e.criteria.filter((e=>e.type!==r.d.ForcedSequence.toString())).forEach((e=>{u.dispatch(r.X.content.deleteAdaptiveReleaseRuleInStore(t,e.type)),s.url=this.$url()+"/adaptiveReleaseRules"+i+e.id,a.push(this.$scope.$collection().$send(s).$asPromise())})),n.all(a).then((()=>{}))},getChildren(e){e=e||{};const i=this,s=[];return this.timeout=n.defer(),this.$scope.$collection().$send({method:"GET",url:this.$url()+"/children",timeout:this.timeout.promise,params:{offset:e.offset,limit:e.limit,contentHandler:e.contentHandler,recursive:e.recursive,onlyUltraConvertableContents:e.onlyUltraConvertableContents,contentSearchMode:e.contentSearchMode,title:e.title,"courseLinkPickerParam.contentHandlerGroups":e.courseLinkPickerParamContentHandlerGroups,expand:"assignedGroups,selfEnrollmentGroups.group",sort:e.sort,"@view":"Summary"}}).$then((n=>{if(e.resolveLinks&&n.$response.data.results&&n.$response.data.results.length){const e=t.getDataMixin(n.findMany.bind(n),"linkSourceId","linkSource");if(n.$response.data.results.forEach((e=>{r.i.CourseLink.isEqualTo(e.contentHandler)&&e.contentDetail&&s.push({linkId:e.id,linkSourceId:e.contentDetail[r.i.CourseLink.toString()].linkSourceId})})),s.length)return e(s,{}).then((()=>n))}})).$then((e=>{e.$unwrap(e.$response.data);const t={};s.forEach((e=>{t[e.linkId]=e.linkSource})),e.forEach((e=>{e.depth=i.depth+1,t[e.id]&&(e.ui.linkSource=t[e.id])}))}))},cancelGetChildren(){this.timeout&&this.timeout.resolve()},getClassicContent(){return this.$scope.$collection().$send({method:"GET",url:this.$scope.$url(),params:{onlyUltraConvertableContents:"true"}}).$then((e=>{e.$unwrap(e.$response.data)}))},getLinkContentSource(e){if(e=e||{},r.i.CourseLink.isEqualTo(this.contentHandler)&&this.contentDetail){if(this.ui.linkSource&&this.ui.linkSource.$pk&&!e.fromServer)return this.ui.linkSource;const t=this.ui.linkSource;if(this.ui.linkSource=this.$scope.$new(this.contentDetail[r.i.CourseLink.toString()].linkSourceId),this.contentDetail[r.i.CourseLink.toString()].linkSourceId){const e=this.ui.linkSource.$fetch({expand:"assignedGroups,selfEnrollmentGroups.group"});return t&&(e.contentHandler=t.contentHandler,e.contentDetail=t.contentDetail),e}return this.ui.linkSource}},getChildrenCount(){return this.$scope.$build().$send({method:"GET",url:this.$url()+"/children/count"}).$asPromise().then((e=>e.$response.data.count))},hasGradedContentItems(){return this.$scope.$build().$send({method:"GET",url:this.$url()+"/hasGrades"}).$asPromise().then((e=>e.$response.data.result))},canForcedSequenceBeEnabled(){return this.$scope.$build().$send({method:"GET",url:this.$url()+"/canForcedSequenceBeEnabled"}).$asPromise().then((e=>e.$response.data.result))},hasCourseLinks(){return this.$scope.$build().$send({method:"GET",url:this.$url()+"/hasCourseLinks"}).$asPromise().then((e=>e.$response.data.result))},isCurrentUserEligibleToAlignGoals(){return this.permissions&&!0===this.permissions.createLearningStandardsAlignment&&this.permissions.edit},getContentIdForGoalAlignment(){return"blackboard.data.content.Content;"+this.id},getContentTitleForGoalAlignment(){return this.title},getSibling(e,t){return this.$scope.$build().$send({method:"GET",url:this.$url()+"/"+e,params:{lessonContentId:t}}).$asPromise().then((e=>e.$response.data.id?this.$scope.$buildRaw(e.$response.data):null))},getAttemptCount(){const e=this.getAssociatedGradingColumn();return this.$scope.$collection().$send({method:"GET",url:e["@id"]+"/attempts/count"}).$suppressErrorDialog().$asPromise().then((e=>e.$response.data.count))},getTimeLimit(){return this.getDeployedAssessment()&&this.getDeployedAssessment().exceptions&&this.getDeployedAssessment().exceptions.length>0?this.getDeployedAssessment().exceptions[0].timeLimit:this.getDeployedAssessment()&&this.getDeployedAssessment().deploymentSettings?this.getDeployedAssessment().deploymentSettings.timeLimit:void 0},getExtraTime(){const e=this.getDeployedAssessment()&&this.getDeployedAssessment().deploymentSettings;if(e&&e.softTimeLimit)return e.timeLimit-e.softTimeLimit},getTimedTestDetail(){const e=this.contentDetail&&this.getDeployedAssessment()&&this.getDeployedAssessment().deploymentSettings;let t=null,n=null,i=null;const s=e?this.getDeployedAssessment().deploymentSettings.softTimeLimit:null;e&&(n=this.getDeployedAssessment().deploymentSettings.timeLimit,t=this.getDeployedAssessment().deploymentSettings.timerCompletion,i=this.getDeployedAssessment().deploymentSettings.isDueDateEnforced?new Date(this.getAssociatedGradingColumn().dueDate):null);const a={timerCompletion:t,timeLimitSec:n?60*n:null,softLimitSec:s?60*s:null,dueDate:i};return new v.a(a)},getSoftLinks(e){e=e||{};const t=this;return this.$scope.$collection().$send({method:"GET",url:this.$url()+"/softLinks",params:{offset:e.offset,limit:e.limit,label:e.label}},(function(e){this.$unwrap(e.data),t.softLinks=this}))},update(){const e=this.$scope.$build();for(const t of Object.keys(this))e[t]=this[t];return this.$scope.$build().$send({method:"POST",url:this.$scope.$url()+"/"+this.id,data:e})},canEdit(){return r.j.canEdit(this)},canEditPartial(){let e=this.canEdit();if(this.contentDetail){const t=this.getDeployedAssessment();if(t){const n=t.permissions;n&&(e=e||n.modifyDueDate||n.view)}}return!!e},canEditAvailability(){return r.j.canEditAvailability(this)},canViewAsInstructor(){return this.canEdit()||this.permissions&&this.permissions.viewDesigner},canDelete(){return this.permissions&&this.permissions.delete},canUpdateReviewState(){var e;return null===(e=this.permissions)||void 0===e?void 0:e.canUpdateReviewState},hasConversation(){return!!this.attachedForumLink},hasDueDateException(){return null!=this.dueDateExceptionType&&this.dueDateExceptionType!==l.D.Normal},hasGradingColumn(){return!!this.getAssociatedGradingColumn()},hasDueDate(){return this.genericReadOnlyData&&this.genericReadOnlyData.hasGradeColumn},hasOnlyForcedSequenceConditionalReleaseCriteria(){return!!this.isForcedSequenceItem()&&1===this.adaptiveReleaseRules.rules[0].criteria.length},isVisible(){return this.visibility&&l.w.Visible===this.visibility},isRestricted(){return this.visibility&&l.w.Restricted===this.visibility},isStarted(){return this.state===l.u.Started},isCompleted(){return this.state===l.u.Completed},isHidden(){return this.visibility&&l.w.Hidden===this.visibility},isVisibleToStudents(){return r.j.isVisibleToStudents(this)},isHiddenFromStudents(){return r.j.isHiddenFromStudents(this)},isConditionalRelease(){return r.h.isConditionalRelease(this)},isForcedSequenceModule(){return this.isLearningModule()&&this.contentDetail[m.p.ContentHandler.LearningModule.toString()].isSequential},isInForcedSequenceModule(){return this.inSequence},isForcedSequenceItem(){return this.adaptiveReleaseRules&&this.adaptiveReleaseRules.rules&&this.adaptiveReleaseRules.rules[0]&&!!i.find(this.adaptiveReleaseRules.rules[0].criteria,{type:"Pre_Content"})},isActiveForcedSequenceModule(){return this.isForcedSequenceModule()&&this.hasProgressed},applyForcedSequence(e){this.contentDetail[m.p.ContentHandler.LearningModule.toString()].isSequential=e,this.children&&(this.children.forEach((t=>{t.inSequence=e,t.children&&t.children.forEach((t=>t.inSequence=e))})),this.children.forEach((t=>{t.isPartiallyVisible=e,e?i.has(t,"adaptiveReleaseRules.rules[0].criteria[0]")?t.adaptiveReleaseRules.rules[0].criteria.push({type:"Pre_Content"}):i.set(t,"adaptiveReleaseRules.rules[0].criteria[0]",{type:"Pre_Content"}):t.adaptiveReleaseRules&&t.adaptiveReleaseRules.rules&&t.adaptiveReleaseRules.rules[0].criteria.length&&(i.remove(t.adaptiveReleaseRules.rules[0].criteria,{type:"Pre_Content"}),t.adaptiveReleaseRules.rules[0].criteria.length&&(t.isAvailable=!0)),s.$broadcast("refresh-conditional-release-rules",t)})))},isConditionalReleaseWithVisibleButNotAccessible(){return this.isConditionalRelease()&&this.isPartiallyVisible},isConditionalReleaseWithHiddenFromStudent(){return this.isConditionalRelease()&&!this.isPartiallyVisible&&!this.hasOnlyForcedSequenceConditionalReleaseCriteria()},isConditionalReleaseLocked(){const e=this.adaptiveReleaseRules&&this.adaptiveReleaseRules.rules;return e&&e.length>0&&this.isRestricted()},isConditionalReleaseUnlocked(){const e=this.adaptiveReleaseRules&&this.adaptiveReleaseRules.rules;return e&&e.length>0&&this.isVisible()},containsCriteriaWithGradeColumnId(e){var t,n;return null===(n=null===(t=this.adaptiveReleaseRules)||void 0===t?void 0:t.rules)||void 0===n?void 0:n.some((t=>{var n;return null===(n=t.criteria)||void 0===n?void 0:n.some((t=>t.type===r.d.Grade.toString()&&t.gradeColumnId===e))}))},getVisibilityAsStudent(){return this.isVisibleToStudents()?l.w.Visible:this.isConditionalRelease()?l.w.Restricted:l.w.Hidden},getContentDisplay(){return d.a.create(this,{supportsInlineRender:g})},saveAlignedGoals(e){return e&&(this.alignedGoals=e.map((e=>({goalId:e.id,isVisibleToStudent:!0,goal:e})))),this.$send({method:"PATCH",url:this.$url(),data:{alignedGoals:this.alignedGoals}}).$then((()=>{this.$getPreviousVersion()&&(this.$getPreviousVersion().alignedGoals=this.alignedGoals)}))},saveAssignedGroups(e=!1){const t=this.getDeployedAssessment(),n=this.contentHandler.toString(),i=Object(l.hd)(n),s={assignedGroups:this.assignedGroups,isGroupContent:this.isGroupContent},a=!e&&t&&t.deploymentSettings&&t.deploymentSettings.id&&1===t.deploymentSettings.attemptCount;if(a){const e={id:t.deploymentSettings.id,attemptCount:t.deploymentSettings.attemptCount,feedbackSettings:t.deploymentSettings.feedbackSettings};s.contentDetail={[n]:{[i]:{deployedAssessmentType:i,deploymentSettings:e}}}}return this.withParams({expand:"assignedGroups,selfEnrollmentGroups.group"}).$send({method:"PATCH",url:this.$url(),data:s},(function(e){this.isGroupContent=e.data.isGroupContent,this.assignedGroups=e.data.assignedGroups,this.selfEnrollmentGroups=e.data.selfEnrollmentGroups,a&&(t.gradingColumn.multipleAttempts=e.data.contentDetail[n][i].gradingColumn.multipleAttempts)})).$then((()=>{const e=this.$getPreviousVersion();if(e&&(e.isGroupContent=this.isGroupContent,e.assignedGroups=this.assignedGroups,e.selfEnrollmentGroups=this.selfEnrollmentGroups,a)){const s=e.contentDetail[n][i];s.deploymentSettings.attemptCount=t.deploymentSettings.attemptCount,s.gradingColumn.multipleAttempts=t.gradingColumn.multipleAttempts}}))},removeTimeLimit(e){const t=this.contentHandler.toString(),n=Object(l.hd)(t);if(e&&n)return this.$send({method:"PATCH",url:this.$url(),data:{contentDetail:{[t]:{[n]:{deployedAssessmentType:this.getDeployedAssessment().deployedAssessmentType,deploymentSettings:{attemptCount:e.attemptCount?e.attemptCount:1,timerCompletion:e.timerCompletion?e.timerCompletion:l.gc.Continual,timeLimit:null,softTimeLimit:null}}}}}},(function(e){delete this.getDeployedAssessment().deploymentSettings.timeLimit,delete this.getDeployedAssessment().deploymentSettings.softTimeLimit,this.contentDetail[t].test.deploymentSettings.timerCompletion=e.data.contentDetail[t].test.deploymentSettings.timerCompletion})).$then((()=>{this.$getPreviousVersion()&&(delete this.$getPreviousVersion().contentDetail[t].test.deploymentSettings.timeLimit,delete this.$getPreviousVersion().contentDetail[t].test.deploymentSettings.softTimeLimit,this.$getPreviousVersion().contentDetail[t].test.deploymentSettings.timerCompletion=this.contentDetail[t].test.deploymentSettings.timerCompletion)}))},patchProctoringService(e){const t=this.contentHandler.toString(),i=Object(l.hd)(t),s=n.defer();return this.$send({method:"PATCH",url:this.$url(),data:{contentDetail:{[t]:{[i]:{deployedAssessmentType:this.getDeployedAssessment().deployedAssessmentType,deploymentSettings:{proctoringServiceHandle:e}}}}}},(e=>s.resolve(e.data)),(()=>s.reject("Failed to change proctoring service."))),s.promise},updateProctoringSettings(e){const t=n.defer(),i=e=>{if($(this)&&$(e)){const t=e.contentHandler.toString(),n=e.contentDetail[t].test.deploymentSettings,i=this.contentDetail[t].test.deploymentSettings;if(i.proctoringServiceHandle=n.proctoringServiceHandle,i.proctoringServiceVendor=n.proctoringServiceVendor,i.proctoringDownloadUrl=n.proctoringDownloadUrl,i.isSecureBrowserRequiredToTake=n.isSecureBrowserRequiredToTake,i.isSecureBrowserRequiredToReview=n.isSecureBrowserRequiredToReview,i.isWebcamRequired=n.isWebcamRequired,this.$getPreviousVersion()){const e=this.$getPreviousVersion().contentDetail[t].test.deploymentSettings;e.proctoringServiceHandle=n.proctoringServiceHandle,e.proctoringServiceVendor=n.proctoringServiceVendor,e.proctoringDownloadUrl=n.proctoringDownloadUrl,e.isSecureBrowserRequiredToTake=n.isSecureBrowserRequiredToTake,e.isSecureBrowserRequiredToReview=n.isSecureBrowserRequiredToReview,e.isWebcamRequired=n.isWebcamRequired}}};return e?(i(e),t.resolve(this)):this.withParams({fields:"contentHandler,contentDetail"}).$send({method:"GET",url:this.$url()},(e=>{i(e.data),t.resolve(this)}),(()=>{t.reject("Failed to fetch latest when updating proctoring settings.")})),t.promise},updateProctoringAssociation(e){return this.patchProctoringService(e).then((e=>this.updateProctoringSettings(e)))},getProctoringLaunchLink(e){const t=n.defer();let i=o.a.apiBasePath+"/v1/courses/"+this.courseId+"/contents/"+this.id;return e.attemptId&&(i+="/attempts/"+e.attemptId),i+="/proctoring/launchLink",e.password&&(i+=`?password=${encodeURIComponent(e.password)}`),this.$send({method:"GET",url:i},(e=>{e?t.resolve(e.data.launchLink):t.reject("Failed to fetch assessment launch link.")})).$allow([l.S.Unauthorized,l.S.TooManyRequests]).$asPromise().then((e=>{t.reject(e.$response)})),t.promise},getProctoringServiceVendor(){const e=$(this);return null==e?null:e.proctoringServiceVendor||null},getProctoringServiceHandle(){const e=$(this);return null==e?null:e.proctoringServiceHandle||null},isSecureBrowserRequiredToTake(){const e=$(this);return null!=e&&!(e.proctoringServiceHandle!==k.b||!e.isSecureBrowserRequiredToTake)},isSecureBrowserRequiredToReview(){const e=$(this);return null!=e&&!(e.proctoringServiceHandle!==k.b||!e.isSecureBrowserRequiredToReview)},isWebcamRequired(){const e=$(this);return null!=e&&!(e.proctoringServiceHandle!==k.b||!e.isWebcamRequired)},getProctoringDownloadUrl(){const e=$(this);return null==e?null:e.proctoringDownloadUrl||null},userNeedsToSelfEnrollInGroup(){return this.isGroupContent&&this.assignedGroups&&0===this.assignedGroups.length&&this.selfEnrollmentGroups&&this.selfEnrollmentGroups.length>0},setVisibility(e,t=!0){switch(this.adaptiveReleaseRules={startDate:null,endDate:null},e){case l.w.Visible:this.isAvailable=!0,this.isPartiallyVisible=!1;break;case l.w.Hidden:this.isAvailable=!1,this.isPartiallyVisible=!1;break;case l.w.Restricted:this.isAvailable=!0,this.isPartiallyVisible=t}},setTitle(e){this.title=e;const t=this.getAssociatedGradingColumn();t&&(t.columnName=e);try{this.getDeployedAssessment().assessment.title=e}catch(e){}},isUiFolder(){return r.i.Folder.isEqualTo(this.contentHandler)&&!this.isBbPage()},isFolder(){return!!r.i.Folder.isEqualTo(this.contentHandler)||!!r.i.Unknown.isEqualTo(this.contentHandler)&&void 0},isBbPage(){if(this.contentDetail){const e=this.contentDetail[r.i.Folder.toString()];if(r.i.Folder.isEqualTo(this.contentHandler)&&e&&e.isBbPage)return!0;if(r.i.Unknown.isEqualTo(this.contentHandler))return;return!1}return!1},isRoot(){return f.h.ROOT.isEqualTo(this.$pk)||f.h.INTERACTIVE.isEqualTo(this.$pk)},isAssignment(){return r.i.UltraAssignment.isEqualTo(this.contentHandler)},isDocument(){return r.i.Folder.isEqualTo(this.contentHandler)&&this.isBbPage()},isFile(){return r.i.File.isEqualTo(this.contentHandler)},isJournal(){return r.i.Journal.isEqualTo(this.contentHandler)},isLink(){return r.i.ExternalLink.isEqualTo(this.contentHandler)},isCourseLink(){return r.i.CourseLink.isEqualTo(this.contentHandler)},isLtiLink(){return r.i.LtiLink.isEqualTo(this.contentHandler)},isLtiPlacement(){return r.i.LtiPlacement.startsWith(this.contentHandler)},isPartnerCloud(){return r.i.PartnerCloud.isEqualTo(this.contentHandler)},isPlaceHolderContent(){return this.isLink()||this.isLtiLink()||this.isLtiPlacement()||this.isPartnerCloud()},isTest(){return r.i.TestLink.isEqualTo(this.contentHandler)},isScorm(){return r.i.RusticiScorm.isEqualTo(this.contentHandler)},isGradedScorm(){return this.isScorm()&&!!this.getAssociatedGradingColumn()},isDiscussion(){return!!r.i.Discussion.isEqualTo(this.contentHandler)||r.i.CourseLink.isEqualTo(this.contentHandler)&&this.isDiscussionInOutline()},isLearningModule(){return!!r.i.LearningModule.isEqualTo(this.contentHandler)||!!r.i.Unknown.isEqualTo(this.contentHandler)&&void 0},isDiscussionInOutline(){return this.getContentHandlerByIconUrl().isEqualTo(r.i.Discussion)},getSafeAssignAttrs(){return this.contentDetail[this.contentHandler.toString()].safeAssignOptions},isSafeAssignOn(){return!!this.contentDetail&&!!this.contentDetail[this.contentHandler.toString()].safeAssignOptions},isSafeAssignEnabled(){return this.isSafeAssignOn()&&this.getSafeAssignAttrs().checkAttempts},canStudentViewReports(){return this.isSafeAssignOn()&&this.getSafeAssignAttrs().canStudentViewReports},canSubmitToGlobalReferenceDatabase(){return this.isSafeAssignOn()&&!this.getSafeAssignAttrs().excludeSubmissions&&this.getSafeAssignAttrs().globalSearch},canHaveAttempts(){return r.i.UltraAssignment.isEqualTo(this.contentHandler)||r.i.TestLink.isEqualTo(this.contentHandler)||r.i.LtiLink.isEqualTo(this.contentHandler)||r.i.LtiPlacement.startsWith(this.contentHandler)||r.i.PartnerCloud.isEqualTo(this.contentHandler)||r.i.Discussion.isEqualTo(this.contentHandler)||r.i.CourseLink.isEqualTo(this.contentHandler)||r.i.Journal.isEqualTo(this.contentHandler)||this.isScorm()},canHaveSharedGradingColumn(){return r.i.PartnerCloud.isEqualTo(this.contentHandler)},applyAvailabilitySettings(e){this.adaptiveReleaseRules=e.adaptiveReleaseRules,this.isAvailable=e.isAvailable,this.isPartiallyVisible=e.isPartiallyVisible},applyGroupSettings(e){this.isGroupContent=e.isGroupContent,this.assignedGroups=e.assignedGroups,this.selfEnrollmentGroups=e.selfEnrollmentGroups},addAndRevealAtIndex(e){this.$moveTo(e),this.$reveal()},findInTreeById(e,t){return this.findLoadedNodeByIdAndCache(e,t)},findLoadedNodeByIdAndCache(e,t,n=3){return null!=t&&t.id===e||(t=this.findLoadedNodeById(e,n)),t},findLoadedNodeById(e,t){if(t<0)return null;if(null==e&&null==this.id||e===this.id)return this;if(this.children){t--;for(let n=0;n<this.children.length;n++){const i=this.children[n].findLoadedNodeById(e,t);if(i)return i}}},moveTo(e,t,n){if(this.id===t||this.id===n)return;const i=e.children.find((e=>e.id===this.id));i&&(e.children.$remove(i),e.children.fixPositions()),this.$scope.$remove(this),this.$scope.fixPositions(),null!=t&&(n=void 0);const s=e.children.getInsertionIndex(t,n,!1,e.hasMoreChildren);null!=t&&0===s&&(t="start"),null==n||s!==e.children.length||e.hasMoreChildren||(n="end"),e.children.$add(this,s),this.$scope=e.children,this.$scope.fixPositions(),this.positionBefore=t,this.positionAfter=n,this.parentId=e.id,this.depth=null!=e.depth?e.depth+1:void 0},shouldRestrict(){return!this.canEdit()&&this.isRestricted()},isQuestionAnalysisAvailable(){return this.isAssignment()||this.isTest()},updateState(e,t=!1){var i;let a=n.when(this);return(null===(i=this.permissions)||void 0===i?void 0:i.canHaveReviewState)?(this.state=e,t&&(a=this.$send({method:"PATCH",url:`${this.$url()}/states/me`,data:{state:e}}).$asPromise()),a.then((()=>(s.$broadcast(x.b,this,e),u.dispatch(r.X.contentReviewState.getContentReviewState(this.courseId,this.id,!0)),this)))):a}},Collection:{indexOfItemById(e){return this.$indexOf((t=>(t.id===e||null==t.id&&null==e)&&!t.ui.importPlaceholder))},buildAndRevealAtPosition(e,t){const n=this.getInsertionIndex(e.positionBefore,e.positionAfter);if(n>-1){const i=this.$build(t);return i.addAndRevealAtIndex(n),null!=e.positionBefore&&(i.positionBefore=e.positionBefore),null!=e.positionAfter&&null==e.positionBefore&&(i.positionAfter=e.positionAfter),i}},getInsertionIndex(e,t,n,i){const s=null==n||n;let a=-1;return null!=e&&(a="start"===e.toLowerCase()?0:this.indexOfItemById(e),!s&&a<0&&(a=0)),a<0&&null!=t&&("end"===t.toLowerCase()?null==i||i||(a=this.length):(a=this.indexOfItemById(t),a>=0&&a++),!s&&a<0&&(a=this.length)),a},fixPositions(){for(let e=0;e<this.length;e++)this[e].position=e}}},$hooks:{"after-request":function(e){var t;if(200===e.status&&!(e.config.params&&e.config.params.fields||(e.data.adaptiveReleaseRules||(this.adaptiveReleaseRules=null),"GET"!==e.config.method&&"JSONP"!==e.config.method))){if(null===(t=e.data)||void 0===t?void 0:t.results)return void e.data.results.forEach((e=>{const t=Object(y.a)(e);u.dispatch(r.X.content.setContents(t))}));if(e.data){const t=e,n=Object(y.a)(t.data);u.dispatch(r.X.content.setContents(n))}}},"before-request":function(e){if(!["/ROOT","/count","/softLinks"].some((t=>i.endsWith(e.url,t)))&&"DELETE"!==e.method){const t="gradebookCategory";e.params&&e.params.expand?i.includes(e.params.expand,t)||(e.params.expand+=`,${t}`):e.params={expand:t,...e.params}}"PATCH"!==e.method&&"PUT"!==e.method||e.data&&e.data.title&&this.safeAssignOptions&&(e.data.safeAssignOptions=this.safeAssignOptions)},"before-render":function(e){const t=this;if(e.contentDetail){const n=t.getDeployedAssessment.call(e);if(n){const e=n.gradingColumn;e&&!e.peerGrading&&n&&n.peerSettings&&delete n.peerSettings}}},"after-save":e=>{const t=Object(y.a)(e.data);u.dispatch(r.X.content.persistContentSync(t))}}});return S.$extendRecord((function(e,t){if(t.contentHandler&&r.i.CourseLink.isEqualTo(t.contentHandler))return{getDueDate(){return this.getLinkContentSource()&&this.getLinkContentSource().getDueDate()},hasDueDate(){return this.getLinkContentSource()&&this.getLinkContentSource().hasDueDate()},hasReport:()=>!1}})),S.$extendRecord((function(e,t){if(t.contentHandler&&r.i.LtiLink.isEqualTo(t.contentHandler))return{getDueDate(){return this.getAssociatedGradingColumn()&&this.getAssociatedGradingColumn().dueDate},hasDueDate(){return this.hasGradingColumn()}}})),S.$extendRecord(((e,t)=>{if(t.contentHandler&&r.i.RusticiScorm.isEqualTo(t.contentHandler))return{getAssociatedGradingColumn(e){const t=this.getScormGradebookItems();let n=null;return n=e?t.find((t=>t.columnId===e)):t.find((e=>e.root))||t[0],n&&n.gradingColumn},getDueDate(){const e=this.getAssociatedGradingColumn();return e&&e.dueDate},hasDueDate(){return this.hasGradingColumn()},getScormGradebookItems(){const e=this.contentDetail&&this.contentDetail[this.contentHandler.toString()];return e&&e.gradebookItems||[]},getScormLearningStandard(){const e=this.contentDetail&&this.contentDetail[this.contentHandler.toString()];return e&&e.learningStandard||"UNKNOWN"},getScormAdvancedSettings(){const e=this.contentDetail&&this.contentDetail[this.contentHandler.toString()];return e&&e.advancedSettings||{}},getScormReport(){const e={method:"GET",url:this.$url()+"/scormReport"},t=n.defer();return this.$scope.$collection().$send(e,(e=>{t.resolve(e.data)}),(e=>{t.reject(e)})),t.promise},isTinCan(){const e=this.contentDetail&&this.contentDetail[this.contentHandler.toString()];return!(!e||L.TINCAN!==e.learningStandard)},hasReport(){return!this.isTinCan()&&!!this.getScormGradebookItems().length},setTitle(e){this.title=e;const t=this.getScormGradebookItems().find((e=>e.root));t&&(t.title=e,t.gradingColumn.columnName=e)}}})),S}])},fmWv:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("In+A"),s=n("caKH");class a{constructor(e){this.modalStackedMap=e,this.hasAngularModal=!1,this.hasReactModal=!1,this._started=!0,this.onReactModalChanged=e=>{this.hasReactModal=e,this.updateGuidanceState()},this.onAngularModalChanged=e=>{this.hasAngularModal=!!e,this.updateGuidanceState()},i.e.addWatcher(this)}get started(){return this._started}set started(e){this._started=e,this.startedCallback&&this.startedCallback(e)}start(){s.b.getInstance().addOnModalDisplayingChanged(this.onReactModalChanged),this.modalStackedMap.addTopListener(this.onAngularModalChanged)}onStateChanged(e){this.startedCallback=e}updateGuidanceState(){this.started=!this.hasReactModal&&!this.hasAngularModal}}},fnL1:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a}));var i=n("yYax");function s(e,t){return t&&e===t.columnName?t.sortType===i.a.ASCENDING?t.sortType=i.a.DESCENDING:t.sortType===i.a.DESCENDING?t.sortType=i.a.NONE:t.sortType=i.a.ASCENDING:t={columnName:e,sortType:i.a.ASCENDING},t}function a(e,t){return(null==t?void 0:t.columnName)===e?t.sortType:i.a.NONE}},fvgg:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("LxBy");const a="ultra.components.directives.bbUiIcon.medium.Messages";Object(i.a)(s.a,a,"bbUiIconMediumMessages")},fzj8:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("Llzl"),s=n("0JpG"),a=n("Qbdf"),o=n("UD9g"),r=n("Cxi4"),l=n("pjml"),c=n("TnpK"),d=n("g7Mf"),u=n("w9Zy"),m=n("nmzr"),p=n("36CG");const h="ultra.course.engagement.router";i.module(h,[s.moduleName,c.b,r.a,o.b,d.b,a.b,p.d]).config([c.c,a.c,p.e,(e,t,i)=>{e.peekState(m.s.DISCUSSION,{abstract:!0,url:"/discussion",resolve:{translations:["$q",s.serviceName,(e,t)=>{const n=[];return n.push(t.loadBundle("features/course/engagement/course-engagement")),n.push(t.loadBundle("features/course/content/course-content")),n.push(t.loadBundle("features/course/goal-alignment/goal")),e.all(n)}],[a.d]:t.resolve,canCreateAllContent:[r.b,c.d,(e,t)=>e.canCreateAllContent(t.nextParams.courseId)],hasEditAvailabilityPermission:[r.b,c.d,(e,t)=>e.hasEditAvailabilityPermission(t.nextParams.courseId)]}}).peekState(m.s.DISCUSSION_VIEW,{abstract:!0,url:"/{contentId:_[0-9]+_1|create}?courseId&parentId&position&positionBefore&positionAfter",panelClass:"full",pageTitle:"course.content.discussion",require:()=>Promise.all([n.e(0),n.e(2),n.e(17),n.e(1),n.e(3),n.e(4),n.e(8),n.e(6),n.e(36),n.e(52),n.e(131),n.e(156),n.e(638)]).then(n.bind(null,"uypo")),resolve:{translations:["$q",s.serviceName,(e,t)=>{const n=[];return n.push(t.loadBundle("components/directives/grade/grade-input")),n.push(t.loadBundle("components/directives/grade/display-grade")),e.all(n)}],currentCourseMemberships:"^courseMembershipsLoader",discussionInit:[d.c,"currentCourseMemberships",(e,t)=>e.init(t)]},onExit:[d.c,e=>{e.destroy()}]}).peekState(m.s.DISCUSSION_VIEW_WITH_GRADING,{url:"?view&disGroupId&gradingStatus&studentStatus",panelClass:"full",views:{"engagement-edit@":{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(36),n.e(52),n.e(61),n.e(74),n.e(710)]).then(n.bind(null,"m3My"))},"engagement-grade@":{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(20),n.e(44),n.e(146)]).then(n.bind(null,"4Rme"))},"engagement-analytics@":{require:()=>n.e(158).then(n.bind(null,"zl9+"))}},onEnter:[c.d,u.e,(e,t)=>{e.isPeekPanelOpen()&&t.expandTopPanel()}],onExit:["$rootScope",e=>{e.$broadcast("deadline-refresh")}],peekStates:[m.k.CONDITIONAL_RELEASE_PEEK_PANEL,m.i.CONTENT_MARKET,"course-group","discussion-details","discussion-participants","discussion-settings",o.a,m.D.LTI,m.o.COURSE_MESSAGE,"rubric","rubric-evaluation","rubric-view","submission-list","view-exceptions","discussion-feedback","discussions-settings",m.o.COURSE_GRADES_VIEW_INDIVIDUAL_GRADES,m.o.EDIT_ENROLLMENT,"per-gradable-item-settings"],peekViewName:"discussion-peek@",pageTitle:"course.content.discussion",resolve:{[p.f]:i.resolve,currentColumn:[c.d,a.d,(e,t)=>{const n=e.nextParams.columnId;if(n&&n!==l.C.CREATE_COLUMN_ID)return t.gradebook.columns.$find(n).$asPromise()}]}}).peekState(m.s.SUBMISSION_LIST,{url:"/grading/:columnId/detail?participantId&contentId&disGroupId",panelClass:"full",require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(8),n.e(36),n.e(61),n.e(564)]).then(n.bind(null,"nbFo")),resolve:{translations:["$q",s.serviceName,(e,t)=>{const n=[];return n.push(t.loadBundle("features/course/engagement/course-engagement")),n.push(t.loadBundle("components/directives/grade/submission-list")),n.push(t.loadBundle("components/directives/grade/grade-input")),n.push(t.loadBundle("components/directives/grade/display-grade")),n.push(t.loadBundle("components/directives/discussion")),e.all(n)}],[a.d]:t.resolve,currentColumn:[c.d,a.d,(e,t)=>{const n=e.nextParams.columnId;if(n&&n!==l.C.CREATE_COLUMN_ID)return t.gradebook.columns.$find(n,{expand:"associatedRubrics"}).$asPromise()}],[p.f]:i.resolve,memberships:[a.d,e=>(e.memberships.$clear(),e.memberships.$fetch({expand:"user",roleBucket:"taking"}).$asPromise())]},pageTitle:"course.engagement.submissionTitle",peekStates:[m.o.COURSE_MESSAGE,"discussion-feedback","rubric-evaluation",m.o.COURSE_GRADES_VIEW_INDIVIDUAL_GRADES,m.o.EDIT_ENROLLMENT],peekViewName:"engagement-submissions-peek@"}).peekState(m.s.DISCUSSION_SETTINGS,{url:"/settings?contentId&focusEleId",require:()=>Promise.all([n.e(6),n.e(36),n.e(52),n.e(156),n.e(589)]).then(n.bind(null,"W67U")),resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/course/goal-alignment/goal"),t.loadBundle("features/course/engagement/discussion-settings")])],currentCourseMemberships:"^courseMembershipsLoader",discussionInit:[d.c,"currentCourseMemberships",(e,t)=>e.init(t)]},onExit:[d.c,e=>{e.destroy()}],pageTitle:"course.engagement.discussionSettingsTitle",peekViewName:"discussion-group",allowChildPeekStates:!0,peekStates:["course-group","goal-picker-legacy","rubric","rubric-view"]}).peekState(m.s.DISCUSSION_PARTICIPANTS,{url:"/participants",require:()=>n.e(665).then(n.bind(null,"IrK9")),pageTitle:"course.engagement.participantsTitle"}).peekState("discussion-details",{url:"/details",require:()=>n.e(576).then(n.bind(null,"DTfl")),pageTitle:"course.engagement.discussionDetailsTitle",peekStates:["discussion-feedback"]}).peekState("discussion-feedback",{url:"/feedback?forumId&isReadOnlyPanel&columnId",require:[()=>n.e(634).then(n.bind(null,"pq88")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(20),n.e(44),n.e(146)]).then(n.bind(null,"4Rme"))],resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/feedback-authoring/feedback-authoring")],offCanvasArgs:["offCanvasArgs",e=>(e.overlay=!1,e.disableFocusHandling=!0,e)],currentCourseMemberships:"^courseMembershipsLoader",discussionInit:[d.c,"currentCourseMemberships",(e,t)=>e.init(t)]},onExit:[d.c,e=>{e.destroy()}],pageTitle:"course.engagement.grade.feedback.viewFeedbackTitle"}).peekState("discussions-settings",{url:"/discussions-settings",require:()=>n.e(655).then(n.bind(null,"ouab"))})}])},g66W:function(e,t,n){"use strict";function i(e,t,n){return n=n||"...",(e=e.trim()).length>t&&(e=e.slice(0,t)+n),e}function s(e,t,n){e=e.trim(),n=n||"...";const i=new RegExp(`^(.{0,${t}})\\b.*$`),s=e.trim().replace(i,"$1");return e.length>t?s+n:s}function a(e,t,n){return n=n||"",e?e.replace(t,n):""}function o(e,t){return e&&t&&e.substring(e.length-t.length,e.length)===t||!1}function r(e,t){return 0===(e||"").indexOf(t)}n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"i",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return m}));const l=document.createElement("textarea");function c(e){return l.innerHTML=e,l.value}function d(e){return null==e?e:e.replace(/&gt;/g,">").replace(/&lt;/g,"<")}function u(e){return null!=e.match(/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf\uac00-\ud7af]/)}function m(e){return null!=e.match(/[\-\s]/)}},g7Mf:function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return E})),n.d(t,"a",(function(){return I}));var i=n("D57K"),s=n("nsO7"),a=n("Llzl"),o=n("Sa5G"),r=n("pjml"),l=n("0JpG"),c=n("oVrE"),d=n("5MwF"),u=n("nYZ0"),m=n("Fvsw"),p=n("Qbdf"),h=n("X455"),g=n("fYJU"),b=n("TnpK"),f=n("jhBu"),v=n("Cxi4"),y=(n("SeO5"),n("aHpC")),k=n("ZQFV"),x=n("zGdY"),S=n("RPob");const C="ultra.service.discussion",E="discussionService",I="default";let w=class{constructor(e,t,n,i,s,a,o,r,l,c,d,u,m,p){this.bbLocalize=e,this.$rootScope=t,this.$q=n,this.$modal=i,this.courseModel=s,this.UserModel=a,this.context=o,this.contentService=r,this.ultraState=l,this.entitlementService=c,this.discussionPermission=d,this.contextUser=u,this.courseMembership=m,this.contextCourse=p,this.userCourseRoles={},this.userCourseAvailabilities={},this.canObserveGradebook=!1,this.canViewAssessments=!1,this.canViewGradebook=!1,this.canViewAttempts=!1,this.participantCount="-",this.hasEditPermission=!1,this.hasClassGroup=!1,this.initCount=0,this.$rootScope.$on("discussion-group-content-update",((e,t)=>{this.hardLinkContent&&(this.hardLinkContent.applyGroupSettings(t),this.softLinkContent&&this.softLinkContent.id&&this.softLinkContent.applyGroupSettings(this.hardLinkContent))}))}init(e){const t=this.ultraState.nextParams.contentId;if(this.initCount++,this.initCount>1){if(t===this.currentContentId)return this.$q.when();this.initCount=1,this.destroy(),this.initCount=1}return this.currentContentId=t,this.redirectedFromStream="base.recentActivity"===this.ultraState.getBaseState(),this.reloaded=!this.ultraState.current.name,this.currentCourseId=this.contextCourse.courseId?this.contextCourse.courseId:this.ultraState.nextParams.courseId,this.groupId=this.ultraState.nextParams.disGroupId||"",this.userCourseAvailabilities[c.c()]=!0,this.courseMembershipsFetcher=e||this.courseModel.$new(this.currentCourseId).memberships,this.courseMembershipsFetcher.$resolve({limit:1e4}).$asPromise().then((e=>{e.forEach((e=>{const t=e.role.toString();t in r.w.toBeLocalizedRoleLabels?this.userCourseRoles[e.userId]=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(null),key:r.w.toBeLocalizedRoleLabels[t]}):this.userCourseRoles[e.userId]=t,this.userCourseAvailabilities[e.userId]=e.isAvailable}))})),this.resolveCourse().then((e=>{this.course=e,this.outlineRoot=this.contentService.findRootNode(this.course,r.p.ContentRootNode.ROOT),this.engagementRoot=this.contentService.findRootNode(this.course,r.p.ContentRootNode.INTERACTIVE);const t=this.ultraState.nextParams.columnId;let n;n=t&&t!==r.C.CREATE_COLUMN_ID?this.course.gradebook.columns.$find(t,{expand:"associatedRubrics"}).$asPromise():this.$q.when();let i=this.$q.when();this.ultraState.getBaseState()===d.a.defaultBasePage&&(i=this.courseMembership.load(this.course));const s=this.course.id;return this.$q.all([n,this.entitlementService.hasCourseEntitlement(o.j.ViewAssessment,s),this.discussionPermission.hasEditPermission(s),this.entitlementService.hasCourseEntitlement(k.q.Observe,s),this.entitlementService.hasCourseEntitlement(k.q.ViewGradebookMetaData,s),this.entitlementService.hasCourseEntitlement(k.q.ViewAttempts,s),i])})).then((([e,t,n,i,s,a])=>{e&&(this.column=e),this.canViewAssessments=t,this.hasEditPermission=n,this.canObserveGradebook=i,this.canViewGradebook=s,this.canViewAttempts=a}))}destroy(){this.persistNewDiscussionDefer?this.persistNewDiscussionDefer.promise.then((()=>{this.clearDiscussionOnExit()})):this.clearDiscussionOnExit()}clearDiscussionOnExit(){this.initCount--,this.initCount>0||(this.deleteEmptyDiscussionOnExit(),this.course=void 0,this.userCourseRoles={},this.userCourseAvailabilities={},this.currentContentId=void 0,this.hardLinkContent=void 0,this.softLinkContent=void 0,this.engagementRoot=void 0,this.outlineRoot=void 0,this.canObserveGradebook=void 0,this.canViewAssessments=void 0,this.canViewGradebook=void 0,this.canViewAttempts=void 0,this.currentDiscussion=void 0,this.groupId=void 0,this.currentCourseId=void 0,this.column=void 0,this.assignedGroupsFiltersArray=void 0,this.selectedGroup=void 0,this.participantCount=void 0,this.loadDiscussionP=void 0,this.loadHardContentP=void 0,this.loadSoftContentP=void 0,this.hasEditPermission=void 0,this.hasClassGroup=void 0,this.redirectedFromStream=void 0,this.reloaded=void 0)}loadDiscussion(e,t,n){return this.loadDiscussionP?this.loadDiscussionP:this.loadDiscussionP=this.loadHardContent().then((()=>this.loadSoftContent())).then((()=>(e&&(s.merge(this.hardLinkContent,e),!n&&this.hasGroups()?this.hardLinkContent.assignedGroups.some((e=>this.groupId===e.groupId))||(this.groupId=this.hardLinkContent.assignedGroups[0].groupId):this.groupId=""),this.doLoadDiscussion(t))))}doLoadDiscussion(e=this.forumId){return this.course.forums.$new(e).messages.$fetch().$asPromise().then((e=>{this.currentDiscussion=e.find((e=>!e.groupId))}))}createDiscussion(){const e=this.ultraState.params,t=this.ultraState.includes("**.course.outline.**")?void 0:e.parentId;return this.loadDiscussionP=this.$q.all([this.buildDiscussion(),this.contentService.makeContentInContentTree(this.engagementRoot,this.contextCourse.courseId,t,e.positionBefore,e.positionAfter)]).then((([e,t])=>{this.currentDiscussion=e,this.hardLinkContent=t.content,this.hardLinkContent.contentHandler=r.p.ContentHandler.Discussion,this.hardLinkContent.visibility=this.contentService.determineVisibility(this.hardLinkContent.isAvailable),this.hardLinkContent.isAvailable=this.currentDiscussion.isAvailable}))}newDiscussionPersist(e){const t=[{tag:"table",replacementText:this.bbLocalize.translateSync({key:"course.content.tablePlaceholder",locale:this.bbLocalize.getLocale(this.$rootScope)})},{tag:"math",replacementText:this.bbLocalize.translateSync({key:"course.content.mathPlaceholder",locale:this.bbLocalize.getLocale(this.$rootScope)}),replacementTextPlural:this.bbLocalize.translateSync({key:"course.content.mathPlaceholder.plural",locale:this.bbLocalize.getLocale(this.$rootScope)})}],n=Object(S.q)(this.currentDiscussion.body.rawText,t),i=this.contentService.truncateDescription(n,u.c.MAX_LENGTH_IN_CONTENT_ITEM);return this.currentDiscussion.plaintextDescription=i,this.currentDiscussion.$patch(["body","plaintextDescription"]).$asPromise().then((()=>this.doLoadDiscussion(e))).then((()=>{this.hardLinkContent.description=i,this.softLinkContent&&(this.softLinkContent.description=i)}))}loadHardContent(e=!1){if(this.loadHardContentP)return this.loadHardContentP;const t=(e?"":"alignedGoals,")+"assignedGroups.group,selfEnrollmentGroups.group";return this.loadHardContentP=this.course.contents.$find(this.currentContentId,{expand:t}).$asPromise().then((e=>this.hardLinkContent=e))}loadSoftContent(){return this.hardLinkContent?this.loadSoftContentP?this.softLinkContent?this.$q.when(this.softLinkContent):this.loadSoftContentP:this.loadSoftContentP=this.hardLinkContent.getSoftLinks({label:"ROOT"}).$asPromise().then((e=>{if(e.length)return this.contentService.getOrMakeContentInContentTree(this.outlineRoot,this.course.id,e[0].courseContent).then((e=>this.softLinkContent=e.content))})):this.$q.when()}async persistNew(){try{this.persistNewDiscussionDefer=this.$q.defer(),this.updateHardLinkContent(this.currentDiscussion);const e=await this.hardLinkContent.$save().$asPromise();this.currentContentId=e.id,this.currentDiscussion=this.updateDiscussion(this.forumId),await this.currentDiscussion.$save().$asPromise();if(!await this.discussionPermission.canCreateAllContent(this.currentCourseId))return void await this.ultraState.search("contentId",this.currentContentId);let{parentId:t,positionBefore:n,positionAfter:i}=this.ultraState.params;this.ultraState.includes("**.course.engagement.**")&&(t=this.outlineRoot.id,n=null,i=null);const s=await this.contentService.makeSoftLinkContentInContentTree(this.hardLinkContent,this.outlineRoot,this.contextCourse.courseId,t,n,i);s&&(this.softLinkContent=s,this.softLinkContent.title=this.hardLinkContent.title,await this.softLinkContent.$save().$asPromise()),await this.ultraState.search("contentId",this.currentContentId)}finally{this.persistNewDiscussionDefer.resolve()}}get body(){var e,t;return null===(t=null===(e=this.currentDiscussion)||void 0===e?void 0:e.body)||void 0===t?void 0:t.rawText}get discussion(){var e;return this.currentDiscussion&&this.currentDiscussion.ui?null===(e=this.currentDiscussion.ui)||void 0===e?void 0:e.replies:""}deleteEmptyDiscussionOnExit(){var e,t,n;const i=(null===(e=this.softLinkContent)||void 0===e?void 0:e.title)||(null===(t=this.hardLinkContent)||void 0===t?void 0:t.title),s=!this.body&&(!this.discussion||this.discussion&&0===(null===(n=this.discussion)||void 0===n?void 0:n.length)),a=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$rootScope),key:"components.directives.header.placeholder.x-bb-forumlink",params:{date:this.context.getServerTime()},noWrap:!0});if(s&&a===i){const e=this.ultraState.includes("**.course.outline.**")||this.ultraState.includes("**.engagement.**");this.deleteEmptyDiscussion(e)}}deleteEmptyDiscussion(e){var t,n;this.softLinkContent&&this.softLinkContent.id&&this.$rootScope.$broadcast("deleteContent",this.softLinkContent,!1),(null===(t=this.currentDiscussion)||void 0===t?void 0:t.gradedColumn)&&(null===(n=this.currentDiscussion)||void 0===n?void 0:n.gradedColumn.id)&&this.$rootScope.$broadcast("bb-delete-column",this.currentDiscussion.gradedColumn),this.$rootScope.$broadcast("deleteContent",this.hardLinkContent,e)}expandUsersInParticipants(e,t=!1){if(s.isEmpty(e))return this.$q.when(e);const n=e[0];if(null==n||null==n.userId)return this.$q.when(e);const i=e.map((e=>e.userId));let a;return a=!t||this.contextCourse.usersCache.hit(i)?this.$q.when():this.courseMembershipsFetcher.$fetchIfNotExpanded({limit:1e4,expand:"user"}).$asPromise(),a.then((()=>this.contextCourse.usersCache.fetchUsers(i,this.UserModel,this.$q).then((t=>(e.forEach((e=>{e.data=t.get(e.userId)})),this.$q.when(e))))))}getParticipantCount(e=null){return this.loadHardContent().then((()=>(e||(e=this.forumId),this.course.forums.$new(e).usercounts.$fetch({limit:1e4,offset:0,roleBucket:"TAKING",groupId:this.groupId}).$then((e=>this.expandUsersInParticipants(e))).$asPromise()))).then((e=>{this.participantCount=e.filter((e=>e.topLevelReplyCount+e.secondLevelReplyCount>0)).length}))}queryParticipants(e,t,n="",i=!1){const s={limit:t,q:n,offset:0,groupId:this.hasGroups()&&this.groupId||""};return this.course.forums.$new(e).usercounts.$fetch(s).$asPromise().then((e=>this.expandUsersInParticipants(e,i)))}async queryParticipant(e,t){const n={userIds:[t],offset:0},i=await this.course.forums.$new(e).usercounts.$fetch(n).$asPromise(),s=i.map((e=>e.userId)),a=await this.contextCourse.usersCache.fetchUsers(s,this.UserModel,this.$q);return i.forEach((e=>{e.data=a.get(e.userId),e.data||(e.data=c.b(this.$rootScope,this.bbLocalize))})),this.$q.when(i[0])}isPostFirstSatisfied(e,t=this.forumId){return this.loadHardContent().then((()=>this.course.forums.$new(t).usercounts.$fetch({limit:1e4,offset:0,roleBucket:"TAKING"}).$then((e=>this.expandUsersInParticipants(e))).$asPromise())).then((t=>{const n=t.find((t=>t.data.id===e));return!(!n||!n.topLevelReplyCount)}))}refreshParticipationGrade(){if(!this.hasNoGroups())return this.resolveColumn().then((e=>{e&&(this.column=e,this.column.summary&&this.column.summary.$fetch&&(this.getParticipantCount(),this.column.summary.$fetch({groupId:this.groupId})))}));this.column=void 0}saveContent(){return this.hardLinkContent.$patch().$then((()=>{this.softLinkContent&&this.softLinkContent.id&&(this.softLinkContent.applyAvailabilitySettings(this.hardLinkContent),this.softLinkContent.$patch().$then((()=>{this.$rootScope.$broadcast("content-update",this.softLinkContent)}))),this.$rootScope.$broadcast("content-update",this.hardLinkContent),this.$rootScope.$broadcast("attempt-base-content-update",this.hardLinkContent,this.course.id)})).$asPromise()}savePost(){this.currentDiscussion.plaintextDescription=this.contentService.truncateDescription(this.currentDiscussion.plaintextDescription,u.c.MAX_LENGTH_IN_CONTENT_ITEM),this.hardLinkContent&&(this.hardLinkContent.description=this.currentDiscussion.plaintextDescription,this.hardLinkContent.title=this.currentDiscussion.subject,this.$rootScope.$broadcast("content-update",this.hardLinkContent)),this.softLinkContent&&(this.softLinkContent.description=this.currentDiscussion.plaintextDescription,this.softLinkContent.title=this.currentDiscussion.subject,this.$rootScope.$broadcast("content-update",this.softLinkContent))}loadGroup(e,t){if(this.hasClassGroup=e,this.assignedGroupsFiltersArray=null,e){const e={name:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(null),key:null!=t?t:"components.directives.conversation.classConversation"}),index:0,groupId:I,extraClass:""};this.assignedGroupsFiltersArray=new Array(e),this.selectedGroup=e}if(this.hasGroups()){let t=!1,n=e?1:0;const i=this.hardLinkContent.assignedGroups.map((i=>{const s={name:!e||this.hasEditPermission?i.groupTitle:this.bbLocalize.translateSync({locale:"",key:"components.directives.conversation.myGroup"}),index:n++,groupId:i.groupId,isInGroupSet:!(!i.group||!i.group.groupSetId)};return this.redirectedFromStream&&!this.reloaded&&this.redirectToNeedGradingGroup(i.groupId,s),this.groupId&&this.groupId===s.groupId&&(this.selectedGroup=s,t=!0),s}));this.assignedGroupsFiltersArray=this.assignedGroupsFiltersArray?this.assignedGroupsFiltersArray.concat(i):i,!t&&this.assignedGroupsFiltersArray.length&&(this.selectedGroup=this.assignedGroupsFiltersArray[0],this.groupId=this.selectedGroup.groupId,e||this.refreshParticipationGrade())}else this.groupId=""}async redirectToNeedGradingGroup(e,t){this.$q.when((async()=>{await this.resolveColumn();const n=await this.column.summary.$fetch({groupId:e}).$asPromise();(null==n?void 0:n.numStudentsNeedsGrading)>0&&(this.groupId=e,this.selectedGroup=t,this.refreshParticipationGrade(),this.$rootScope.$broadcast("group-change",this.groupId))})())}clearGroups(){this.hardLinkContent&&this.contentService.clearContentGroups(this.hardLinkContent,this.course).then((()=>{this.groupId="",this.$rootScope.$broadcast("discussion-group-content-update",this.hardLinkContent),this.$rootScope.$broadcast("load-participants")}))}isGroupDiscussion(){return!!(this.hardLinkContent&&this.hardLinkContent.isGroupContent&&this.hardLinkContent.assignedGroups)}hasGroups(){return this.isGroupDiscussion()&&!!this.hardLinkContent.assignedGroups.length}hasNoGroups(){return this.isGroupDiscussion()&&!this.hardLinkContent.assignedGroups.length}isOpenFromConversation(){return!!this.ultraState.current.url&&this.ultraState.current.url.indexOf("conversations")>0}get forumId(){return this.contentService.parseForumId(this.hardLinkContent.contentDetailUrl)}get alignedGoalsCount(){return this.hardLinkContent&&this.hardLinkContent.alignedGoals?this.hardLinkContent.alignedGoals.length:0}updateHardLinkContent(e){this.hardLinkContent.title=e.subject,this.hardLinkContent.description=this.contentService.truncateDescription(e.plaintextDescription,u.c.MAX_LENGTH_IN_CONTENT_ITEM),this.hardLinkContent.visibility=this.contentService.determineVisibility(this.hardLinkContent.isAvailable),this.hardLinkContent.contentDetail={"resource/x-bb-forumlink":{title:e.subject}}}buildDiscussion(){return this.engagementRoot.$asPromise().then((()=>{let e=!1;this.contentService.canOnlyCreateDiscussion(this.engagementRoot)&&(e=!0);const t=this.contextUser.userModel;return this.course.forums.$new().messages.$build({courseId:this.contextCourse.courseId,userId:t.id,postedName:t.userName,subject:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(null),key:"course.content.discussionTitlePlaceholder"}),body:{rawText:"",displayText:""},isDeleted:!1,isAvailable:e})}))}stopActivityAfterDueDate(){var e,t,n,i,s;const a=this.context.getServerTime(),o=this.isGroupDiscussion()&&(null===(e=this.hardLinkContent)||void 0===e?void 0:e.dueDateExceptionType)===x.D.Unlimited,r=!this.isGroupDiscussion()&&this.courseMembership.isDueDateExcepted();return this.courseMembership.isStudentMembership()&&!o&&!r&&(null===(n=null===(t=this.currentDiscussion)||void 0===t?void 0:t.gradedColumn)||void 0===n?void 0:n.enforceDueDate)&&a>(null===(s=null===(i=this.currentDiscussion)||void 0===i?void 0:i.gradedColumn)||void 0===s?void 0:s.dueDate)}updateDiscussion(e){const t=this.context.getServerTime();return this.course.forums.$new(e).messages.$build({subject:this.currentDiscussion.subject,id:null,forumId:e,parentId:"{unset id}",courseId:this.currentDiscussion.courseId,userId:this.currentDiscussion.userId,postedName:this.currentDiscussion.postedName,body:this.currentDiscussion.body,isDeleted:!1,postDate:t,editDate:t,isAvailable:this.currentDiscussion.isAvailable})}resolveCourse(){return this.contextCourse.course?this.contextCourse.course.$asPromise():this.courseModel.$find(this.currentCourseId).$asPromise()}refetchColumn(){return this.column?this.column.$fetch({expand:"associatedRubrics"}).$asPromise():this.resolveColumn()}hasViewGradebookColumnPermission(){return this.canViewGradebook||this.canViewAttempts||this.canViewAssessments||this.canObserveGradebook}resolveColumn(){return this.column?this.column.$asPromise():this.loadDiscussion().then((()=>{if(this.currentDiscussion.gradedColumn)return this.hasViewGradebookColumnPermission()?this.course.gradebook.columns.$new(this.currentDiscussion.gradedColumn.id).$fetch({expand:"associatedRubrics"}).$asPromise():this.$q.when(this.currentDiscussion.gradedColumn)}))}get isGradedDiscussion(){return this.currentDiscussion&&this.currentDiscussion.allowGrading}set groupId(e){const t=this._groupId;a.isArray(e)?this._groupId=e[0]:this._groupId=e,this._groupId&&this._groupId!==t&&(this.hasClassGroup&&this.ultraState.search("groupId",this._groupId),this.ultraState.search("disGroupId",this._groupId))}get groupId(){return this._groupId===I?"":this._groupId}};w=Object(i.a)([Object(i.c)(0,Object(y.b)(l.serviceName)),Object(i.c)(1,Object(y.b)("$rootScope")),Object(i.c)(2,Object(y.b)("$q")),Object(i.c)(3,Object(y.b)("$modal")),Object(i.c)(4,Object(y.b)(r.m.serviceName)),Object(i.c)(5,Object(y.b)(r.Jb.serviceName)),Object(i.c)(6,Object(y.b)(m.b)),Object(i.c)(7,Object(y.b)(u.f)),Object(i.c)(8,Object(y.b)(b.d)),Object(i.c)(9,Object(y.b)(f.b)),Object(i.c)(10,Object(y.b)(v.b)),Object(i.c)(11,Object(y.b)(g.b)),Object(i.c)(12,Object(y.b)(h.d)),Object(i.c)(13,Object(y.b)(p.e))],w);a.module(C,[r.N,l.moduleName,m.a,u.d,b.b,f.a,v.a,r.N]).service(E,w)},gCXj:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("Llzl"),s=n("nsO7"),a=n("5Dl8"),o=n("TnpK"),r=n("w9Zy"),l=n("pjml");const c="ultra.course.coursemembershipmarkups",d="ultra.course.coursemembershipmarkups.service",u="bbCourseMembershipMarkups";i.module(c,[l.N,o.b,r.d]).run([r.e,o.d,l.t.serviceName,"$rootScope",function(e,t,n,i){i.$on(r.c,(()=>{t.params.courseId&&e.getTopElement().then((e=>{e.getElement().addClass("cc"+t.params.courseId)}))})),n.$mixHook("after-fetch-many",(function(){const e=(/courses\/(_\d+_\d+)/.exec(this.$url())||[])[1];e&&i.$broadcast(`course-${e}-memberships-after-fetch`,Array.prototype.slice.apply(this))}))}]).provider(d,class{constructor(){this.fn=[]}onStyleRefresh(e){this.fn.push(e)}$get(){return this}}).directive(u,[d,function(e){return{restrict:"A",scope:!1,link(t,n,o){const r=o[u],l=`css_course_${r}_membership`,c={},d=s.once((()=>{let e=i.element(document).find(`#${l}`);return 0===e.length&&(e=i.element(`<style id="${l}"></style>`).appendTo("head"),t.$on("$destroy",(()=>{e.remove()}))),e}));t.$root.$on(`course-${r}-memberships-after-fetch`,((t,n)=>{t.preventDefault();const i=d();(n=s(n).filter((e=>null!=(e.userId||e.user.id))).map((e=>(e.userId=e.userId||e.user.id,e))).value()).forEach((t=>{const n=new a.a,i=n.selector(`.cc${r}`);e.fn.forEach((e=>{e(i,t)})),c[t.id]=n.build()}));const o=s(c).sortBy().map(((e,t)=>e)).join("\n");o!==i.text()&&i.text(o)})),t.$on(`course-${r}-memberships-before-fetch`,((e,t)=>{e.preventDefault();const n=t.params||{};n.fields&&(n.fields+=",courseId,dueDateExceptionType,timeLimitExceptionType")}))}}}])},"gK/k":function(e,t,n){"use strict";var i=n("D57K"),s=n("nsO7"),a=n("Llzl"),o=n("9Fiv"),r=n("L2Kv"),l=n("TmUJ"),c=n("yC9S"),d=n("5Dl8"),u=n("dF44"),m=n("TML7"),p=n("kjyA"),h=n("aHpC");n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}));const g="ultra.components.directives.gridReborn",b="bbGridReborn";let f=class{constructor(e,t,n,i,a,o){this.$scope=e,this.$element=t,this.$attrs=n,this.$injector=i,this.$q=a,this.debounce=o,this.containers=Object.create(null),this.afterCellDataUpdatedHooks=[],this.onColumnEvent=(e,t)=>{this.initializedWithOptions.then((()=>{t&&(this.options.columns=t),this.setDefaultValues(),this.afterCellDataUpdated((()=>{this.initStyles(),s.forEach(this.containers,(e=>e.initColumnsPosition()))})),s.forEach(this.splitColumns(),((e,t)=>{this.containers[t].resetColumns(e)}))}))},this.onRowEvent=(e,t)=>{this.initializedWithOptions.then((()=>{t&&(this.options.memberships=t),this.setDefaultValues(),this.initStyles(),this.initRowsPosition(),s.forEach(this.containers,(e=>e.resetRows(t)))}))},this.onDataUpdate=()=>{this.debounceRefresh()},this.notifyScrollHorizontally=s.throttle(this.$scope.$broadcast.bind(this.$scope.$root,u.b.SCROLL_H),u.d),this.notifyScrollVertically=s.throttle(this.$scope.$broadcast.bind(this.$scope.$root,u.b.SCROLL_V),u.d),this.id="rb-grid-"+n.id,t.addClass(this.id),this.scrollbarWidth=Object(l.a)(),this.deferredInitWithOptions=a.defer(),this.initializedWithOptions=this.deferredInitWithOptions.promise;const r=e.$watch(n[b],(e=>{e&&(this.initialize(e),r())}));this.debounceRefresh=this.debounce.asDebounced(this.refreshImpl.bind(this),this.$scope,u.d),this.onWindowResize=this.debounce.asDebounced(this.onWindowResizeImpl.bind(this),this.$scope,u.d),c.b.OnWindow("resize",this.onWindowResize,e),e.$on(u.b.COLUMN,this.onColumnEvent),e.$on(u.b.ROW,this.onRowEvent),e.$on(u.b.DATA_UPDATE,this.onDataUpdate)}onWindowResizeImpl(){s.forEach(this.containers,(e=>{e.adjustRows(),e.adjustColumns()}))}initialize(e){this.options=e,this.setDefaultValues(),this.initStyles(),this.createContainers(),this.initRowsPosition(),this.initColumnsPosition(),this.deferredInitWithOptions.resolve(e)}initStyles(){const e=[],t=this.$element.find("style#rb-grid");e.push(`.${this.id} .rb-header-row {height: ${Object(d.b)(this.options.headerHeight)};}`),e.push(`.${this.id} .column-header-button-wrapper, .${this.id} .rb-add-column-placeholder {height: ${Object(d.b)(this.options.headerContentHeight)};}`),e.push(`.${this.id} .rb-cell-row {height: ${Object(d.b)(this.options.rowHeight)};}`),Array.prototype.push.apply(e,this.options.columns.map((e=>`.${this.id} .rb-col-${e.id} {width: ${Object(d.b)(e.columnWidth)};}`))),e.push(`.${this.id} .rb-grid-scrollbar-placeholder-x {height: ${Object(d.b)(this.scrollbarWidth)};}`),e.push(`.${this.id} .rb-grid-scrollbar-placeholder-y {width: ${Object(d.b)(this.scrollbarWidth)};}`),t.text(e.join("\n"))}initRowsPosition(){const e=this.options.memberships,t=[],n=this.$element.find("style#rb-grid-rows-initial-position");for(let n=0;n<e.length;n++)t.push(`.${this.id} .rb-row-position-${e[n].id} {top: ${Object(d.b)(n*this.options.rowHeight)};}`);n.text(t.join("\n"))}initColumnsPosition(){s.values(this.containers).forEach((e=>e.initColumnsPosition()))}createContainers(){s.forEach(this.splitColumns(),((e,t)=>this.containers[t]=this.$injector.instantiate(o.a,{position:t,columns:e,grid:this}))),this.containers.center.hasHScrollbar=!0,(this.containers.right||this.containers.center).hasVScrollbar=!0}setDefaultValues(e=this.options){e.headerContentHeight=e.headerContentHeight||e.headerHeight,e.headerBorder=!1!==e.headerBorder,e.rowBorder=!1!==e.rowBorder,e.columns.forEach((e=>{e.position=e.position||"center",e.border=!1!==e.border,e.focusable=!1!==e.focusable}))}getFocusableColumns(){const e=this.containers.left,t=this.containers.right;return(e&&e.columns||[]).concat(this.containers.center.columns,t&&t.columns||[]).filter((e=>e.focusable))}splitColumns(e=this.options.columns){const t=s.groupBy(e,(e=>e.position));return t.center=t.center||[],t}scrollContainers({scrollTop:e=-1,scrollLeft:t}){e>=0&&(this.notifyScrollVertically(e),s.forEach(this.containers,(t=>{t.scrollVertically(e)}))),null!=t&&(this.notifyScrollHorizontally(t),this.containers.center.scrollHorizontally(t))}scrollToLeft(e){this.scroll({scrollLeft:0},e)}scrollToRight(e){this.scroll({scrollLeft:this.containers.center.getMaxScrollLeft()},e)}scrollToRightWithTop(e,t){this.scroll({scrollLeft:this.containers.center.getMaxScrollLeft(),scrollTop:e},t)}scrollToTop(e){this.scroll({scrollTop:0},e)}scrollToBottom(e){this.scroll({scrollTop:this.containers.center.getMaxScrollTop()},e)}scroll(e,t){t&&this.afterCellDataUpdated(t),this.scrollContainers(e)}canAddColumn(){return!!this.options.callbacks.column}afterCellDataUpdated(e){this.afterCellDataUpdatedHooks.push(e)}applyAfterCellUpdatedOnce(){for(let e=0;e<this.afterCellDataUpdatedHooks.length;e++)try{this.afterCellDataUpdatedHooks[e]()}catch(e){console.error(e)}this.afterCellDataUpdatedHooks.length=0}refreshImpl(){s.forEach(this.containers,(e=>e.applyData()));const e=s.values(this.containers).reduce(((e,t)=>e.concat(t.renderedColumns)),[]);(this.options.callbacks.data||a.noop)(this.containers.center.renderedRows,e),this.$scope.$apply(),this.applyAfterCellUpdatedOnce()}};f=Object(i.a)([Object(i.c)(0,Object(h.b)("$scope")),Object(i.c)(1,Object(h.b)("$element")),Object(i.c)(2,Object(h.b)("$attrs")),Object(i.c)(3,Object(h.b)("$injector")),Object(i.c)(4,Object(h.b)("$q")),Object(i.c)(5,Object(h.b)(p.b))],f);class v{constructor(e){this.$injector=e,this.replace=!0,this.restrict="A",this.template=m,this.transclude=!0,this.controller=f,this.controllerAs="grid",this.scope=!0}}v.$inject=["$injector"],a.module(g,[p.a]).directive(b,["$injector",e=>e.instantiate(v)]).directive(o.c,["$injector",e=>e.instantiate(o.b)]).directive(r.b,["$injector",e=>e.instantiate(r.a)])},gOJg:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("JzsJ");var i=n("Llzl"),s=n("0JpG"),a=n("Qbdf"),o=n("TnpK"),r=n("nmzr");const l="ultra.course.contentCreate.routes";i.module(l,[s.moduleName,a.b,o.b]).config([o.c,a.c,(e,t)=>{e.peekState("content-manage.create.document",{panelClass:"full",resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/content/course-content")],[a.d]:t.resolve},reloadOnSearch:!1,peekViewName:"document-peek@",url:"/document",require:()=>Promise.all([n.e(21),n.e(5),n.e(125)]).then(n.bind(null,"HjlN")),peekStates:[r.k.DOCUMENT,"document-settings","conversations","edit-file-settings",r.o.COURSE_MESSAGE,r.D.LTI,r.i.CONTENT_MARKET,r.h.CONTENT_COLLECTION,r.k.CONDITIONAL_RELEASE_PEEK_PANEL,r.h.CONTENT_COLLECTION_PICKER],pageTitle:"course.content.document.title"}).peekState(r.k.DOCUMENT,{panelClass:"full",resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/content/course-content")],[a.d]:t.resolve},peekViewName:"document-peek@",url:"/document/:id?courseId&view",require:()=>Promise.all([n.e(21),n.e(5),n.e(125)]).then(n.bind(null,"HjlN")),peekStates:["document-settings","conversations","edit-file-settings",r.o.COURSE_MESSAGE,r.D.LTI,r.i.CONTENT_MARKET,r.k.CONDITIONAL_RELEASE_PEEK_PANEL,r.h.CONTENT_COLLECTION_PICKER,r.o.COURSE_GRADES_VIEW_INDIVIDUAL_GRADES],pageTitle:"course.content.document.title"}).peekState("document-settings",{resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/course-content"),t.loadBundle("features/course/goal-alignment/goal")])]},url:"/document-settings/:id",params:{focusEleId:null},require:()=>Promise.all([n.e(5),n.e(572)]).then(n.bind(null,"Ynio")),peekViewName:"document-settings-peek",allowChildPeekStates:!0,peekStates:[r.w.ADD_GOALS],pageTitle:"course.content.document.settings.header"}),e.peekState("content-manage",{abstract:!0,peekStates:["gradebook-item"]}).peekState(r.k.CREATE_CONTENT_PEEK_PANEL,{url:"/create?parentId&positionBefore&positionAfter&id",resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/content/course-content")]},peekStates:["discussion","gradebook-item",r.B.JOURNAL],require:[()=>Promise.all([n.e(5),n.e(701)]).then(n.bind(null,"a0Ud")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],pageTitle:"course.content.createItem"}).peekState("content-manage.create.folder",{resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/content/course-content")]},url:"/folder",require:[()=>Promise.all([n.e(5),n.e(162)]).then(n.bind(null,"1wJd")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],pageTitle:"course.content.createFolder"}).peekState(r.k.CREATE_LEARNING_MODULE_PEEK_PANEL,{resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/content/course-content")]},url:"/learning-modules",require:[()=>Promise.all([n.e(5),n.e(160)]).then(n.bind(null,"Yvtv")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],pageTitle:"course.content.createLearningModule"}).peekState("content-manage.create.link",{panelClass:"full",resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/course-content"),t.loadBundle("features/course/goal-alignment/goal")])]},url:"/link",require:[()=>Promise.all([n.e(5),n.e(11),n.e(88)]).then(n.bind(null,"KYun")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],peekViewName:"link-goal-peek",allowChildPeekStates:!0,peekStates:[r.w.ADD_GOALS],pageTitle:"course.content.createLink"}).peekState("content-manage.create.link.legacyVersion",{panelClass:"peek",resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/course-content"),t.loadBundle("features/course/goal-alignment/goal")])]},url:"/link",require:[()=>Promise.all([n.e(5),n.e(11),n.e(88)]).then(n.bind(null,"KYun")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],peekViewName:"link-goal-peek",allowChildPeekStates:!0,peekStates:[r.w.ADD_GOALS],pageTitle:"course.content.createLink"}).peekState("content-manage.create.lti",{resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/course-content"),t.loadBundle("features/course/goal-alignment/goal")])]},url:"/lti",require:[()=>Promise.all([n.e(5),n.e(14),n.e(163)]).then(n.bind(null,"7OXB")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],peekViewName:"lti-goal-peek",allowChildPeekStates:!0,peekStates:[r.w.ADD_GOALS],pageTitle:"course.content.createLti"}).peekState("content-manage.create.file",{resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/content/course-content")]},url:"/file",require:[()=>Promise.all([n.e(5),n.e(10),n.e(87)]).then(n.bind(null,"ebp7")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],pageTitle:"course.content.fileTitlePlaceholder"}).peekState("content-manage.edit",{abstract:!0,resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/goal-alignment/goal")]},url:"/edit"}).peekState("content-manage.edit.folder",{resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/content/course-content")]},url:"/folder/:id?focusEleId",require:[()=>Promise.all([n.e(5),n.e(162)]).then(n.bind(null,"1wJd")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],peekStates:[r.k.CONDITIONAL_RELEASE_PEEK_PANEL],allowChildPeekStates:!0,pageTitle:"course.content.editFolder"}).peekState(r.k.EDIT_LEARNING_MODULE_PEEK_PANEL,{resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/content/course-content")]},url:"/learning-modules/:id?focusEleId",require:[()=>Promise.all([n.e(5),n.e(160)]).then(n.bind(null,"Yvtv")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],peekStates:[r.k.CONDITIONAL_RELEASE_PEEK_PANEL],allowChildPeekStates:!0,pageTitle:"course.content.editLearningModule"}).peekState("content-manage.edit.file",{resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/content/course-content")]},url:"/file/:id?focusEleId",require:[()=>Promise.all([n.e(5),n.e(10),n.e(87)]).then(n.bind(null,"ebp7")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],peekViewName:"file-goal-peek",allowChildPeekStates:!0,peekStates:[r.w.ADD_GOALS,r.k.CONDITIONAL_RELEASE_PEEK_PANEL],pageTitle:"course.content.file"}).peekState("content-manage.edit.link",{resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/course-content"),t.loadBundle("features/course/goal-alignment/goal")])]},url:"/link/:id?focusEleId",require:[()=>Promise.all([n.e(5),n.e(11),n.e(88)]).then(n.bind(null,"KYun")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],peekViewName:"link-goal-peek",allowChildPeekStates:!0,peekStates:[r.w.ADD_GOALS,r.k.CONDITIONAL_RELEASE_PEEK_PANEL],pageTitle:"course.content.editLink"}).peekState("content-manage.edit.lti",{resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/course-content"),t.loadBundle("features/course/goal-alignment/goal")])]},url:"/lti/:id?focusEleId",require:[()=>Promise.all([n.e(5),n.e(14),n.e(163)]).then(n.bind(null,"7OXB")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],peekViewName:"lti-goal-peek",allowChildPeekStates:!0,peekStates:[r.w.ADD_GOALS,r.k.CONDITIONAL_RELEASE_PEEK_PANEL],pageTitle:"course.content.editLti"}).peekState("content-manage.edit.placement",{resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/course-content"),t.loadBundle("features/course/goal-alignment/goal")])]},url:"/placement/:id",require:[()=>Promise.all([n.e(5),n.e(647)]).then(n.bind(null,"1xSQ")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],peekViewName:"placement-goal-peek",peekStates:[r.w.ADD_GOALS,r.k.CONDITIONAL_RELEASE_PEEK_PANEL],allowChildPeekStates:!0,pageTitle:"course.content.editPlacement"}).peekState("content-manage.import",{resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/import/content-import"),t.loadBundle("features/course/content/course-content")])]},url:"/import?parentId&targetCourseId&positionBefore&positionAfter",require:[()=>n.e(611).then(n.bind(null,"dTsQ")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],pageTitle:"course.content.import.title"}).peekState(r.k.COPY_CONTENT_PEEK_PANEL,{resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/copy/content-copy"),t.loadBundle("features/course/content/course-content")])]},url:"/copy?parentId&targetCourseId&positionBefore&positionAfter",require:[()=>n.e(15).then(n.bind(null,"9fW2")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(7),n.e(9),n.e(15),n.e(12),n.e(11),n.e(13),n.e(14),n.e(10),n.e(16)]).then(n.bind(null,"5lIA"))],pageTitle:"course.content.copy.title",panelClass:"full"}).peekState(r.k.IMPORT_REPORT_PEEK_PANEL,{resolve:{translations:[s.serviceName,e=>e.loadBundle("components/directives/convert-and-import")]},url:"/importReport/:id",require:()=>Promise.all([n.e(59),n.e(706)]).then(n.bind(null,"O9bg")),pageTitle:"ultra.convert.analysis.importDetailsTitle"}).peekState(r.k.COPY_REPORT_PEEK_PANEL,{resolve:{translations:[s.serviceName,e=>e.loadBundle("components/directives/convert-and-import")]},url:"/copyReport/:id",require:()=>Promise.all([n.e(59),n.e(153)]).then(n.bind(null,"EdNC")),pageTitle:"ultra.convert.analysis.copyDetailsTitle"}).peekState(r.k.COPY_DETAILS_PEEK_PANEL,{resolve:{translations:[s.serviceName,e=>e.loadBundle("components/directives/convert-and-import")]},url:"/copyDetails",require:()=>Promise.all([n.e(59),n.e(153)]).then(n.bind(null,"EdNC")),pageTitle:"ultra.convert.analysis.copyDetailsTitle"}).peekState(r.k.GENERIC_STUDENT_PROGRES_PEEK_PANEL,{panelClass:"full",resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/content/course-content")]},url:"/progress/:id",require:()=>Promise.all([n.e(5),n.e(664)]).then(n.bind(null,"9u8j")),pageTitle:"course.content.progress.pageTitle",peekStates:[r.o.COURSE_MESSAGE,r.o.COURSE_GRADES_VIEW_INDIVIDUAL_GRADES],allowChildPeekStates:!0,peekViewName:"progress-peek@"})}])},gORw:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-move-item-up-down",use:"icon-small-move-item-up-down-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-move-item-up-down"><path d="M5 11V3M7 4L5 2 3 4M11 5v8M9 12l2 2 2-2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},gZZS:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("D57K"),s=n("ERkP"),a=n("7nmT"),o=n("AuQm"),r=n("yC9S"),l=n("aHpC"),c=n("Uhei"),d=n("0JpG"),u=n("tN4z");const m="ultra.components.directives.timePicker",p=angular.module(m,[d.moduleName]);let h=class{constructor(e,t,n,i){this.$scope=e,this.$element=t,this.$timeout=n,this.localizeService=i,this.isValid=!0,this.onChange=(e,t)=>{t?(this.onViewValueCleared&&this.onViewValueCleared(this.ngModel.$name,this.ngModel.$isEmpty(e)),this.ngModel.$setViewValue(e),this.render()):this.ngModel.$setPristine()},this.onValidate=e=>{this.isValid=e,this.invalidValidationKey&&this.$timeout((()=>this.ngModel.$setValidity(this.invalidValidationKey,e))),this.render()},this.render=()=>{const{analyticsId:e,errorEmptyMessage:t,disabled:n,readonly:i,placeholder:r,ngModel:l}=this,d={onDateTimeChanging(){},onChangeValue:e=>this.onChange(e,e!==l.$viewValue),analyticsId:e,value:l.$viewValue,onValidateCallback:this.onValidate,isValueValid:this.isValid,errorFormatMessage:this.errorFormatMessage,errorEmptyMessage:t,disabled:n,readonly:i,placeholder:r,ariaLabel:this.$element.attr("aria-label")},{locale:m,babelfishInstance:p,babelfishFormatter:h,isRtl:g}=this.localizeService.getReactBabelfishParams(this.$scope);a.render(s.createElement(c.a,{babelfishFormatInstance:h,babelfishInstance:p,locale:m,isRtl:g},s.createElement(u.AnalyticsJssThemeProvider,{isRtl:this.localizeService.isRTL(this.$scope)},s.createElement(o.W,{...d}))),this.$element[0])}}$postLink(){this.render()}$onChanges(){this.render()}$onDestroy(){a.unmountComponentAtNode(this.$element[0])}$onInit(){this.ngModel.$render=()=>this.render()}};h=Object(i.a)([Object(r.a)({module:p,componentName:"bbTimePicker",bindings:{analyticsId:"@",errorFormatMessage:"@?",errorEmptyMessage:"@?",disabled:"<?",readonly:"<?",name:"@?",onViewValueCleared:"<?",placeholder:"@?",invalidValidationKey:"@?"},require:{ngModel:"ngModel"}}),Object(i.c)(0,Object(l.b)("$scope")),Object(i.c)(1,Object(l.b)("$element")),Object(i.c)(2,Object(l.b)("$timeout")),Object(i.c)(3,Object(l.b)(d.serviceName))],h)},gZo5:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n("Llzl");const s="ultra.services.messaging",a="crossWindowMessaging";class o{constructor(e){this.$rootScope=e,this.broadcastChannel=new BroadcastChannel("ultra.crossWindowMessagingService"),this.onMessage=this._onMessage.bind(this),this.broadcastChannel.addEventListener("message",this.onMessage),e.$on("$destroy",(()=>{this.broadcastChannel.close(),this.broadcastChannel.removeEventListener("message",this.onMessage)}))}_onMessage({data:e}){this.$rootScope.$broadcast(e.type,e.message)}postMessage(e,t){this.broadcastChannel.postMessage({type:e,message:t})}}o.$inject=["$rootScope"];i.module(s,[]).service(a,o)},ga7A:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("Llzl"),s=n("pjml"),a=n("vhkR"),o=n("X455"),r=n("Youf"),l=n("Y+9S");const c="ultra.components.directives.content.contentItem.contentItemType.contentItemLtilaunch";class d{constructor(e,t,n){this.scope=e,this.ltiService=t,this.contextCourseMembership=n}ltiLaunch(){if(!this.scope.content.getContentDisplay().isLtiLink())throw new Error("Attempted to LTI launch a non-LTI content item. "+this.scope.content.contentHandler.toString());this.notifyMobileAppOnItemClick(),this.ltiService.ltiLaunch({courseId:this.scope.content.courseId,contentId:this.scope.content.id,content:this.scope.content,showPreLaunchPanel:!0})}notifyMobileAppOnItemClick(){const e={type:l.c.LTILaunched,status:l.b.Success,contentId:this.scope.content.id,contentTitle:this.scope.content.title,contentType:l.e.LTIConnection};Object(l.r)(e)}ltiLinkNeedsApproval(){const e=this.ltiService.getDomainConfigStatusType(this.scope.content);return s.K.LTIStatusType.NeedsApproval===e}}d.$inject=["scope",a.b,o.d];class u{constructor(e){this.$injector=e,this.restrict="E",this.template=r,this.scope=!1,this.link=(e,t,n)=>{e.contentItemLtiLaunch=this.$injector.instantiate(d,{scope:e,element:t,attrs:n})}}}u.$inject=["$injector"],i.module(c,[a.a,o.a]).directive("bbContentItemLtilaunch",["$injector",e=>e.instantiate(u)])},gkef:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("Llzl"),s=n("nsO7"),a=n("en1n");const o="ultra.services.windowSize",r="windowSizeService";class l{constructor(t){this.$rootScope=t,this.hasQueuedRefreshWindowSizeEm=!1,this.currentWindowSizeEm=e(window).width()/parseFloat(e("html").css("font-size"));const n=Object(s.throttle)((()=>{const t=window.innerWidth/parseFloat(e("html").css("font-size"));t!==this.currentWindowSizeEm&&this.$rootScope.$apply((()=>{this.currentWindowSizeEm=t,this.$rootScope.$broadcast("window-resize",this.currentWindowSizeEm)}))}),100);window.addEventListener("resize",n)}isSmallBreakpoint(){return this.currentWindowSizeEm<=a.d}isMediumBreakpoint(){return this.currentWindowSizeEm>a.d&&this.currentWindowSizeEm<=a.b}isLargeBreakpoint(){return this.currentWindowSizeEm>a.b}getBreakpointSize(){return this.currentWindowSizeEm<=a.d?"small":this.currentWindowSizeEm<=a.b?"medium":"large"}isWindowSizeAtLeast(e){return this.currentWindowSizeEm>=e}}l.$inject=["$rootScope"];i.module(o,[]).service(r,l)}).call(this,n("71td"))},go4a:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}));const i="course-color-",s=(e,t,n)=>{const i=t?"structure":"nature",s=((e=0)=>(void 0===e&&(e=0),e%20+1))(e);return`static/images/default-banners/${i}${s}${n?"_thumb":""}.jpg`},a=e=>{return e.course&&e.course.isClassic()?"course-color-classic":i+(void 0===(t=e.courseCardColorIndex)&&(t=0),t%10+1);var t},o=(e,t)=>s(e,t,!1),r=(e,t)=>s(e,t,!0)},gqzd:function(e,t,n){"use strict";var i,s=n("ERkP"),a=n.n(s),o=n("7nmT"),r=n("uDfI"),l=n("Uhei");!function(e){e.View="view",e.Create="create",e.Edit="edit",e.Export="export",e.Delete="delete"}(i||(i={}));var c=i,d=n("nsO7"),u=n("x6OE"),m=n.n(u),p=n("EGyI"),h=n("myse"),g=n("np6O"),b=n("8jBL"),f=n("0x+l"),v=n("nmzr"),y=n("9OUN"),k=n("GR+8"),x=n("IbyE"),S=n("MC1S"),C=n("WBPx"),E=n("caKH"),I=n("VQ4P"),w=n("EZIA"),A=n("M2M2"),O=n("7O4Y");const D=e=>{const{group:t,analyticsId:n}=e,i=Object(v.eb)(Object(v.V)({groupId:t.id})),a=Object(I.a)();return s.createElement("div",{className:"show-members-link"},s.createElement(w.a,{analyticsId:`${n}.group.showMembers.link`,"aria-label":a("course.groupWorkspace.selfEnroll.showMembersLinkAriaLabel",{groupName:t.title}),href:i},a("course.groupWorkspace.selfEnroll.showMembers")))};var T=e=>{const{data:t,ariaLabelledBy:n,expand:i,courseMemberCount:a,isNew:o,analyticsId:r}=e,l=Object(I.a)();if(!t.length)return null;const c=t.map(((e,c)=>{var d,u;const m=null!==(d=e.studentCount)&&void 0!==d?d:0,p=null!==(u=e.maximumEnrollment||a)&&void 0!==u?u:0,h=Object(O.a)("item-row","sub-row",{expand:i},{"last-group":c===t.length-1},{"first-group":0===c},{isNew:o});return s.createElement("tr",{id:Object(A.c)(e.id),role:"row",key:e.id,className:h},s.createElement("td",{role:"gridcell",className:"sub-column first-column header-column group-cell","aria-labelledby":`${n} col-name`,tabIndex:-1},s.createElement("div",{className:"group-workspace-sub-header group-workspace-header group-cell-content"},s.createElement("div",{className:"icon"},s.createElement(b.Groups,{className:"element-image"})),s.createElement("div",{className:"sub-name click-message-detail"},s.createElement("div",{className:"title-detail-row"},s.createElement("span",{id:`span-cell-${e.id}`,className:"list-item-title","aria-describedby":`${n} col-name`},e.title)),m>0&&s.createElement(D,{group:e,analyticsId:r}),s.createElement("div",{className:"group-member-count"},s.createElement("span",{className:"list-item-member-count"},l("course.groupWorkspace.courseGroup.max",{groupCount:m,groupTotal:p})))))),s.createElement("td",{role:"gridcell",className:"sub-column other-column count-column group-cell",tabIndex:-1,"aria-labelledby":"col-count",colSpan:2},s.createElement("div",{className:"group-member-count group-cell-content"},s.createElement("span",{className:"list-item-member-count"},l("course.groupWorkspace.courseGroup.max",{groupCount:m,groupTotal:p})))),s.createElement("td",{role:"gridcell",className:"sub-column other-column controls-column group-cell"}))}));return s.createElement(s.Fragment,null,c)},P=n("D7Uk"),$=n("tN4z"),G=n("GuFu"),j=n("Agfx");const L=Object(j.makeStyles)((e=>Object(j.createStyles)({textField:{[e.breakpoints.up("sm")]:{width:"auto"},[e.breakpoints.down("xs")]:{border:"none"}},disabled:{border:"none"},borderless:{"&&":{[e.breakpoints.down("sm")]:{border:"none"}}},selectedLabel:{[e.breakpoints.down("xs")]:{display:"none"}},icon:{display:"inline-flex",verticalAlign:"middle",marginRight:10},customIcon:{},overallContainer:{display:"inline-flex",width:"auto",[e.breakpoints.up("sm")]:{width:"auto"}},inputDisabled:{backgroundColor:e.palette.background.default,color:e.palette.text.hint},selectDisabled:{visibility:"hidden"},disabledInformationButton:{marginTop:"-5px !important",[e.breakpoints.down("xs")]:{marginLeft:"-20px !important"}},alignDropdown:{marginLeft:"-10px"}}))),N=Object(j.makeStyles)((e=>Object(j.createStyles)({textField:{border:"none","&:hover $customIcon":{color:e.palette.action.hover}},selectedLabel:{display:"inline",fontSize:e.typography.fontSizeDefault},icon:{display:"inline-flex",verticalAlign:"middle",marginRight:9,width:14},customIcon:{color:e.palette.background.default},overallContainer:{display:"inline-flex"},disabledInformationButton:{marginLeft:"-20px",marginTop:"-5px"},inputDisabled:{backgroundColor:e.palette.background.default,color:e.palette.text.hint},selectDisabled:{visibility:"hidden"},alignDropdown:{marginLeft:"-10px"}})));var B;!function(e){e.HAS_ASSOCIATED_CONTENT="hasAssociatedContent",e.SELF_ENROLLMENT_ALLOWED="selfEnrollmentAllowed"}(B||(B={}));const M=e=>{var t;const{groupSetVisibility:n,onVisibilityChanged:i,analyticsId:a,variant:o="large",disabled:r=!1,disabledReason:l,inListItem:c=!1,borderless:d=!1}=e,u=Object(G.i)("course.groupWorkspace","organization.groupWorkspace"),m=Object(I.a)(),p=Object(s.useCallback)((e=>{i("visible"===e.target.value)}),[i]),h=L(),g=N(),b="small"===o?g:h,v=["visible","hidden"],y={visible:m(u("course.groupWorkspace.groupVisibility.visible")),hidden:m(u("course.groupWorkspace.groupVisibility.hidden"))},k={[B.HAS_ASSOCIATED_CONTENT]:m(u("course.groupWorkspace.groupVisibility.disabledMessage.hasAssociatedContent")),[B.SELF_ENROLLMENT_ALLOWED]:m(u("course.groupWorkspace.groupVisibility.disabledMessage.selfEnrollmentAllowed"))},x=v.map((e=>s.createElement($.AnalyticsMenuItem,{button:!0,analyticsId:`${a}.${e}`,value:e,key:e},s.createElement("span",{className:b.icon},"visible"===e?s.createElement(f.Visible,null):s.createElement(f.Invisible,null)),s.createElement("span",null,y[e]))));return s.createElement("div",null,s.createElement("div",{className:Object(O.a)(b.overallContainer,{[`${b.alignDropdown}`]:c})},s.createElement($.AnalyticsTextField,{analyticsId:a,select:!0,fullWidth:!0,disabled:r,value:n?v[0]:v[1],onChange:p,InputProps:{classes:{root:Object(O.a)(b.textField,{[b.borderless]:d}),disabled:Object(O.a)(b.inputDisabled,{[b.disabled]:d})}},SelectProps:{renderValue:function(e){return s.createElement(s.Fragment,null,s.createElement("span",{className:b.icon},"visible"===e?s.createElement(f.Visible,null):s.createElement(f.Invisible,null)),s.createElement("span",{className:b.selectedLabel},y[e]))},classes:{icon:Object(O.a)({[`${b.selectDisabled}`]:r},{[`${b.customIcon}`]:!r})}}},x)),r&&l&&s.createElement($.AnalyticsTooltip,{analyticsId:`${a}.tooltip`,title:null!==(t=k[l])&&void 0!==t?t:""},s.createElement($.AnalyticsIconButton,{analyticsId:`${a}.informationButton`,"aria-label":m("course.groupWorkspace.groupVisibility.disabledMessage.informationButtonAriaLabel"),className:b.disabledInformationButton},s.createElement(f.Information,null))))};var R=n("C+e0"),F=n("AuQm");const V=Object(R.a)((e=>{var t;const{groupSetId:n,analyticsId:i,localize:a}=e,[o,l]=s.useState(!1),[c,d]=s.useState(void 0),u=Object(r.d)(),m=Object(G.i)("course.groupWorkspace","organization.groupWorkspace"),p=Object(r.e)((e=>x.gc.app.getRoute(e).params.courseId)),h=Object(r.e)((e=>x.gc.groupWorkspace.getGroupSetById(e,n))),{enqueueSnackbar:g,dequeueSnackbar:b}=Object(F.rb)(F.S.CourseGroupSetVisibility),f=Object(s.useCallback)((()=>{const e={...h,isAvailable:!1};u(x.X.groupWorkspace.saveGroupSet(p,e)),b()}),[u,h,b,p]),v={snackbarMessage:a.translate(m("course.groupWorkspace.groupVisibility.snackbar.message"))},y={closeButtonAriaLabel:a.translate("course.groupWorkspace.groupVisibility.snackbar.closeButtonAriaLabel"),actionMessage:a.translate("course.groupWorkspace.groupVisibility.snackbar.actionMessage"),onActionClick:f};s.useEffect((()=>{const e=(null==h?void 0:h.hasAssociatedContent)||(null==h?void 0:h.isSelfEnrolledAllowed);l(e),(null==h?void 0:h.hasAssociatedContent)?d(B.HAS_ASSOCIATED_CONTENT):(null==h?void 0:h.isSelfEnrolledAllowed)&&d(B.SELF_ENROLLMENT_ALLOWED)}),[h]);const k=Object(s.useCallback)((e=>{var t;if(h.isAvailable===e||(null===(t=h.api)||void 0===t?void 0:t.isUpdating))return;const n={...h,isAvailable:e};u(x.X.groupWorkspace.saveGroupSet(p,n)),e?g(v,y):b()}),[u,n,p,null==h?void 0:h.isAvailable,null===(t=null==h?void 0:h.api)||void 0===t?void 0:t.isUpdating,g,b]);return s.createElement(M,{groupSetVisibility:null==h?void 0:h.isAvailable,analyticsId:`${i}.groupSetVisibility`,onVisibilityChanged:k,variant:"small",disabled:o,disabledReason:c,inListItem:!0})}));var _=n("TUnR");const U=e=>{const t=Object(I.a)(),n=Object(G.i)("course.groupWorkspace","organization.groupWorkspace");return s.createElement(_.a,{componentKey:"course.groupWorkspace.groupVisibility",announcementTitle:t("course.groupWorkspace.groupVisibility.ftue.title"),content:t(n("course.groupWorkspace.groupVisibility.ftue.content")),buttonAriaLabel:t("course.groupWorkspace.groupVisibility.ftue.buttonAriaLabel"),doneButtonText:t("course.groupWorkspace.groupVisibility.ftue.doneButtonText"),linkHref:t("course.groupWorkspace.groupVisibility.ftue.moreInfoLinkUrl"),linkText:t("course.groupWorkspace.groupVisibility.ftue.moreInfoLinkText"),closeLabel:t("global.close")})};class H extends s.PureComponent{constructor(e){super(e),this.timerHandler=null,this.getActionOptions=(e,t,n)=>{const i={items:[]};return e&&e.viewGroupMembers&&i.items.push({key:c.Edit,name:t.translate(e.modify?"course.groupWorkspace.button.edit":"course.groupWorkspace.button.view"),icon:e.modify?s.createElement(f.Edit,null):s.createElement(f.Visible,null),onClick:this.onEditGroupSet}),e&&e.modify&&this.props.rowData.groupCount>0&&i.items.push({key:c.Export,name:t.translate("global.export"),icon:s.createElement(f.Download,null),onClick:this.onExportGroupSet}),e&&e.delete&&i.items.push({key:c.Delete,name:t.translate("course.groupWorkspace.button.delete"),icon:s.createElement(f.Trash,null),onClick:this.onOpenDeleteConfirmDialog}),i},this.toggleRow=()=>{this.props.onExpand(!this.props.expand)},this.dismissDialog=()=>{const{isMounted:e}=this.state;e&&this.setState({hideDialog:!0})},this.onOpenDeleteConfirmDialog=()=>{this.setState({hideDialog:!1})},this.clickGroupSetTitle=e=>{this.onEditGroupSet(),e.stopPropagation()},this.onEditGroupSet=()=>{const{openGroupSetDetailPanel:e,courseId:t,rowData:n}=this.props;this.actionMenu.focus(),e(t,n.id,c.Edit)},this.onExportGroupSet=()=>{const{rowData:e}=this.props;v.bb.goPeekState(Object(v.T)({groupSetId:e.id}))},this.onDeleteGroupSet=()=>{const{onDelete:e,courseId:t,rowData:n}=this.props;e(t,n.id).then((()=>{this.dismissDialog()}))},this.renderDialog=e=>{const{localize:t,analyticsId:n}=this.props;return s.createElement(E.c,{analyticsId:`${n}.dialog`,onDismiss:this.dismissDialog,hidden:this.state.hideDialog,modalProps:{isAlert:!0},dialogContentProps:{type:S.DialogType.close,title:t.translate("course.groupWorkspace.dialogText.deleteGroupSet"),subText:t.translate(e?"course.groupWorkspace.dialogText.confirmDeleteEmptyGroupSet":"course.groupWorkspace.dialogText.confirmDeleteGroupSet"),showCloseButton:!1}},s.createElement(S.DialogFooter,null,s.createElement(C.AnalyticsDefaultButton,{analyticsId:`${n}.dialog.cancel.button`,onClick:this.dismissDialog},t.translate("course.groupWorkspace.button.cancel")),s.createElement(C.AnalyticsPrimaryButton,{analyticsId:`${n}.dialog.delete.confirm.button`,onClick:this.onDeleteGroupSet,className:"deleteConfirmBtn"},t.translate("course.groupWorkspace.button.delete"))))},this.registerTimeoutEvent=()=>{const{debounceTime:e,onExpire:t,rowData:n}=this.props;this.timerHandler=setTimeout((()=>{t(n.id)}),e)},this.state={hideDialog:!0,isMounted:!1}}componentDidMount(){this.setState({isMounted:!0}),this.props.isNew&&this.registerTimeoutEvent()}componentDidUpdate(e){this.props.expand&&!this.props.isLoading&&this.props.subRowsCount&&0===this.props.subRowsData.length&&this.props.onLoadSubRowsData(this.props.courseId,this.props.rowData.id,{sort:this.props.sortCriteria}),!e.isNew&&this.props.isNew&&this.registerTimeoutEvent(),e.rowData&&this.props.rowData&&(e.rowData.title===this.props.rowData.title&&e.rowData.studentCount===this.props.rowData.studentCount||this.props.onChangeOffset())}componentWillUnmount(){this.setState({isMounted:!1}),this.setState({hideDialog:!1}),this.timerHandler&&clearTimeout(this.timerHandler)}render(){var e;const{raised:t,expand:n,featuresConfig:i,subRowsData:a,rowData:o,isLoading:r,localize:l,subRowsCount:c,courseMemberCount:d,isOrganization:u,isNew:m,analyticsEventAugmentor:p,analyticsId:b}=this.props,v=null===(e=o.permissions)||void 0===e?void 0:e.viewGroupMembers,y=n?"hide":"show",k=`${this.props.analyticsId}.list.toggleRow.${y}.button`,x=l.translate(`course.groupWorkspace.groupList.${y}`,{groupSet:o.title}),C=Object(O.a)("item-row","expandable",{expand:n},{isNew:m},{raised:t});return s.createElement(s.Fragment,null,s.createElement("tr",{id:`row-${o.id}`,className:C,role:"row"},s.createElement("td",{className:"header-column group-set-cell group-set-first-column",role:"gridcell",tabIndex:-1,"aria-labelledby":"col-name"},s.createElement("div",{className:"group-workspace-header"},s.createElement("div",{className:"icon"},s.createElement(P.a,{color:"primary",className:"element-image"})),s.createElement("div",{className:"click-message-detail"},s.createElement("div",{className:"title-detail"},s.createElement("a",{className:"list-item-title",href:"#",onClick:p(h.AnalyticsEventTypes.CLICK_EVENT,this.clickGroupSetTitle,`${b}.list.itemTitle.link`),"data-analytics-id":`${b}.list.itemTitle.link`,id:`title-${o.id}`},o.title),s.createElement("span",{className:"title-count-separator"},"|"),s.createElement("span",{className:"group-count"},l.translate("course.groupWorkspace.guidance.groupCount.plural",{groupCount:c||0}))),s.createElement("div",{className:"group-set-visibility"},s.createElement(V,{analyticsId:`${b}.itemVisibility`,groupSetId:this.props.groupSet.id}),0===this.props.index&&s.createElement(U,null))))),s.createElement("td",{className:"count-column group-set-cell group-set-other-column",role:"gridcell",tabIndex:-1,"aria-labelledby":"col-count"},s.createElement("div",{className:"member-count"},s.createElement("span",{className:"list-item-student-count"},s.createElement("span",{className:"list-item-member-count"},l.translate("course.groupWorkspace.courseGroup.memberAndStudentCount",{memberCount:d||0,studentCount:o.studentCount||0}))))),s.createElement("td",{className:"controls-column group-set-cell group-set-other-column",role:"grid-cell",tabIndex:-1},s.createElement("div",{className:"menu-and-chevron"},s.createElement(S.ActionMenu,{analyticsId:`${b}.actionMenu`,className:"action-menu",componentRef:e=>{this.actionMenu=e},disabled:!this.state.hideDialog||!v,menuProps:this.getActionOptions(o.permissions,l,i),maintainExpandedProperties:!this.state.hideDialog,ariaLabel:l.translate("course.groupWorkspace.button.title.moreOptionsAx",{rowTitle:o.title})}),this.renderDialog(!c),s.createElement(g.AnalyticsIconButton,{analyticsId:k,"aria-label":x,"aria-expanded":this.props.expand,onClick:this.toggleRow,className:"chevron"},this.props.expand?s.createElement(f.ChevronUp,null):s.createElement(f.ChevronDown,null))))),r?s.createElement("tr",null,s.createElement("td",{colSpan:2,className:"isLoading"},s.createElement(S.Spinner,{size:S.SpinnerSize.large}))):s.createElement(T,{data:a,ariaLabelledBy:`title-${o.id}`,expand:this.props.expand,courseMemberCount:d,isNew:m,analyticsId:`${b}.groupContent`}))}}var z=Object(h.withAnalytics)(Object(r.b)(((e,t)=>({index:t.index,courseId:t.courseId,debounceTime:2e3,rowData:t.groupSet,isLoading:x.gc.groupWorkspace.isLoading(e,t.groupSet.id),isNew:x.gc.groupWorkspace.isNew(e,t.groupSet.id),subRowsData:x.gc.group.getGroupsByGroupSetId(e,t.groupSet.id),subRowsCount:x.gc.groupWorkspace.getGroupsCountByGroupSetId(e,t.groupSet.id),sortCriteria:t.sortCriteria,courseMemberCount:t.courseMemberCount,isOrganization:!!x.gc.course.getCourseById(e,t.courseId).isOrganization,featuresConfig:t.featuresConfig})),(e=>Object(y.b)({onLoadSubRowsData:x.X.group.loadByGroupSetId,onDelete:x.X.groupWorkspace.removeGroupSet,onExpire:x.X.groupWorkspace.markAsOld},e)))(Object(k.a)(H))),q=n("zGdY");const W="arrow-up";class K extends s.PureComponent{constructor(){super(...arguments),this.getArrowDirection=()=>{const{currentSort:e,sortCriteria:t}=this.props;return t&&t.includes(e)?(this.localSort=e,this.isDescendingSort(e)?"arrow-down":W):""},this.updateSortCriteria=()=>{if(!this.props.isLoading){const{sortCriteria:e,onSwitchSortCriteria:t}=this.props;this.localSort?this.localSort=e[0===e.indexOf(this.localSort)?e.length-1:0]:this.localSort=e[0],t(this.localSort)}},this.isDescendingSort=e=>e===q.bc.STUDENT_COUNT_DESC||e===q.bc.MODIFIED_DATE_DESC||e===q.bc.TITLE_DESC}render(){const{t:e,sortCriteria:t,viewText:n,analyticsEventAugmentor:i,analyticsId:a}=this.props,o=`${a}.sortBy.button`;let r="";if(this.getArrowDirection()){r=e(`course.groupWorkspace.sort.${n}.${this.getArrowDirection()===W?"asc":"desc"}`)}return s.createElement(s.Fragment,null,s.createElement("button",{id:`sort-by-${n}-button`,className:"active clear ellipse","aria-describedby":`sort-by-${n}`,onClick:i(h.AnalyticsEventTypes.CLICK_EVENT,this.updateSortCriteria,o),"data-analytics-id":o},e(`course.groupWorkspace.sort.${n}.description`),s.createElement("div",{className:"sort-list-arrows "+this.getArrowDirection(),role:"presentation"},t&&t.length>0&&t.map(((e,t)=>s.createElement("div",{className:this.isDescendingSort(e)?"sort-list-arrow-down":"sort-list-arrow-up",key:t}))))),s.createElement("span",{id:`sort-by-${n}`,className:"sr-only","aria-live":"assertive"},r))}}var J=Object(h.withAnalytics)(Object(p.a)(K));var Q=e=>{const{imageSrc:t,title:n,caption:i,children:a}=e;return s.createElement("div",{className:"group-empty-state"},s.createElement("img",{src:t,role:"presentation"}),s.createElement("p",{className:"group-empty-state-main"},n),s.createElement("p",{className:"group-empty-state-caption"},i),a)};const Z=e=>{const t=document.activeElement;if("TH"!==t.tagName&&"TD"!==t.tagName)return!0;{const n=document.getElementById("expandGrid").querySelectorAll(".list-item-row.group-set-sort-row, .item-row.expandable, .item-row.sub-row.expand"),i=e.key,s=t.parentElement,a=d.indexOf(n,s),o=d.indexOf(s.cells,t);switch(i){case"ArrowRight":return e.preventDefault(),Object(A.g)(s.cells[o+1]),!1;case"ArrowLeft":return e.preventDefault(),Object(A.g)(s.cells[o-1]),!1;case"ArrowUp":{e.preventDefault();const t=n[a-1];return Object(A.g)(t&&t.cells[o]),!1}case"ArrowDown":{e.preventDefault();const t=n[a+1];return Object(A.g)(t&&t.cells[o]),!1}default:return!0}}};var Y=n("50Q+");class X extends s.PureComponent{constructor(e){super(e),this.offset=0,this.showSuccessBanner=e=>{this.setState({showBanner:"success",bannerMessage:e.message})},this.showErrorBanner=e=>{this.setState({showBanner:"error",bannerMessage:e.message})},this.hideBanner=()=>{var e,t,n,i;"SUCCESS"!==(null===(e=this.props.importGroupSetStatus)||void 0===e?void 0:e.responseStatus)&&"ERROR"!==(null===(t=this.props.importGroupSetStatus)||void 0===t?void 0:t.responseStatus)||this.props.clearImportGroupSetStatus(this.props.courseId),"SUCCESS"!==(null===(n=this.props.exportGroupSetStatus)||void 0===n?void 0:n.responseStatus)&&"ERROR"!==(null===(i=this.props.exportGroupSetStatus)||void 0===i?void 0:i.responseStatus)||this.props.clearExportGroupSetStatus(this.props.courseId),this.setState({showBanner:"none"})},this.openImportGroupSetPanel=()=>{v.bb.goPeekState(Object(v.W)())},this.onCreateGroupSet=()=>{const{courseId:e,openGroupSetDetailPanel:t}=this.props;t(e,void 0,c.Create)},this.shouldStartInfiniteScroll=()=>{const{groupSets:e,totalSetCount:t,isLoading:n}=this.props,[,i]=this.list.getVisibleRange();return!n&&i>=e.length-1&&e.length<t},this.loadMore=e=>{const{onLoadGroupSets:t,groupSets:n}=this.props,{sortCriteria:i}=this.state;this.offset=Math.min(this.offset+x.x,n&&n.length||0),t(e,{offset:this.offset,sort:i},!0)},this.onScroll=()=>{this.list&&this.shouldStartInfiniteScroll()&&this.loadMore(this.props.courseId)},this.reduceOffset=()=>{this.offset>-x.x&&this.props.groupSets.length<this.props.totalSetCount&&(this.offset-=1)},this.onSwitchSortCriteria=e=>{this.setState({sortCriteria:e})},this.renderGroupSetListItem=e=>{var t;const{courseId:n,featuresConfig:i,groupSets:a,courseMemberCount:o,openGroupSetDetailPanel:r,analyticsId:l}=this.props,c=a[e],d=null===(t=a[e-1])||void 0===t?void 0:t.id,u=this.state.expandedGroupSetIds.has(d);return c?s.createElement(z,{index:e,key:c.id,courseId:n,groupSet:c,courseMemberCount:o,openGroupSetDetailPanel:r,onChangeOffset:this.reduceOffset,featuresConfig:i,sortCriteria:this.state.sortCriteria,analyticsId:`${l}.groupItem`,expand:this.state.expandedGroupSetIds.has(c.id),raised:u,onExpand:e=>{this.setState((t=>{const n=new Set(t.expandedGroupSetIds);return e?n.add(c.id):n.delete(c.id),{expandedGroupSetIds:n}}))}}):null},this.renderGroupSetListView=e=>{const{courseId:t,isLoading:n,isOrganization:i,t:a,totalSetCount:o,analyticsId:r}=this.props,{sortCriteria:l}=this.state;return e>0?s.createElement("div",{className:"tabular-list-container"},s.createElement("div",{className:"tabular-list"},s.createElement("table",{id:"expandGrid",className:"table-content sortable-table",role:"grid","aria-readonly":!0,"aria-labelledby":"group-set-table-caption",tabIndex:-1,onKeyDown:Z},s.createElement("caption",{id:"group-set-table-caption",className:"sr-only"},a("course.groupWorkspace.pageTitle")),s.createElement("thead",{className:"list-item-columns group-set-sort-header"},s.createElement("tr",{className:"list-item-row group-set-sort-row",role:"row",id:"table-header-row"},s.createElement("th",{className:"column-title sort",role:"columnheader",id:"col-name",tabIndex:0},s.createElement(J,{courseId:t,currentSort:l,isLoading:n,onSwitchSortCriteria:this.onSwitchSortCriteria,sortCriteria:[q.bc.TITLE_ASC,q.bc.TITLE_DESC],viewText:"title",analyticsId:`${r}.sortControl.group`})),s.createElement("th",{className:"column-student-count sort count",role:"columnheader",id:"col-count",tabIndex:-1},s.createElement(J,{courseId:t,currentSort:l,isLoading:n,onSwitchSortCriteria:this.onSwitchSortCriteria,sortCriteria:[q.bc.STUDENT_COUNT_ASC,q.bc.STUDENT_COUNT_DESC],viewText:"studentCount",analyticsId:`${r}.sortControl.count`})),s.createElement("th",{className:"column-group-set-controls"}))),s.createElement(m.a,{itemsRenderer:(e,t)=>s.createElement("tbody",{ref:t},e),length:e,itemRenderer:this.renderGroupSetListItem,ref:e=>this.list=e})))):0===o?s.createElement(Q,{imageSrc:"./static/images/ftue/empty-course-group.svg",title:a("course.groupWorkspace.emptyState.title"),caption:a(Object(Y.r)("groupWorkspace.emptyState.caption.part1",i))},s.createElement("p",{className:"group-empty-state-caption"},a("course.groupWorkspace.emptyState.caption.part2"))):""},this.state={sortCriteria:q.bc.TITLE_ASC,expandedGroupSetIds:new Set,showBanner:"none",bannerMessage:""}}componentDidMount(){var e,t,n,i;const{courseId:s,onLoadGroupSets:a,root:o,onGetCourseContext:r}=this.props,{sortCriteria:l}=this.state;a(s,{sort:l}),r(s),(o&&o.querySelector(".panel-wrap")||window).addEventListener("scroll",d.throttle(this.onScroll,100),{capture:!0}),(o&&o.querySelector(".panel-wrap")||window).addEventListener("touchmove",d.throttle(this.onScroll,100),{capture:!0,passive:!0}),"SUCCESS"!==(null===(e=this.props.importGroupSetStatus)||void 0===e?void 0:e.responseStatus)&&"ERROR"!==(null===(t=this.props.importGroupSetStatus)||void 0===t?void 0:t.responseStatus)||this.props.clearImportGroupSetStatus(this.props.courseId),"SUCCESS"!==(null===(n=this.props.exportGroupSetStatus)||void 0===n?void 0:n.responseStatus)&&"ERROR"!==(null===(i=this.props.exportGroupSetStatus)||void 0===i?void 0:i.responseStatus)||this.props.clearExportGroupSetStatus(this.props.courseId)}componentDidUpdate(e,t){var n,i,s,a,o,r,l,c,d,u,m,p,h,g,b,f;const{t:v}=this.props;if(t.sortCriteria!==this.state.sortCriteria){const e=this.props.groupSets&&this.props.groupSets.length||0,t=Math.max(e,x.x);this.props.onLoadGroupSets(this.props.courseId,{sort:this.state.sortCriteria,limit:t})}if(e.totalSetCount>this.props.totalSetCount&&this.list&&this.shouldStartInfiniteScroll()&&this.loadMore(this.props.courseId),(null===(n=e.importGroupSetStatus)||void 0===n?void 0:n.responseStatus)!==(null===(i=this.props.importGroupSetStatus)||void 0===i?void 0:i.responseStatus)&&"SUCCESS"===(null===(s=this.props.importGroupSetStatus)||void 0===s?void 0:s.responseStatus)&&this.showSuccessBanner({message:v("course.groupWorkspace.importGroupSet.fileImportSuccess")}),(null===(a=e.importGroupSetStatus)||void 0===a?void 0:a.responseStatus)!==(null===(o=this.props.importGroupSetStatus)||void 0===o?void 0:o.responseStatus)&&"ERROR"===(null===(r=this.props.importGroupSetStatus)||void 0===r?void 0:r.responseStatus)){const e=this.getImportGroupSetErrorMessage(this.props.importGroupSetStatus.responseCode);this.showErrorBanner({message:e})}(null===(l=e.exportGroupSetStatus)||void 0===l?void 0:l.responseStatus)!==(null===(c=this.props.exportGroupSetStatus)||void 0===c?void 0:c.responseStatus)&&"SUCCESS"===(null===(d=this.props.exportGroupSetStatus)||void 0===d?void 0:d.responseStatus)&&"GROUPS_LIST_VIEW"===(null===(m=null===(u=this.props.exportGroupSetStatus)||void 0===u?void 0:u.ui)||void 0===m?void 0:m.source)&&this.showSuccessBanner({message:v("course.groupWorkspace.exportGroupSet.fileExportSuccess")}),(null===(p=e.exportGroupSetStatus)||void 0===p?void 0:p.responseStatus)!==(null===(h=this.props.exportGroupSetStatus)||void 0===h?void 0:h.responseStatus)&&"ERROR"===(null===(g=this.props.exportGroupSetStatus)||void 0===g?void 0:g.responseStatus)&&"GROUPS_LIST_VIEW"===(null===(f=null===(b=this.props.exportGroupSetStatus)||void 0===b?void 0:b.ui)||void 0===f?void 0:f.source)&&this.showErrorBanner({message:this.props.t("course.groupWorkspace.exportGroupSet.fileExportError")})}componentWillUnmount(){const{root:e}=this.props;(e&&e.querySelector(".panel-wrap")||window).removeEventListener("scroll",this.onScroll),(e&&e.querySelector(".panel-wrap")||window).removeEventListener("touchmove",this.onScroll)}getImportGroupSetErrorMessage(e){const{t}=this.props;let n;switch(e){case q.P.InvalidFileFormat:n="course.groupWorkspace.importGroupSet.fileFormatError";break;case q.P.EmptyFile:n="course.groupWorkspace.importGroupSet.fileEmptyError";break;case q.P.FileNotFound:n="course.groupWorkspace.importGroupSet.fileNotUploadedError";break;default:n="course.groupWorkspace.importGroupSet.fileImportError"}return t(n)}render(){const{canCreate:e,groupSets:t,totalGroupCount:n,totalSetCount:i,t:a,analyticsEventAugmentor:o,analyticsId:r,isOrganization:l}=this.props,c=t&&t.length||0;return s.createElement("div",{className:"page-group-set course-group-set-layer"},s.createElement("div",{className:"panel-wrap"},s.createElement("header",{className:"panel-header simple-header"},s.createElement("div",{className:"panel-titles-container"},s.createElement("span",{className:"panel-sub-title"},a("course.groupWorkspace.subTitle")),s.createElement("div",{className:"editable-title-container black-header-contents"},s.createElement(g.AnalyticsIconButton,{"aria-label":a("base.menu"),className:"left-off-canvas-toggle menu-toggle  standard-button dark-background",title:a("base.menu"),analyticsId:`${r}.menuToggle.button`},s.createElement(f.MainMenu,null)),s.createElement("h1",{className:"panel-title",tabIndex:-1},a(Object(Y.r)("groupWorkspace.pageTitle",l)))))),s.createElement("div",{className:"guidance-wrapper"},s.createElement("span",{className:"set-group-count"},a("course.groupWorkspace.guidance.groupSetCount.plural",{groupSetCount:i||0})+a("course.groupWorkspace.guidance.groupCount.plural",{groupCount:n||0})),e&&s.createElement(s.Fragment,null,s.createElement("button",{className:"import-group-set",onClick:o(h.AnalyticsEventTypes.CLICK_EVENT,this.openImportGroupSetPanel,`${r}.importGroupSet.button`),"data-analytics-id":`${r}.importGroupSet.button`},s.createElement(f.Upload,null),s.createElement("span",{className:"import-button"},a("course.groupWorkspace.importGroupSet.buttonLabel"))),s.createElement("button",{className:"create-group-set",onClick:o(h.AnalyticsEventTypes.CLICK_EVENT,this.onCreateGroupSet,`${r}.createNewSet.button`),"data-analytics-id":`${r}.createNewSet.button`},s.createElement(b.AddCircle,null),s.createElement("span",{className:"create-button"},a("course.groupWorkspace.guidance.createNewSet"))))),s.createElement("div",{className:"panel-content"},s.createElement("div",{className:"row collapse"},"success"===this.state.showBanner&&s.createElement("div",{className:"message-banner"},s.createElement(F.z,{message:this.state.bannerMessage,onClose:this.hideBanner})),"error"===this.state.showBanner&&s.createElement("div",{className:"message-banner"},s.createElement(F.m,{message:this.state.bannerMessage,onClose:this.hideBanner})),this.renderGroupSetListView(c),this.props.isLoading?s.createElement("div",{className:"spinner bb-secondary-color-2"}):""))))}}var ee,te=Object(h.withAnalytics)(Object(r.b)(((e,t)=>({groupSets:x.mc.groupSet.getRenderedGroupSets(e,t.courseId),isLoading:x.gc.groupWorkspace.isLoading(e),totalSetCount:x.gc.groupWorkspace.getTotalGroupSetCount(e),totalGroupCount:x.gc.groupWorkspace.getTotalGroupCount(e),isOrganization:!!x.gc.course.getCourseById(e,t.courseId).isOrganization,canCreate:x.gc.groupWorkspace.canCreate(e),courseMemberCount:x.gc.course.getCourseStudentCount(e,t.courseId),importGroupSetStatus:x.gc.groupSetImport.getImportGroupSetStatus(e,t.courseId),exportGroupSetStatus:x.gc.groupSetExport.getExportGroupSet(e,t.courseId)})),(e=>Object(y.b)({onLoadGroupSets:x.X.groupWorkspace.loadGroupSets,onGetCourseContext:x.X.course.fetchCourseStudentCount,clearImportGroupSetStatus:x.X.groupSetImport.clearImportGroupSetStatus,clearExportGroupSetStatus:x.X.groupSetExport.clearExportGroupSetStatus},e)))(Object(p.a)(X)));!function(e){e.GroupEnrollmentExpiredErrorCode="enrollmentExpiredError",e.GroupIsFullErrorCode="groupIsFullError",e.SourceGroupSubmittedAttemptErrorCode="hasEnrolledGroupSubmittedAttemptError",e.TargetGroupSubmittedAttemptErrorCode="hasSubmittedGroupAttemptError",e.SourceGroupGradeErrorCode="hasSourceEnrollmentGroupGradesError",e.TargetGroupGradeErrorCode="hasTargetEnrollmentGroupGradesError"}(ee||(ee={}));var ne=n("ERsv"),ie=n("3/0u"),se=n("uxze");const ae=e=>{const{analyticsId:t,dismissContentStartedDialog:n,groupTitle:i,moveToGroup:s}=e,o=Object(I.a)();return a.a.createElement(E.a,{analyticsId:t,open:!0,onClose:()=>n(),"aria-labelledby":"dialog.enroll.content.started.title"},a.a.createElement($.AnalyticsDialogTitle,{onClose:()=>n(),id:"dialog.enroll.content.started.title",analyticsId:`${t}.dialog-content-started.title`},o("course.groupWorkspace.selfEnroll.dialog.titleGroup",{groupName:i})),a.a.createElement($.AnalyticsDialogContent,{analyticsId:`${t}.dialog-content-started.content`},a.a.createElement($.AnalyticsDialogContentText,{id:"dialog.enroll.content.started.description",analyticsId:`${t}.dialog-content-started.description`},o("course.groupWorkspace.selfEnroll.dialog.contentStarted"))),a.a.createElement($.AnalyticsDialogActions,{analyticsId:`${t}.dialog-content-started.actions`},a.a.createElement(C.AnalyticsDefaultButton,{analyticsId:`${t}.dialog.enroll.content.started.cancel.button`,onClick:()=>n()},o("course.groupWorkspace.button.cancel")),a.a.createElement(C.AnalyticsPrimaryButton,{analyticsId:`${t}.dialog.enroll.content.started.confirm.button`,onClick:()=>s()},o("course.groupWorkspace.button.confirm"))))};class oe extends s.PureComponent{constructor(e){super(e),this.getMaxEnrollment=()=>{const{group:e,courseMemberCount:t}=this.props;return e&&e.maximumEnrollment&&e.maximumEnrollment>0?e.maximumEnrollment:t},this.isUserEnrolledInGroup=()=>{const{group:e,userId:t}=this.props;return!!(e&&e.memberships||[]).find((e=>e.userId===t))},this.joinGroup=()=>{const{group:e}=this.props;e.groupContentStarted?this.setState({hideContentStartedDialog:!1}):this.onJoinClick()},this.getFlexboxActionCell=()=>{const{group:e,canCreateGroups:t,t:n,isAnyGroupMember:i,analyticsId:a,userHasGrade:o,userHasSubmission:r,userStartedContentInThisGroup:l}=this.props,c=this.getSelfEnrollmentDateStateInfo(),d="After"===c.enrollmentDateState,u="Before"===c.enrollmentDateState,m=this.isUserEnrolledInGroup(),p=this.getMaxEnrollment();return e.isSelfEnrolledAllowed?d?s.createElement("div",{className:"join-column read-only enrollment-closed"},n("course.groupWorkspace.selfEnroll.closed")):u?s.createElement("div",{className:"join-column read-only enrollment-pending"},n("course.groupWorkspace.selfEnroll.pending")):m&&!t?s.createElement("div",{className:"join-column read-only enrollment-joined"},s.createElement("div",{className:"join-success-container"},s.createElement(f.Complete,{className:"join-icon"}),s.createElement("span",{className:"join-icon-text"},n("course.groupWorkspace.selfEnroll.joined")))):l?s.createElement("div",{className:"join-column read-only enrollment-disabled"}):e&&e.studentCount>=p&&!m&&!d?s.createElement("div",{className:"join-column read-only enrollment-full"},n("course.groupWorkspace.selfEnroll.groupFull")):r||e&&e.hasSubmittedGroupAttempt?s.createElement("div",{className:"join-column read-only attempt-submitted"},n("course.groupWorkspace.selfEnroll.attemptSubmitted")):o||e&&e.hasGrades?s.createElement("div",{className:"join-column read-only enrollment-grade"},n("course.groupWorkspace.selfEnroll.gradeAssigned")):i||t?!i||m||t?void 0:s.createElement("div",{className:"join-column enrollment-move"},s.createElement("div",null,s.createElement(se.Link,{onClick:()=>this.moveToThisGroup(),analyticsId:Object(h.getNewAnalyticsId)(a,`group.${e.id}.move.link`)},n("course.groupWorkspace.selfEnroll.moveToGroup")),this.renderDialog())):s.createElement("div",{className:"join-column enrollment-join"},s.createElement(C.AnalyticsPrimaryButton,{type:"button",className:"join-button",onClick:this.joinGroup,analyticsId:`${a}group.${e.id}.join.button`},n("course.groupWorkspace.selfEnroll.join")),!this.state.hideContentStartedDialog&&s.createElement(ae,{analyticsId:Object(h.getNewAnalyticsId)(a,"dialog.enroll.content.started"),groupTitle:e.title,dismissContentStartedDialog:this.dismissContentStartedDialog,moveToGroup:this.onMoveToGroup})):s.createElement("div",{className:"join-column read-only enrollment-disabled"})},this.getTableActionCell=()=>{const{group:e,canCreateGroups:t,t:n,isAnyGroupMember:i,analyticsId:a,userHasGrade:o,userHasSubmission:r,userStartedContentInThisGroup:l}=this.props,c=this.getSelfEnrollmentDateStateInfo(),d="After"===c.enrollmentDateState,u="Before"===c.enrollmentDateState,m=this.isUserEnrolledInGroup(),p=this.getMaxEnrollment();return e.isSelfEnrolledAllowed?d?s.createElement("div",{className:"join-column read-only enrollment-closed"},n("course.groupWorkspace.selfEnroll.closed")):u?s.createElement("div",{className:"join-column read-only enrollment-pending"},n("course.groupWorkspace.selfEnroll.pending")):m&&!t?s.createElement("div",{className:"join-column read-only enrollment-joined"},s.createElement(f.Complete,{className:"joined-icon"}),s.createElement("span",{className:"join-icon-text"},n("course.groupWorkspace.selfEnroll.joined"))):e&&e.studentCount>=p&&!m&&!d?s.createElement("div",{className:"join-column read-only enrollment-full"},n("course.groupWorkspace.selfEnroll.groupFull")):r||e&&e.hasSubmittedGroupAttempt?s.createElement("div",{className:"join-column read-only attempt-submitted"},n("course.groupWorkspace.selfEnroll.attemptSubmitted")):o||e&&e.hasGrades?s.createElement("div",{className:"join-column read-only enrollment-grade"},n("course.groupWorkspace.selfEnroll.gradeAssigned")):l?s.createElement("div",{className:"enrollment-disabled"}):i||t?!i||m||t?void 0:s.createElement("div",{className:"join-column enrollment-move"},s.createElement(se.Link,{onClick:()=>this.moveToThisGroup(),analyticsId:Object(h.getNewAnalyticsId)(a,`group.${e.id}.move.link`)},n("course.groupWorkspace.selfEnroll.moveToGroup")),this.renderDialog()):s.createElement("div",{className:"join-column enrollment-join"},s.createElement(C.AnalyticsPrimaryButton,{type:"button",className:"join-button",onClick:this.joinGroup,analyticsId:`${a}group.${e.id}.join.button`},n("course.groupWorkspace.selfEnroll.join")),!this.state.hideContentStartedDialog&&s.createElement(ae,{analyticsId:Object(h.getNewAnalyticsId)(a,"dialog.enroll.content.started"),groupTitle:e.title,dismissContentStartedDialog:this.dismissContentStartedDialog,moveToGroup:this.onMoveToGroup})):s.createElement("div",{className:"join-column read-only enrollment-disabled"})},this.onJoinClick=async()=>{const{group:e,userId:t,courseId:n,enrolledGroupId:i,onJoinGroup:s,onGroupJoined:a,onLoadContent:o}=this.props,r=e.id;try{await s({courseId:n,groupId:r,userId:t,enrolledGroupId:i}),e.contentId&&await o({courseId:n,contentId:e.contentId}),this.dismissDialog(),this.dismissContentStartedDialog(),a&&a()}catch(e){e instanceof x.A&&this.loadGroupsAndDisplayWarning(ee.GroupIsFullErrorCode),e instanceof x.z&&this.loadGroupsAndDisplayWarning(ee.GroupEnrollmentExpiredErrorCode),e instanceof x.U&&this.loadGroupsAndDisplayWarning(ee.TargetGroupSubmittedAttemptErrorCode),e instanceof x.S&&this.loadGroupsAndDisplayWarning(ee.SourceGroupSubmittedAttemptErrorCode),e instanceof x.R&&this.loadGroupsAndDisplayWarning(ee.SourceGroupGradeErrorCode),e instanceof x.T&&this.loadGroupsAndDisplayWarning(ee.TargetGroupGradeErrorCode)}},this.loadGroupsAndDisplayWarning=e=>{const{group:t,courseId:n,onLoadGroups:i,hideOrDisplayWarning:s}=this.props,a=t.contentId;a?i({courseId:n,contentId:a,expand:A.b},!0).then((()=>{this.dismissDialog(),s(e,!1)})):(this.dismissDialog(),s(e,!1))},this.isShowGroupMembers=()=>{const e=this.getSignUpSheet();return!(!e||!e.isShowGroupMembers)},this.renderHasMembers=()=>{const{t:e}=this.props;if(this.isNonSelfEnrollmentGroupOrInstructorHidMembers())return s.createElement("div",{className:"group-members-disabled"},e("course.groupWorkspace.membersHidden"))},this.renderMemberList=()=>{const{group:e,analyticsId:t,t:n}=this.props;return s.createElement("div",{className:"show-members-link"},s.createElement(w.a,{onClick:()=>this.onShowGroupMembersList(e.id),analyticsId:`${t}.group.showMembers.link`,"aria-label":n("course.groupWorkspace.selfEnroll.showMembersLinkAriaLabel",{groupName:e.title}),href:"#"},n("course.groupWorkspace.selfEnroll.showMembers")))},this.moveToThisGroup=()=>{this.setState({hideDialog:!1})},this.dismissDialog=()=>{this.setState({hideDialog:!0})},this.dismissContentStartedDialog=()=>{this.setState({hideContentStartedDialog:!0})},this.onMoveToGroup=()=>{this.onJoinClick()},this.renderDialog=()=>{const{t:e,analyticsId:t}=this.props,n=this.getDialogContent();return s.createElement(E.c,{onDismiss:this.dismissDialog,analyticsId:Object(h.getNewAnalyticsId)(t,"dialog.enroll"),hidden:this.state.hideDialog,modalProps:{isAlert:!0,className:"self-enroll-dialog"},dialogContentProps:{type:ie.DialogType.close,title:n.title,subText:n.body,showCloseButton:!0}},s.createElement(ie.DialogFooter,null,s.createElement(C.AnalyticsDefaultButton,{onClick:this.dismissDialog,analyticsId:Object(h.getNewAnalyticsId)(t,"dialog.enroll.defaultButton")},e("course.groupWorkspace.button.cancel")),s.createElement(C.AnalyticsPrimaryButton,{onClick:this.onMoveToGroup,analyticsId:Object(h.getNewAnalyticsId)(t,"dialog.enroll.primaryButton"),className:"moveConfirmBtn"},n.actionText)))},this.state={hideDialog:!0,hideContentStartedDialog:!0}}getSelfEnrollmentDateStateInfo(){const{groupSet:e,group:t}=this.props;return e?Object(A.e)([e]):Object(A.e)([t])}isNonSelfEnrollmentGroupOrInstructorHidMembers(){const e=this.getSignUpSheet();return!e||!e.isShowGroupMembers}onShowGroupMembersList(e){v.bb.goPeekState(Object(v.V)({groupId:e}))}getDialogContent(){const{t:e,group:t}=this.props;return t.groupContentStarted?{title:e("course.groupWorkspace.selfEnroll.dialog.titleMoveGroup"),body:e("course.groupWorkspace.selfEnroll.dialog.canMoveContentStarted"),actionText:e("course.groupWorkspace.button.move")}:{title:e("course.groupWorkspace.selfEnroll.dialog.titleCanMove"),body:e("course.groupWorkspace.selfEnroll.dialog.canMove"),actionText:e("course.groupWorkspace.button.move")}}getSignUpSheet(){const{groupSet:e}=this.props;return e&&e.signUpSheet?e.signUpSheet:this.props.group.signUpSheet}shouldShowGroupMemberships(){const{group:e}=this.props,t=this.getSignUpSheet();return e.memberships&&e.memberships.length>0&&(t&&t.isShowGroupMembers||this.isNotSelfEnrollmentGroup())}isNotSelfEnrollmentGroup(){return void 0===this.getSignUpSheet()}renderFlexboxContents(){var e;const{group:t,ariaLabelledBy:n,className:i,t:a}=this.props;return s.createElement("li",{id:Object(A.c)(t.id),key:t.id,className:`flexbox-group-row ${i||""}`},s.createElement("div",{className:"description-column"},s.createElement("div",{className:"groups-icon"},s.createElement(b.Groups,{className:"element-image"})),s.createElement("div",{className:"description-data"},s.createElement("div",{className:"group-data"},s.createElement("div",{id:`span-cell-${t.id}`,className:"group-title","aria-describedby":`${n} student-groups-group-sets`},t.title),this.shouldShowGroupMemberships()?this.renderMemberList():this.renderHasMembers(),s.createElement("span",{className:"list-item-member-count"},a("course.groupWorkspace.selfEnroll.max",{groupCount:null!==(e=t.studentCount)&&void 0!==e?e:0,groupTotal:this.getMaxEnrollment()})),t.description&&""!==t.description.displayText?s.createElement("div",{className:"group-description"},s.createElement(ne.BbEditor,{isToolbarHidden:!0,isDisabled:!0,isReadOnly:!0,bbml:t.description.rawText,ariaRequired:!1})):""),s.createElement("div",{className:"flexbox-action-cell"},this.getFlexboxActionCell()))))}renderTableContents(){var e;const{rowId:t,className:n,group:i,ariaLabelledBy:a,t:o}=this.props;return s.createElement("tr",{id:t||Object(A.c)(i.id),key:i.id,className:`self-enroll-group-row table-group-row ${n||""}`},s.createElement("td",{className:"groups-icon-column","aria-labelledby":`${a} col-name`,tabIndex:-1},s.createElement("div",{className:"title-column-data-wrapper"},s.createElement("div",{className:"icon-wrapper"},s.createElement("div",{className:"icon groups-icon"},s.createElement(b.Groups,{className:"element-image"}))),s.createElement("div",{className:"title-description-wrapper"},s.createElement("div",{id:`span-cell-${i.id}`,className:"group-title","aria-describedby":`${a} col-name`},i.title),this.shouldShowGroupMemberships()?this.renderMemberList():this.renderHasMembers(),i.description&&""!==i.description.displayText?s.createElement("div",{className:"group-description"},s.createElement(ne.BbEditor,{isToolbarHidden:!0,isDisabled:!0,isReadOnly:!0,bbml:i.description.displayText,ariaRequired:!1})):""))),s.createElement("td",{className:"count-column",tabIndex:-1,"aria-labelledby":"col-count"},s.createElement("div",{className:"count-column-data-wrapper"},s.createElement("div",{className:"member-count-and-menu"},s.createElement("span",{className:"list-item-member-count"},o("course.groupWorkspace.selfEnroll.max",{groupCount:null!==(e=i.studentCount)&&void 0!==e?e:0,groupTotal:this.getMaxEnrollment()}))),this.getTableActionCell())))}render(){const{useFlexbox:e}=this.props;return e?this.renderFlexboxContents():this.renderTableContents()}}var re=Object(r.b)(((e,t)=>{const n=t.group.memberships?t.group.memberships.map((e=>e.userId)):[],i=x.gc.user.getUsersByIds(e,n);return{group:t.group,groupUsers:i,canCreateGroups:!!x.gc.groupWorkspace.canCreate(e)&&x.gc.groupWorkspace.canCreate(e),isAnyGroupMember:x.gc.group.hasJoined(e,{contentId:t.group.contentId,groupSetId:t.group.groupSetId,userId:t.userId})}}),(e=>Object(y.b)({onLoadGroups:x.X.group.loadByContentId,onJoinGroup:x.X.group.addGroupMembership,onLoadContent:x.X.content.loadContents},e)))(Object(p.a)(oe));class le extends s.PureComponent{componentDidUpdate(e){e.group&&this.props.group&&(e.group.title===this.props.group.title&&e.group.studentCount===this.props.group.studentCount||this.props.onChangeOffset())}render(){const{group:e,userId:t,courseId:n,enrolledGroupId:i,isLoading:a,courseMemberCount:o,hideOrDisplayWarning:r,analyticsId:l,groupSet:c,userHasGrade:d,userHasSubmission:u,userStartedContentInThisGroup:m,useFlexbox:p}=this.props;return a?s.createElement("tr",null,s.createElement("td",{colSpan:2,className:"isLoading"},s.createElement(S.Spinner,{size:S.SpinnerSize.large}))):s.createElement(re,{group:e,userId:t,enrolledGroupId:i,courseId:n,userHasGrade:d,userHasSubmission:u,userStartedContentInThisGroup:m,ariaLabelledBy:`title-${e.id}`,courseMemberCount:o,hideOrDisplayWarning:r,onGroupJoined:this.props.onGroupJoined,analyticsId:`${l}.groupContent`,groupSet:c,useFlexbox:p})}}var ce=Object(r.b)(((e,t)=>({debounceTime:2e3,userId:t.userId,courseId:t.courseId,userHasGrade:t.userHasGrade,userHasSubmission:t.userHasSubmission,userStartedContentInThisGroup:t.userStartedContentInThisGroup,group:t.group,isLoading:x.gc.groupWorkspace.isLoading(e,t.group.id),courseMemberCount:t.courseMemberCount,hideOrDisplayWarning:t.hideOrDisplayWarning,groupSet:t.groupSet,useFlexbox:t.useFlexbox})))(le),de=n("E1pj");class ue extends s.PureComponent{constructor(e){super(e),this.hideOrDisplayWarning=(e,t)=>{let n={};switch(e){case ee.GroupIsFullErrorCode:n={groupFull:t};break;case ee.GroupEnrollmentExpiredErrorCode:n={enrollmentExpired:t};break;case ee.TargetGroupSubmittedAttemptErrorCode:n={hasSubmittedGroupAttempt:t};break;case ee.SourceGroupSubmittedAttemptErrorCode:n={hasEnrolledGroupSubmittedAttempt:t};break;case ee.SourceGroupGradeErrorCode:n={hasSourceEnrollmentGroupGrades:t};break;case ee.TargetGroupGradeErrorCode:n={hasTargetEnrollmentGroupGrades:t}}this.setState(n)},this.renderGroupSelfEnrollItem=(e,t)=>{const{groups:n,userId:i,courseId:a,analyticsId:o,isLoading:r,groupSetById:l}=this.props,c=n[e],d=Object(A.d)(n),u=r?null:l(d);return s.createElement(ce,{debounceTime:2e3,isLoading:this.props.isLoading,key:c.id,group:c,groupSet:u,enrolledGroupId:this.getEnrolledGroupId(),userId:i,courseId:a,userHasGrade:this.isUserInGroupWithGrade(),userHasSubmission:this.isUserInGroupWithSubmission(),userStartedContentInThisGroup:this.isUserInGroupWithContentStarted(),onChangeOffset:()=>{},courseMemberCount:this.props.courseMemberCount,hideOrDisplayWarning:this.hideOrDisplayWarning,onGroupJoined:this.props.onGroupJoined,analyticsId:`${o}.groupItem`,useFlexbox:t})},this.renderWarnings=()=>[{code:ee.GroupEnrollmentExpiredErrorCode,state:this.state.enrollmentExpired,isDifferentInOrg:!0},{code:ee.GroupIsFullErrorCode,state:this.state.groupFull},{code:ee.SourceGroupSubmittedAttemptErrorCode,state:this.state.hasEnrolledGroupSubmittedAttempt},{code:ee.TargetGroupSubmittedAttemptErrorCode,state:this.state.hasSubmittedGroupAttempt},{code:ee.SourceGroupGradeErrorCode,state:this.state.hasSourceEnrollmentGroupGrades},{code:ee.TargetGroupGradeErrorCode,state:this.state.hasTargetEnrollmentGroupGrades}].map((e=>this.renderWarning(e))),this.renderWarning=e=>{const{isOrganization:t,localize:{translate:n},analyticsId:i}=this.props;return s.createElement("div",{key:e.code},!e.state&&s.createElement(S.Notification,{type:S.NotificationType.Failure,message:n(Object(Y.r)(`groupWorkspace.selfEnroll.${e.code}`,e.isDifferentInOrg&&t)),analyticsId:`${i}.${e.code}.warning.close.button`,onClose:()=>this.hideOrDisplayWarning(e.code,!0),disableAutoDismiss:!0}))},this.renderGroupSelfEnrollListView=e=>{const{UltraWindowSize:t}=this.props;return t.isSmallBreakpoint()?this.renderFlexboxGroupSelfEnrollListView(e):this.renderTableGroupSelfEnrollListView(e)},this.renderFlexboxGroupSelfEnrollListView=e=>{const{localize:{translate:t}}=this.props;return s.createElement("ul",{id:"expandGrid",className:"flex-content",tabIndex:-1},s.createElement("li",{id:"table-header-row"},s.createElement("div",{className:"description-header column-title"},t("course.groupWorkspace.selfEnroll.groups"))),this.renderSubItems())},this.renderTableGroupSelfEnrollListView=e=>{const{isOrganization:t,localize:{translate:n}}=this.props;return s.createElement("div",{className:"tabular-list-container"},s.createElement("div",{className:"tabular-list"},s.createElement("table",{id:"expandGrid",className:"table-content","aria-label":n("course.groupWorkspace.pageTitle"),tabIndex:-1},s.createElement("thead",{className:"list-item-column-header"},s.createElement("tr",{id:"table-header-row"},s.createElement("th",{className:"column-title",id:"col-name"},n("course.groupWorkspace.selfEnroll.groups")),s.createElement("th",{className:"column-student-count count",id:"col-count",tabIndex:-1},n(Object(Y.r)("groupWorkspace.selfEnroll.numberOfStudents",t))))),s.createElement(m.a,{itemsRenderer:(e,t)=>s.createElement("tbody",{ref:t},e),length:e,itemRenderer:e=>this.renderGroupSelfEnrollItem(e,!1),ref:e=>this.list=e}))))},this.renderContentTitle=()=>{const{contentName:e}=this.props;return s.createElement("span",{className:"panel-sub-title"},e)},this.renderContentGroupTitle=()=>{const{localize:{translate:e},contentName:t,analyticsId:n}=this.props;return s.createElement("div",{className:"black-header-contents"},s.createElement(g.AnalyticsIconButton,{"aria-label":e("base.menu"),className:"left-off-canvas-toggle menu-toggle  standard-button dark-background",title:e("base.menu"),analyticsId:`${n}.toggle.menu.button`},s.createElement(f.MainMenu,null)),s.createElement("h1",{className:"panel-title"},e("course.groupWorkspace.selfEnroll.groupTitle",{contentName:t})))},this.renderEnrollmentWarning=()=>{const{localize:{translate:e}}=this.props,{isEnrollmentDateImportant:t,relativeDate:n,enrollmentDateState:i}=this.state;let a=null;switch(i){case"Before":a=s.createElement("div",null,e("course.groupWorkspace.selfEnroll.enrollment-starts",{time:n}));break;case"Open":n&&(a=s.createElement("div",{className:t?"enrollment-warning":null},e("course.groupWorkspace.selfEnroll.enrollment-closes",{time:n})));break;case"After":a=s.createElement("div",null,e("course.groupWorkspace.selfEnroll.enrollment-closed"))}return a},this.state={groupFull:!0,enrollmentExpired:!0,hasSubmittedGroupAttempt:!0,hasEnrolledGroupSubmittedAttempt:!0,hasSourceEnrollmentGroupGrades:!0,hasTargetEnrollmentGroupGrades:!0}}componentDidMount(){const{courseId:e,contentId:t,onLoadGroups:n,onGetCourseContext:i}=this.props;n({courseId:e,contentId:t,expand:A.b},!0),i(e)}componentDidUpdate(e,t){this.onLoadSelfEnrollmentGroupInfo(t)}onLoadSelfEnrollmentGroupInfo(e){const{groups:t,localize:{locale:n,babelfishFormat:i}}=this.props;Object(A.f)(t,n,i).then((t=>{const{relativeDate:n,isEnrollmentDateImportant:i,enrollmentDateState:s}=t;e.relativeDate===n&&e.isEnrollmentDateImportant===i&&e.enrollmentDateState===s||this.updateSelfEnrollmentGroupInfo(t)}))}getEnrolledGroup(){const{groups:e,userId:t}=this.props;return d.find(e,(e=>d.some(e.memberships,(e=>e.userId===t))))}getEnrolledGroupId(){const{groups:e,userId:t}=this.props,n=d.find(e,(e=>d.some(e.memberships,(e=>e.userId===t))));return n?n.id:void 0}isUserInGroupWithSubmission(){const e=this.getEnrolledGroup();return e&&e.hasSubmittedGroupAttempt}isUserInGroupWithContentStarted(){const e=this.getEnrolledGroup();return!!(null==e?void 0:e.groupContentStarted)}isUserInGroupWithGrade(){const e=this.getEnrolledGroup();return e&&e.hasGrades}updateSelfEnrollmentGroupInfo(e){const{relativeDate:t,isEnrollmentDateImportant:n,enrollmentDateState:i}=e;this.setState({relativeDate:t,isEnrollmentDateImportant:n,enrollmentDateState:i})}renderSubItems(){const{analyticsId:e,courseId:t,courseMemberCount:n,groups:i,userId:a}=this.props;return i?i.map((i=>s.createElement(re,{key:i.id,group:i,userId:a,enrolledGroupId:this.getEnrolledGroupId(),courseId:t,hideOrDisplayWarning:this.hideOrDisplayWarning,ariaLabelledBy:`title-${i.id}`,courseMemberCount:n,userHasGrade:this.isUserInGroupWithGrade(),userHasSubmission:this.isUserInGroupWithSubmission(),userStartedContentInThisGroup:this.isUserInGroupWithContentStarted(),onGroupJoined:this.props.onGroupJoined,analyticsId:`${e}.groupContent`,useFlexbox:!0}))):null}render(){const{groups:e,localize:{translate:t}}=this.props,n=e&&e.length||0,i=this.renderEnrollmentWarning();return s.createElement("div",{className:"page-group-set content-group-self-enroll-layer"},s.createElement("div",{className:"panel-wrap"},s.createElement("header",{className:"panel-header simple-header"},s.createElement("div",{className:"panel-titles-container"},this.renderContentTitle(),this.renderContentGroupTitle())),s.createElement("div",{className:"guidance-wrapper"},s.createElement("div",{className:"guidance-title"},t("course.groupWorkspace.selfEnroll.groupDetails")),i),s.createElement("div",{className:null!==i?"panel-content enrollment-expires":"panel-content"},s.createElement("div",{className:"row collapse"},this.renderWarnings(),this.renderGroupSelfEnrollListView(n),this.props.isLoading?s.createElement("div",{className:"spinner bb-secondary-color-2"}):""))))}}var me=Object(r.b)(((e,t)=>({groups:Object(A.h)(x.gc.group.getGroupsByContentId(e,t.contentId)),isLoading:x.gc.group.isLoading(e)||x.gc.groupWorkspace.isLoading(e),isOrganization:!!x.gc.course.getCourseById(e,t.courseId).isOrganization,courseMemberCount:x.gc.course.getCourseStudentCount(e,t.courseId),groupSetById:t=>x.gc.groupWorkspace.getGroupSetById(e,t)})),(e=>Object(y.b)({onLoadGroups:x.X.group.loadByContentId,onGetCourseContext:x.X.course.fetchCourseStudentCount},e)))(Object(de.windowResizingResponsiveComponentWrapper)(Object(k.a)(ue))),pe=n("wgY5"),he=n.n(pe);function ge(e){return e.signUpSheet.enrollmentEndDate}function be(e){if(!e.isSelfEnrolledAllowed||!function(e){return e&&e.signUpSheet}(e))return!1;const t=ge(e);return void 0===t||he()(t).isSameOrAfter(he()())}function fe(e,t){return e.isSameOrAfter(function(e){return e.signUpSheet.enrollmentStartDate}(t))}function ve(e,t){if(be(e)&&be(t)){const n=ge(e),i=ge(t);return n&&!i?-1:i&&!n?1:function(e,t){return he()(ge(e)).diff(he()(ge(t)))}(e,t)}return 0}const ye=/^_([0-9]+)_([0-9]+)$/;function ke(e){const[,t,n]=e.match(ye);return[parseInt(t,10),parseInt(n,10)]}function xe(e){return Array.from(e).sort(((e,t)=>function(e,t){const n=be(e),i=be(t);return n&&!i?-1:i&&!n?1:0}(e,t)||function(e,t){if(be(e)&&be(t)){const n=he()(),i=fe(n,e),s=fe(n,t);return i&&!s?-1:s&&!i?1:0}return 0}(e,t)||ve(e,t)||function(e,t){const[n]=ke(e.id),[i]=ke(t.id);return i-n}(e,t)))}class Se extends s.PureComponent{constructor(e){super(e),this.toggleRow=()=>{this.setState((e=>({expand:!e.expand})))},this.renderEnrollmentWarning=()=>{const{localize:{translate:e}}=this.props,{isEnrollmentDateImportant:t,relativeDate:n,enrollmentDateState:i}=this.state;let a=null;switch(i){case"Before":a=s.createElement("div",null,e("course.groupWorkspace.selfEnroll.enrollment-starts",{time:n}));break;case"Open":n&&(a=s.createElement("div",{className:t?"enrollment-warning":null},e("course.groupWorkspace.selfEnroll.enrollment-closes",{time:n})));break;case"After":a=s.createElement("div",null,e("course.groupWorkspace.selfEnroll.enrollment-closed"))}return a},this.state={expand:be(e.groupSet)}}componentDidUpdate(e,t){this.onLoadSelfEnrollmentGroupInfo(t)}componentDidMount(){this.onLoadSelfEnrollmentGroupInfo(this.state)}onLoadSelfEnrollmentGroupInfo(e){const{groupSet:t,localize:{locale:n,babelfishFormat:i}}=this.props;t.isSelfEnrolledAllowed&&Object(A.f)([t],n,i).then((t=>{const{relativeDate:n,isEnrollmentDateImportant:i,enrollmentDateState:s}=t;e.relativeDate===n&&e.isEnrollmentDateImportant===i&&e.enrollmentDateState===s||this.updateSelfEnrollmentGroupInfo(t)}))}getEnrolledGroup(){const{groups:e,userId:t}=this.props;return d.find(e,(e=>d.some(e.memberships,(e=>e.userId===t))))}getEnrolledGroupId(){const{groups:e,userId:t}=this.props,n=d.find(e,(e=>d.some(e.memberships,(e=>e.userId===t))));return n?n.id:void 0}isUserInGroupWithSubmission(){const e=this.getEnrolledGroup();return e&&e.hasSubmittedGroupAttempt}isUserInGroupWithGrade(){const e=this.getEnrolledGroup();return e&&e.hasGrades}updateSelfEnrollmentGroupInfo(e){const{relativeDate:t,isEnrollmentDateImportant:n,enrollmentDateState:i}=e;this.setState({relativeDate:t,isEnrollmentDateImportant:n,enrollmentDateState:i})}renderSubItems(){const{analyticsId:e,courseId:t,courseMemberCount:n,groups:i,groupSet:a,hideOrDisplayWarning:o,userId:r}=this.props,{expand:l}=this.state;return i?i.map(((c,d)=>{const u=`${l?"expand":""} ${d===i.length-1?"last-child":""}`,m=Object(A.c)(c.id);return s.createElement(re,{rowId:m,className:u,key:c.id,group:c,groupSet:a,enrolledGroupId:this.getEnrolledGroupId(),userId:r,courseId:t,ariaLabelledBy:`title-${c.id}`,userHasGrade:this.isUserInGroupWithGrade(),userHasSubmission:this.isUserInGroupWithSubmission(),useFlexbox:!0,courseMemberCount:n,hideOrDisplayWarning:o,onGroupJoined:this.props.onGroupJoined,analyticsId:`${e}.groupItem`})})):null}renderIcon(){return s.createElement("div",{className:"group-set-icon-container"},s.createElement("div",{className:"group-set-icon"},s.createElement(P.a,{color:"primary",className:"element-image"})))}render(){const{groups:e,groupSet:t,isLoading:n,analyticsId:i}=this.props,{expand:a}=this.state,o=!(!t.description||!t.description.rawText),r=`${e&&e.map((e=>Object(A.c)(e.id))).join(" ")}`;return s.createElement(s.Fragment,null,s.createElement("li",{key:t.id,id:`row-${t.id}`,className:"group-set-row expandable "+(a?"expand":""),"aria-expanded":a},this.renderIcon(),s.createElement("div",{className:"group-set-row-data"},s.createElement("div",{className:"group-set-header description-column"},s.createElement("div",{className:"group-set-title"},t.title),this.renderEnrollmentWarning(),o&&s.createElement("div",{className:"group-set-description-text"},s.createElement(ne.BbEditor,{isToolbarHidden:!0,isDisabled:!0,isReadOnly:!0,bbml:t.description.rawText,ariaRequired:!1})))),s.createElement("div",{className:"item-expand"},s.createElement(g.AnalyticsIconButton,{analyticsId:i,onClick:this.toggleRow,"aria-controls":r},a?s.createElement(f.ArrowUp,null):s.createElement(f.ArrowDown,null)))),n?s.createElement("li",{className:"isLoading"},s.createElement(S.Spinner,{size:S.SpinnerSize.large})):this.renderSubItems())}}var Ce=Object(r.b)(((e,t)=>({groups:Object(A.h)(x.gc.group.getGroupsByGroupSetId(e,t.groupSet.id)),isLoading:x.gc.group.isLoading(e)||x.gc.groupWorkspace.isLoading(e,t.groupSet.id),courseMemberCount:x.gc.course.getCourseStudentCount(e,t.courseId)})),(e=>Object(y.b)({},e)))(Object(k.a)(Se));class Ee extends s.PureComponent{constructor(){super(...arguments),this.renderGroupSetList=(e,t)=>{const{t:n}=this.props;return s.createElement("div",{className:"group-set-list-container",ref:t},s.createElement("div",{className:"list-header"},s.createElement("div",{className:"description-header column-title",id:"student-groups-group-sets"},n("course.groupWorkspace.selfEnroll.groupSets"))),s.createElement("ul",{className:"group-set-list"},e))},this.renderGroupSetListItem=(e,t)=>{const{groupSetList:n,userId:i,courseId:a,analyticsId:o,onGroupJoined:r}=this.props,l=n[e];return s.createElement(Ce,{courseId:a,groupSet:l,userId:i,onGroupJoined:r,hideOrDisplayWarning:this.props.hideOrDisplayWarning,analyticsId:`${o}.groupItem`,key:t})}}getGroupSetCount(){return(this.props.groupSetList||[]).length}render(){return s.createElement(m.a,{itemsRenderer:this.renderGroupSetList,length:this.getGroupSetCount(),itemRenderer:this.renderGroupSetListItem,ref:e=>this.list=e})}}var Ie=Object(p.a)(Ee);class we extends s.PureComponent{constructor(e){super(e),this.toggleRow=()=>{this.setState((e=>({expand:!e.expand})))},this.renderEnrollmentWarning=()=>{const{localize:{translate:e}}=this.props,{isEnrollmentDateImportant:t,relativeDate:n,enrollmentDateState:i}=this.state;let a=null;switch(i){case A.a.BEFORE:a=s.createElement("div",null,e("course.groupWorkspace.selfEnroll.enrollment-starts",{time:n}));break;case A.a.OPEN:n&&(a=s.createElement("div",{className:t?"enrollment-warning":null},e("course.groupWorkspace.selfEnroll.enrollment-closes",{time:n})));break;case A.a.AFTER:a=s.createElement("div",null,e("course.groupWorkspace.selfEnroll.enrollment-closed"))}return a},this.state={expand:be(e.groupSet)}}componentDidUpdate(e,t){this.onLoadSelfEnrollmentGroupInfo(t)}componentDidMount(){this.onLoadSelfEnrollmentGroupInfo(this.state)}onLoadSelfEnrollmentGroupInfo(e){const{groupSet:t,localize:{locale:n,babelfishFormat:i}}=this.props;t.isSelfEnrolledAllowed&&Object(A.f)([t],n,i).then((t=>{const{relativeDate:n,isEnrollmentDateImportant:i,enrollmentDateState:s}=t;e.relativeDate===n&&e.isEnrollmentDateImportant===i&&e.enrollmentDateState===s||this.updateSelfEnrollmentGroupInfo(t)}))}getEnrolledGroupId(){const{groups:e,userId:t}=this.props,n=d.find(e,(e=>d.some(e.memberships,(e=>e.userId===t))));return n?n.id:void 0}getEnrolledGroup(){const{groups:e,userId:t}=this.props;return d.find(e,(e=>d.some(e.memberships,(e=>e.userId===t))))}isUserInGroupWithSubmission(){const e=this.getEnrolledGroup();return e&&e.hasSubmittedGroupAttempt}isUserInGroupWithGrade(){const e=this.getEnrolledGroup();return e&&e.hasGrades}updateSelfEnrollmentGroupInfo(e){const{relativeDate:t,isEnrollmentDateImportant:n,enrollmentDateState:i}=e;this.setState({relativeDate:t,isEnrollmentDateImportant:n,enrollmentDateState:i})}renderSubItems(){const{analyticsId:e,courseId:t,courseMemberCount:n,groups:i,groupSet:a,hideOrDisplayWarning:o,userId:r}=this.props,{expand:l}=this.state;return i?i.map(((c,d)=>{const u=Object(O.a)({expand:l},{"last-group":d===i.length-1},{"first-group":0===d}),m=Object(A.c)(c.id);return s.createElement(re,{key:c.id,rowId:m,className:u,group:c,userId:r,enrolledGroupId:this.getEnrolledGroupId(),courseId:t,ariaLabelledBy:`title-${c.id}`,courseMemberCount:n,userHasGrade:this.isUserInGroupWithGrade(),userHasSubmission:this.isUserInGroupWithSubmission(),hideOrDisplayWarning:o,onGroupJoined:this.props.onGroupJoined,analyticsId:`${e}.groupContent`,groupSet:a,useFlexbox:!1})})):null}render(){const{groups:e,groupSet:t,isLoading:n,courseMemberCount:i,analyticsId:a}=this.props,{expand:o}=this.state,r=!(!t.description||!t.description.rawText),l=`${e&&e.map((e=>Object(A.c)(e.id))).join(" ")}`;return s.createElement(s.Fragment,null,s.createElement("tr",{key:t.id,id:`row-${t.id}`,className:"group-set-item item-row expandable "+(o?"expand":""),"aria-expanded":o},s.createElement("td",{className:"header-column",tabIndex:-1},s.createElement("div",{className:"group-workspace-header"},s.createElement("div",{className:"icon"},s.createElement(P.a,{color:"primary",className:"element-image"})),s.createElement("div",{className:"group-set-header description-column"},s.createElement("div",{className:"group-set-title"},t.title),this.renderEnrollmentWarning(),r&&s.createElement("div",{className:"group-set-description-text"},s.createElement(ne.BbEditor,{isToolbarHidden:!0,isReadOnly:!0,bbml:t.description.rawText,ariaRequired:!1}))))),s.createElement("td",{className:"count-column",tabIndex:-1,"aria-labelledby":"col-count"},s.createElement("div",{className:"count-column-data-wrapper"},s.createElement("div",{className:"member-count"},s.createElement("span",{className:"list-item-member-count"},s.createElement("span",{className:"list-item-member-count-current"},`${t.studentCount||0}`),` / ${i||0}`)),s.createElement("div",{className:"item-expand"},s.createElement(g.AnalyticsIconButton,{analyticsId:a,onClick:this.toggleRow,"aria-controls":l},o?s.createElement(f.ChevronUp,null):s.createElement(f.ChevronDown,null)))))),n?s.createElement("tr",null,s.createElement("td",{colSpan:2,className:"isLoading"},s.createElement(S.Spinner,{size:S.SpinnerSize.large}))):this.renderSubItems())}}var Ae=Object(r.b)(((e,t)=>({groups:Object(A.h)(x.gc.group.getGroupsByGroupSetId(e,t.groupSet.id)),isLoading:x.gc.group.isLoading(e)||x.gc.groupWorkspace.isLoading(e,t.groupSet.id),courseMemberCount:x.gc.course.getCourseStudentCount(e,t.courseId)})),(e=>Object(y.b)({},e)))(Object(k.a)(we));class Oe extends s.PureComponent{constructor(){super(...arguments),this.renderGroupSetListItem=(e,t)=>{const{groupSetList:n,userId:i,courseId:a,analyticsId:o,onGroupJoined:r}=this.props,l=n[e];return s.createElement(Ae,{courseId:a,groupSet:l,userId:i,onGroupJoined:r,hideOrDisplayWarning:this.props.hideOrDisplayWarning,analyticsId:`${o}.groupItem`,key:t})}}getGroupSetCount(){return(this.props.groupSetList||[]).length}render(){const{isOrganization:e,t}=this.props;return s.createElement("div",{className:"tabular-list-container"},s.createElement("div",{className:"tabular-list"},s.createElement("table",{className:"course-group-set-table","aria-label":t("course.groupWorkspace.pageTitle"),tabIndex:-1},s.createElement("thead",{className:"group-set-sort-header"},s.createElement("tr",{className:"group-set-sort-row",id:"table-header-row"},s.createElement("th",{className:"column-title",id:"col-name"},t("course.groupWorkspace.selfEnroll.groupSets")),s.createElement("th",{className:"column-student-count count",id:"col-count",tabIndex:-1},t(Object(Y.r)("groupWorkspace.selfEnroll.numberOfStudents",e))))),s.createElement(m.a,{itemsRenderer:(e,t)=>s.createElement("tbody",{ref:t},e),length:this.getGroupSetCount(),itemRenderer:this.renderGroupSetListItem,ref:e=>this.list=e}))))}}var De=Object(p.a)(Oe);class Te extends s.PureComponent{constructor(e){super(e),this.renderContentTitle=()=>{const{contentName:e}=this.props;return s.createElement("span",{className:"panel-sub-title"},e)},this.renderContentGroupTitle=()=>{const{t:e,contentName:t,analyticsId:n}=this.props;return s.createElement("div",{className:"black-header-contents"},s.createElement(g.AnalyticsIconButton,{"aria-label":e("base.menu"),className:"left-off-canvas-toggle menu-toggle  standard-button dark-background",analyticsId:`${n}.toggle.menu.button`},s.createElement(f.MainMenu,null)),s.createElement("h1",{className:"panel-title"},e("course.groupWorkspace.selfEnroll.groupTitle",{contentName:t})))},this.hideOrDisplayWarning=(e,t)=>{let n={};switch(e){case ee.GroupIsFullErrorCode:n={groupFull:t};break;case ee.GroupEnrollmentExpiredErrorCode:n={enrollmentExpired:t};break;case ee.TargetGroupSubmittedAttemptErrorCode:n={hasSubmittedGroupAttempt:t};break;case ee.SourceGroupSubmittedAttemptErrorCode:n={hasEnrolledGroupSubmittedAttempt:t};break;case ee.SourceGroupGradeErrorCode:n={hasSourceEnrollmentGroupGrades:t};break;case ee.TargetGroupGradeErrorCode:n={hasTargetEnrollmentGroupGrades:t}}this.setState(n)},this.renderWarning=e=>{const{isOrganization:t,t:n,analyticsId:i}=this.props;return s.createElement("div",{key:e.code},!e.state&&s.createElement(S.Notification,{type:S.NotificationType.Failure,message:n(Object(Y.r)(`groupWorkspace.selfEnroll.${e.code}`,e.isDifferentInOrg&&t)),analyticsId:`${i}.${e.code}.warning.close.button`,onClose:()=>this.hideOrDisplayWarning(e.code,!0),disableAutoDismiss:!0}))},this.renderWarnings=()=>[{code:ee.GroupEnrollmentExpiredErrorCode,state:this.state.enrollmentExpired,isDifferentInOrg:!0},{code:ee.GroupIsFullErrorCode,state:this.state.groupFull},{code:ee.SourceGroupSubmittedAttemptErrorCode,state:this.state.hasEnrolledGroupSubmittedAttempt},{code:ee.TargetGroupSubmittedAttemptErrorCode,state:this.state.hasSubmittedGroupAttempt},{code:ee.SourceGroupGradeErrorCode,state:this.state.hasSourceEnrollmentGroupGrades},{code:ee.TargetGroupGradeErrorCode,state:this.state.hasTargetEnrollmentGroupGrades}].map((e=>this.renderWarning(e))),this.state={groupFull:!0,enrollmentExpired:!0,hasSubmittedGroupAttempt:!0,hasEnrolledGroupSubmittedAttempt:!0,hasSourceEnrollmentGroupGrades:!0,hasTargetEnrollmentGroupGrades:!0}}componentDidMount(){const{courseId:e,onLoadGroupSets:t,onLoadGroups:n,onGetCourseContext:i}=this.props;t(e),n(e),i(e)}getGroupSetCount(){return this.getGroupSetsToRender().length}getGroupsCount(){return(this.props.groupSets||[]).reduce(((e,{assignedGroups:t=[]})=>e+t.length),0)}renderLoadingIndicator(){return s.createElement("div",{className:"spinner-container"},s.createElement(S.Spinner,{size:S.SpinnerSize.xLarge}))}renderGroupSets(){const{analyticsId:e,userId:t,t:n,onGroupJoined:i,courseId:a,UltraWindowSize:o,isOrganization:r}=this.props;return 0===this.getGroupSetCount()?s.createElement(Q,{imageSrc:"./static/images/ftue/empty-course-group.svg",title:n(Object(Y.r)("groupWorkspace.selfEnroll.emptyState.title",r)),caption:n(Object(Y.r)("groupWorkspace.selfEnroll.emptyState.caption",r))}):o.isSmallBreakpoint()?s.createElement(Ie,{groupSetList:this.getGroupSetsToRender(),analyticsId:e,userId:t,courseId:a,onGroupJoined:i,hideOrDisplayWarning:this.hideOrDisplayWarning}):s.createElement(De,{groupSetList:this.getGroupSetsToRender(),analyticsId:e,userId:t,courseId:a,onGroupJoined:i,hideOrDisplayWarning:this.hideOrDisplayWarning,isOrganization:r})}getNonEmptyGroupSets(){return(this.props.groupSets||[]).filter((({groupCount:e,assignedGroups:t})=>e&&t&&t.length))}getGroupSetsToRender(){return xe(this.getNonEmptyGroupSets())}render(){const{t:e,isLoading:t}=this.props;return s.createElement("div",{className:"page-group-set course-group-self-enroll-layer"},s.createElement("div",{className:"panel-wrap"},s.createElement("header",{className:"panel-header simple-header"},s.createElement("div",{className:"panel-titles-container"},this.renderContentTitle(),this.renderContentGroupTitle())),s.createElement("div",{className:"guidance-wrapper"},s.createElement("span",{className:"set-group-count"},e("course.groupWorkspace.guidance.groupAndGroupSetCount.plural",{groupSetCount:this.getGroupSetCount(),groupCount:this.getGroupsCount()}))),s.createElement("div",{className:"panel-content"},s.createElement("div",{className:"row collapse"},this.renderWarnings(),t?this.renderLoadingIndicator():this.renderGroupSets()))))}}var Pe=Object(r.b)(((e,t)=>({groupSets:x.mc.groupSet.getRenderedGroupSets(e,t.courseId),isLoading:x.gc.groupWorkspace.isLoading(e)||x.gc.group.isLoading(e),courseMemberCount:x.gc.course.getCourseStudentCount(e,t.courseId),isOrganization:!!x.gc.course.getCourseById(e,t.courseId).isOrganization})),(e=>Object(y.b)({onLoadGroupSets:x.X.groupWorkspace.loadGroupSets,onLoadGroups:x.X.group.loadGroupsByCourse,onGetCourseContext:x.X.course.fetchCourseStudentCount},e)))(Object(S.windowResizingResponsiveComponentWrapper)(Object(p.a)(Te))),$e=n("zTL+"),Ge=n("IVC4");const je=Object(j.makeStyles)((e=>Object(j.createStyles)({banner:{padding:"12px 30px"}})));var Le=()=>{const[e,t]=s.useState(!0),n=je(),i=Object(I.a)();return e?(()=>{const e=s.createElement(Ge.a,null),a=i("course.groupWorkspace.movingMembersBanner.closeText"),o=i("course.groupWorkspace.movingMembersBanner.bannerMessage");return s.createElement($e.a,{severity:"warning",icon:e,onClose:()=>t(!1),closeText:a,className:n.banner},s.createElement("span",{className:"js-banner-contents"},o))})():null};const Ne=Object(j.makeStyles)((e=>({peekPanel:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto"},peekPanelHeader:{"& .ms-Panel-subTitle, .ms-Panel-headerText":{paddingLeft:"16px",[e.breakpoints.up("xl")]:{paddingLeft:"30px"}}},hideHeader:{display:"none"},peekPanelBody:{padding:"30px",position:"relative",marginBottom:"48px"},peekPanelTabsContainer:{padding:"0 30px",position:"relative",marginBottom:"48px"},importPeekPanelTabsContainer:{padding:"0 30px",position:"relative",marginBottom:"68px"},peekPanelFooter:{position:"absolute",bottom:0,left:0,right:0,"& .ms-Panel-footer":{justifyContent:"center"}},peekPanelTabs:{borderBottom:`1px solid ${e.palette.border.main}`},tabButton:{minWidth:"50%"},tabPanelBody:{marginTop:"24px"}}))),Be=Object(j.makeStyles)((e=>({helpContainer:{display:"flex"},uploadFileText:{flex:1,fontWeight:e.typography.fontWeightSemiBold},fileIcon:{marginRight:"5px"},fileListContainer:{display:"flex",flexDirection:"row",marginTop:"15px",height:"50px",alignItems:"center",backgroundColor:e.palette.background.b2,padding:"5px"},trashIcon:{marginLeft:"5px"},fileName:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"auto",flex:1}}))),Me=e=>{const{description:t,analyticsId:n,helpLink:i,templateLink:a,templateText:o,validFileFormats:r}=e,{file:l,onFileUpload:c,onRemoveFile:d,onFileUploadError:u}=e,m=Object(I.a)(),p=Be();return s.createElement(s.Fragment,null,s.createElement("p",null,t),s.createElement("div",{className:p.helpContainer},s.createElement("span",{className:p.uploadFileText},m("course.groupWorkspace.importGroupSet.uploadFile")),s.createElement($.AnalyticsLink,{analyticsId:`${n}.help.link`,href:i,target:"_blank"},m("global.help"))),s.createElement(F.p,{analyticsId:`${n}.file-upload`,validFormats:r,onFileUpload:c,onFileUploadError:u}),s.createElement("div",null,s.createElement($.AnalyticsLink,{analyticsId:`${n}.template.link`,href:a},o)),l&&s.createElement("div",{className:Object(O.a)("js-file-container",p.fileListContainer)},s.createElement(b.Reports,{className:p.fileIcon}),s.createElement("span",{className:p.fileName},l.fileName),s.createElement($.AnalyticsIconButton,{analyticsId:`${n}.trash.icon`,onClick:d,className:p.trashIcon,"aria-label":m("global.delete")},s.createElement(b.Trash,null))))},Re=(e,t,n=q.zb.Groups)=>{const i=Object(r.d)(),[a,o]=Object(s.useState)(!0),[l,c]=Object(s.useState)(),d=Object(s.useCallback)((()=>{v.bb.leavePeekState()}),[]),u=Object(s.useCallback)((()=>{if(o(!0),(null==l?void 0:l.fileName)&&(null==l?void 0:l.fileLocation)){const s={fileName:l.fileName,fileLocation:l.fileLocation,scope:n};i(t?x.X.groupSetImport.importGroupSet(e,s):x.X.groupMembersImport.importGroupMembers(e,s))}d()}),[e,l,n,t,d,i]);return{isPrimaryButtonDisabled:a,file:l,dismissPanel:d,onImportClick:u,onFileUpload:e=>{c(e),o(!1)},onFileUploadError:n=>{console.error(n.message),i(t?x.X.groupSetImport.setFileUploadGroupSetError(e,n):x.X.groupMembersImport.setFileUploadGroupMembersError(e,n)),d()},onRemoveFile:()=>{c(void 0),o(!0)}}};var Fe=n("Y+9S");const Ve=[".csv"],_e="course.groups.import-group-set",Ue=e=>{const{courseId:t,courseName:n}=e,i=Object(I.a)(),o=Ne(),r=Object(G.i)("course.","organization."),{isPrimaryButtonDisabled:l,file:c,dismissPanel:d,onImportClick:u,onFileUpload:m,onFileUploadError:p,onRemoveFile:h}=Re(t,!0);return Object(s.useEffect)((()=>{const e={type:Fe.c.ImportGroupSetPanelOpened,status:Fe.b.Success,pageTitle:i("course.groupWorkspace.importGroupSet.pageTitle")};Object(Fe.r)(e)}),[i]),a.a.createElement("div",{id:"import-group-set-panel"},a.a.createElement("div",{className:o.peekPanel},a.a.createElement("header",{className:Object(O.a)(o.peekPanelHeader,Object(Fe.m)()&&o.hideHeader)},a.a.createElement(S.BbPanelHeader,{smallHeaderTitle:n,type:S.BbPanelType.peek,analyticsId:`${_e}.header`,title:i("course.groupWorkspace.importGroupSet.pageTitle"),navMenuAriaLabel:i("global.navigationMenu")})),a.a.createElement("div",{className:o.peekPanelBody},a.a.createElement(Me,{analyticsId:_e,description:i(r("course.groupWorkspace.importGroupSet.description")),helpLink:i("course.groupWorkspace.importGroupSet.helpLink"),templateLink:Object(x.mb)("/webapps/bb-group-mgmt-LEARN/help/ultra/sample_groups.csv"),templateText:i("course.groupWorkspace.importGroupSet.downloadGroupSetsTemplate"),onFileUpload:m,onRemoveFile:h,onFileUploadError:p,validFileFormats:Ve,file:c}))),a.a.createElement("footer",{className:o.peekPanelFooter},a.a.createElement(S.BbPanelFooter,{primaryButtonProps:{onClick:u,disabled:l,text:i("global.import"),id:"js-button-import"},secondaryButtonProps:{onClick:d,text:i("global.cancel")},analyticsId:`${_e}.footer`})))};var He=n("jYYR");const ze=[".csv"],qe=e=>{const{courseId:t,courseName:n}=e,i=Ne(),o=Object(I.a)(),[r,l]=Object(s.useState)("create"),c=Object(G.i)("course.","organization."),{isPrimaryButtonDisabled:d,file:u,dismissPanel:m,onImportClick:p,onFileUpload:h,onFileUploadError:g,onRemoveFile:b}=Re(t,!1,"create"===r?q.zb.Groups:q.zb.Members),f="create"===r?"/webapps/bb-group-mgmt-LEARN/help/ultra/sample_groups.csv":"/webapps/bb-group-mgmt-LEARN/help/ultra/sample_groupmembers.csv";Object(s.useEffect)((()=>{const e={type:Fe.c.ImportGroupMembersPanelOpened,status:Fe.b.Success,pageTitle:o("course.content.courseGroup.importGroups")};Object(Fe.r)(e)}),[o]);return a.a.createElement("div",{id:"import-group-members-panel"},a.a.createElement("div",{className:i.peekPanel},a.a.createElement("header",{className:Object(O.a)(i.peekPanelHeader,Object(Fe.m)()&&i.hideHeader)},a.a.createElement(S.BbPanelHeader,{smallHeaderTitle:n,type:S.BbPanelType.peek,analyticsId:"course.groups.import-group-members.header",title:o("course.content.courseGroup.importGroups"),navMenuAriaLabel:o("global.navigationMenu")})),a.a.createElement("div",{className:i.importPeekPanelTabsContainer},a.a.createElement($.AnalyticsTabs,{value:r,className:i.peekPanelTabs,analyticsId:"course.groups.import-group-members.tabs",onChange:()=>{u&&b()}},a.a.createElement($.AnalyticsTab,{label:o("course.groupWorkspace.importGroupMembers.createGroupsTab"),value:"create",className:i.tabButton,analyticsId:"course.groups.import-group-members.tabs.create",onClick:()=>l("create"),id:"id-create-groups-tab","aria-controls":"id-create-groups-tab-panel"}),a.a.createElement($.AnalyticsTab,{label:o("course.groupWorkspace.importGroupMembers.assignMembersTab"),value:"assign",className:i.tabButton,analyticsId:"course.groups.import-group-members.tabs.assign",onClick:()=>l("assign"),id:"id-assign-members-tab","aria-controls":"id-assign-members-tab-panel"})),a.a.createElement(He.a,{panelId:"create"===r?"id-create-groups-tab-panel":"id-assign-members-tab-panel",ariaLabelledby:"create"===r?"id-create-groups-tab":"id-assign-members-tab"},a.a.createElement("div",{className:i.tabPanelBody},"create"===r?a.a.createElement(Me,{analyticsId:"course.groups.import-group-members.createTab",description:o(c("course.groupWorkspace.importGroupSet.description")),helpLink:o("course.groupWorkspace.importGroupSet.helpLink"),templateLink:Object(x.mb)(f),templateText:o("course.groupWorkspace.importGroupMembers.downloadGroupsTemplate"),onFileUpload:h,onRemoveFile:b,onFileUploadError:g,validFileFormats:ze,file:u}):a.a.createElement(Me,{analyticsId:"course.groups.import-group-members.assignTab",description:o(c("course.groupWorkspace.importGroupMembers.assignDescription")),helpLink:o("course.groupWorkspace.importGroupSet.helpLink"),templateLink:Object(x.mb)(f),templateText:o("course.groupWorkspace.importGroupMembers.downloadMembersTemplate"),onFileUpload:h,onRemoveFile:b,onFileUploadError:g,validFileFormats:ze,file:u}))))),a.a.createElement("div",{className:i.peekPanelFooter},a.a.createElement(S.BbPanelFooter,{primaryButtonProps:{onClick:p,disabled:d,text:o("global.import"),id:"js-button-import"},secondaryButtonProps:{onClick:m,text:o("global.cancel")},analyticsId:"course.groups.import-group-members.footer"})))},We=Object(j.makeStyles)((e=>({radioGroup:{padding:"24px 0",borderBottom:`1px solid ${e.palette.border.main}`},fileContainer:{padding:"24px 0",borderBottom:`1px solid ${e.palette.border.main}`,"& svg":{cursor:"pointer",marginRight:"10px"}},trashIconButton:{alignItems:"start"},fileLink:{display:"flex",flex:1,color:e.palette.text.primary,textDecoration:"none","&:hover,&:focus":{color:e.palette.text.primary,textDecoration:"none"}},fileDetail:{display:"flex","& span":{width:"200px",overflow:"hidden",textOverflow:"ellipsis",textAlign:"left",[e.breakpoints.up("sm")]:{width:"250px"}},"& p":{textAlign:"left"}},noFileText:{padding:"24px 0",textAlign:"center"},pagination:{margin:"12px 0"},paginationFooter:{position:"absolute",bottom:0,left:0,right:0,backgroundColor:`${e.palette.background.default}`}}))),Ke=e=>{const{analyticsId:t,setSelectedFieldsToInclude:n,setIsPrimaryButtonDisabled:i}=e,o=Object(I.a)(),r=We(),[l,c]=Object(s.useState)({groupSetOnly:!1,membersOnly:!1});Object(s.useEffect)((()=>{l.groupSetOnly&&l.membersOnly?(i(!1),n(q.zb.GroupsAndMembers)):l.groupSetOnly?(i(!1),n(q.zb.Groups)):l.membersOnly?(i(!1),n(q.zb.Members)):i(!0)}),[l]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:r.radioGroup},a.a.createElement(j.CheckboxGroup,{id:"id_fields_to_include",legendVariant:"h2",legendText:o("course.groupWorkspace.exportGroupSet.fieldsToInclude"),name:"Fields_To_Include"},a.a.createElement($.AnalyticsFormControlLabel,{analyticsId:`${t}.label.group-only`,htmlFor:"group_set_only_id",value:q.zb.Groups,control:a.a.createElement($.AnalyticsCheckbox,{analyticsId:`${t}.checkbox.group-only`,onChange:(e,t)=>{c((e=>({...e,groupSetOnly:t})))},id:"group_set_only_id",name:"groupSetOnly"}),label:o("course.groupWorkspace.exportGroupSet.groupSetOnly")}),a.a.createElement($.AnalyticsFormControlLabel,{analyticsId:`${t}.label.members-only`,htmlFor:"members_only_id",value:q.zb.Members,control:a.a.createElement($.AnalyticsCheckbox,{analyticsId:`${t}.checkbox.members-only`,onChange:(e,t)=>{c((e=>({...e,membersOnly:t})))},id:"members_only_id",name:"membersOnly"}),label:o("course.groupWorkspace.exportGroupSet.membersOnly")}))),a.a.createElement("div",{className:r.radioGroup},a.a.createElement($.AnalyticsRadioGroup,{analyticsId:t,id:"id_file_type",legendVariant:"h2",legendText:o("course.groupWorkspace.exportGroupSet.fileType"),name:"File_Type",value:"CSV"},a.a.createElement($.AnalyticsFormControlLabel,{analyticsId:`${t}.label.csv`,htmlFor:"csv_id",value:"csv",control:a.a.createElement($.AnalyticsRadio,{analyticsId:`${t}.radio.csv`,checked:!0,id:"csv_id",readOnly:!0}),label:o("course.groupWorkspace.exportGroupSet.csv")}))))};var Je=n("n7/H"),Qe=n("HuI8"),Ze=n("Gvux");const Ye=e=>{const{analyticsId:t,file:n,files:i,courseId:a,groupSetId:o,page:l,setPage:c,refreshFileList:d}=e,u=We(),{translate:m,formatDate:p}=Object(Qe.a)(),h=Object(r.d)();return s.createElement(s.Fragment,null,s.createElement($.AnalyticsListItem,{analyticsId:`${t}.listItem`,key:n.fileName,className:u.fileContainer},s.createElement($.AnalyticsLink,{analyticsId:`${t}.download-file`,href:n.downloadUrl,className:u.fileLink},s.createElement(Ze.DownloadFile,null),s.createElement("span",{className:u.fileDetail},s.createElement($.AnalyticsListItemText,{analyticsId:`${t}.listItem`,primary:n.fileName,secondary:m("course.groupWorkspace.exportGroupSet.createdDate",{date:p(n.dateCreated,Je.ILocaleDateFormat.Short)})}))),s.createElement($.AnalyticsIconButton,{analyticsId:`${t}.delete.icon`,onClick:()=>{try{h(x.X.groupSetExport.deleteFile(a,o,{fileName:n.fileName})).then((()=>{1===i.length&&0!==l?c((e=>e-1)):d()}))}catch(e){console.error(e)}},className:u.trashIconButton,"aria-label":m("components.directives.file-viewer.aria.deleteFile",{fileName:n.fileName})},s.createElement(f.Trash,null))))},Xe=[{field:"fileName",direction:q.cc.Descending}],et=e=>{var t;const{analyticsId:n,courseId:i,groupSetId:o,page:l,setPage:c,pageSize:d}=e,u=We(),m=Object(I.a)(),p=Object(r.d)(),h=Object(r.e)((e=>x.gc.groupSetExport.getExportGroupSet(e,i))),g=null===(t=null==h?void 0:h.byGroupSetId[o])||void 0===t?void 0:t.files,b=()=>{const e={paging:{limit:d,offset:l*d},sort:Xe};p(x.X.groupSetExport.getExportedFiles(i,o,e))};return Object(s.useEffect)((()=>{b()}),[l,i,o,Xe]),a.a.createElement(a.a.Fragment,null,(null==g?void 0:g.length)>0?a.a.createElement($.AnalyticsList,{analyticsId:`${n}.list`},g.map((e=>a.a.createElement(Ye,{key:e.fileName,file:e,analyticsId:n,files:g,courseId:i,groupSetId:o,page:l,setPage:c,refreshFileList:b})))):a.a.createElement("div",{className:u.noFileText},a.a.createElement("span",null,m("course.groupWorkspace.exportGroupSet.noFilesText"))))},tt=e=>{var t,n,i,o;const{courseId:l,groupSetId:c,courseName:d,isGroupSetDetailView:u}=e,m=Object(I.a)(),p=Ne(),h=We(),g=Object(r.d)(),[b,f]=Object(s.useState)(!0),[y,k]=Object(s.useState)("create"),[C,E]=Object(s.useState)(q.zb.GroupsAndMembers),[w,A]=Object(s.useState)(0),D=m("create"===y?"course.groupWorkspace.exportGroupSet.exportFromGroups":"course.groupWorkspace.exportGroupSet.exportFile"),T=Object(r.e)((e=>x.gc.groupSetExport.getExportGroupSet(e,l))),P=!!(null===(n=null===(t=null==T?void 0:T.byGroupSetId[c])||void 0===t?void 0:t.paging)||void 0===n?void 0:n.count)&&T.byGroupSetId[c].paging.count>7,G=(null===(o=null===(i=null==T?void 0:T.byGroupSetId[c])||void 0===i?void 0:i.paging)||void 0===o?void 0:o.count)?T.byGroupSetId[c].paging.count/7:1;Object(s.useEffect)((()=>{const e={type:Fe.c.ExportGroupSetPanelOpened,status:Fe.b.Success,pageTitle:D};Object(Fe.r)(e)}),[D]);const j=Object(s.useCallback)((()=>{v.bb.leavePeekState()}),[]),L=Object(s.useCallback)((()=>{f(!0),g(x.X.groupSetExport.exportGroupSet(l,c,{scope:C},u?"GROUP_SET_DETAIL_VIEW":"GROUPS_LIST_VIEW")),j()}),[C,l,c,u,j,g]);return a.a.createElement("div",{id:"export-group-set-panel"},a.a.createElement("div",{className:p.peekPanel},a.a.createElement("header",{className:Object(O.a)(p.peekPanelHeader,Object(Fe.m)()&&p.hideHeader)},a.a.createElement(S.BbPanelHeader,{smallHeaderTitle:d,type:S.BbPanelType.peek,analyticsId:"course.groups.export-group-set.header",title:D,navMenuAriaLabel:m("global.navigationMenu")})),a.a.createElement("div",{className:p.peekPanelTabsContainer},a.a.createElement($.AnalyticsTabs,{value:y,className:p.peekPanelTabs,analyticsId:"course.groups.export-group-set.tabs"},a.a.createElement($.AnalyticsTab,{label:m("course.groupWorkspace.exportGroupSet.createTab"),value:"create",className:p.tabButton,analyticsId:"course.groups.export-group-set.tabs.create",onClick:()=>k("create"),"aria-controls":"id-create-tab-panel",id:"id-create-tab"}),a.a.createElement($.AnalyticsTab,{label:m("global.export"),value:"export",className:p.tabButton,analyticsId:"course.groups.export-group-set.tabs.export",onClick:()=>k("export"),"aria-controls":"id-export-tab-panel",id:"id-export-tab"})),a.a.createElement(He.a,{panelId:"create"===y?"id-create-tab-panel":"id-export-tab-panel",ariaLabelledby:"create"===y?"id-create-tab":"id-export-tab"},"create"===y?a.a.createElement(Ke,{analyticsId:"course.groups.export-group-set.createTab",setSelectedFieldsToInclude:E,setIsPrimaryButtonDisabled:f}):a.a.createElement(et,{analyticsId:"course.groups.export-group-set.fileList",courseId:l,groupSetId:c,page:w,setPage:A,pageSize:7})))),"create"===y&&a.a.createElement("footer",{className:p.peekPanelFooter},a.a.createElement(S.BbPanelFooter,{primaryButtonProps:{onClick:L,disabled:b,text:m("course.groupWorkspace.exportGroupSet.exportFile"),id:"js-button-export"},secondaryButtonProps:{onClick:j,text:m("global.cancel")},analyticsId:"course.groups.export-group-set.footer"})),"export"===y&&P&&a.a.createElement("footer",{className:h.paginationFooter},a.a.createElement(F.J,{className:h.pagination,analyticsId:"course.groups.export-group-set.fileList",page:w,numberOfPages:G,onPageChange:e=>{A(e)}})))},nt=Object(j.makeStyles)((e=>Object(j.createStyles)({groupMembersListPanel:{position:"absolute",top:0,left:0,right:0,bottom:0},panel:{display:"flex",flexDirection:"column",alignItems:"stretch",height:"100vh"},header:{flex:"0 1 auto","& .ms-Panel-titles-container":{[e.breakpoints.up("sm")]:{position:"relative",left:e.spacing(3)}}},content:{flex:"1 1 auto",overflowY:"auto",padding:e.spacing(2),[e.breakpoints.up("sm")]:{padding:e.spacing(3)}},footer:{backgroundColor:`${e.palette.background.default}`},groupMemberListItem:{borderBottom:`1px solid ${e.palette.border.main}`,borderRight:"0px",borderLeft:"0px",borderTop:"0px"},spinnerContainer:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},pagination:{margin:"12px 0"},userNameStyles:{fontWeight:e.typography.fontWeightBold},membersSearchBoxContainer:{borderBottom:`1px solid ${e.palette.border.main}`,padding:"12px 0"},membersSearchBox:{[e.breakpoints.up("sm")]:{margin:0,width:"100%"}},noResultsMessage:{marginTop:"5px"}}))),it=e=>{const{memberships:t,users:n,courseId:i}=e,s=Object(I.a)(),o=nt(),l=Object(G.i)("global.course","global.organization"),c=Object(r.e)((e=>x.gc.courseMembership.getMembershipPermissions(e,i))),d=t.map((e=>{var t;const{role:i,userId:r}=e;if(!r)return null;const d=n[r],u=x.a.hasAccommodations(e,c);return a.a.createElement($.AnalyticsListItem,{key:r,className:o.groupMemberListItem,analyticsId:"courseCore.components.courseInstructors.listItem"},a.a.createElement($.AnalyticsListItemAvatar,{analyticsId:"courseCore.components.courseInstructors.listItemAvatar"},a.a.createElement($.AnalyticsAvatar,{size:"medium",src:null===(t=d.avatar)||void 0===t?void 0:t.permanentUrl,alt:s("courseCore.components.courseInstructors.avatarAltText",{user:d})})),a.a.createElement($.AnalyticsListItemText,{analyticsId:"courseCore.components.courseInstructors.listItemText",primary:a.a.createElement(Y.f,{ariaHidden:!0,format:Je.ILocaleUsernameFormat.Short,user:d,subtext:s(l(`global.course.role.${i}`)),showPronunciation:!0,showPronouns:!0,showAccommodation:u,userNameStyles:o.userNameStyles})}))}));return a.a.createElement($.AnalyticsList,{analyticsId:"courseCore.components.courseInstructors.groupMembers.list"},d)};var st=n("9EWH");const at=(e,t)=>Object(st.b)(e,(e=>{switch(e.paging||(e.paging={}),t.type){case"change.page":e.paging.offset=t.offset;break;case"search.text":e.filter={...e.filter,searchString:t.searchString},e.paging.offset=0}}));const ot=e=>{var t;const{viewPaging:n,page:i,onPageChange:s,analyticsId:o,pageSize:r}=e,l=n?(c=null!==(t=n.count)&&void 0!==t?t:1,d=r,Math.max(1,Math.ceil(c/d))):1;var c,d;const u=Object(j.useMediaQuery)((e=>e.breakpoints.down("xs"))),m=nt();return a.a.createElement("div",{className:m.footer},a.a.createElement(F.J,{className:m.pagination,analyticsId:o,page:i,numberOfPages:l,onPageChange:s,compact:u}))},rt=e=>{const{onSearchBoxTextChange:t,analyticsId:n,membershipsCount:i,isLoading:o}=e,r=Object(I.a)(),l=nt(),[c,d]=Object(s.useState)(),u=e=>{d(e),t(e)};return a.a.createElement("div",{className:l.membersSearchBoxContainer},a.a.createElement(F.M,{"aria-describedby":"noResultsMessage",inputId:"group-members-list-search-input",analyticsId:n,className:l.membersSearchBox,label:r("course.groupWorkspace.groupMembers.search"),onChange:u,onClear:()=>{u("")},value:c}),0===i&&!o&&a.a.createElement($.AnalyticsTypography,{variant:"body1",id:"noResultsMessage",role:"alert",className:l.noResultsMessage},r("course.groupWorkspace.groupMembers.noSearchResult")),!!i&&!o&&a.a.createElement($.AnalyticsOffScreenAnnouncement,{type:"polite",role:"status",changeTrigger:1,message:o?null:0===(null==c?void 0:c.length)?r("course.groupWorkspace.groupMembers.searchCleared",{oldResultsCount:i}):0===i?r("course.groupWorkspace.groupMembers.noSearchResult"):i&&i>0?r("course.groupWorkspace.groupMembers.resultsFound",{resultsCount:i}):null,analyticsId:n}))};var lt=n("kNOQ"),ct=n("Ajje");const dt="course.groups.group-members-list",ut=e=>{var t,n,i;const{courseId:o}=e,l=Object(r.e)((e=>x.gc.app.getLocation(e).queryParams.groupId)),c=Object(r.e)((e=>x.gc.app.getLocation(e).queryParams.contentId)),d=!!c,{group:u,groupSet:m,loadingStatus:p}=Object(G.u)(o,l,d);if((d&&!(null==u?void 0:u.id)||!d&&!(null==u?void 0:u.groupSetId))&&p===ct.a.Loaded)throw v.bb.leavePeekState(),new Error(`Group ${l} not found.`);const h=null===(t=Object(r.e)((e=>x.gc.content.getContentById(e,c))))||void 0===t?void 0:t.title,g=d?h:null==m?void 0:m.title,b={courseId:o,filter:{searchString:"",roleBucket:[q.y.Taking],groupId:[l]},paging:{limit:20,offset:0},sort:[{field:q.ib.GivenName,direction:q.cc.Ascending},{field:q.ib.FamilyName,direction:q.cc.Ascending}]},[f,y]=Object(s.useReducer)(at,b),{memberships:k,users:C,view:E}=Object(G.h)(f),w=nt(),A=Object(I.a)(),O=Object(lt.a)((e=>{y({type:"search.text",searchString:e})}),500);return a.a.createElement("div",{className:w.groupMembersListPanel},a.a.createElement("div",{className:w.panel},a.a.createElement("header",{className:w.header},a.a.createElement(S.BbPanelHeader,{smallHeaderTitle:g,type:S.BbPanelType.peek,analyticsId:"course.groups.group-members-list.header",title:null==u?void 0:u.title,navMenuAriaLabel:A("global.navigationMenu")})),a.a.createElement("div",{className:w.content},a.a.createElement(rt,{onSearchBoxTextChange:O,analyticsId:dt,membershipsCount:k.length,isLoading:!E||E.isLoading}),(!E||E.isLoading)&&a.a.createElement("div",{className:w.spinnerContainer},a.a.createElement($.AnalyticsCircularProgress,{ariaLabel:A("global.loading"),size:"medium"})),a.a.createElement(it,{memberships:k,users:C,courseId:o})),a.a.createElement(ot,{viewPaging:null==E?void 0:E.paging,page:(null!==(i=null===(n=f.paging)||void 0===n?void 0:n.offset)&&void 0!==i?i:0)/20,onPageChange:e=>{y({type:"change.page",offset:20*e})},analyticsId:dt,pageSize:20})))},mt=e=>{const{tooltipTitle:t,tooltipAnalyticsId:n}=e;return s.createElement($.AnalyticsTooltip,{placement:"top",title:t,"aria-label":t,analyticsId:n},s.createElement(f.Upload,null))},pt=e=>{const{tooltipTitle:t,tooltipAnalyticsId:n}=e;return s.createElement($.AnalyticsTooltip,{placement:"top",title:t,"aria-label":t,analyticsId:n},s.createElement(f.Download,null))};n.d(t,"o",(function(){return gt})),n.d(t,"p",(function(){return bt})),n.d(t,"m",(function(){return ft})),n.d(t,"f",(function(){return M})),n.d(t,"a",(function(){return B})),n.d(t,"i",(function(){return Le})),n.d(t,"n",(function(){return A.f})),n.d(t,"c",(function(){return A.a})),n.d(t,"h",(function(){return Ue})),n.d(t,"g",(function(){return qe})),n.d(t,"d",(function(){return tt})),n.d(t,"e",(function(){return ut})),n.d(t,"k",(function(){return mt})),n.d(t,"b",(function(){return pt})),n.d(t,"j",(function(){return c}));const ht=(e,t,n,i,a,r)=>{let c=n;null==n&&"undefined"!=typeof window&&window.location.search.match("setLang=")&&(c=window.location.search.match(/setLang=([^$&]+)/)[1]),o.render(s.createElement($.AnalyticsJssThemeProvider,{isRtl:r},s.createElement(l.a,{locale:c,babelfishInstance:i,babelfishFormatInstance:a,bundlesToLoad:["group-workspace/locales/[locale]/group-workspace.json"],isRtl:r},s.createElement("div",null,e))),t)},gt=(e,t,n)=>{ht(s.createElement(r.a,{store:t},s.createElement(me,{courseId:n.courseId,contentId:n.contentId,contentName:n.contentName,userId:n.userId,root:e,onGroupJoined:n.onGroupJoined,analyticsId:"selfEnrollList"})),e,n.locale,n.babelfishInstance,n.babelfishFormatInstance,n.isRtl)},bt=(e,t,n)=>{ht(s.createElement(r.a,{store:t},s.createElement(Pe,{courseId:n.courseId,contentName:n.contentName,userId:n.userId,root:e,onGroupJoined:n.onGroupJoined,analyticsId:"selfEnrollList"})),e,n.locale,n.babelfishInstance,n.babelfishFormatInstance,n.isRtl)},ft=e=>{o.unmountComponentAtNode(e)},vt={renderGroupSetListPanelComponent:(e,t,n,i,a,o,l,c,d)=>{ht(s.createElement(r.a,{store:t},s.createElement(te,{courseId:l,root:e,openGroupSetDetailPanel:d,featuresConfig:c,analyticsId:"groupSetList"})),e,n,i,a,o)},renderContentGroupSelfEnrollmentPanelComponent:gt,renderCourseGroupSelfEnrollmentPanelComponent:bt,destroyComponent:ft};t.l=vt},hDL0:function(e,t){e.exports='<div class="content-outline" bb-load-bundle="components/directives/content/content-outline">\n  <bb-add-content-button ng-if="!hideAddMenuOverride && canCreate"\n                         can-create-all-contents="canCreateAllContents"\n                         is-render-by-default="contentOutline.parentFolder.depth === 0"\n                         show-menu-override="contentOutline.shouldShowMenuOverride()"\n                         parent-id="contentOutline.parentFolder.id" root-content="contentOutline.parentFolder"\n                         position-before="\'start\'" item-name="contents[0].title"\n                         depth="(contentOutline.parentFolder.depth + 1)"\n                         always-show="contentOutline.shouldShowAddButton()" context-area="contentOutline.contextArea"\n                         can-copy-import="canCopyImport">\n  </bb-add-content-button>\n  <div class="add-element" ng-if="hideAddMenuOverride && !canCreate"> </div>\n  <div ng-if="contents">\n    <div class="content-outline-scroll-container"\n         bb-infinite-scroll="contentOutline.loadMoreChildren(contentOutline.parentFolder)"\n         infinite-scroll-immediate-check="true" infinite-scroll-disabled="contentOutline.isAllContentsLoaded()"\n         infinite-scroll-container="contentOutline.getScrollContainerSelector()"\n         infinite-scroll-listen-for-event="content-outline-infinite-scroll-check"\n         infinite-scroll-current-count="contents.length" infinite-scroll-total-count="contents.paging.count"\n         infinite-scroll-load-limit="contents.paging.limit"\n         infinite-scroll-tray-id="content-outline-{{::contentOutline.parentFolder.id}}"\n         infinite-scroll-focusable-children-selector=".content-title"\n         infinite-scroll-localization-keys-prefix="components.directives.content.content-outline.infiniteScroll.{{::contentOutline.contextArea === \'discussions\' ? \'discussions\' : \'content\'}}"\n         infinite-scroll-force-show-ancestor-selector="{{::contentOutline.getScrollForceShowSelector()}}"\n         sortable-parent>\n      <div class="content-outline-scroll-list" data-parent-id="{{::contentOutline.parentFolder.id}}">\n        <div class="js-content-div drag-element"\n             ng-class="{\'last\': $last, \'has-conversation-indicator\': content.ui.hasIndicator}"\n             ng-repeat="content in contents track by contentOutline.getContentTrackingId(content)" data-content-id="{{content.id}}"\n             ng-mouseenter="contentOutline.placeAddButton(content)">\n            <ng-switch on="(content.isFolder() && !content.isBbPage()) || content.isLearningModule()">\n              <div ng-switch-when="true">\n                <bb-folder root-content="contentOutline.parentFolder"\n                          on-file-drop-handler="contentOutline.onFileDropHandler"\n                          on-move-handler="contentOutline.onMoveHandler"\n                          on-move-into-folder-handler="contentOutline.onMoveIntoFolderHandler" contents="contents"\n                          content="content" next-content-id="contents[$index + 1].id"\n                          previous-content-id="contents[$index - 1].id"\n                          load-more-children="contentOutline.loadMoreChildren" can-create="canCreate"\n                          can-move="contentOutline.canMove" context-area="contentOutline.contextArea"\n                          can-copy-import="canCopyImport"></bb-folder>\n              </div>\n              <div ng-switch-when="false" bb-drag drag-item="::content.id" can-move="contentOutline.canMove">\n                <div ng-if="!content.isGroupContent || content.assignedGroups.length >= 0 || contentOutline.canMove">\n                  <div bb-drop-handler on-file-drop-handler="contentOutline.onFileDropHandler"\n                      on-move-handler="contentOutline.onMoveHandler"\n                      on-move-into-folder-handler="contentOutline.onMoveIntoFolderHandler" content="content"\n                      root-content="contentOutline.parentFolder" next-content-id="contents[$index + 1].id"\n                      previous-content-id="contents[$index - 1].id">\n                    <div class="row collapse element-list-row js-course-skip-link-target" can-create="canCreate"\n                        can-move="contentOutline.canMove" bb-content-item-mouseover\n                        ng-class="{ \'element-list-row-extra-icon\': contentOutline.isProgressTrackingStateShown(content) }">\n                      <bb-content-item-base contents="contents" content="content" context-area="contentOutline.contextArea"\n                                            can-move="contentOutline.canMove"\n                                            item-before="contents[$index - 1]"\n                                            item-after="contents[$index + 1]"\n                                            ></bb-content-item-base>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </ng-switch>\n\n            <div id="add-button-placeholder{{content.id}}"\n                class="add-element-container"\n                ng-if="::canCreate">\n              <div ng-if="contentOutline.isAddContentButtonUnattached(content.id)"\n                  id="add-button-line{{content.id}}" class="add-element" tabindex="0" role="button"\n                  ng-class="{\'mobile-center-content-button\': contentOutline.isMobileDevice()}"\n                  aria-label="{{::contentOutline.getAddButtonLineLabel(content.title)}}"\n                  ng-focus="contentOutline.placeAddButton(content, true)">\n                <bb-svg-icon size="small" icon="add" class="mobile-add-content-icon" ng-if="contentOutline.isMobileDevice()"></bb-svg-icon>\n              </div>\n            </div>\n          <bb-progress\n              ng-if="contentOutline.cloudUploadInProgress[content.id]"\n              target-div="#progress{{content.id}}"\n              primary-key="\'progress\' + content.id"\n              display-results="false"\n          >\n          </bb-progress>\n        </div>\n        <div class="drag-element">\n          <div drag-item-id="{{contentOutline.placeholderContent.id}}"></div>\n          <div class="drop-placeholder" bb-drop-handler content="contentOutline.placeholderContent"\n               on-move-handler="contentOutline.onMoveHandler"\n               on-move-into-folder-handler="contentOutline.onMoveIntoFolderHandler">\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- LRN-123904: For file upload content items `positionAfter` is set to `content.id` in course-outline.html. But when file upload is\n  in progress, `content.id` stays undefined. As a result `positionAfter` receives undefined.\n  `positionAfter` value is not used when `content.id` is not available. i.e.: When upload-in-progress file is very first item - `positionAfter` value is not\n  available, therefore `positionBefore` is used instead. --\x3e\n  <bb-add-content-button\n    class="movable-add-content-button movable-add-content-button-folder{{::contentOutline.parentFolder.id}}"\n    ng-hide="!contentOutline.addContentButtonLocation"\n    ng-if="::canCreate && !content.ui.importPlaceholder"\n    can-create-all-contents="canCreateAllContents"\n    content="contentOutline.addContentButtonLocation"\n    root-content="contentOutline.parentFolder"\n    is-button-location-changable="true"\n    parent-id="contentOutline.parentFolder.id"\n    position-after="contentOutline.addContentButtonLocation.id || contentOutline.addContentButtonLocation.positionAfter"\n    position-before="(contentOutline.addContentButtonLocation.id || contentOutline.addContentButtonLocation.positionAfter) ? null : contentOutline.addContentButtonLocation.positionBefore"\n    item-name="contentOutline.addContentButtonLocation.title"\n    depth="contentOutline.addContentButtonLocation.depth"\n    context-area="contentOutline.contextArea"\n    can-copy-import="canCopyImport">\n  </bb-add-content-button>\n</div>\n'},hKQ4:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-discussion",use:"icon-small-discussion-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-discussion"><path d="M15 8c0 3.866-3.134 7-7 7a6.983 6.983 0 01-2.528-.4704L1 15l.5-4.3969C1.1775 9.7984 1 8.9199 1 8c0-3.866 3.134-7 7-7s7 3.134 7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="5" cy="8" r=".5" /><circle cx="8" cy="8" r=".5" /><circle cx="11" cy="8" r=".5" /></symbol>'});s.add(a);e.exports=a},hWgD:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("Llzl"),s=n("0JpG"),a=n("TnpK");const o="ultra.course.partner-tool.router";i.module(o,[s.moduleName,a.b]).config([a.c,e=>{e.peekState("partner-tool",{abstract:!0,url:"/partners/:partnerId"}).peekState("partner-tool.tool",{url:"/tools/:toolType?partnerParentId&mode",resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/content-market/content-market")]},params:{partnerTitle:"",toolHref:"",returnState:null},panelClass:"full",require:()=>Promise.all([n.e(17),n.e(144),n.e(639)]).then(n.bind(null,"HgnN")),pageTitle:"course.partnerTool.partnerTool"})}])},hkqm:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var i=n("Llzl"),s=n("H8CZ"),a=n("0JpG"),o=n("3FFP"),r=n("GbAM"),l=n("n1KZ"),c=n("lBPC");const d="ultra.services.toast",u="toast";class m{constructor(e,t,n,i,s){this.$compile=e,this.$q=t,this.$rootScope=n,this.$timeout=i,this.localize=s,this.toastQueue=[]}show(e){if(!e)throw new Error("args is required");if(!e.messageKey)throw new Error("messageKey is required");this.setUpToast({bundlePromise:e.bundle?this.localize.loadBundle(e.bundle):this.$q.when(),createScope:()=>{const t=this.$rootScope.$new(!0);return t.message=this.localize.translateSync({locale:e.locale||this.localize.getLocale(t),key:e.messageKey,params:e.translationParams,noWrap:!0,noEscape:!0}),t.shortMessage=e.shortMessageKey&&this.localize.translateSync({locale:e.locale||this.localize.getLocale(t),key:e.shortMessageKey,params:e.translationParams,noWrap:!0,noEscape:!0}),t.icon=e.icon||"icon-alert-triangle",t.toastClass=e.toastClass,t.toastStatus=e.toastStatus,t},triggerToastClose:(t,n,i,s)=>{n.$root.$broadcast(r.b,n.message);const a=()=>{if(n.isActive){let n=e.durationMS||m.DEFAULT_DISPLAY_MS;this.toastQueue.length>1&&(n=Math.min(m.RUSH_DISPLAY_MS,n)),(new Date).getTime()-t.startTime>=n?s():this.$timeout(a,1e3,!1)}};a(),this.$timeout((()=>{i.addClass("is-active")}),0,!1)},onCloseToast:this.closeToast,template:l})}showLoading(e){if(!e)throw new Error("args is required");if(!e.trayId)throw new Error("messageKey is required");e.promise.then((()=>e.promise.done=!0));return this.setUpToast({bundlePromise:this.$q.when(),createScope:()=>{const t=this.$rootScope.$new(!0);return t.trayId=e.trayId,t.trayLocalizationKeysPrefix=e.trayLocalizationKeysPrefix,t},triggerToastClose:(t,n,i,s,a)=>{e.promise.then((()=>{s()}),(()=>{a()})),n.$root.$broadcast(o.a.LoadMoreResults.eventName,e.trayId,e.promise,null,!0,e.delayTime)},template:c,footerCss:e.footerCss,promise:e.promise})}setUpToast(e){const t=this.$q.defer(),n=this.toastQueue[this.toastQueue.length-1]||this.$q.when();let s;return this.toastQueue.push(t.promise),this.$q.all([n,e.bundlePromise]).then((()=>{if(t.startTime=(new Date).getTime(),e.promise&&e.promise.done)return void t.resolve();const n=e.createScope();let a;const o=()=>{e.onCloseToast&&e.onCloseToast(n,a),this.cleanUpToast(t,n,a)};return s=()=>{this.cancelToast(t,n,a)},n.isActive=!0,n.toastClicked=()=>{o()},a=this.$compile(e.template)(n),i.element(document.body).append(a),a.addClass(e.footerCss),e.triggerToastClose(t,n,a,o,s),t.promise})).then((()=>{this.toastQueue.shift()})),()=>s&&s()}closeToast(e,t){e.isActive&&t.removeClass("is-active")}cleanUpToast(e,t,n){t.isActive&&(t.isActive=!1,s.b(n,(()=>{this.cancelToast(e,t,n)})))}cancelToast(e,t,n){e.resolve(),n.remove(),t.$destroy()}}m.DEFAULT_DISPLAY_MS=6e3,m.RUSH_DISPLAY_MS=3e3,m.$inject=["$compile","$q","$rootScope","$timeout",a.serviceName],i.module(d,[a.moduleName,o.b]).service(u,m)},hlSw:function(e,t,n){"use strict";var i=n("nsO7"),s=n("Llzl"),a=n("nYZ0"),o=n("Qbdf"),r=n("36CG"),l=n("oi1r"),c=n("P2dS"),d=n("0JpG"),u=n("pjml"),m=n("TnpK"),p=n("zGdY"),h=n("ZQFV"),g=n("nmzr");class b{}b.currentColumn=[m.d,o.d,"currentContent",(e,t,n)=>{if(n){const i=e.params.columnId||e.nextParams.columnId;return t.gradebook.columns.$buildRaw(n.getAssociatedGradingColumn(i)).$asPromise().then((e=>null==e.rubricAssociations?e.$fetch({expand:"associatedRubrics,externalGrade"}).$asPromise().then((e=>e.$asPromise())):e.$asPromise()))}const i=e.nextParams.columnId;if(i&&i!==u.C.CREATE_COLUMN_ID)return t.gradebook.columns.$find(i,{expand:"associatedRubrics,externalGrade"}).$asPromise()}],b.assignmentContent=[o.d,m.d,r.g,(e,t,n)=>{const i=t.nextParams.contentId?t.nextParams.contentId:t.nextParams.id;if(i){const t="alignedGoals,assignedGroups,isGroupContent,permissions",s=e.contents.$find(i,{expand:t});return n.setCurrentContent(s),s.$asPromise()}}],b.assessmentContent=[o.d,"$q",d.serviceName,a.f,m.d,l.b,c.c,r.g,(e,t,n,a,o,r,l,c)=>{if(o.nextParams.contentId!==u.p.CREATE_CONTENT_ID)return a.getContentInContentTree(a.findRootNode(e,u.p.ContentRootNode.ROOT),e.id,o.nextParams.contentId).then((e=>(c.setCurrentContent(e.content),e.content.$asPromise())));const d=t.defer();return r.loadSchemas(e).then((t=>{a.getOrMakeContentInContentTree(a.findRootNode(e,u.p.ContentRootNode.ROOT),e.id,void 0,o.nextParams.parentId,o.nextParams.positionBefore,o.nextParams.positionAfter).then((a=>{const r=a.content;c.setCurrentContent(r);const m=i.find(t,(e=>e.scaleType===p.ac.Score)),g=o.nextParams.gradebookCategoryId;let b=null;l.getOrLoadCategoriesForCourse(e.id).then((e=>{b=i.find(e,(e=>e.id===g))})).then((()=>{let t;r.courseId=e.id,r.contentHandler=u.p.ContentHandler.TestLink,r.body={},t=b?b.isUserDefined?"custom":b.title:"test";const i="course.grades.gradebook-item.title.default."+t,a=b&&b.isUserDefined?{today:new Date,title:b.title}:{today:new Date};r.title=n.translateSync({locale:e&&e.locale,key:i,params:a,noWrap:!0}),r.setupAssessmentContentDetail(m.id,b),r.setVisibility(p.w.Hidden),r.getAssociatedGradingColumn().visible=!1,r.getAssociatedGradingColumn().possible=h.P.GRADE_DEFAULT_POINTS,t!==p.W.Test&&"true"!==o.nextParams.autoPostGrades||(r.getAssociatedGradingColumn().autoPostGrades=!0),r.ui.hasConversationAttached=!1,r.permissions={edit:!0},r.$save().$asPromise().then((()=>{d.reject(),o.go(o.next.name,s.extend(o.nextParams,{contentId:r.id,gradeitemView:"details",isCreateState:!0,parentId:void 0,positionBefore:void 0,positionAfter:void 0}))}))}))}))})),d.promise}],b.currentContent=[o.d,"$injector",m.d,"translations",(e,t,n)=>-1===n.next.name.indexOf(g.x.GRADEBOOK_ITEM_ASSESSMENT)&&-1===n.next.name.indexOf("gradebook-item.scorm-submissions")?t.invoke(b.assignmentContent,null,{currentCourse:e}):t.invoke(b.assessmentContent,null,{currentCourse:e})],b.nullContent=[()=>null],t.a=b},hlUp:function(e,t){e.exports='<div id="aria-live-polite-region-1" class="sr-only" role="status" aria-live="polite"></div>\n<div id="aria-live-polite-region-2" class="sr-only" role="status" aria-live="polite"></div>\n<div id="aria-live-assertive-region-1" class="sr-only" role="alert" aria-live="assertive" aria-atomic="true"></div>\n<div id="aria-live-assertive-region-2" class="sr-only" role="alert" aria-live="assertive" aria-atomic="true"></div>'},ho2F:function(e,t){e.exports='<ul id="performanceCodes-{{gradeInput.id}}" class="f-dropdown performance-code-options bb-foundation-dropdown-close-esc-override" data-dropdown-content>\n  <li class="performance-option-header" bb-translate>components.directives.grade.grade-input.selectPerformanceCode</li>\n  <li ng-repeat="perfCode in gradeNotations()" bb-click-to-invoke-child="a.performance-code-option">\n    <a href="javascript:void(0);"\n       tabindex="0"\n       role="menuitem"\n       ng-click="gradeInput.clickGradeNotation(perfCode,$event)"\n       class="performance-code-option"\n       analytics-id="directives.gradeInput.selectPerformanceCode.item.link">\n      <span class="code" title="{{perfCode.code}}">{{perfCode.code}}</span>\n      <span class="description" title="{{perfCode.description}}">{{perfCode.description}}</span>\n    </a>\n  </li>\n  <li ng-if="gradeDetail.displayGrade.isOverride" class="undo-override" bb-click-to-invoke-child="button.js-undo-override">\n    <a href="javascript:void(0);"\n       tabindex="0"\n       role="menuitem"\n       class="js-undo-override performance-code-option"\n       ng-click="gradeInput.undoOverride()"\n       analytics-id="directives.grade-input.undoOverride.link">\n      <bb-svg-icon size="small" icon="undo"></bb-svg-icon>\n      <span bb-translate>components.directives.grade.grade-input.undoOverride</span>\n    </a>\n  </li>\n</ul>\n\n'},hqh6:function(e,t,n){"use strict";n("t3ZG"),n("xjJw");var i=n("nsO7"),s=n("71td"),a=n("Llzl"),o=n("0JpG"),r=n("WShm"),l=n("oQrK"),c=n("XGja"),d=n("+4Px"),u=n("wgY5"),m=n("V6ed");n.d(t,"a",(function(){return p}));const p="ultra.components.directives.datepicker";class h{constructor(e,t,n,i,s,a,o,r){this.scope=e,this.element=t,this.attrs=n,this.model=i,this.$transclude=s,this.bbLocalize=a,this.bbValidateDate=o,this.$compile=r,this.attrs.firstDayOfWeek?this.scope.$watch(`${this.attrs.firstDayOfWeek}`,(e=>{void 0!==e&&(this.weekStart=e,this.initialize())})):this.initialize()}initialize(){const e=this.bbLocalize.getLocale(this.scope);if(this.localeString=null,null==this.attrs.bbValidateDate){this.attrs.bbValidateDate="short";this.bbValidateDate[0].compile(this.element,this.attrs,void 0)(this.scope,this.element,this.attrs,this.model,this.$transclude)}if(!l.a.detect().desktop()&&window.Modernizr.inputtypes.date){if(this.setupNativeDatePicker(),this.attrs.$set("type","date"),this.element.removeAttr("placeholder"),this.attrs.bbTranslateAttrs){const e=this.scope.$eval(this.attrs.bbTranslateAttrs);e.placeholder&&(delete e.placeholder,this.attrs.bbTranslateAttrs=JSON.stringify(e))}}else{this.bbLocalize.loadBundle("components/directives/datepicker").then((()=>{if(null==this.attrs.placeholder&&this.attrs.$set("placeholder",this.bbLocalize.translateSync({locale:e,key:"components.directives.datepicker.dateFormatPlaceholder"})),this.model.$modelValue){const e=this.bbLocalize.formatDateSync(this.model.$modelValue,o.ILocaleDateFormat.Short,this.scope);this.element.val(e)}const t=this.bbLocalize.translateSync({locale:e,key:"components.directives.datepicker.ariaLabel.datepickerButton"});this.widgetButton=this.$compile(`<button class="open-datepicker super-clear js-datepicker-toggle-btn" aria-label="${t}" type="button"><bb-svg-icon size="small" icon="calendar"></bb-svg-icon></button>`)(this.scope),this.updateReadOnlyState(),this.widgetButton.on("focus",(()=>{const e=document.querySelector('[name="due-date"]');(null==e?void 0:e.hasAttribute("disabled"))&&(null==e?void 0:e.getAttribute("disabled"))&&this.widgetButton.blur()})),this.attrs.$observe("disabled",(e=>{this.updateReadOnlyState()})),this.attrs.$observe("readonly",(e=>{this.updateReadOnlyState()}))})),this.localeString=this.bbLocalize.preProcessFormatterLocale(e).replace(/_/g,"-"),3===this.localeString.split("-").length&&(this.localeString=this.localeString.split("-").filter(((e,t)=>t<2)).join("-")),["zh-TW","zh-CN","rs-latin","pt-BR","nl-BE"].indexOf(this.localeString)<0&&("en-SC"===this.localeString?this.localeString="ar":"ko-KR"===this.localeString?this.localeString="kr":"nb-NO"===this.localeString||"nn-NO"===this.localeString?this.localeString="no":this.localeString=this.localeString.substring(2,0)),this.attrs.$set("type","text");const t=this.bbLocalize.isRTL(this.scope);if(this.attrs.container){const e=s(this.attrs.container);e.length&&(this.container=e)}this.attrs.orientation&&(this.orientation=this.attrs.orientation);const i={todayHighlight:!0,beforeShowDay:e=>({content:this.bbLocalize.formatNumberSync(e.getDate(),this.scope)}),autoclose:!0,forceParse:!1,container:this.container,keyboardNavigation:!1,language:this.localeString,orientation:this.orientation,weekStart:this.weekStart,rtl:t,showOnFocus:!1,startDate:new Date("1900-01-01"),templates:{leftArrow:'<div class="icon-arrow-left"></div>',rightArrow:'<div class="icon-arrow-right"></div>'}};"en"===this.localeString?this.setupBootstrapDatePicker(i):(this.localeString="bootstrap-datepicker."+this.localeString,n.e(550).then((()=>{n("OfSV")("./"+this.localeString).then((()=>{this.setupBootstrapDatePicker(i)}))}).bind(null,n)).catch((()=>{}))),this.scope.$on("$destroy",(()=>{this.element.datepicker("destroy")}))}}setupNativeDatePicker(){this.scope.$watch((()=>this.model.$modelValue),(e=>{e&&(this.element.val(u(e).format("YYYY-MM-DD")),this.element.triggerHandler("change"),this.model.$render())}))}setupBootstrapDatePicker(e){this.element.datepicker(e).data("datepicker");this.scope.$watch((()=>this.model.$modelValue),(()=>{this.updateDatepicker()})),this.element.on("changeDate",(e=>{if(e.date){const t=this.bbLocalize.formatDateSync(e.date,o.ILocaleDateFormat.Short,this.scope);this.element.val(t),this.element.triggerHandler("change"),this.model.$render()}}));const t=this.element.data("datepicker");t.isInput=!1,this.element.unbind("keyup",t._events[0][1].keyup),this.element.on("show changeMonth changeYear",(e=>{this.datepickerDropdownElement=s(".datepicker-dropdown"),this.iconArrowLeft=this.datepickerDropdownElement.find(".icon-arrow-left"),this.iconArrowRight=this.datepickerDropdownElement.find(".icon-arrow-right"),this.openDatepickerButton=this.element.siblings("button.open-datepicker");const t=[];this.datepickerDropdownElement.find("td.day").not(".old").not(".new").each((function(){t.push(s(this))})),this.currentMonthDays=t,this.datepickerDropdownElement.on("keydown",(e=>{e.keyCode===d.g&&(this.openDatepickerButton.focus(),this.element.datepicker("hide"))})),this.iconArrowLeft.add(this.iconArrowRight).on("blur",(()=>{this.datepickerDropdownElement.find(".datepicker-switch").attr("aria-hidden","true")})),this.iconArrowLeft.off("keydown").on("keydown",(e=>{e.preventDefault(),e.keyCode!==d.g&&e.stopPropagation(),e.keyCode===d.t||e.keyCode===d.f?(this.datepickerDropdownElement.find(".datepicker-switch").attr("aria-hidden","false"),this.goToPreviousMonth()):e.keyCode===d.u&&(e.shiftKey?(this.openDatepickerButton.focus(),this.element.datepicker("hide")):this.focusElement(this.iconArrowRight))})),this.iconArrowRight.off("keydown").on("keydown",(e=>{e.preventDefault(),e.keyCode!==d.g&&e.stopPropagation(),e.keyCode===d.t||e.keyCode===d.f?(this.datepickerDropdownElement.find(".datepicker-switch").attr("aria-hidden","false"),this.goToNextMonth()):e.keyCode===d.u&&(e.shiftKey?this.focusElement(this.iconArrowLeft):this.focusDefaultDay())})),this.updateAriaRolesAndStates(this.getViewDate(),e.date),this.setUpKeyboardNavigation(),"show"===e.type&&(this.datepickerDropdownElement.find("tfoot").remove(),this.datepickerDropdownElement.find(".datepicker-switch").attr("aria-hidden","true"),this.datepickerDropdownElement.on("keyup",(e=>{e.stopPropagation()})),this.focusDefaultDay())}))}updateDatepicker(){const e=this.model.$modelValue,t=this.element.data("datepicker");if(a.isDate(e)&&t){const n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),i=t.getUTCDate();i&&i.getTime()===n.getTime()||(t.dates.replace([n]),t.viewDate=n,t.fill())}}updateReadOnlyState(){this.element.hasClass("show-calendar-icon")||!this.element.prop("disabled")&&!this.element.prop("readonly")?this.element.next()!==this.widgetButton&&(this.widgetButton.click((e=>{this.element.datepicker("show")})),this.element.after(this.widgetButton)):this.widgetButton.remove()}focusDefaultDay(){const e=i.find(this.currentMonthDays,(e=>e.hasClass("active"))),t=null!=e?e:this.currentMonthDays[0];this.focusElement(t)}focusPreviousDay(){const e=this.getActiveElementIndex();0===e?(this.goToPreviousMonth(),this.focusLastDayOfMonth()):this.focusElement(this.currentMonthDays[e-1])}focusNextDay(){const e=this.getActiveElementIndex();e<this.currentMonthDays.length-1?this.focusElement(this.currentMonthDays[e+1]):(this.goToNextMonth(),this.focusElement(this.currentMonthDays[0]))}focusSameWeekdayOfPreviousWeek(){const e=this.getActiveElementIndex();if(e-7>=0)this.focusElement(this.currentMonthDays[e-7]);else{const t=7-e;this.goToPreviousMonth(),this.focusElement(this.currentMonthDays[this.currentMonthDays.length-t])}}focusSameWeekdayOfNextWeek(){const e=this.getActiveElementIndex();if(e+7<this.currentMonthDays.length)this.focusElement(this.currentMonthDays[e+7]);else{const t=e+7-this.currentMonthDays.length;this.goToNextMonth(),this.focusElement(this.currentMonthDays[t])}}focusSameDayOfPreviousMonth(){this.focusSameDayOfAdjacentMonth(-1)}focusSameDayOfNextMonth(){this.focusSameDayOfAdjacentMonth(1)}focusSameDayOfAdjacentMonth(e){const t=this.getActiveElementIndex();e>0?this.goToNextMonth():this.goToPreviousMonth(),null!=this.currentMonthDays[t]?this.focusElement(this.currentMonthDays[t]):this.focusLastDayOfMonth()}focusSameDayOfPreviousYear(){this.focusSameDayOfAdjacentYear(-1)}focusSameDayOfNextYear(){this.focusSameDayOfAdjacentYear(1)}focusSameDayOfAdjacentYear(e){const t=this.getActiveElementIndex();e>0?this.goToNextYear():this.goToPreviousYear(),null!=this.currentMonthDays[t]?this.focusElement(this.currentMonthDays[t]):this.focusLastDayOfMonth()}focusFirstDayOfMonth(){this.focusElement(this.currentMonthDays[0])}focusLastDayOfMonth(){this.focusElement(this.currentMonthDays[this.currentMonthDays.length-1])}focusElement(e){e.attr("tabindex","-1").focus()}getViewDate(){return this.element.data("datepicker").viewDate}setViewDate(e){this.element.data("datepicker").viewDate=e}getActiveElementIndex(){return i.findIndex(this.currentMonthDays,(e=>e.attr("id")===s(document.activeElement).attr("id")))}goToPreviousMonth(){this.moveMonth(-1)}goToNextMonth(){this.moveMonth(1)}goToPreviousYear(){this.moveYear(-1)}goToNextYear(){this.moveYear(1)}moveMonth(e){const t=this.getViewDate();this.setViewDate(this.element.datepicker("moveMonth",t,e)),this.element.datepicker("fill"),this.element.trigger("changeMonth")}moveYear(e){const t=this.getViewDate();this.setViewDate(this.element.datepicker("moveYear",t,e)),this.element.datepicker("fill"),this.element.trigger("changeYear")}getAdjustedDate(e){const t=new Date(parseInt(e,10));return new Date(t.getTime()+60*t.getTimezoneOffset()*1e3)}updateAriaRolesAndStates(e,t){const n=this.bbLocalize.getLocale(this.scope),i=this.bbLocalize.translateSync({locale:n,key:"components.directives.datepicker.ariaLabel.container"});this.datepickerDropdownElement.attr("role","application").attr("aria-label",i),this.datepickerDropdownElement.find("table").attr("role","grid").attr("aria-label",i);const a=this.bbLocalize.translateSync({locale:n,key:"components.directives.datepicker.ariaLabel.previousMonthButton"});this.datepickerDropdownElement.find(".icon-arrow-left").attr("aria-label",a).attr("role","button");const o=this.bbLocalize.translateSync({locale:n,key:"components.directives.datepicker.ariaLabel.nextMonthButton"});this.datepickerDropdownElement.find(".icon-arrow-right").attr("aria-label",o).attr("role","button"),this.datepickerDropdownElement.find(".datepicker-switch").attr("aria-live","assertive").attr("aria-atomic","true"),this.datepickerDropdownElement.find("thead th").attr("role","gridcell"),this.datepickerDropdownElement.find("table").removeAttr("aria-activedescendant");const r=u(e),l=u(r).subtract({months:1}),c=u(r).add({months:1});this.datepickerDropdownElement.find("td").each(((e,t)=>{const n=s(t);n.attr("role","gridcell");const i=t.getAttribute("data-date");let a,o;o=n.hasClass("old")?l.toDate():n.hasClass("new")?c.toDate():r.toDate(),a=i?this.getAdjustedDate(i):new Date(o.getFullYear(),o.getMonth(),+n.text());const d=u(a);if(Number.isNaN(d.date()))return;n.attr("aria-label",this.bbLocalize.formatDateSync(d.toDate()));const m="datepicker-td-"+d.unix();n.attr("id",m),n.hasClass("active")&&(n.attr("aria-selected","true"),this.datepickerDropdownElement.find("table").attr("aria-activedescendant",m))}))}setUpKeyboardNavigation(){this.currentMonthDays.forEach((e=>{e.off("keydown").on("keydown",(e=>{switch(e.preventDefault(),e.keyCode!==d.f&&e.keyCode!==d.g&&e.stopPropagation(),m.a.enableFocusOutline(),e.keyCode){case d.j:this.bbLocalize.isRTL()?this.focusNextDay():this.focusPreviousDay();break;case d.s:this.bbLocalize.isRTL()?this.focusPreviousDay():this.focusNextDay();break;case d.v:this.focusSameWeekdayOfPreviousWeek();break;case d.d:this.focusSameWeekdayOfNextWeek();break;case d.q:e.ctrlKey||e.altKey?this.focusSameDayOfPreviousYear():this.focusSameDayOfPreviousMonth();break;case d.p:e.ctrlKey||e.altKey?this.focusSameDayOfNextYear():this.focusSameDayOfNextMonth();break;case d.i:this.focusFirstDayOfMonth();break;case d.e:this.focusLastDayOfMonth();break;case d.u:e.shiftKey?this.focusElement(this.iconArrowRight):(c.b(null,this.openDatepickerButton),this.element.datepicker("hide"));break;case d.f:case d.t:this.currentMonthDays[this.getActiveElementIndex()].click(),this.openDatepickerButton.focus()}}))}))}}h.$inject=["scope","element","attrs","model","$transclude",o.serviceName,r.a+"Directive","$compile"];class g{constructor(e){this.$injector=e,this.priority=1,this.restrict="A",this.require="ngModel",this.link=(e,t,n,i,s)=>{e.datepicker=this.$injector.instantiate(h,{scope:e,element:t,attrs:n,model:i,$transclude:s})}}}g.$inject=["$injector"],a.module(p,[o.moduleName,r.b]).directive("bbDatePicker",["$injector",e=>e.instantiate(g)])},i8dz:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));n("KCTV");var i=n("Llzl"),s=n("+4Px");const a="ultra.directives.bbFoundationDropdownClose",o="bbFoundationDropdownClose";class r{constructor(){this.restrict="A",this.link=(t,n,i)=>{const a="keyup."+o;n.on("click",(t=>{const i=e(t.target);if(i.closest("[data-dropdown]").length<=0&&(i.closest(".f-dropdown").length<=0||i.closest(".f-dropdown a").length>0)){const t=n.find(".f-open-dropdown");if(t.length&&t.foundation("dropdown","close",t),window.top!==window){const t=e(window.parent.document).find(".f-open-dropdown");t.foundation("dropdown","close",t)}}})),n.on("scroll",(t=>{const n=e(t.target);n.hasClass("f-dropdown")||0!==n.parents(".f-dropdown").length||e(".f-open-dropdown").each((function(){e(this).foundation("dropdown","close",e(this))}))})),e("body").on(a,(t=>{if(t.keyCode===s.u){const t=n.find(".f-open-dropdown"),i=e(document.activeElement).is(".f-open-dropdown"),s=e(document.activeElement).parents(".f-open-dropdown").length>0;i||s||t.foundation("dropdown","close",t)}})),t.$on("$destroy",(()=>{n.off(),e("body").off(a)}))}}}i.module(a,[]).directive(o,["$injector",e=>e.instantiate(r)])}).call(this,n("71td"))},iAaI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("Sa5G"),a=n("0JpG"),o=n("TnpK");const r="ultra.base.admin.theme.routes";i.module(r,[a.moduleName,o.b]).config([o.c,e=>{e.peekState("colorSelection",{systemEntitlement:s.s.ViewAdmin,url:"/theme/:themeId/colorSelection",require:()=>n.e(613).then(n.bind(null,"xCEN")),pageTitle:"base.admin.theme.colorSelection.title",panelClass:"full"})}])},iVgd:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var i=n("Llzl"),s=n("+4Px");const a="ultra.directives.accessibility.keyboardClick";class o{constructor(){this.restrict="A",this.link=(t,n,i)=>{n.on("keyup",(t=>{const n=e(t.target),i=n.closest(".react-container").length>0,a="LI"===n.prop("tagName")&&"option"===n.attr("role")&&"listbox"===n.closest("UL").attr("role");(t.keyCode!==s.f||i||"file"===n.attr("type")||"INPUT"===n.prop("tagName")&&("INPUT"!==n.prop("tagName")||"checkbox"!==n.prop("type"))||"BUTTON"===n.prop("tagName")||"BODY"===n.prop("tagName")||"A"===n.prop("tagName")&&n.attr("href")||a)&&(t.keyCode!==s.t||i||"A"!==n.prop("tagName")&&("DIV"!==n.prop("tagName")||"button"!==n.attr("role")))||n.trigger("click")}))}}}i.module(a,[]).directive("bbKeyboardClick",["$injector",e=>e.instantiate(o)])}).call(this,n("71td"))},iViV:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var i=n("Llzl"),s=n("nsO7"),a=n("o5Lu"),o=n("3l3z"),r=n("LN5R"),l=n("TmUJ"),c=n("qH3X"),d=n("+4Px"),u=n("lEL+"),m=n("dF44"),p=n("lEWr");const h="ultra.components.directives.gradeGridCellEditorReborn";class g{constructor(e,t,n,i,s,a,o,r){this.$compile=e,this.window=t,this.scope=n,this.element=i,this.attrs=s,this.gradeGridRebornController=a,this.gradeService=o,this.timeout=r,this.initialize(),n.$on(c.a.REFRESH_CELL_EDITOR,(()=>{this.initialize(),this.scope.gradeGridColumnReborn.getIsOtherGroupMemberGraded()})),n.$on("$destroy",(()=>{this.removeErrorMessage()}))}initialize(){this.score=this.scope.gradeGridColumnReborn.score,this.element.find("input").focus(),this.element.addClass("purple-outline"),this.timeout((()=>{this.element.find("input").select()}),this.scope,0,!1),this.userName=this.scope.gradeGridColumnReborn.userName,this.checkValue(this.score).then((e=>{this.isValidated=e}))}removeErrorMessage(){this.element.removeClass("validation-alert"),s.isUndefined(this.messageElement)||(this.messageElement.remove(),this.messageElement=void 0),s.isUndefined(this.messageScope)||(this.messageScope.$destroy(),this.messageScope=void 0)}createErrorMessage(){if(this.messageElement&&this.removeErrorMessage(),s.isUndefined(this.messageElement)){this.element.addClass("validation-alert");const e=this.element.parent(".grade-grid-cell").offset();e.top+=80,this.messageScope=this.scope.$new(!1,this.scope),this.messageScope.adjustPosition=t=>{const n=e.left+t.width(),i=e.top+t.height(),s=this.gradeGridRebornController.getGradeGridContainerElementRight();i>this.gradeGridRebornController.getGradeGridContainerElementBottom()&&(e.top-=t.height()+80),n>s&&(e.left-=n-s+Object(l.a)()),this.messageElement.offset(e)},this.$compile(g.CELL_MESSAGE_TEMPLATE)(this.messageScope,(e=>{this.messageElement=e,this.element.parents("bb-grade-grid-reborn").append(this.messageElement)}))}}get isValidated(){return this._isValidated}set isValidated(e){this._isValidated=e,this.isValidated?this.removeErrorMessage():this.createErrorMessage(),this.scope.gradeGridColumnReborn.isReadyToPost=this.score&&this.isValidated}stopPropagation(e){e.preventDefault(),e.stopPropagation()}mousedown(){e(this.window).trigger("click")}onChange(){this.checkValue(this.score).then((e=>{this.isValidated=e}))}onInputBlur(e){this.scope.gradeGridColumnReborn.isPastDueZero&&""===this.score&&(this.score=this.scope.gradeGridColumnReborn.score),this.scope.gradeGridColumnReborn.onInputBlur(e,this.isValidated,this.score)}checkValue(e){const t=this.gradeGridRebornController.getGridData().getSchema()[this.scope.col.data.gradingSchemaId],n=this.gradeService.createGradeSubmission(this.scope.col.data,e,t);return this.gradeService.validateGrade(n,this.scope)}onKeydown(t){d.y(t)?(this.scope.gradeGridColumnReborn.gotoNextCell(),e(t.target).blur(),this.mousedown(),t.preventDefault(),t.stopPropagation()):t.keyCode===d.g?(e(t.target).blur(),this.mousedown(),this.scope.$emit(m.b.LEAVE_CELL)):d.x(t)&&(!this.score||t.keyCode!==d.j&&t.keyCode!==d.s?this.mousedown():t.stopPropagation())}}g.$inject=["$compile","$window","scope","element","attrs","gradeGridRebornController",a.n,u.b],g.CELL_MESSAGE_TEMPLATE='<div bb-grade-grid-message-reborn class="grade-grid-reborn-message" ng-mousedown="gradeGridMessageReborn.mousedown()"></div>';class b{constructor(e){this.$injector=e,this.restrict="A",this.template=p,this.require=`^${r.a}`,this.link=(e,t,n,i)=>{e.gradeGridCellEditorReborn=this.$injector.instantiate(g,{scope:e,element:t,attrs:n,gradeGridRebornController:i})}}}b.$inject=["$injector"],i.module(h,[o.a]).directive("bbGradeGridCellEditorReborn",["$injector",e=>e.instantiate(b)])}).call(this,n("71td"))},imME:function(e,t,n){},"iwI+":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("Llzl"),s=n("0JpG"),a=n("w9Zy"),o=n("TnpK"),r=n("0wat");const l="ultra.base.tools.routes";i.module(l,[o.b]).config([o.c,e=>{e.state("base.tools.legacy",{url:"/:toolName",resolve:{translations:[s.serviceName,e=>e.loadBundle("features/base/tools/base-tools")],offCanvasArgs:[o.d,e=>({panelClass:"full",template:r,close:()=>{e.goCurrentBasePage()},stateName:"base.tools.legacy"})]},require:()=>Promise.resolve().then(n.bind(null,"yA26")),onExit:[a.e,e=>{e.close("base.tools.legacy")}],pageTitle:"base.tools.pageTitle"})}])},j2IR:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("Llzl"),s=n("0JpG"),a=n("w9Zy"),o=n("go4a"),r=n("pjml"),l=n("TnpK"),c=n("Qbdf"),d=n("fYJU"),u=n("tQ/B"),m=n("nmzr");const p="ultra.telemetry.routes";function h(e,t,n,i){const s=e.defer(),a=t.courseId;return a?n.$new(a).users.$find(i.userId).$then((e=>{s.resolve(o.a(e))})):s.resolve(null),s.promise}i.module(p,[s.moduleName,a.d,r.N,l.b,c.b,u.b]).config([l.c,c.c,u.c,(e,t,i)=>{e.peekState("telemetry-settings",{url:"/telemetry-settings",require:()=>n.e(617).then(n.bind(null,"W9KP")),resolve:{currentCourseColor:["$q","$stateParams",r.m.serviceName,d.b,(e,t,n,i)=>h(e,t,n,i)]},pageTitleHandler:i.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler"}),pageTitle:"components.directives.telemetry.courseActivityAlertSettings"}).peekState(m.L.INSTRUCTOR_CLASS,{url:"/{coursesOrOrganizations:(?:courses|organizations)}/:courseId/telemetry/activityVsGrade?notificationId",require:()=>Promise.all([n.e(24),n.e(34),n.e(32),n.e(38),n.e(41),n.e(51),n.e(132),n.e(676)]).then(n.bind(null,"7FjY")),panelClass:"full",resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("components/directives/telemetry/telemetry"),t.loadBundle("components/services/telemetry-chart")])],[c.d]:t.resolve,isOrganization:[c.d,l.d,(e,t)=>(t.nextParams.coursesOrOrganizations=e.isOrganization?"organizations":"courses",e.isOrganization)]},peekStates:[m.o.COURSE_MESSAGE,"event-create","telemetry-settings",m.L.INSTRUCTOR_DETAILS,m.o.COURSE_GRADES_VIEW_INDIVIDUAL_GRADES],peekViewName:"telemetry-instructor-class-base@",pageTitleHandler:i.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler",resolveOrgCourseKey:!0}),pageTitle:"components.directives.telemetry.courseActivityHeaderTitle.course"}).peekState(m.L.INSTRUCTOR_DETAILS,{url:"/telemetry/timeSeries/:courseId?userId",require:()=>Promise.all([n.e(24),n.e(34),n.e(32),n.e(38),n.e(569)]).then(n.bind(null,"AxRA")),panelClass:"full",resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("components/directives/telemetry/telemetry"),t.loadBundle("components/services/telemetry-chart")])],[c.d]:t.resolve},peekStates:[m.o.COURSE_MESSAGE,"event-create","telemetry-settings"],peekViewName:"telemetry-instructor-details-base@",pageTitleHandler:i.config({listenOn:"update-course-name",provides:"CoursePageTitleHandler",resolveOrgCourseKey:!0}),pageTitle:"components.directives.telemetry.panel.titleStudentDetail.course"}).peekState(m.L.STUDENT_HIGH_PERFORMANCE,{url:"/telemetry/student/high-performance/:courseId",require:()=>Promise.all([n.e(24),n.e(34),n.e(32),n.e(38),n.e(41),n.e(51),n.e(591)]).then(n.bind(null,"5a0X")),panelClass:"peek",resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("components/directives/telemetry/telemetry"),t.loadBundle("components/services/telemetry-chart")])],[c.d]:t.resolve,currentCourseColor:["$q","$stateParams",r.m.serviceName,d.b,(e,t,n,i)=>h(e,t,n,i)]},pageTitle:"components.directives.telemetry.panel.titleStudent"}).peekState(m.L.STUDENT_LOW_ACTIVITY,{url:"/telemetry/student/low-performance/activity/:courseId",require:()=>Promise.all([n.e(24),n.e(34),n.e(32),n.e(38),n.e(41),n.e(51),n.e(594)]).then(n.bind(null,"ADyW")),panelClass:"peek",resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("components/directives/telemetry/telemetry"),t.loadBundle("components/services/telemetry-chart")])],[c.d]:t.resolve,currentCourseColor:["$q","$stateParams",r.m.serviceName,d.b,(e,t,n,i)=>h(e,t,n,i)]},pageTitle:"components.directives.telemetry.panel.titleStudent"}).peekState(m.L.STUDENT_LOW_GRADES,{url:"/telemetry/student/low-performance/grades/:courseId",require:()=>Promise.all([n.e(24),n.e(34),n.e(32),n.e(38),n.e(41),n.e(51),n.e(595)]).then(n.bind(null,"vOTS")),panelClass:"peek",resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("components/directives/telemetry/telemetry"),t.loadBundle("components/services/telemetry-chart")])],[c.d]:t.resolve,currentCourseColor:["$q","$stateParams",r.m.serviceName,d.b,(e,t,n,i)=>h(e,t,n,i)]},pageTitle:"components.directives.telemetry.panel.titleStudent"}).peekState(m.L.STUDENT_PROGRESS,{url:"/telemetry/student/progress/:courseId",require:()=>Promise.all([n.e(24),n.e(34),n.e(32),n.e(38),n.e(574)]).then(n.bind(null,"09dT")),panelClass:"peek",resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("components/directives/telemetry/telemetry"),t.loadBundle("components/services/telemetry-chart")])],[c.d]:t.resolve,currentCourseColor:["$q","$stateParams",r.m.serviceName,d.b,(e,t,n,i)=>h(e,t,n,i)]},pageTitle:"components.directives.telemetry.panel.titleStudent"}).peekState(m.L.STUDENT_FIND_A_STUDY_PARTNER,{url:"/telemetry/student/request-study-help/:courseId",require:()=>n.e(606).then(n.bind(null,"cU3T")),panelClass:"peek",resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("components/directives/telemetry/telemetry")])],[c.d]:t.resolve,currentCourseColor:["$q","$stateParams",r.m.serviceName,d.b,(e,t,n,i)=>h(e,t,n,i)]},pageTitle:"components.directives.telemetry.panel.titleStudent"}).peekState(m.L.CONTENT_ACTIVITY_IN_DETAIL,{url:"/telemetry/instructor/activity-in-detail/:contentId",require:()=>Promise.all([n.e(24),n.e(38),n.e(558)]).then(n.bind(null,"AeD7")),panelClass:"full",resolve:{translations:[s.serviceName,e=>e.loadBundle("components/directives/telemetry/telemetry")],currentContent:["$stateParams",c.d,(e,t)=>{const n=e.contentId;return t.contents.$find(n).$asPromise()}]},pageTitle:"components.directives.telemetry.panel.titleStudentActivityDetails",peekStates:[m.o.COURSE_MESSAGE,"event-create",m.L.INSTRUCTOR_DETAILS],peekViewName:"telemetry-content-activity-in-detail-base@"}).peekState(m.L.DISCUSSION_FORUM_INSIGHTS,{url:"/telemetry/instructor/discussion-insights/:contentId/:forumContentId",require:()=>n.e(158).then(n.bind(null,"zl9+")),panelClass:"full",params:{groupId:null},resolve:{translations:[s.serviceName,e=>e.loadBundle("components/directives/discussion")],currentContent:["$stateParams",c.d,(e,t)=>{const n=e.contentId;return t.contents.$find(n).$asPromise()}]},pageTitle:"components.directives.discussion.insights.pageTitle",peekStates:["content-manage","submission-list",m.o.COURSE_MESSAGE],peekViewName:"telemetry-discussion-forum-insights-base@"})}])},j3m2:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-chat",use:"icon-small-chat-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-chat"><path d="M15 8c0 3.866-3.134 7-7 7a6.983 6.983 0 01-2.528-.4704L1 15l.5-4.3969C1.1775 9.7984 1 8.9199 1 8c0-3.866 3.134-7 7-7s7 3.134 7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},jMVO:function(e,t,n){},jSqS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("0JpG"),a=n("1ZbL"),o=n("ZQFV");const r="ultra.components.directives.grade.filterChips",l={Class:o.e,renderLocalized:!0,withProvider:!0,attributes:["analyticsId"]};i.module(r,[s.moduleName]).component("bbFilterChips",Object(a.a)(l))},jT78:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("TE6g");const a="ultra.components.directives.bbUiIcon.large.Zip";Object(i.a)(s.a,a,"bbUiIconLargeZip")},jciN:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var i=n("D57K"),s=(n("SSV0"),n("Llzl")),a=n("PdQf"),o=n("g66W"),r=n("5MwF"),l=n("0JpG"),c=n("NMEb"),d=n("4J8k"),u=n("aHpC"),m=n("9Ss5"),p=n("VdDF");const h="ultra.directives.avatar";class g{constructor(e,t,n,i,s){this.scope=e,this.$element=t,this.attributes=n,this.bbLocalize=i,this.$timeout=s,this.backgroundColors=12;const a=this.scope.$watchGroup(["user.givenName","user.familyName","user.ui.displayName","user.avatar.permanentUrl","user","inactive()","isWarningRender"],(()=>{void 0!==this.scope.user&&(this.renderAvatars(),this.scope.autoUpdate&&this.scope.autoUpdate()||a())})),o=this.scope.$watchCollection("users",(()=>{this.scope.users&&(this.renderAvatars(),this.scope.autoUpdate&&this.scope.autoUpdate()||o())}))}getAvatarBG(e){return"default-avatar-"+(parseInt((e&&e.id||"0").replace(/[^\d]/g,""),10)%this.backgroundColors+1)}avatarParticipantsClass(e){switch(e){case 0:return"no-participants";case 1:return"one-participant";case 2:return"two-participants";default:return"two-plus-participants"}}canDisplayAvatarForUser(e){return!!e&&(!!(e.givenName||e.familyName||this.isAnonymousStudent(e))||!(!e.avatar||!e.avatar.permanentUrl||"default"===e.avatar.permanentUrl))}getInitials(e){return!e||this.isAnonymousStudent(e)||!e.givenName||!e.familyName||Object(o.g)(e.givenName)||Object(o.g)(e.familyName)||Object(o.h)(e.givenName)||Object(o.h)(e.familyName)?null:(e.givenName.charAt(0)+e.familyName.charAt(0)).toLowerCase()}buildAvatarData(e){const t={};if(!this.canDisplayAvatarForUser(e))return null;if(t.avatarBg=this.getAvatarBG(e),t.userInitials=this.getInitials(e),e.ui&&e.ui.displayName?t.username=e.ui.displayName:e.givenName||e.familyName||this.isAnonymousStudent(e)?this.bbLocalize.formatUsername(e,l.ILocaleUsernameFormat.Long,this.scope,{noWrap:!0,noEscape:!0}).then((e=>{t.username=e})):t.username=null,e.avatar&&e.avatar.permanentUrl&&"default"!==e.avatar.permanentUrl){if(/^https?/.test(e.avatar.permanentUrl)&&-1===e.avatar.permanentUrl.indexOf("ts=")){const t=(p.a.isValidDate(e.lastModifiedAt)?e.lastModifiedAt:new Date).getTime();e.avatar.permanentUrl=e.avatar.permanentUrl+(e.avatar.permanentUrl.indexOf("?")>=0?"&ts=":"?ts=")+encodeURIComponent(t)}t.avatarUrl=e.avatar.permanentUrl}return t.isMultiUser=Object(a.k)(e),t}isAnonymousStudent(e){if(e.isAnonymousStudent)return e.isAnonymousStudent()}renderAvatars(){let e=this.scope.users;if(!e&&this.scope.user&&(e=this.scope.user),s.isArray(e)||(e=null!=e?[e]:[]),0===e.length)return this.scope.first=null,this.scope.second=null,this.scope.participants=0,void(this.scope.isAvatarRender=!0);this.scope.participants=e.length,this.scope.avatarsClasses={},s.isDefined(this.scope.inactive)&&(this.scope.avatarsClasses.inactive=this.scope.inactive()),this.scope.avatarsClasses.inactive||(this.scope.avatarsClasses.outline=!0),!this.scope.avatarsClasses.inactive&&s.isDefined(this.scope.customizedActiveStyle)&&(this.scope.avatarsClasses.outline=!0,this.scope.avatarsClasses[this.scope.customizedActiveStyle]=!0),this.scope.avatarsClasses[this.avatarParticipantsClass(e.length)]=!0,this.scope.first=this.buildAvatarData(e[0]),2===e.length?this.scope.second=this.buildAvatarData(e[1]):e.length>2&&(this.scope.second={}),this.scope.isAvatarRender=!0}}let b=class{constructor(e,t){this.bbLocalize=e,this.$timeout=t,this.restrict="E",this.template=m,this.scope={user:"=?",inactive:"&?",users:"=?",autoUpdate:"&?",isGray:"&?",hasException:"&?",customizedActiveStyle:"@?",analyticsIdTagPrefix:"@",isWarningRender:"=?"},this.link=(e,t,n)=>new g(e,t,n,this.bbLocalize,this.$timeout)}};b=Object(i.a)([Object(i.c)(0,Object(u.b)(l.serviceName)),Object(i.c)(1,Object(u.b)("$timeout"))],b),r.a.features.newAvatar?s.module(h,[d.a]).directive("bbAvatar",["$compile",t=>({restrict:"E",scope:!1,priority:Number.MAX_VALUE,terminal:!0,link(n,i,s){const a=Object.prototype.hasOwnProperty.call(s,"users")?"bb-user-avatar-group":"bb-user-avatar",o=e(i[0].outerHTML.replace(/bb\-avatar/g,a));i.replaceWith(o),t(o)(n)}})]):s.module(h,[c.a,d.a]).directive("bbAvatar",["$injector",e=>e.instantiate(b)])}).call(this,n("71td"))},jhBu:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var i=n("Llzl"),s=n("5MwF"),a=n("x+T+"),o=n("Qbdf"),r=n("VAMW"),l=n("6fZB"),c=n("/5AG");const d="ultra.service.entitlement",u="entitlement";class m{constructor(e){this.service=e,this.key=r.d.Entitlement}hasSystemEntitlement(e){return Object(l.a)(this.service.hasSystemEntitlement(e))}}class p{constructor(e,t){this.entitlementCache=e,this.currentCourse=t,this.isUserEntitledToRetrieveCourseProgressConfiguration=e=>this.isEntitled(c.s.ViewConfiguration)||e,Object(r.f)(new m(this))}isEntitled(e,t=this.currentCourse.courseId){if(!t)return s.a.production||console.error(new Error("There is no course in context. Check the configuration.")),!1;if(!s.a.production&&!this.entitlementCache.hasCachedCourseEntitlements(t))throw new Error(`Cached entitlements should exist for course with ID, ${t}, but none were found.\n        Make sure the entitlement resolver is configured for this route,\n        or use async hasCourseEntitlement methods that guarantee the cache initializes.`);return this.entitlementCache.hasCachedCourseEntitlements(t)&&this.entitlementCache.getCachedCourseEntitlements(t).has(e.toString())}areAllEntitled(e,t=this.currentCourse.courseId){return e.every((e=>this.isEntitled(e,t)))}areAnyEntitled(e,t=this.currentCourse.courseId){return e.some((e=>this.isEntitled(e,t)))}hasCourseEntitlement(e,t=this.currentCourse.courseId){return this.entitlementCache.loadCourseEntitlements(t).then((()=>this.isEntitled(e,t)))}hasAllCourseEntitlements(e,t=this.currentCourse.courseId){return this.entitlementCache.loadCourseEntitlements(t).then((()=>this.areAllEntitled(e,t)))}hasAnyCourseEntitlement(e,t=this.currentCourse.courseId){return this.entitlementCache.loadCourseEntitlements(t).then((()=>this.areAnyEntitled(e,t)))}hasSystemEntitlement(e){return this.entitlementCache.loadCourseEntitlements(a.a).then((()=>this.isEntitled(e,a.a)))}hasAnySystemEntitlements(e){return this.entitlementCache.loadCourseEntitlements(a.a).then((()=>this.areAnyEntitled(e,a.a)))}}p.$inject=[a.c,o.e];i.module(d,[a.b,o.b]).service(u,p)},jj6p:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("JzsJ");var i=n("71td"),s=n("Llzl"),a=n("5MwF"),o=n("Sa5G"),r=n("0JpG"),l=n("wQOJ"),c=n("pjml"),d=n("MOka"),u=n("TnpK"),m=n("Q/M7"),p=n("nmzr");const h="ultra.base.routes";s.module(h,[r.moduleName,c.N]).config([u.c,e=>{e.baseState("base.calendar",{url:"^/calendar",resolve:{translations:[r.serviceName,e=>e.loadBundle("features/base/calendar/base-calendar")],"?courseMembershipsLoader":s.noop},peekStates:[p.H.Calendar.CALENDAR_SETTINGS,p.H.Calendar.CREATE_EVENT,p.H.Calendar.EDIT_EVENT,p.H.Calendar.VIEW_EVENT,p.H.Calendar.COURSE_SCHEDULE,p.H.Calendar.OFFICE_HOURS,"content-manage","assignment","assessment","course",p.H.Lti.LTI,"scorm-launch-frame","scorm-settings","gradebook-item.scorm-submissions","scorm-overview"],require:()=>Promise.all([n.e(85),n.e(22),n.e(39),n.e(71),n.e(152)]).then(n.bind(null,"q2ny")),pageTitle:"base.nav.calendar"}).baseState("base.deadline",{url:"^/deadline",resolve:{translations:[r.serviceName,e=>e.loadBundle("features/base/calendar/base-calendar")],"?courseMembershipsLoader":s.noop},peekStates:[p.H.Calendar.CALENDAR_SETTINGS,p.H.Calendar.CREATE_EVENT,p.H.Calendar.EDIT_EVENT,p.H.Calendar.VIEW_EVENT,p.H.Calendar.COURSE_SCHEDULE,p.H.Calendar.OFFICE_HOURS,p.H.Lti.LTI,p.H.Lti.LTI_LAUNCH_PEEK,"content-manage","assignment","course","assessment","scorm-overview"],require:()=>Promise.all([n.e(85),n.e(22),n.e(39),n.e(71),n.e(152)]).then(n.bind(null,"q2ny")),pageTitle:"base.nav.calendar"}).baseState("base.courses",{url:"^/course?enrollmentMessage",resolve:{translations:[r.serviceName,e=>e.loadBundle("features/base/courses/base-courses")]},peekStates:["course","external",p.H.Calendar.COURSE_SCHEDULE,p.H.Course.EDIT_BANNER],peekViewName:"courses-base",require:()=>Promise.all([n.e(17),n.e(47),n.e(77),n.e(46),n.e(127)]).then(n.bind(null,"EQ9X")),pageTitle:"base.nav.courses"}).baseState("base.grades",{url:"^/grades",resolve:{translations:[r.serviceName,e=>e.loadBundle("features/base/grades/base-grades")],"?courseMembershipsLoader":[s.noop]},require:()=>Promise.all([n.e(17),n.e(22),n.e(559)]).then(n.bind(null,"Bfy5")),peekStates:["assessment","assignment",p.H.Grade.GRADE_AND_FEEDBACK,"gradebook-item","telemetry","course","discussion",p.H.Lti.LTI,"scorm-settings","gradebook-item.scorm-submissions","scorm-launch-frame","scorm-overview",p.H.Journal.JOURNAL,p.H.Telemetry.INSTRUCTOR_CLASS,p.H.Telemetry.INSTRUCTOR_DETAILS,p.H.Telemetry.STUDENT_PROGRESS,"overall-grade-student","attendance","attendance-student-view"],pageTitle:"base.nav.grades"}).baseState("base.messages",{url:"^/messages",resolve:{translations:[r.serviceName,e=>e.loadBundle("features/base/messages/base-messages")]},require:()=>Promise.all([n.e(17),n.e(8),n.e(134),n.e(571)]).then(n.bind(null,"ZQ8w")),peekStates:["create-message","edit-message",p.H.Course.COURSE_MESSAGE,"course"],pageTitle:"base.nav.messages"}).baseState("base.organizations",{url:"^/organization?enrollmentMessage",resolve:{translations:[r.serviceName,e=>e.loadBundle("features/base/courses/base-courses")]},peekStates:["course","external",p.H.Calendar.COURSE_SCHEDULE,p.H.Course.EDIT_BANNER],peekViewName:"courses-base",require:()=>Promise.all([n.e(17),n.e(47),n.e(77),n.e(46),n.e(127)]).then(n.bind(null,"EQ9X")),pageTitle:"base.nav.organizations"}).baseState(p.H.Profile.PROFILE_BASE,{url:"^/profile",resolve:{userConfiguration:[c.Jb.serviceName,e=>e.getUserConfiguration()],translations:[r.serviceName,e=>e.loadBundle("features/base/profile/base-profile")],isMobileDistributorActive:["$q",c.Q.serviceName,(e,t)=>t.$build().courseSettings.$new(o.q.Mobile).$fetch().$allow([400]).$then((e=>!!e.settings))],memberships:[d.b,e=>e.reloadStreamMemberships()]},require:()=>Promise.all([n.e(27),n.e(53),n.e(82),n.e(140),n.e(578)]).then(n.bind(null,"cFSu")),peekStates:["notification-settings",p.H.Profile.UPDATE_AVATAR_PEEK,p.H.Profile.UPDATE_PROFILE_PEEK,p.H.Profile.UPDATE_LANGUAGE_PEEK,p.H.Profile.UPDATE_PASSWORD_PEEK,"privacy"],pageTitle:"base.nav.profile",onEnter:["$location",e=>{e.search("noCache",null)}]}).baseState("base.recentActivity",{resolve:{translations:[r.serviceName,e=>e.loadBundle("features/base/stream/base-stream")],memberships:[d.b,e=>e.reloadStreamMemberships()],"?courseMembershipsLoader":s.noop},peekStates:["announcement",p.H.Announcement.ANNOUNCEMENT_DETAIL,"assignment","assessment","content-manage","content-group","course","discussions",p.H.Calendar.EDIT_EVENT,p.H.Calendar.VIEW_EVENT,"gradebook-item","stream-message","telemetry",p.H.Lti.LTI,"content-group-enroll","notification-create","notification-settings","scorm-overview","scorm-launch-frame","scorm",p.H.Telemetry.INSTRUCTOR_CLASS,p.H.Telemetry.INSTRUCTOR_DETAILS,p.H.Telemetry.STUDENT_HIGH_PERFORMANCE,p.H.Telemetry.STUDENT_LOW_ACTIVITY,p.H.Telemetry.STUDENT_LOW_GRADES,p.H.Telemetry.STUDENT_PROGRESS,p.H.Telemetry.STUDENT_FIND_A_STUDY_PARTNER],peekViewName:"base-recentActivity-base",url:"^/stream",require:()=>Promise.all([n.e(26),n.e(31),n.e(568)]).then(n.bind(null,"UFXJ")),pageTitle:"base.nav.recentActivity"}).baseState("base.tools",{url:"^/tools",resolve:{translations:[r.serviceName,e=>e.loadBundle("features/base/tools/base-tools")]},peekStates:[p.H.Lti.LTI],require:()=>n.e(579).then(n.bind(null,"2yHp")),pageTitle:"base.nav.tools"}).baseState("base.admin",{resolve:{translations:[r.serviceName,e=>e.loadBundle("features/base/admin/base-admin")]},systemEntitlement:o.s.ViewAdmin,onEnter:()=>{i("body").addClass("base-admin-open")},onExit:()=>{i("body").removeClass("base-admin-open")},url:"^/admin",require:()=>n.e(627).then(n.bind(null,"9D0M")),peekStates:["course","localization","brands","notification-admin",p.H.Admin.ULTRA_SETTINGS_PEEK,p.H.Admin.ULTRA_EDIT_APPROVED_PRONOUNS_PEEK],pageTitle:"base.nav.admin"}).peekState("localization",{url:"/localization?launchUrl",require:()=>n.e(656).then(n.bind(null,"Arco")),pageTitle:"base.nav.localization",panelClass:"full",resolve:{translations:[r.serviceName,e=>e.loadBundle("features/base/admin/localization")],enterCheck:[u.d,"$stateParams",(e,t)=>{if(!t.launchUrl)return e.goToRoute("base.admin")}]}}).peekState(p.H.Admin.ULTRA_SETTINGS_PEEK,{url:"/ultra-settings",require:()=>Promise.all([n.e(0),n.e(21),n.e(49),n.e(23),n.e(50),n.e(740)]).then(n.bind(null,"jjx5")),pageTitle:"base.nav.ultra-settings-admin",panelClass:"full"}).peekState("notification-admin",{url:"/notification",require:()=>n.e(739).then(n.bind(null,"Vf+W")),pageTitle:"base.nav.notification-admin",panelClass:"full"}).peekState(p.H.Admin.ULTRA_EDIT_APPROVED_PRONOUNS_PEEK,{url:"/edit-pronouns",require:()=>Promise.all([n.e(0),n.e(21),n.e(49),n.e(23),n.e(50),n.e(738)]).then(n.bind(null,"5l+L")),pageTitle:"base.nav.edit-pronouns-admin",panelClass:"peek"}).baseState("base.redirect",{url:"^/redirect?userId&contentId&courseId&eventType&sourceType&sourceId&redirectType&legacyUrl&parentId&screen",require:()=>n.e(756).then(n.bind(null,"kds7"))}).baseState("base.institution-page",{url:"^/institution-page",require:()=>Promise.all([n.e(0),n.e(21),n.e(23),n.e(159)]).then(n.bind(null,"dRT/")),peekStates:["allLinks",p.H.Lti.LTI],pageTitle:"base.nav.institutionPage",resolve:{ipVariantId:[l.b,u.d,(e,t)=>e.getEffectiveVariantIdWithPermissions().then((({variantId:e,canView:n})=>{if(n)return e;t.goToRoute("base.recentActivity")}),(()=>t.goToRoute("base.recentActivity")))]}}).baseState("base.institution-page-admin",{url:"^/institution-page/admin/:variantId",require:()=>Promise.all([n.e(0),n.e(21),n.e(23),n.e(159)]).then(n.bind(null,"dRT/")),peekStates:["allLinks","editModule","editPageImage","createModule",p.H.Lti.LTI,"brand-detail"],pageTitle:"base.nav.institutionPage",params:{variantId:"default"},resolve:{ipVariantId:[l.b,u.d,"$stateParams",(e,t,n)=>e.getUserCanEdit("default").then((e=>(e||t.goToRoute("base.recentActivity"),n.variantId)),(()=>t.goToRoute("base.recentActivity")))],testResolver:["ipVariantId",e=>e]}}).state("institution",{onEnter:()=>{window.location.href=m.c("/institution")}}).baseState("base.course-catalog",{url:"^/catalog",require:()=>n.e(148).then(n.bind(null,"Kz46")),pageTitle:"base.nav.catalog",peekStates:["course"],resolve:{translations:[r.serviceName,e=>e.loadBundle("features/course/course-catalog")]}}).baseState("base.organization-catalog",{url:"^/organization-catalog",require:()=>n.e(148).then(n.bind(null,"Kz46")),pageTitle:"base.nav.orgCatalog",peekStates:["course"],resolve:{translations:[r.serviceName,e=>e.loadBundle("features/course/course-catalog")]}}).baseState(p.H.Integration.INTEGRATION_BASE,{url:"^/integration/:routeName?params",require:()=>n.e(732).then(n.bind(null,"xYk/"))}),a.a.features.componentDemos&&e.baseState("base.demo",{url:"^/demo",require:()=>Promise.all([n.e(27),n.e(81),n.e(556)]).then(n.bind(null,"KTgJ")),peekStates:["demoComponent"],pageTitle:"base.nav.demo"})}])},jlIo:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-code",use:"icon-small-code-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-code"><path d="M4 3L1 8l3 5M12 3l3 5-3 5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},jnoB:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("Llzl"),s=n("Sa5G"),a=n("Qbdf"),o=n("0JpG"),r=n("TnpK"),l=n("nmzr");const c="ultra.course.groups.router";i.module(c,[a.b,o.moduleName,r.b]).config([a.c,r.c,(e,t)=>{t.peekState("group-set-list",{url:"/group-set-list",courseEntitlement:s.o.ViewGroupsAsAdmin,require:()=>n.e(754).then(n.bind(null,"Mkxh")),pageTitle:"course.outline.groupWorkspace.title",peekStates:["group-set-detail",l.y.IMPORT_GROUP_SET,l.y.EXPORT_GROUP_SET,l.y.GROUP_MEMBERS_LIST],panelClass:"full"}).peekState(l.y.IMPORT_GROUP_SET,{url:"/import-group-set",courseEntitlement:s.o.ViewGroupsAsAdmin,require:()=>n.e(717).then(n.bind(null,"J9mj")),pageTitle:"course.content.courseGroup.importGroupSetTitle",panelClass:"peek"}).peekState(l.y.IMPORT_GROUP_MEMBERS,{url:"/import-groups-members",courseEntitlement:s.o.ViewGroupsAsAdmin,require:()=>n.e(716).then(n.bind(null,"MNjM")),pageTitle:"course.content.courseGroup.importGroups",panelClass:"peek"}).peekState(l.y.EXPORT_GROUP_SET,{url:"/export-group-set?groupSetId",courseEntitlement:s.o.ViewGroupsAsAdmin,require:()=>n.e(715).then(n.bind(null,"1YGW")),pageTitle:"course.content.courseGroup.exportGroupSetTitle",panelClass:"peek"}).peekState(l.y.GROUP_MEMBERS_LIST,{url:"/group-members-list?groupId",require:()=>n.e(718).then(n.bind(null,"xrMj")),pageTitle:"course.content.courseGroup.groupMembersTitle",panelClass:"peek"}).peekState("group-set-detail",{panelClass:"full",url:"/groupSet?courseId&groupSetId&mode",courseEntitlement:s.o.ViewGroupsAsAdmin,resolve:{translations:[o.serviceName,e=>e.loadBundle("features/course/content/group/course-group")]},require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(8),n.e(124),n.e(753)]).then(n.bind(null,"ymtw")),pageTitle:"course.content.courseGroup.groupSetTitle",peekStates:[l.o.COURSE_MESSAGE,l.y.EXPORT_GROUP_SET,l.y.IMPORT_GROUP_MEMBERS],peekViewName:"group-message-peek"}).peekState("content-group-enroll",{url:"/group-enroll?courseId&contentId&fromView",panelClass:"full",resolve:{[a.d]:e.resolve,translations:[o.serviceName,e=>e.loadBundle("features/course/content/group/course-group")]},require:()=>n.e(746).then(n.bind(null,"sBQA")),pageTitle:"course.content.courseGroup.selfEnroll",peekStates:[l.y.GROUP_MEMBERS_LIST]}).peekState("course-group-enroll",{url:"/course-group-enroll?courseId&fromView",pageTitle:"course.content.courseGroup.selfEnroll",peekStates:[l.y.GROUP_MEMBERS_LIST],panelClass:"full",require:()=>n.e(755).then(n.bind(null,"B5Yh"))})}])},jx5I:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("D57K"),s=n("Llzl"),a=n("IbyE"),o=n("aHpC"),r=n("9OUN");const l="ultra.service.upload.settings",c="uploadSettings";let d=class{constructor(e,t){this.$q=e,this.$ngRedux=t,this.subscribeToRedux()}fetchFileUploadSettings(){return this.$q.when(this.getFileUploadSettings())}subscribeToRedux(){this.$ngRedux.connect((e=>({fileUploadSettings:a.gc.fileUploadSettings.getFileUploadSettings(e)})),(e=>Object(r.b)({getFileUploadSettings:a.X.fileUploadSettings.loadFileUploadSettings},e)))(this)}getSettings(){return this.fileUploadSettings}};d=Object(i.a)([Object(i.c)(0,Object(o.b)("$q")),Object(i.c)(1,Object(o.b)("$ngRedux"))],d);s.module(l,[]).service(c,d)},k12r:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("SBxA");const a="ultra.components.directives.bbUiIcon.large.Survey";Object(i.a)(s.a,a,"bbUiIconLargeSurvey")},k5nV:function(e,t){e.exports='<ng-switch on="displayMode" bb-load-bundle="components/directives/delete">\n  <a href="javascript:void(0);"\n    ng-switch-when="controls"\n    ng-if="delete.requiredArgumentsSupplied"\n    bb-confirmation-needed get-confirmation-key-and-show-type="delete.getConfirmationKeyAndShowType()"\n    choices="{{choices}}"\n    show-type="{{ delete.modalShowType }}"\n    ng-click="delete.deleteElement()"\n    bb-translate-attrs="{\'aria-label\': \'{{attrTranslateKey}}\'}"\n    ng-disabled="savingInProgress"\n    class="{{extraClass}}" role="button"\n    analytics-id="components.directives.delete.deleteElement.link" \n  >\n    <span class="valign">\n      <span class="valign-content">\n        <bb-svg-icon size="small" icon="trash" class="icon-fw replaced"></bb-svg-icon>\n        <span class="ellipse" bb-translate="components.directives.delete.control-delete-label"></span>\n      </span>\n    </span>\n  </a>\n  <button ng-if="delete.requiredArgumentsSupplied"\n          bb-confirmation-needed get-confirmation-key-and-show-type="delete.getConfirmationKeyAndShowType()"\n          choices="{{choices}}"\n          ng-click="delete.deleteElement()"\n          ng-disabled="delete.isDeleteDisabled"\n          bb-translate-attrs="{\'aria-label\': \'{{attrTranslateKey}}\', \'title\': \'{{attrTranslateKey}}\'}"\n          ng-switch-default\n          class="button clear icon {{extraClass}}" type="button"\n          analytics-id="components.directives.delete.deleteElement.button"\n  >\n    <bb-svg-icon size="small" icon="trash"></bb-svg-icon>\n  </button>\n</ng-switch>'},k9iv:function(e,t,n){"use strict";var i=n("nsO7"),s=n("Llzl"),a=n("5MwF"),o=n("0JpG"),r=n("12mu"),l=n("zGdY"),c=n("ERkP"),d=n.n(c),u=n("VQ4P"),m=n("qiBf"),p=n("zDAW"),h=n.n(p),g=n("/n7R"),b=n("np6O"),f=n("EZIA"),v=n("ECG1");const y=e=>{const{sessionDebug:t}=e,n=Object(u.a)(),[i,s]=d.a.useState(!1);return i?d.a.createElement(d.a.Fragment,null,d.a.createElement(h.a,null,n("supportPanel.sessionDebug.submissionButtonLabel"),d.a.createElement(g.AnalyticsTooltip,{analyticsId:"errorModal.sessionDebug.information.tooltip",title:n("supportPanel.sessionDebug.modalInformationText"),PopperProps:{style:{zIndex:1000100}}},d.a.createElement(b.AnalyticsIconButton,{analyticsId:"errorModal.sessionDebug.information.tooltip"},d.a.createElement(v.a,null)))),d.a.createElement(m.a,{sessionDebug:t})):d.a.createElement(f.a,{tabIndex:0,analyticsId:"erroModal.sessionDebug.showInput.link",onClick:()=>s(!0)},n("supportPanel.sessionDebug.submissionButtonLabel"))};var k=n("1ZbL"),x=n("ReOc");const S="ultra.components.directives.sessionDebugModalButton",C={Class:e=>{const[t,n]=c.useState("");return c.useEffect((()=>{x.a.getDebugInfoFriendly().then((e=>n(e.join("\r\n"))))}),[]),c.createElement(y,{sessionDebug:t})},renderLocalized:!0,withProvider:!0,withErrorModalBoundary:!1};s.module(S,[o.moduleName]).component("bbSessionDebugModalButton",Object(k.a)(C));var E=n("W/rt"),I=n("zlFc"),w=n("9ZjI"),A=n("TFjq"),O=n("PqsU"),D=n("sqUP"),T=n("nL6A"),P=n("9p8+"),$=n("cGmE"),G=n("q4pc"),j=n("krSA");n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return N})),n.d(t,"a",(function(){return I}));const L="ultra.components.services.errorModal",N="errorModal";class B{constructor(){this.isModalClosed=!0,this.handlers=[],this.$get=[r.b,"$rootScope","$q","$window","$injector",function(e,t,n,i,s){return this.$modal=e,this.$rootScope=t,this.$q=n,this.$injector=s,this.$window=i,window.addEventListener("show-debug-error-modal",(()=>{this.showDefaultErrorModal()})),this}]}onErrorResponse(e){this.handlers.push(e)}handleApiError(e,t){var n,s,a,o,r,c;if(!e||null==e.status)return;if(this.$window.document.getElementsByClassName("ms-Panel").length)return;const d={response:e,errorHandler:t};if(e.status===l.S.Forbidden)"Question could not be created with existing attempt(s)"===(null===(n=e.data)||void 0===n?void 0:n.message)?d.template=E:d.template=I;else if(e.status===l.S.NotFound)i.includes(null===(s=e.data)||void 0===s?void 0:s.message,"No course content found for content id")?d.template=w:d.template=A;else if(e.status===l.S.Conflict)d.template=O;else if(507===e.status)d.template=D;else if(e.status>=400&&e.status<=599)if(e.status===l.S.BadRequest&&(null===(a=e.data)||void 0===a?void 0:a.code)===B.COURSE_IS_CLOSED_CODE)d.template=T;else if(e.status!==l.S.BadRequest||!i.includes(null===(o=e.data)||void 0===o?void 0:o.message,"The input was too large")&&(null===(r=e.data)||void 0===r?void 0:r.code)!==l.T)if((null===(c=e.data)||void 0===c?void 0:c.code)===l.A)d.template=P;else{let t;this.handlers.some((n=>(t=this.$injector.invoke(n,void 0,{response:e}),t&&void 0!==t.tpl))),d.template=t&&t.tpl||$,d.scope=t&&t.scope}else d.template=G;d.template&&this.openModal(d)}showDefaultErrorModal(){const e={template:A};this.openModal(e)}handleError(e,t){if(!e)return;const n={errorString:e,template:j,errorHandler:t};this.openModal(n)}getReactErrorBoundary(){return this.reactErrorBoundary}openModal(e){if(this.isModalClosed){if(!e||!e.template)throw new Error("Modal configuration template was not supplied");let t=e.scope||this.$rootScope;a.a.errorDetails&&(t=this.$rootScope.$new(),t.response=e.response),t.errorString=e.errorString;const n={template:e.template,scope:t,resolve:{translations:[o.serviceName,e=>e.loadBundle("components/services/error-modal")]}};this.isModalClosed=!1,this.modalInstance=this.$modal.open(n),this.modalInstance.result.then((()=>{}),(()=>{this.isModalClosed=!0,e.errorHandler&&e.errorHandler()}))}}}B.COURSE_IS_CLOSED_CODE="bb-rest-course-is-closed";s.module(L,[o.moduleName,r.a,S]).provider(N,B)},kC07:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return le})),n.d(t,"a",(function(){return ce}));var i=n("D57K"),s=(n("DXZ4"),n("Ne7M"),n("yiTm"),n("UEFj"),n("j3m2"),n("qDdO"),n("ueuW"),n("85nY"),n("hKQ4"),n("/9iQ"),n("7XaY"),n("Mnbc"),n("NEyJ"),n("p/lC"),n("nsO7")),a=n("Llzl"),o=n("yC9S"),r=n("+O05"),l=n("FpRh"),c=n("laCM"),d=n("cs5G"),u=n("nYZ0"),m=n("bhWV"),p=n("xAaQ"),h=n("ga7A"),g=n("z+6U"),b=n("LFd7"),f=n("Fvsw"),v=n("Et3n"),y=n("5Tom"),k=n("Qbdf"),x=n("X455"),S=n("bF8R"),C=n("UioO"),E=n("jhBu"),I=n("Oyr+"),w=n("ujI6"),A=n("0JpG"),O=n("vhkR"),D=n("w9Zy"),T=n("r6lH"),P=n("lEL+"),$=n("Tn43"),G=n("lmMM"),j=n("4nF1"),L=n("IWgv"),N=n("LecS"),B=n("aCck"),M=n("Ocaa"),R=n("Sa5G"),F=n("ZQFV"),V=n("oi1r"),_=n("pjml"),U=n("JNtI"),H=n("0rzL"),z=n("nmzr"),q=n("TnpK"),W=n("a2qY"),K=n("aTRN"),J=n("+4Px"),Q=n("lCpV"),Z=n("agzH"),Y=n("BLb8"),X=n("aHpC"),ee=n("/5AG"),te=n("Htol"),ne=n("IbyE"),ie=n("zGdY"),se=n("kcGO"),ae=n("9OUN"),oe=n("Y+9S"),re=n("m5Qz");const le="ultra.directives.contentItemBase",ce="base-content-item";let de=class{constructor(e,t,n,i,a,r,l,c,d,u,m,p,h,g,b,f,v,y,k,x){this.$q=t,this.$rootScope=n,this.$ngRedux=i,this.element=a,this.scope=r,this.CourseModel=l,this.schemaService=c,this.contentService=d,this.contextService=u,this.contextCourse=m,this.contextCourseMembership=p,this.courseContentService=h,this.entitlementService=g,this.localizeService=b,this.ltiService=f,this.telemetryService=v,this.timeoutService=y,this.ultraState=k,this.allyService=x,this.courseLinkContentHandler=_.p.ContentHandler.CourseLink,this.disableRestricted=!1,this.displayTelemetryUserActivity=!1,this.displayTelemetryDiscussionActivity=!1,this.entitledToDesignAssessment=!1,this.isModifyPermissionLoaded=!1,this.isGettingConfirmationOptions=!1,this.getNextReviewState=()=>ie.u.Started===this.contentReviewState?ie.u.Completed:ie.u.Completed===this.contentReviewState?ie.u.Started:null,this.onReviewStateIconClick=()=>{const e=this.getNextReviewState();if(!this.scope.content.canUpdateReviewState()||this.scope.content.inSequence||!e||!this.scope.content.courseId||!this.scope.content.id)return this.$q.resolve();const t=this.updateContentReviewState(this.scope.content.courseId,this.scope.content.id,e);return this.$q.when(t).then((()=>{}))},this.showEditButtonFromLTILink=()=>!this.isExcludedOrDeletedLtiToolProvider()&&!!this.ltiService.placementExists(this.scope.content),this.displayGradeInfo=!1,this.isLate=!1,this.scope.shouldShowContent=!0,this.canViewGroups=this.entitlementService.isEntitled(R.o.ViewGroups),this.hasViewGroupsAsAdmin=this.entitlementService.isEntitled(R.o.ViewGroupsAsAdmin),this.courseId=m.courseId?m.courseId:this.ultraState.params.courseId,this.conditionalRelease=e.instantiate(K.a,{scope:r}),this.subscribeToReduxChanges();const S=this.entitlementService.isUserEntitledToRetrieveCourseProgressConfiguration(this.contextCourseMembership.isStudentMembership());!this.courseProgressConfiguration&&this.retrieveCourseProgressConfiguration&&S&&this.retrieveCourseProgressConfiguration({courseId:this.courseId}),this.scope.content.$then((e=>{this.entitlementService.hasAnyCourseEntitlement([R.j.ModifyAssessment,R.j.ViewAssessment],e.courseId).then((t=>{if(this.entitledToDesignAssessment=t,this.isModifyPermissionLoaded=!0,e.canHaveAttempts()&&!this.entitledToDesignAssessment&&e.contentDetail){const t=e.getAssociatedGradingColumn(),n=l.$new(e.courseId).gradebook.columns.$buildRaw(t);let i;this.scope.gradingColumn=n,i=this.displayGradeInfo?this.courseContentService.loadContentAndGrades({course:this.CourseModel.$buildRaw({id:e.courseId}),content:e,column:n}):this.$q.when({courseContent:e,gradingColumn:n}),i.then((e=>{this.displayGradeInfo&&this.scope.gradingColumn.isLate()&&(!e.gradeDetail||e.gradeDetail.ui.attempt.isInProgress())&&(this.isLate=!0),this.isGradeLoaded=!0,e.gradeDetail&&e.gradeDetail.column.id===n.id&&(this.scope.gradeDetail=e.gradeDetail)}))}else this.isLate=!1,this.isGradeLoaded=!0})),this.entitlementService.hasAnyCourseEntitlement([F.q.ViewGrades],e.courseId).then((e=>{this.canViewQuestionAnalysis=e})),this.contextService.getSystemInfo().$asPromise().then((e=>{e.telemetryEnabled&&(this.telemetryService.determineContentSupportsActivityData(this.scope.content).then((e=>{this.displayTelemetryUserActivity=e&&!this.contextCourseMembership.isStudentMembership()})),this.displayTelemetryDiscussionActivity=this.shouldShowDiscussionAnalytics()&&!this.contextCourseMembership.isStudentMembership())})),this.allyService.isAvailable().then((e=>{e&&this.allyService.isAllySupportedContentItem(this.scope.content)?(this.canShowAlly=!0,this.updateAlly()):this.canShowAlly=!1;const t=this.getOverflowMenu();this.isAllyInstructor=this.allyService.isAllyInstructor(),this.$rootScope.$broadcast("menuItems.update",this.scope.content.id,t)})),r.content.title||_.p.ContentHandler.UltraAssignment.isEqualTo(this.scope.content.contentHandler)||_.p.ContentHandler.TestLink.isEqualTo(this.scope.content.contentHandler)||this.localizeService.loadBundle("features/course/content/course-content").then((()=>{r.content.title=this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:"course.content.contentTitlePlaceholder"})}));const t=e=>{e.getLinkContentSource().$then((e=>{this.targetContent=e,this.contentHandler=e.contentHandler&&e.contentHandler.toString()}),(t=>{403===t.$response.status&&s.remove(this.scope.contents,(t=>t.$pk===e.$pk))}))};this.scope.$watch("::content.id",(()=>{if(_.p.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler))if(this.scope.content.contentDetail)t(this.scope.content);else{const e=this.scope.$watch("content.isConditionalReleaseUnlocked()",(n=>{n&&(t(this.scope.content),e())}))}})),Object(Y.b)(this.scope,((e,t)=>{this.scope.content.isConditionalReleaseLocked()&&this.scope.content.containsCriteriaWithGradeColumnId(t)&&Object(Y.c)(this.scope,t)})),Object(Y.a)(this.scope,(()=>{this.scope.content.isConditionalReleaseLocked()&&Object(Y.c)(this.scope)})),o.b.OnRootScope(this.scope,"grade-attempt",((e,t,n)=>{this.scope.content.id===t&&(this.scope.gradeDetail=n)})),r.content.contentHandler?r.content.isBbPage()?this.contentHandler=_.p.ContentHandler.Document.toString():this.contentHandler=r.content.contentHandler.toString():this.contentHandler=_.p.ContentHandler.Document.toString(),this.disableRestricted=_.p.ContentHandler.PartnerCloud.isEqualTo(this.contentHandler),this.conditionalRelease.getConditions(this.scope.content),this.hasViewB2Entitlement()})),this.scope.$on("refresh-conditional-release-rules",((e,t)=>{this.scope.content.id===t.id&&this.conditionalRelease.getConditions(t)})),this.scope.$on("content-update",((e,t)=>{this.scope.content.id!==t.id||this.scope.content.ui.linkSource||(this.scope.content=t),this.scope.content.ui.linkSource&&this.scope.content.ui.linkSource.id===t.id&&(this.scope.content.ui.linkSource=t);const n=this.scope.content.getDueDate();this.scope.dueDate=n&&new Date(n)})),this.scope.$on("bb-update-CR-tooltip",((e,t,n,i)=>{t&&(this.conditionalRelease.gradeCriteria&&this.conditionalRelease.gradeCriteria.gradeColumnId)===t.id&&this.conditionalRelease.getConditions(this.scope.content,n,i)})),this.scope.$on("show-override-message",((e,t,n)=>{this.scope.content&&this.scope.content.id===n&&(t?(this.scope.shouldShowContent=!1,this.overrideMessage=t):this.scope.shouldShowContent=!0)}));const C=s.once((()=>{this.scope.$watch((()=>this.scope.content.getDueDate()),(e=>{this.scope.dueDate=e&&new Date(e)}))}));this.scope.$watch("content.contentHandler",(()=>{r.content.ui.importPlaceholder||C()})),this.scope.$on("discussion-group-content-update",((e,t)=>{this.scope.content&&_.p.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler)&&this.scope.content.contentDetail&&this.scope.content.getLinkContentSource().$then((e=>{e.id===t.id&&this.scope.content.applyGroupSettings(t)}))}))}get canDownload(){return this.scope.content.getContentDisplay().canDownload()}get contentReviewState(){return this.scope.content.state}set contentReviewState(e){e&&this.scope.content&&(this.scope.content.state=e)}subscribeToReduxChanges(){const e=this.$ngRedux.connect((e=>({contentReviewState:ne.gc.contentReviewState.getContentReviewStateForContextUser(e,this.scope.content.id),courseProgressConfiguration:ne.gc.courseProgress.getCourseProgressConfiguration(e,this.courseId)})),(e=>Object(ae.b)({updateContentReviewState:ne.X.contentReviewState.persistContentReviewState,retrieveCourseProgressConfiguration:ne.X.courseProgress.loadCourseProgressConfiguration},e)))(this);this.scope.$on("$destroy",e)}isEngagementOutline(){return"discussions"===this.scope.contextArea}getDescription(){return this.scope.content.systemGeneratedLocalizableDescription?this.localizeService.translateSync({locale:this.localizeService.getLocale(this.scope),key:this.scope.content.systemGeneratedLocalizableDescription.languageKey}):this.scope.content.description}getAriaDescribedBy(){let e="content-item-icon-"+this.scope.content.id;return this.scope.content.ui.hasIndicator&&(e+=" activity-indicator-"+this.scope.content.id),e}getDeleteConfirmationKeyAndShowType(){return this.contentService.generateDeleteConfirmationKey(this.scope.content,this.scope.contextArea).then((e=>({confirmationKey:this.scope.content.ui.deleteConfirmationKey,showType:this.scope.content.ui.modalShowType})))}deleteContent(){_.p.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler)?this.scope.content.getLinkContentSource().$then((e=>{var t;const n=null===(t=null==e?void 0:e.contentHandler)||void 0===t?void 0:t.toString();ie.t.Discussion===n?this._deleteContent(e):this._deleteContentAndBroadcastUpdateCRTooltip()})):this._deleteContentAndBroadcastUpdateCRTooltip()}_deleteContentAndBroadcastUpdateCRTooltip(){this._deleteContent(this.scope.content),this.$rootScope.$broadcast("bb-update-CR-tooltip",this.scope.content.getAssociatedGradingColumn(),"",!0)}_deleteContent(t){t.hasCourseLinks()?t.getSoftLinks().$asPromise().then((e=>{e.length?this.$q.all(e.map((e=>this.CourseModel.$new(t.courseId).contents.$new(e.courseContent).$fetch().$asPromise().then((e=>{this.$rootScope.$broadcast("deleteContent",e,!1)}))))).then((()=>{this.$rootScope.$broadcast("deleteContent",t)})):this.$rootScope.$broadcast("deleteContent",t)})):this.$rootScope.$broadcast("deleteContent",t);const n=this.element.closest(".js-content-div"),i=n.next(".js-content-div");if(i.length>0)i.find(".js-content-item-base").first().find(".content-title").focus();else{const t=n.prev(".js-content-div");if(t.length>0)t.find(".js-content-item-base").first().find(".content-title").focus();else{const t=n.closest(".folder");t.length>0?t.find(".js-content-item-base").first().find(".content-title").focus():this.timeoutService((()=>{e(".js-create").focus()}),this.scope.$root,0,!1)}}}hasSupportedConversation(){return!!this.scope.content.hasConversation()&&j.a.create(this.scope.content).supportsConversations()}shouldShowAlertIcon(){return this.isLate||this.scope.content.canViewAsInstructor()&&this.isUnlaunchableLtiLink()}shouldShowDiscussionAnalytics(){return this.scope.content.contentHandler&&R.g.Discussion.isEqualTo(j.a.create(this.scope.content).viewHandler())}shouldShowScormAnalysisReport(){return this.scope.content&&this.entitlementService.isEntitled(F.q.FullGradebookAccess,this.scope.content.courseId||this.courseId)&&this.scope.content.isScorm()&&this.scope.content.hasReport()}getContentProgressRoute(){var e;if(!!(null===(e=this.courseProgressConfiguration)||void 0===e?void 0:e.progressTrackingEnabled)&&this.entitlementService.isEntitled(ee.s.ViewProgressInformation,this.scope.content.courseId||this.courseId))return j.a.create(this.scope.content).getContentProgressRoute()}isUnlaunchableLtiLink(){return this.scope.content.id&&this.scope.content.getContentDisplay().isLtiLink()&&(!this.scope.content.getContentDisplay().isXplorLtiLink()&&!this.ltiService.getLaunchLinkFromContent(this.scope.content)||void 0!==this.ltiService.placementExists(this.scope.content)&&!this.ltiService.placementExists(this.scope.content))}hasViewB2Entitlement(){this.entitlementService.hasSystemEntitlement(R.t.ViewBuildingBlock).then((e=>this.canViewB2=e))}hasLTIToolConfigurationEntitlement(){return this.canViewB2}isExcludedOrDeletedLtiToolProvider(){const e=this.ltiService.getDomainConfigStatusType(this.scope.content);return this.scope.content.id&&this.scope.content.getContentDisplay().isLtiLink()&&(void 0!==this.ltiService.ltiToolProviderExists(this.scope.content)&&!this.ltiService.ltiToolProviderExists(this.scope.content)||_.K.LTIStatusType.Excluded===e)}showVisibility(){return!this.isUnlaunchableLtiLink()&&!this.scope.hideVisibilitySelector}usesEditButton(){const e=this.scope.content.getContentDisplay();return e.usesEditButton()&&e.canUseEditButton()}openEditContentPanel(){this.ultraState.goPeekState(this.scope.content.getContentDisplay().getEditState(),this.scope.content.getContentDisplay().getEditStateParams())}updateContentVisibility(){return this.targetContent&&this.scope.content?(this.targetContent.applyAvailabilitySettings(this.scope.content),this.updateVisibilityImpl(this.targetContent).then((()=>this.updateVisibilityImpl(this.scope.content)))):this.scope.content?this.updateVisibilityImpl(this.scope.content):this.$q.resolve()}updateVisibilityImpl(e){e.visibility=this.contentService.determineVisibility(e.isAvailable);const t=["isAvailable","isPartiallyVisible","adaptiveReleaseRules"],n=e.getAssociatedGradingColumn();return n&&(n.visible=e.isAvailable,t.push("contentDetail")),e.withParams({fields:"id"}).$save(t).$asPromise().then((()=>{this.$rootScope.$broadcast("content-update",e)}))}updateAlly(){this.canShowAlly&&this.allyService.update(this.scope,this.scope.content.id,this.allyService.getXythosIdFromContentItem(this.scope.content))}getOverflowMenu(){return[{icon:"draw",labelKey:"global.edit",show:()=>{var e,t;let n=this.isGettingConfirmationOptions?this.lastIsEditButtonShow:this.usesEditButton();return this.scope.content.isLtiLink()&&(null===(t=null===(e=this.scope.content.contentDetail)||void 0===e?void 0:e[this.contentHandler])||void 0===t?void 0:t.itemOrigin)===ne.E.CloudDocument&&(n=this.showEditButtonFromLTILink()&&this.scope.content.canViewAsInstructor()),this.lastIsEditButtonShow=n,n},onClick:this.openEditContentPanel.bind(this)},{icon:"conversation",labelKey:"components.directives.content-item-base.overflow-menu.open-conversation",show:this.hasSupportedConversation.bind(this),onClick:()=>{this.ultraState.goPeekState("conversations",{courseId:this.scope.content.courseId,contentId:this.scope.content.id})}},{icon:"beast-analytics",labelKey:"components.directives.content-item-base.overflow-menu.student-activity",show:()=>this.displayTelemetryUserActivity&&!this.isAnonymouslyGraded(),onClick:()=>{this.ultraState.goPeekState(z.L.CONTENT_ACTIVITY_IN_DETAIL,{contentId:this.scope.content.id})}},{icon:"beast-analytics",uniqueId:"scorm-analytics-report",labelKey:"components.directives.content-item-base.overflow-menu.view-analytics",show:()=>this.shouldShowScormAnalysisReport()&&!this.contextCourseMembership.isStudentMembership(),onClick:()=>{this.ultraState.goPeekState("scorm-analytics-report",{courseId:this.scope.content.courseId,contentId:this.scope.content.id})}},{icon:"beast-analytics",uniqueId:"discussion-insights",labelKey:"components.directives.content-item-base.overflow-menu.student-activity",show:()=>this.displayTelemetryDiscussionActivity,onClick:()=>{const e=this.scope.content.contentDetail["resource/x-bb-courselink"]?this.scope.content.contentDetail["resource/x-bb-courselink"].linkSourceId:this.scope.content.id;this.ultraState.goPeekState(z.s.DISCUSSION_VIEW_WITH_GRADING,{contentId:e,forumContentId:this.scope.content.id,view:Q.a.StudentActivity})}},{icon:"question-analysis",labelKey:"components.directives.content-item-base.overflow-menu.question-analysis",show:()=>this.canViewQuestionAnalysis&&this.scope.content.isQuestionAnalysisAvailable(),onClick:()=>{this.ultraState.goPeekState("question-analysis.report",{qaContentId:this.scope.content.id})}},{icon:"class-pulse-future",uniqueId:"content-progress",labelKey:this.contextCourse.course.isOrganization?"components.directives.content-item-base.overflow-menu.content-progress-org":"components.directives.content-item-base.overflow-menu.content-progress",show:()=>void 0!==this.getContentProgressRoute(),onClick:()=>{const e=this.getContentProgressRoute();void 0!==e&&this.ultraState.goPeekState(e.stateName,e.args)}},{icon:"trash",labelKey:"global.delete",show:()=>this.scope.content.canDelete(),onClick:this.deleteContent.bind(this),confirmationOptions:{lazyLoadTitleKeyAndInstructionsKey:()=>(this.isGettingConfirmationOptions=!0,this.getDeleteConfirmationKeyAndShowType().then((e=>{const t=e.confirmationKey.replace(/^resource\//,"");return this.isGettingConfirmationOptions=!1,this.$q.when(U.a(t))})))}},{icon:"download",labelKey:this.canShowAlly?"ally.context_menu.download_original_file":"global.download",show:()=>this.canDownload,onClick:()=>{Object(oe.o)(oe.c.DownloadLinkClicked),window.open(this.scope.content.getContentDisplay().contentUrl(),"_blank"),this.automaticallyUpdateContentReviewState(this.scope.content)}},{labelKey:"ally.context_menu.view_accessibility_score",icon:"ally-indicator-unscored",show:()=>this.canShowAlly&&this.isAllyInstructor,onClick:()=>{},additionalAttributes:{"data-ally-show":"instructorfeedback","data-ally-content-ref":this.scope.content.id,"data-ally-invoke":"instructorfeedback",style:"display:none;",onkeydown:`(function(e) {\n              if (e.keyCode === ${J.f} || e.keyCode === ${J.t}) {\n                $(e.target).closest("li").click();\n              }\n              })(event)`}},{icon:"ally-alt-formats",labelKey:"ally.context_menu.download_alternative_formats",show:()=>this.canShowAlly&&this.canDownload,onClick:()=>{},additionalAttributes:{"data-ally-show":"alternativeformats","data-ally-content-ref":this.scope.content.id,"data-ally-invoke":"alternativeformats",style:"display:none;",onkeydown:`(function(e) {\n                if (e.keyCode === ${J.f} || e.keyCode === ${J.t}) {\n                 $(e.target).closest("li").click();\n                }\n              })(event)`}}]}overflowMenuIsAllyConditional(){var e;return!(!(null===(e=this.scope.content)||void 0===e?void 0:e.isFile())||0===this.getOverflowMenu().length)&&this.getOverflowMenu().filter((e=>{var t;return null===(t=e.show)||void 0===t?void 0:t.call(e)})).every((e=>{var t;return void 0!==(null===(t=e.additionalAttributes)||void 0===t?void 0:t["data-ally-show"])}))}canShowAllyAlternativeFormats(){var e,t,n,i;return(null===(e=this.scope.content)||void 0===e?void 0:e.isFile())&&Object(ie.Xc)(null===(i=null===(n=null===(t=this.scope.content)||void 0===t?void 0:t.contentDetail)||void 0===n?void 0:n[ie.t.File])||void 0===i?void 0:i.fileAssociationMode)}get deployedAssessment(){return this.scope.content&&this.scope.content.getDeployedAssessment()}isAnonymouslyGraded(){const e=this.scope.content.getAssociatedGradingColumn();return e&&e.anonymousGrading}async editGroups(){let e,t=this.scope.content.id;if(this.scope.content.isAssignment()||this.scope.content.isTest())e=this.deployedAssessment.gradingColumn.id;else if(e=this.scope.gradeColumn&&this.scope.gradeColumn.id,_.p.ContentHandler.CourseLink.isEqualTo(this.scope.content.contentHandler)&&this.scope.content.contentDetail){t=(await this.scope.content.getLinkContentSource().$asPromise()).id}this.ultraState.goPeekState("course-group",{groupCourseId:this.scope.content.courseId||this.ultraState.params.courseId,groupContentId:t,groupColumnId:e})}showOverflowMenu(){const e=this.scope.content;return e.canDelete()||e.canViewAsInstructor()||this.usesEditButton()||e.hasConversation()||this.canDownload||this.canShowAlly&&!e.isConditionalReleaseLocked()}openAssessmentItem(){r.a.isExternalSubmissionsAssessment(this.scope.content)?this.ultraState.goPeekState(z.c.ASSESSMENT_EXTERNAL_OVERVIEW,{contentId:this.scope.content.id}):this.ultraState.goPeekState(z.c.ASSESSMENT_OVERVIEW,{contentId:this.scope.content.id})}onExternalLinkClick(){var e;this.notifyMobileAppOnItemClick(),(null===(e=this.scope.content.permissions)||void 0===e?void 0:e.canHaveReviewState)&&this.automaticallyUpdateContentReviewState(this.scope.content)}automaticallyUpdateContentReviewState(e){const t=Object(se.f)(e);t&&this.updateContentReviewState(e.courseId,e.id,t).then((()=>{this.$rootScope.$broadcast(te.b,this.scope.content,t)}))}notifyMobileAppOnItemClick(){let e,t;if(_.p.ContentHandler.File.isEqualTo(this.scope.content.contentHandler)?(e=oe.c.FileOpened,t=oe.e.Document):_.p.ContentHandler.ExternalLink.isEqualTo(this.scope.content.contentHandler)&&(e=oe.c.LinkOpened,t=oe.e.Link),_.p.ContentHandler.File.isEqualTo(this.scope.content.contentHandler)||_.p.ContentHandler.ExternalLink.isEqualTo(this.scope.content.contentHandler)){const n={type:e,status:oe.b.Success,contentId:this.scope.content.id,contentTitle:this.scope.content.title,contentType:t};Object(oe.r)(n)}}getRootClassName(){return ce}shouldShowReviewStateIcon(){var e,t;const n=null===(e=this.scope.showReviewStateIcon)||void 0===e||e,i=!!(null===(t=this.courseProgressConfiguration)||void 0===t?void 0:t.progressTrackingEnabled)||this.scope.content.inSequence;return n&&i&&this.contextCourseMembership.isStudentMembership()}getNeighborReviewState(e){return this.scope.content.inSequence&&e&&!e.isUiFolder()?e.state===ie.u.Completed?ee.y.Completed:ee.y.Incomplete:ee.y.None}setForcedSequenceLearningModuleAttributes(){return ne.j.isNotAccessibleButVisibleForcedSequenceItem(this.scope.content)}};de=Object(i.a)([Object(i.c)(0,Object(X.b)("$injector")),Object(i.c)(1,Object(X.b)("$q")),Object(i.c)(2,Object(X.b)("$rootScope")),Object(i.c)(3,Object(X.b)("$ngRedux")),Object(i.c)(4,Object(X.b)("element")),Object(i.c)(5,Object(X.b)("scope")),Object(i.c)(6,Object(X.b)(_.m.serviceName)),Object(i.c)(7,Object(X.b)(V.b)),Object(i.c)(8,Object(X.b)(u.f)),Object(i.c)(9,Object(X.b)(f.b)),Object(i.c)(10,Object(X.b)(k.e)),Object(i.c)(11,Object(X.b)(x.d)),Object(i.c)(12,Object(X.b)(S.b)),Object(i.c)(13,Object(X.b)(E.b)),Object(i.c)(14,Object(X.b)(A.serviceName)),Object(i.c)(15,Object(X.b)(O.b)),Object(i.c)(16,Object(X.b)(T.b)),Object(i.c)(17,Object(X.b)(P.b)),Object(i.c)(18,Object(X.b)(q.d)),Object(i.c)(19,Object(X.b)(d.b))],de);class ue{constructor(e){this.$injector=e,this.restrict="E",this.scope={content:"=",contents:"=",contextArea:"=",canMove:"=",itemBefore:"<",itemAfter:"<",showReviewStateIcon:"<?",hideVisibilitySelector:"<?"},this.template=W,this.link=(e,t)=>{e.contentItemBase=this.$injector.instantiate(de,{scope:e,element:t}),e.$on(I.e,((n,i,s,a)=>{a===I.c.FileDrop&&e.content===s.content&&(s.targetElement=t.find(".bb-progress"),e.$root.$broadcast(I.e,i,s,e.content.ui.fileUploadId,s.targetElement,I.c.LinkProgress))}))}}}ue.$inject=["$injector"],a.module(le,[m.a,p.a,h.a,g.a,b.a,C.a,v.a,y.b,O.a,D.d,Z.a,G.d,L.a,B.a,N.a,M.a,w.c,A.moduleName,u.d,S.a,V.a,U.b,H.a,$.a,l.a,c.a,re.a]).directive("bbContentItemBase",["$injector",e=>e.instantiate(ue)])}).call(this,n("71td"))},kH1j:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-programs",use:"icon-medium-programs-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-programs"><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M17 3h6v20h-6zM9 7h8v16H9zM1 1h8v22H1zM1 19h8M1 5h8M12 11h2M12 19h2M17 19h6M20 7v3" /></symbol>'});s.add(a);e.exports=a},kN1T:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var i=n("D57K"),s=n("Llzl"),a=n("nsO7"),o=n("0JpG"),r=n("LN5R"),l=n("BMpZ"),c=n("o5Lu"),d=n("lEL+"),u=n("jhBu"),m=n("dF44"),p=n("+4Px"),h=n("qH3X"),g=n("s1u2"),b=n("6PP7"),f=n("cbVV"),v=n("TmUJ"),y=n("LTOG"),k=n("aHpC"),x=n("Sa5G");const S="ultra.components.directives.gradeGridColumnHeaderReborn";class C extends y.a{constructor(t,n,i,s,o,r,l,c,d,u){super(n,c),this.rootScope=t,this.element=i,this.attrs=s,this.$compile=o,this.gradeGridRebornController=r,this.grade=l,this.bbLocalize=d,this.entitlementService=u,this.initializeEventHandler(),this.toolAvailable=!0,this.menuScope=n.$new(!0),Object.defineProperty(n,"possible",{get:()=>this.possible}),n.$watch("col",(e=>{n.columnMetadata=e.data,this.col=e,a.debounce((()=>this.highlight(this.col)),1e3)(),this.element.data("col",this.col),n.isGroupTest=this.col instanceof f.h,n.showAlertIcon=()=>n.columnMetadata.getNumMissingIfLate()>0,this.element.find(".content").removeClass("is-active"),r.activeColumnId===e.id&&this.element.find(".content").addClass("is-active"),n.columnMetadata.isAttendance()&&!r.attendanceIsAvailable&&(this.toolAvailable=!1)})),n.$on(h.a.FOCUSIN_CELL,((e,t)=>{t.columnId===this.col.id&&(this.gradeGridRebornController.getElement().find(".is-active").removeClass("is-active"),this.toolAvailable&&this.element.find(".content").addClass("is-active"))})),n.$on(h.a.FOCUSOUT_CELL,((e,t)=>{t.columnId===this.col.id&&this.element.find(".content").removeClass("is-active")})),n.$on(m.b.CELL_FOCUSED,(()=>{i.find(".content").focus()})),i.find(".content").on("keydown",(t=>{if(t.keyCode===p.g)this.scope.$emit(m.b.LEAVE_GRID);else{if(!p.y(t))return;e(t.target).click()}t.preventDefault(),t.stopPropagation()})),i.find(".content").on("keyup",(e=>{p.y(e)&&(e.preventDefault(),e.stopPropagation())}))}initializeEventHandler(){this.element.find(".content-header-bg").focusin((()=>{this.focusin()})).focusout((()=>{this.focusout()}))}focusin(){this.rootScope.$broadcast(h.a.FOCUSIN_CELL,{columnId:this.col.id})}focusout(){this.rootScope.$broadcast(h.a.FOCUSOUT_CELL,{columnId:this.col.id})}get possible(){if(this.scope.columnMetadata&&!a.isUndefined(this.scope.columnMetadata.possible))return Math.round(100*this.scope.columnMetadata.possible)/100}popupMenu(t){const n=`grade-grid-column-header-menu-reborn-${this.col.id}`,i=this.grade.canPostGrades(this.col.gridData.course,this.col.data);if((!this.isGroupContent()||this.hasEntitlementsToViewGroups())&&!this.gradeGridRebornController.isMenuExisting(n)&&this.toolAvailable){const s=e(t.target).closest(".grade-grid-header-cell").offset();s.top+=87,this.menuScope.col=this.col,this.menuScope.grade=this.grade,this.menuScope.canPostGrades=i,this.menuScope.autoDestroy=!1,this.menuScope.adjustPosition=e=>{const t=s.left+e.width(),n=this.gradeGridRebornController.getGradeGridContainerElementRight();t>n&&(s.left-=t-n+Object(v.a)()),e.offset(s)},this.gradeGridRebornController.popupMenu(n,b,this.menuScope),this.timeout((()=>{const e=this.gradeGridRebornController.getPopupMenu();e.on("keydown",(t=>{t.keyCode===p.g||t.keyCode===p.u?(e.data("destroy")(),this.scope.$emit(m.b.CELL_FOCUSED),t.preventDefault(),t.stopPropagation()):p.y(t)&&this.scope.$emit(m.b.CELL_FOCUSED)})),this.gradeGridRebornController.getMenuitems().first().focus()}),this.menuScope,0,!1),t.preventDefault(),t.stopPropagation()}}hasEntitlementsToViewGroups(){return this.col&&this.entitlementService.isEntitled(x.o.ViewGroups,this.col.getCourse().id)}isGroupContent(){return this.col&&this.col instanceof f.g&&null!==this.col.groups||this.col.data&&this.col.data.groupContent}isRestricted(){return!!this.isGroupContent()&&!this.hasEntitlementsToViewGroups()}getToolTipTemplate(){return'<ul class="complex-tooltip-list conditional-release-tooltip"> <li bb-translate>components.directives.grade.grader-column.restrictedInfo</li> </ul>'}getSchemaText(){let e="components.directives.grade.grid.points.plural";if(this.scope.columnMetadata&&this.scope.columnMetadata.isScorm()){const t=this.scope.columnMetadata.ui&&this.scope.columnMetadata.ui.content||null,n=t&&t.getScormGradebookItems()||[],i=n&&n.find((e=>e.columnId===this.scope.columnMetadata.id));e=`course.content.scorm.settings.gradeSchema.${i&&i.scoringMethod&&i.scoringMethod.toString().toLowerCase()||"score"}Overview.plural`}return this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:e,params:{point:this.possible,count:this.possible},noWrap:!0})}}C.$inject=["$rootScope","scope","element","attrs","$compile","gradeGridRebornController",c.n,d.b,o.serviceName,u.b],Object(i.a)([Object(k.d)("possible","locale","columnMetadata.scoreProviderHandle")],C.prototype,"getSchemaText",null);class E{constructor(e){this.$injector=e,this.restrict="E",this.template=g,this.scope=!0,this.require=`^${r.a}`,this.link=(e,t,n,i)=>{e.gradeGridColumnHeaderReborn=this.$injector.instantiate(C,{scope:e,element:t,attrs:n,gradeGridRebornController:i})}}}E.$inject=["$injector"],s.module(S,[l.a]).directive("bbGradeGridColumnHeaderReborn",["$injector",e=>e.instantiate(E)])}).call(this,n("71td"))},kQ8a:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-accessibility",use:"icon-small-accessibility-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-accessibility"><path d="M8 5c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2zM3 6l5 1 5-1M3 15l5-5 5 5M8 7v3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},kcGO:function(e,t,n){"use strict";const i="ui.course.content.opened";function s(e){return{type:i,content:e}}function a(e){return{type:"ui.course.content.closed",content:e}}var o=n("IbyE"),r=n("zGdY");function l(e,t){var n;const i=null!=t?t:r.u.None;return(null===(n=e.permissions)||void 0===n?void 0:n.canHaveReviewState)&&i===r.u.None?e.inSequence?function(e){var t;const n=null===(t=null==e?void 0:e.contentHandler)||void 0===t?void 0:t.toString();switch(n?o.i.parse(n):void 0){case null:case void 0:case o.i.Unknown:return null;case o.i.Folder:return o.j.isBbPage(e)?r.u.Started:r.u.Completed;case o.i.ClassicAssignment:case o.i.Discussion:case o.i.Journal:case o.i.LtiLink:case o.i.RusticiScorm:case o.i.TestLink:case o.i.UltraAssignment:return r.u.Started;default:return r.u.Completed}}(e):function(e){switch(null==e?void 0:e.contentHandler){case void 0:case o.i.Unknown:return null;default:return r.u.Started}}(e):null}function c(e){var t,n;const i=null!==(t=e.state)&&void 0!==t?t:r.u.None;if(!(null===(n=e.permissions)||void 0===n?void 0:n.canHaveReviewState))return null;if(e.inSequence){if(i!==r.u.Completed)return r.u.Completed}else if(i!==r.u.Started&&i!==r.u.Completed)return r.u.Started;return null}var d=n("OrNH");function*u(e){var t;const n=e.content,i=null==n?void 0:n.id,s=null==n?void 0:n.courseId;if(!(n&&i&&s&&(null===(t=n.permissions)||void 0===t?void 0:t.canHaveReviewState)))return;const a=l(n,yield Object(d.e)((e=>o.gc.contentReviewState.getContentReviewStateForContextUser(e,i))));if(a){if(yield Object(d.e)((e=>o.gc.contentReviewState.getLoadingStatusForContentReviewStateForContextUser(e,i))))return;yield Object(d.d)(o.X.contentReviewState.persistContentReviewState(s,i,a))}}var m={autoContentReviewStateSaga:function*(){yield Object(d.h)(i,u)}};function p(e){switch(e){case r.u.Started:return r.u.Completed;case r.u.Completed:return r.u.Started;default:return null}}var h=n("ERkP"),g=n.n(h),b=n("tN4z"),f=n("VQ4P"),v=n("7O4Y"),y=n("Agfx");const k=Object(y.makeStyles)((e=>Object(y.createStyles)({root:{backgroundColor:e.palette.background.paper,padding:"28px 32px",borderBottom:`1px solid ${e.palette.border.main}`,margin:"0 -30px"},chart:{height:"25px",display:"grid",margin:"0 -2px 3px"},chartLine:{border:"2px solid #FFF",height:"19px",borderRadius:"10px",gridColumn:1,gridRow:1},chartLineUnopened:{backgroundColor:e.palette.secondary.main,width:"100%"},chartLineStarted:{backgroundColor:e.palette.primary.main},chartLineCompleted:{backgroundColor:e.palette.brand.main},legend:{display:"flex",justifyContent:"space-between"},legendLabels:{display:"flex",listStyle:"none",flexDirection:"column",margin:0,[e.breakpoints.up("sm")]:{flexDirection:"row"}},legendLabel:{margin:"2px 0",display:"inline-flex",alignItems:"center",[e.breakpoints.up("sm")]:{margin:0,padding:"0 10px",borderRight:`1px solid ${e.palette.border.main}`,"&:first-child":{paddingLeft:0},"&:last-child":{borderRight:0}}},legendBubble:{width:"12px",height:"12px",display:"inline-block",borderRadius:"6px",marginRight:"6px"},legendBubbleUnopened:{backgroundColor:e.palette.secondary.main},legendBubbleStarted:{backgroundColor:e.palette.primary.main},legendBubbleCompleted:{backgroundColor:e.palette.brand.main}})));var x=n("uDfI");var S=n("GuFu");const C=e=>{const{analyticsId:t,courseId:n,contentId:i,requiresManualMarking:s}=e,a=k(e),l=Object(f.a)(),c=(e=>{const t=Object(x.e)((t=>o.gc.contentReviewState.getContentReviewStateUsersReportStates(t,e.contentId))),n=Object(x.d)();return Object(h.useEffect)((()=>{(null==t?void 0:t.isLoading)||(null==t?void 0:t.states)||n(o.X.contentReviewState.fetchContentReviewStateUsersReportStates(e))}),[n,null==t?void 0:t.isLoading,null==t?void 0:t.states]),(null==t?void 0:t.states)?null==t?void 0:t.states:{[r.u.None]:0,[r.u.Unlocked]:0,[r.u.Started]:0,[r.u.Completed]:0}})({courseId:n,contentId:i}),d=Object(S.i)("courseContent","courseContent.organization"),{completedStyle:u,startedStyle:m,unopenedCount:p,startedCount:y,completedCount:C,totalCount:E}=g.a.useMemo((()=>{const e=c.Completed,t=c.Started,n=c.Unlocked+c.None,i=e+t+n,s=100*e/i;return{completedStyle:{width:`${s}%`},startedStyle:{width:`${s+100*t/i}%`},unopenedCount:n,startedCount:t,completedCount:e,totalCount:i}}),[c]),I=s?"courseContent.contentProgress.breakdown.markedComplete":"courseContent.contentProgress.breakdown.completed";return g.a.createElement("div",{className:a.root},g.a.createElement("h2",null,l("courseContent.contentProgress.breakdown.progressSummary")),g.a.createElement("div",{className:a.chart,"aria-hidden":"true"},g.a.createElement(b.AnalyticsTooltip,{analyticsId:`${t}.unopened`,title:l("courseContent.contentProgress.breakdown.unopened",{count:p}),placement:"bottom-end"},g.a.createElement("div",{className:Object(v.a)(a.chartLine,a.chartLineUnopened),"data-testid":"content-progress-breakdown-unopened"})),y>0?g.a.createElement(b.AnalyticsTooltip,{analyticsId:`${t}.unopened`,title:l("courseContent.contentProgress.breakdown.started",{count:y}),placement:"bottom-end"},g.a.createElement("div",{className:Object(v.a)(a.chartLine,a.chartLineStarted),style:m,"data-testid":"content-progress-breakdown-started"})):void 0,C>0?g.a.createElement(b.AnalyticsTooltip,{analyticsId:`${t}.unopened`,title:l(I,{count:C}),placement:"bottom-end"},g.a.createElement("div",{className:Object(v.a)(a.chartLine,a.chartLineCompleted),style:u,"data-testid":"content-progress-breakdown-completed"})):void 0),g.a.createElement("div",{className:a.legend},g.a.createElement("ul",{className:a.legendLabels},g.a.createElement("li",{className:a.legendLabel},g.a.createElement("span",{className:Object(v.a)([a.legendBubble,a.legendBubbleCompleted]),"aria-hidden":"true"}),l(I,{count:C})),g.a.createElement("li",{className:a.legendLabel},g.a.createElement("span",{className:Object(v.a)([a.legendBubble,a.legendBubbleStarted]),"aria-hidden":"true"}),l("courseContent.contentProgress.breakdown.started",{count:y})),g.a.createElement("li",{className:a.legendLabel},g.a.createElement("span",{className:Object(v.a)([a.legendBubble,a.legendBubbleUnopened]),"aria-hidden":"true"}),l("courseContent.contentProgress.breakdown.unopened",{count:p}))),g.a.createElement("span",null,l(d("courseContent.contentProgress.breakdown.total"),{count:E}))))},E=Object(y.makeStyles)((e=>Object(y.createStyles)({tableHead:{"& th":{backgroundColor:"unset",borderTop:"0"}},tableHeadAllStudents:{width:"48px"},tableHeadStudentName:{fontWeight:e.typography.fontWeightBold,margin:"0 10px"},tableEmptyRow:{borderBottom:"0"},username:{display:"flex",alignContent:"center","& div:nth-child(2)":{justifyContent:"center"}},usernameAvatar:{margin:"0 10px"}})));var I=n("HuI8"),w=n("n7/H");const A=Object(y.makeStyles)((e=>Object(y.createStyles)({row:{"&:hover":{backgroundColor:e.palette.background.paper,cursor:"pointer"}},checkboxCell:{verticalAlign:"top",[e.breakpoints.up("sm")]:{verticalAlign:"middle"}},usernameCell:{display:"flex",flexDirection:"column"},username:{display:"inline-flex",alignItems:"center"},usernameAvatar:{marginInlineEnd:"10px"},usernameTextContainer:{display:"flex",flexDirection:"column",color:"inherit",textDecoration:"inherit","&:hover, &:focus, &:active":{color:"inherit",textDecoration:"inherit"},[e.breakpoints.down("md")]:{maxWidth:"calc(100% - 50px)"}},usernameText:e.typography.subtitle2,pronounsText:{fontSize:e.typography.overline.fontSize,fontWeight:e.typography.overline.fontWeight,color:e.palette.text.secondary},inlineStatus:{display:"flex",flexDirection:"column",marginInlineStart:"50px"}})));var O=n("50Q+");var D=n("nmzr"),T=n("+c/t");const P=e=>{var t,n,i,s,a,r;const{analyticsId:l,onSelection:c,row:d,selectedItems:u,requiresManualMarking:m}=e,p=Object(f.a)(),{formatDatetime:h}=Object(I.a)(),v=Object(y.useTheme)(),k=Object(y.useMediaQuery)(v.breakpoints.down("xs")),C=A(),E=Object(S.c)(null===(t=d.status)||void 0===t?void 0:t.state,m),P=(e=>{const t=Object(x.e)((t=>o.gc.contentReviewState.getContentReviewStateUsersPermissions(t,e)));return null!=t?t:{viewDueDateException:!1,viewTimeLimitException:!1}})(d.contentId),$=o.a.hasAccommodations(d.courseMembership,P),G=u.isUserSelected(d.courseMembership.userId),j=null!==(i=null===(n=d.status)||void 0===n?void 0:n.reviewedDate)&&void 0!==i?i:null===(s=d.status)||void 0===s?void 0:s.startedDate;return g.a.createElement(b.AnalyticsTableRow,{analyticsId:`${l}.row`,key:`progress-student-${d.courseMembership.userId}`,onClick:()=>c({type:"user",userId:d.courseMembership.userId},!G),className:C.row},g.a.createElement(b.AnalyticsTableCell,{analyticsId:`${l}.cell.name`,className:C.checkboxCell},g.a.createElement(b.AnalyticsCheckbox,{analyticsId:`${l}.row.checkbox`,checked:G,inputProps:{"aria-labelledby":`row-${d.courseMembership.userId}`}})),g.a.createElement(b.AnalyticsTableCell,{analyticsId:`${l}.cell.name`,className:C.usernameCell},g.a.createElement("span",{className:C.username,id:`row-${d.courseMembership.userId}`},g.a.createElement(T.a,{size:"small",imgProps:{alt:"",src:null===(r=null===(a=d.courseMembership.user)||void 0===a?void 0:a.avatar)||void 0===r?void 0:r.permanentUrl},className:C.usernameAvatar}),g.a.createElement("a",{className:C.usernameTextContainer,href:"#",onClick:e=>{D.bb.goPeekState(Object(D.jb)({userId:d.courseMembership.userId,membershipId:d.courseMembership.id,studentTabId:"progress"})),e.stopPropagation()}},g.a.createElement(O.f,{user:d.courseMembership.user,format:w.ILocaleUsernameFormat.Short,ariaHidden:!1,showPronouns:!0,showPronunciation:!0,showAccommodation:$,userNameStyles:C.usernameText,pronounsStyles:C.pronounsText}))),k&&g.a.createElement("span",{className:C.inlineStatus},g.a.createElement("span",{dangerouslySetInnerHTML:{__html:p("courseContent.contentProgress.progressStatusValue",{statusLabel:E})}}),j&&g.a.createElement("span",null,p("courseContent.contentProgress.onDatetime",{datetime:j})))),!k&&g.a.createElement(b.AnalyticsTableCell,{analyticsId:`${l}.cell.name`},g.a.createElement(b.AnalyticsTypography,null,E),j?g.a.createElement(b.AnalyticsTypography,{variant:"body2"},h(j,w.ILocaleDatetimeFormat.Short)):void 0))};var $=n("AuQm"),G=n("X0Ke"),j=n("/0oN"),L=n.n(j);const N=e=>{const{analyticsId:t,onSelection:n,onSortChanged:i,selectedItems:s,data:a,requiresManualMarking:o}=e,r=E(),l=Object(f.a)(),c=Object(S.i)("courseContent","courseContent.organization"),d=Object(y.useTheme)(),u=Object(y.useMediaQuery)(d.breakpoints.down("xs")),m=s.hasFilterSelection&&!s.hasUserOverrides;return g.a.createElement(b.AnalyticsSortableTable,{analyticsId:`${t}.table`,getAriaSortMessage:(e,t)=>{const n=l(`courseContent.contentProgress.table.columns.${e}`);return l(`courseContent.contentProgress.table.ariaSortMessage.${t}`,{columnName:n})},id:"content-progress-table",initialSortColumnId:"studentName",initialSortDirection:"asc",onSortChanged:i},g.a.createElement(b.AnalyticsTableHead,{analyticsId:`${t}.table.head`,className:r.tableHead},g.a.createElement(b.AnalyticsTableRow,{analyticsId:`${t}.table.row`},g.a.createElement(b.AnalyticsTableCell,{analyticsId:`${t}.table.cell.status`,id:"content-progress-table-header-checkbox",className:r.tableHeadAllStudents},g.a.createElement(b.AnalyticsTooltip,{analyticsId:`${t}.tooltip`,title:l(m?"courseContent.contentProgress.deselectAll":"courseContent.contentProgress.selectAll")},g.a.createElement(b.AnalyticsCheckbox,{analyticsId:`${t}.header.checkbox`,disabled:!a||0===a.length,checked:m,indeterminate:s.hasUserOverrides,onClick:()=>n({type:"header"},!m),inputProps:{"aria-label":l(m?"courseContent.contentProgress.deselectAll":"courseContent.contentProgress.selectAll")},"data-analytics-id":`${t}.header.checkbox`}))),g.a.createElement(G.a,{analyticsId:`${t}.name.headerCell`,id:"content-progress-table-header-name",columnId:"studentName"},g.a.createElement("span",{className:r.tableHeadStudentName},l(c("courseContent.contentProgress.studentName")))),!u&&g.a.createElement(G.a,{analyticsId:`${t}.progress.headerCell`,id:"content-progress-table-header-progress",columnId:"progress"},l("courseContent.contentProgress.progressStatus")))),g.a.createElement(b.AnalyticsTableBody,{analyticsId:`${t}.body`},null==a?void 0:a.map((e=>{var i;return g.a.createElement(P,{row:e,analyticsId:`${t}.row`,key:null===(i=e.courseMembership.user)||void 0===i?void 0:i.id,selectedItems:s,onSelection:n,requiresManualMarking:o})})),null!==a&&0===a.length?g.a.createElement(b.AnalyticsTableRow,{analyticsId:`${t}.emptyRow`},g.a.createElement(b.AnalyticsTableCell,{colSpan:3,analyticsId:`${t}.emptyCell`,className:r.tableEmptyRow},g.a.createElement($.A,{illustration:L.a,prominentText:l("courseContent.contentProgress.table.noResults.noResultsFound"),subText:l("courseContent.contentProgress.table.noResults.tryAgain")}))):void 0))};var B=n("nsO7");const M=e=>{const t=Object(x.d)(),n=(e=>Object(x.e)((t=>o.gc.contentReviewState.getContentReviewStateUsersStatusByQuery(t,e))))(e);Object(h.useEffect)((()=>{(null==n?void 0:n.isValid)||(null==n?void 0:n.isLoading)||t(o.X.contentReviewState.fetchContentReviewUserStatesByQuery(e))}),[t,null==n?void 0:n.isValid,null==n?void 0:n.isLoading]);const i=(e=>Object(x.e)((t=>o.gc.contentReviewState.getContentReviewStateUsersByQuery(t,e))))(e);return n&&n.isValid&&!n.isLoading&&n.paging?{results:i,paging:n.paging}:null},R=Object(y.makeStyles)((e=>Object(y.createStyles)({listView:{margin:"0 -30px"},viewFilter:{display:"flex",flexDirection:"column",padding:"15px 30px",[e.breakpoints.up("sm")]:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},viewFilterOptions:{display:"flex",flexDirection:"column",alignItems:"stretch",[e.breakpoints.up("sm")]:{flexDirection:"row",alignItems:"center"}},sendMessageButton:{width:"100%",[e.breakpoints.up("sm")]:{width:"unset"}},searchTextControl:{[e.breakpoints.up("sm")]:{width:"275px"}},stateFilter:{margin:"10px 0",[e.breakpoints.up("sm")]:{margin:"0 10px"}},selectedStudents:{fontWeight:e.typography.fontWeightBold},selectedStudentsContainer:{backgroundColor:e.palette.background.paper,borderBottom:`1px solid ${e.palette.background.b5}`,borderTop:`1px solid ${e.palette.background.b5}`,padding:"8px 0",textAlign:"center"},listContainer:{padding:"0 30px",[e.breakpoints.down("md")]:{"& table":{tableLayout:"fixed"}}},pagingBottom:{display:"flex",justifyContent:"center",margin:"10px 0",[e.breakpoints.up("md")]:{justifyContent:"flex-end"}}})));var F;!function(e){e.All="All",e.Unopened="Unopened",e.Started="Started",e.Completed="Completed"}(F||(F={}));const V=g.a.memo((e=>{const{analyticsId:t,className:n,onChange:i,selectedState:s,requiresManualMarking:a}=e,o=Object(f.a)(),l=Object(S.c)(r.u.None,a),c=Object(S.c)(r.u.Started,a),d=Object(S.c)(r.u.Completed,a),u=[{value:F.All,label:o("courseContent.contentProgress.status.all")},{value:F.Unopened,label:l},{value:F.Started,label:c},{value:F.Completed,label:d}];return g.a.createElement(b.AnalyticsTextField,{floatingLabel:!0,style:{minWidth:"160px"},select:!0,className:n,id:"content-progress-view-status-filter",label:o("courseContent.contentProgress.progressStatus"),value:s,onChange:e=>i(e.target.value),analyticsId:`${t}.text`},u.map((e=>g.a.createElement(b.AnalyticsMenuItem,{button:!0,key:e.value,value:e.value,analyticsId:`${t}.option.${e.value}`,"data-analytics-id":`${t}.option.${e.value}`},e.label))))}));class _{constructor(e,t={}){this.selectedFilter=e,this.overrides=t}static none(){return new _}get hasFilterSelection(){return void 0!==this.selectedFilter}get filterSelection(){return this.selectedFilter}get hasUserOverrides(){return this.numberOfUserOverrides>0}get selectedUserOverrides(){return Object.keys(this.overrides).filter((e=>this.overrides[e]))}get numberOfUserOverrides(){return Object.keys(this.overrides).length}isUserSelected(e){return this.hasFilterSelection&&!this.hasUserOverrides||this.hasFilterSelection&&!1!==this.overrides[e]||!this.hasFilterSelection&&!0===this.overrides[e]}withUserSelection(e,t){const n={...this.overrides};return this.hasFilterSelection?t?delete n[e]:n[e]=!1:t?n[e]=!0:delete n[e],new _(this.selectedFilter,n)}withFilterSelection(e){return new _(e,{})}hasAnySelectedUsers(e){return this.numberOfSelectedUsers(e)>0}numberOfSelectedUsers(e){return this.hasFilterSelection?e-this.numberOfUserOverrides:this.numberOfUserOverrides}}function U(e){switch(e){case F.All:return[];case F.Unopened:return[r.u.None,r.u.Unlocked];case F.Started:return[r.u.Started];case F.Completed:return[r.u.Completed]}}const H=e=>{var t,n;const{analyticsId:i,courseId:s,contentId:a,requiresManualMarking:l=!0}=e,c=R(),d=Object(f.a)(),u=Object(S.i)("courseContent","courseContent.organization"),{messageContentProgress:m}=(()=>{const e=Object(x.d)();return{messageContentProgress:Object(h.useCallback)(((t,n,i,s)=>{if(!i.hasAnySelectedUsers(s))return Promise.resolve({recipientIds:[]});const a=i.filterSelection;if(!a)return Promise.resolve({recipientIds:i.selectedUserOverrides});const r=[];for(let i=0;i<s;i+=5e3)r.push(e(o.X.contentReviewState.fetchContentReviewUserStatesByQuery({courseId:t,contentId:n,filter:a,paging:{offset:i,limit:5e3},fields:["courseMembership.userId"]})));return Promise.all(r).then((e=>{const t=[];return e.forEach((e=>{e.data.results.forEach((e=>{i.isUserSelected(e.courseMembership.userId)&&t.push(e.courseMembership.userId)}))})),{recipientIds:t}}))}),[e])}})(),[p,v]=g.a.useState(""),[y,k]=g.a.useState(F.All),[E,I]=g.a.useState(0),[w,A]=g.a.useState(_.none()),[O,T]=g.a.useState([{field:o.B.FamilyName,direction:r.cc.Ascending}]),P={courseId:s,contentId:a,sort:O,paging:{offset:25*E,limit:25},filter:{searchString:p,state:U(y)}},G=M(P),j=void 0!==(null==G?void 0:G.paging.count)?Math.ceil(G.paging.count/25):void 0,L=null!==(t=null==G?void 0:G.paging.count)&&void 0!==t?t:0,H=g.a.useCallback(Object(B.debounce)((e=>{I(0),v(e),A(_.none())}),250),[]),z=g.a.useCallback((e=>{I(0),k(e),A(_.none())}),[]),q=e=>{A(e?w.withFilterSelection(P.filter):_.none())},W=(e,t)=>{A(w.withUserSelection(e.userId,t))},K=g.a.useCallback(((e,t)=>{"header"===e.type?q(t):W(e,t)}),[w,q,W,A]),J=g.a.useCallback((e=>e.sortDirection?(T([{direction:"desc"===e.sortDirection?r.cc.Descending:r.cc.Ascending,field:"studentName"===e.sortColumnId?o.B.FamilyName:o.B.LastStateChange}]),!0):(T([{direction:r.cc.Ascending,field:o.B.FamilyName}]),{columnId:"studentName",sortDirection:r.cc.Ascending})),[T]),Q=g.a.useMemo((()=>({fullWidth:!1,className:c.searchTextControl})),[c]);return g.a.createElement(g.a.Fragment,null,g.a.createElement(C,{analyticsId:`${i}.breakdown`,courseId:s,contentId:a,requiresManualMarking:l}),g.a.createElement("div",{className:c.listView},g.a.createElement("div",{className:c.viewFilter},g.a.createElement("div",{className:c.viewFilterOptions},g.a.createElement($.M,{inputId:"content-progress-view-name-filter",analyticsId:`${i}.filter.name`,label:d(u("courseContent.contentProgress.searchLabel")),TextFieldProps:Q,onChange:H}),g.a.createElement(V,{onChange:z,selectedState:y,className:c.stateFilter,requiresManualMarking:l,analyticsId:`${i}.filter.state`})),g.a.createElement("div",null,g.a.createElement(b.AnalyticsOutlineButton,{analyticsId:`${i}.message`,"aria-label":d("courseContent.contentProgress.message"),className:c.sendMessageButton,onClick:()=>{var e;null===(e=m(s,a,w,L))||void 0===e||e.then((({recipientIds:e})=>{D.bb.goPeekState(Object(D.cb)({courseId:s,recipientIds:e.join(","),conversationPerRecipient:!0}))}))}},d("courseContent.contentProgress.message")))),w.hasAnySelectedUsers(L)?g.a.createElement("div",{className:c.selectedStudentsContainer,dangerouslySetInnerHTML:{__html:d(u("courseContent.contentProgress.selected.count"),{count:w.numberOfSelectedUsers(L)})}}):void 0,g.a.createElement("div",{className:c.listContainer},g.a.createElement(N,{analyticsId:`${i}.table`,data:null!==(n=null==G?void 0:G.results)&&void 0!==n?n:null,selectedItems:w,onSelection:K,onSortChanged:J,requiresManualMarking:l}),g.a.createElement("div",{className:c.pagingBottom},j?g.a.createElement($.J,{page:E,compact:!0,numberOfPages:j,onPageChange:I,analyticsId:i}):void 0))))},z=Object(y.makeStyles)((()=>Object(y.createStyles)({loading:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}))),q=e=>{const{courseId:t,contentId:n}=e,i=Object(f.a)(),s=z(),a=Object(S.a)(t,n),r=a&&o.j.requiresManualMarking(a),l=Object(S.s)({courseId:t}),c=l.gradebookColumns.find((e=>e.contentId===n)),d=!0===(null==c?void 0:c.anonymousGrading);return!a||null===l.view||l.view.isLoading?g.a.createElement("div",{className:s.loading},g.a.createElement(b.AnalyticsCircularProgress,{ariaLabel:i("global.loading"),size:"large"})):d?g.a.createElement($.A,{illustration:L.a,prominentText:i("courseContent.contentProgress.progressAvailableAfterPostingGrades")}):g.a.createElement(H,{requiresManualMarking:r,...e})},W=Object(y.makeStyles)((e=>Object(y.createStyles)({contentTabs:{borderBottom:`1px solid ${e.palette.border.main}`,margin:"0 -30px",padding:"0 30px"}})));var K;!function(e){e.Content="content",e.Progress="progress"}(K||(K={}));const J=e=>{const{onChange:t,value:n,analyticsId:i}=e,s=W(),a=Object(f.a)(),o=Object(S.i)("courseContent","courseContent.organization"),r=[{id:K.Content,ariaControls:`content-tab-panel-${K.Content}`,displayKey:"courseContent.contentTabs.content"},{id:K.Progress,ariaControls:`content-tab-panel-${K.Progress}`,displayKey:o("courseContent.contentTabs.progress")}];return g.a.createElement("div",{className:s.contentTabs},g.a.createElement(b.AnalyticsTabs,{onChange:(e,n)=>t(n),value:null!=n?n:r[0].id,analyticsId:`${i}.content.contentTabs`},r.map((e=>g.a.createElement(b.AnalyticsTab,{analyticsId:`${i}.content.contentTabs.${e.id}`,className:`js-content-tab-${e.id}`,key:e.id,value:e.id,id:`content-tab-${e.id}`,label:a(e.displayKey),"aria-controls":e.ariaControls})))))};n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"h",(function(){return m})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return q})),n.d(t,"b",(function(){return K})),n.d(t,"c",(function(){return J}))},kirn:function(e,t){e.exports='<bb-modal class="notification"\n  modal-title-key="course.content.assessment.settings.dueDate.isLateAttemptCreationDisallowed.label"\n  analytics-id-tag-prefix="course.content.assessment.settings.dueDate.isLateAttemptCreationDisallowed">\n  <div name="modal-contents">\n    <p bb-translate>course.content.assessment.settings.dueDate.isLateAttemptCreationDisallowed.restriction.description\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" ng-click="$parent.$close(); assessmentOverview.navigateAttemptReview();"\n    class="button confirm-ok js-primary-button ng-scope" bb-translate\n    analytics-id="course.content.groupAttempt.edit.alreadySubmitted.dismiss">\n    course.content.groupAttempt.edit.alreadySubmitted.dismiss\n  </button>\n</bb-modal>\n'},kjyA:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("D57K"),s=(n("Llzl"),n("aHpC")),a=n("lEL+");const o="debounceServiceModule",r="debounceService";let l=class{constructor(e){this.$timeout=e}asDebounced(e,t,n){let i;return(...s)=>{i&&this.$timeout.cancel(i),i=this.$timeout((()=>{i=null,e(...s)}),t,n)}}};l=Object(i.a)([Object(i.c)(0,Object(s.b)(a.b))],l);angular.module(o,[a.a]).service(r,class extends l{})},kkz3:function(e,t){e.exports='<div bb-grade-grid-menu-reborn id="{{id}}" class="reborn-dropdown-menu student-card" tabindex="-1">\n  <div class="student-info">\n    <bb-user-avatar class="avatar" user="user"></bb-user-avatar>\n    <div class="info">\n      <bb-username class="ellipse username" user="user" auto-update="true" title="{{fullName}}" ng-class="{ inactive: !isUserCourseAvailable }"></bb-username>\n      <div class="profile ellipse" ng-if="user.userName && !user.studentId" title="{{user.userName}}">{{user.userName}}</div>\n      <div class="profile ellipse" ng-if="!user.userName && user.studentId" title="{{user.studentId}}" bb-translate translate-values="{ studentId: user.studentId }">components.directives.usercard.studentId</div>\n      <div class="profile ellipse" ng-if="user.userName && user.studentId" title="{{user.studentId}}" bb-translate translate-values="{ username: user.userName, studentId: user.studentId }">components.directives.usercard.usernameAndId</div>\n      <div class="profile" ng-bind="courseRole"></div>\n    </div>\n  </div>\n</div>\n'},klG7:function(e,t){e.exports='<bb-modal id="notification-modal-api-error"\n          class="notification"\n          modal-translate-options="translateOpts"\n          analytics-id-tag-prefix="components.services.error-modal.error-external-questions">\n  <div name="modal-contents">\n    <p bb-translate>{{descriptionKey}}</p>\n  </div>\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button js-primary-button"\n          bb-translate\n          analytics-id="components.services.error-modal.dismiss">components.services.error-modal.dismiss</button>\n</bb-modal>\n'},"kp/p":function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return y}));var i=n("Llzl"),s=n("0JpG"),a=n("TnpK"),o=n("hkqm"),r=n("sgjL"),l=n("lEL+"),c=n("g66W"),d=n("12mu"),u=n("Oyr+"),m=n("o5Lu"),p=n("WAgA"),h=n("o9hD"),g=n("NZ4S"),b=n("0BVo");const f="ultra.features.course.grades.gradesUploadSettings.controller",v="refresh-after-upload";class y{constructor(t,n,i,s,a,o,r,l,d,m,p){this.$scope=t,this.$rootScope=n,this.postMessageDispatcher=i,this.timeoutService=s,this.course=a,this.ultraState=o,this.toast=r,this.modalService=l,this.contentCollectionAvailability=d,this.bbLocalize=m,this.grade=p,this.confirmedToClose=!1,this.fileName="",this.hasDroppedClass=!1,this.selectAll=!1,this.showErrorDetail=!1,this.afterImported=!1,this.showContentCollection=!1,this.uploadErrorFileTypeTemplate=g,this.invalidUserNames="",this.invalidUserNamesCount=0,this.failedItems="",this.failedItemsCount=0,t.gradesUploadSettings=this,this.showContentCollection=this.contentCollectionAvailability.toolEnabledSetting.isAvailable,this.modalScope=this.$rootScope.$new(),t.$on(u.e,((t,n,i,s)=>{if(s===u.c.Uploaded){this.source="LOCAL";const t={source:this.source,name:i.fileName,location:i.fileLocation};this.parseUploadGradebook(t),e(".upload-gradebook-panel .help-link").focus()}})),this.postMessageDispatcher.registerEventHandler("classic-picker-submit",(e=>{const t=e.items[0];if(!/(\.xls|\.csv)$/i.exec(t.linkTitle))return this.showErrorModal(g),!1;this.source="CONTENT_COLLECTION";const n=t&&t.url||"",i=n.substr(n.lastIndexOf("/")),s={source:this.source,name:t.linkTitle||"",location:i};this.parseUploadGradebook(s)}),this.$scope),this.postMessageDispatcher.registerEventHandler("classic-picker-cancel",((e,t)=>{this.timeoutService((()=>{c.d(this.ultraState.current.name,"peek.content-collection-picker")&&this.closePanel(),window!==t&&t.close()}),this.$scope,0)}),this.$scope),this.uploadAction=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:"course.grades.grades-upload-settings.upload"}),this.completedModalTitleKey=(this.course.isOrganization?"course":"organization")+".grades.grades-upload-settings.courseComplete.title",this.registerStateChangeListener()}parseUploadGradebook(e){this.course.gradebook.parseUploadedGradebook(e).then((t=>{if(400===t.$response.status)return this.showErrorModal(p),!1;this.timeoutService((()=>{c.d(this.ultraState.current.name,"peek.content-collection-picker")&&this.closePanel()}),this.$scope,0),this.hasDroppedClass=!0,this.invalidUserNames=t.invalidUserNames,this.invalidUserNamesCount=this.invalidUserNames&&this.invalidUserNames.split(",").filter((e=>e.trim())).length,this.fileName=e.name,this.changedList=t.changedList,this.selectAll=!0,this.checkAll(!0)}))}checkAll(e){this.columnList=[],this.errorColumnList=[],i.forEach(this.changedList,(t=>{if(!t.columnTitle)return!1;t.isError?(t.message.languageKey=t.message.languageKey.replace(/\./g,"_"),t.message.params&&this.getColumnErrorMessage(t.message),t.message.translatedLanguageKey=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.$scope),key:t.message.languageKey,params:{data:t.message.detailErrorMessageKey},noWrap:!0,noEscape:!0}),this.errorColumnList.push(t)):(t.checked=e,t.clearGradeOption=t.needOverrideAndAttemptsChoices?"OVERRIDE":"DO_NOTHING",this.updateColumnList(t,t.checked))}))}updateColumnList(e,t){t?this.columnList.push(e):this.columnList.splice(this.columnList.indexOf(e),1)}validate(){return this.columnList&&this.columnList.length>0}cancelClicked(){this.closePanel()}chooseDestination(){this.ultraState.goPeekState("content-collection-picker",{pickerType:"File",multi:"false"})}closePanel(){this.ultraState.leavePeekState(this.ultraState.current.name)}deleteFile(){this.hasDroppedClass=!1,this.columnList=[],this.changedList=[],this.errorColumnList=[],this.selectAll=!1}showErrorModal(e){this.modalService.open({scope:this.modalScope,template:e})}confirmToClose(){this.confirmedToClose=!0,this.ultraState.leavePeekState(this.ultraState.current.name)}registerStateChangeListener(){this.stateChangeListener=this.$scope.$on("$stateChangeStart",((e,t,n,i,s)=>{t.name.indexOf("grade-upload-setting")<0&&this.hasDroppedClass&&!this.afterImported&&(this.confirmedToClose||(e.preventDefault(),this.$scope.$broadcast("show-confirmation","grades-upload-setting")))}))}importGradebook(e){if(this.invalidUserNames&&!e)return this.$scope.$broadcast("show-confirmation","grades-upload-continue-with-errors"),!1;const t={changedList:this.columnList};this.course.gradebook.importGradebook(t).then((e=>{if(this.afterImported=!0,"bb-rest-course-is-closed"===e.$response.data.code)return this.showErrorModal(h),!1;e.errorItem?(this.modalScope.failedItems=e.errorItem,this.modalScope.failedItemsCount=e.errorItem&&e.errorItem.split(",").filter((e=>e.trim())).length,this.showErrorModal(b),this.ultraState.leavePeekState(this.ultraState.current.name)):(this.$rootScope.$broadcast(v,e.savedItemsIds),this.ultraState.leavePeekState(this.ultraState.current.name),this.toast.show({messageKey:"course.grades.grades-upload-settings.complete",icon:"icon-check",toastStatus:"success"}))}))}getColumnErrorMessage(e){e.params[0].rawValue?e.detailErrorMessageKey=e.params[0].rawValue:e.params.forEach((t=>{e.languageKey===t.localizableMessage.languageKey.replace(/\./g,"_")&&(e.detailErrorMessageKey=t.localizableMessage.params?t.localizableMessage.params[0].rawValue:"")}))}}y.$inject=["$scope","$rootScope",r.b,l.b,"currentCourse",a.d,o.b,d.b,"contentCollectionAvailability",s.serviceName,m.n]}).call(this,n("71td"))},krSA:function(e,t){e.exports='<bb-modal id="notification-modal-api-error"\n          class="notification"\n          modal-title-key="components.services.error-modal.error.title"\n          analytics-id-tag-prefix="components.services.error-modal">\n  <div name="modal-contents">\n    <p>{{ errorString }}</p>\n    <bb-session-debug-modal-button></bb-session-debug-modal-button>\n  </div>\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button js-primary-button"\n          analytics-id="components.services.error-modal.dismiss"\n          bb-translate>components.services.error-modal.dismiss</button>\n</bb-modal>\n'},kwLz:function(e,t,n){"use strict";var i=n("ERkP"),s=n.n(i),a=n("7O4Y"),o=n("VQ4P"),r=n("HuI8"),l=n("np6O"),c=n("+c/t"),d=n("/n7R"),u=n("n7/H"),m=n("ERsv"),p=n("Agfx");var h=Object(p.makeStyles)((()=>Object(p.createStyles)({editor:()=>({"& .bb-editor":{padding:0}}),actions:{display:"flex",flexDirection:"row",justifyContent:"flex-end",paddingTop:"5px"},placeholder:{fontStyle:"italic"}})));const g=s.a.forwardRef(((e,t)=>{const{ariaLabelledBy:n,isReadOnly:i,placeholder:o,pluginsConfig:r,rawTextFeedback:l,onChange:c}=e,{getEmbedSrc:d,openCloudStorageIntegrationModal:u}=r,p=h(e),g=[Object(m.link)(),Object(m.image)(),Object(m.video)(),Object(m.math)({...r}),Object(m.insertLocalFile)({...r}),Object(m.videoEverywhere)({...r}),Object(m.insertYoutubeVideo)({getEmbedSrc:d,...r})];return u&&g.push(Object(m.insertCloudStorageIntegrationFile)({openCloudStorageIntegrationModal:u,...r})),s.a.createElement("div",{ref:t,className:Object(a.a)({[p.editor]:e.isReadOnly},e.className)},i&&!l?s.a.createElement("div",{className:p.placeholder,id:"feedback-placeholder"},o):s.a.createElement(m.BbEditor,{bbml:l,isReadOnly:i,placeholder:o,ariaLabelledBy:n,plugins:g,onChange:c}))}));var b=g,f=n("tN4z");var v=Object(p.makeStyles)((()=>Object(p.createStyles)({collapsed:{overflow:"hidden",height:"136px",whiteSpace:"nowrap"},link:{padding:"10px 0px",display:"inline-block"},lineHeight:{lineHeight:1.6}})));const y=e=>{const[t,n]=s.a.useState(!0),[i,r]=s.a.useState(!1),l=s.a.createRef(),c=e.isFeedbackEditable&&!e.isReadOnly,d=v(),u=Object(o.a)();s.a.useEffect((()=>{var e;r(!c&&(null===(e=null==l?void 0:l.current)||void 0===e?void 0:e.clientHeight)>136)}),[e.isFeedbackEditable,e.isReadOnly,e.rawTextFeedback]);const m={showLessContentText:u("feedbackAuthoring.body.content.graderFeedback.showLessContent"),showMoreContentText:u("feedbackAuthoring.body.content.graderFeedback.showMoreContent")},p=s.a.useCallback((()=>n(!t)),[t]),h=t?`${e.analyticsId}.showMoreContent`:`${e.analyticsId}.showLessContent`;return s.a.createElement(s.a.Fragment,null,s.a.createElement(g,{className:Object(a.a)({[d.collapsed]:i&&t},d.lineHeight),ref:l,...e}),i&&s.a.createElement(f.AnalyticsLink,{className:d.link,onClick:p,analyticsId:h},t?m.showMoreContentText:m.showLessContentText))};var k=e=>{const{collapsible:t,...n}=e;return t?s.a.createElement(y,{...n}):s.a.createElement(b,{...n})};var x=Object(p.makeStyles)((()=>Object(p.createStyles)({actions:{display:"flex",flexDirection:"row",justifyContent:"flex-end",paddingTop:"5px"},action:{margin:"3px"}})));const S=e=>{const t=x(),{primary:n,className:s,...o}=e;return n?i.createElement(f.AnalyticsPrimaryButton,{className:Object(a.a)("primary-action-button",t.action,s),...o}):i.createElement(f.AnalyticsDefaultButton,{className:Object(a.a)("default-action-button",t.action,s),...o})},C=e=>{const t=x();return e.children?i.createElement("div",{className:Object(a.a)("feedback-editor-action-buttons",t.actions,e.className)},e.children):null},E=e=>{const{analyticsId:t,onChange:n,peerReviewer:i,...a}=e,{rawTextFeedback:r,pluginsConfig:{onClickCancel:l,onClickSave:c}}=e,d=Object(o.a)(),u=!e.isReadOnly&&e.isFeedbackEditable;let m;const p=s.a.useCallback((()=>{!i&&m&&m(r),l()}),[l]),h=s.a.useCallback((()=>{c()}),[c]),g=s.a.useCallback((e=>{m=e.setPristine,n(e)}),[n]),b=`${t}.feedbackEditor`,f={defaultButton:i?`${b}.saveDraft`:`${b}.cancel`,primaryButton:i?`${b}.submit`:`${b}.save`},v="feedbackAuthoring.body.content.graderFeedback.feedbackEditor",y={defaultButton:d(i?`${v}.draftLabel`:`${v}.cancelLabel`),primaryButton:d(i?`${v}.submitLabel`:`${v}.saveLabel`)};return s.a.createElement(s.a.Fragment,null,s.a.createElement(k,{analyticsId:b,...a,onChange:g}),u&&s.a.createElement(C,null,s.a.createElement(S,{analyticsId:f.defaultButton,onClick:p},y.defaultButton),s.a.createElement(S,{analyticsId:f.primaryButton,onClick:h,primary:!0},y.primaryButton)))};var I=n("0x+l");const w=Object(p.makeStyles)((e=>Object(p.createStyles)({graderDetails:{display:"flex",flexDirection:"row",marginBottom:"20px"},avatarWrapper:{marginRight:"10px"},nameAndDate:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",overflow:"hidden"},graderAttrs:{display:"flex",flexDirection:"column"},personalizationAndDate:{width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},pronunciation:{display:"inline-flex",alignItems:"center",margin:"0 -5px","& > span":{padding:"0 5px",fontWeight:e.typography.fontWeightRegular},"& $pronunciationAudio":{"& > button":{minWidth:0,minHeight:0,padding:"2px 5px 0"}}},pronunciationAudio:{},name:{color:e.palette.text.primary,fontWeight:e.typography.fontWeightSemiBold},date:{color:e.palette.text.hint,"&$dateLate":{color:e.palette.error.main}},dateLate:{},dateWrapper:{display:"flex",justifyContent:"flex-end"},fromCurrentStudentNameAndDate:{[e.breakpoints.up("sm")]:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center"}},visibilityIcons:{height:"16px",width:"16px"}})));var A=n("MC1S");const O=Object(p.makeStyles)((e=>Object(p.createStyles)({fromCurrentStudentName:{minWidth:"fit-content",[e.breakpoints.up("sm")]:{flex:1}}})));var D=n("nmzr");const T=e=>{const{attemptId:t,isAnonymous:n,reviewee:r,reviewer:l}=e,c=Object(o.a)(),d=(e=>{const[t,n]=Object(i.useState)("#");return Object(i.useEffect)((()=>{D.bb.getPeekHref(Object(D.kb)(e)).then((e=>{n(e)}))}),[e]),t})({deepLinkAttemptId:t,...n?{peerIndex:r}:null}),u=s.a.createElement(A.Link,{className:Object(a.a)("js-submission-deep-link",{"js-anonymous-deep-link":n}),href:d,analyticsId:"course.grades.submissions-deep-link"},c(n?"feedbackAuthoring.body.content.graderFeedback.anonymousRevieweesSubmission":"feedbackAuthoring.body.content.graderFeedback.revieweesSubmission",{reviewee:r})),m=O();return s.a.createElement("span",{className:Object(a.a)(m.fromCurrentStudentName,"js-grader-title")},c("feedbackAuthoring.body.content.graderFeedback.reviewerReviewedRevieweeDeepLink",{reviewer:l,revieweesSubmission:u}))},P=Object(p.makeStyles)((e=>Object(p.createStyles)({editIcon:{color:e.palette.text.secondary,minHeight:"16px",minWidth:"16px","&:hover":{color:e.palette.text.primary}}})));const $=({analyticsId:e,editFeedbackCallback:t})=>{const n=Object(o.a)()("feedbackAuthoring.body.content.editAriaLabel"),i=P();return s.a.createElement(l.AnalyticsIconButton,{analyticsId:`${e}.content.edit`,className:Object(a.a)("js-edit-feedback-icon",i.editIcon),onClick:t,"aria-label":n},s.a.createElement(I.Edit,null))};var G=n("AuQm");const j=e=>{var t;const{attemptId:n,analyticsId:i,grader:o,userBeingGraded:m,ariaLabelledBy:p,rawTextFeedback:h,editorIsReadOnly:g,editorPlaceholder:b,attemptLastGradedDate:f,late:v,isFeedbackEditable:y,editorConfigProps:k,onFeedbackChange:x,isFeedbackFromCurrentStudent:S,showFeedbackVisibilityToggle:C,isFeedbackVisible:A,onClickChangeVisibility:O,onClickEdit:D,listIndex:P,isPeerGrading:j,showAnonymousWhenNoUserData:L,currentUserHasEnterFeedbackEntitlement:N}=e,B=w(),{formatUsername:M,formatDatetime:R,translate:F}=Object(r.a)(),V=h&&""!==h,_=f&&V,U=(o||m||L)&&V&&g,H=U&&!S&&(null==o?void 0:o.pronouns),z=U&&!S&&(null==o?void 0:o.pronunciation),q=y&&g&&k.peerReviewer,W=s.a.useMemo((()=>F(A?"feedbackAuthoring.body.content.graderFeedback.feedbackVisibleToStudent":"feedbackAuthoring.body.content.graderFeedback.feedbackHiddenFromStudent")),[A,F]),K=s.a.useMemo((()=>{if(!o)return"";const e=M(o,u.ILocaleUsernameFormat.Short);return F("feedbackAuthoring.body.content.graderFeedback.hideFeedbackFromStudentWithName",{grader:e})}),[o,M,F]),J=(e,t,i=!1)=>s.a.createElement(T,{attemptId:n,isAnonymous:i,reviewee:t,reviewer:e});return s.a.createElement("div",{className:"js-grader-feedback"},s.a.createElement("div",{className:B.graderDetails},U&&s.a.createElement("div",{className:B.avatarWrapper},((e,t)=>{const n=S?t:e;return(null==n?void 0:n.avatarUrl)?s.a.createElement(c.a,{size:"medium",src:n.avatarUrl,"aria-hidden":!0,className:"non-anonymous-avatar"}):s.a.createElement(c.a,{size:"medium","aria-hidden":!0,className:"anonymous-avatar"})})(o,m)),(U||_)&&s.a.createElement("div",{className:S?Object(a.a)(B.nameAndDate,B.fromCurrentStudentNameAndDate):B.nameAndDate},U&&(()=>{if(j){if(S){const e=F("feedbackAuthoring.body.content.graderFeedback.droppedStudent"),t=N&&!o?e:M(o,u.ILocaleUsernameFormat.Short);if(N){const n=m?M(m,u.ILocaleUsernameFormat.Short):e;return J(t,n)}return J(t,P,!0)}if(!o)return N?s.a.createElement("div",{className:Object(a.a)(B.name,"js-grader-title","js-dropped-student-peer-number")},F("feedbackAuthoring.body.content.graderFeedback.droppedStudentWithNumber",{number:P})):s.a.createElement("div",{className:Object(a.a)(B.name,"js-grader-title","js-name-peer-number")},F("feedbackAuthoring.body.content.graderFeedback.peerReviewWithNumber",{number:P}))}return s.a.createElement("div",{className:Object(a.a)(B.name,"js-grader-title")},M(o,u.ILocaleUsernameFormat.Short))})(),s.a.createElement("div",{className:B.personalizationAndDate},s.a.createElement("div",{className:Object(a.a)(B.graderAttrs)},z&&s.a.createElement("span",{className:B.pronunciation},s.a.createElement("span",null,o.pronunciation),(null===(t=o.pronunciationAudio)||void 0===t?void 0:t.permanentUrl)&&s.a.createElement(G.E,{className:B.pronunciationAudio,src:o.pronunciationAudio.permanentUrl,analyticsId:"graderFeedback.pronunciation"})),H&&s.a.createElement("span",null,o.pronouns)),_&&(()=>{let e=R(new Date(f),u.ILocaleDatetimeFormat.Short);return v&&(e=F("feedbackAuthoring.body.content.graderFeedback.lastGradedLate",{dateGraded:e})),s.a.createElement("div",{className:B.dateWrapper},s.a.createElement("div",{className:Object(a.a)(B.date,{[B.dateLate]:v})},e))})())),q&&s.a.createElement($,{editFeedbackCallback:D,analyticsId:i}),C&&s.a.createElement(d.AnalyticsTooltip,{title:W,className:"js-visibility-tooltip",analyticsId:`${i}.graderFeedback.visibilityTooltip`,placement:"top-end"},s.a.createElement(l.AnalyticsIconButton,{analyticsId:`${i}.graderFeedback.visibilityIcon`,"aria-pressed":!A,"aria-label":K,className:Object(a.a)(B.visibilityIcons,A?"visible-icon":"invisible-icon"),onClick:()=>null==O?void 0:O()},A?s.a.createElement(I.Visible,null):s.a.createElement(I.Invisible,null)))),s.a.createElement(E,{analyticsId:`${i}.graderFeedback`,rawTextFeedback:h,ariaLabelledBy:p,isReadOnly:g,placeholder:b,onChange:x,pluginsConfig:k,isFeedbackEditable:y,peerReviewer:k.peerReviewer,collapsible:!0}))};var L=n("eqO1");const N=Object(L.l)((e=>Object(L.e)({list:{listStyle:"none",margin:0},listItem:{paddingBottom:"12px",borderBottom:`1px solid ${e.palette.border.main}`,marginBottom:"12px"}}))),B=e=>{const{analyticsId:t,configProps:n,secondaryGradersFeedback:i,showFeedbackVisibilityToggle:a}=e,o=N(),{isPeerGrading:r,currentUserHasEnterFeedbackEntitlement:l,editorConfigProps:c}=n,d=i.map((e=>s.a.createElement("li",{className:o.listItem,key:e.id},s.a.createElement(j,{analyticsId:t,...e,editorIsReadOnly:!0,ariaLabelledBy:"secondary-feedback-title",editorConfigProps:c,showFeedbackVisibilityToggle:a,isPeerGrading:r,currentUserHasEnterFeedbackEntitlement:l}))));return s.a.createElement("ul",{className:o.list},d)},M=Object(p.makeStyles)((e=>Object(p.createStyles)({container:{marginTop:"28px"},primaryContainer:{display:"flex",justifyContent:"space-between",marginBottom:"14px"},primaryTitle:{fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightSemiBold,margin:0},secondaryContainer:{marginTop:"37px"},secondaryTitle:{fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightSemiBold}})));const R=e=>{const{analyticsId:t,feedbackContentType:n,primaryGraderFeedback:i,secondaryGradersFeedback:r,configProps:{isPeerGrading:l,currentUserHasEnterFeedbackEntitlement:c,primaryFeedbackConfigProps:d,isOrganization:u,editorConfigProps:m,showFeedbackVisibilityToggle:p}}=e,h=Object(o.a)(),g=M(),{editorPlaceholder:b,onClickEdit:f,editorIsReadOnly:v,showPeerReviewerSpecificText:y}=d,k=null==i?void 0:i.isFeedbackEditable,x=r&&r.length>0,S=u?"organization":"course",C=k?"feedbackEditable":"feedbackNotEditable",E=l?"feedbackAuthoring.body.content.peerGraders.secondaryGradersTitle":"feedbackAuthoring.body.content.secondaryGradersTitle",I="organization"===S?`${S}`:`${S}.${n}`,w=m.peerReviewer,A=x&&!w,O=!x&&l&&!w,D=k&&v&&!w,T=h("feedbackAuthoring.body.content.noReviewsByOthers"),P=h("feedbackAuthoring.body.content.primaryGraderTitle.course.peerReviewerSubtitle"),G=h(E);let L,N;i&&(L=h(y&&!w?"feedbackAuthoring.body.content.primaryGraderTitle.student":`feedbackAuthoring.body.content.primaryGraderTitle.${I}`),N=b||h(y&&w?"feedbackAuthoring.body.content.editorPlaceholder.reviewer":`feedbackAuthoring.body.content.editorPlaceholder.${C}.${S}`));const R={isOrganization:u,isPeerGrading:l,currentUserHasEnterFeedbackEntitlement:c,editorConfigProps:m,secondaryFeedbackConfigProps:{title:G}};return s.a.createElement("div",{className:Object(a.a)("js-feedback-content-container",g.container)},i&&s.a.createElement("div",{className:Object(a.a)("js-feedback-content-primary-container",g.primaryContainer)},s.a.createElement("h3",{id:"primary-feedback-title",className:g.primaryTitle},L),D&&s.a.createElement($,{editFeedbackCallback:f,analyticsId:t})),w&&s.a.createElement("p",{className:"js-peer-reviewer-subtitle"},P),i&&s.a.createElement(j,{...i,...d,analyticsId:`${t}.content.primaryFeedback`,ariaLabelledBy:"primary-feedback-title",editorPlaceholder:N,editorConfigProps:m,isPeerGrading:l}),A&&s.a.createElement("div",{className:g.secondaryContainer},s.a.createElement("h3",{className:g.secondaryTitle},G),s.a.createElement(B,{analyticsId:`${t}.content.secondaryFeedback`,secondaryGradersFeedback:r,configProps:R,showFeedbackVisibilityToggle:p})),O&&s.a.createElement("div",{className:Object(a.a)("js-empty-secondary-feedback-section",g.secondaryContainer)},s.a.createElement("h3",{className:g.secondaryTitle},G),T))};var F=n("jYYR");const V=Object(p.makeStyles)((e=>Object(p.createStyles)({feedbackBody:{paddingLeft:"16px",paddingRight:"16px",paddingBottom:"0 !important",paddingTop:0,[e.breakpoints.up("sm")]:{paddingLeft:0,paddingRight:0}},feedbackTabs:{margin:"0 -30px",display:"flex",backgroundColor:e.palette.background.b2,borderBottom:`1px solid ${e.palette.border.main}`,"& $tabButton":{flex:1,margin:0,padding:0,height:"45px",transition:"background-color 200ms ease-out","&:before":{borderBottom:"none"},"&:hover":{backgroundColor:e.palette.background.b3},'&[aria-selected="true"]':{backgroundColor:e.palette.background.default,"&:before":{left:0,right:0,borderBottom:`4px solid ${e.palette.brand.main}`}},"&:first-child":{borderRight:`1px solid ${e.palette.border.main}`},"&:only-child":{borderRight:"0"}}},tabButton:{}})));var _;!function(e){e.General="GENERAL",e.Individual="INDIVIDUAL"}(_||(_={}));const U=e=>{const{analyticsId:t,configProps:{initialSelectedTabKey:n,isFeedbackForGroupSubmission:i,...r},...l}=e,c=Object(o.a)(),d=V(),u=n||_.General,m=s.a.createElement(R,{analyticsId:`${t}.feedbackBody`,configProps:{...r},feedbackContentType:n===_.General?"group":"individual",...l}),p=t=>{const{configProps:{onGroupTabChange:n}}=e;n&&n(t)};return s.a.createElement("div",{className:d.feedbackBody},i?s.a.createElement(s.a.Fragment,null,s.a.createElement(f.AnalyticsTabs,{value:u,className:Object(a.a)("js-feedback-tabs",d.feedbackTabs),analyticsId:`${t}.feedbackBody.tabs`},s.a.createElement(f.AnalyticsTab,{label:c("feedbackAuthoring.body.groupTab"),value:_.General,className:d.tabButton,analyticsId:`${t}.feedbackBody.group`,onClick:()=>p(_.General)}),s.a.createElement(f.AnalyticsTab,{label:c("feedbackAuthoring.body.individualTab"),value:_.Individual,className:d.tabButton,analyticsId:`${t}.feedbackBody.individual`,onClick:()=>p(_.Individual)})),s.a.createElement(F.a,{panelId:u,ariaLabelledby:u},m)):m)};var H=n("A4Z1");const z=e=>{const{analyticsId:t,configProps:n,secondaryGradersFeedback:i}=e,a={noReviewsForStudent:Object(o.a)()("feedbackAuthoring.body.content.noReviewsForStudent")};return s.a.createElement(H.a,{theme:"light"},i.length>0&&s.a.createElement(B,{configProps:n,secondaryGradersFeedback:i,analyticsId:`${t}.feedbackList.secondaryFeedback`}),0===i.length&&n.isPeerGrading&&s.a.createElement("div",{className:"js-feedback-list-no-reviews-for-student"},a.noReviewsForStudent))};var q=n("8jBL");const W=e=>{const{analyticsId:t,onNavigateToNextFeedback:n,onNavigateToPreviousFeedback:i}=e,a=Object(o.a)();return s.a.createElement(s.a.Fragment,null,s.a.createElement(l.AnalyticsIconButton,{onClick:i,disabled:!i,"aria-label":a("feedbackAuthoring.header.previous"),analyticsId:`${t}.navigator.previous`},s.a.createElement(q.ArrowLeft,null)),s.a.createElement(l.AnalyticsIconButton,{onClick:n,disabled:!n,"aria-label":a("feedbackAuthoring.header.next"),analyticsId:`${t}.navigator.next`},s.a.createElement(q.ArrowRight,null)))},K=Object(L.l)((e=>Object(L.e)({inlineNavigation:{height:"40px",marginTop:"28px",display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"15px",borderBottom:`1px solid ${e.palette.secondary.light}`,marginLeft:"-16px",marginRight:"-16px",[e.breakpoints.up("sm")]:{marginLeft:"-30px",marginRight:"-30px"}},inlineNavigationTitle:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:e.typography.fontWeightSemiBold,fontSize:e.typography.fontSizeMedium,marginLeft:"18px"},inlineNavigationArrows:{whiteSpace:"nowrap",marginRight:"18px"}}))),J=e=>{const t=K(),{analyticsId:n,inlineConfigProps:i,primaryGraderFeedback:a,secondaryGradersFeedback:o}=e,r=`${n}.feedbackAuthoring.components`;return s.a.createElement("div",null,i.showNavigator&&s.a.createElement("div",{className:t.inlineNavigation},s.a.createElement("div",{className:t.inlineNavigationTitle,id:"inline-feedback-navigation-title"},i.navigationTitle),s.a.createElement("div",{className:t.inlineNavigationArrows},s.a.createElement(W,{onNavigateToNextFeedback:i.onNavigateToNextFeedback,onNavigateToPreviousFeedback:i.onNavigateToPreviousFeedback,analyticsId:r}))),s.a.createElement(U,{analyticsId:r,configProps:i,primaryGraderFeedback:a,secondaryGradersFeedback:o}))};var Q=n("Zwiy");const Z=()=>Object(p.createStyles)({overflowEllipsis:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}),Y=Object(p.makeStyles)((e=>Object(p.createStyles)({feedbackHeader:t=>({"& .ms-Panel-header":{boxShadow:"none",[e.breakpoints.up("sm")]:{alignItems:"flex-end",minHeight:0,".header-actions":{margin:0,flex:0}},".ms-Panel-titles-container":{maxWidth:"100%",[e.breakpoints.up("sm")]:{position:"static"},".ms-Panel-subTitle":{...Z().overflowEllipsis},".ms-Panel-headerText":{...Z().overflowEllipsis,textAlign:"center",[e.breakpoints.up("sm")]:{textAlign:"start",fontSize:e.typography.fontSizeXXLarge,fontFamily:e.typography.fontFamilySerif,color:e.palette.primary.main}},".ms-Panel-content-right":{".is-disabled":{color:e.palette.secondary.light}}}},[e.breakpoints.up("sm")]:{"& .ms-Panel-commands":{backgroundColor:e.palette.background.default}}}),navigator:{"& .ms-Panel-header":{"& .ms-Panel-content-right":{"& .ms-Button":{color:e.palette.secondary.light,[e.breakpoints.up("sm")]:{color:"inherit"}},"& .is-disabled":{color:e.palette.text.disabled,[e.breakpoints.up("sm")]:{color:"inherit"}}},"& .ms-Panel-titles-container":{[e.breakpoints.only("xs")]:{position:"static",left:"90px",minWidth:"calc(100% - 180px)"},[e.breakpoints.up("sm")]:{maxWidth:"calc(100% - 76px)"}}}}})));const X=e=>{const t=Y(e),n=Object(o.a)(),{configProps:{onNavigateToNextFeedback:i,onNavigateToPreviousFeedback:r,showNavigator:l},analyticsId:c,headerSubtitle:d,headerTitle:u}=e,m=`${c}.feedbackHeader`,p={title:u,smallHeaderTitle:d||n("feedbackAuthoring.header.smallTitle"),type:Q.BbPanelType.full,analyticsId:m,navMenuAriaLabel:n("global.navigationMenu")};return l&&(p.panelContentRight=s.a.createElement(W,{onNavigateToNextFeedback:i,onNavigateToPreviousFeedback:r,analyticsId:m})),s.a.createElement("header",{className:Object(a.a)("panel-header","simple-header",t.feedbackHeader,{[t.navigator]:l})},s.a.createElement(Q.BbPanelHeader,{...p}))};var ee=Object(p.makeStyles)((e=>Object(p.createStyles)({container:{"&:before":{content:"",display:"block",height:"5px",left:"-1px",position:"absolute",right:"-1px",top:"-1px"}}})));const te=e=>{const t=ee(),{analyticsId:n,panelConfigProps:i,primaryGraderFeedback:o,secondaryGradersFeedback:r,panelSubtitle:l,panelTitle:c}=e,d={showNavigator:i.showNavigator,onNavigateToNextFeedback:i.onNavigateToNextFeedback,onNavigateToPreviousFeedback:i.onNavigateToPreviousFeedback},u={isOrganization:i.isOrganization,initialSelectedTabKey:i.initialSelectedTabKey,isFeedbackForGroupSubmission:i.isFeedbackForGroupSubmission,primaryFeedbackConfigProps:i.primaryFeedbackConfigProps,onGroupTabChange:i.onGroupTabChange,editorConfigProps:i.editorConfigProps},m=`${n}.feedbackAuthoring.components`;return s.a.createElement("div",{className:Object(a.a)("panel-wrap","course-color","js-feedback-panel-container",t.container,i.courseColorClass)},s.a.createElement(X,{analyticsId:m,configProps:d,headerTitle:c,headerSubtitle:l}),s.a.createElement(U,{analyticsId:m,configProps:u,primaryGraderFeedback:o,secondaryGradersFeedback:r}))},ne=e=>{const{isInlineMode:t,configProps:n,...i}=e,{allowMultipleFeedbackNavigation:a,...o}=n,r={showNavigator:a,...o};return t&&(r.navigationTitle=i.panelTitle),s.a.createElement(s.a.Fragment,null,t?s.a.createElement(J,{...i,inlineConfigProps:r}):s.a.createElement(te,{...i,panelConfigProps:r}))};n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return ne}))},"l+9M":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-draw",use:"icon-small-draw-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-draw"><path d="M15 4l-3-3L2 11l-1 4 4-1L15 4zM12 6l-2-2M6 12l-2-2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"l8+E":function(e,t,n){"use strict";(function(e){var i=n("td+C"),s=n("oPIA");t.a=new class{constructor(e){this.integrationService=e,this.timerId=null,this.integrationGroup=new Map,this.TimeoutMs=1e3,this.isElementAvailableInCurrentPage=(e,t)=>{this.batchIntegrationPageAnalyticsRequest(e,t),this.timerId||(this.timerId=setTimeout((()=>{this.checkAnalyticsIdElementVisibility(),this.timerId=void 0,this.integrationGroup.clear()}),this.TimeoutMs))}}batchIntegrationPageAnalyticsRequest(e,t){const n=this.integrationGroup.get(t);if(this.integrationGroup.has(t)){if(n.requestCount+=1,1===this.integrationGroup.size&&n.requestCount>s.q.RateLimit||this.integrationGroup.size>1&&n.requestCount>s.q.RateLimit)return void console.warn("Rate limit of page level analytics event reached");e.analyticsIds.forEach((e=>{n.analyticsIds.add(e)}))}else this.integrationGroup.set(t,{analyticsIds:new Set(e.analyticsIds),requestCount:1})}checkAnalyticsIdElementVisibility(){const e=new Map;this.integrationGroup.forEach(((t,n)=>{const i=[],s=new Set(t.analyticsIds);t.analyticsIds.forEach((t=>{if(e.has(t))return i.push(e.get(t)),s.delete(t),void this.sendAnalyticsMessage(s,i,n);const a=this.getDataAnalyticsElements(t);if(0===a.length){const a={analyticsId:t,isElementVisible:!1};return e.set(t,a),i.push(a),s.delete(t),void this.sendAnalyticsMessage(s,i,n)}const o=new IntersectionObserver(((a,o)=>{const r={analyticsId:t,isElementVisible:this.isElementsAvailableInViewport(a)};e.set(t,r),i.push(r),a.forEach((e=>{o.unobserve(e.target)})),s.delete(t),this.sendAnalyticsMessage(s,i,n)}),{threshold:1});a.forEach((e=>{o.observe(e)}))}))}))}isElementsAvailableInViewport(t){return t.some((t=>(this.accessibility.isElementInActivePanel(e(t.target))||this.isElementAvailableInMslayer(t.target))&&t.isIntersecting))}isElementAvailableInMslayer(e){var t,n;return null!==(n=null===(t=document.querySelector("div.ms-Layer"))||void 0===t?void 0:t.contains(e))&&void 0!==n&&n}getDataAnalyticsElements(e){return document.querySelectorAll('[analytics-id="'+e+'"], [data-analytics-id="'+e+'"]')}sendAnalyticsMessage(e,t,n){if(0===e.size){const e={type:s.c,results:t};this.integrationService.sendMessage(e,n)}}initPageAnalytics(e){this.accessibility=e,this.integrationService.addIntegrationMessageType(s.c,this.isElementAvailableInCurrentPage)}}(i.a)}).call(this,n("71td"))},lBPC:function(e,t){e.exports='\n<footer class="panel-footer notification toast-container">\n  <bb-save-tray tray-type="LoadMoreResults"\n                tray-id="{{::trayId}}"\n                tray-localization-keys-prefix="{{::trayLocalizationKeysPrefix}}">\n  </bb-save-tray>\n</footer>'},lCpV:function(e,t,n){"use strict";var i=n("nbDY"),s=n.n(i);class a extends s.a{}a.Discussions=new a("discussions"),a.Participants=new a("participants"),a.StudentActivity=new a("studentActivity"),t.a=a},lDJ8:function(e,t,n){"use strict";n("abLi"),n("6BRP");var i=n("nsO7"),s=n("71td"),a=n("Llzl"),o=n("0JpG"),r=n("nPfc"),l=n("lEL+"),c=n("GbAM");n.d(t,"a",(function(){return d}));const d="ultra.directives.validationMessages";class u{constructor(e,t,n,i,s,a){this.$rootScope=e,this.scope=t,this.element=n,this.attrs=i,this.form=s,this.timeout=a,this.error=!1,this.immediateUpdate=!1,this.elements=[],u._$rootScope=e,t.labels=[],u.onDirectiveAdded(),t.$on("$destroy",(()=>{u.onDirectiveRemoved()}));const o=i.for;if(!o)throw new Error("`for` attribute is required.");o.split(",").forEach((e=>{const t=s[e];null==t.$warning&&(t.$warning={}),null==t.$errorImmediate&&(t.$errorImmediate={}),this.elements.push(t)})),t.$watch(this.updateMessages.bind(this)),t.$watch((()=>document.activeElement),((e,t)=>{e!==t&&this.updateMessages()})),t.$watch((()=>t.showErrors)),this.elements&&this.elements.length&&t.$watch((()=>this.elements[0].$invalid),((e,t)=>{e&&e!==t?(this.immediateUpdate=!0,this.updateMessages()):this.immediateUpdate=!1}))}updateMessages(){this.scope.showOnsubmitErrors=!1,this.scope.showErrors=!1,this.scope.showImmediateErrors=!1,this.scope.showWarnings=!1,this.scope.labels.length=0;let e=[];if(this.form.$submitted){const t=i.filter(this.elements,(e=>Object.keys(e.$error).length>0));e=i.map(t,"$label");const n=i.merge.apply(null,i.map(t,"$error"))||{},s=Object.keys(n);s.length>0&&(this.scope.showOnsubmitErrors=!0,this.scope.onsubmitErrors={},s.forEach((e=>{this.scope.onsubmitErrors[e+"Onsubmit"]=n[e]})),this.readAriaLiveMessage(this.element.find(".form-element-onsubmit-errors").text(),"alert"))}else{const t=document.activeElement,n=i.find(this.elements,{$name:t.name});if(n&&n.$errorImmediate&&Object.keys(n.$errorImmediate).length>0)return this.scope.showImmediateErrors=!0,this.scope.immediateErrors=n.$errorImmediate,this.readAriaLiveMessage(this.element.find(".form-element-immediate-errors").text(),"alert"),!0;if(!u.mouseIsDown||this.error||this.immediateUpdate){const n=this.immediateUpdate?this.elements:i.filter(this.elements,(e=>(e.$touched||e.$dirty||this.scope.checkWhenInit&&this.scope.checkWhenInit())&&(!(t.name===e.$name)||this.scope.immediate&&this.scope.immediate()))),s=i.filter(n,(e=>Object.keys(e.$error).length>0)),a=i.merge.apply(null,i.map(s,"$error"))||{};a&&Object.keys(a).length>0?(this.error=this.scope.showErrors=!0,this.scope.errors=a,e.push.apply(e,i.map(s,"$label")),this.readAriaLiveMessage(this.element.find(".form-element-errors").text(),"alert")):this.error=!1}if(!this.scope.showOnsubmitErrors&&!this.scope.showErrors){const e=i.filter(this.elements,(e=>Object.keys(e.$warning).length>0)),t=i.merge.apply(null,i.map(e,"$warning"))||{};t&&Object.keys(t).length>0&&(this.scope.showWarnings=!0,this.scope.warnings=t,this.readAriaLiveMessage(this.element.find(".form-element-warnings").text(),"status"))}}return this.scope.labels.push.apply(this.scope.labels,i.compact(e)),!0}readAriaLiveMessage(e,t){this.timeout((()=>{"alert"===t?this.scope.$root.$broadcast(c.a,e.trim()):this.scope.$root.$broadcast(c.b,e.trim())}),this.scope,0,!1)}}u.mouseIsDown=!1,u._directiveCount=0,u.onDirectiveAdded=()=>{const e=0===u._directiveCount;u._directiveCount++,e&&(u.mouseDownHandler||(u.mouseDownHandler=e=>{const t=s(e.target);(t.parents("ng-form").length||t.parents("form").length)&&u._$rootScope.$apply((()=>{t.is("[type=submit]")||(u.mouseIsDown=!0)}))}),u.mouseUpHandler||(u.mouseUpHandler=e=>{const t=s(e.target);(t.parents("ng-form").length||t.parents("form").length)&&u._$rootScope.$apply((()=>{u.mouseIsDown=!1}))}),s(document).on("mousedown",u.mouseDownHandler),s(document).on("mouseup",u.mouseUpHandler))},u.onDirectiveRemoved=()=>{const e=u._directiveCount<=1;u._directiveCount--,e&&(s(document).off("mousedown",u.mouseDownHandler),s(document).off("mouseup",u.mouseUpHandler))};class m{constructor(e,t,n){this.bbLocalize=e,this.$rootScope=t,this.timeout=n,this.scope={immediate:"&?",checkWhenInit:"&?"},this.require="^form",this.restrict="A",this.transclude=!0,this.link=(e,t,n,i)=>(this.bbLocalize.loadBundle("components/directives/validation-messages"),new u(this.$rootScope,e,t,n,i,this.timeout)),this.template=r}}a.module(d,["ngMessages",o.moduleName]).directive("bbValidationMessages",[o.serviceName,"$rootScope",l.b,(e,t,n)=>new m(e,t,n)]).directive("ngModel",(()=>({restrict:"A",require:"ngModel",priority:-9999,link:(e,t,n,i)=>{const s=t[0],a=t.parents().last();if(s.hasAttribute("aria-label"))e.$watch((()=>s.getAttribute("aria-label")),(e=>i.$label=e));else if(s.hasAttribute("aria-labelledby")){const t=s.getAttribute("aria-labelledby").split(" ")[0],n=a.find("#"+t)[0];n&&e.$watch((()=>n.textContent),(e=>i.$label=e))}else{const t=a.find('label[for="'+s.id+'"]')[0];t&&e.$watch((()=>t.textContent),(e=>i.$label=e))}}})))},"lEL+":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n("Llzl");const s="ultra.services.timeout",a="timeout";i.module(s,[]).factory(a,["$timeout",e=>{const t=(t,n,i,s)=>{const a=e((function(...e){return a.__bb_unregister_scope_destroy__&&(a.__bb_unregister_scope_destroy__(),a.__bb_unregister_scope_destroy__=null),t.apply(this,e)}),i,s);return a.__bb_unregister_scope_destroy__=n.$on("$destroy",(()=>{e.cancel(a)})),a};return t.cancel=t=>(t&&t.__bb_unregister_scope_destroy__&&(t.__bb_unregister_scope_destroy__(),t.__bb_unregister_scope_destroy__=null),e.cancel(t)),t}])},lEWr:function(e,t){e.exports='<div class="input-wrapper">\n  <input translate-attrs-values="{userName: gradeGridCellEditorReborn.userName}"\n        bb-translate-attrs="{\'aria-label\': \'components.directives.grade.grid.scoreInputAriaLabel\'}"\n        ng-blur="gradeGridCellEditorReborn.onInputBlur($event)" \n        placeholder="--" ng-model="gradeGridCellEditorReborn.score"\n        ng-click="gradeGridCellEditorReborn.stopPropagation($event)"\n        ng-change="gradeGridCellEditorReborn.onChange()"\n        aria-describedby="totalPoints"\n        ng-keydown="gradeGridCellEditorReborn.onKeydown($event)" spellcheck="false" autocomplete="off"\n        analytics-id="components.directives.grade.gradeGridCellEditorReborn.input.text" />\n</div>\n<div class="possible-wrapper" ng-mousedown="gradeGridCellEditorReborn.mousedown()">\n  <span class="slash"></span><span id="totalPoints" class="possible" ng-bind="col.data.possible"></span>\n</div>'},"lUN/":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("71td");function s(){return i.extend(i.expr[":"],{tabbable(e){const t=i.attr(e,"tabindex"),n=null!=t;return(!n||t>=0)&&function(e,t){let n,s,a,o,r;const l=e.nodeName.toLowerCase();if("area"===l)return n=e.parentNode,s=n.name,!(!e.href||!s||"map"!==n.nodeName.toLowerCase())&&(a=i("img[usemap='#"+s+"']"),a.length>0&&a.is(":visible"));/^(input|select|textarea|button|object)$/.test(l)?(o=!e.disabled,o&&(r=i(e).closest("fieldset")[0],r&&(o=!r.disabled))):o="a"===l&&e.href||t;return o&&i(e).is(":visible")}(e,n)}})}},lVRt:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o}));const i="currentCourse",s="membership",a="currentContent",o="studentPreviewStatus"},laCM:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("D57K"),s=n("t3aq"),a=n("cs5G"),o=n("0JpG"),r=n("yC9S"),l=n("aHpC");const c="ultra.directives.bbAllyShow";let d=class{constructor(e,t,n){this.$element=e,this.$scope=t,this.localize=n,this.showIcon=!1}$postLink(){const e={contentRef:this.contentId,widgetType:this.showViewScoreLink?s.d.ScoreIndicator:s.d.AlternativeFormats},t=this.localize.getLocale(this.$scope);this.showIcon?this.iconSize&&(e.iconSize=this.iconSize):e.text=this.localize.translateSync({locale:t,key:this.showViewScoreLink?"ally.open_feedback_panel":"ally.download_alternative_formats"}),this.showAlternativeFormatsLink&&(e.ariaLabel=this.localize.translateSync({locale:t,key:"ally.download_alternative_formats"})),s.f.renderWidget(this.$element[0],e)}$onDestroy(){s.f.destroyComponent(this.$element[0])}};d=Object(i.a)([Object(r.a)({module:angular.module(c,[a.a,o.moduleName]),componentName:"bbAllyShow",bindings:{contentId:"@",showViewScoreLink:"<?",showAlternativeFormatsLink:"<?",showIcon:"<?",iconSize:"@?"}}),Object(i.c)(0,Object(l.b)("$element")),Object(i.c)(1,Object(l.b)("$scope")),Object(i.c)(2,Object(l.b)(o.serviceName))],d)},lmMM:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return f}));var i=n("nsO7"),s=n("Llzl"),a=n("Fvsw"),o=n("0JpG"),r=n("12mu"),l=n("pjml"),c=n("abE0"),d=n("Y+9S");const u="ultra.directives.confirmationNeeded",m="components.directives.confirmation-needed.",p="dont-ask-again",h="show-confirmation";var g;function b(e){if(e)return Object.values(g).find((t=>t.toLowerCase()===e.toLowerCase()))}function f(e,t){return m+t+"-"+e}!function(e){e.Always="always",e.Once="once",e.UserChoice="userChoice"}(g||(g={}));class v{constructor(e,t,n,i,s,a){this.scope=e,this.attrs=n,this.$q=i,this.bbContext=s,this.$modal=a,this.clickHandling=!1,this.scope.confirmationNeeded=this,this.scope.modalAriaType=this.attrs.modalAriaType,this.scope.nextSelector=this.attrs.nextSelector,e.$on(h,((e,t,n)=>{t===this.attrs.modalName&&this.handleButtonClick(n)})),t.on("click",(e=>{this.handleButtonClick(e)})),e.$on("$destroy",(()=>{t.off()})),e.$on("dismiss-confirmation",(()=>{this.modalInstance&&this.modalInstance.dismiss()}))}handleButtonClick(e){if(this.clickHandling)return;let t;if(this.clickHandling=!0,this.attrs.getConfirmationKeyAndShowType)t=this.$q.when(this.scope.$eval(this.attrs.getConfirmationKeyAndShowType));else{if(!this.attrs.bbConfirmationNeeded)return void(this.clickHandling=!1);t=this.$q.when({confirmationKey:this.attrs.bbConfirmationNeeded,showType:this.attrs.showType})}e&&(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.preventDefault()),t.then((t=>{if(t.confirmationKey)switch(this.resourceType=t.confirmationKey.replace("resource/",""),this.choices=[],b(t.showType)){case g.Always:this.confirmAction(e);break;case g.Once:this.showConfirmationActionOnlyOnce(e);break;default:this.showConfirmationActionByUserChoice(e)}else this.invokeClickAction(e)}))}showConfirmationActionOnlyOnce(e){this.bbContext.getPreference(this.createPreferenceKey(p),"false").then((t=>{"true"===t.value?this.invokeClickAction(e):this.confirmAction(e)}))}createResourceKey(e){return m+e+"-"+this.resourceType}createPreferenceKey(e){return"{{context}}.confirmation".replace("{{context}}",this.resourceType+"-"+e).replace(/\-/g,".")}addToChoices(e,t,n){let i;i=this.attrs.modalContext&&"predict"===this.attrs.modalContext?{key:e,value:!!t,localizedKey:e,preferenceKey:this.createPreferenceKey(e),isDisable:!!n}:{key:e,value:!!t,localizedKey:this.createResourceKey(e),preferenceKey:this.createPreferenceKey(e),isDisable:!!n};this.choices.some((t=>t.key===e))||this.choices.push(i)}parseChoicesFromAttr(e){if(e&&e.length)for(let t=0;t<e.length;t++)this.addToChoices(e[t].key,e[t].value,e[t].isDisable)}showConfirmationActionByUserChoice(e){this.bbContext.getPreference(this.createPreferenceKey(p),"false").then((t=>{if("true"===t.value)if(this.attrs.choices){const t=JSON.parse(this.attrs.choices),n=[];t.forEach((e=>{n.push(this.bbContext.getPreference(this.createPreferenceKey(e.key),"false").then((t=>{const n="true"===t.value;this.scope.$emit(e.key,n)})))})),this.$q.all(n).then((()=>{this.invokeClickAction(e)}))}else this.invokeClickAction(e);else this.addToChoices(p),this.confirmAction(e)}),(()=>{this.addToChoices(p),this.confirmAction(e)}))}confirmAction(e){let t;this.scope.titleKey=this.createResourceKey("title"),this.scope.instructionsKey=this.createResourceKey("instructions"),this.scope.cancelKey=this.createResourceKey("cancel"),this.scope.okKey=this.createResourceKey("ok"),this.attrs.choices&&this.attrs.choices.length>0&&this.parseChoicesFromAttr(JSON.parse(this.attrs.choices)),t=this.attrs.customClass?c.replace(/class="notification"/,'class="notification '+this.attrs.customClass+'"'):c;const n=this;this.modalInstance=this.$modal.open({template:t,scope:n.scope,resolve:{translations:[o.serviceName,e=>e.loadBundle("components/directives/confirmation-needed")]},controller:["$scope",o.serviceName,function(e,t){e.okAction=()=>{e.$close(),n.okClicked=!0},e.cancelAction=()=>{n.attrs.otherChoiceAction?(e.$close(),n.okClicked=!1):e.$dismiss(),Object(d.o)(d.c.CancelClicked)};let s={};n.attrs.modalTranslateOptions&&(s=e.$eval(n.attrs.modalTranslateOptions)),e.modalTranslateOptions={},e.modalStrings={title:null,instructions:null,cancel:null,ok:null},Object.keys(e.modalStrings).forEach((n=>{e.modalTranslateOptions[n]=i.merge({key:e[n+"Key"]},s[n]),e.modalStrings[n]=t.translateSync(e.modalTranslateOptions[n])}))}]}),this.modalInstance.result.then((()=>{this.okClicked?(this.persistResult(),this.invokeClickAction(e)):(this.scope.$eval(this.attrs.otherChoiceAction),this.clickHandling=!1)}),(()=>{this.attrs.dismissCallback&&this.scope.$eval(this.attrs.dismissCallback),this.clickHandling=!1}))}persistResult(){switch(b(this.attrs.showType)){case g.Always:this.choices.forEach((e=>{this.scope.$emit(e.key,e.value)}));break;case g.Once:this.bbContext.setPreference(this.createPreferenceKey(p),"true");break;default:this.choices.forEach((e=>{e.value&&(this.scope.$emit(e.key,e.value),this.bbContext.setPreference(e.preferenceKey,e.value.toString()))}))}}invokeClickAction(t){this.scope.$eval(this.attrs.fngClick||this.attrs.ngClick,{$event:t}),this.clickHandling=!1,this.scope.nextSelector&&e(this.scope.nextSelector).focus()}}class y{constructor(e,t,n){this.$q=e,this.bbContext=t,this.$modal=n,this.priority=100,this.restrict="A",this.scope=!0,this.compile=(e,t)=>({pre:(e,t,n)=>new v(e,t,n,this.$q,this.bbContext,this.$modal)})}}y.$inject=["$q",a.b,r.b,l.m.serviceName],s.module(u,["ngSanitize",a.a,r.a]).directive("bbConfirmationNeeded",["$injector",e=>e.instantiate(y)])}).call(this,n("71td"))},lr7J:function(e,t,n){"use strict";n("FNJT");var i=n("nsO7"),s=n("Llzl"),a=n("5MwF"),o=n("XGja"),r=n("hkqm"),l=n("lEL+"),c=n("PIPc");n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));const d="ultra.components.directives.infiniteScroll",u="bbInfiniteScroll";class m{constructor(e,t,n,s,a,r,l){this.scope=e,this.element=t,this.attrs=n,this.$compile=s,this.$q=a,this.timeout=r,this.toast=l,this.isManualLoad=!1,this.promises=[];const d=n.$observe("infiniteScrollTrayId",(e=>{this.trayId=e,d()}));if(n.infiniteScrollLocalizationKeysPrefix){const e=n.$observe("infiniteScrollLocalizationKeysPrefix",(t=>{this.localizationKeysPrefix=t,this.trayLocalizationKeysPrefix=t+".saveTray",e()}))}else this.localizationKeysPrefix="components.directives.infinite-scroll",this.trayLocalizationKeysPrefix="";n.infiniteScrollLocalizationValues&&(this.localizationValues=e.$eval(n.infiniteScrollLocalizationValues)),e.$watchGroup([n.infiniteScrollTotalCount,n.infiniteScrollCurrentCount],(e=>{if(null!=e[0]&&null!=e[1]){if(this.totalCount=e[0],this.currentCount=e[1],this.remainingCount=this.totalCount-this.currentCount,this.remainingCount<0)throw new Error(`The remainingCount of ${this.remainingCount} should never be a negative number!`);this.setLoadCount()}})),e.$watch(n.infiniteScrollDisabled,(e=>{this.disabled=e}));const m=e.$watch(n.infiniteScrollLoadLimit,(e=>{null!=e&&(this.loadLimit=e,this.setLoadCount(),m())}));let p;s(t)(e),this.timeout((()=>{p=s(c)(e).insertAfter(t)}),this.scope,0,!1),this.scope.$on(u,((e,t,s)=>{if(this.trayId!==t)return;const a=this.$q.defer();if(s.then((()=>{a.resolve()})).catch((()=>a.resolve())),this.promises.push(a),a.promise.then((()=>i.remove(this.promises,(e=>s===e)))),this.cancelLoading=this.toast.showLoading({trayId:t,trayLocalizationKeysPrefix:this.trayLocalizationKeysPrefix,promise:a.promise}),this.attrs.infiniteScrollFocusableChildrenSelector&&this.isManualLoad){this.isManualLoad=!1;const e=this.loadCount;s.then((()=>{this.timeout((()=>{const t=this.element.find(this.attrs.infiniteScrollFocusableChildrenSelector);o.a(t.eq(t.length-e),null,n.infiniteScrollForceShowAncestorSelector)}),this.scope,0,!1)}))}})),this.scope.$on("$destroy",(()=>{p&&p.remove(),this.breakPromises(),this.cancelLoading&&this.cancelLoading()}))}breakPromises(){i.forEach(this.promises,(e=>{e.resolve()}))}loadMoreItems(){this.remainingCount>0&&(this.isManualLoad=!0,this.scope.$eval(this.attrs.bbInfiniteScroll))}get loadMoreLocalizationValues(){return s.extend({},this.localizationValues,{loadCount:this.loadCount})}setLoadCount(){null!=this.loadLimit&&null!=this.remainingCount&&(this.loadCount=Math.min(this.loadLimit,this.remainingCount))}}m.$inject=["scope","element","attrs","$compile","$q",l.b,r.b];class p{constructor(e){this.$injector=e,this.terminal=!0,this.compile=(e,t)=>(e,t,n)=>{const i=e.$eval(n.infiniteScrollCurrentCount),s=e.$eval(n.infiniteScrollTotalCount);null!=i&&null!=s&&i>=s||t.attr("infinite-scroll",n.bbInfiniteScroll),t.removeAttr("bb-infinite-scroll"),e.infiniteScroll=this.$injector.instantiate(m,{scope:e,element:t,attrs:n})}}}p.$inject=["$injector"],s.module(d,["infinite-scroll",l.a,r.a]).value("THROTTLE_MILLISECONDS",a.a.infiniteScrollThrottleMS).directive("bbInfiniteScroll",["$injector",e=>e.instantiate(p)])},lwNT:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-lock",use:"icon-small-lock-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-lock"><path d="M3 8h10v7H3V8zM5 8V4c0-1.5 1-3 3-3m0 0c.5 0-.5 0 0 0zm0 0c2 0 3 1.5 3 3v4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},lx16:function(e,t,n){"use strict";n("zhNR"),n("JzsJ"),n("VCKY"),n("BiyI"),n("jlIo"),n("qzMN"),n("2i58"),n("Ybms"),n("wKTs"),n("vgq2");var i=n("Llzl"),s=n("dCrD");class a extends s.a{}class o extends s.a{}var r=n("D57K"),l=n("ERkP"),c=n("Sa5G"),d=n("aHpC"),u=n("c7N/"),m=n("9hVN"),p=n("0x+l");let h=class extends s.a{constructor(e,t,n){super(e,t,n),this.canEditUnsafeHtml=!1,this.isCloudServiceAvailable=!1,this.initializeItems=()=>{this.items=[{key:"addText",className:"js-add-content",name:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.add-content-button.addContent"}),icon:l.createElement(p.Notes,null),onClick:this.addTextBlock}],this.canEditUnsafeHtml&&this.items.push({key:"addHtml",className:"js-add-html",name:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.add-content-button.addHtml"}),icon:l.createElement(p.Editor,null),onClick:this.addHtmlBlock}),this.items.push({key:"addLocalFile",className:"js-add-local-file",name:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.add-content-button."+(this.isMobile?"uploadFromDevice":"uploadFromComputer")}),icon:l.createElement(p.UploadFile,null),onClick:this.uploadLocalFile}),this.items.push({key:"browseContentCollectionFile",className:"js-browse-content-collection-file",name:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"course.contentCollection.browseContentCollection"}),icon:l.createElement(p.ContentCollection,null),onClick:this.browseContentCollection}),this.isCloudServiceAvailable&&this.items.push({key:"addCloudFile",className:"js-add-cloud-file",name:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.add-content-button.uploadFromCloudStorage"}),icon:l.createElement(p.UploadCloud,null),onClick:this.uploadCloudFile})},this.addTextBlock=()=>{this.scope.$emit("bb-bbml-editor-add-block",c.c.Text,this.getInsertLocationData())},this.addHtmlBlock=()=>{this.scope.$emit("bb-bbml-editor-add-block",c.c.Html,this.getInsertLocationData())},this.uploadLocalFile=()=>{this.element.find(".file-upload-button").click()},this.uploadCloudFile=()=>{this.element.find(".js-upload-from-cloud-storage-integration").click()},this.browseContentCollection=()=>{this.rteCollectionService.handleContentCollectionResponse(this.scope,this.getInsertLocationData()),this.ultraState.goPeekState("content-collection-picker",{pickerType:"File",multi:"true"})},this.focusAddButton=()=>{this.element.find("button").focus()},this.$q=e.get("$q"),this.unsafeHtmlService=e.get(u.b),this.rteCollectionService=e.get(m.b),this.initialize()}initialize(){return this.$q.all({canEditUnsafeHtml:this.unsafeHtmlService.canEditUnsafeHtml(),isCloudServiceAvailable:this.isCloudServiceAvailablePromise}).then((({canEditUnsafeHtml:e,isCloudServiceAvailable:t})=>{this.canEditUnsafeHtml=e,this.isCloudServiceAvailable=t})).finally(this.initializeItems)}};h.$inject=[],h=Object(r.a)([Object(r.c)(0,Object(d.b)("$injector")),Object(r.c)(1,Object(d.b)("scope")),Object(r.c)(2,Object(d.b)("element"))],h);var g=n("HjsN");class b extends s.a{addGroup(){this.toggleMenu();const e=this.scope.positionBefore?this.scope.positionBefore():this.scope.positionAfter()+1;this.scope.createFunction(e),this.closeMenu()}}var f=n("tfx2");const v="addAttendance";let y=class extends s.a{constructor(e,t,n){super(e,t,n),this.scope=t,this.element=n;const i=n.closest("[data-base-state-name]").data("baseStateName");this.$q.all([this.ultraState.peekHref("grade-item.create",this.getInsertLocationData(),i),this.ultraState.peekHref("gradebook-item.calculation",this.getInsertLocationData(),i),this.ultraState.peekHref("attendance",null,i)]).then((e=>{this.attendanceHref=e[2],this.items=[{key:"addGradebookItem",href:e[0],className:"doc-add-grade",name:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.grader-column.actions.addItem"}),icon:l.createElement(p.Add,null)},{key:"addCalculation",href:e[1],className:"doc-add-calc",name:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.grader-column.actions.addCalculation"}),icon:l.createElement(p.Calculation,null)}],this.addOrRemoveAddAttendanceMenuItem()})),t.$on("always-show-time-expires",(()=>{t.addContentButton.alwaysShow=!1})),t.$on("update-content-menu",(()=>{this.items&&this.addOrRemoveAddAttendanceMenuItem()}))}addOrRemoveAddAttendanceMenuItem(){const e=null==this.scope.showAddAttendance||!this.scope.showAddAttendance(),t=this.doesMenuItemExistByKey(v);e?this.removeMenuItemByKey(v):t||this.addAttendanceMenuItem()}doesMenuItemExistByKey(e){return this.items.some((t=>t.key===e))}removeMenuItemByKey(e){this.items=this.items.filter((t=>t.key!==e))}addAttendanceMenuItem(){this.items.push({key:v,href:this.attendanceHref,className:"doc-add-attendance",name:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.grader-column.actions.addAttendance"}),icon:l.createElement(p.Attendance,null)})}};y.$inject=[],y=Object(r.a)([Object(r.c)(0,Object(d.b)("$injector")),Object(r.c)(1,Object(d.b)("scope")),Object(r.c)(2,Object(d.b)("element"))],y);var k=n("J8YL"),x=n("tTiy"),S=n("1Niw"),C=n("UeHE"),E=n("9hp7"),I=n("SE1T"),w=n("6xt4"),A=n("07HN");class O{constructor(e){this.$injector=e,this.handlersAndTemplateTexts={assignment:{handler:a,templateText:k},attempts:{handler:o,templateText:x},"bbml-editor":{handler:h,templateText:S},"cloud-upload":{handler:g.b,templateText:C},"course-group":{handler:b,templateText:I},"course-outline":{handler:f.a,templateText:w},grades:{handler:y,templateText:A}}}getTemplateText(e){if(null==e||!(e in this.handlersAndTemplateTexts))throw new Error("valid contextArea must be provided");if(null==this.handlersAndTemplateTexts[e].templateText)throw new Error("No template for context area: "+e);return E.replace("<template></template>",this.handlersAndTemplateTexts[e].templateText)}getHandler(e,t,n){if(null==e||!(e in this.handlersAndTemplateTexts))throw new Error("valid contextArea must be provided");return this.$injector.instantiate(this.handlersAndTemplateTexts[e].handler,{scope:t,element:n})}}O.$inject=["$injector"];var D=n("2E9T"),T=n("+e2k");const P="ultra.components.directives.content.buttonAddContent";class ${constructor(){this.restrict="C",this.template=D}}$.$inject=["$injector"],i.module(P,[T.a]).directive("buttonAddContent",["$injector",e=>e.instantiate($)]);var G=n("0JpG"),j=n("/z4E"),L=n("H/mg"),N=n("nYZ0"),B=n("jx5I"),M=n("3Jgm"),R=n("TnpK"),F=n("zYa8"),V=n("wtdm");const _="ultra.components.directives.bbUiIcon.small.ContentMarket";Object(F.a)(V.a,_,"bbUiIconSmallContentMarket"),n.d(t,"a",(function(){return U}));const U="ultra.directives.addContentButton";class H{constructor(e,t,n){this.$injector=e,this.$rootScope=t,this.ultraState=n,this.compiled=Object.create(null),this.restrict="E",this.scope={attachHandler:"=?",disableDrag:"&?",content:"=",createFunction:"=?",hideDividerLines:"&?",rootContent:"&?",contextArea:"=",alwaysShow:"=",showAddAttendance:"&?",showBothButtons:"&?",isDocumentSaved:"&?",showMenuOverride:"=",positionBefore:"&?",positionAfter:"&?",parentId:"&",depth:"&",canCreateAllContents:"=?",canCopyImport:"=?",folderNestedButton:"&?",fileLocation:"@?",webLocation:"@?",initialUpload:"&?",primaryKey:"&?",ignoredStates:"&?",itemName:"&?",itemType:"&?",itemIndex:"&?",isButtonLocationChangable:"<?",isRenderByDefault:"&?"},this.compile=()=>(e,t)=>{let n;n=e.contextArea?e.contextArea:e.$parent.contextArea?e.$parent.contextArea:"course-outline";const i=this.$injector.instantiate(O,{});null==this.compiled[n]&&(this.compiled[n]=this.$injector.get("$compile")(i.getTemplateText(n))),e.addContentButton=i.getHandler(n,e,t),e.fileListViewId="fileListView-"+Math.floor(1e4*Math.random())+"-"+Math.floor(1e4*Math.random()),e.fileListViewLocalId=e.fileListViewId+"Local",this.compiled[n](e,(function(e,n){t.append(e)})),this.$rootScope.$broadcast("add-content-button-ready")}}}H.$inject=["$injector","$rootScope",R.d,N.f,m.b],i.module(U,["ngAnimate",P,j.a,G.moduleName,L.a,N.d,m.a,B.a,M.a,R.b,u.a,_]).directive("bbAddContentButton",["$injector",e=>e.instantiate(H)])},m2KQ:function(e,t){e.exports='<div class="grade-input-wrapper" ng-class="{\'has-validation-error\': !!gradeInput.form[gradeInput.id].$invalid}">\n  <div class="grade-pill-container" ng-attr-id="{{hasRubricClearConfirmationCallout ? \'grade-input-container-callout\' : \'\'}}">\n    <div>\n      <bb-inline-validation\n        show-error="!!gradeInput.form[gradeInput.id].$invalid"\n        bb-translate-attrs="{ \'error-message\': errorMessageKey }"\n        ng-show="gradeInput.shouldShowInput()">\n        <div\n          ng-class="{\'not-graded-exempt\': !gradeInput.colorClass && gradeDetail.isExempt, \'show-total\': gradeInput.shouldShowTotalPoints(), \'is-multiple\': gradeInput.isMultipleShown() && !gradeDetail.isExempt,\n                      \'is-in-progress\': gradeInput.isInProgressShown() && !gradeDetail.isExempt, \'group-grade-input\': !!forGroup, \'disable-click\': gradeDetail.isExempt}"\n          class="wrapping-input-style {{gradeInput.colorClass}}" data-dropdown="performanceCodes-{{gradeInput.id}}">\n          <div bb-foundation-defer>\n            <div class="wrapping-editable-input">\n              <bb-svg-icon size="small" icon="rubric"\n                           ng-if="gradeInput.isRubricEvalMode() && gradeInput.shouldShowInput()"></bb-svg-icon>\n\n              <input name="{{gradeInput.id}}" autocomplete="off"\n                     ng-class="{\'group-multiple\': gradeInput.isMultipleShown(), \'group-in-progress\': gradeInput.isInProgressShown()}"\n                     pu-elastic-input pu-elastic-input-minwidth="10px" pu-elastic-input-maxwidth="180px"\n                     pu-elastic-input-width-delta="8"\n                     type="text" placeholder="--"\n                     bb-translate-attrs="{ \'aria-label\': gradeInput.getGradeInputAriaLabelKey() }"\n                     translate-attrs-values="{ user: forUser, group_name: forGroup && forGroup.title, grade: gradeInput.gradeDisplayItem.displayValue, total: gradeDetail.pointsPossible || (column.isCalculated() ? 100 : column.possible)}"\n                     ng-model="gradeInput.gradeDisplayItem.displayValue" ng-readonly="gradeInput.isReadOnly()"\n                     title="{{gradeInput.gradeDisplayItem.perfCodeDesc}}"\n                     ng-blur="gradeInput.onBlur($event)" ng-change="gradeInput.gradeValueOnChange()"\n                     ng-focus="gradeInput.onFocus()"\n                     class="js-grade-input" analytics-id="directives.grade-input.grade.display.item.input"\n                     aria-invalid="{{!!gradeInput.form[gradeInput.id].$invalid ? \'true\' : \'false\'}}"\n                     aria-describedby="{{!!gradeInput.form[gradeInput.id].$invalid ? gradeInput.getAriaDescribeById(): undefined}}">\n\n              <bb-confirmation-callout-dialog\n                ng-if="hasRubricClearConfirmationCallout"\n                analytics-id="directives.grade-input.grade.clearRubricConfirmation"\n                target="\'#grade-input-container-callout\'"\n                is-visible="gradeInput.gradeDialog.isVisible"\n                text-content="gradeInput.gradeDialog.textContent"\n                on-dismiss="gradeInput.gradeDialog.onDismiss"\n                on-success="gradeInput.gradeDialog.onSuccess"\n              >\n              </bb-confirmation-callout-dialog>\n            </div>\n\n          </div>\n\n          \x3c!--TOTAL POINTS--\x3e\n          \x3c!-- Fix ULTRA-15280.\n          If there is gradeDetail, we should use its pointsPossible as the total.\n          If there is no gradeDetail, which means it is not graded yet, there are tow cases:\n           for overall grade (and calculations), we use the default value 100, unless the overall grade schema is ScoreBased\n           for common column, assignment, etc. we use column.possible. --\x3e\n          <span ng-if="gradeInput.shouldShowTotalPoints()" class="points-text" bb-translate\n                translate-values="{total: gradeInput.getTruncatedPointsPossible()}">\n        components.directives.grade.grade-input.points\n        </span>\n        </div>\n        <div class="alert-icon" ng-if="!!gradeInput.form[gradeInput.id].$invalid">\n          <bb-svg-icon size="small" icon="attention" status="alert"></bb-svg-icon>\n        </div>\n      </bb-inline-validation>\n      <a ng-show="!gradeInput.shouldShowInput()" class="button super-clear has-rubric wrapping-input-style {{gradeInput.colorClass}}"\n         ng-class="{\'show-total\': gradeInput.shouldShowTotalPoints(), \'is-multiple\': gradeInput.isMultipleShown(), \'is-in-progress\': gradeInput.isInProgressShown(), \'group-grade-input\': !!forGroup, \'disable-click\': disableRubricEvalClick()}"\n         ng-click="gradeInput.openRubricEvaluation()"\n         aria-disabled="{{disableRubricEvalClick()}}"\n         href="javascript:void(0);" analytics-id="directives.grade-input.rubric.evaluation.link">\n        <span class="sr-only" bb-translate translate-values="{user: forUser}">components.directives.grade.grade-input.rubricButtonAlt</span>\n        <bb-svg-icon size="small" icon="rubric"></bb-svg-icon>\n        <span name="{{gradeInput.id}}" class="grade-point-value"\n              ng-class="{\'group-multiple\': gradeInput.isMultipleShown(), \'group-in-progress\': gradeInput.isInProgressShown()}">\n        {{gradeInput.gradeDisplayItem.displayValue || \'--\'}}&nbsp;\n      </span>\n\n        \x3c!--TOTAL POINTS--\x3e\n        <span ng-if="gradeInput.shouldShowTotalPoints()" class="points-text" bb-translate\n              translate-values="{total: gradeDetail.pointsPossible || (column.isCalculated() ? 100 : column.possible)}">\n        components.directives.grade.grade-input.points\n      </span>\n      </a>\n    </div>\n  </div>\n  <div ng-if="gradeInput.shouldShowExempt()" class="grade-input-align left">\n    <span class="override-indicator" bb-translate>components.directives.grade.grade-input.exempt</span>\n  </div>\n\n  <div ng-if="gradeInput.shouldShowOverrideIndicator()" class="left">\n    <span class="override-indicator" bb-translate>components.directives.grade.grade-input.overrideIndicator</span>\n  </div>\n\n  <div ng-if="gradeInput.shouldShowPastDueZeroIndicator()"\n       ng-class="{\'grade-input-align left\': gradeInput.shouldShowPastDueZeroIndicator(), \'left\': !gradeInput.shouldShowPastDueZeroIndicator()}">\n    <span class="override-indicator" bb-translate>components.directives.grade.grade-input.pastDueZero</span>\n  </div>\n\n  <div ng-if="gradeInput.alertScreenReaderNewGrade"\n       bb-ax-alert\n       id="gradeInput.getAriaDescribeById()"\n       class="sr-only"\n       bb-translate translate-values="{grade: gradeInput.gradeDisplayItem.displayValue}">\n    components.directives.grade.grade-input.screenReaderEnteredGrade\n  </div>\n</div>\n'},m2oH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=e=>{if(!e||""===e)return!1;const t=e.toLowerCase().replace("_","-");return t.startsWith("ar")||t.startsWith("he")||"en-sc"===t||"en-sa"===t}},m5Qz:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("1ZbL"),a=n("0JpG"),o=n("/5AG");const r="ultra.course.content.outline.react.contentitem.description",l={Class:o.c,renderLocalized:!0,withProvider:!0,bindingNames:["description"]};i.module(r,[a.moduleName]).component("bbCourseContentItemDescription",Object(s.a)(l))},mCEN:function(e,t,n){"use strict";var i=n("D57K"),s=n("yC9S"),a=n("aHpC"),o=n("0JpG"),r=n("ckcj"),l=n("zYa8"),c=n("me+T");const d="ultra.components.directives.bbUiIcon.large.Attendance";Object(l.a)(c.a,d,"bbUiIconLargeAttendance");var u=n("pWJj"),m=n("cXGx");const p="ultra.components.directives.bbUiIcon.large.Calculation";Object(l.a)(m.a,p,"bbUiIconLargeCalculation");var h=n("o/Pg"),g=n("MlM1");const b="ultra.components.directives.bbUiIcon.large.DocumentBlank";Object(l.a)(g.a,b,"bbUiIconLargeDocumentBlank");var f=n("06yj"),v=n("xMZ0"),y=n("rRc3"),k=n("K16Q");const x="ultra.components.directives.bbUiIcon.large.Homework";Object(l.a)(k.a,x,"bbUiIconLargeHomework");var S=n("r7jL");const C="ultra.components.directives.bbUiIcon.large.Photo";Object(l.a)(S.a,C,"bbUiIconLargePhoto");var E=n("F2PN"),I=n("9V5A"),w=n("P/1j"),A=n("dha+"),O=n("y8aX");const D="ultra.components.directives.bbUiIcon.large.OverallGrade";Object(l.a)(O.a,D,"bbUiIconLargeOverallGrade");var T=n("i+uu");const P="ultra.components.directives.bbUiIcon.large.Pdf";Object(l.a)(T.a,P,"bbUiIconLargePdf");var $=n("k6dK");const G="ultra.components.directives.bbUiIcon.large.Presentation";Object(l.a)($.a,G,"bbUiIconLargePresentation");var j=n("7zkF"),L=n("X4V6"),N=n("4uUs"),B=n("59Vg"),M=n("Uw7Y");const R="ultra.components.directives.bbUiIcon.large.Video";Object(l.a)(M.a,R,"bbUiIconLargeVideo");var F=n("FvSu");const V="ultra.components.directives.bbUiIcon.large.Audio";Object(l.a)(F.a,V,"bbUiIconLargeAudio");var _=n("jT78"),U=n("k12r"),H=n("xDwL");const z="ultra.components.directives.bbUiIcon.large.Participation";Object(l.a)(H.a,z,"bbUiIconLargeParticipation");var q=n("IL+z");const W="ultra.components.directives.bbUiIcon.large.CollaborativeCloud";Object(l.a)(q.a,W,"bbUiIconLargeCollaborativeCloud");var K=n("FH9J");n.d(t,"a",(function(){return J}));const J="ultra.components.directives.bbUiContentIcon";let Q=class{constructor(e,t){this.$scope=e,this.localize=t}$onChanges(){this.setTitleAccess()}setTitleAccess(){this.notDecorative&&this.icon&&(this.titleAccess=this.localize.translateSync({key:`components.directives.element-image.element-image-accessibility.img-icon-${this.icon}`,locale:this.localize.getLocale(this.$scope)}))}};Q=Object(i.a)([Object(s.a)({moduleName:J,componentName:"bbUiContentIcon",bindings:{icon:"<",color:"@?",notDecorative:"<?"},template:K,requireModules:[o.moduleName,h.a,r.a,d,V,u.a,p,h.a,b,f.a,v.a,y.a,x,E.a,I.a,w.a,A.a,D,P,C,G,j.a,L.a,N.a,B.a,R,_.a,U.a,z,W]}),Object(i.c)(0,Object(a.b)("$scope")),Object(i.c)(1,Object(a.b)(o.serviceName))],Q)},mWXo:function(e,t){e.exports='\n<div bb-grade-grid-menu-reborn id="{{id}}" class="reborn-dropdown-menu">\n  <ul ng-if="gradeGridColumnOverallReborn.gradeDetail.displayGrade.isOverride || col.gradeNotations.length" class="f-dropdown f-dropdown-overflow-menu reborn-dropdown performance-code-options show notation-no-border notation-max-height " role="menu">\n\n    <li ng-if="col.gradeNotations.length" class="performance-option-header">\n        <span bb-translate>components.directives.grade.grade-input.selectPerformanceCode</span>\n    </li>\n    <li ng-repeat="notation in col.gradeNotations" class="performance-code-option">\n      <a role="menuitem"\n         ng-click="gradeGridColumnOverallReborn.selectNotation(notation)"\n         href="javascript:void(0);"\n         analytics-id="components.directives.grade.grid.notation.link">\n        <span class="code" aria-label="{{notation.code}}">{{notation.code}}</span>\n        <span class="description notation-description-max-width" aria-label="{{notation.description}}">{{notation.description}}</span>\n      </a>\n    </li>\n    <li ng-if="gradeGridColumnOverallReborn.gradeDetail.displayGrade.isOverride" class="undo-override">\n      <a role="menuitem"\n         ng-click="gradeGridColumnOverallReborn.undoOverride()"\n         href="javascript:void(0);"\n         analytics-id="components.directives.grade.grade-input.undoOverride">\n        <bb-svg-icon size="small" icon="undo"></bb-svg-icon>\n        <bb-translate>components.directives.grade.grade-input.undoOverride</bb-translate>\n      </a>\n    </li>\n  </ul>\n</div>\n'},mhLG:function(e,t){e.exports='<bb-modal id="folder-drop-depth-limit-modal" class="notification js-folder-drop-limit"\n          modal-title-key="{{isChrome || hasFiles ? \'components.directives.fileUpload.folderDropDepthLimitTitle\' : \'components.directives.fileUpload.folderDropDepthLimitNotChromeTitle\'}}"\n          analytics-id-tag-prefix="components.directives.fileUpload">\n  <div name="modal-contents">\n    <ng-switch on="isChrome">\n      <div ng-switch-when="true">\n        <p>\n          <bb-translate>components.directives.fileUpload.folderDropDepthLimitFull</bb-translate>\n        </p>\n      </div>\n      <div ng-switch-default>\n        <ng-switch on="hasFiles">\n          <div ng-switch-when="true">\n            <p>\n              <bb-translate>components.directives.fileUpload.folderDropDepthLimitFullNotChromeAdditionalFiles</bb-translate>\n            </p>\n          </div>\n          <div ng-switch-default>\n            <p>\n              <bb-translate>components.directives.fileUpload.folderDropDepthLimitFulNotChromeNoMoreFiles</bb-translate>\n            </p>\n          </div>\n        </ng-switch>\n      </div>\n    </ng-switch>\n  </div>\n\n  <div name="modal-footer" class="reveal-modal__footer-content reveal-modal__footer-content--gray" ng-switch on="isChrome || hasFiles">\n    <div class="reveal-modal__footer-buttons">\n      <span class="reveal-modal__footer-button-container" ng-switch-when="true">\n        <button class="button button--secondary js-secondary-button" ng-click="fileUpload.modalCancelUpload()" analytics-id="components.directives.fileUpload.no">\n          <bb-translate>components.directives.fileUpload.no</bb-translate>\n        </button>\n      </span>\n      <span class="reveal-modal__footer-button-container" ng-switch-when="true">\n        <button class="button js-primary-button" ng-click="fileUpload.closeModal()" analytics-id="components.directives.fileUpload.yes">\n          <bb-translate>components.directives.fileUpload.yes</bb-translate>\n        </button>\n      </span>\n      <span class="reveal-modal__footer-button-container" ng-switch-when="false">\n        <button class="button js-primary-button" ng-click="fileUpload.modalCancelUpload()" analytics-id="components.directives.fileUpload.cancelUploadText">\n          <bb-translate>components.directives.fileUpload.cancelUploadText</bb-translate>\n        </button>\n      </span>\n    </div>\n  </div>\n</bb-modal>\n'},mkvA:function(e,t){e.exports='<div class="reveal-modal fade open" ng-class="{ in: $parent.animate }" role="{{::modal.ariaType}}" tabindex="-1" data-reveal\n     ng-multi-transclude-controller ng-attr-aria-label="{{::modal.titleString}}" ng-keydown="modal.handleKeyDown($event)">\n  <div class="reveal-modal__header">\n    <h1 class="reveal-modal__title" aria-describedby="modal-contents" bb-focus>\n      {{::modal.titleString}}\n    </h1>\n    <button class="close-reveal-modal standard-button light-background" \n            ng-click="modal.dismiss()" \n            bb-translate-attrs="{ \'aria-label\': \'global.close\' }"\n            analytics-id="{{modal.analyticsIdTagPrefix}}.modal.close.button">\n      <bb-svg-icon size="small" icon="close"></bb-svg-icon>\n    </button>\n  </div>\n  <div id="modal-contents" class="reveal-modal__contents" ng-multi-transclude="modal-contents"></div>\n  <footer ng-multi-transclude="modal-footer" class="reveal-modal__footer">\n    <div class="reveal-modal__footer-content reveal-modal__footer-content--gray">\n      <div ng-multi-transclude="modal-footer-help-link" class="reveal-modal__footer-help-link-container"></div>\n      <div class="reveal-modal__footer-buttons">\n        <span ng-multi-transclude="modal-footer-button-secondary" class="reveal-modal__footer-button-container"></span>\n        <span ng-multi-transclude="modal-footer-button-primary" class="reveal-modal__footer-button-container"></span>\n      </div>\n    </div>\n  </footer>\n  <div class="reveal-modal__dismiss" ng-class="{ \'hide\' : !modal.dismissString }">\n    <span class="reveal-modal__divider"></span>\n    <button class="button button--text dismiss-message expand" ng-click="modal.dismiss()" analytics-id="{{modal.analyticsIdTagPrefix}}..modal.dismiss.button">\n      <span>{{::modal.dismissString}}</span>\n    </button>\n  </div>\n</div>\n'},n1KZ:function(e,t){e.exports='<footer class="panel-footer notification row collapse" ng-click="toastClicked()"\n        analytics-id="components.services.toast.clicked">\n  <bb-save-tray toast-message="::message" toast-short-message="::shortMessage" toast-icon="::icon" toast-class="::toastClass" toast-status="::toastStatus"></bb-save-tray>\n</footer>\n'},nL6A:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.services.error-modal.error-course-is-closed.title"\n          analytics-id-tag-prefix="components.services.error-modal.error-course-is-closed">\n  <div name="modal-contents">\n    <p bb-translate>components.services.error-modal.error-course-is-closed.description</p>\n    <bb-session-debug-modal-button></bb-session-debug-modal-button>\n  </div>\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button large reload-page-button js-primary-button"\n          analytics-id="components.services.error-modal.error-course-is-closed.alt"\n          bb-translate>components.services.error-modal.error-course-is-closed.alt</button>\n</bb-modal>\n'},nPfc:function(e,t){e.exports='\x3c!-- Onsubmit Errors first --\x3e\n<script type="text/ng-template" id="default-onsubmit-error-messages">\n  <span ng-message="bbmlMarkup"><span bb-translate>components.directives.validation.messages.errors.invalid_bbml_markups</span></span>\n  <span ng-message="numberInvalidOnsubmit"><span bb-translate>components.directives.validation.messages.onsubmitErrors.number_invalid</span></span>\n  <span ng-message="numberLargeOnsubmit"><span bb-translate translate-values="{ value: onsubmitErrors.numberLargeOnsubmit.max }">components.directives.validation.messages.onsubmitErrors.number_large</span></span>\n  <span ng-message="numberSmallOnsubmit"><span bb-translate translate-values="{ value: onsubmitErrors.numberSmallOnsubmit.min }">components.directives.validation.messages.onsubmitErrors.number_small</span></span>\n  <span ng-message="maxlengthOnsubmit"><span bb-translate>components.directives.validation.messages.onsubmitErrors.maxlength</span></span>\n  <span ng-message="urlOnsubmit"><span bb-translate>components.directives.validation.messages.errors.url</span></span>\n  <span ng-message="requiredOnsubmit"><span bb-translate>components.directives.validation.messages.errors.required</span></span>\n  <span ng-message="emailOnsubmit"><span bb-translate>components.directives.validation.messages.errors.email</span></span>\n  <span ng-message="timeOnsubmit"><span bb-translate>components.directives.validation.messages.errors.time</span></span>\n  <span ng-message="dateOnsubmit"><span bb-translate>components.directives.validation.messages.errors.date</span></span>\n<\/script>\n\n\x3c!-- Errors --\x3e\n<script type="text/ng-template" id="default-error-messages">\n  <span ng-message="bbmlMarkup"><span bb-translate>components.directives.validation.messages.errors.invalid_bbml_markups</span></span>\n  <span ng-message="rangeInvalid"><span bb-translate translate-values="{ value: errors.rangeInvalidArgs.min }">components.directives.validation.messages.errors.range_invalid</span></span>\n  <span ng-message="numberInvalid"><span bb-translate>components.directives.validation.messages.errors.number_invalid</span></span>\n  <span ng-message="numberLarge"><span bb-translate translate-values="{ value: errors.numberLarge.max }">components.directives.validation.messages.errors.number_large</span></span>\n  <span ng-message="numberSmall"><span bb-translate translate-values="{ value: errors.numberSmall.min }">components.directives.validation.messages.errors.number_small</span></span>\n  <span ng-message="maxlength"><span role="status" aria-live="polite" bb-translate translate-values="{ diff: errors.maxlength.diff }">components.directives.validation.messages.errors.maxlength.plural</span></span>\n  <span ng-message="url"><span bb-translate>components.directives.validation.messages.errors.url</span></span>\n  <span ng-message="required"><span bb-translate>components.directives.validation.messages.errors.required</span></span>\n  <span ng-message="email"><span bb-translate>components.directives.validation.messages.errors.email</span></span>\n  <span ng-message="phoneNumber"><span bb-translate>components.directives.validation.messages.errors.phone_number_noSymbolsOrSpaces</span></span>\n  <span ng-message="time"><span bb-translate>components.directives.validation.messages.errors.time</span></span>\n  <span ng-message="date"><span class="js-error-date" bb-translate>components.directives.validation.messages.errors.date</span></span>\n  <span ng-message="maxDate"><span bb-translate translate-values="{ value: errors.maxDate.dateMax }">components.directives.validation.messages.errors.max_date</span></span>\n  <span ng-message="minDate"><span bb-translate translate-values="{ value: errors.minDate.dateMin }">components.directives.validation.messages.errors.min_date</span></span>\n  <span ng-message="schemaSymbolString"><span bb-translate>components.directives.validation.messages.errors.schema_symbol_string</span></span>\n<\/script>\n\n\x3c!-- Immediate Errors --\x3e\n<script type="text/ng-template" id="default-immediate-error-messages">\n  <span ng-message="maxlengthImmediate"><span role="status" aria-live="polite" bb-translate translate-values="{ diff: immediateErrors.maxlengthImmediate.diff }">components.directives.validation.messages.errors.maxlength.plural</span></span>\n<\/script>\n\n\x3c!-- Warnings --\x3e\n<script type="text/ng-template" id="default-warning-messages">\n  <span ng-message="bbmlMarkup"><span bb-translate>components.directives.validation.messages.warnings.invalid_bbml_markups_cleanup</span></span>\n  <span ng-message="maxlengthWarning"><span role="status" aria-live="polite" bb-translate translate-values="{ left: warnings.maxlengthWarning.left }">components.directives.validation.messages.warnings.maxlength.plural</span></span>\n<\/script>\n\n<div class="bb-validation-messages form-element-onsubmit-errors" ng-class="{\'sr-only\': !showOnsubmitErrors}">\n  <div ng-repeat="label in labels track by label" class="sr-only">\n    <div bb-translate translate-values="{ label: label }">components.directives.validation.messages.onsubmitFieldHasError</div>\n  </div>\n\n  <bb-svg-icon size="small" icon="attention"></bb-svg-icon>\n  <div ng-messages="onsubmitErrors">\n    <ng-transclude></ng-transclude>\n    <div ng-messages-include="default-onsubmit-error-messages"></div>\n  </div>\n</div>\n\n<div class="bb-validation-messages form-element-errors" ng-class="{\'sr-only\': !showErrors}">\n  <div ng-repeat="label in labels track by label" class="sr-only">\n    <div bb-translate translate-values="{ label: label }">components.directives.validation.messages.fieldHasError</div>\n  </div>\n  <bb-svg-icon size="small" icon="attention"></bb-svg-icon>\n  <div ng-messages="errors">\n    <ng-transclude class="js-error-message"></ng-transclude>\n    <div ng-messages-include="default-error-messages"></div>\n  </div>\n</div>\n\n<div class="bb-validation-messages form-element-errors" ng-class="{\'sr-only\': !showImmediateErrors}">\n  <bb-svg-icon size="small" icon="attention"></bb-svg-icon>\n  <div ng-messages="immediateErrors">\n    <ng-transclude></ng-transclude>\n    <div ng-messages-include="default-immediate-error-messages"></div>\n  </div>\n</div>\n\n<div class="bb-validation-messages form-element-warnings" ng-class="{\'sr-only\': !showWarnings}">\n  <bb-svg-icon size="small" icon="attention"></bb-svg-icon>\n  <div ng-messages="warnings">\n    <ng-transclude></ng-transclude>\n    <div ng-messages-include="default-warning-messages"></div>\n  </div>\n</div>\n'},nX1q:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("WaTp");const a="ultra.components.directives.bbUiIcon.small.Exempt";Object(i.a)(s.a,a,"bbUiIconSmallExempt")},nYZ0:function(e,t,n){"use strict";n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return x})),n.d(t,"f",(function(){return S})),n.d(t,"a",(function(){return C})),n.d(t,"e",(function(){return I})),n.d(t,"c",(function(){return O}));var i=n("Llzl"),s=n("nsO7"),a=n("+O05"),o=n("lmMM"),r=n("k9iv"),l=n("pjml"),c=n("e6jQ"),d=n("Q/M7"),u=n("adx1"),m=n("IbyE"),p=n("Sa5G"),h=n("yC9S"),g=n("zGdY"),b=n("AuQm"),f=n("VAMW"),v=n("6fZB"),y=n("W6wm");const k=9e5,x="ultra.services.content",S="contentService",C="content-update";class E extends u.a{constructor(){if(E._instance)throw new Error("Error: Instantiation failed: Use IndicatorCacheService.getInstance() instead of new.");super(),E._instance=this}static getInstance(){return E._instance}classConversationIndicatorRemoved(e,t,n,i){this.$emitEvent(E.CLASS_CONVERSATION_INDICATOR_REMOVED,e,t,n,i)}groupConversationIndicatorRemoved(e,t,n,i){this.$emitEvent(E.GROUP_CONVERSATION_INDICATOR_REMOVED,e,t,n,i)}$onClassConversationIndicatorRemoved(e){return super.$onEvent(E.CLASS_CONVERSATION_INDICATOR_REMOVED,e)}$onGroupConversationIndicatorRemoved(e){return super.$onEvent(E.GROUP_CONVERSATION_INDICATOR_REMOVED,e)}}function I(e,t){return e.$on("rootNodeElementFetched",t)}E._instance=new E,E.CLASS_CONVERSATION_INDICATOR_REMOVED="class-conversation-indicator-removed",E.GROUP_CONVERSATION_INDICATOR_REMOVED="group-conversation-indicator-removed";class w{constructor(e){this.service=e,this.key=f.d.Content}generateDeleteConfirmationKey(e,t,n){const i=this.service.generateDeleteConfirmationKey(e,t,n);return Object(v.a)(i)}updateCourseLinks(e,t=!1){return Object(v.a)(this.service.updateVisibility(e,t))}}class A{constructor(e,t,n,i,s,a,o,r){this.$q=e,this.DSCacheFactory=t,this.CourseModel=n,this.PartnerContentIdModel=i,this.errorModal=s,this.assessment=a,this.$rootScope=o,this.$ngRedux=r,this.rootNodeCache=t.createCache("rootNodes"),this.settingsCache=t.createCache("contentSettings"),this.indicatorsCache=t.createCache("indicators",{maxAge:k,deleteOnExpire:"aggressive"}),this.fetchIndicatorsPromiseCache={},this.indicatorCacheService=E.getInstance(),h.b.OnRootScope(o,"content-update",((e,t)=>this.refreshContentInCache(t))),this.subscribeToRedux(r),Object(f.f)(new w(this))}subscribeToRedux(e){e.connect((e=>({})),(e=>({deleteContentInStore:t=>e(m.X.content.deleteContentInStore(t))})))(this)}truncateDescription(e,t){if(t=t||A.MAX_LENGTH,!e||e.length<=t)return e;const n=" ...";t-=n.length;let i=e.lastIndexOf(" ",t);return i<=0&&(i=t),e.substr(0,i)+n}findRootNode(e,t,n){const i=this.getCacheKey(t,e.$pk)+(null!=n?n:"");let s=this.rootNodeCache.get(i);var a,o,r;return s||(s=e.contents.$find(t.toString()),this.rootNodeCache.put(i,s),a=this.$rootScope,o=e.$pk,r=t,a.$broadcast("rootNodeElementFetched",o,r)),s}findContentItem(e,t){return e.contents.$find(t,{expand:"alignedGoals,assignedGroups,selfEnrollmentGroups.group"}).$allow([403])}getCacheKey(e,t){return e.toString()+t}getSettings(e){return this.settingsCache.get(e)}putSettings(e,t){return this.settingsCache.put(e,t)}removeSettings(e){return this.settingsCache.remove(e)}getCourseIndicators(e){return this.indicatorsCache.get(`courseId_${e}`)}putCourseIndicators(e,t){return this.indicatorsCache.put(`courseId_${e}`,t)}removeCourseIndicators(e){return this.indicatorsCache.remove(`courseId_${e}`)}refreshContentInCache(e){if(!e)return;const t=e.courseId,n=p.h.getValues();for(let i=0;i<n.length;i++){const s=n[i],a=this.getCacheKey(s,t),o=this.rootNodeCache.get(a);if(o){if(this.updateCachedContent(o,e))return void this.rootNodeCache.put(a,o)}}}updateCachedContent(e,t){if(e.id===t.id)return null!=t.isAvailable&&(e.isAvailable=t.isAvailable),null!=t.visibility&&(e.visibility=t.visibility),null!=t.isPartiallyVisible&&(e.isPartiallyVisible=t.isPartiallyVisible),null!=t.isGroupContent&&(e.isGroupContent=t.isGroupContent),null!=t.assignedGroups&&(e.assignedGroups=t.assignedGroups),t.adaptiveReleaseRules&&(e.adaptiveReleaseRules=t.adaptiveReleaseRules),e.title=t.title,e.attachedForumLink=t.attachedForumLink,e.ui&&(void 0===e.ui.hasConversationAttached||e.isScorm())&&(e.ui.hasConversationAttached=!!t.attachedForumLink),e.updateProctoringSettings(t),!0;if(e.children)for(let n=0;n<e.children.length;n++){const i=e.children[n];if(this.updateCachedContent(i,t))return!0}return!1}getOrMakeContentInContentTree(e,t,n,i,s,a){return n?this.getContentInContentTree(e,t,n):this.makeContentInContentTree(e,t,i,s,a)}getContentInContentTree(e,t,n){let i,s;return e.$asPromise().then((e=>(e.children=e.children||e.getChildren({limit:0,recursive:!0}),e.children.$asPromise()))).then((()=>{if(n){if(i=e.findInTreeById(n),i)i.isSafeAssignOn()||!i.isTest()&&!i.isAssignment()||i.$fetch({fields:"safeAssignOptions"});else{const e="alignedGoals,assignedGroups,selfEnrollmentGroups.group";i=this.CourseModel.$new(t).contents.$find(n,{expand:e}).$allow([403])}return i.$asPromise()}})).then((()=>{if(i&&i.parentId)return s=e.findInTreeById(i.parentId),s||(s=this.CourseModel.$new(t).contents.$find(i.parentId)),s.$asPromise()})).then((()=>({content:i,parentFolder:s})))}makeContentInContentTree(e,t,n,i,s,a){let o,r;return e.$asPromise().then((e=>(e.children=e.children||e.getChildren({limit:0}),e.children.$asPromise()))).then((()=>(r=this.getParentFolder(n,t,e),r.$asPromise()))).then((()=>(r.children=r.children||r.getChildren({limit:0}),r.children.$asPromise()))).then((()=>{let e=r.children.indexOfItemById(void 0);return!a&&e>=0&&r.children[e].positionBefore===i&&r.children[e].positionAfter===s?o=r.children[e]:(o=r.children.$build(),e=r.children.getInsertionIndex(i,s,!0,r.hasMoreChildren),e>=0&&o.addAndRevealAtIndex(e),r.children.paging&&r.children.paging.count++),null!=i&&(o.positionBefore=i),null!=s&&null==i&&(o.positionAfter=s),o.parentId=n||r&&r.id,o.depth=r&&null!=r.depth?r.depth+1:void 0,o.courseId=t,{content:o,parentFolder:r}}))}getParentFolder(e,t,n){let i;return e?(i=n.findInTreeById(e),i||(i=this.CourseModel.$new(t).contents.$find(e).$allow([g.S.Forbidden]))):i=n,i}makeSoftLinkContentInContentTree(e,t,n,i,s,a){return this.makeContentInContentTree(t,n,i,s,a).then((t=>{const n=t.content;return e&&e.$pk&&(n.contentHandler=l.p.ContentHandler.CourseLink,n.ui.linkSource=e),n.id=null,n.description=e.description,n.title=e.title,n.courseId=e.courseId,n.isAvailable=e.isAvailable,n.visibility=e.visibility,n.contentDetail={"resource/x-bb-courselink":{linkSourceId:e.id,linkSourceTable:"CONTENT"}},n}))}isEmpty(e){return!e||0===e.trim().length}parseForumId(e){const t=e.split("/");return t[t.length-1]}determineVisibility(e,t){return e?g.w.Visible:g.w.Hidden}generateDeleteConfirmationKey(e,t,n){const i=this.$q.defer();return e.ui.modalShowType=o.b.UserChoice.toString(),!e.isFolder()&&!e.isLearningModule()||e.isRoot()?e.canHaveSharedGradingColumn()&&e.hasGradingColumn()&&p.g.PartnerCloud.isEqualTo(e.contentHandler)?this.PartnerContentIdModel.getContentIds(e.courseId,e.linkRef).then((t=>{t.contentIds.length>1?(e.ui.modalShowType=o.b.Always.toString(),e.ui.deleteConfirmationKey=e.getContentDisplay().deleteKey()+"-shared-grade-column",i.resolve(e)):this.checkForAttempts(e,i,n)})).catch((t=>{this.errorModal.handleApiError(t.$response),i.reject(e)})):this.checkForAttempts(e,i,n):e.isBbPage()?(e.ui.deleteConfirmationKey=p.g.Page.toString(),e.hasCourseLinks().then((t=>{t&&(e.ui.deleteConfirmationKey=e.ui.deleteConfirmationKey+this.getHasCourseLinkSuffix(n),e.ui.modalShowType=o.b.Always.toString())})).catch((()=>{})).finally((()=>{i.resolve(e)}))):e.getChildren().$then((n=>{if(n&&n.length>0){e.ui.modalShowType=o.b.Always.toString();const s=n.filter((e=>e&&e.isDiscussion())).length;e.hasGradedContentItems().then((a=>{a?e.ui.deleteConfirmationKey=e.contentHandler+"-contains-graded-items":s===n.length?e.ui.deleteConfirmationKey=e.contentHandler+"-all-discussions-"+t:s>0?t===y.a.Discussions?e.ui.deleteConfirmationKey=e.contentHandler+"-no-discussions":e.ui.deleteConfirmationKey=e.contentHandler+"-contains-discussions":e.ui.deleteConfirmationKey=e.contentHandler+"-no-discussions",i.resolve(e)}))}else e.ui.deleteConfirmationKey=e.contentHandler+"-empty",i.resolve(e)})),i.promise}getHasCourseLinkSuffix(e){return e?"-has-org-links":"-has-course-links"}getCourseLinkSuffix(e){return e?"-org-link":"-course-link"}checkForAttempts(e,t,n){e.ui.deleteConfirmationKey=e.getContentDisplay().deleteKey(),e.hasCourseLinks().then((t=>{t&&(e.ui.deleteConfirmationKey=e.ui.deleteConfirmationKey+this.getHasCourseLinkSuffix(n),e.ui.modalShowType=o.b.Always.toString())})).catch((()=>{})).finally((()=>{var i;if(e.canHaveAttempts()&&e.hasGradingColumn())e.ui.modalShowType=o.b.Always.toString(),e.getAttemptCount().then((n=>{n>0&&(e.ui.deleteConfirmationKey=e.ui.deleteConfirmationKey+"-data"),t.resolve(e)})).catch((n=>{403===n.$response.status?(e.ui.modalShowType=o.b.Always.toString(),e.ui.deleteConfirmationKey=e.ui.deleteConfirmationKey+"-unknown",t.resolve(e)):(this.errorModal.handleApiError(n.$response),t.reject(e))}));else if(p.g.Discussion.isEqualTo(e.contentHandler))e.ui.deleteConfirmationKey=e.getContentDisplay().deleteKey(),e.$fetch().$then((n=>{const i=n.contentDetail[p.g.Discussion.toString()];i&&i.properties.allowForumGrading&&(e.ui.modalShowType=o.b.Always.toString(),e.ui.deleteConfirmationKey=e.getContentDisplay().deleteKey()+"-graded"),t.resolve(e)}));else if(e.isJournal())e.$fetch().$then((n=>{const i=n.contentDetail[p.g.Journal.toString()].blog;i&&i.gradingAllowed&&(e.ui.modalShowType=o.b.Always.toString(),e.ui.deleteConfirmationKey=e.ui.deleteConfirmationKey+"-graded"),t.resolve(e)}));else if(p.g.CourseLink.isEqualTo(e.contentHandler)){const s=e.getLinkContentSource();if(p.g.Discussion.isEqualTo(null==s?void 0:s.contentHandler)){e.ui.deleteConfirmationKey=e.getContentDisplay().deleteKey();const t=s.contentDetail[p.g.Discussion.toString()];t&&t.properties.allowForumGrading&&(e.ui.modalShowType=o.b.Always.toString(),e.ui.deleteConfirmationKey=e.getContentDisplay().deleteKey()+"-graded")}else{const t=this.getCourseLinkSuffix(n),a=(null==s?void 0:s.isBbPage())?e.ui.deleteConfirmationKey=p.g.Page.toString():null===(i=null==s?void 0:s.getContentDisplay())||void 0===i?void 0:i.deleteKey();e.ui.deleteConfirmationKey=a?a+t:e.getContentDisplay().deleteKey()+t}e.ui.modalShowType=o.b.Always.toString(),t.resolve(e)}else t.resolve(e)}))}deleteContent(e){if(e.id){e.ui.isDeleted=!0;const t={};return(e.isGroupContent||e.isFolder())&&(t.deleteGroups=!0),(e.canHaveAttempts()||e.isDiscussion()||e.isFolder())&&(t.deleteGrades=!0),e.withParams(t).$destroy().$suppressErrorDialog().$asPromise().then((t=>(this.deleteContentInStore&&this.deleteContentInStore(e.id),t))).catch((t=>{e.ui.isDeleted=!1;const n=t.$response;return this.assessment.isExternallyRefQuestionsAPIError(n.data)?this.assessment.openHasExternallyRefQuestionsModal(this.getExternallyRefQuestionsModalType(e.contentHandler)):this.errorModal.handleApiError(n),this.$q.reject(n)}))}return this.$q.when()}getExternallyRefQuestionsModalType(e){return p.g.Folder.isEqualTo(e)?a.b.FOLDER:a.b.ASSESSMENT}canOnlyCreateDiscussion(e){return e&&e.children&&e.children.permissions&&!e.children.permissions.create&&e.children.permissions.contentHandlerPermissionMap&&e.children.permissions.contentHandlerPermissionMap.createDiscussion}canCreateAllContent(e){return e&&e.children&&e.children.permissions&&e.children.permissions.create}convertBbMLToAttemptFileContentBlocks(e){const t=[];return this.convertBbMLToContentBlocks(e).forEach((e=>{"attemptFileBlock"in e&&t.push(e.attemptFileBlock)})),t}convertAttemptFileContentBlocksToBbML(e){const t=[];e.forEach((e=>{t.push({attemptFileBlock:e})}));return this.convertContentBlocksToBbML(t,"question1 ")}convertBbMLToContentBlocks(e){const t=[],n=document.createElement("div");n.innerHTML=e;for(let e=0;e<n.children.length;e++){const i=n.children[e];if("A"===i.tagName)t.push(this.convertBbMLToFileBlock(i));else if("DIV"===i.tagName){const e=this.getBlockIdFromBbML(i);t.push({textBlock:i.innerHTML.trim(),id:e})}}return t}convertBbMLToFileBlock(e){const t={file:{}};if(e.dataset&&e.dataset.bbfile)try{const n=JSON.parse(e.dataset.bbfile);t.alternativeText=n.alternativeText,t.ui={isRenderedInline:Object(b.jb)(n.render)},t.linkName=n.linkName,t.currentMimeType=n.mimeType}catch(e){}else if(e.dataset&&e.dataset.bbmedia)try{const n=JSON.parse(e.dataset.bbmedia);t.alternativeText=n.alternativeText,t.ui={isRenderedInline:Object(b.jb)(n.render)}}catch(e){}t.linkName||(t.linkName=e.innerHTML.substr(0,e.innerHTML.lastIndexOf("?"))),t.currentMimeType||(t.currentMimeType=e.innerHTML.substr(e.innerHTML.lastIndexOf("?")+1));let n=e.href;0===n.indexOf("http://localhost")&&(n=d.c(n.substr("http://localhost".length))),t.downloadUrl=n;const i=n.match(/xid-(\d+_\d+)/);i&&(t.id=i[1]);return{attemptFileBlock:t,id:this.getBlockIdFromBbML(e)}}convertContentBlocksToBbML(e,t){const n=document.createElement("div");return e.forEach((e=>{if("attemptFileBlock"in e){const t=document.createElement("a");if(t.href=e.attemptFileBlock.downloadUrl,e.attemptFileBlock.ui){const n={};e.attemptFileBlock.ui.isRenderedInline?n.render=m.t.Inline:n.render=m.t.Attachment,e.attemptFileBlock.alternativeText&&(n.alternativeText=e.attemptFileBlock.alternativeText),e.attemptFileBlock.linkName&&(n.linkName=e.attemptFileBlock.linkName),e.attemptFileBlock.currentMimeType&&(n.mimeType=e.attemptFileBlock.currentMimeType),t.dataset.bbfile=JSON.stringify(n)}e.id&&(t.id=e.id),t.innerHTML=e.attemptFileBlock.linkName+"?"+e.attemptFileBlock.currentMimeType,n.appendChild(t)}else if("textBlock"in e){const t=document.createElement("div");e.id&&(t.id=e.id),t.innerHTML=e.textBlock,n.appendChild(t)}e.isNewToBbML&&delete e.isNewToBbML})),(t||"")+n.innerHTML}getBlockIdFromBbML(e){let t=null;return t=e.id?e.id:this.generateBlockId(),t}generateBlockId(){return"bbml-editor-id_"+c.b()}fetchIndicatorsPerRequest(e){let t=this.fetchIndicatorsPromiseCache[e];return t||(t=this.CourseModel.$new(e).indicators.$fetch().$asPromise().then((t=>(this.putCourseIndicators(e,t),t)),(e=>{401!==e.$response.status&&(e.$response.status=null),console.error("Fetch indicators error!")})).finally((()=>{delete this.fetchIndicatorsPromiseCache[e]})),this.fetchIndicatorsPromiseCache[e]=t,t)}fetchIndicators(e,t){if(t)return this.fetchIndicatorsPerRequest(e);const n=this.getCourseIndicators(e);return n?this.$q.when(n):this.fetchIndicatorsPerRequest(e)}getCourseContentCache(e,t){const n=this.getCourseIndicators(e);return n?n.filter((e=>e.contentId===t))[0]:null}setClassConversationHasIndicatorToFalseInCache(e,t,n){let i=this.getCourseIndicators(e);if(i){const a=s.find(i,(e=>e.contentId===t));a&&(a.classConversationHasIndicator=!1,a.groupIds||(i=s.filter(i,(e=>e.contentId!==t))),this.putCourseIndicators(e,i),this.indicatorCacheService.classConversationIndicatorRemoved(e,t,!!a.groupIds,n))}}removeGroupIdFromIndicatorCache(e,t,n,i){if(!n)return null;let a=this.getCourseIndicators(e);if(a){const o=s.find(a,(e=>e.contentId===t));if(o){if(o.groupIds=s.filter(o.groupIds,(e=>n!==e)),o.groupIds&&0===o.groupIds.length)return delete o.groupIds,o.classConversationHasIndicator||(a=s.filter(a,(e=>e.contentId!==t))),this.putCourseIndicators(e,a),void this.indicatorCacheService.groupConversationIndicatorRemoved(e,t,o.classConversationHasIndicator,i);this.putCourseIndicators(e,a)}}}clearContentGroups(e,t){const n=this.$q.defer();if(e.assignedGroups){if(e.assignedGroups.some((e=>!e.group)))throw new Error("Expected group to be expanded on content group assignments when clearing groups.");const i=e.assignedGroups.filter((e=>!e.group.groupSetId)).map((e=>({method:"DELETE",relativeUrl:e.groupId})));i.length>0&&t.groups.batchUpdate(i),e.isGroupContent=!1,e.assignedGroups=[],e.saveAssignedGroups(!0).$asPromise().then((()=>{this.$rootScope.$broadcast(C,e),n.resolve(e)}))}else n.resolve(e);return n.promise}canForcedSequenceBeEnabled(e){return e.canForcedSequenceBeEnabled()}updateVisibility(e,t=!1){return t&&this.$rootScope.$broadcast("content-update",e),this.$q.when((async()=>{if(!await e.hasCourseLinks())return;const t=await e.getSoftLinks().$asPromise(),n=this.CourseModel.$new(e.courseId),i=this.findRootNode(n,l.p.ContentRootNode.ROOT);return Promise.all((null!=t?t:[]).map((async({courseContent:e})=>{let t=i.findInTreeById(e);t||(t=n.contents.$new(e));const s=await t.$fetch().$asPromise();return s.getLinkContentSource().$then((()=>{this.$rootScope.$broadcast("content-update",s,!1)})),s})))})())}}A.MAX_LENGTH=60,A.MAX_LENGTH_IN_CONTENT_ITEM=750,A.$inject=["$q","DSCacheFactory",l.m.serviceName,l.S.serviceName,r.c,a.h,"$rootScope","$ngRedux"];class O extends A{}i.module(x,["angular-data.DSCacheFactory",l.N,r.b,a.g]).service(S,A)},nawZ:function(e,t,n){"use strict";var i;!function(e){e.ModifyException="course.assessment.exceptions.MODIFY",e.ViewException="course.assessment.exceptions.VIEW"}(i||(i={})),t.a=i},neh4:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("JzsJ");var i=n("5MwF"),s=n("Llzl"),a=n("0JpG"),o=n("w9Zy"),r=n("Qbdf"),l=n("X455"),c=n("bF8R"),d=n("vdfi"),u=n("jhBu"),m=n("o5Lu"),p=n("TnpK"),h=n("pjml"),g=n("nmzr");const b="ultra.course.content.assignment.routes";s.module(b,[a.moduleName,c.a,u.a,m.m,p.b,r.b]).config([p.c,r.c,l.b,(e,t,s)=>{e.peekState("assignment",{abstract:!0,url:"/assignment/:assignmentId?courseId",resolve:{[r.d]:t.resolve,[l.c]:s.resolve,contentData:[r.d,c.b,p.d,(e,t,n)=>t.loadContentAndGrades({course:e,contentId:n.nextParams.assignmentId,contentHandler:h.p.ContentHandler.UltraAssignment})],currentContent:["contentData",e=>e.courseContent],currentColumn:["contentData",e=>null!=e.gradingColumn.rubricAssociations?e.gradingColumn.$asPromise():e.gradingColumn.$fetch({expand:"associatedRubrics"}).$asPromise()]},peekStates:["conversations",g.o.COURSE_MESSAGE],peekViewName:"assignment-conversation@"}).peekState("assignment.router",{url:"/route",routingFunction:[h.m.serviceName,u.b,p.d,(e,t,n)=>{const i=n.nextParams.courseId?n.nextParams.courseId:n.prevParams.courseId;e.$new(i).contents.$find(n.nextParams.assignmentId).$then((e=>{e.canViewAsInstructor()?n.go(n.prev.name,n.prevParams).then((()=>{n.goPeekState("gradebook-item.assignment",{courseId:e.courseId,contentId:e.id,gradeitemView:"details"})})):n.go(n.prev.name,n.prevParams).then((()=>{n.goPeekState("assignment.view",{courseId:e.courseId,assignmentId:e.id})}))}))}]}).peekState("assignment.view",{url:"/view",resolve:{translations:["$q",a.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/assignment/assignment"),t.loadBundle("features/course/content/course-content"),t.loadBundle("features/course/goal-alignment/goal")])],prefetch:["$q",h.m.serviceName,p.d,(e,t,n)=>{const s=n.nextParams.courseId?n.nextParams.courseId:n.prevParams.courseId;i.a.features.httpEase&&t.$new(s).contents.$find(n.nextParams.assignmentId,{expand:"assignedGroups,associatedRubrics,alignedGoals"}).$then((e=>{t.$new(s).gradebook.columns.$find(e.getDeployedAssessment().gradingColumn.id,{expand:"associatedRubrics,rubricAssociations.rubricDefinition.alignedGoals,rubricAssociations.rubricDefinition.rows.alignedGoals"})}))}]},require:[()=>Promise.all([n.e(18),n.e(70)]).then(n.bind(null,"pA7Z"))],pageTitle:"course.content.assignmentAttempt",peekStates:["conversations",g.o.COURSE_MESSAGE],peekViewName:"assignment-conversation@"}).peekState("assignment.view.attempt",{abstract:!0,url:"/attempt"}).peekState("assignment.view.attempt.edit",{url:"/{attemptId:_[0-9]+_1}",onEnter:[o.e,p.d,(e,t)=>{t.isPeekPanelOpen()&&e.expandTopPanel()}],panelClass:"full",resolve:{translations:["$q",a.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/assignment/assignment"),t.loadBundle("features/course/goal-alignment/goal")])]},require:[()=>Promise.all([n.e(18),n.e(9),n.e(585)]).then(n.bind(null,"OXIQ"))],pageTitle:"course.content.assignmentAttempt",peekStates:["conversations",g.o.COURSE_MESSAGE,"rubric-evaluation","rubric-view",d.b],peekViewName:"assignment-conversation@"}).peekState("assignment.view.attempt.finished",{url:"/view",onEnter:[o.e,p.d,e=>{e.shrinkTopPanel()}],params:{gradeDetail:null},resolve:{translations:[a.serviceName,e=>e.loadBundle("features/course/content/assignment/assignment")]},require:()=>Promise.all([n.e(18),n.e(70)]).then(n.bind(null,"pA7Z")),pageTitle:"course.content.assignmentAttempt"}).peekState("assignment.grade",{url:"/grade",resolve:{translations:[a.serviceName,e=>e.loadBundle("features/course/content/assignment/assignment")]},require:()=>Promise.all([n.e(18),n.e(70)]).then(n.bind(null,"pA7Z")),pageTitle:"course.content.assignmentGrading"})}])},"nh++":function(e,t,n){},nkTj:function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return f}));n("QLzv"),n("BnCD"),n("/fvP");var i=n("71td"),s=n("Llzl"),a=n("nsO7"),o=n("VdDF"),r=n("HDxW"),l=n("k9iv"),c=n("z6Q5"),d=n("Qbdf"),u=n("Q/M7");const m=e=>e,p="ultra.model.utilities",h="ultra.model.utilities.Utilities";function g(e,t){return null!=e?e:t}function b(e,t){if(e.$isCollection){return"PUT"===e.$response.config.method&&Array.isArray(t)?t.map((e=>e.statusCode>=200&&e.statusCode<300?s.fromJson(e.body):e.body)):(e.paging=t&&t.paging,e.permissions=t&&t.permissions,t&&t.results)}return t}class f{static isValid(e){return!a.isEmpty(e)&&/^_\d+_\d+$/.test(e)}}let v;s.module(p,["restmod",l.b,c.a,r.a]).factory(h,["$http","$q",(e,t)=>({getDataMixin:(e,n,i)=>(s,a)=>{const o=(a=a||{}).path||"",r=a.overrideIdKey,l=a.params;return t.when(s).then((s=>{const c=t.defer();if(null==s||0===s.length)return c.resolve(s),c.promise;const d={};s.forEach((e=>{const t=function(e,t){return t.split(".").reduce(((e,t)=>t?e&&e[t]:e),e)}(e,o+"."+(r||n));if(t){(d[t]=d[t]||[]).push(e)}}));const u=Object.keys(d);return e(u,l).$asPromise().then((e=>{e.forEach(((e,t)=>{d[u[t]].forEach((t=>{!function(e,t,n){const i=t.split(".");for(let t=0;t<i.length-1;t++)i[t]&&(e=e&&e[i[t]]);e&&(e[i[i.length-1]]=n)}(t,o+"."+(a.overrideResultKey||i),e)}))})),c.resolve(s)})),c.promise}))},createHooksToFetchParent:function(){function n(n,i){n.cache={get:()=>t.all([e(a.omit(n,"cache")),i.$resolve().$asPromise()]).then((([e])=>e))}}const i={"before-fetch-many":function(e){n(e,this.$scope.$scope)},"before-fetch":function(e){n(e,this.$scope.$scope.$scope)}};return function(e){return{"after-fetch-many":function(){this.forEach((t=>t[e]=this.$scope.$scope))},"after-fetch":function(){this[e]=this.$scope.$scope.$scope},...i}}}()})]).factory("DateSerializer",(()=>({encode:e=>o.a.parseDateToISOString(e),decode:e=>o.a.parseStringToDate(e)}))).filter("localDate",(()=>e=>o.a.convertToLocalDate(e))).factory("BbRestmodFindMany",["restmod","$q",c.b,"restmod.Preload",(e,t,n)=>e.mixin({$extend:{"Scope.canCreate":function(){return this.permissions&&this.permissions.create},"Scope.canEdit":function(){return this.permissions&&this.permissions.edit},"Scope.canDelete":function(){return this.permissions&&this.permissions.delete},Scope:{findMany(e,i,a){const o=this.$collection();return o.$always((()=>n.performBatch((n=>t.all(e.map((e=>{const t=this.$new(e).$fetch(s.extend({[c.c]:n},i));return(a||[]).length>0?t.$allow(a).$asPromise():t.$asPromise()}))))).then((e=>{e.forEach((e=>o.push(e)))}))))}}},$hooks:{"before-find-many":function(e){e.method="PUT",e.data=(e.params&&e.params.ids||[]).map((t=>{const n=s.copy(e.params);delete n.ids;return{method:"GET",relativeUrl:t+(n&&"?"+i.param(n)||"")}})),e.params&&delete e.params.ids}}})]).factory("BbApiStyle",["restmod",e=>e.mixin((function(){this.setProperty("style","BB").setProperty("primaryKey","id")}))]).factory("BbEncodeUrl",["restmod","inflector",(e,t)=>e.mixin({$extend:{Model:{encodeUrlName:e=>t.camelize(e)}}})]).factory("BbUi",["restmod",e=>e.mixin({ui:{mask:!0,init:()=>({})}})]).factory("BbWithParams",["restmod",e=>e.mixin({$extend:{Record:{withParams(e,t){const n=function(i){i.params||(i.params={}),Object.keys(e).forEach((n=>{i.params[n]=t?t(i.params[n],e[n],n):e[n]})),this.$off("before-request",n)};return this.$on("before-request",n),this}}}})]).factory("BbApiErrorHandlerInjector",["restmod","$injector","$window","$rootScope",l.c,r.b,(e,t,n,i,s,a)=>e.mixin({$hooks:{"after-request-error":function(){this.__bb_suppressErrorDialog||setTimeout((()=>{this.$then((()=>{}),a.handle)}))}}})]).factory("BbCheckStatusCode",["restmod",e=>e.mixin({$extend:{Resource:{isStatusCode(e){return this.$response&&this.$response.status&&this.$response.status===e}}}})]).factory("BbPermissions",["restmod","restmod.Preload",e=>e.mixin({$extend:{Record:{canCreate(){return this.permissions&&this.permissions.create},canEdit(){return this.permissions&&this.permissions.edit},canDelete(){return this.permissions&&this.permissions.delete}}}})]).factory("BbPermissionsMask",["restmod",e=>e.mixin({permissions:{mask:"CU"}})]).factory("$ExtendRecord",["RMUtils",function(e){const t=Symbol("$extendRecord");return{$extend:{"Model.$extendRecord":function(e){return this[t]=this[t]||[],this[t].push(e),this},"Record.$decode":function(n,i){const s=this.$super.apply(this,arguments);if(void 0===this.$type)throw new Error("NOT_FOUND_$MODEL");return(this.$type[t]||[]).some((t=>{const i=t(s,n);return!!i&&(e.extendOverriden(s,i),!0)})),s}}}}]).factory("BbExpandParams",["restmod",e=>{const t=function(e){return!!a.isString(e)&&""!==e.trim()},n=function(e){let n;return n=Array.isArray(e)?e.filter(t):a.isString(e)?e.split(",").filter(t):[],n},i=Symbol("$expand_params"),s=function(e){return function(e,t=new Set){const i=n(e);return i.length<=0||i.every((e=>t.has(e)))}(e&&e.expand||"",this[i])?this.$resolve():this.$fetch(e)};return e.mixin({$hooks:{"after-request":function(e){this[i]=function(e){const t=e.config&&e.config.params&&e.config.params.expand,i=n(t);return new Set(i)}(e)}},$extend:{"Record.$fetchIfNotExpanded":s,"Collection.$fetchIfNotExpanded":s}})}]).factory("BbExcludeCourseActivity",["restmod","$injector",(e,t)=>e.mixin({$hooks:{"before-request":function(e){const n=t.get(d.e),i=e.url,s="GET"===e.method,a=!!n.courseId,o=/\/courses\/_\d+_1(\/gradebook\/(schemas|grades|columns|categories|summaries|attempts)|\/memberships|\/messageFolders|\/attendanceRecords|\/conversations|\/contents\/_\d)/.test(i);!a&&s&&o&&(e.url=Object(u.a)(i,"isExcludedFromCourseUserActivity","true"))}}})]).config(["restmodProvider",e=>{function t(e){e=e||[];const t=this.$promise=this.$promise||v.when(this),n=v.defer();return this.$promise=n.promise,t.then((e=>{n.resolve(e)}),(t=>{e.some((e=>{const n=[0];if("number"==typeof e)n[0]=e;else if("string"==typeof e){const t=e.split("-");n[0]=parseInt(t[0],10),n[1]=parseInt(t[1]||t[0],10)}return n[1]=n[1]||n[0],t&&t.$response.status>=n[0]&&t.$response.status<=n[1]}))?n.resolve(t):n.reject(t)})),this}function n(){if(this.__bb_suppressErrorDialog=!0,!this.$promise)throw new Error("suppressErrorDialog must be called after performing an action, such as $fetch or $resolve");return this.$finally((()=>{this.__bb_suppressErrorDialog=!1}))}function i(e,t){const n=Object.create(null);return Object.keys(e).forEach((i=>{if("$"===i[0])return;const a=e[i];s.equals(a,t[i])||(n[i]=t[i])})),Object.keys(t).forEach((i=>{if("$"===i[0])return;if(n[i])return;const a=t[i];s.equals(a,e[i])||(n[i]=a)})),o(n,"")}function o(e,t){const n=Object.keys(e);let i,a=[];for(let r=0;r<n.length;r++)i=t?t+"."+n[r]:n[r],a.push(i),"$"!==n[r].charAt(0)&&e[n[r]]&&"object"==typeof e[n[r]]&&!s.isArray(e[n[r]])&&(a=a.concat(o(e[n[r]],i)));return a}e.rebase("BbRestmodFindMany"),e.rebase("BbPermissions"),e.rebase("BbPermissionsMask"),e.rebase("BbApiStyle"),e.rebase("BbApiErrorHandlerInjector"),e.rebase("BbEncodeUrl"),e.rebase("BbWithParams"),e.rebase("BbCheckStatusCode"),e.rebase("BbUi"),e.rebase("restmod.Preload"),e.rebase("restmod.FindMany"),e.rebase("$ExtendRecord"),e.rebase("BbExpandParams"),e.rebase("BbExcludeCourseActivity"),e.rebase({$extend:{"Model.$mixHook":function(e,t,n){const i=this,s="$mixHook_"+e,o=s+"_hook";i[s]=i[s]||[],i[s].push(t),i[o]=i[o]||Object(a.once)((function(){i.mix({$hooks:{[e](...e){(i[s]||[]).forEach((t=>t&&t.apply(this,e)))}}})})),i[o]();const r=Object(a.once)((()=>{Object(a.remove)(i[s],(e=>e===t))}));return n&&n.$on("$destroy",r),r}}}),e.rebase({"Model.unpack":b,"Record.$allow":t,"Collection.$allow":t,"Record.$suppressErrorDialog":n,"Collection.$suppressErrorDialog":n,"Record.$revert":function(e){const t=e||this.$_ultra_previous_version,n=i(t,this.$encode("U")),s=this.constructor.$buildRaw(t);return n.forEach((e=>{this[e]=s[e]})),this},"Record.$snapshot":function(){return this.$_ultra_previous_version=this.$encode("U"),this.$_ultra_previous_version},"Record.$getChangedKeys":function(){return i(this.$_ultra_previous_version||{},this.$encode("U"))},"Record.$getPreviousVersion":function(){return this.$_ultra_previous_version},"Record.$patch":function(e){const t=i(this.$_ultra_previous_version||{},this.$encode("U"));if(e&&e.length>0&&e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t.length>0){this.$_ultra_patchHolder={data:this.$wrap("U"),changedKeys:t};const e=function(t){const n=this.$_ultra_patchHolder.changedKeys,i=this.$_ultra_patchHolder.data;n.forEach((e=>{t.data[e]=i[e]})),this.$off("before-update",e)};this.$on("before-update",e),this.$save(t)}else{const e={method:"PATCH",url:this.$url("update"),data:{}};this.$dispatch("before-request",[e])}return this},$hooks:{"after-feed":function(){this.$snapshot()}}}),e.rebase({$extend:{Collection:["slice","filter","concat"].reduce(((e,t)=>(e["$"+t]=function(...e){const n=this.$collection();return n.push.apply(n,this[t].apply(this,e)),n},e)),{})}})}]).run(["$q",e=>{v=e}])},nsX6:function(e,t,n){"use strict";var i=n("Llzl"),s=n("5MwF"),a=n("71td"),o=n("ohO4");n.d(t,"a",(function(){return r}));const r="ultra.components.directives.featureToggle";class l{constructor(e,t){this.$parse=e,this.flagService=t,this.restrict="A",this.priority=1e3,this.transclude="element",this.terminal=!0,this.link=(e,t,n,i,o)=>{let r=!1;const l=n.bbFeatureToggle.startsWith("!"),c=l?n.bbFeatureToggle.substring(1):n.bbFeatureToggle,d=a(document.createComment(`end bbFeatureToggle: ${n.bbFeatureToggle}`)).insertAfter(t),u="false"!==n.delayInitialLoad;let m=!1;const p=()=>{var e,i;m=!0;const a=l?!r:r,c="true"===(null===(e=null==n?void 0:n.prototypeContent)||void 0===e?void 0:e.toLowerCase());if(s.a.showFeaturePrototypes||!c){"true"===(null===(i=null==n?void 0:n.removeFromDom)||void 0===i?void 0:i.toLowerCase())?(g(t.parent(),t,d),a&&o((e=>{h(e,t.parent(),t)}))):o((e=>{a||e.addClass("bb-feature-toggle-hide"),g(t.parent(),t,d),h(e,t.parent(),t)}))}},h=(e,t,n)=>{0!==n.parent().length?n.after(e):t.prepend(e)},g=(e,t,n)=>{const i=e.contents(),s=i.index(t)+1,a=i.index(n);s<a&&i.slice(s,a).remove()};e.$on("feature-flag-values-updated",((e,t)=>{const n=null==t?void 0:t[c],i=this.flagService.isFlagValueTrueStrict(n);n&&void 0!==i&&(u&&!m||i!==r)&&(r=s.a.features[c]||i,p())}));const b=s.a.features[c]||this.flagService.isFeatureEnabledStrict(c);void 0===b&&u||(r=null!=b&&b,p())}}}l.$inject=["$parse",o.b],i.module(r,[o.a]).directive("bbFeatureToggle",["$injector",e=>e.instantiate(l)])},"o/Pg":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("4iFr");const a="ultra.components.directives.bbUiIcon.large.Discussion";Object(i.a)(s.a,a,"bbUiIconLargeDiscussion")},o2qC:function(e,t){e.exports='<table class="fs-table bb-table">\n  <caption role="alert" class="sr-only">{{ ::config().title }}</caption>\n  <thead>\n    <tr class="table-headings">\n      <th class="table-heading"\n          scope="col"\n          ng-style="{ \'width\': column.widthPercentage, \'min-width\': column.widthPercentage }"\n          ng-repeat="column in config().columns"\n          ng-if="column.visible"\n          data-heading-index="{{ ::$index }}"\n          ng-class="{\n            \'sortable-header\': column.sort,\n            \'ascending\': $index === config().currentSortColumnIndex && config().currentSortDirection === \'asc\',\n            \'descending\': $index === config().currentSortColumnIndex && config().currentSortDirection === \'desc\'}"\n          ng-attr-aria-sort="{{ $index === config().currentSortColumnIndex && config().currentSortDirection === \'asc\' ? \'ascending\' :\n          $index === config().currentSortColumnIndex && config().currentSortDirection === \'desc\' ? \'descending\' : undefined }}">\n        <button class="button-anchor" ng-if="column.sort" analytics-id="components.directives.table.sort.button">\n          <span class="table-heading-contents" ng-class="{ \'sr-only\': column.srHeading }">{{ column.heading }}</span>\n          <i class="sort-control">\n            <i class="arrow up" ></i>\n            <i class="arrow down"></i>\n          </i>\n        </button>\n        <span ng-if="!column.sort" class="table-heading-contents" ng-class="{ \'sr-only\': column.srHeading }">{{ column.heading }}</span>\n      </th>\n    </tr>\n  </thead>\n  <tbody ng-if="table.initialDataLoaded || config().showRowsDuringRefresh">\n    <tr ng-repeat="item in tableData()"\n        class="table-row"\n        ng-class="{\'clickable\': config().rowClickFn }"\n        ng-click="config().rowClickFn ? config().rowClickFn(item): null"\n        ng-transclude\n        analytics-id="components.directives.table.rowClick"></tr>\n  </tbody>\n</table>\n<div ng-if="config().pageSize && table.initialDataLoaded">\n  <div bb-infinite-scroll="table.showMore()"\n       infinite-scroll-immediate-check="false"\n       infinite-scroll-total-count="config().totalCount"\n       infinite-scroll-current-count="tableData().length"\n       infinite-scroll-load-limit="config().pageSize"\n       infinite-scroll-container="config().infiniteScrollContainerSelector()"\n       infinite-scroll-tray-id="{{::config().instanceId}}-scroll-tray"></div>\n</div>\n<div class="spinner bb-secondary-color-2" ng-show="!table.initialDataLoaded"></div>'},o5Lu:function(e,t,n){"use strict";(function(e){n.d(t,"m",(function(){return D})),n.d(t,"n",(function(){return T})),n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return $})),n.d(t,"d",(function(){return G})),n.d(t,"a",(function(){return j})),n.d(t,"f",(function(){return L})),n.d(t,"g",(function(){return N})),n.d(t,"e",(function(){return M})),n.d(t,"j",(function(){return R})),n.d(t,"i",(function(){return F})),n.d(t,"k",(function(){return U})),n.d(t,"l",(function(){return H})),n.d(t,"h",(function(){return z}));var i=n("D57K"),s=n("nsO7"),a=n("Llzl"),o=n("rEZX"),r=n("IbyE"),l=n("z6Q5"),c=n("0JpG"),d=n("d8yC"),u=n("Fvsw"),m=n("Qbdf"),p=n("fYJU"),h=n("jhBu"),g=n("Bu0u"),b=n("oi1r"),f=n("X/qj"),v=n("pjml"),y=n("wgY5"),k=n("Mc6f"),x=n("5uPl"),S=n("e6jQ"),C=n("TnpK"),E=n("aHpC"),I=n("ZQFV"),w=n("zGdY"),A=n("Htol"),O=n("Kpdw");const D="ultra.services.grade",T="grade",P="course.grades.gradebook-item.submission.grade-status-change",$="course.grades.gradebook-item.submission.grade-exempt-change",G="bb-update-column",j="bb-update-attendance-column",L="bb-update-attendance-as-grade",N="placeholder";var B;!function(e){e.Possible="possible",e.Text="text"}(B||(B={}));let M=class t{constructor(e,t,n,i,s,a,o,r,l,c,d,u,m,p,h,g,b,f,v,y,k,x,S,C){this.$q=e,this.$rootScope=t,this.$injector=n,this.cacheFactory=i,this.$ngRedux=s,this.CourseModel=a,this.GradeAttemptModel=o,this.GradebookSettingsModel=r,this.GradeGroupAttemptModel=l,this.GradeModel=c,this.ColumnModel=d,this.UserModel=u,this.GradeBulkViewModel=m,this.context=p,this.bbLocalize=h,this.ultraState=g,this.batchService=b,this.entitlement=f,this.notation=v,this.schemaService=y,this.gradebookPermissionService=k,this.originalityReportService=x,this.contextUser=S,this.contextCourse=C,this.GRADEBOOK_ITEM_CONFIRMATION_HANDLE_BASE="resource/x-bb-grade",this.loadColorPreference=()=>{},this.colorSettings={isColorEnabled:!0,colorPreference:""},this.gbSettingsCache=i.createCache("gbSettings"),this.subscribeToRedux(),this.loadColorPreference()}subscribeToRedux(){const e=this.$ngRedux.connect((e=>{const t=r.gc.systemPreference.getSystemPreferenceByKey(e,"gradepill.color.preference.settings");return t&&t.value&&t.value!==this.colorSettings.colorPreference?{colorSettings:{colorPreference:t.value,...JSON.parse(t.value)}}:{}}),(e=>({loadColorPreference:()=>e(r.X.systemPreference.loadSystemPreference({key:"gradepill.color.preference.settings"}))})))(this);this.$rootScope.$on("$destroy",e)}loadColumnsAndGrades(e){const t=this.CourseModel.$new(e.courseId),n="associatedRubrics,collectExternalSubmissions"+(e.includeIsLateAttemptCreationDisallowed?",isLateAttemptCreationDisallowed":""),i=this.loadColumns(t,e.includeExternal,{expand:n,includeInvisible:!!e.includeInvisible}).then((t=>e&&e.attachContentsByScoreProviderHandle?t.attachRelatedContentsByScoreProviderHandle(e.attachContentsByScoreProviderHandle):t)),a=this.loadGrades(t,e.userId,e.gradeQueryParams);return this.$q.all([i,a]).then((n=>{const i=n[0]||[],a=n[1]||[],o=[],r=s.keyBy(a,(e=>e.columnId));return i.forEach((e=>{let t=r[e.id];t?t.column=e:t=this.GradeModel.$build({column:e}),o.push(t)})),this._loadAttempts(o,t,e.attemptQueryParams).then((e=>e))}))}loadGrade(e,t){const n=this.CourseModel.$new(e.courseId);let i,a;if(e.column)a=e.column&&e.column.$asPromise&&e.column.$asPromise()||this.$q.when(e.column);else{if(!e.columnId)throw new g.a({message:"Column or columnId must be provided."});a=n.gradebook.columns.$find(e.columnId).$asPromise()}return a.then((a=>(s.merge(e.gradeQueryParams,{userId:e.userId}),a.grades.$search(e.gradeQueryParams).$allow([404]).$asPromise().then((s=>(i=s[0],i?(i.column=a,t?this.loadAttempt(i,n,e.attemptQueryParams,e.content):this.$q.when(i)):this.$q.when(null)))))))}loadCurrentColumnsAndGrades(e,t,n,i,s){const a=e||this.contextCourse.courseId,o=s||this.contextUser.userId;return this.loadColumnsAndGrades({courseId:a,userId:o,includeExternal:!0,includeInvisible:!!t,includeIsLateAttemptCreationDisallowed:!!n,gradeQueryParams:{expand:"attemptsLeft"},attemptQueryParams:{overrideAggregationModel:v.C.AttemptAggregationModel.Last},attachContentsByScoreProviderHandle:i})}loadColumns(e,t,n){e instanceof this.CourseModel||(e=this.CourseModel.$new(e));const i=e=>t?e:e.filter((e=>!e.externalGrade)),s=e.gradebook.columns;return(s?s.length:0)>(n&&"offset"in n?n.offset:0)?s.$refresh(n).$asPromise().then(i):s.$fetch(n).$asPromise().then(i)}loadGrades(e,t,n){e instanceof this.CourseModel||(e=this.CourseModel.$new(e));const i=s.merge({userId:t},n);return i.limit=100,e.gradebook.grades.$fetch(i).$asPromise().then((n=>n.paging.nextPage?(i.offset=n.paging.offset+n.paging.limit,this.loadGrades(e,t,i)):e.gradebook.grades))}loadColumnGrades(e,t){return e instanceof this.ColumnModel||(e=t.gradebook.columns.$new(e)),e.grades.$refresh().$asPromise()}loadColumn(e,t,n){return t instanceof this.CourseModel||(t=this.CourseModel.$new(t)),t.gradebook.columns.$find(e,{expand:"associatedRubrics"}).$allow(n?[w.S.NotFound]:[]).$asPromise().then((e=>{var t;return(null===(t=null==e?void 0:e.$response)||void 0===t?void 0:t.status)===w.S.NotFound&&n?null:e}))}loadOverallGradeColumn(e){return this.loadColumn("finalGrade",e,!0)}loadRubricAssociation(e,t){return this.loadColumn(e,t).then((e=>e&&e.hasRubricAssociation()?t.rubrics.$find(e.getAssociatedRubricId()).$asPromise():null))}loadBulkViewRows(e,t,n,i,a){const o=[],r=[];e.forEach((e=>{r.push(e.id);const n=this.$injector.instantiate(_,{column:t});n.user=e.user,n.membership=e,n.dueDate=t.dueDate,n.hasDueDateException=e.isDueDateExcepted(),o.push(n)}));const l=s.keyBy(o,(e=>e.user.id));let c={courseId:t.courseId,membershipIds:r,columnIds:[t.id]};return i&&(c=s.merge(c,i)),this.fetchBulkView(c).then((e=>this.processBulkViewRows(e,l,t,n,a)))}loadAnonymousBulkViewRows(e,t,n,i,a){const o=[],r=[];e.forEach((e=>{r.push(e.id);const n=this.$injector.instantiate(_,{column:t});n.user=this.UserModel.getAnonymousStudent(e.id),n.grade=e,n.dueDate=t.dueDate,o.push(n)}));const l=s.keyBy(o,(e=>e.grade.id));let c={courseId:t.courseId,gradeIds:r,columnIds:[t.id]};return i&&(c=s.merge(c,i)),this.fetchBulkView(c).then((e=>this.processBulkViewRows(e,l,t,n,a)))}fetchBulkView(e){return this.CourseModel.$new(e.courseId).gradebook.bulkView.$fetch(e).$asPromise()}processBulkViewRows(e,t,n,i,a){e.bulkViewUsers.forEach((e=>{const s=n.anonymousGrading?e.gradeId:e.studentId,o=t[s];a&&!a(o)?delete t[s]:F(o,e,i)}));const o=s.values(t);return this.originalityReportService.setOriginalityAverageScore(o,n.id),o}loadCustomizedBulkViewRows(e,t,n,i,a,o){if(r.Q.Discussion.isEqualTo(t.scoreProviderHandle)){const a=this.$q.defer();return this.loadBulkViewRows(e,t,null,{expand:"grade.instructorFeedback,attempts"}).then((o=>{const r=s.merge(s.clone(i),{limit:e.length}),l=s.merge(s.clone(r),{dateBefore:t.dueDate}),c=(e,t)=>{if(e&&e.length){const n={};e.forEach((e=>{const i=e.data.id;n[i]=t?{totalComment:e.topLevelReplyCount,totalReply:e.secondLevelReplyCount}:{comment:e.topLevelReplyCount,reply:e.secondLevelReplyCount}})),o.forEach((e=>{if(n&&n[e.user.id]){e.participation||(e.participation={comment:0,reply:0,totalComment:0,totalReply:0});const i=n[e.user.id];t?(e.participation.totalComment=i.totalComment,e.participation.totalReply=i.totalReply):(e.participation.comment=i.comment,e.participation.reply=i.reply)}}))}};this.$q.all([this.CourseModel.$find(t.courseId).forums.$new(n).usercounts.$fetch(l).$allow([400]).$then((e=>{c(e)})).$asPromise(),this.CourseModel.$find(t.courseId).forums.$new(n).usercounts.$fetch(r).$allow([400]).$then((e=>{c(e,!0)})).$asPromise()]).then((()=>a.resolve(o))).catch(a.reject)})).catch(a.reject),a.promise}let l="attempts";a&&(l+=",submissionResults");const c=!!o;return this.loadBulkViewRows(e,t,null,{expand:l,includeInProgress:c})}loadAnonymousStudentRows(e){return this.retrieveAnonymousStudentRows(e,null)}loadAnonymousStudentRowsNeedsGrading(e){return this.retrieveAnonymousStudentRows(e,{status:"NEEDS_GRADING",readyToPost:!1})}retrieveAnonymousStudentRows(e,t){const n={expand:"toolAttemptDetail,viewUrl",...t};return e.getGradeIdToAttempt(n).then((e=>e.lookup)).then((t=>{const n=[];return Object.keys(t).forEach((i=>{const a=t[i];if(s.remove(a,(e=>e.isInProgress())),a.length>0){const t=this.createAnonymousStudentRow(e,a,i);n.push(t)}})),n}))}createBlankSubmissionListRow(e){const t=this.$injector.instantiate(_,{column:e});return t.user=this.UserModel.getAnonymousStudent(""),t.id=N,t}generatePeerRow(e,t,n){const i=this.createAnonymousStudentRowWithoutId(t,e,n);return e.length>0&&(i.delegatedGraderOrder=e[0].delegatedGraderOrder),i}createAnonymousStudentRow(e,t,n){return this.createAnonymousStudentRowImpl(e,t,n,n)}createAnonymousStudentRowWithoutId(e,t,n){return this.createAnonymousStudentRowImpl(e,t,n,"")}createAnonymousStudentRowImpl(e,t,n,i){const s=this.$injector.instantiate(_,{column:e}),a=t[t.length-1],o=t.reverse().find((e=>e.displayGrade&&null!=e.displayGrade.score));return s.user=this.UserModel.getAnonymousStudent(i),s.dueDate=e.dueDate,s.attemptCount=t.length,s.lastAttemptDate=a.attemptDate,s.grade=this.GradeModel.$build({id:n,user:s.user,attempts:t,displayGrade:o&&o.displayGrade||{},manualStatus:o&&o.status||w.Eb.NoOverride}),s}loadAnonymousStudentGrade(e,t){const n=e.grades.$new(t).attempts,i=this.UserModel.getAnonymousStudent(t);return n.$fetch().$asPromise().then((n=>this.GradeModel.$build({pointsPossible:e.possible,id:t,user:i,attempts:n})))}loadGroupRows(e,t,n,i,a,o){const r={};let l=[];const c=s.keyBy(n,(e=>e.user.id));let d;return d=i.ui&&i.ui.content&&i.ui.content.assignedGroups&&i.ui.content.assignedGroups.some((e=>!!e.groupAssociationId))?this.$q.when(i.ui.content):e.contents.$find(i.contentId,{expand:"assignedGroups"}).$asPromise(),d.then((n=>{const d={};return n&&n.assignedGroups&&n.assignedGroups.forEach((e=>{d[e.groupId]=e.groupAssociationId,!t&&o&&o===e.groupId&&(t=[e])})),l=t.map((t=>(r[t.groupId]={},e.groups.$find(t.groupId,{expand:"memberships"}).$then((e=>{const t=this.$injector.instantiate(_,{column:i});t.group=e,t.groupDetailsShown=!1,t.dueDate=i.dueDate,t.group.ui||(t.group.ui={}),t.group.ui.groupAssociationId=d[e.id],t.group.memberships&&(t.group.memberships=t.group.memberships.filter((e=>!!c[e.userId]&&(e.ui||(e.ui={}),e.ui.user=c[e.userId].user,e.ui.hasDueDateException=c[e.userId].isDueDateExcepted(),e.ui.courseRole=c[e.userId].courseRole,!0)))),t.hasDueDateException=t.group.memberships.some((e=>c[e.userId].isDueDateExcepted())),r[e.id]=t})).$asPromise()))),this.$q.all(l).then((()=>{let e="attempts,toolAttemptDetail,lastFeedbackAuthor,attempts.lastFeedbackAuthor";return a&&(e+=",submissionResults"),i.getContentGroupIdToGroupAttempt({expand:e}).then((e=>{const t={};s.values(e.lookup).forEach((e=>{t[e[0].groupId]=e}));let n,a=[];return this.batchService.performBatch((()=>{n=s.values(r),a=n.map((e=>{var n;const s=(null===(n=t[e.group.id])||void 0===n?void 0:n.length)>0?t[e.group.id].length-1:0;return this.updateOneGroupRow(e,i,{expand:!0,groupAttempts:t[e.group.id],currentAttemptIndex:s})}))})),this.$q.all(a).then((()=>this.originalityReportService.setOriginalityAverageScore(n,i.id))),this.$q.all(a).then((()=>this.sortGroupMembers(n)))}))}))}))}getOverallGradeJson(t){const n=e(e.parseHTML(t));let i={};if("math"===n.prop("nodeName")){const t=n.children();if(t&&t.length>0){const n=e(t[0]);if("mi"===n.prop("nodeName")){let e=n.text();e=e.replace("@X@BBCalColElem(",""),e=e.replace(")@X@","");const t=e.indexOf(":")+1,s=e.substring(t);i=JSON.parse(s)}}}return i}sortGroupMembers(e){const t=[];return e.forEach((e=>{const n=[];e.group.memberships&&(e.group.memberships.forEach((e=>{n.push(this.bbLocalize.formatUsername(e.ui.user,c.ILocaleUsernameFormat.Short,this.$rootScope).then((t=>{e.ui.formatUserName=t})))})),t.push(this.$q.all(n).then((()=>{e.group.memberships.sort(((e,t)=>e.ui.formatUserName.localeCompare(t.ui.formatUserName))),e.group.ui.users=[],e.group.memberships.forEach((t=>{e.group.ui.users.push(t.ui.user)}))}))))})),this.$q.all(t).then((()=>e))}updateOneGroupRow(e,t,n={expand:!0}){return t.getGroupGrade(e.group.ui.groupAssociationId,n.expand).then((t=>{var i,s;const a=n.currentAttemptIndex||0,o=n.groupAttempts&&n.groupAttempts[a]||(null===(i=e.grade)||void 0===i?void 0:i.ui.groupAttempt);if(e.grade=t,(null===(s=null==n?void 0:n.groupAttempts)||void 0===s?void 0:s.length)>0){let t=0,i=0;n.groupAttempts.forEach((e=>{var n,s,a;(null===(a=null===(s=null===(n=e.originality)||void 0===n?void 0:n.results)||void 0===s?void 0:s[w.Dd])||void 0===a?void 0:a.originalityProcessed)&&(t+=e.originality.results[w.Dd].originalityScore,i+=1)})),i>0&&(e.originalityScore=t/i,e.originalityProcessed=!0)}else o&&(e.originalityScore=o.originalityScore,e.originalityProcessed=o.originalityProcessed);return this.setGroupAttemptsOnRow(e,n.groupAttempts||[o],n.grade,n.grades||t.groupMembersGrades,n.attempt,a),e}))}setGroupAttemptsOnRow(e,t,n,i,a,o){let r={rawText:"",displayText:""};n&&n.instructorFeedback?r=n.instructorFeedback:i&&i.length&&i[0].instructorFeedback&&(r=i[0].instructorFeedback);let l,c=0;(null==t?void 0:t[o])?(t.forEach((t=>{e.grade.groupAttempts.push(t),w.l.NeedsGrading!==t.status&&w.l.NeedsMoreGrading!==t.status&&w.l.Completed!==t.status||(c+=1)})),l=t[o]):(l=this.GradeGroupAttemptModel.$buildRaw({}),e.grade.groupAttempts.push(l)),e.attemptCount=c,e.lastAttemptDate=l.attemptDate,e.grade.instructorFeedback=r,e.grade.ui={groupAttempt:l,currentAttemptIndex:o},e.isGroupGradeInProgress=e.grade.isInProgress(),e.grade.ui.isGroupGradeMultiple=e.grade.isMultipleGradesInGroup;const d=s.keyBy(e.group.memberships,(e=>e.userId));if(i)i.forEach((e=>{const t=d[e.user.$pk];t&&(t.ui.gradeDetail=e)}));else if(a){const t=l.attempts.map(((e,t)=>{let n;return e.id===a.id?(n=a,n.userId=e.userId,d[n.userId].ui.gradeDetail.displayGrade=n.displayGrade,d[n.userId].ui.gradeDetail.ui.attempt=n):n=e,n}));e.grade.isInProgress()&&(e.grade.ui.groupAttempt.status=w.l.NeedsGrading),e.grade.ui.groupAttempt.attempts=t}else n?e.group.memberships=e.group.memberships.map((e=>{const t=e.userId===n.user.$pk?n:e.ui.gradeDetail;return e.ui.gradeDetail=t,e})):l.attempts&&l.attempts.forEach((t=>{d[t.userId].ui.gradeDetail.displayGrade=t.displayGrade,d[t.userId].ui.gradeDetail.ui.attempt=t,d[t.userId].ui.gradeDetail.manualStatus=e.grade.manualStatus}));e.group.memberships=s.values(d)}_loadAttempts(e,t,n){const i=[];return e.forEach((e=>{i.push(this.loadAttempt(e,t,n))})),this.$q.all(i)}loadAttempt(e,n,i={},a){let o;const r=s.clone(i);if(r&&r.attemptId)o=r.attemptId,delete r.attemptId;else{let n=v.C.parseAttemptAggregationModel(e.column&&e.column.aggregationModel);r&&r.overrideAggregationModel&&(n=r.overrideAggregationModel,delete r.overrideAggregationModel),o=t.getDefaultAttemptIdToLoad(n,e)}if(e.column&&w.p.NonCalculated===e.column.calculationType){let t;const i=n.gradebook.attempts,s=a&&a.isGroupContent,l=a&&a.assignedGroups&&a.assignedGroups.length&&a.assignedGroups[0].groupAssociationId;if(s&&!a.isDiscussion()){if(!l)return this.$q.when(e);t=e.column.getGroupAttemptByGroupAssociationId(l,!1,o)}else{if(!o)return this.$q.when(e);t=i.$find(o,r).$asPromise()}return t.then((t=>{if(s){if(t&&t.id){const n=t;e.ui.groupAttempt=n,e.ui.attempt=n&&n.attempts&&n.attempts.length&&n.attempts[0]}}else e.ui.attempt=t;return e}))}return this.$q.when(e)}loadColumnAttempts(e,t={},n){return e.getGradeIdToAttempt(t,n)}loadUsersFinalGradeForCourse(e,t){return e.gradebook.grades.$search({userId:t,expand:"column",externalGrade:!0}).$asPromise().then((e=>e[0]))}loadColumnSummary(e,t){return e.gradebook.columns.$find(t).summary.$fetch().$asPromise()}loadGradebookSettings(e){const t=this.gbSettingsCache.get(e);if(!t){const t=this.CourseModel.$new(e).gradebook.settings.$fetch().$asPromise();return this.gbSettingsCache.put(e,{promise:t}),t}return this.$q.when(t.promise)}loadDefaultGradebookSettings(){return this.GradebookSettingsModel.$build({afterDecimal:t.DEFAULT_GRADEBOOK_SETTINGS_AFTER_DECIMAL,beforeDecimal:t.DEFAULT_GRADEBOOK_SETTINGS_BEFORE_DECIMAL})}formatPoints(e,t,n,i){null==n&&(n=B.Text);const s=n;return this.bbLocalize.loadBundle("components/services/grade").then((()=>this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(t),key:"components.services.grade.points_"+s,params:{points:i,possible:e},noWrap:!0})))}parseGrade(e,t,n){if(!e)return"";if((null==t?void 0:t.scaleType)===w.ac.Text)return e;const i=this.bbLocalize.parseNumberSync(e,n);return Number.isNaN(i)?e:i.toString()}getGradeToDisplay(e,n,i){if(!e)return null;if(e.grade)return e.grade;if(e.perfCode)return e.perfCode.code;if(null!=e.score){let s=this.bbLocalize.formatNumberSync(e.score,n,{round:"truncate",maximumFractionDigits:t.DEFAULT_GRADEBOOK_SETTINGS_AFTER_DECIMAL});return i&&i===w.ac.Percent&&(s=this.bbLocalize.formatPercentageSync(e.score/100,n,t.DEFAULT_GRADEBOOK_SETTINGS_AFTER_DECIMAL)),s}}getHighestPossibleScore(e,t,n){const i=this.$q.defer();switch(e.scaleType){case w.ac.Tabular:return i.resolve(e.symbols[0].symbol),i.promise;case w.ac.Percent:return this.bbLocalize.formatPercentage(1,n);case w.ac.Score:{const e=t.possible;return this.formatPoints(e,n,B.Text)}default:return i.resolve("N/A"),i.promise}}validateGrade(e,t,n){const i=this.loadDefaultGradebookSettings(),s=this.bbLocalize.loadBundle("components/services/grade"),a=this.notation.getGradeNotationsMap(e.courseId,!0);return this.$q.all([s,a]).then((s=>{const a=e.gradeValue.getGrade();let o=!1;const r=s[1];return a?(o=this.isValidNumericGrade(a,i,t),!o&&e.column&&e.column.externalGrade&&(o=this.notation.isValidPerformanceCodeGrade(r,a))):o=!(n&&n.notAllowEmptyString),o}))}clearGroupGrade(e,n,i){const s=this.CourseModel.$new(e.id).gradebook.columns.$new(n.id);return this.batchService.performBatch((()=>this.$q.all(i.map((e=>{const n=s.grades.$new(e.ui.gradeDetail.id);return n.manualGrade=t.CLEAR_GRADE_CHARACTER,n.$patch(["manualGrade"]).$asPromise()}))))).then((()=>s.grades))}saveGrade(e,t,n,i){if(!e.courseId||!e.column||!e.gradeValue)throw new Error("A valid courseId, column, and grade value are required.");if(e.column.seemsAttemptBased()){const s=[],a=[];i&&i.group&&i.group.memberships&&i.group.memberships.forEach((t=>{t.ui&&t.ui.gradeDetail&&(s.push(t.ui.gradeDetail.id),(t.ui.gradeDetail.displayGrade&&t.ui.gradeDetail.displayGrade.isOverride||e.setGradeToEmpty)&&a.push(t.ui.gradeDetail.id))})),(null==n||null==n.id)&&t||n&&n.isInProgress()?(i.group?e.gradeIds=s:e.gradeId=t.id,!e.userId&&i.userId&&(e.userId=i.userId),e.clearGrade&&(e.setGradeToEmpty=!0)):n&&n.id&&t?(e.clearGrade&&(i.group||(e.gradeId=t.id),e.setAttemptToEmpty=!0,e.setGradeToEmpty=!0),n instanceof this.GradeAttemptModel?(e.attemptId=n.id,n.groupAttemptId&&(e.override=!0),e.setGradeToEmpty&&(e.gradeId=t.id)):(e.groupAttemptId=n.id,a.length&&(e.gradeIdsNeedClear=a))):i&&i.userId?e.userId=i.userId:i&&i.group&&i.group.id&&!(null==e?void 0:e.groupAttemptId)&&(e.gradeIds=s)}else e.column.externalGrade?t&&t.id?e.gradeId=t.id:e.userId=i.userId:null==t?e.userId=i.userId:(e.userId||(e.userId=i.userId),e.gradeId=t.id);return this._save(e)}save(e){return this._save(e)}_save(e){if(e.column.externalGrade)return e.gradeId?this.updateGrade(e):this.createGradeForUserAndSave(e);if(!this.canSaveGradeDetail(e))return this.updateAttempt(e);if(e.gradeId)return e.attemptId?(e.setGradeToEmpty=!0,this.updateGrade(e).then((()=>this.updateAttempt(e)))):this.updateGrade(e);if(e.gradeIds)return this.createAndUpdateGradesForGroupMembers(e);if(e.gradeIdsNeedClear)return this.createAndUpdateGradesForGroupMembers(e).then((()=>this.updateGroupAttempt(e)));if(e.attemptId)return this.updateAttempt(e);if(e.groupAttemptId)return this.updateGroupAttempt(e);if(e.userId)return this.createGradeForUserAndSave(e);throw new Error("A valid userId must be specified when creating a new grade.")}canSaveGradeDetail(e){return!e.column.anonymousGrading&&(!e.column.delegatedGrading||this.isDelegatedAndEntitledReconciler(e))}createAndUpdateGradesForGroupMembers(e){const t=this.CourseModel.$new(e.courseId).gradebook.columns.$new(e.column.id).grades;return e.gradeIdsNeedClear||e.gradeIds?this.batchService.performBatch((()=>this.$q.all((e.gradeIdsNeedClear||e.gradeIds).map((n=>{const i=t.$buildRaw({id:n});return t.$add(i),this.setGradeValueOnGrade(e,i,!!e.gradeIdsNeedClear||e.setGradeToEmpty),i.withParams({clearCommentsIfRevertOverrides:!1}).$patch().$asPromise()}))))).then((()=>t.$asPromise())):t.$asPromise()}createGradeSubmission(e,t,n){return new o.a(e,t,n)}wasGradeCleared(e,t){const n=e&&e.length,i=t&&t.length;return n>0&&!i}updateAttempt(e){if(!e.attemptId)throw new Error("Attempt id is not set");const t=this.CourseModel.$new(e.courseId).gradebook.attempts.$new(e.attemptId);return this.setGradeOnAttempt(e,t),t.$patch().$asPromise()}updateGroupAttempt(e){if(!e.groupAttemptId)throw new Error("Group attempt id is not set");const t=this.CourseModel.$new(e.courseId).gradebook.groupAttempts.$new(e.groupAttemptId);return this.setGradeOnAttempt(e,t),t.withParams({expand:"attempts"}).$patch().$asPromise()}isReadyToPost(e){return!e.delegatedGrading||e.isUserReconciler(this.contextUser.userId)}setGradeOnAttempt(e,n){e.setAttemptToEmpty?(n.score=null,n.status=w.l.NeedsGrading,n.grade=t.CLEAR_GRADE_CHARACTER,n.rubricEvaluation=null):(e.gradeValue.isNumeric?n.score=parseFloat(e.gradeValue.getGrade()):n.grade=e.gradeValue.getGrade(),e.rubricEvaluation&&(n.rubricEvaluation=e.rubricEvaluation),n.readyToPost=this.isReadyToPost(e.column),n.readyToPost||(n.status=w.l.Completed)),e.override&&(n.override=!0),this.isDelegatedAndEntitledReconciler(e)&&!e.setAttemptToEmpty&&(n.reconciliationMode=w.Xb.Custom)}isDelegatedAndEntitledReconciler(e){return e.column.delegatedGrading&&e.column.isUserReconciler(this.contextUser.userId)}createGradeForUserAndSave(e){const t=this.CourseModel.$new(e.courseId).gradebook.columns.$new(e.column.id).grades.$new();return this.setGradeValueOnGrade(e,t,e.setGradeToEmpty),t.user=this.UserModel.$new(e.userId),t.withParams({userId:e.userId,clearCommentsIfRevertOverrides:!1}).$save().$asPromise()}updateGrade(e){const t=this.CourseModel.$new(e.courseId).gradebook.columns.$new(e.column.id).grades.$new(e.gradeId);return this.setGradeValueOnGrade(e,t,e.setGradeToEmpty),t.withParams({clearCommentsIfRevertOverrides:!1,includeUnpostedGrade:!0}).$patch().$asPromise()}setGradeValueOnGrade(e,n,i){if(i)n.manualGrade=t.CLEAR_GRADE_CHARACTER;else if(e.column.externalGrade&&e.perfCodeId)n.perfCodeId=e.perfCodeId;else{const t=e.gradeValue;t.isNumeric?(n.pointsPossible=e.pointsPossible,n.manualScore=parseFloat(t.getGrade())):n.manualGrade=t.getGrade()}}isValidNumericGrade(e,t,n){const i=this.bbLocalize.parseNumberSync(e,n);let s;if(Number.isNaN(i))return!1;if(t&&null!=t.beforeDecimal&&(s=Math.floor(i).toString(),s.length>t.beforeDecimal))return!1;if(t&&null!=t.afterDecimal&&null!=s){if(i.toString().substring(s.length+1).length>t.afterDecimal)return!1}return!0}static isValidFormat(e,t){const n=e.indexOf(".");let i=0,s=e.length;return n>-1&&(i=s-n-1,s=0),s<=t.beforeDecimal&&n<=t.beforeDecimal&&i<=t.afterDecimal}static mapSchemaSymbols(e){if(e.scaleType===w.ac.Tabular)return e.symbols.map((e=>e.symbol.toLocaleLowerCase()))}static getDefaultAttemptIdToLoad(e,t){switch(e){case v.C.AttemptAggregationModel.Average:return t.lastAttemptId;case v.C.AttemptAggregationModel.First:return t.firstAttemptId;case v.C.AttemptAggregationModel.Highest:return t.highestAttemptId;case v.C.AttemptAggregationModel.Last:return t.lastAttemptId;case v.C.AttemptAggregationModel.Lowest:return t.lowestAttemptId;default:return t.lastAttemptId}}findOverallGrade(e){return s.find(e,(e=>e.externalGrade))}needsToSetupOverall(e,t){const n=this.findOverallGrade(e);return this.$q.when(!n)}fetchNeedsToSetupOverallGrade(e){const t=e instanceof this.CourseModel?e.id:e;return this.loadOverallGradeColumn(e).then((e=>this.needsToSetupOverall(e?[e]:[],t)))}setDeleteConfirmationHandle(e){e.isOffline()?e.ui.deleteConfirmationHandle=this.GRADEBOOK_ITEM_CONFIRMATION_HANDLE_BASE+"-column":e.isCalculated()&&(e.ui.deleteConfirmationHandle=this.GRADEBOOK_ITEM_CONFIRMATION_HANDLE_BASE+"-calculation")}calculateRankingsMap(e,t){const n={},i=e.length;let s,a,o;for(let r=0;r<i;r++)a=r/i,s=t?10*Math.floor(10*a):Math.floor(100*a),o=e[r].displayGrade.score,n[o]=s;return n}getPercentileColor(e){return I.P.getPercentileColor(e,this.colorSettings.isColorEnabled)}isRubricGradeOverridden(e,t,n,i){let s=e&&e.displayGrade&&e.displayGrade.isOverride;i&&i.memberships&&i.memberships.forEach((e=>{e.ui&&e.ui.gradeDetail&&e.ui.gradeDetail.displayGrade&&e.ui.gradeDetail.displayGrade.isOverride&&(s=!0)}));const a=null!=n.rubricAssociations&&n.rubricAssociations.length>0&&n.rubricAssociations[0],o=t&&t.rubricEvaluation,l=!(!t||!t.groupAttemptId);return!(!t||l||null==t.score||!t.readyToPost||!a||o&&o.rubricAssociationId===a.id&&t.score===o.totalScore)||s&&(a||!r.Q.UltraAssignment.isEqualTo(n.scoreProviderHandle)&&!r.Q.Discussion.isEqualTo(n.scoreProviderHandle))}canGrade(e){return this.gradebookPermissionService.canEnterGrades()&&this.gradebookPermissionService.canOverrideGrades()}canUserReconcile(e,t){return!e.isClosed&&t.isUserReconciler(this.contextUser.userId)}hasItemsToReconcile(e){return e.summary.numSubmissionsNeedsReconciling>0}canPostGrades(e,t){if(!this.gradebookPermissionService.canPostGrades(e.id,t))return!1;const n=!e.isComplete()&&t.summary.hasGradesToPost();return t.anonymousGrading?n&&this.gradebookPermissionService.canDeanonymizeGrades(e.id):n}getPostAllGradeConfirmationNeededStringsKey(e){if(e.anonymousGrading){if(e.summary.numNeedsGrading)return"x-bb-grade-anonymous-submissions-not-graded";if(!e.isLate()){if(e.getNumMissing()>0)return"x-bb-grade-anonymous-missing-submissions";if(e.isMultipleAttempts())return"x-bb-grade-anonymous-multiple-attempts"}return"x-bb-grade-anonymous-generic"}return"x-bb-grade-column-post-grades"}pointToPercentage(e,t){return 100*e/t}percentageToPoint(e,t){return e*t/100}gradeDetailToPercentage(e){if(!e)return e;const t=s.assignInWith({},e);if(e.displayGrade&&void 0!==e.manualScore){const n=this.pointToPercentage(e.manualScore,e.pointsPossible);t.manualScore=d.b(n,2),t.displayGrade.score=t.manualScore}return t.pointsPossible=100,t}percentageToGradeDetail(e,t){if(!e)return e;let n=e.manualScore;e.manualScore&&(n=this.percentageToPoint(e.manualScore,t));const i=s.assignInWith({},e);return i.manualScore=n,i.displayGrade.score=n,i.pointsPossible=t,i}truncateGradeDetail(e){const t=s.assignInWith({},e);return e.displayGrade&&void 0!==e.manualScore&&(t.manualScore=d.b(e.manualScore,2),t.displayGrade.score=t.manualScore),t}toFixedGradeDetail(e){const t=s.assignInWith({},e);return e.displayGrade&&void 0!==e.manualScore&&(t.manualScore=parseFloat(e.manualScore.toFixed(2)),t.displayGrade.score=t.manualScore),t}refreshCourseContents(e){this.loadGrade({courseId:e.courseId,columnId:e.getAssociatedGradingColumn().id,userId:this.contextUser.userId,includeExternal:!0},!0).then((e=>{e.isGraded()&&this.$rootScope.$broadcast(A.a)}))}};function R(e,t,n){return Object(w.Tc)(r.hc,{courseId:e,columnId:t,groupId:n})}function F(e,t,n){const{peerReviewsCountsPerColumn:i,grades:[s]}=t;e.originalityProcessed=s.originalityProcessed,e.originalityScore=s.originalityScore,e.grade=s.grade,e.grade.user=e.user,e.attemptCount=s.attemptCount,e.lastAttemptDate=s.lastAttemptDate,e.attemptsReadyToPost=s.attemptsReadyToPost,(null==i?void 0:i[e.Column.id])&&(e.peerReviewCounts=null==i?void 0:i[e.Column.id]),(null==n?void 0:n.lookup[s.grade.id])&&(e.grade.attempts=n.lookup[s.grade.id])}var V;M.TEXT_SCHEMA_CHARACTER_LENGTH=32,M.CLEAR_GRADE_CHARACTER="-",M.DEFAULT_GRADEBOOK_SETTINGS_BEFORE_DECIMAL=5,M.DEFAULT_GRADEBOOK_SETTINGS_AFTER_DECIMAL=2,M=Object(i.a)([Object(i.c)(0,Object(E.b)("$q")),Object(i.c)(1,Object(E.b)("$rootScope")),Object(i.c)(2,Object(E.b)("$injector")),Object(i.c)(3,Object(E.b)("DSCacheFactory")),Object(i.c)(4,Object(E.b)("$ngRedux")),Object(i.c)(5,Object(E.b)(v.m.serviceName)),Object(i.c)(6,Object(E.b)(v.A.serviceName)),Object(i.c)(7,Object(E.b)(v.G.serviceName)),Object(i.c)(8,Object(E.b)(v.E.serviceName)),Object(i.c)(9,Object(E.b)(v.D.serviceName)),Object(i.c)(10,Object(E.b)(v.C.serviceName)),Object(i.c)(11,Object(E.b)(v.Jb.serviceName)),Object(i.c)(12,Object(E.b)(v.B.serviceName)),Object(i.c)(13,Object(E.b)(u.b)),Object(i.c)(14,Object(E.b)(c.serviceName)),Object(i.c)(15,Object(E.b)(C.d)),Object(i.c)(16,Object(E.b)(l.b)),Object(i.c)(17,Object(E.b)(h.b)),Object(i.c)(18,Object(E.b)(k.b)),Object(i.c)(19,Object(E.b)(b.b)),Object(i.c)(20,Object(E.b)(f.b)),Object(i.c)(21,Object(E.b)(x.b)),Object(i.c)(22,Object(E.b)(p.b)),Object(i.c)(23,Object(E.b)(m.e))],M),function(e){e[e.Graded=1]="Graded",e[e.MultiStatus=2]="MultiStatus",e[e.NeedGrade=3]="NeedGrade",e[e.Opened=4]="Opened",e[e.Unopend=5]="Unopend",e[e.Posted=6]="Posted",e[e.Completed=7]="Completed"}(V||(V={}));let _=class{constructor(e,t,n){this.column=e,this.context=t,this.contextUser=n,this.isCommentBoxShown=!1,this.hasBeenViewed=!1,this.id=S.a(),this.hasDueDateException=!1}get numOfPeerReviewsCompleted(){var e,t;return null!==(t=null===(e=this.peerReviewCounts)||void 0===e?void 0:e.completed)&&void 0!==t?t:0}get numOfPeerReviewsCompletedLate(){var e,t;return null!==(t=null===(e=this.peerReviewCounts)||void 0===e?void 0:e.completedLate)&&void 0!==t?t:0}get numOfPeerReviewsStarted(){var e,t;return null!==(t=null===(e=this.peerReviewCounts)||void 0===e?void 0:e.started)&&void 0!==t?t:0}get Column(){return this.column}isCurrentUserReconciler(){return this.column&&this.column.isUserReconciler(this.contextUser.userId)}isDiscussion(){return this.column.isDiscussion()}isOverdue(){return this.column&&this.column.dueDate&&this.column.dueDate.getTime()-this.context.getServerTime().getTime()<0}getLateSubmissionCount(){var e,t;return a.isDefined(this.lateSubmissionCount)||(this.group?this.lateSubmissionCount=null===(e=this.grade)||void 0===e?void 0:e.groupAttempts.getNumAttemptsSubmittedLate(this.dueDate):this.lateSubmissionCount=null===(t=this.grade)||void 0===t?void 0:t.attempts.getNumAttemptsSubmittedLate(this.dueDate)),this.lateSubmissionCount}isStatusComplete(){var e;return this.isDiscussion()||this.grade&&!this.grade.attempts?this.isCompleted():this.checkIfStatusComplete(null===(e=this.grade)||void 0===e?void 0:e.attempts)}isGroupStatusComplete(e){var t;return e?this.isCompleted():this.checkIfStatusComplete(null===(t=this.grade)||void 0===t?void 0:t.groupAttempts)}checkIfStatusComplete(e){if(this.column.anonymousGrading)return!1;if(U(this.column.aggregationModel))return this.isFirstOrLastAttemptWithAGradeAndCompleted();if(H(this.column.aggregationModel))return this.isLastAttemptWithAGradeAndCompleted();const t=this.assessmentException?this.assessmentException.attempts:this.column.multipleAttempts;return!(!this.grade||!e)&&((e.isAllGradedAndPosted()||this.grade.isPosted())&&e.getNumOfGradedAttempts()===t)}shouldShowNothingToGradeStatus(){var e;if((U(this.column.aggregationModel)||H(this.column.aggregationModel))&&!this.column.anonymousGrading){const t=null===(e=this.grade)||void 0===e?void 0:e.attempts;return!(t&&t.length&&t.find((e=>e.isCompleted())))}return!0}isFirstAttemptGradedAndPosted(){var e,t;const n=this.group?null===(e=this.grade)||void 0===e?void 0:e.groupAttempts:null===(t=this.grade)||void 0===t?void 0:t.attempts;return null==n?void 0:n.isFirstAttemptPosted()}isFirstAttemptGradedAndGradeObjectPosted(){var e,t,n,i;const s=this.group?null===(e=this.grade)||void 0===e?void 0:e.groupAttempts:null===(t=this.grade)||void 0===t?void 0:t.attempts;return(null===(n=null==s?void 0:s.getFirstAttempt())||void 0===n?void 0:n.isGraded())&&(null===(i=this.grade)||void 0===i?void 0:i.isPosted())}isLastAttemptGradedAndPosted(){var e,t;const n=this.group?null===(e=this.grade)||void 0===e?void 0:e.groupAttempts:null===(t=this.grade)||void 0===t?void 0:t.attempts;return null==n?void 0:n.isLastSubmittedAttemptPosted()}isLastAttemptGradedAndGradeObjectPosted(){var e,t,n,i;const s=this.group?null===(e=this.grade)||void 0===e?void 0:e.groupAttempts:null===(t=this.grade)||void 0===t?void 0:t.attempts;return(null===(n=null==s?void 0:s.getLastSubmittedAttempt())||void 0===n?void 0:n.isGraded())&&(null===(i=this.grade)||void 0===i?void 0:i.isPosted())}isStatusNothingToGrade(){return this.isDiscussion()?this.hasNoTotalParticipation():this.grade&&!this.grade.attempts.getNumAttemptsToGrade()}isGroupStatusNothingToGrade(){return this.grade&&!this.grade.groupAttempts.getNumAttemptsToGrade()}isFirstAttemptWithAGradeAndCompleted(){return U(this.column.aggregationModel)&&(this.isFirstAttemptGradedAndPosted()||this.isFirstAttemptGradedAndGradeObjectPosted())}isLastAttemptWithAGradeAndCompleted(){return H(this.column.aggregationModel)&&(this.isLastAttemptGradedAndPosted()||this.isLastAttemptGradedAndGradeObjectPosted())}isFirstOrLastAttemptWithAGradeAndCompleted(){return this.isFirstAttemptWithAGradeAndCompleted()||this.isLastAttemptWithAGradeAndCompleted()}isStatusAttemptsToReconcile(){if(!this.isDiscussion()&&this.isCurrentUserReconciler())return!(!this.column.anonymousGrading&&this.isFirstOrLastAttemptWithAGradeAndCompleted())&&(this.grade&&this.grade.attempts.getNumAttemptsToReconcile()>0)}isStatusAttemptsToGrade(e){return this.isDiscussion()?(!this.hasNoParticipation()||this.hasLateParticipation())&&(!this.grade||this.grade&&!this.grade.isGraded()):e?!this.grade||this.grade.attempts.getNumAttemptsToGrade()>=0:this.isCurrentUserReconciler()?void 0:!(!this.column.anonymousGrading&&this.isFirstOrLastAttemptWithAGradeAndCompleted())&&(this.grade&&this.grade.attempts.getNumAttemptsToGrade()>0)}isGroupStatusAttemptsToGrade(e){return e?this.grade&&this.grade.groupAttempts.getNumAttemptsToGrade()>=0:!(!this.column.anonymousGrading&&this.isFirstOrLastAttemptWithAGradeAndCompleted())&&(this.grade&&this.grade.groupAttempts.getNumAttemptsToGrade()>0)}hasGroupUsersForGrading(){var e,t;if(!(null===(t=null===(e=this.group)||void 0===e?void 0:e.memberships)||void 0===t?void 0:t.length))return!1;const n=this.group.memberships.some((e=>{var t,n;return!(null===(n=null===(t=e.ui)||void 0===t?void 0:t.gradeDetail)||void 0===n?void 0:n.isGraded())}));return n}isStatusToPost(){return this.isDiscussion()?this.needsPosting():!this.column.anonymousGrading&&this.grade&&this.grade.isReadyToPost()&&!this.grade.isOverrideGrade()}isGroupStatusToPost(){return this.grade&&this.grade.isReadyToPost()&&!this.grade.isOverrideGrade()}overrideToPost(){return this.grade&&(this.grade.isOverrideGrade()||this.grade.displayGrade&&"MULTIPLE"===this.grade.displayGrade.grade)&&this.grade.isReadyToPost()}isMultipleStatus(){return this.group?this.isGroupStatusAttemptsToGrade()&&(this.isGroupStatusToPost()||this.overrideToPost()&&!this.isGroupStatusComplete()):(this.isStatusAttemptsToGrade()||this.isStatusAttemptsToReconcile())&&(this.isStatusToPost()||this.overrideToPost()&&!this.isStatusComplete())}isNothingToGradeStatus(e){const t=this.isStatusAttemptsToGrade()||this.isStatusAttemptsToReconcile(),n=this.isMultipleStatus()||this.isStatusToPost()||this.overrideToPost();return!(t&&!e||e&&!n&&t)&&n}hasGroupAttempts(){return this.grade&&this.grade.groupAttempts.length&&s.every(this.grade.groupAttempts,(e=>!!e.id))}get RowStatus(){if(this.grade&&this.group){if(this.needsPosting())return 1;if(this.isGroupStatusAttemptsToGrade())return 3;if(this.inProgress()&&!this.grade.hasGradeBeenPosted)return 4;if(!this.grade.groupAttempts[0].status&&!this.grade.hasGradeBeenPosted)return 5;if(this.grade.isPosted()&&!this.isGroupStatusComplete())return 6;if(this.isGroupStatusComplete())return 7}else{if(this.membership&&this.membership.isPreviewStudent)return 0;if(this.grade&&0===this.grade.attempts.getNumAttemptsToGrade()&&this.grade.isReadyToPost())return 1;if(this.grade&&this.grade.isGraded()&&this.grade.attempts.getNumAttemptsToGrade()>0&&this.grade.isReadyToPost())return 2;if(this.grade&&this.grade.attempts.getNumAttemptsToGrade()>0&&0===this.grade.attempts.getNumAttemptsToPost()&&!this.grade.isPosted())return 3;if(this.hasNoSubmissions()&&this.inProgress()&&!this.grade.hasGradeBeenPosted)return 4;if(!this.grade||!this.grade.hasGradeBeenPosted)return 5;if(this.grade&&this.grade.hasGradeBeenPosted&&!this.isStatusComplete())return 6;if(this.isStatusComplete())return 7}return 8}hasNoSubmissions(){return!this.attemptCount||0===this.attemptCount}hasNoParticipation(){return!this.participation||0===this.participation.comment&&0===this.participation.reply}hasNoTotalParticipation(){return!this.participation||0===this.participation.comment&&0===this.participation.reply&&0===this.participation.totalComment&&0===this.participation.totalReply}hasLateParticipation(){var e;return!(null===(e=this.grade)||void 0===e?void 0:e.isExempt)&&this.participation&&0===this.participation.comment&&0===this.participation.reply&&this.participation.totalComment+this.participation.totalReply!==0}inProgress(){return this.group?this.grade&&this.grade.ui&&this.grade.ui.groupAttempt&&w.l.InProgress===this.grade.ui.groupAttempt.status:this.grade&&this.grade.ui&&this.grade.ui.attempt&&w.l.InProgress===this.grade.ui.attempt.status}isLate(e){if(!this.hasDueDateException){const t=y(this.context.getServerTime()),n=null!=e?e:this.dueDate;return this.hasNoSubmissions()&&t.isAfter(n)||y(this.lastAttemptDate).isAfter(n)}return!1}isSubmittedLate(e){if(!this.hasDueDateException){const t=null!=e?e:this.dueDate;return!this.hasNoSubmissions()&&y(this.lastAttemptDate).isAfter(t)&&!this.inProgress()}return!1}isCompleted(){return!(this.group||!this.grade||!this.grade.isGraded()||!this.grade.isPosted())||!!(this.group&&this.group.memberships&&this.group.memberships.length>0)&&this.group.memberships.every((e=>e.ui&&e.ui.gradeDetail&&e.ui.gradeDetail.isPosted()))}needsPosting(){if(!this.group)return!this.isCompleted()&&this.grade&&this.grade.isReadyToPost();if(this.group&&this.group.memberships){let e=0,t=0;if(this.group.memberships.forEach((n=>{n.ui&&n.ui.gradeDetail&&(n.ui.gradeDetail.isReadyToPost()?t++:n.ui.gradeDetail.isPosted()&&e++)})),t>0&&e+t===this.group.memberships.length)return!0}return!1}needsGrading(){return this.grade.groupAttempts&&this.grade.groupAttempts.length?this.grade.groupAttempts[0].isNeedsGrading()&&!this.grade.groupAttempts[0].isPostable():this.attemptCount>0&&this.grade.isSubmitted()}deleteAllAttempts(){this.grade.attempts.$fetch().$then((e=>{e.forEach((e=>{e.$destroy()})),this.attemptCount=0,this.lastAttemptDate=null}))}getLastAttempt(){var e,t;if(null===(t=null===(e=this.grade)||void 0===e?void 0:e.attempts)||void 0===t?void 0:t.length)return this.grade.attempts[this.grade.attempts.length-1]}getLastGroupAttempt(){var e,t;if(null===(t=null===(e=this.grade)||void 0===e?void 0:e.groupAttempts)||void 0===t?void 0:t.length)return this.grade.groupAttempts[this.grade.groupAttempts.length-1]}};function U(e){return Object(O.parseAttemptAggregationModel)(e)===O.AttemptAggregationModel.First}function H(e){return Object(O.parseAttemptAggregationModel)(e)===O.AttemptAggregationModel.Last}_=Object(i.a)([Object(i.c)(0,Object(E.b)("column")),Object(i.c)(1,Object(E.b)(u.b)),Object(i.c)(2,Object(E.b)(p.b))],_);class z extends M{}a.module(D,["angular-data.DSCacheFactory",v.N,u.a,C.b,k.a,b.a,f.a,x.a]).service(T,M)}).call(this,n("71td"))},o9hD:function(e,t){e.exports='<bb-modal role="alertdialog" class="notification gradebook-upload-failed-modal upload-failed-button" bb-translate-attrs="{\'aria-label\': {{::gradesUploadSettings.completedModalTitleKey}}}"\n          modal-title-key="{{::gradesUploadSettings.completedModalTitleKey}}" aria-describedby="course-is-complete"\n          analytics-id-tag-prefix="course.grades.grades-upload-settings">\n    <div name="modal-contents">\n        <p id="course-is-complete" bb-translate="course.grades.grades-upload-settings.courseComplete.content" course-org-token-resolver></p>\n    </div>\n    <a name="modal-footer-help-link" \n       href="" \n       bb-translate-attrs="{\'href\': \'course.grades.grades-upload-settings.helpLinkCourseComplete\'}" \n       target="_blank" \n       bb-translate="course.grades.grades-upload-settings.helpButton" \n       rel="noopener noreferrer"\n       analytics-id="course.grades.grades-upload-settings.helpButton">\n    </a>\n    <button name="modal-footer-button-primary" \n            class="button js-discard-changes js-primary-button" \n            ng-click="$dismiss()"\n            analytics-id="course.grades.gradesUploadSettings.closeButton.button">\n        <span bb-translate="course.grades.grades-upload-settings.closeButton"></span>\n    </button>\n</bb-modal>'},oB9e:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g}));n("SeO5");var i=n("Llzl"),s=n("IbyE"),a=n("0JpG"),o=n("nYZ0"),r=n("Fvsw"),l=n("jhBu"),c=n("Y3OE"),d=n("X/qj"),u=n("pjml"),m=n("TnpK"),p=n("RPob");const h="ultra.service.blog",g="blogService";class b{constructor(e,t,n,i,s,a,o,r,l,c,d,u){this.bbLocalize=e,this.$rootScope=t,this.$q=n,this.$ngRedux=i,this.$modal=s,this.courseModel=a,this.UserModel=o,this.context=r,this.contentService=l,this.ultraState=c,this.gradebookPermissionService=d,this.entitlementService=u,this.subscribeToRedux()}subscribeToRedux(){this.$ngRedux.connect(null,(e=>({loadBlog:t=>e(s.X.blog.blogs.loadBlog(t)),persistContent:(t,n)=>e(s.X.content.persistContent(t,n)),loadGradebookColumn:(t,n)=>e(s.X.gradebookColumn.loadGradebookColumn({courseId:t,columnId:n.gradeColumnId})),persistGradebookColumn:(t,n)=>e(s.X.gradebookColumn.persistGradebookColumn(t,n)),loadGradebookGrade:(t,n,i,a={})=>e(s.X.gradebookGrade.loadBulkView(t,[n],[i],a))})))(this)}createContent(e){const{courseId:t,parentId:n,positionBefore:i,positionAfter:s,root:a}=e;return this.contentService.makeContentInContentTree(a,t,n,i,s)}updateContent(e,t,n){return e.$patch(n).$then((()=>{this.$rootScope.$broadcast("content-update",e),this.$rootScope.$broadcast("attempt-base-content-update",e,t)})).$asPromise()}fetchContent(e,t){return t.contents.$find(e,{expand:"alignedGoals,assignedGroups"}).$asPromise()}fetchBlog(e,t,n=!1){const i={courseId:e,blogId:t,expandHasEntries:n};return this.$q.resolve(this.loadBlog(i)).then((e=>e.blog))}patchBlogContent(e,t,n,i){const s={id:t,courseId:e,contentDetail:{[c.a.Journal.toString()]:{blog:n}}},a={id:t,courseId:e,contentDetail:{[c.a.Journal.toString()]:{blog:i}}};return this.$q.resolve(this.persistContent(s,a)).then((e=>e.contents))}patchGradebookColumn(e,t){return this.$q.resolve(this.persistGradebookColumn(e,t)).then((e=>e.gradebookColumn))}patchBlogGrading(e,t,n,i,s,a){const o=!n.gradingAllowed&&!i.gradingAllowed,r=n.gradingAllowed&&!i.gradingAllowed,l=!n.gradingAllowed&&i.gradingAllowed,d=n.entryModificationAllowed!==i.entryModificationAllowed,u=n.commentModificationAllowed!==i.commentModificationAllowed;return!o||d||u?r||d||u?this.patchBlogContent(e,t,n,i).then((e=>null)):l?this.patchBlogContent(e,t,n,i).then((n=>{const i=n[t].contentDetail[c.a.Journal.toString()];return a.id=i.blog.gradeColumnId,a.courseId=e,this.patchGradebookColumn({},a)})):this.patchGradebookColumn(s,a):this.$q.resolve(null)}loadBlogGradebookColumn(e,t){return t&&t.gradeColumnId?this.$q.resolve(this.loadGradebookColumn(e,t).then((e=>e.gradebookColumn))):this.$q.resolve(null)}savePrompt(e,t){const n=e.description,i=[{tag:"table",replacementText:this.bbLocalize.translateSync({key:"course.content.tablePlaceholder",locale:this.bbLocalize.getLocale(this.$rootScope)})},{tag:"math",replacementText:this.bbLocalize.translateSync({key:"course.content.mathPlaceholder",locale:this.bbLocalize.getLocale(this.$rootScope)}),replacementTextPlural:this.bbLocalize.translateSync({key:"course.content.mathPlaceholder.plural",locale:this.bbLocalize.getLocale(this.$rootScope)})}],s=Object(p.q)(t,i);return e.description=this.contentService.truncateDescription(s,o.c.MAX_LENGTH_IN_CONTENT_ITEM),e.$patch(["contentDetail"]).$asPromise().then((()=>{this.$rootScope.$broadcast("content-update",e)})).catch((()=>{e.description=n}))}loadBlogGradebookGrade(e,t,n,i={}){return this.$q.resolve(this.loadGradebookGrade(e,t,n,i))}}b.$inject=[a.serviceName,"$rootScope","$q","$ngRedux","$modal",u.m.serviceName,u.Jb.serviceName,r.b,o.f,m.d,d.b,l.b];i.module(h,[u.N,a.moduleName,r.a,o.d,m.b,d.a,l.a,u.N]).service(g,b)},oNH7:function(e,t){e.exports='<div ng-if="conversionStatusBarController.showStatusBar && !conversionStatusBarController.inPreview"\n     class="conversion-status-bar import-learn-bar" ng-class="{\'below\': conversionStatusBarController.hideStatusBar()}"\n     bb-load-bundle="components/directives/conversion-status-bar" role="banner">\n  <div class="conversion-prompt-container">\n    <div class="conversion-prompt-title" bb-translate="course.conversion.statusBar.useUltraPromptTitle" course-org-token-resolver>\n    </div>\n    <div class="conversion-prompt-details" bb-translate="course.conversion.statusBar.useUltraPromptDetails" course-org-token-resolver>\n    </div>\n    <a class="hide-for-medium-only hide-for-small-only"\n        bb-translate="course.conversion.statusBar.moreInfoLink" bb-translate-attrs="{ \'href\': \'course.conversion.statusBar.moreInfoLinkUrl\' }"\n        target="_blank" rel="noopener noreferrer"\n        analytics-id="course.conversion.statusBar.moreInfoLink"></a>\n  </div>\n  <div class="conversion-button-container">\n    <a href="javascript:void(0);" class="js-back-to-classic conversion-button conversion-return-classic show-for-large-up"\n        ng-click="conversionStatusBarController.backToClassic()" component-key="conversionBackToClassic"\n        analytics-id="course.conversion.statusBar.backToClassic">\n      <bb-translate course-org-token-resolver>course.conversion.statusBar.backToClassic</bb-translate>\n    </a>\n    <button class="js-back-to-classic conversion-button conversion-return-button button button--secondary"\n        ng-click="conversionStatusBarController.backToClassic()" component-key="conversionBackToClassic"\n        analytics-id="course.conversion.statusBar.backToClassic.button">\n      <span bb-translate="course.conversion.statusBar.backToClassic" course-org-token-resolver></span>\n    </button>\n    <button class="js-use-new-ux conversion-button button default" ng-click="conversionStatusBarController.useTheNewExperience()"\n            bb-confirmation-needed="resource/x-bb-course-conversion" show-type="always"  confirmation-course-org-token-resolver\n            analytics-id="course.conversion.statusBar.useUltra.button">\n      <span bb-translate="course.conversion.statusBar.useUltra" course-org-token-resolver></span>\n    </button>\n  </div>\n</div>\n'},oPIA:function(e,t,n){"use strict";var i;!function(e){e.Failure="failure",e.Success="success"}(i||(i={}));var s,a;!function(e){e.Auxiliary="auxiliary",e.Primary="primary"}(s||(s={})),function(e){e.Small="small",e.Medium="medium",e.Large="large"}(a||(a={}));const o=new Set(Object.values(a));var r,l,c,d,u;!function(e){e.Modal="Modal",e.ModalHeader="ModalHeader",e.ModalBody="ModalBody",e.ModalFooter="ModalFooter"}(r||(r={})),function(e){e[e.ModalAlreadyOpenError=1]="ModalAlreadyOpenError",e[e.FailedComponentValidationError=2]="FailedComponentValidationError",e[e.InvalidRequestTypeError=3]="InvalidRequestTypeError",e[e.InvalidIdError=4]="InvalidIdError",e[e.MissingContentsError=5]="MissingContentsError",e[e.WrongOwnerError=6]="WrongOwnerError",e[e.ModalNotFoundError=7]="ModalNotFoundError"}(l||(l={})),function(e){e.ModalNew="portal:modal",e.ModalResponse="portal:modal:response",e.ModalClose="portal:modal:close",e.ModalCloseResponse="portal:modal:close:response"}(c||(c={})),function(e){e[e.InvalidSelectorError=1]="InvalidSelectorError",e[e.InvalidTargetError=2]="InvalidTargetError",e[e.NotificationNotFoundError=3]="NotificationNotFoundError",e[e.NoOwnershipError=4]="NoOwnershipError",e[e.FailedComponentValidationError=5]="FailedComponentValidationError"}(d||(d={})),function(e){e.Dark="dark",e.Light="light"}(u||(u={}));const m=new Set(Object.values(u));var p,h;!function(e){e[e.Small=12]="Small",e[e.Medium=20]="Medium",e[e.Large=30]="Large"}(p||(p={})),function(e){e.BottomLeft="bottom:left",e.BottomRight="bottom:right",e.TopLeft="top:left",e.TopRight="top:right"}(h||(h={}));const g=new Set(Object.values(h));var b;!function(e){e.AnalyticsId="notification:analytics:selector",e.Region="notification:region:selector"}(b||(b={}));const f=new Set(Object.values(b));var v,y,k;!function(e){e.Notification="Notification"}(v||(v={})),function(e){e.NotificationNew="portal:notification",e.NotificationResponse="portal:notification:response",e.NotificationStatus="portal:notification:status",e.NotificationClose="portal:notification:close",e.NotificationCloseResponse="portal:notification:close:response"}(y||(y={})),function(e){e.Queued="queued",e.Visible="visible",e.Failed="failed",e.Removed="removed"}(k||(k={}));var x,S,C;!function(e){e.Full="full",e.Small="small"}(x||(x={})),function(e){e.PanelNew="portal:panel",e.PanelResponse="portal:panel:response",e.PanelClose="portal:panel:close",e.PanelCallback="portal:callback"}(S||(S={})),function(e){e.onClose="onClose",e.onBlur="onBlur",e.onScroll="onScroll",e.onClick="onClick"}(C||(C={}));const E=globalThis.location.origin,I=new RegExp(`(^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:)|(^${E})/|(^[\\u0000-\\u001F ]*d[\\r\\n\\t]*a[\\r\\n\\t]*t[\\r\\n\\t]*a[\\r\\n\\t]*:)`,"i"),w=e=>!e||I.test(e)?"":e,A=["role","tabindex","id","aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-dropeffect","aria-errormessage","aria-expanded","aria-flowto","aria-grabbed","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"];var O;!function(e){e.Small="small",e.Medium="medium",e.Large="large"}(O||(O={}));const D=new Set(Object.values(O));var T;!function(e){e.onFocus="onFocus",e.onBlur="onBlur",e.onClick="onClick"}(T||(T={}));var P;!function(e){e.NewPortal="new",e.RemovedPortal="removed",e.CallbackPortal="callback",e.FailedValidationPortal="failedValidation"}(P||(P={}));const $=["className","style","dir",...Object.keys(T),...A],G=new Map([["src",w],["href",w]]),j=new Map;["div","span","h1","h2","h3","h4","p","ul","ol","li"].forEach((e=>j.set(e,{attributes:$}))),j.set("button",{attributes:[...$,"disabled"],classNameMappings:new Map(Object.entries({"uef--button":"button button--primary","uef--button--secondary":"button button--secondary"})),classNameDefault:"uef--button--classless"}),j.set("iframe",{attributes:[...$,"src"],transformers:G}),j.set("img",{attributes:[...$,"src","alt","height","width"],transformers:G}),j.set("bdi",{attributes:$}),j.set("bdo",{attributes:$}),j.set("a",{attributes:[...$,"href"],transformers:G});const L=j;var N,B,M;!function(e){e.PortalClose="portal:close"}(N||(N={})),function(e){e[e.Authorization=1]="Authorization",e[e.InvalidContents=2]="InvalidContents"}(B||(B={})),function(e){e.PortalCallback="portal:callback"}(M||(M={}));var R,F;!function(e){e[e.ExistingRegistration=0]="ExistingRegistration",e[e.MissingPlacementHandle=1]="MissingPlacementHandle"}(R||(R={})),function(e){e.Click="click",e.Hover="hover",e.PortalNew="portal:new",e.PortalRemove="portal:remove",e.Route="route",e.RouteChanging="route:changing",e.LtiLaunch="lti:launch"}(F||(F={}));var V,_,U;!function(e){e[e.InvalidRouteName=1]="InvalidRouteName",e[e.ExistingRouteName=2]="ExistingRouteName"}(V||(V={})),function(e){e.Link="Link",e.ButtonLink="ButtonLink"}(_||(_={})),function(e){e.LtiLaunch="LtiLaunch",e.SvgIcon="SvgIcon",e.ActionMenu="ActionMenu"}(U||(U={}));var H,z;!function(e){e.Failure="failure",e.Success="success"}(H||(H={})),function(e){e[e.ExistingRegistration=0]="ExistingRegistration"}(z||(z={}));var q;!function(e){e[e.RateLimit=20]="RateLimit",e[e.MultipleIntegrationRateLimit=15]="MultipleIntegrationRateLimit"}(q||(q={})),n.d(t,"p",(function(){return"integration:hello"})),n.d(t,"d",(function(){return"authorization:authorize"})),n.d(t,"eb",(function(){return"authorization:unauthorize"})),n.d(t,"r",(function(){return i})),n.d(t,"b",(function(){return"ultra:analytics-event"})),n.d(t,"l",(function(){return"ultra:help"})),n.d(t,"E",(function(){return"ultra:portal"})),n.d(t,"cb",(function(){return"ultra:route-event"})),n.d(t,"F",(function(){return"ultra:modal"})),n.d(t,"G",(function(){return"ultra:notification"})),n.d(t,"a",(function(){return"*"})),n.d(t,"J",(function(){return"bb.premium.uef"})),n.d(t,"m",(function(){return"help:register"})),n.d(t,"n",(function(){return"help:request"})),n.d(t,"o",(function(){return s})),n.d(t,"P",(function(){return a})),n.d(t,"Q",(function(){return o})),n.d(t,"t",(function(){return r})),n.d(t,"u",(function(){return l})),n.d(t,"O",(function(){return c})),n.d(t,"x",(function(){return d})),n.d(t,"A",(function(){return u})),n.d(t,"B",(function(){return m})),n.d(t,"y",(function(){return p})),n.d(t,"S",(function(){return h})),n.d(t,"T",(function(){return g})),n.d(t,"U",(function(){return b})),n.d(t,"V",(function(){return f})),n.d(t,"w",(function(){return v})),n.d(t,"R",(function(){return y})),n.d(t,"z",(function(){return k})),n.d(t,"C",(function(){return"submission-tool:register"})),n.d(t,"D",(function(){return"submission-tool:settings-saved"})),n.d(t,"Y",(function(){return x})),n.d(t,"X",(function(){return S})),n.d(t,"W",(function(){return C})),n.d(t,"Z",(function(){return O})),n.d(t,"ab",(function(){return D})),n.d(t,"N",(function(){return T})),n.d(t,"I",(function(){return"portal:render"})),n.d(t,"H",(function(){return"portal:render:response"})),n.d(t,"gb",(function(){return P})),n.d(t,"jb",(function(){return $})),n.d(t,"ib",(function(){return L})),n.d(t,"M",(function(){return B})),n.d(t,"g",(function(){return M})),n.d(t,"K",(function(){return"proctoring-service:register"})),n.d(t,"L",(function(){return"proctoring-service:settings-saved"})),n.d(t,"bb",(function(){return R})),n.d(t,"hb",(function(){return F})),n.d(t,"db",(function(){return"event:subscribe"})),n.d(t,"fb",(function(){return"event:unsubscribe"})),n.d(t,"j",(function(){return"event:event"})),n.d(t,"e",(function(){return"basenav:register"})),n.d(t,"v",(function(){return V})),n.d(t,"s",(function(){return _})),n.d(t,"k",(function(){return U})),n.d(t,"f",(function(){return"course:detail:register"})),n.d(t,"i",(function(){return H})),n.d(t,"h",(function(){return z})),n.d(t,"c",(function(){return"analytics:visible"})),n.d(t,"q",(function(){return q}))},oQrK:function(e,t,n){"use strict";t.a=class{static detect(){const e={},t=window.navigator.userAgent.toLowerCase(),n=function(e){return-1!==t.indexOf(e)};return e.ios=function(){return e.iphone()||e.ipod()||e.ipad()},e.iphone=function(){return!e.windows()&&n("iphone")},e.ipod=function(){return n("ipod")},e.ipad=function(){return n("ipad")},e.android=function(){return!e.windows()&&n("android")},e.androidPhone=function(){return e.android()&&n("mobile")},e.androidTablet=function(){return e.android()&&!n("mobile")},e.blackberry=function(){return n("blackberry")||n("bb10")||n("rim")},e.blackberryPhone=function(){return e.blackberry()&&!n("tablet")},e.blackberryTablet=function(){return e.blackberry()&&n("tablet")},e.windows=function(){return n("windows")},e.windowsPhone=function(){return e.windows()&&n("phone")},e.windowsTablet=function(){return e.windows()&&n("touch")&&!e.windowsPhone()},e.fxos=function(){return(n("(mobile;")||n("(tablet;"))&&n("; rv:")},e.fxosPhone=function(){return e.fxos()&&n("mobile")},e.fxosTablet=function(){return e.fxos()&&n("tablet")},e.meego=function(){return n("meego")},e.mobile=function(){return e.androidPhone()||e.iphone()||e.ipod()||e.windowsPhone()||e.blackberryPhone()||e.fxosPhone()||e.meego()},e.tablet=function(){return e.ipad()||e.androidTablet()||e.blackberryTablet()||e.windowsTablet()||e.fxosTablet()},e.desktop=function(){return!e.tablet()&&!e.mobile()},e.portrait=function(){return window.innerHeight/window.innerWidth>1},e.landscape=function(){return window.innerHeight/window.innerWidth<1},e}}},oVrE:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return r}));const i="anonymousId";function s(){return i}function a(e,t){const n=t.translateSync({locale:t.getLocale(e),key:"components.directives.avatar.anonymous",noWrap:!0,noEscape:!0});return{id:s(),givenName:n,familyName:"",userName:void 0}}function o(e){return(null==e?void 0:e.id)===i}function r(e){var t;const n=null==e?void 0:e.givenName,i=null==e?void 0:e.familyName;return e&&(i||n)?{avatarUrl:null===(t=e.avatar)||void 0===t?void 0:t.permanentUrl,givenName:n,familyName:i,otherName:e.otherName,preferredDisplayName:e.preferredDisplayName,pronouns:e.pronouns,pronunciation:e.pronunciation,pronunciationAudio:e.pronunciationAudio}:null}},ofgY:function(e,t){e.exports='<div class="file-upload-container">\n  <div ngf-drop\n       id="{{fileUploadDivId}}"\n       ng-model="files" class="file-upload"\n       ngf-multiple="fileUpload.allowMultiple"\n       ngf-drop-disabled="disableDrag && disableDrag()"\n       ngf-change="fileUpload.onFileSelect($files, $file, $newFiles, $duplicateFiles, $invalidFiles, $event)"\n       ngf-stop-propagation="!(disableDrag && disableDrag())"\n       ngf-drag-over-class="dragClass"\n       tabindex="-1">\n    <div class="fileUploadTransclude" ng-transclude ng-show="fileUpload.transcludeVisible"></div>\n    <div class="js-file-upload-complete" ng-attr-ready="{{!fileUpload.uploadInProgress}}"></div>\n    <div ng-show="fileUpload.fileReviewVisible" class="file-upload-review">\n      <section class="file-upload-panel" ng-if="fileUpload.progressVisible">\n        <bb-progress primary-key="primaryKey && primaryKey()" display-results="fileUpload.useDefaultSuccessMethod"></bb-progress>\n      </section>\n    </div>\n  </div>\n  <input ngf-select\n         ng-if="fileUpload.allowMultiple"\n         type="file"\n         ngf-change="fileUpload.onFileSelect($files)"\n         multiple class="hide fileUploadInput"\n         analytics-id="components.directives.fileUpload.multipleFiles.input.file"/>\n  <input ngf-select\n         ng-if="!fileUpload.allowMultiple"\n         type="file"\n         ngf-change="fileUpload.onFileSelect($files)"\n         class="hide fileUploadInput"\n         analytics-id="components.directives.fileUpload.input.file"/>\n</div>'},ohO4:function(e,t,n){"use strict";var i=n("D57K"),s=n("aHpC"),a=n("IbyE");class o{constructor(e,t,n,i){this.flagKey=e,this.scope=i,this.$q=n,this.service=t}wait(){if(!this.defered){const e=this.service.isFeatureEnabledStrict(this.flagKey);if(void 0!==e)return this.$q.resolve(e);this.deregister=this.scope.$on("feature-flag-values-updated",this.featureFlagsUpdated.bind(this)),this.service.loadFeatureFlagValue(this.flagKey),this.defered=this.$q.defer()}return this.defered.promise}featureFlagsUpdated(){var e,t;const n=this.service.isFeatureEnabledStrict(this.flagKey);void 0!==n&&(null===(e=this.deregister)||void 0===e||e.call(this),this.deregister=void 0,null===(t=this.defered)||void 0===t||t.resolve(n))}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));const r="ultra.service.feature.flags",l="featureFlags";let c=class{constructor(e,t,n){this.$rootScope=e,this.$q=t,this.$ngRedux=n,this.subscribeToRedux();const i=e.$watch((()=>this.flagValues),(e=>this.$rootScope.$broadcast("feature-flag-values-updated",e)));this.$rootScope.$on("$destroy",(()=>i()))}subscribeToRedux(){const e=this.$ngRedux.connect((e=>({flagValues:a.gc.featureFlags.getFeatureFlagValues(e)})),(e=>({loadFeatureFlagValueByKey:t=>e(a.X.featureFlags.loadFeatureFlagValueByKey({flagKey:t}))})))(this);this.$rootScope.$on("$destroy",e)}loadFeatureFlagValue(e){return this.loadFeatureFlagValueByKey(e)}isFeatureEnabled(e){var t;return(null===(t=this.flagValues)||void 0===t?void 0:t[e])?this.isFlagValueTrue(this.flagValues[e].flagValue):(this.loadFeatureFlagValue(e),!1)}isFeatureEnabledStrict(e){var t;if(null===(t=this.flagValues)||void 0===t?void 0:t[e])return this.isFlagValueTrueStrict(this.flagValues[e]);this.loadFeatureFlagValue(e)}isFlagValueTrue(e){return"true"===e}isFlagValueTrueStrict(e){if(e&&(void 0!==e.flagValue||!e.isLoading))return this.isFlagValueTrue(e.flagValue)}createWaiter(e){return new o(e,this,this.$q,this.$rootScope).wait()}};c=Object(i.a)([Object(i.c)(0,Object(s.b)("$rootScope")),Object(i.c)(1,Object(s.b)("$q")),Object(i.c)(2,Object(s.b)("$ngRedux"))],c);angular.module(r,[]).service(l,c)},oi1r:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("nsO7"),s=n("Llzl"),a=n("0JpG"),o=n("Bu0u"),r=n("pjml"),l=n("zGdY");const c="ultra.components.services.grade.gradeSchema.Service",d="gradeSchemaService";class u{constructor(e,t,n,i){this.$q=e,this.CourseModel=n,this.bbLocalize=i}loadSchemas(e,t,n){e instanceof this.CourseModel||(e=this.CourseModel.$new(e));if(!(e.$pk||e.id))throw new o.a({message:"A primary key or id must be set on the course model"});let s=null;const a=e.gradebook.schemas.$fetch().$asPromise(),r=this.bbLocalize.loadBundle("components/services/grade"),c=this.$q.defer();return this.$q.all({gradeSchemas:a,bundle:r}).then((e=>{const t=i.filter(e.gradeSchemas,(e=>!(e.scaleType===l.ac.Text)||n));t.forEach((e=>{if(e.localizableTitle){const t=e.localizableTitle.languageKey.replace(/[\W_]+/g,"_").toLowerCase();e.ui.displayTitleKey="components.services.grade.schema."+t}else e.ui.displayTitle=e.title})),c.resolve(t)})),s=c.promise,s.then((e=>t&&t.length?e.filter((e=>t.some((t=>t===e.scaleType)))):e))}loadSchemaForColumn(e){return this.loadSchemas(e.courseId).then((t=>i.find(t,(t=>t.id===e.gradingSchemaId))))}loadGradeSchema(e){const t=e.courseId;if(t){const n=this.loadSchemas(t,[],!0);return this.$q.when(n).then((t=>i.find(t,(t=>t.id===e.gradingSchemaId))))}throw new o.a({message:"Valid grade column object not provided."})}}u.$inject=["$q","DSCacheFactory",r.m.serviceName,a.serviceName];s.module(c,["angular-data.DSCacheFactory"]).service(d,u)},okL3:function(e,t){e.exports='<div>\n  <div class="upload-list">\n    <div ng-repeat="file in inProgressFiles" ng-attr-id="{{::progress.getProgressIdAttr(file)}}" bb-translate-attrs="{\'aria-label\':\'components.directives.fileUpload.document\'}" class="file-container file-container-progress">\n      <div class="file-meta-container">\n        <div class="file-meta">\n          <ng-switch on="file.currentMimeType">\n            <bb-ui-icon-large-zip ng-switch-when="application/zip" color="primary" class-name="element-image"></bb-ui-icon-large-zip>\n          </ng-switch>\n          <div ng-hide="file.isProcessing" class="progress-circle">\n            <svg class="progress-circle-svg" viewBox="-10 -10 220 220">\n              <path class="back" ng-attr-d="{{\'M0,100 a100,100 0 1 0 200,0 a100,100 0 1 0 -200,0\'}}" fill="transparent" />\n              <path class="bar" ng-attr-d="{{\'m100,0a100,100 0 0 1 0,200a100,100 0 0 1 0,-200\'}}" fill="transparent" stroke-dasharray="629" stroke-dashoffset="629"/>\n            </svg>\n            <i class="progress-icon file-error-icon icon-exclamation" ng-if="state === \'error\'"></i>\n            <span class="progress-value" bb-translate translate-values="{percentage: file.currentProgress}">global.percent</span>\n          </div>\n          <span ng-show="file.isProcessing" class="processing-spinner">\n            <div class="canvas success-state"></div>\n          </span>\n          <p class="progress-status">\n            <span class="ellipse" bb-translate="components.directives.fileUpload.uploadingFile" translate-values="{fileName: file.fileName}"></span>\n          </p>\n        </div>\n        <div class="content-item-controls file-container-controls">\n          <button ng-hide="file.isProcessing"\n                  class="button super-clear js-cancel-upload"\n                  bb-translate-attrs="{\'aria-label\':\'components.directives.fileUpload.cancelUploadText\'}"\n                  ng-click="progress.cancelUpload($event, file.id, file.identifier)"\n                  analytics-id="components.directives.fileUpload.cancelUploadText.button">\n            <bb-svg-icon size="small" icon="close"></bb-svg-icon>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},ol3u:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="components.directives.cloudStorageIntegration.modal.authorizationRequiredTitle"\n          analytics-id-tag-prefix="components.directives.cloudStorageIntegration.authorizationRequired">\n  <div name="modal-contents">\n    <p bb-translate>components.directives.cloudStorageIntegration.modal.authorizationRequiredMessage</p>\n  </div>\n  <button name="modal-footer-button-primary" class="button dismiss-button js-primary-button" ng-click="$parent.$dismiss()" analytics-id="global.close">\n    <bb-translate>global.close</bb-translate>\n  </button>\n</bb-modal>\n'},"p/lC":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-question-analysis",use:"icon-small-question-analysis-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-question-analysis"><path d="M11 1H5l1 2v4l-5 8h14l-5-8V3l1-2zM4.125 10h7.75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"p2I/":function(e,t){e.exports='<svg fill="none" style="overflow:visible;width:100%" viewBox="0 0 500 300" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M284.4 173.1c-8.3 2.9-12.3 12.2-8.8 20.3l46.1 103.2s11.1 23.7 27.4 15.7c16.6-8 4.6-30.1 4.6-30.1l-51-102.2c-3.6-6.5-11.3-9.4-18.3-6.9Z" fill="#D7B08F"/><path d="m305.7 189.7 20 108.8s3.9 16.6 18.4 14.7c19.5-2.4 16.3-21.2 16.3-21.2l-27.6-105-27.1 2.7Z" fill="#D7B08F"/><path d="m306.4 130.4-7.7 20.9c-2.1 5.8-2.2 12.2-.1 18.1l7.1 20.3 15.8 15.3 11.3-18-7-24 11.1-26.8c1.3-3.1 1.3-6.6.1-9.7l-2-5.1c-2.3-5.7-7.9-9.3-14.1-9-6.6.4-12 5.1-13.3 11.6l-1.2 6.4Z" fill="#D7B08F"/><path d="m329.7 282.1-30-109.5s-3.7-12.2-1-21.4m32.7-18-13.3 19.9s-5.6 5.3-1.9 14.8" stroke="#000" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M264.9 183.5c-18.2-7.4-38.8-6.6-56.4 2.3-1.6.8-3.2 1.6-4.7 2.4-9.8 5-9.2 23.5-10.2 34.4-5 54.7-19.6 174.9-19.6 174.9s-5.763 42.515 66.5 47c72.5 4.5 65.5-37 65.5-37l-10-58.9 17-64.2s8.2-17.7 5.2-29.2L301 206.4c-2.1-6.1-6.8-11-12.8-13.4l-23.3-9.5Z" fill="#F0E7D9"/><path d="M308.6 227.9c.6 1.7 11.3 32.3 11.3 32.3l-30.1 112.2m-25.7-164.8c.6 1.7 14.3 65 14.3 65l-24.2 125.7" stroke="#000" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="m269.227 143-1.498 53.5s-2.097 3.6-4.395 8.5c-1.098-5.7-25.168-17.7-25.168-17.7l.499-57.7c-.099 0 18.078 11.5 30.562 13.4Z" fill="#D7B08F"/><path d="M238.066 187.3s27.466 11.2 26.866 24.8c0 0-2.496-11.9 2.697-15.6" fill="#D7B08F"/><path d="M238.066 187.3s27.466 11.2 26.866 24.8c0 0-2.496-11.9 2.697-15.6" stroke="#000" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M243.459 72.9c22.273-12.6 56.03 2.1 51.835 42 4.395 22.9-11.785 53.9-19.475 55.3-10.487 1.8-25.568-6-32.36-16.5-3.395-5.3-6.491-24-6.491-24s-17.978-42.9 6.491-56.8Z" fill="#D7B08F"/><path d="M290.964 109.977c-.646-.8-1.568-1.387-2.536-1.44-.968-.053-1.982.48-2.397 1.44m-15.35 0c-.645-.8-1.567-1.387-2.535-1.44-.968-.053-1.982.48-2.397 1.44" stroke="#000" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M288.889 123.844c-1.145 0-2.074-1.529-2.074-3.414 0-1.885.929-3.413 2.074-3.413 1.146 0 2.075 1.528 2.075 3.413 0 1.885-.929 3.414-2.075 3.414Zm-21.204 0c-1.146 0-2.074-1.529-2.074-3.414 0-1.885.928-3.413 2.074-3.413s2.074 1.528 2.074 3.413c0 1.885-.928 3.414-2.074 3.414Z" fill="#000"/><path d="M280.499 121c.162.318 7.068 15.736 4.793 16.531-2.193.795-4.712-3.815-4.712-3.815m4.281 9.858s-2.338 3.959-10.813 0" stroke="#000" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M234.271 114c-4.195.5-13.283 6-1.998 17.7 11.286 11.7 15.181-4.3 12.884-10.1-2.297-5.8-7.69-7.9-10.886-7.6Z" fill="#D7B08F"/><path d="M243.559 158.5c15.181 12 30.262 11.1 30.262 11.1m-43.246-48.4s5.094-3.4 4.395 8.1c0 0-2.097-4.6-2.497-3.1" stroke="#000" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M296.692 147.7c9.189-21.6 24.57-73.1-18.077-75.2 0 0 7.691-8.4 4.195-19.1-3.496-10.7-28.964-7.2-31.76 4.7-2.697 11.9-2.098 12.3-2.098 12.3s-19.675 5.6-27.365 26.9c-6.792 18.9-11.186 44.7-4.994 60.3 6.192 15.6 3.196 18.4 3.196 18.4 47.64 18.4 25.568-27.7 18.876-40.1-1.797-.3-3.895-1.5-6.492-4.1-11.285-11.7-2.197-17.3 1.998-17.7 1.598-.2 3.695.3 5.693 1.5 13.283-13 25.767-35.3 25.767-35.3s4.195 21.8 29.264 21.4c0 0 1.098 6.8.299 13.4.799 28.6-11.585 51.6-18.177 54.8.1 5 3.096 15.5 26.866 5.8.1-.2-16.279-6.4-7.191-28Z" fill="#84CCAA"/><path d="M235.969 136.8s31.46 48.1-3.496 43.6m69.313-46.8s-18.776 30.4 2.197 41.9M267.429 74.6s-3.795 36.3 43.945 22" stroke="#000" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M303.085 92.9s5.593-23.3-19.875-20.7c-25.468 2.6-32.659 4.3-32.859-10" stroke="#000" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M257.042 64.6s-8.988-9.6 0-15.2c8.989-5.6 33.858 2.6 27.765 12.8-6.092 10.3-23.27-3.8-23.27-3.8m-44.644 62.3s-11.286-9.3 1.797-14.5c13.084-5.2 38.153-9.2 45.144-25.7" stroke="#000" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="m297 112.7 37.6-4.5c8.9-1.4 16.8 5.8 16.1 14.8-.5 7.4-6.8 13.1-14.3 12.9-9.1-.3-30.9-1.2-38.2-1.4-3.6-.1-6.3-3.2-6-6.8l-.5-9.3c.4-2.9 2.5-5.3 5.3-5.7Z" fill="#524CA0"/><path d="M338.8 133.2c5.965 0 10.8-5.194 10.8-11.6 0-6.407-4.835-11.6-10.8-11.6-5.965 0-10.8 5.193-10.8 11.6 0 6.406 4.835 11.6 10.8 11.6Z" fill="#F0F0F0"/><path d="m263.2 114.7 37.6-4.5c8.9-1.4 16.8 5.8 16.1 14.8-.5 7.4-6.8 13.1-14.3 12.9-9.1-.3-30.9-1.2-38.2-1.4-3.6-.1-6.3-3.2-6-6.8l-.4-9.4c.2-2.9 2.4-5.2 5.2-5.6Z" fill="#524CA0"/><path d="M305 135.2c5.965 0 10.8-5.194 10.8-11.6 0-6.407-4.835-11.6-10.8-11.6-5.965 0-10.8 5.193-10.8 11.6 0 6.406 4.835 11.6 10.8 11.6Z" fill="#F0F0F0"/><path d="M202 188.9c-6.9 5.4-7.7 15.5-1.9 22l103.6 116.7s18.1 18.9 31 6.2c13.1-12.9-5.2-30-5.2-30l-108-114.2c-5.4-4.9-13.7-5.2-19.5-.7Z" fill="#D7B08F"/><path d="m263.9 176.4 42.6 147.3s4.8 16.3 19.1 13.8c19.3-3.5 15.2-22 15.2-22l-50-143.1-26.9 4Z" fill="#D7B08F"/><path d="M297.4 138.1c-.6-.8-1.5-1.4-2.4-1.7 1.1-1.6 1.2-3.8 0-5.4-.8-1-1.9-1.7-3.1-1.8.6-1.4.5-3.1-.5-4.5-1.3-1.7-3.6-2.4-5.6-1.5l-.3.1c.2-1.2-.1-2.4-.8-3.4-1.3-1.7-3.6-2.4-5.6-1.5l-1.7.8c-10.8 5.7-17.3 20.4-18.1 23.5-1 3.7 4.7 33.7 4.7 33.7l18 16.6 9-19.4-2.9-16.1 9.6-14.1-.1-.1c1-1.5 1-3.6-.2-5.2Zm-10.1-7.2-.1.1-.1-.2.2.1Z" fill="#D7B08F"/><path d="m291.8 287.2 4.7 2.2-31.6-105.9c-5.4-18.8-5.4-32.5-5.4-32.5m31.5 2.2-2.9 4.3 2.9 16.1" stroke="#000" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><g clip-path="url(#b)"><path d="M231.5 373.3c11.8-10.1 21.4-22.7 28.1-36.6 4.1-8.6 7.1-17.8 11.7-26.2 18.5-33.7 58.6-48.7 85-76.6 20.2-21.3 31.9-50.5 32.1-79.9 14.8 25.3 19.8 55.1 32.4 81.6 7.2 15.1 17.1 30.1 16.4 46.7-.3 7.3-2.7 14.4-5.4 21.2-5.9 15.2-13.3 29.8-22.1 43.6-10.4 16.4-22.7 31.6-30.8 49.3-5.1 11.1-8.5 23.3-16.1 32.8-2.9 3.7-6.6 6.9-11.1 8.3-7.6 2.3-15.6-1.2-22.7-4.6-24.3-11.7-48.6-23.3-72.9-35-10.5-5-22-11.2-25.6-22.3" fill="#087F5E"/><path d="M208 442.8c1.9.7 3.2 2.6 3.3 4.6-51.7-27.3-86.1-80.5-102.4-136.7-2.3-7.9-4.3-15.9-5.1-24.1-2-21.6 4.5-43 8.3-64.4 3.8-21.4 4.7-45-7.3-63.2 17.3 9 28.4 26.4 43.3 39.1 14.6 12.5 32.7 20 49.6 29.2 23.5 12.8 46 29.7 58.1 53.6 8.4 16.6 11.3 35.4 13.3 53.9a698 698 0 0 1 4.2 79.2c0 1.2 0 2.4-.7 3.4-1 1.5-2.9 1.8-4.7 2.1-23 3.3-45.4 10.9-65.6 22.3" fill="#009A8F"/><path d="M218.2 440.3c18.2-30 31.5-64.2 58.2-86.9 21.1-17.9 48.8-26.8 76.5-28.4 10.6-.6 21.3-.2 31.9-1.3 34.1-3.6 66.9-25.2 79.2-57.2l7.2 23.7c7 22.9 14.1 46.2 13.8 70.1-.2 23.9-9 49-28.2 63.3-16 11.9-36.7 14.8-55.7 20.8-22.8 7.2-44.2 19.5-60.1 37.4-2.3 2.6-4.6 5.4-7.9 6.4-2.6.8-5.4.4-8 0-41.1-6.8-80.5-23.3-114-48" fill="#009A8F"/><path d="M277.7 454.2c-8.1 9.5-31.9 14-33.2 13.8-27.5-4.6-50.2-23.6-69.6-43.7-19.3-20.1-37.3-42.3-61.2-56.5-18.9-11.2-40.6-16.9-60.5-26.2-8.7-4.1-17.4-9.1-23.2-16.8-4-5.3-6.5-11.5-9-17.7-5.3-13.5-10.7-26.9-16-40.4 13.2.3 24.7 8.5 36.4 14.8 36.4 19.4 79.5 20 119.6 29.6 12.2 2.9 24.3 6.8 34.7 13.7 9.2 6.1 16.7 14.5 23.6 23 22.7 27.9 40.9 59.5 53.7 93l4.7 13.4Z" fill="#087F5E"/><path d="M393.1 174.4c-8.4 24.3-1.4 51.2-5.4 76.6-1 6.2-2.7 12.5-6.3 17.7-5.3 7.7-14.1 12.1-22.4 16.3" stroke="#087F5E" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M132.5 199.9c1.8 9.2 5 18 8.9 26.5 4.6 10.1 10 19.7 16.3 28.8 9.9 14.5 21.8 27.5 32.5 41.4 10.7 13.9 20.5 29 25.3 45.9m-44.8-88.1c1.5-9.2 2.9-18.3 4.4-27.5m-58.2 23.5c11.1 3.4 22.2 6.8 33.3 10.1" stroke="#009A8F" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M276.6 416.8c6.3-3.5 12.6-6.9 18.9-10.3 4.8-2.6 9.6-5.1 14.8-6.7 4.9-1.5 10-2 15.1-2.6 27.5-3.2 55.1-6.9 81.5-15.4 6.5-2.1 12.8-4.4 18.8-7.6 11.5-6 21.3-14.7 30.7-23.6 3.9-3.7 8.1-7.9 8.6-13.3" stroke="#087F5E" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M428.5 333.3c-3 9.8-5.1 20-6.1 30.2M376 342.3c-1.7 9.5-2.7 19.1-2.9 28.8m-60.2-16.2c1.2 9.3 4 18.4 8.3 26.7m25.3 31.3c15.7 7.1 31.3 14.2 47 21.3m-3.2-35.8c15.9 7 31.7 14.1 47.6 21.1m-6.6-35.7c13.4 3.7 26.5 8.3 39.3 13.8m-223.3 29.5c-6.8-5.1-10.6-13.2-15.6-20.1-6.3-8.8-14.8-15.9-23.1-22.9-16.2-13.5-32.5-27.1-51.4-36.4-23.7-11.7-50.2-16.1-74.5-26.5-5.4-2.3-11-5.2-13.9-10.3" stroke="#087F5E" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M271.5 435.1c-13.6-25.2-28.9-49.5-45.7-72.7-7.1-9.8-14.6-19.5-23.7-27.5-23.2-20.3-54.7-27.8-85.2-32m131.9 78.7c4.4-8.3 27.3-34.3 55.7-48.8 27.9-14.3 49.7-9.2 68-11.5 21-2.6 44.6-6.8 62.4-18.3m-163.7 48c0-15.1-1.5-62.3-25.3-84.5m25.3 44c9-21.2 37.3-43.7 37.3-43.7" stroke="#000" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/></g></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h500v500H0z"/></clipPath><clipPath id="b"><path fill="#fff" transform="translate(5 81)" d="M0 0h480v480H0z"/></clipPath></defs></svg>'},p7NW:function(e,t,n){"use strict";n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return E})),n.d(t,"e",(function(){return I})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return A})),n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return D}));var i=n("D57K"),s=n("nsO7"),a=n("Llzl"),o=n("0JpG"),r=n("Fvsw"),l=n("Qbdf"),c=n("X455"),d=n("fYJU"),u=n("bMxM"),m=n("o5Lu"),p=n("pjml"),h=n("TnpK"),g=n("jhBu"),b=n("rEZX"),f=n("+O05"),v=n("ZQFV"),y=n("aHpC"),k=n("e6jQ"),x=n("zGdY"),S=n("nkTj");const C="ultra.services.rubric",E="rubric",I="rubric-eval-save",w="remove-peek-override",A="remove-inline-override",O="rubric-grade-update",D=255,T=[{max:100,min:85},{max:84,min:75},{max:74,min:60},{max:60,min:0}];let P=class e{constructor(e,t,n,i,s,a,o,r,l,c,d,u,m){this.$rootScope=e,this.$q=t,this.context=n,this.bbLocalize=i,this.CourseModel=s,this.RubricModel=a,this.grade=o,this.currentCourse=r,this.membership=l,this.ultraState=c,this.contextUser=d,this.entitlement=u,this.contentIcon=m,this.getPercentileColor=e=>this.grade.getPercentileColor(e),this.bbLocalize.loadBundle("components/services/rubric"),this.updateIsStudentView()}loadRubricEvaluationData(){this.updateIsStudentView();const e=this.getParamsFromUrl();if(!e)return this.$q.resolve(void 0);const t=this.currentCourse.course.contents.$find(e.contentId,{expand:"assignedGroups"}).$asPromise(),n=this.currentCourse.course.gradebook.columns.$find(e.columnId,{expand:"associatedRubrics"}).$asPromise();return this.$q.all([t,n]).then((([t,n])=>(this.isGroupContent=!!e.groupIdParam,this.content=t,this.isExternalSubmission=f.a.isExternalSubmissionsAssessment(t),this.gradingColumn=n,this.currentUserId=this.isStudentView?this.contextUser.userId:e.userId,this.rubricAssociation=this.gradingColumn.getRubricAssociation(),this.gradebookSettings=this.grade.loadDefaultGradebookSettings(),this.course=this.currentCourse.course,this.$q.all([this.loadRowException(),this.gradingColumn.hasRubricAssociation()?this.loadRubricData():[]]))))}loadRowException(){if(!this.gradingColumn.isDiscussion()&&!this.gradingColumn.isJournal()&&!this.isStudentView){let e,t;return this.isGroupContent?(t=this.ultraState.params.groupId,e=x.d.Group):(t=this.ultraState.params.userId,e=x.d.User),this.$q.when(f.a.getSubmissionRowException(this.course,this.content,e,t)).then((e=>{this.exceptionAttempts=!!e.attempts}))}}loadRubricViewData(){this.updateIsStudentView();const e=this.getParamsFromUrl();if(!e)return this.$q.resolve(void 0);const t=this.currentCourse.course.contents.$find(e.contentId).$asPromise(),n=this.currentCourse.course.gradebook.columns.$find(e.columnId,{expand:"associatedRubrics"}).$asPromise();return this.$q.all([t,n]).then((([e,t])=>{this.content=e,this.gradingColumn=t}))}getParamsFromUrl(){const{userId:e,columnId:t,assignmentId:n,groupId:i,disGroupId:s}=this.ultraState.params,a=!i&&(e||this.isStudentView);let{contentId:o}=this.ultraState.params;if(o=o||n,a&&t&&o)return{userId:e,columnId:t,contentId:o};if(!a&&(i||s)&&o){return{groupIdParam:i||s,contentId:o,columnId:t}}return null}shouldRenderRubricEvaluation(){if(!this.isStudentView)return!0;if(this.gradingColumn&&this.gradingColumn.hasRubricAssociation()){return this.gradingColumn.getRubricAssociation().isWithEvaluations&&(this.attempt&&this.attempt.isCompleted()||this.gradingColumn.isDiscussion()||this.gradingColumn.isJournal())}return!1}loadRubricData(){if(this.currentUserId&&(!this.isGroupContent||this.isStudentView)){if(this.group=null,this.gradingColumn.anonymousGrading){if(!this.shouldRenderRubricEvaluation())return;return this.grade.loadAnonymousStudentGrade(this.gradingColumn,this.currentUserId).then((e=>this.loadGradeData([e])))}return this.gradingColumn.grades.$refresh({userId:this.currentUserId}).$asPromise().then((e=>this.loadGradeData(e)))}if(this.isGroupContent)return this.course.contents.$find(this.gradingColumn.contentId,{expand:"assignedGroups"}).$asPromise().then((e=>this.course.memberships.$fetch({expand:"user",roleBucket:"taking"}).$asPromise().then((t=>this.grade.loadGroupRows(this.course,e.assignedGroups,t,this.gradingColumn,e.isSafeAssignEnabled()).then((e=>{var t;if(this.groupSubmission=s.find(e,(e=>"grade"in e&&e.attemptCount>0&&(e.group.id===this.ultraState.params.groupId||e.group.id===this.ultraState.params.disGroupId))),this.groupSubmission){this.group=this.groupSubmission.group,this.gradeDetail=this.groupSubmission.grade,this.isGradingInProgress=x.Eb.GradingInProgress===this.gradeDetail.manualStatus;const e=this.gradeDetail.groupAttempts.getAttemptById(null===(t=this.ultraState.params)||void 0===t?void 0:t.attemptId);if(e)return this.loadAttemptData(e)}}))))))}loadGradeData(e){if(e.length<=0&&(null!=this.ultraState.params.gradeId||e[0].id!==this.ultraState.params.gradeId))return;this.gradeDetail=e[0],this.isGradingInProgress=x.Eb.GradingInProgress===this.gradeDetail.manualStatus,this.gradeDetail.column=this.gradingColumn;const t=this.ultraState.params.attemptId&&!this.isGroupContent?{attemptId:this.ultraState.params.attemptId}:{expand:"attempts"};return this.grade.loadAttempt(this.gradeDetail,this.course,t,this.content).then((e=>{const t=e.ui.groupAttempt||e.ui.attempt;if(t)return this.loadAttemptData(t)}))}loadAttemptData(e){this.attempt=e,this.attempt.rubricEvaluation&&this.attempt.rubricEvaluation.rubricAssociationId===this.rubricAssociation.id||(this.attempt.rubricEvaluation=this.createRubricEvaluation(this.rubricAssociation.id,this.gradeDetail.userId,this.gradingColumn.possible)),this.rubricEvaluation={...this.attempt.rubricEvaluation,maxScore:this.gradeDetail.pointsPossible}}getBaseRubricEvaluationPayload(){return{maxScore:this.rubricEvaluation.maxScore,isEditable:this.isEditable(),isStudent:this.isStudentView,isOverrideAvailable:this.isOverrideAvailable(),grade:this.getGrade(),shouldUpdateCriterionFeedback:!1,isMultipleAttempts:this.isMultipleAttempts(),isGroupGradeMultiple:this.gradeDetail.ui.isGroupGradeMultiple,isGradingInProgress:this.isGradingInProgress,isExternalSubmission:this.isExternalSubmission,isGradeOverridden:this.isGradeOverridden(),isAnonymousGrading:this.gradingColumn.anonymousGrading,criteria:this.getCriteriaPayload(this.gradingColumn,this.rubricEvaluation),getGradingPillColor:this.getPercentileColor,contentIconName:this.getIconName(),smallTitle:this.content.title,shouldUndoOverride:!1,shouldEmptyRubric:!1,okConfirmationClicked:!1,isSavingRubric:!1,decimalsLength:m.e.DEFAULT_GRADEBOOK_SETTINGS_AFTER_DECIMAL,rubricType:this.gradingColumn.getAssociatedRubric().rubricType}}getBaseRubricViewPayload(){return{maxScore:this.gradingColumn.possible,criteria:this.getCriteriaPayload(this.gradingColumn),contentIconName:this.getIconName(),smallTitle:this.content.title,decimalsLength:m.e.DEFAULT_GRADEBOOK_SETTINGS_AFTER_DECIMAL,rubricType:this.gradingColumn.getAssociatedRubric().rubricType}}getIconName(){const e=this.contentIcon.getColumnIconClassAsString(this.gradingColumn);return this.contentIcon.getIconName(e)}isEditable(){return!(this.gradingColumn.delegatedGrading&&this.attempt.isReconciled()&&!this.isDelegatedAndEntitledReconciler(this.gradingColumn))&&(!this.isStudentView&&this.entitlement.isEntitled(v.q.AllGrading,this.course.id)&&!this.course.isComplete())}isOverrideAvailable(){return!(this.gradingColumn.delegatedGrading&&!this.isDelegatedAndEntitledReconciler(this.gradingColumn))&&(this.isEditable()&&this.entitlement.isEntitled(v.q.OverrideGrade,this.course.id))}getGrade(){var e,t,n,i,s;if(this.isMultipleAttempts()||this.gradingColumn.anonymousGrading&&!this.isGradeOverridden())return(null===(e=this.attempt.displayGrade.score)||void 0===e?void 0:e.toString())?this.rubricEvaluation.totalScore.toString():"";if(this.isGradeOverridden()&&!(null===(t=this.gradeDetail.ui)||void 0===t?void 0:t.groupAttempt)&&!this.isGradingInProgress)return this.gradingColumn.anonymousGrading?this.gradeDetail.ui.attempt.grade.toString():this.gradeDetail.manualScore.toString();if(this.isGradeOverridden()&&(null===(n=this.gradeDetail.ui)||void 0===n?void 0:n.groupAttempt)&&!this.isGradingInProgress){const e=[...new Set(this.gradeDetail.groupMembersGrades.map((e=>e.manualScore)))];return 1===e.length?e[0].toString():this.gradeDetail.displayGrade.score.toString()}return(null===(s=null===(i=this.rubricEvaluation)||void 0===i?void 0:i.cells)||void 0===s?void 0:s.length)>0&&this.rubricEvaluation.totalScore?this.rubricEvaluation.totalScore.toString():""}isMultipleAttempts(){return(this.gradingColumn.isMultipleAttempts()||this.exceptionAttempts)&&!this.gradingColumn.isDiscussion()&&!this.gradingColumn.isJournal()}isGradeOverridden(){return this.grade.isRubricGradeOverridden(this.gradeDetail,this.attempt,this.gradingColumn)}createRubricCopy(e){const t=this.CourseModel.$new(e.courseId),n={courseId:e.courseId,title:this.incrementTitle(e.title,t.locale),columnHeaders:this.cloneHeaders(e.columnHeaders),rows:this.cloneRows(e.rows),permissions:s.clone(e.permissions),rubricType:e.rubricType};return t.rubrics.$build(n)}cloneRows(e){return s.map(e,(e=>({cells:this.cloneCells(e.cells),header:e.header,percentage:e.percentage,position:e.position,rowPoints:e.rowPoints})))}cloneCells(e){return s.map(e,(e=>({position:e.position,description:e.description,percentage:e.percentage,percentageMin:e.percentageMin,percentageMax:e.percentageMax,startPointRange:e.startPointRange,endPointRange:e.endPointRange,numericPoints:e.numericPoints})))}cloneHeaders(e){return s.map(e,(e=>({position:e.position,header:e.header})))}incrementTitle(e,t){return this.bbLocalize.translateSync({locale:t,key:"components.services.rubric.newCopyTitle",params:{rubricTitle:e,date:this.bbLocalize.formatDateSync(new Date,o.ILocaleDateFormat.Short)},noWrap:!0,noEscape:!0}).substring(0,D)}processColumnHeader(t,n){for(let i=0;i<e.templateColumnCount;i++)t.push({position:i,header:this.bbLocalize.translateSync({locale:n,key:"components.services.rubric.template.column"+(i+1)})})}processRow(t,n,i){for(let s=0;s<e.templateRowCount;s++){const a=new Array;this.processCell(i,a),t.push({position:s,header:this.bbLocalize.translateSync({locale:null!=n?n:this.bbLocalize.getAppLocale(),key:"components.services.rubric.template.criteria",params:{idx:s+1},noWrap:!0}),percentage:Math.floor(100/e.templateRowCount),cells:a})}}updateRubricRows(e,t){const n=this.cloneRows(e);for(let e=0;e<n.length;e++)switch(t){case x.Zb.PERCENTAGE:n[e].percentage=this.generateCriterionPercentage(n.length,e),n[e].cells=this.processPercentageCells(n[e].cells);break;case x.Zb.PERCENTAGE_RANGE:n[e].percentage=this.generateCriterionPercentage(n.length,e),n[e].cells=this.processPercentageRangeCells(n[e].cells);break;case x.Zb.POINTS:n[e].rowPoints=0,n[e].cells=this.processPointsCells(n[e].cells);break;case x.Zb.POINTS_RANGE:n[e].rowPoints=0,n[e].cells=this.processPointsRangeCells(n[e].cells);break;default:this.unrecognizedRubric()}return n}processPercentage(e,t){return Math.floor(100-100/e*t)}generateCriterionPercentage(e,t){return t+1===e?Math.floor(100/e)+100%e:Math.floor(100-100/e*(e-1))}processPercentageRangeCells(e){const t=this.cloneCells(e),n=e.length;for(let e=0;e<n;e++)t[e]={position:e,description:t[e].description,percentageMin:this.processPercentage(n,e+1),percentageMax:this.processPercentage(n,e)};return t}processPercentageCells(e){const t=this.cloneCells(e),n=e.length;for(let e=0;e<n;e++)t[e]={position:e,description:t[e].description,percentage:this.processPercentage(n,e)};return t}processPointsCells(e){const t=this.cloneCells(e),n=e.length;for(let e=0;e<n;e++)t[e]={position:e,description:t[e].description,numericPoints:0};return t}processPointsRangeCells(e){const t=this.cloneCells(e),n=e.length;for(let e=0;e<n;e++)t[e]={position:e,description:t[e].description,startPointRange:0,endPointRange:0};return t}processCell(t,n){switch(t){case x.Zb.PERCENTAGE:for(let t=0;t<e.templateColumnCount;t++)n.push({position:t,description:"",percentage:this.processPercentage(e.templateColumnCount,t)});break;case x.Zb.PERCENTAGE_RANGE:T.forEach(((e,t)=>{n.push({position:t,description:"",percentageMin:e.min,percentageMax:e.max})}));break;default:this.unrecognizedRubric()}}generateDefaultRubric(e){if(null!=this.rubricTemplate&&this.rubricTemplate.courseId===e.id){const t=s.cloneDeep(this.rubricTemplate);return e.rubrics.$build(t).$asPromise()}return this.bbLocalize.loadBundle("components/services/rubric").then((()=>{this.rubricTemplate={courseId:e.id,title:"",rows:new Array,columnHeaders:new Array,permissions:{edit:!0,delete:!0},rubricType:x.Zb.PERCENTAGE},this.processColumnHeader(this.rubricTemplate.columnHeaders,e.locale),this.processRow(this.rubricTemplate.rows,e.locale,this.rubricTemplate.rubricType);const t=s.cloneDeep(this.rubricTemplate);return e.rubrics.$build(t).$asPromise()}))}getCriteriaPayload(e,t){const n=e.getAssociatedRubric(),i=this.isPointsOrPointsRangeRubric(n)?n.rows.filter((e=>s.isFinite(e.rowPoints))).reduce(((e,t)=>e+t.rowPoints),0):100;return n.rows.map((s=>{var a;let o,r=0;r=this.isPointsOrPointsRangeRubric(n)?0===i?0:e.possible*s.rowPoints/i:e.possible*s.percentage/i,(null==t?void 0:t.cells)&&(o=t.cells.find((e=>e.rubricRowId===s.id)));const l=this.getAchievementsPayload(s.cells,n,r,i,o,e),c=this.isPointsOrPointsRangeRubric(n)?r:s.percentage;return{id:s.id,title:s.header,value:c,feedback:null===(a=null==o?void 0:o.feedback)||void 0===a?void 0:a.rawText,achievements:l}}))}getAchievementsPayload(e,t,n,i,s,a){return e.map(((e,o)=>{const r=(null==s?void 0:s.rubricCellId)===e.id,l={id:e.id,title:t.columnHeaders[o].header,description:e.description,isSelected:r};switch(t.rubricType){case x.Zb.PERCENTAGE:l.value=e.percentage,l.score=n*e.percentage/i;break;case x.Zb.POINTS:l.value=e.numericPoints,l.score=0===i?0:a.possible*e.numericPoints/i;break;case x.Zb.PERCENTAGE_RANGE:l.rangeScore={minValue:e.percentageMin,maxValue:e.percentageMax},l.rangeScoreValue=r?s.selectedPercent:null;break;case x.Zb.POINTS_RANGE:l.rangeScore={minValue:0===i?0:a.possible*e.startPointRange/i,maxValue:0===i?0:a.possible*e.endPointRange/i},l.rangeScoreValue=r?n*s.selectedPercent:null;break;default:this.unrecognizedRubric()}return l}))}isPointsOrPointsRangeRubric(e){return e.rubricType===x.Zb.POINTS||e.rubricType===x.Zb.POINTS_RANGE}isPercentageOrPercentageRangeRubric(e){return e.rubricType===x.Zb.PERCENTAGE||e.rubricType===x.Zb.PERCENTAGE_RANGE}changeRubricType(e,t){e.rows=this.updateRubricRows(e.rows,e.rubricType)}insertNewCriteriaAt(e,t){if(e.rows.length>=15)throw new Error("Cannot add more than 15 criteria rows");const n=this.generateNewRow(e.rubricType,e.rows[0].cells);return e.rows.splice(t,0,n),e.rows.forEach(((e,t)=>{e.position=t})),e}deleteCriteriaAt(e,t){if(1===e.rows.length)throw new Error("Cannot delete last criteria row");return e.rows.splice(t,1),e.rows.forEach(((e,t)=>{e.position=t})),e}balanceCriteriaPercentages(e){e.rows.forEach((t=>{t.percentage=Math.floor(100/e.rows.length)})),s.last(e.rows).percentage+=100-e.rows.reduce(((e,t)=>e+t.percentage),0)}insertNewColumnAt(e,t){if(e.columnHeaders.length>=15)throw new Error("Cannot add more than 15 columns");return e.columnHeaders.splice(t,0,{position:t,header:""}),e.rows.forEach((n=>{switch(e.rubricType){case x.Zb.PERCENTAGE:this.insertNewPercentRubricColumn(n,t);break;case x.Zb.PERCENTAGE_RANGE:this.insertNewPercentRangeRubricColumn(n,t);break;case x.Zb.POINTS:this.insertNewPointsRubricColumn(n,t);break;case x.Zb.POINTS_RANGE:this.insertNewPointsRangeRubricColumn(n,t);break;default:this.unrecognizedRubric()}})),e}deleteColumnAt(e,t){if(1===e.columnHeaders.length)throw new Error("Cannot remove last column");return e.columnHeaders.splice(t,1),e.rows.forEach((n=>{if(n.cells.splice(t,1),e.rubricType!==x.Zb.PERCENTAGE)return e;0===t&&(n.cells[0].percentage=100)})),e}createRubricEvaluation(e,t,n){return{rubricAssociationId:e,userId:t,maxScore:n,totalScore:0,cells:[]}}initiateUiState(e,t){e.ui.editingCells=!1,e.ui.canEdit=t,e.ui.editingCriteria=!1,e.ui.invalidCriteriaPercentageSum=!1,e.ui.criteriaLimit=15,e.ui.columnLimit=15}mapRubricToGrid(e){null==e.ui.columnHeaders&&(e.ui.columnHeaders=new Array),e.columnHeaders.forEach(((t,n)=>{e.ui.columnHeaders[n]?e.ui.columnHeaders[n].uuid||(e.ui.columnHeaders[n].uuid=Object(k.b)()):e.ui.columnHeaders[n]={uuid:Object(k.b)()}})),null==e.ui.rows&&(e.ui.rows=new Array),e.rows.forEach(((t,n)=>{e.ui.rows[n]?e.ui.rows[n].uuid||(e.ui.rows[n].uuid=Object(k.b)()):e.ui.rows[n]={uuid:Object(k.b)()}}));return{rows:e.rows.map(((t,n)=>({id:e.ui.rows[n].uuid,data:t}))),columns:e.columnHeaders.map(((t,n)=>({id:e.ui.columnHeaders[n].uuid,data:t})))}}insertNewPercentRubricColumn(e,t){const n=t<e.cells.length?e.cells[t].percentage:e.cells[t-1].percentage;if(e.cells.splice(t,0,{position:0,description:"",percentage:n}),e.cells.forEach(((e,t)=>{e.position=t})),0===t)return;const i=e.cells[t+1]?e.cells[t+1].percentage:0,s=Math.floor((e.cells[t-1].percentage-i)/2);e.cells[t].percentage=e.cells[t-1].percentage-s}insertNewPercentRangeRubricColumn(e,t){const n=t<e.cells.length?e.cells[t].percentageMin:e.cells[t-1].percentageMin,i=t<e.cells.length?e.cells[t].percentageMax:e.cells[t-1].percentageMax;if(e.cells.splice(t,0,{position:t,description:"",percentageMin:n,percentageMax:i}),e.cells.forEach(((e,t)=>{e.position=t})),0===t)return;const s=e.cells[t+1]?e.cells[t+1].percentageMin:0,a=e.cells[t+1]?e.cells[t+1].percentageMax:0;e.cells[t].percentageMin=e.cells[t-1].percentageMin-Math.floor((e.cells[t-1].percentageMin-s)/2),e.cells[t].percentageMax=e.cells[t-1].percentageMax-Math.floor((e.cells[t-1].percentageMax-a)/2)}insertNewPointsRubricColumn(e,t){const n=t<e.cells.length?e.cells[t].numericPoints:e.cells[t-1].numericPoints;if(e.cells.splice(t,0,{position:0,description:"",numericPoints:n}),e.cells.forEach(((e,t)=>{e.position=t})),0===t)return;const i=e.cells[t+1]?e.cells[t+1].numericPoints:0;e.cells[t].numericPoints=Math.round(50*(e.cells[t-1].numericPoints+i))/100}insertNewPointsRangeRubricColumn(e,t){e.cells.splice(t,0,{position:t,description:"",startPointRange:0,endPointRange:0}),e.cells.forEach(((e,t)=>{e.position=t}))}generateNewRow(e,t){switch(e){case x.Zb.PERCENTAGE:return this.generateNewPercentageRow(t);case x.Zb.PERCENTAGE_RANGE:return this.generateNewPercentageRangeRow(t);case x.Zb.POINTS:case x.Zb.POINTS_RANGE:return this.generateNewPointsTypeRow(t);default:this.unrecognizedRubric()}}generateNewPercentageRangeRow(e){const t={header:"",percentage:0,cells:new Array};return e.forEach(((e,n)=>{t.cells.push({position:n,description:"",percentageMin:e.percentageMin,percentageMax:e.percentageMax})})),t}generateNewPercentageRow(e){const t={header:"",percentage:0,cells:new Array};return e.forEach(((e,n)=>{t.cells.push({position:n,description:"",percentage:e.percentage})})),t}generateNewPointsTypeRow(e){const t={header:"",rowPoints:0,cells:new Array};return e.forEach(((e,n)=>{t.cells.push({position:n,description:"",numericPoints:e.numericPoints,startPointRange:e.startPointRange,endPointRange:e.endPointRange})})),t}unrecognizedRubric(){throw new Error("Invalid rubric type, please go check RubricType for more detail")}persistRubricEvaluation(e){return this.$q((t=>this.performPersistRubricEvaluation(e).then((e=>{const n={gradingColumn:this.gradingColumn,attemptInfo:e};t(n)}))))}rubricFeedbackIsInvalidForSave(e){return e.some((e=>"number"!=typeof e.scoreValue&&e.hasUnsavedFeedback&&""!==e.feedback&&null!=e.feedback))}rubricHasUnsavedFeedback(e){return e.some((e=>"number"==typeof e.scoreValue&&e.hasUnsavedFeedback))}performPersistRubricEvaluation(e){if("grade"in e&&""===e.grade)return this.attempt.score=null,this.persistCleared(e);const t="isGradeOverridden"in e;if(t&&e.isGradeOverridden&&!this.gradingColumn.anonymousGrading)return this.persistOverriden(e);const n="grade"in e&&"criteria"in e,i="criterionFeedbackWasUpdated"in e&&n;return t&&!e.isGradeOverridden&&n||n||i||this.gradingColumn.anonymousGrading?(this.attempt.score=e.grade,this.persistRubricEvaluationData(e)):this.$q.resolve(void 0)}persistCleared(e){const t=this.rubricEvaluation;t.cells=this.getCells(e);const n=new b.a(this.gradingColumn,null);return n.clearGrade=!0,n.setGradeToEmpty=!0,n.rubricEvaluation=t,this.grade.saveGrade(n,this.gradeDetail,this.attempt,{userId:this.currentUserId,group:this.group})}persistOverriden(e){const t=!this.gradingColumn.anonymousGrading&&this.gradeDetail.displayGrade.isOverride,n=this.group?this.CourseModel.$new(this.course.id).gradebook.groupAttempts.$new(this.attempt.id):this.CourseModel.$new(this.course.id).gradebook.attempts.$new(this.attempt.id),i=Object(S.e)(n);i.rubricEvaluation=this.rubricEvaluation;const s=new b.a(this.gradingColumn,String(e.grade));return this.isDelegatedAndEntitledReconciler(s.column)?this.saveOverridenGrade(s):this.gradingColumn.isDiscussion&&t?i.$asPromise().then((()=>this.saveOverridenGrade(s))):i.$patch().$asPromise().then((()=>this.saveOverridenGrade(s)))}isDelegatedAndEntitledReconciler(e){return e.delegatedGrading&&e.isUserReconciler(this.contextUser.userId)}persistRubricEvaluationData(e){const t=this.rubricEvaluation;t.totalScore=e.rubricGrade,t.cells=this.getCells(e),t.overrideScore=-1;const n=new b.a(this.gradingColumn,String(this.attempt.score));return n.rubricEvaluation=t,this.isSingleAttempt()?n.setGradeToEmpty=!0:(n.setGradeToEmpty=!1,this.isGroupContent||(n.attemptId=this.attempt.id)),null==this.attempt.score&&(n.clearGrade=!0),this.isSingleAttempt()?this.grade.saveGrade(n,this.gradeDetail,this.attempt,{userId:this.currentUserId,group:this.group}):this.grade.saveGrade(n,this.gradeDetail,this.attempt)}getCells(e){const t=[];return e.criteria.forEach((n=>{n.achievements.forEach((i=>{var s;if(i.isSelected){let a=null!==(s=i.rangeScoreValue)&&void 0!==s?s:i.value;e.rubricType===x.Zb.POINTS_RANGE&&(a=0===n.value?0:i.rangeScoreValue/n.value),t.push({rubricCellId:i.id,rubricRowId:n.id,selectedPercent:a,feedback:{rawText:n.feedback}})}}))})),t}updateIsStudentView(){var e;this.isStudentView=null!==(e=this.isStudentView)&&void 0!==e?e:this.membership.isStudentMembership()}isSingleAttempt(){return this.gradingColumn&&(this.gradingColumn.isSingleAttempt()&&!this.exceptionAttempts||this.gradingColumn.isDiscussion()||this.gradingColumn.isJournal())}saveOverridenGrade(e){return this.gradingColumn.anonymousGrading?this.$q.resolve(void 0):this.grade.saveGrade(e,this.gradeDetail,void 0,{userId:this.currentUserId,group:this.group}).then((()=>{if((this.gradingColumn.isAssignment()||this.gradingColumn.isDiscussion())&&this.gradeDetail.isPosted&&this.gradeDetail.isPosted()&&this.attempt.readyToPost)return this.group?this.gradingColumn.postReadyGroupAttempts({groupAssociationId:this.attempt.groupAssociationId}):this.gradeDetail.postReadyGrades()}))}};P.templateRowCount=4,P.templateColumnCount=4,P=Object(i.a)([Object(i.c)(0,Object(y.b)("$rootScope")),Object(i.c)(1,Object(y.b)("$q")),Object(i.c)(2,Object(y.b)(r.b)),Object(i.c)(3,Object(y.b)(o.serviceName)),Object(i.c)(4,Object(y.b)(p.m.serviceName)),Object(i.c)(5,Object(y.b)(p.mb.serviceName)),Object(i.c)(6,Object(y.b)(m.n)),Object(i.c)(7,Object(y.b)(l.e)),Object(i.c)(8,Object(y.b)(c.d)),Object(i.c)(9,Object(y.b)(h.d)),Object(i.c)(10,Object(y.b)(d.b)),Object(i.c)(11,Object(y.b)(g.b)),Object(i.c)(12,Object(y.b)(u.b))],P);a.module(C,[r.a,o.moduleName,p.N,m.m,u.a]).service(E,P)},pF15:function(e,t){e.exports='\n<div class="filter-list-content">\n  <div class="filter-panel-container">\n    <div class="filter-panel-header">\n      <div class="filter-panel-title-wrapper">\n        <h3 class="filter-panel-title" bb-translate>components.directives.grade.filter-panel.title</h3>\n        <button type="button"\n          class="filter-panel-close-button"\n          data-is-visible="true"\n          bb-translate-attrs="{\'aria-label\': \'components.directives.grade.filter-panel.closeFilterPanel\'}"\n          ng-click="gradeGridSearchFilterReborn.closeFilterCriteria()"\n          analytics-id="components.directives.grade.filterPanel.close.button"\n        >\n          <div>\n            <bb-svg-icon size="small" icon="close"></bb-svg-icon>\n          </div>\n        </button>\n      </div>\n      <button class="filter-panel-clear-all is-disabled"\n              ng-disabled= "!gradeGridSearchFilterReborn.getCheckedMergedCourse() > 0"\n              ng-class="{\'filter-panel-clear-all-active\': gradeGridSearchFilterReborn.getCheckedMergedCourse() > 0}"\n              ng-click="gradeGridSearchFilterReborn.clearAll()"\n              analytics-id="components.directives.grade.filter-panel.clearAll"\n              bb-translate>\n              components.directives.grade.filter-panel.clearAll\n      </button>\n    </div>\n    \x3c!-- TODO Container(style protoType) for search-box, enable in furture\n    <div class="filter-panel-block" id="keyword-block">\n        <div class="filter-panel-block-header">\n          <h4 class="filter-panel-block-title">Keyword Search</h4>\n          <button type="button filter-panel-toggle-button">\n            <bb-svg-icon size="small" icon="arrow-down"></bb-svg-icon>\n          </button>\n        </div>\n        <div class="filter-panel-search-box">\n            <bb-typeahead-search-box id="student-search-box"\n                                     input-placeholder="components.directives.grade.search-box.placeholder"\n                                     sr-empty-results="components.directives.grade.search-box.emptyResults"\n                                     sr-results-found="components.directives.grade.search-box.resultsFound"\n                                     sr-no-results-found="components.directives.grade.search-box.noResultsFound"\n                                     sr-label="components.directives.grade.search-box.placeholder"\n                                     clear-aria-label="components.directives.grade.search-box.clear"\n                                     icon="search">\n            </bb-typeahead-search-box>\n        </div>\n    </div>\n    --\x3e\n    <div class="filter-panel-block" id="sources-block" ng-repeat="criteriaBlock in gradeGridSearchFilterReborn.criteriaBlocks ">\n        <div class="filter-panel-block-header" id ={{::criteriaBlock.id}}>\n            <h4 class="filter-panel-block-title" course-org-token-resolver bb-translate>components.directives.grade.filter-panel.mergedCourseTitle</h4>\n            <button type="button" class="filter-panel-toggle-button"\n                    ng-class="{\'filter-panel-block-toggle-close\': !criteriaBlock.expanded }"\n                    ng-click="gradeGridSearchFilterReborn.collapseMergedCourse(criteriaBlock)"\n                    aria-label="{{gradeGridSearchFilterReborn.getToggleButtonLabel(criteriaBlock)}}"\n                    analytics-id="components.directives.grade.filterPanel.mergedCourse.collapse.button"\n            >\n            <bb-svg-icon size="small" icon="arrow-down"></bb-svg-icon>\n            </button>\n          </div>\n        <div class="filter-panel-groups" ng-show="criteriaBlock.expanded">\n          <div class="filter-panel-group">\n            <div class="filter-panel-item" ng-repeat="criteriaDetail in criteriaBlock.criteriaDetails track by $index" >\n              <div class="is-enabled filter-panel-item-checkbox" ng-show="!criteriaDetail.ui.hidden">\n                <input type="checkbox" id={{::criteriaDetail.id}}\n                  class="bb-Checkbox-checkboxInput foundation-overrides"\n                  ng-model="criteriaDetail.ui.checked"\n                  ng-change="gradeGridSearchFilterReborn.filterMergedCourse(criteriaDetail)"\n                  analytics-id="components.directives.grade.filterPanel.mergedCourse.input.checkbox">\n                  <label class="foundation-overrides" for={{::criteriaDetail.id}}>\n                    <div class="check-box-label">\n                      <span>{{::criteriaDetail.childCourse.name}}</span>\n                      <bb-svg-icon icon="check" size="inline"></bb-svg-icon>\n                    </div>\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n  </div>\n</div>'},pGZF:function(e,t,n){},pHHL:function(e,t){e.exports='<div class="grade-color">\n  <div ng-if="!displayGrade.shouldShowRubricButton() && !displayGrade.shouldShowRubricDiv()">\n    <div ng-if="!(isGroupGradeMultiple() && !showNotGraded())"\n         ng-class="{ \'show-total\': displayGrade.gradeDisplayItem.shouldShowTotalPoints(),\n                     \'final-grade\': finalGrade(),\n                     \'na\': displayGrade.gradeDisplayItem.displayValue == null,\n                     \'cursor-pointer\': displayGrade.cursorPointer,\n                     \'defaultCursor\': displayGrade.cursorDefault}"\n         class="wrapping-input-style {{displayGrade.colorClass}}"\n         ready="{{::displayGrade.fullDisplayGrade && !displayGrade.noGradeToDisplay() || undefined}}">\n      <ng-switch on="displayGrade.schema.scaleType">\n        <span ng-switch-default>\n          <span ng-if="displayGrade.fullDisplayGrade != null && !overallGradePeekSref" class="grade-input-display ready" bb-translate-attrs="{ title: \'{{displayGrade.gradeDisplayItem.perfCodeDesc || translateKey}}\'}">{{displayGrade.fullDisplayGrade}}</span>\n          <a ng-if="displayGrade.fullDisplayGrade != null && overallGradePeekSref" \n             class="grade-input-display ready" \n             bb-peek-sref="{{overallGradePeekSref}}" \n             bb-translate-attrs="{ title: \'{{displayGrade.gradeDisplayItem.perfCodeDesc || translateKey}}\'}"\n             analytics-id="components.directives.grade.display-grade.scale.fullDisplayGrade.link">\n            {{displayGrade.fullDisplayGrade}}\n          </a>\n          <span ng-if="displayGrade.fullDisplayGrade == null && !overallGradePeekSref" class="grade-input-display" bb-translate-attrs="{ title: \'{{displayGrade.gradeDisplayItem.perfCodeDesc || translateKey}}\'}">{{::displayGrade.getNoGradeDisplay()}}</span>\n          <a ng-if="displayGrade.fullDisplayGrade == null && overallGradePeekSref" \n             class="grade-input-display" \n             bb-peek-sref="{{overallGradePeekSref}}" \n             bb-translate-attrs="{ title: \'{{displayGrade.gradeDisplayItem.perfCodeDesc || translateKey}}\'}"\n             analytics-id="components.directives.grade.display-grade.scale.getNoGradeDisplay.link">\n            {{::displayGrade.getNoGradeDisplay()}}\n          </a>\n        </span>\n        <span ng-switch-when="SCORE">\n          \x3c!-- Accommodate for hiding of points possible in small format --\x3e\n          <span ng-if="displayGrade.gradeDisplayItem.displayValue != null && !overallGradePeekSref" class="grade-input-display ready">{{displayGrade.gradeDisplayItem.displayValue}}</span>\n          <a ng-if="displayGrade.gradeDisplayItem.displayValue != null && overallGradePeekSref" \n             class="grade-input-display ready" \n             bb-peek-sref="{{overallGradePeekSref}}"\n             analytics-id="components.directives.grade.display-grade.score.fullDisplayGrade.link">\n            {{displayGrade.gradeDisplayItem.displayValue}}\n          </a>\n          <span ng-if="displayGrade.gradeDisplayItem.displayValue == null && !overallGradePeekSref" class="grade-input-display">{{::displayGrade.getNoGradeDisplay()}}</span>\n          <a ng-if="displayGrade.gradeDisplayItem.displayValue == null && overallGradePeekSref" \n             class="grade-input-display" \n             bb-peek-sref="{{overallGradePeekSref}}"\n             analytics-id="components.directives.grade.display-grade.score.getNoGradeDisplay.link">\n            {{::displayGrade.getNoGradeDisplay()}}\n          </a>\n          <span ng-if="displayGrade.shouldShowPointsPossible()" class="points-text" bb-translate translate-values="{total: gradeDetail.pointsPossible || column.possible}">components.directives.grade.display-grade.points</span>\n        </span>\n      </ng-switch>\n    </div>\n    <div ng-if="isGroupGradeMultiple() && !showNotGraded()" class="wrapping-input-style is-multiple">\n      <div ng-if="overallGradePeekSref" class="group-multiple" bb-peek-sref="{{overallGradePeekSref}}" bb-translate>components.directives.grade.display-grade.multiple</div>\n      <div ng-if="!overallGradePeekSref" class="group-multiple" bb-translate>components.directives.grade.display-grade.multiple</div>\n    </div>\n  </div>\n  <div ng-if="displayGrade.shouldShowRubricButton()">\n    <a ng-if="!displayGrade.shouldShowRubricEvaluation()"\n       bb-peek-sref="rubric-view"\n       class="js-rubric-view wrapping-input-style clear cursor-pointer"\n       ng-class="displayGrade.colorClass"\n       analytics-id="components.directives.grade.display-grade.rubric.link">\n      <span>\n        <bb-svg-icon size="small" icon="rubric"></bb-svg-icon>\n        <span class="grade-input-display ready" ng-if="displayGrade.gradeDisplayItem.displayValue != null">{{displayGrade.gradeDisplayItem.displayValue}}&nbsp</span>\n        <span class="grade-input-display ready" ng-if="displayGrade.gradeDisplayItem.displayValue == null">{{::displayGrade.getNoGradeDisplay()}}</span>&nbsp;\n        <span ng-if="displayGrade.shouldShowPointsPossible()" class="points-text" bb-translate translate-values="{total: gradeDetail.pointsPossible || column.possible}">components.directives.grade.display-grade.points</span>\n      </span>\n    </a>\n    <a ng-if="displayGrade.shouldShowRubricEvaluation()"\n       bb-peek-sref="rubric-evaluation({groupId: displayGrade.attempt.groupId})"\n       class="js-rubric-evaluation wrapping-input-style clear cursor-pointer"\n       ng-class="displayGrade.colorClass"\n       analytics-id="components.directives.grade.display-grade.rubricEvaluation.link">\n      <span>\n        <bb-svg-icon size="small" icon="rubric"></bb-svg-icon>\n        <span class="grade-input-display ready" ng-if="displayGrade.gradeDisplayItem.displayValue != null">{{displayGrade.gradeDisplayItem.displayValue}}&nbsp</span>\n        <span class="grade-input-display ready" ng-if="displayGrade.gradeDisplayItem.displayValue == null">{{::displayGrade.getNoGradeDisplay()}}&nbsp</span>&nbsp;\n        <span ng-if="displayGrade.shouldShowPointsPossible()" class="points-text" bb-translate translate-values="{total: gradeDetail.pointsPossible || column.possible}">components.directives.grade.display-grade.points</span>\n      </span>\n    </a>\n  </div>\n  <div ng-if="displayGrade.shouldShowRubricDiv() && displayGrade.shouldShowRubricEvaluation()"\n       class="wrapping-input-style clear"\n       ng-class="displayGrade.colorClass">\n    <span>\n      <bb-svg-icon size="small" icon="rubric"></bb-svg-icon>\n      <span class="grade-input-display ready" ng-if="displayGrade.gradeDisplayItem.displayValue != null">{{displayGrade.gradeDisplayItem.displayValue}}</span>\n      <span class="grade-input-display ready" ng-if="displayGrade.gradeDisplayItem.displayValue == null">{{::displayGrade.getNoGradeDisplay()}}</span>&nbsp;\n      <span ng-if="displayGrade.shouldShowPointsPossible()" class="points-text" bb-translate translate-values="{total: gradeDetail.pointsPossible || column.possible}">components.directives.grade.display-grade.points</span>\n    </span>\n  </div>\n</div>'},pIXs:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("0JpG"),a=n("6jv3"),o=n("AuQm");const r="ultra.directives.saveButtons";class l{constructor(e,t){this.scope=e,this.bbLocalize=t,this.isSaving=!1,this.isSavedOnceOrMore=!1,this.savedToBrowserCount=0,this.bbLocalize.loadBundle("components/directives/save-buttons").then((()=>{this.notSavedStr=e.saveType||this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.save-buttons.notSaved"}),this.savedStr=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.save-buttons.saved"}),this.savingStr=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.save-buttons.saving"}),this.cancelStr=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.save-buttons.cancel"}),this.deleteStr=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.save-buttons.delete"}),this.savedSuccessfullyStr=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.save-buttons.notification.savedSuccessfully"}),this.canceledSuccessfullyStr=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.save-buttons.notification.canceledSuccessfully"}),this.deleteButtonStatus=this.deleteStr,e.displaySavedAfterSaving&&e.displaySavedAfterSaving()&&this.isSavedOnceOrMore?this.saveButtonStatus=this.savedStr:this.saveButtonStatus=this.notSavedStr,e.displayDeleteAfterSaving&&e.displayDeleteAfterSaving()&&this.isSavedOnceOrMore?this.cancelButtonStatus=this.deleteStr:this.cancelButtonStatus=this.cancelStr})),e.$on("bb-save-button",((t,n,i)=>{let s=!1;switch(n){case o.d.Change:this.isSaving=!1,this.saveButtonStatus=this.notSavedStr;break;case o.d.Saving:this.isSaving=!0,this.saveButtonStatus=this.savingStr,s=!0;break;case o.d.Saved:s=!0,this.isSavedOnceOrMore=!0,this.isSaving=!1,this.informScreenReaderToRead(this.savedSuccessfullyStr),e.displaySavedAfterSaving&&e.displaySavedAfterSaving()?this.saveButtonStatus=this.savedStr:this.saveButtonStatus=this.notSavedStr,e.displayDeleteAfterSaving&&e.displayDeleteAfterSaving()?this.cancelButtonStatus=this.deleteStr:this.cancelButtonStatus=this.cancelStr;break;case o.d.SaveFailure:case o.d.ValidationFailure:s=!0}this.form.$bbSaveAttempt=s})),e.$parent.$on("bb-autosave-form-to-browser",((e,t,n)=>{o.d.Saved===t&&this.element.attr("saved-to-browser",this.savedToBrowserCount+=1)}))}isValid(){return(this.scope.ignoreFormValidation&&this.scope.ignoreFormValidation()||this.form.$valid)&&this.scope.validateSave()}isCancelNowADelete(){return this.scope.displayDeleteAfterSaving&&this.scope.displayDeleteAfterSaving()&&this.isSavedOnceOrMore}isCancelDisabled(){return this.isSaving||this.isCancelNowADelete()&&!this.scope.canDelete()}isDeleteDisabled(){return this.isSaving||!this.scope.canDelete()}isSaveDisabled(){return this.isSaving||!this.isValid()}cancelAction(){return this.form.$setPristine(),this.informScreenReaderToRead(this.canceledSuccessfullyStr),this.isCancelNowADelete()?this.scope.deleteAction():this.scope.cancelAction()}deleteAction(){return this.form.$setPristine(),this.scope.deleteAction()}saveAction(){return this.form.$setSubmitted(),this.informScreenReaderToRead(this.savedSuccessfullyStr),this.scope.saveAction()}mousedownAction(){if(this.scope.mousedownAction)return this.scope.mousedownAction()}informScreenReaderToRead(e){this.scope.disableScreenreaderAnnouncements&&this.scope.disableScreenreaderAnnouncements()||this.scope.$emit("read-info-directive",e)}}l.$inject=["scope",s.serviceName];class c{constructor(e,t){this.$injector=e,this.bbLocalize=t,this.require="^form",this.replace=!0,this.restrict="E",this.scope={canDelete:"&",cancelAction:"&",choices:"=?",deleteAction:"&",deleteConfirmationResourceType:"@?",disableScreenreaderAnnouncements:"&?",displayDeleteAfterSaving:"&?",displaySavedAfterSaving:"&?",hideSave:"&?",hideCancel:"&?",hideDelete:"&?",isInline:"&?",mousedownAction:"&?",mustShowDeleteConfirmation:"&?",mustShowSaveConfirmation:"&?",saveAction:"&",saveConfirmationResourceType:"@?",validateSave:"&",ignoreFormValidation:"&",saveType:"@?",analyticsIdTagPrefix:"@"},this.link=(e,t,n,i)=>{e.saveButtons=this.$injector.instantiate(l,{scope:e}),e.saveButtons.form=i,e.saveButtons.element=t},this.compile=(e,t)=>("true"===t.isInline&&(e.prepend(e.find("footer").children()),e.find("footer").remove()),{pre:this.link}),this.template=a}}c.$inject=["$injector",s.serviceName],i.module(r,[s.moduleName]).directive("bbSaveButtons",["$injector",e=>e.instantiate(c)])},pKNj:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return L}));n("towz"),n("zAxy"),n("s4xR"),n("KXuk"),n("gORw"),n("TOu5");var i=n("Llzl"),s=n("yC9S"),a=n("9zo4"),o=n("vhkR"),r=n("tqR7"),l=n("ZzN+"),c=n("lmMM"),d=n("e7Kn"),u=n("nYZ0"),m=n("dJ97"),p=n("Ocaa"),h=n("r133"),g=n("BMpZ"),b=n("Sa5G"),f=n("ujI6"),v=n("jhBu"),y=n("X/qj"),k=n("o5Lu"),x=n("0JpG"),S=n("pjml"),C=n("JNtI"),E=n("u4ux"),I=n("e6jQ"),w=n("8jzW"),A=n("hkqm"),O=n("TnpK"),D=n("W6wm"),T=n("EGJL"),P=n("zGdY"),$=n("nmzr"),G=n("Bssh"),j=n("ZQFV");const L="ultra.directives.grade.graderColumn";class N{constructor(e,t,n,i,a,o,r,l,c,d,u,m,p,h){this.scope=e,this.$q=t,this.ContentService=n,this.courseConversionService=i,this.CourseModel=a,this.entitlementService=o,this.grade=r,this.gradebookPermissionService=l,this.bbLocalize=c,this.ultraState=d,this.accessibility=u,this.scoreProviderHelper=m,this.ltiService=p,this.toast=h,this.hasItemExceptionView=!1,this.hasAssessmentExceptionView=!1,this.hasDesignerViewEntitlement=!1,this.hasViewAssessmentEntitlement=!1,this.hasViewAttendanceEntitlement=!1,this.isRestrictedGroupContent=!1,this.numMissingStudents=0,this.showConversionMessage=!1,this.attendanceAriaLabel=void 0,this.canModify=this.gradebookPermissionService.canModify(e.course().id),this.canPostGrades=this.gradebookPermissionService.canPostGrades(e.course().id),this.canViewAttempts=this.gradebookPermissionService.canViewAttempts(e.course().id),this.canViewGrades=this.gradebookPermissionService.canViewGrades(e.course().id),this.column=e.column,this.course=e.course(),this.isCourseView=e.isCourseView,this.contextArea="grades",this.index=e.$parent.$index+1,this.column.isGroupContent()&&(this.isRestrictedGroupContent=!this.entitlementService.isEntitled(b.o.ViewGroups,this.course.id)),this.bbLocalize.loadBundle("components/directives/grade/grader-column").then((()=>{this.column.externalGrade&&(e.column.columnName=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.grader-column.actions.overall.label"}))})),this.entitlementService.hasAnyCourseEntitlement([b.j.ViewAssessment,b.j.ModifyAssessment],this.course.id).then((e=>{this.hasViewAssessmentEntitlement=e})),this.entitlementService.hasCourseEntitlement(b.j.ViewAttendance,this.course.id).then((e=>{this.hasViewAttendanceEntitlement=e})),this.entitlementService.hasCourseEntitlement(b.f.ViewAsDesigner,this.course.id).then((e=>{this.hasDesignerViewEntitlement=e})),this.entitlementService.hasCourseEntitlement(j.q.ViewException,this.course.id).then((e=>{this.hasItemExceptionView=e})),this.entitlementService.hasCourseEntitlement(b.b.ViewException,this.course.id).then((e=>{this.hasAssessmentExceptionView=e})),this.column.$resolve().$then((e=>{this.grade.setDeleteConfirmationHandle(this.column),this.overflowMenuId="grader-column-open-button-"+I.a(),this.checkIfAttendanceRecordsExist()}));const g=e.$watch("column.summary.$resolved",(()=>{this.column.summary&&this.column.summary.$resolved&&(this.updateNumMissingStudents(),g(),this.isRestrictedGroupContent&&(this.column.summary.restricted=!0,this.column.restricted=!0))}));s.b.OnRootScope(e,"bb-grade-input-save",((e,t,n,i)=>{this.column.id===i&&this.column.summary.$fetch()})),s.b.OnRootScope(e,"bb-update-category-icon",((e,t)=>{this.column.id===t.id&&(this.scope.categoryMap&&t.gradebookCategoryId&&(this.column.gradebookCategory=this.scope.categoryMap[t.gradebookCategoryId],this.column.categoryTitle=this.column.gradebookCategory&&this.column.gradebookCategory.title),(null===t.dueDate||t.dueDate&&t.dueDate instanceof Date)&&(this.column.dueDate=t.dueDate),this.column.visible=t.visible,this.updateNumMissingStudents())})),"Attendance"===this.column.effectiveColumnName&&(this.attendanceAriaLabel=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.grader-column.attendance.course-attendance",params:{courseName:this.course.name},noWrap:!0,noEscape:!0})),this.scope.column.isAttendance()&&s.b.OnRootScope(e,"$stateChangeSuccess",((e,t,n,i)=>{i.name.indexOf("attendance")>=0&&this.checkIfAttendanceRecordsExist()})),e.$watch("column",(e=>{this.column=e})),this.registerPostGradesWatchers()}updateNumMissingStudents(){this.numMissingStudents=this.column.getNumMissingIfLate()}openAddItemPanel(t){this.whichAddItemPanelOpen=t,e(t).addClass("is-active").find(".element-list-add-menu").slideToggle(300)}closeAddItemPanel(t){this.whichAddItemPanelOpen===t&&(this.whichAddItemPanelOpen=null),e(t).removeClass("is-active").find(".element-list-add-menu").slideUp(300)}toggleAddItemPanel(e){this.whichAddItemPanelOpen===e?this.closeAddItemPanel(e):this.openAddItemPanel(e)}registerPostGradesWatchers(){this.scope.$watchGroup([()=>this.column.summary.hasGradesToPost(),()=>this.course.isComplete()],(()=>{this.canPostGrades=this.grade.canPostGrades(this.course,this.column)}))}postGrades(){this.column.postReadyGrades().then((e=>{this.toast.show({messageKey:"components.directives.grade.grader-column.actions.gradesPosted",icon:"icon-check",toastStatus:"success"}),this.column.summary.$fetch().$asPromise().then((e=>{this.scope.$emit(k.d,this.column),this.scope.$root.$broadcast("bb-update-summary")}))}))}deleteColumn(){return this.column.forceDelete()}deleteContent(){this.column.courseId&&this.column.contentId&&this.CourseModel.$new(this.column.courseId).contents.$new(this.column.contentId).$fetch().$asPromise().then((e=>{this.ContentService.deleteContent(e).then((()=>{this.deleteContentCallback()}))}))}deleteContentCallback(){this.scope.$root.$broadcast("bb-delete-column",this.column)}viewEditColumn(){this.accessibility.setFocusOverrideOnPanel("#"+this.overflowMenuId,".grades-list");const e=this.column.scoreProviderHandle;e&&!this.scoreProviderHelper.supportsOverall(e)||(S.p.ContentHandler.PartnerCloud.isEqualTo(e)||S.p.ContentHandler.LtiLink.isEqualTo(e)?this.ltiService.ltiEditColumn(this.column):this.openViewEditState())}openViewEditState(){const{contentId:e,courseId:t,externalGrade:n,id:i,linkId:s,scoreProviderHandle:a}=this.column,o=!this.column.isAssignment()&&!this.column.isTest();if(n)this.ultraState.goPeekState("gradebook-item.overall-grade",{columnId:i,gradeitemView:"details"});else if(this.column.isCalculated())this.ultraState.goPeekState("gradebook-item.calculation",{columnId:i,gradeitemView:"details"});else if(a&&this.column.seemsAttemptBased()&&(this.hasViewAssessmentEntitlement||o)){const n={courseId:t,contentId:e,linkRefId:s};this.scoreProviderHelper.editStateRef(a,n,w.a.GoToState)}else if(a&&this.column.isAttendance()){const n={courseId:t,contentId:e};this.scoreProviderHelper.editStateRef(a,n,w.a.GoToState)}else this.ultraState.goPeekState("grade-item.edit",{id:this.column.id})}_openColumn(e){let t,n;const{contentId:s,courseId:a,id:o,linkId:r,scoreProviderHandle:l}=this.column;if(this.course.isUltra()){const c=this.hasViewAssessmentEntitlement&&(this.column.isTest()||this.column.isAssignment());if(this.isLTILink())return void this.launchLti();if(this.column.isAttendance()){const e={contentId:s,courseId:a,columnId:o,linkRefId:r};({state:t,args:n}=i.fromJson(this.scoreProviderHelper.getSubmissionListStateRef(l,e,w.a.GenerateStateParams)))}else if(this.column.externalGrade)t="gradebook-item.overall-grade",n={columnId:o};else if(this.column.isCalculated())t="gradebook-item.calculation",n={columnId:o,courseId:a};else if(l&&!this.column.isOffline()&&(this.canViewGrades||this.canViewAttempts)&&this.hasItemExceptionView&&this.hasAssessmentExceptionView){const l={contentId:s,courseId:a,columnId:o,linkRefId:r};let c={};if("status"===e){const e=this.getNonOfflineItemsGradingStatusQueryParam();c=this.column.isJournal()?{submissionStatus:e}:{gradingStatus:e}}({state:t,args:n}=i.fromJson(this.scoreProviderHelper.getSubmissionListStateRef(this.column.scoreProviderHandle,{...l,...c},w.a.GenerateStateParams)))}else if(l&&(this.column.isDiscussion()||this.column.isScorm()||this.column.isScormSCO()||c)){const e={courseId:a,contentId:s,linkRefId:r};({state:t,args:n}=i.fromJson(this.scoreProviderHelper.editStateRef(this.column.scoreProviderHandle,e,w.a.GenerateStateParams)))}else this.canViewGrades?(t="gradebook-item.offline",n={columnId:o,courseId:a,gradeitemView:"students"}):(t="grade-item.edit",n={id:o})}else t="course.outline",n={courseId:a,legacyUrl:this.getLegacyUrl()};this.ultraState.goPeekState(t,n)}handleColumnClick(e){this.itemLinkIsClickable&&!this.isRestrictedGroupContent&&(this.isCourseView?this._openColumn(e):this.course.refreshConvertToUltraStatus().then((()=>{this.courseConversionService.isConversionComplete(this.course.ui.convertToUltraTaskStatus)?this._openColumn(e):this.showConversionTooltip()})))}getNonOfflineItemsGradingStatusQueryParam(){const e=this.column.summary.getStatus();if(this.column.isCollectExternalSubmissions()&&(e===b.e.NeedsPosting||e===b.e.AllGraded||e===b.e.NothingToGrade)&&this.getNumberEligibleToBeGradedExternalSubmissions()>0)return P.O.needsGrading;switch(e){case b.e.NeedsGrading:return P.O.needsGrading;case b.e.AllPosted:return this.column.isJournal()?G.g.Complete:this.column.isAnonymousGrading()?P.O.allStatuses:P.O.completed;case b.e.NothingToGrade:return this.column.isJournal()?G.g.All:this.column.isAnonymousGrading()?P.O.allStatuses:P.O.nothingToGrade;default:return this.column.isJournal()?G.g.All:P.O.allStatuses}}showConversionTooltip(){this.showConversionMessage=!0}closeConversionTooltip(){this.showConversionMessage=!1}getAlertType(){return b.i.ConversionInProgress}launchLti(){this.ltiService.ltiLaunch({courseId:this.column.courseId,contentId:this.column.contentId,linkType:b.g.parse(this.column.scoreProviderHandle.toString()),linkRefId:this.column.linkId})}showAlertIcon(){return this.column.getNumMissingIfLate()>0}getLegacyUrl(){return"/webapps/gradebook/do/instructor/enterGradeCenter?course_id="+this.column.courseId}isLTILink(){return this.ltiService.isLTILink(this.column)}showMarkAttendance(){return this.column.isAttendance()&&this.hasViewAttendanceEntitlement}showDelete(){return this.column.isAttendance()?this.canModify&&this.showAttendanceDeleteOption:this.canModify}openAttendance(){this.ultraState.goPeekState("attendance")}showQuestionAnalysis(){return this.column.isQuestionAnalysisAvailable()&&this.canViewGrades}showDownloadTestResults(){return!this.column.isAnonymousGrading()&&(this.canViewGrades&&this.column.isTest()&&this.column.summary.numSubmissionsTotal>0)}showViewEdit(){return!(!this.column.isOffline()&&null!=this.column.scoreProviderHandle&&!this.scoreProviderHelper.supportsEdit(this.column.scoreProviderHandle))&&(!(!this.column.isOffline()&&!this.column.isCalculated())||(this.hasDesignerViewEntitlement||this.canModify))}hasContentId(){return!!this.column.contentId}getConfirmationKeyAndShowType(){let e;return this.ultraState.includes("**.outline.**")?e=D.a.CourseOutline:this.ultraState.includes("**.engagement.**")&&(e=D.a.Discussions),this.CourseModel.$new(this.column.courseId).contents.$new(this.column.contentId).$fetch().$asPromise().then((t=>this.ContentService.generateDeleteConfirmationKey(t,e).then((e=>({confirmationKey:e.ui.deleteConfirmationKey,showType:e.ui.modalShowType})))))}getOverflowMenuItems(){return[{icon:this.canModify?"draw":"visible",labelKey:this.canModify?"global.edit":"global.view",show:()=>this.showViewEdit(),onClick:()=>this.viewEditColumn()},{icon:"attendance",labelKey:"components.directives.grade.grader-column.attendance.markAttendance",show:()=>this.showMarkAttendance(),onClick:()=>this.openAttendance()},{icon:"question-analysis",labelKey:"components.directives.grade.grader-column.questionAnalysisOverflowMenuLabel",show:()=>this.showQuestionAnalysis(),onClick:()=>{this.ultraState.goPeekState("question-analysis.report",{qaContentId:this.column.contentId})}},{icon:"download",labelKey:"components.directives.grade.grader-column.downloadResults.overflowMenuLabel",show:()=>this.showDownloadTestResults(),onClick:()=>{this.ultraState.goPeekState($.H.Grade.DOWNLOAD_TEST_RESULTS,{columnId:this.column.id})}},{icon:"trash",labelKey:"global.delete",onClick:()=>{this.hasContentId()?this.deleteContent():this.deleteColumn()},show:()=>this.showDelete(),confirmationOptions:{lazyLoadTitleKeyAndInstructionsKey:()=>{let e;return this.hasContentId()?this.getConfirmationKeyAndShowType().then((t=>(e=t.confirmationKey.replace(/^resource\//,""),this.$q.when(C.a(e))))):this.column&&this.column.ui&&this.column.ui.deleteConfirmationHandle?(e=this.column.ui.deleteConfirmationHandle.replace(/^resource\//,""),this.$q.when(C.a(e))):(e="generic-content",this.$q.when(C.a(e)))}}}]}get itemLinkIsClickable(){return this.isActionable&&(!this.column.isAttendance()||this.hasViewAttendanceEntitlement)&&(!this.isLTILink()||this.hasDesignerViewEntitlement)&&!this.isRestrictedGroupContent}get isActionable(){return!this.column.isAttendance()||this.scope.attendanceIsAvailable()}get showOverflowMenu(){return this.isCourseView&&!this.course.isComplete()&&this.isActionable&&(this.showViewEdit()||this.showDelete()||this.showMarkAttendance()||this.showQuestionAnalysis()||this.showDownloadTestResults())}get showDragControls(){return this.isCourseView&&!this.course.isComplete()&&this.isActionable&&this.canModify}checkIfAttendanceIsAvailable(){return!(!this.scope.attendanceIsAvailable||!this.scope.attendanceIsAvailable())}checkIfAttendanceRecordsExist(){this.showAttendanceDeleteOption=!1,this.column.isAttendance()&&this.checkIfAttendanceIsAvailable()&&this.CourseModel.$new(this.column.courseId).attendanceRecordsExist().then((e=>{this.showAttendanceDeleteOption=!e}))}getNumberEligibleToBeGradedExternalSubmissions(){return i.isUndefined(this.column.summary.numGroupsNeedsGrading)?this.column.summary.numStudentsEligibleToBeGradedExternalSubmission:this.column.summary.numGroupsEligibleToBeGradedExternalSubmission}getNumberOfSubmissionsNeedsGrading(){return null==this.column.summary.numSubmissionsNeedsGrading?this.column.summary.numSubmissionsNeedsReconciling:this.column.summary.numSubmissionsNeedsGrading}getToolTipTemplate(){return'<ul class="complex-tooltip-list conditional-release-tooltip"> <li bb-translate>components.directives.grade.grader-column.restrictedInfo</li> </ul>'}}N.$inject=["scope","$q",u.f,l.b,S.m.serviceName,v.b,k.n,y.b,x.serviceName,O.d,a.c,w.c,o.b,A.b];class B{constructor(e){this.$injector=e,this.restrict="E",this.template=T,this.scope={assessment:"<?",column:"=",course:"&",isCourseView:"=",categoryMap:"=?",attendanceColumnExists:"&?",attendanceIsAvailable:"&"},this.link=(e,t,n)=>{e.graderColumn=this.$injector.instantiate(N,{scope:e})}}}B.$inject=["$injector"],i.module(L,[r.a,u.d,d.a,c.d,l.a,m.a,h.a,p.a,f.c,x.moduleName,w.b,O.b,E.b,o.a,C.b,A.a,g.a]).directive("bbGraderColumn",["$injector",x.serviceName,(e,t)=>(t.loadBundle("components/directives/grade/grader-column"),e.instantiate(B))])}).call(this,n("71td"))},"pUR+":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("Llzl"),s=n("0JpG"),a=n("Qbdf"),o=n("36CG"),r=n("X455"),l=n("UD9g"),c=n("pjml"),d=n("TnpK"),u=n("oB9e"),m=n("nmzr");const p="ultra.course.journal.router";i.module(p,[s.moduleName,d.b,l.b,u.a,a.b,r.a,o.d]).config([d.c,a.c,r.b,o.e,(e,t,i,u)=>{e.peekState(m.B.JOURNAL,{abstract:!0,url:"/journal",resolve:{[a.d]:t.resolve,translations:["$q",s.serviceName,(e,t)=>{const n=[];return n.push(t.loadBundle("features/course/content/journal/journal")),n.push(t.loadBundle("features/course/content/course-content")),n.push(t.loadBundle("features/course/goal-alignment/goal")),e.all(n)}]}}).peekState(m.B.JOURNAL_VIEW,{abstract:!0,url:"/{contentId:_[0-9]+_1|create}?courseId&parentId&position&positionBefore&positionAfter?journalId",panelClass:"full",pageTitle:"course.content.journalItem",require:()=>Promise.all([n.e(17),n.e(8),n.e(6),n.e(131),n.e(586)]).then(n.bind(null,"hucp")),resolve:{translations:["$q",s.serviceName,(e,t)=>{const n=[];return n.push(t.loadBundle("components/directives/grade/grade-input")),n.push(t.loadBundle("components/directives/grade/display-grade")),e.all(n)}]}}).peekState(m.B.JOURNAL_VIEW_WITH_PARTICIPATION,{url:"?view&limit&page&name&submissionStatus&entryLimit&entryPage",panelClass:"full",reloadOnSearch:!1,views:{"journal-content@":{require:()=>Promise.all([n.e(6),n.e(570)]).then(n.bind(null,"6omJ"))},"journal-participation@":{require:()=>n.e(747).then(n.bind(null,"uPz6"))}},onExit:["$rootScope",e=>{e.$broadcast("deadline-refresh")}],peekStates:[m.k.CONDITIONAL_RELEASE_PEEK_PANEL,m.i.CONTENT_MARKET,"course-group",m.B.JOURNAL_DETAILS,m.B.JOURNAL_PARTICIPATION_DETAIL,m.B.JOURNAL_SETTINGS,l.a,m.B.JOURNAL_SUBMISSION_FEEDBACK,m.D.LTI,m.o.COURSE_MESSAGE,"rubric","rubric-evaluation","rubric-view","view-exceptions"],peekViewName:"journal-peek@",pageTitle:"course.content.journalItem",allowChildPeekStates:!0,resolve:{[a.d]:t.resolve,[r.c]:i.resolve,currentCourseId:["$state",e=>e.nextParams.courseId],[o.f]:u.resolve,currentColumn:[d.d,a.d,(e,t)=>{const n=e.nextParams.columnId;if(n&&n!==c.C.CREATE_COLUMN_ID)return t.gradebook.columns.$find(n).$asPromise()}]}}).peekState(m.B.JOURNAL_PARTICIPATION_DETAIL,{url:"/journal-participation-detail?offset&columnId&contentId&singleUserId&singleMembershipId&participantId&entryLimit&entryPage",panelClass:"full",require:()=>Promise.all([n.e(8),n.e(622)]).then(n.bind(null,"Zo+2")),pageTitle:"course.content.journalItem",peekViewName:"journal-submissions-peek",allowChildPeekStates:!0,resolve:{translations:["$q",s.serviceName,(e,t)=>t.loadBundle("features/course/content/journal/journal")]},peekStates:[m.B.JOURNAL_SUBMISSION_FEEDBACK,m.i.CONTENT_MARKET,m.D.LTI,"rubric-evaluation"]}).peekState(m.B.JOURNAL_DETAILS,{panelClass:"peek",url:"/details",require:()=>n.e(687).then(n.bind(null,"sC0C")),pageTitle:"course.content.journalDetails",peekViewName:"journal-details-peek"}).peekState(m.B.JOURNAL_SETTINGS,{panelClass:"peek",url:"/settings?focusEleId",require:()=>Promise.all([n.e(6),n.e(580)]).then(n.bind(null,"SxKk")),pageTitle:"course.content.journalSettings",peekViewName:"journal-settings-peek",allowChildPeekStates:!0,peekStates:["goal-picker-legacy","rubric"]}).peekState(m.B.JOURNAL_SUBMISSION_FEEDBACK,{panelClass:"peek",url:"/feedback?userId?columnId",require:()=>n.e(707).then(n.bind(null,"p01W")),pageTitle:"course.content.journalFeedback",peekViewName:"journal-feedback-peek"})}])},pWJj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("5ikY");const a="ultra.components.directives.bbUiIcon.large.Blog";Object(i.a)(s.a,a,"bbUiIconLargeBlog")},pjml:function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"serviceName",(function(){return Ae}));var s={};n.r(s),n.d(s,"serviceName",(function(){return Te}));var a={};n.r(a),n.d(a,"serviceName",(function(){return $e}));var o={};n.r(o),n.d(o,"serviceName",(function(){return _e}));var r={};n.r(r),n.d(r,"serviceName",(function(){return ze}));var l={};n.r(l),n.d(l,"serviceName",(function(){return Qe}));var c={};n.r(c),n.d(c,"serviceName",(function(){return Xe})),n.d(c,"CollabSessionType",(function(){return et})),n.d(c,"CollabAccessType",(function(){return tt}));var d={};n.r(d),n.d(d,"serviceName",(function(){return at}));var u={};n.r(u),n.d(u,"serviceName",(function(){return ot}));var m={};n.r(m),n.d(m,"serviceName",(function(){return bt}));var p={};n.r(p),n.d(p,"CourseMessageType",(function(){return ft})),n.d(p,"serviceName",(function(){return vt}));var h={};n.r(h),n.d(h,"sortInstructorsMembership",(function(){return Ct})),n.d(h,"serviceName",(function(){return It}));var g={};n.r(g),n.d(g,"serviceName",(function(){return wt}));var b={};n.r(b),n.d(b,"serviceName",(function(){return Nt}));var f={};n.r(f),n.d(f,"serviceName",(function(){return Vt}));var v={};n.r(v),n.d(v,"serviceName",(function(){return _t}));var y={};n.r(y),n.d(y,"serviceName",(function(){return Ut}));var k={};n.r(k),n.d(k,"serviceName",(function(){return Ht}));var x={};n.r(x),n.d(x,"moduleName",(function(){return Jt})),n.d(x,"serviceName",(function(){return Qt})),n.d(x,"START_ATTEMPT_ID",(function(){return Zt}));var S={};n.r(S),n.d(S,"ColumnSummaryStatus",(function(){return tn.a})),n.d(S,"serviceName",(function(){return nn}));var C={};n.r(C),n.d(C,"moduleName",(function(){return an})),n.d(C,"serviceName",(function(){return on}));var E={};n.r(E),n.d(E,"serviceName",(function(){return ln}));var I={};n.r(I),n.d(I,"serviceName",(function(){return pn}));var w={};n.r(w),n.d(w,"serviceName",(function(){return fn}));var A={};n.r(A),n.d(A,"serviceName",(function(){return vn}));var O={};n.r(O),n.d(O,"serviceName",(function(){return yn}));var D={};n.r(D),n.d(D,"serviceName",(function(){return kn})),n.d(D,"LTIStatusType",(function(){return xn})),n.d(D,"LTISendUserDataType",(function(){return Sn}));var T={};n.r(T),n.d(T,"serviceName",(function(){return Cn}));var P={};n.r(P),n.d(P,"serviceName",(function(){return En}));var $={};n.r($),n.d($,"serviceName",(function(){return In}));var G={};n.r(G),n.d(G,"serviceName",(function(){return Dn}));var j={};n.r(j),n.d(j,"serviceName",(function(){return $n}));var L={};n.r(L),n.d(L,"serviceName",(function(){return Gn}));var N={};n.r(N),n.d(N,"serviceName",(function(){return jn}));var B={};n.r(B),n.d(B,"serviceName",(function(){return Nn}));var M={};n.r(M),n.d(M,"serviceName",(function(){return Bn}));var R={};n.r(R),n.d(R,"serviceName",(function(){return Vn})),n.d(R,"adjustEngagement",(function(){return _n}));var F={};n.r(F),n.d(F,"serviceName",(function(){return Hn}));var V={};n.r(V),n.d(V,"serviceName",(function(){return zn}));var _={};n.r(_),n.d(_,"serviceName",(function(){return qn}));var U={};n.r(U),n.d(U,"serviceName",(function(){return Wn}));var H={};n.r(H),n.d(H,"serviceName",(function(){return Kn}));var z={};n.r(z),n.d(z,"serviceName",(function(){return Jn})),n.d(z,"adjustProbabilities",(function(){return Qn})),n.d(z,"learnUser",(function(){return Zn}));var q={};n.r(q),n.d(q,"serviceName",(function(){return Yn}));var W={};n.r(W),n.d(W,"serviceName",(function(){return Xn}));var K={};n.r(K),n.d(K,"serviceName",(function(){return ei}));var J={};n.r(J),n.d(J,"serviceName",(function(){return ti}));var Q={};n.r(Q),n.d(Q,"serviceName",(function(){return ni}));var Z={};n.r(Z),n.d(Z,"serviceName",(function(){return ii}));var Y={};n.r(Y),n.d(Y,"serviceName",(function(){return si}));var X={};n.r(X),n.d(X,"serviceName",(function(){return ai})),n.d(X,"VENDOR_RESPONDUS",(function(){return oi}));var ee={};n.r(ee),n.d(ee,"serviceName",(function(){return ri}));var te={};n.r(te),n.d(te,"serviceName",(function(){return ci}));var ne={};n.r(ne),n.d(ne,"NotificationRecipientType",(function(){return di})),n.d(ne,"GradeIconType",(function(){return ui})),n.d(ne,"serviceName",(function(){return mi}));var ie={};n.r(ie),n.d(ie,"serviceName",(function(){return pi}));var se={};n.r(se),n.d(se,"serviceName",(function(){return hi}));var ae={};n.r(ae),n.d(ae,"serviceName",(function(){return gi})),n.d(ae,"transformActivityTime",(function(){return bi}));var oe={};n.r(oe),n.d(oe,"serviceName",(function(){return fi}));var re={};n.r(re),n.d(re,"serviceName",(function(){return yi}));var le={};n.r(le),n.d(le,"serviceName",(function(){return ki}));var ce={};n.r(ce),n.d(ce,"serviceName",(function(){return xi}));var de={};n.r(de),n.d(de,"serviceName",(function(){return Si}));var ue={};n.r(ue),n.d(ue,"serviceName",(function(){return Ci}));var me={};n.r(me),n.d(me,"serviceName",(function(){return Ei}));var pe={};n.r(pe),n.d(pe,"serviceName",(function(){return Ii}));var he={};n.r(he),n.d(he,"serviceName",(function(){return wi}));var ge={};n.r(ge),n.d(ge,"serviceName",(function(){return Ai}));var be={};n.r(be),n.d(be,"serviceName",(function(){return Oi}));var fe={};n.r(fe),n.d(fe,"serviceName",(function(){return Di}));var ve={};n.r(ve),n.d(ve,"serviceName",(function(){return Ti}));var ye={};n.r(ye),n.d(ye,"TermDuration",(function(){return $i.a})),n.d(ye,"ConstantTermId",(function(){return Pi})),n.d(ye,"serviceName",(function(){return Gi}));var ke={};n.r(ke),n.d(ke,"serviceName",(function(){return Li})),n.d(ke,"ultraSettingsPrefix",(function(){return Ni}));var xe={};n.r(xe),n.d(xe,"serviceName",(function(){return Ri}));var Se={};n.r(Se),n.d(Se,"serviceName",(function(){return Vi}));var Ce=n("Rjd/"),Ee=(n("QLzv"),n("5MwF")),Ie=n("yCC5"),we=n("nkTj");const Ae=Ie.a,Oe=Ee.a.apiBasePath+"/v1";Ce.a.factory(Ae,["restmod",we.c,(e,t)=>e.model(Oe).mix({$extend:{Model:{getAllyConfig(){return this.single(Oe+"/ally/config").$fetch().$allow(["400-599"]).$asPromise().then((e=>e.isStatusCode(200)?e:{serviceAvailable:!1}))},getAllyToken(e,t){const n=Oe+`/courses/${e}`+(t?`/ally/content/${t}/token`:"/ally/token");return this.single(n).$fetch().$asPromise()}}}})]);var De=n("Llzl");const Te=Ie.b;Ce.a.factory(Te,(()=>{const e=Ee.a.telemetryApiBasePath+"/v1/browser/interactions";return{$create(t){De.element.ajax({type:"POST",url:e,data:JSON.stringify(t),contentType:"application/json; charset=utf-8",dataType:"json",timeout:Ee.a.telemetryApiTimeoutMS})}}}));const Pe=Ie.c;Ce.a.factory(Pe,["restmod",e=>e.model().mix({lastRun:{serialize:"date"},getRedirectUrl(){return this.$scope.$build().$send({method:"GET",url:this.$scope.$url()+"/"+this.id+"/redirectUrl"},(function(e){this.$unwrap(e.data)})).$asPromise()}})]);const $e=Ie.d;Ce.a.factory($e,["restmod",e=>{const t=Ee.a.apiBasePath+"/v1";return e.model(t).mix({$extend:{Model:{downloadWithAnnotations(e,t,n){return this.$build().$send({method:"GET",url:this.$url()+`/courses/${n}/assignments/attempts/files/${e}/downloadInfo?is_group=${t}`},(function(e){return this.$unwrap(e.data)}))}}}})}]);const Ge=Ie.e;Ce.a.factory(Ge,["restmod",we.c,(e,t)=>e.model()]);const je=Ie.f;Ce.a.factory(je,["restmod",we.c,(e,t)=>e.model().mix({lastModifiedDate:{serialize:"date"},answers:{hasMany:Ie.Vb},gradedQuestionAttempts:{hasMany:Ie.bb,path:"answers/grades"},questions:{hasMany:Ie.Ub},ui:{mask:!0,init:()=>({})},exceptions:{hasMany:Ie.g,hooks:{"before-request":function(e){e.url=e.url.replace(Ee.a.apiBasePath,Ee.a.apiBasePath+"/public")}}},userExceptions:{hasMany:Ie.g,path:"exceptions/users"},groupExceptions:{hasMany:Ie.g,path:"exceptions/groups"}})]);const Le=Ie.g;Ce.a.factory(Le,["restmod","$q",we.c,(e,t,n)=>e.model().mix({$url(e){if(this.$scope.$url(e))return this.$scope.$url(e).replace(Ee.a.apiBasePath,Ee.a.apiBasePath+"/public")+"/"+encodeURIComponent(this.$pk)},$extend:{Record:{saveException(e){return this.$send({method:"POST",url:this.$url(),data:e}).$allow([404]).$asPromise()},deleteException(){return this.$send({method:"DELETE",url:this.$url()}).$allow([404]).$asPromise()}}}})]);n("+IM5");var Ne=n("nbDY"),Be=n.n(Ne);class Me extends Be.a{}Me.Student=new Me("STUDENT"),Me.InstructorComments=new Me("INSTRUCTOR_COMMENTS"),Me.InstructorNotes=new Me("INSTRUCTOR_NOTES");const Re=Ie.Vb;Ce.a.factory(Re,["restmod",we.c,e=>e.model().mix({grade:{hasOne:Ie.bb,path:"grades"}})]);var Fe=n("FHk9");const Ve=Ie.h;Ce.a.factory(Ve,["restmod",we.c,(e,t)=>e.model().mix({$hooks:{"after-request":function(e){null===e.data.results&&(e.data.results=[])}}})]);const _e=Ie.i;Ce.a.factory(_e,["restmod",e=>{const t=Ee.a.apiBasePath+"/v1/brands";return e.model(t).mix({$extend:{Model:{getCurrent(){return this.single(t+"/current").$fetch()}}}})}]);var Ue=n("Q/M7"),He=n("zGdY");const ze=Ie.j;Ce.a.factory(ze,["restmod","$q",(e,t)=>{const n=Ee.a.apiBasePath+"/v1/calendars";return e.model(n).mix({ui:{mask:!0,init:()=>({})},$extend:{Collection:{sortCalendars(){return this.$action((function(){this.sort((function(e,t){return e.labelLocalizable.languageKey&&t.labelLocalizable.languageKey||e.labelLocalizable.languageKey&&!t.labelLocalizable.languageKey?e.id===He.U.Institution?1:-1:t.labelLocalizable.languageKey&&!e.labelLocalizable.languageKey?t.id===He.U.Institution?-1:1:e.labelLocalizable.rawValue<t.labelLocalizable.rawValue?-1:1}))}))}},Model:{getOrRegenerateExportCalendarFeed(e){const n=t.defer();return this.$build().$send({method:e?"POST":"GET",url:Ue.c("/webapps/calendar/calendarFeed/url"),transformResponse:e=>e},(function(e){n.resolve(e&&e.data)})),n.promise}}}})}]);var qe=n("V0gA"),We=n("zoPb");const Ke=Ie.u;Ce.a.factory(Ke,["restmod",e=>e.model().mix({calendarItems:{hasMany:Ie.v},dueDateCalendarItems:{hasMany:Ie.D}})]);const Je=Ie.v;Ce.a.factory(Je,["restmod",e=>e.model().mix(qe.serviceName,{})]);const Qe=Ie.U;Ce.a.factory(Qe,["restmod",e=>{const t=Ee.a.apiBasePath+"/v1/calendars/dueDateCalendarItems";return e.model(t).mix(qe.serviceName)}]);const Ze=Ie.D;Ce.a.factory(Ze,["restmod",e=>e.model().mix(Qe,{})]);var Ye=n("vYaK");const Xe=Ie.x;var et,tt;!function(e){e.CourseRoom="COURSE_ROOM",e.UserRoom="USER_ROOM"}(et||(et={})),function(e){e.Apollo="APOLLO",e.Gemini="GEMINI"}(tt||(tt={})),Ce.a.factory(Xe,["restmod",we.c,(e,t)=>e.model().mix({$extend:{Record:{getLaunchUrl(){return this.$send({method:"POST",url:this.$url()+"/launch",data:{}}).$asPromise().then((e=>Ee.a.features.collab?e.$response.data.url:e.$response.data.launchUrl))}}}})]);const nt=Ie.w;Ce.a.factory(nt,["restmod",we.c,(e,t)=>e.model().mix({sessions:{hasMany:Ie.x},$extend:{Record:{getVirtualClassroomSession(){return this.sessions.$search({sessionType:et.CourseRoom}).$asPromise().then((e=>e[0]||null))}}}})]);const it=Ie.y;Ce.a.factory(it,["restmod",we.c,(e,t)=>e.model().mix({sessions:{hasMany:Ie.x},$extend:{Record:{getAllCollabSessions(){return this.sessions.$search({expand:"sessionInstances",startTime:(new Date).toISOString()}).$asPromise()},getCourseCollabInfo(){return this.sessions.$search({sessionCategory:"course",expand:"sessionInstances",startTime:(new Date).toISOString()}).$asPromise()},enableCourseRoom(e){return this.$send({method:"POST",url:this.sessions.$new(e).$url(),data:{courseRoomEnabled:!0}},(e=>this.$unwrap(e.data))).$asPromise()},disableCourseRoom(e){return this.$send({method:"POST",url:this.sessions.$new(e).$url(),data:{courseRoomEnabled:!1}},(e=>this.$unwrap(e.data))).$asPromise()},launchDiscussionSession(e,t){return this.$send({method:"POST",url:this.$url()+"/sessions/forums/"+e+"/launch"+(t?"?groupId="+t:"")},(e=>this.$unwrap(e.data))).$asPromise()}}}})]);var st=n("fm95");const at=Ie.z;Ce.a.factory(at,["restmod",we.c,(e,t)=>e.model().mix({})]);const ot=Ie.E;Ce.a.factory(ot,["restmod",we.c,(e,t)=>e.model().mix({data:{belongsTo:Ie.zc},ui:{mask:!0,init:()=>({})},$hooks:{"before-fetch-many":function(e){e.params=e.params||{},e.params.fields?e.params.fields+=",-data":e.params.fields="-data"},"after-request":function({data:e}){e.results.forEach((e=>{const t={id:e.userId,isPlaceHolder:!0};e.data=t}))}}})]);const rt=Ie.I;Ce.a.factory(rt,["restmod",we.c,(e,t)=>e.model().mix({counts:{hasOne:Ie.J},messages:{hasMany:Ie.P},usercounts:{hasMany:Ie.E},$extend:{Record:{save(){return this.$scope.$build().$send({method:"POST",url:this.$scope.$url(),data:{"resource/x-bb-forumlink":{title:this.title}}},(function(e){this.$unwrap(e.data["resource/x-bb-forumlink"])}))}}}})]);const lt=Ie.J;Ce.a.factory(lt,["restmod",we.c,(e,t)=>e.model()]);const ct=Ie.H;Ce.a.factory(ct,["restmod",we.c,(e,t)=>e.model().mix({$config:{primaryKey:"cxFileId"},createDate:{serialize:"date"},expiryDate:{serialize:"date"}})]);var dt=n("PSJS");const ut=Ie.Q;Ce.a.factory(ut,["restmod",we.c,(e,t)=>e.model().mix({contents:{hasMany:Ie.P}})]);const mt=Ie.F;Ce.a.factory(mt,["restmod",we.c,(e,t)=>e.model()]);var pt=n("nsO7"),ht=n("oVrE"),gt=n("qhd3");const bt=Ie.B;var ft;Ce.a.factory(bt,["restmod",gt.serviceName,"$http","$q",(e,t,n,i)=>{const s=e.model().mix({courseId:{mask:"CU"},latestMessages:{mask:"U",map:"messages"},messages:{mask:"U",hasMany:Ie.C},participants:{mask:!0,hasMany:Ie.zc},totalCount:{mask:"CU"},unreadCount:{mask:"CU"},createdDate:{mask:"CU",serialize:"date"},updatedDate:{mask:"CU",serialize:"date"},canBeRepliedTo:{mask:"U"},includesAllMembers:{mask:"U"},newParticipantIds:{mask:"R"},participantsWithoutSender:{mask:!0},participantsWithoutLatestSender:{mask:!0},creatorId:{mask:"CUD"},ui:{mask:!0,init:()=>({})},createConversation(e){return this.$decorate({"before-request":t=>{t.params={sendEmailToParticipants:e}}},(function(){return this.$save()}))},isCategoryIncluded(e){var t;return!!(null===(t=this.recipientCategory)||void 0===t?void 0:t.some((t=>t===e)))},$hooks:{"before-request":function(e){if("GET"===e.method&&/conversations\/_\d+_\d+$/.exec(e.url)){e.params=e.params||{},e.params.fields=(e.params.fields||"")+",-participantIds";const t=i.all([n(pt.pick(e,"method","params","url")),this.participants.$fetch().$asPromise()]).then((e=>{const t=e[0];return delete t.data.participantIds,t}));e.cache={get:()=>t},Object.defineProperty(this,"participantIds",{get(){return this.participants.map((e=>e.$pk))},set:pt.noop})}}}});return s.$extendRecord((function(e,n){if(!Object.prototype.hasOwnProperty.call(e,"latestSender")){let n=null;Object.defineProperty(e,"latestSender",{get(){const e=this.latestMessages[0].senderId;if(null!==n&&n.$pk===e)return n;const i=[()=>this.latestMessages[0].sender,()=>{if(this.participants.$resolved)return this.participants.find((e=>e.id===this.latestMessages[0].senderId))},()=>{if(we.a.isValid(this.latestMessages[0].senderId)){const e=t.$new(this.latestMessages[0].senderId);return e.$resolve(),e}const e=ht.c();return this.latestMessages[0].senderId=e,t.$buildRaw({id:e})}];for(let e=0;e<i.length;e++){const t=i[e]();if(void 0!==t)return n=t,t}}})}return{}})),s}]),function(e){e.Normal="NORMAL",e.System="SYSTEM"}(ft||(ft={}));const vt=Ie.C;Ce.a.factory(vt,["restmod",we.c,(e,t)=>e.model().mix({conversationId:{mask:"CU"},courseId:{mask:"CU"},senderId:{mask:"CU"},isRead:{mask:"C",init:!1},postDate:{mask:"CU",serialize:"date"},type:{mask:"CU"},participants:{hasMany:Ie.zc},ui:{mask:!0,init:()=>({})},isSystemMessage(){return ft.System===this.type},createReply(e){return this.$decorate({"before-request":t=>{t.params={sendEmailToParticipants:e}}},(function(){return this.$save()}))}})]);var yt=n("go4a"),kt=n("IbyE"),xt=n("6vR2"),St=n("f8ya");function Ct(e){e.sort(((e,t)=>e.displayOrder&&t.displayOrder?e.displayOrder-t.displayOrder:e.displayOrder&&!t.displayOrder?-1:!e.displayOrder&&t.displayOrder?1:e.displayOrder||t.displayOrder?0:gt.sortCompareUsers(e.user,t.user)))}const Et=/courses\/(_\d+_\d+)/,It=Ie.N;Ce.a.factory(It,["restmod","$q",we.c,"$rootScope","$injector",(e,t,n,i,s)=>{let a;function o(){return a||(a=s.get("$ngRedux")),a}const r=e.model().mix({course:{belongsTo:Ie.t,key:"courseId"},user:{belongsTo:Ie.zc,key:"userId"},officeHours:{hasMany:Ie.vb},enrollmentDate:{serialize:"date"},isAvailable:{init:!0},lastAccessDate:{serialize:"date"},permissions:{init:{}},availabilityHasBeenBypassed(){return!!this.bypassCourseAvailabilityUntil},courseIsOpen(){return!this.courseIsPrivate()&&!1===this.course.isClosed},courseIsPrivate(){return"effectiveAvailability"in this.course?!this.course.effectiveAvailability:!this.course.isAvailable},courseIsComplete(){return!this.courseIsPrivate()&&!0===this.course.isClosed},isGuestMembership(){return this.role===He.V.Guest},isStudentMembership(){const e=this.role===He.V.Student;return!(!this.isInStudentPreview||!this.isInStudentPreview())||e},isStudentOrGuestMembership(){return this.isStudentMembership()||this.isGuestMembership()},isActAsInstructorMembership(){const e=this.courseRole&&this.courseRole.isActAsInstructor||this.role===He.V.Instructor;return(!this.isInStudentPreview||!this.isInStudentPreview())&&e},isTeachingAssistantMembership(){return this.role===He.V.TeachingAssistant},isInRoleBucket(e){return this.courseRole&&this.courseRole.roleBucket===e},isDueDateExcepted(){return this.accommodation().dueDate.hasAccommodation},accommodation(){return St.a.fromTypes(this.dueDateExceptionType,this.timeLimitExceptionType)},setAccommodation(e){e.dueDate.equals(this.dueDateExceptionType)||(this.dueDateExceptionType=e.dueDate.type),e.timeLimit.equals(this.timeLimitExceptionType)||(this.timeLimitExceptionType=this.toLearnTimeAccommodationType(e.timeLimit))},toLearnTimeAccommodationType(e){var t;return e.type===He.fc.Custom?null!==(t=e.value)&&void 0!==t?t:He.fc.NoAccommodation:e.type},getCourseColorClass(){return yt.a(this)},$extend:{Collection:{getMembershipCount(e){return this.getCounts(e).then((e=>e.count))},getCounts(e,n="/count"){const i=t.defer();return this.$collection().$send({method:"GET",url:this.$url()+n,params:e},(e=>{i.resolve(e.data)}),(e=>{i.reject(e)})),i.promise},getDetailsCount(){return this.getCounts({membershipAvailable:"true"})},getRoleBucketCount(){return this.getCounts({groupBy:"roleBucket"},"/counts")},getAccommodatedMemberCount(){return this.getCounts({membershipAvailable:"true"}).then((e=>e.withAccommodationCount))},batchGetCollections(e){const n=t.defer();return this.$collection().$send({method:"PUT",url:this.$url(),data:e},(e=>{n.resolve(e.data)}),(e=>{n.reject(e)})),n.promise}}},$hooks:{"before-fetch-many":function(e){const t=(Et.exec(this.$url())||[])[1];t&&i.$broadcast(`course-${t}-memberships-before-fetch`,e)},"after-fetch-many":function(){var e;this.forEach((e=>{1===e.displayOrder&&(e.ui||(e.ui={}),e.ui.isLeader=!0),e.user&&null==e.user.isAvailable&&(e.user.isAvailable=!0),e.course&&e.course.instructorsMembership&&e.course.instructorsMembership.length&&Ct(e.course.instructorsMembership)}));const t=o(),n=Object(xt.a)(this.$response.data),i=null!==(e=this.$response.config.params)&&void 0!==e?e:{},s=Object.keys(i).filter((e=>void 0!==i[e]&&null!==i[e])).map((e=>`${e}=${i[e]}`)).join("&"),a=`${this.$url()}?${s}`,r=Object(kt.Tb)(a);if(r)return void t.dispatch(kt.X.courseMembership.setCourseMembershipsInStore(r,n));const l=Object(kt.Vb)(a);l&&t.dispatch(kt.X.courseMembership.setUserMembershipsInStore(l,n))},"after-fetch":function(){1===this.displayOrder&&(this.ui||(this.ui={}),this.ui.isLeader=!0)},"after-feed":function(){var e;const t=this;if(t.userId=t.userId||(t.user||{$pk:void 0}).$pk,null===(e=this.$response)||void 0===e?void 0:e.data){const e=o(),t=Object(xt.a)(this.$response.data);e.dispatch(kt.X.courseMembership.setMembershipInStore(t))}}}});return r}]);const wt=Ie.O;Ce.a.factory(wt,["restmod",we.c,(e,t)=>e.model().mix({$extend:{Record:{getEmailPreviewContent(){return this.$send({method:"GET",url:this.$scope.$url()+"/preview"},(e=>this.$unwrap({emailBody:e.data.emailBody}))).$asPromise()},getCourseInviteUrl(){return this.$send({method:"GET",url:this.$scope.$url()+"/inviteUrl"},(e=>this.$unwrap({inviteUrl:e.data.inviteUrl}))).$asPromise()}}}})]);const At=Ie.R;Ce.a.factory(At,["restmod","DSCacheFactory",we.c,(e,t,n)=>e.model().mix({$config:{primaryKey:"key"},$extend:{Collection:{getPreference(e){return new Ot(t,this).getPreference(e)},setPreference(e){return new Ot(t,this).setPreference(e)},deletePreference(e){return new Ot(t,this).deletePreference(e)}}}})]);class Ot{constructor(e,t){this.DSCacheFactory=e,this.preferences=t,this.courseId=t.$scope.$scope.id||t.$scope.$scope.$pk}setPreference(e){return this._setCachePreference({key:e.key,value:e.value.toString(),visibleToStudents:e.visibleToStudents}).$asPromise().then((t=>{const n={key:t.key,value:t.value,visibleToStudents:t.visibleToStudents};switch(typeof e.value){case"boolean":n.value="true"===t.value;break;case"number":n.value=Number(t.value)}return n}))}_setCachePreference(e){const t=this._getPreferenceCacheForCourse(),n=this._setPreferenceOnBackend(e);return t.put(e.key,n),n}_setPreferenceOnBackend(e){if(e.key.length>247)throw new Error("Preference key is too long!");if(e.value.length>255)throw new Error("Preference value is too long!");const t=this.preferences.$new(e.key);return t.key=e.key,t.value=e.value,t.visibleToStudents=e.visibleToStudents,t.$save()}getPreference(e){let t;return"defaultValue"in e&&(t={value:e.defaultValue.toString(),visibleToStudents:!0}),this._getPreferenceWithDefaultAndCache({key:e.key,defaultPreference:t}).$asPromise().then((t=>{const n={key:t.key,value:t.value,visibleToStudents:t.visibleToStudents};switch(typeof e.defaultValue){case"boolean":n.value="true"===t.value;break;case"number":n.value=Number(t.value)}return n}))}_getPreferenceWithDefaultAndCache(e){let t=this._getPreferenceCacheForCourse().get(e.key);return null==t&&(t=this._getPreferenceFromBackend(e),this._getPreferenceCacheForCourse().put(e.key,t)),t}_getPreferenceFromBackend(e){if(e.key.length>247)throw new Error("Preference key is too long!");if(e.defaultPreference&&e.defaultPreference.value.length>255)throw new Error("Default preference value is too long!");return this.preferences.$find(e.key).$allow([404]).$then((t=>{t.$response&&404===t.$response.status&&e.defaultPreference&&null!=e.defaultPreference.value&&null!=e.defaultPreference.visibleToStudents&&(t.value=e.defaultPreference.value,t.visibleToStudents=e.defaultPreference.visibleToStudents)}))}_getPreferenceCacheForCourse(){if(!this.courseId)throw new Error("No courseId has been provided");const e="course.preference.";let t=this.DSCacheFactory.get(e+this.courseId);return null==t&&(t=this.DSCacheFactory.createCache(e+this.courseId,{capacity:100})),t}deletePreference(e){return this._deleteCachePreference(e).$asPromise().then((e=>({key:e.key,value:e.value,visibleToStudents:e.visibleToStudents})))}_deleteCachePreference(e){const t=this._getPreferenceCacheForCourse();if(t.get(e)){t.remove(e);return this.preferences.$new(e).$destroy().$allow([404])}return this.preferences.$new(e)}}var Dt=n("tPPx");const Tt=Ie.T;Ce.a.factory(Tt,["restmod",we.c,(e,t)=>e.model().mix(qe.serviceName,{})]);const Pt=(e,t)=>{let n="/learn/api/v1/courses/"+e+"/groupsets";return t&&(n+="/"+t),n},$t=Ie.K;Ce.a.factory($t,["restmod","$q",we.c,(e,t,n)=>e.model().mix({course:{belongsTo:Ie.t,key:"courseId"},modifiedDate:{serialize:"date"},isAvailable:{init:!1},batchUid:{mask:!0},collabSession:{hasMany:Ie.x,path:"collabultra/sessions"},$extend:{Record:{canDelete(){return!this.permissions||this.permissions.delete},canEdit(){return!this.permissions||this.permissions.modify}},Collection:{batchGetCollection(e,t){return this.findMany(e,t).$asPromise()},batchUpdate(e){return this.$collection().$send({method:"PUT",url:this.$url()+"/batchUpdate",data:e},(function(e){const t=e.data.map((e=>e.statusCode>=200&&e.statusCode<300?De.fromJson(e.body):e.body));return this.$unwrap({results:t})})).$asPromise()},getGroupsInGroupSet(e,t,n){const{expand:i,limit:s=1e3}=n;return this.$collection().$send({method:"GET",url:Pt(e,t)+"/groups",params:{expand:i,limit:s}},(function(e){let t=[];return e.data&&e.data.results&&(t=e.data.results),this.$unwrap({results:t})})).$asPromise()}}}})]);const Gt=Ie.L;Ce.a.factory(Gt,["restmod",Ye.serviceName,(e,t)=>e.model().mix({groupAttempts:{hasMany:Ie.hb,hooks:{"after-fetch-many":function(){const e=(/courses\/(_\d+_\d+)/.exec(this.$url())||[])[1];for(let n=0;n<this.length;n++)this[n]=t.$new(e).gradebook.groupAttempts.$buildRaw(this[n]),this[n].attempts&&this[n].attempts.length&&(this[n].attempts=t.$new(e).gradebook.attempts.$decode(this[n].attempts))}}}})]);const jt=Ie.M;Ce.a.factory(jt,["restmod",e=>e.model().mix({$hooks:{"before-request":e=>{e.headers={"Suppress-Session-Timestamp-Update":!0}}}})]);const Lt=Ie.G;Ce.a.factory(Lt,["restmod",we.c,(e,t)=>e.model().mix({$config:{primaryKey:"uid"},$extend:{Record:{hasEntitlement(){return!!this.uid}}}})]);const Nt=Ie.l;Ce.a.factory(Nt,["restmod",we.c,(e,t)=>e.model(Ee.a.apiBasePath+"/v1/cloudstorages").mix({contents:{hasMany:Ie.m},me:{hasOne:Ie.o},$config:{primaryKey:"name"}})]);const Bt=Ie.o;Ce.a.factory(Bt,["restmod",we.c,(e,t)=>e.model()]);const Mt=Ie.m;Ce.a.factory(Mt,["restmod",we.c,(e,t)=>e.model().mix({download:{hasOne:Ie.n,mask:!0},createdTime:{serialize:"date"},updatedTime:{serialize:"date"},ui:{mask:!0,init:()=>({})},$url(e){return this.$scope.$url(e)+"/"+encodeURIComponent(this.$pk)},$extend:{Record:{getChildren(e){return null==e&&(e={}),this.$scope.$collection().$send({method:"GET",url:this.$url()+"/children",params:e},(function(e){this.$unwrap(e.data)}),(function(e){}))}}}})]);const Rt=Ie.n,Ft={};Ce.a.factory(Rt,["restmod",we.c,(e,t)=>e.model().mix(Ft)]);const Vt=Ie.p;Ce.a.factory(Vt,["restmod",we.c,(e,t)=>e.model(Ee.a.apiBasePath+"/v1/cloudstorages/tasks").mix(Ft)]);const _t=Ie.q;Ce.a.factory(_t,["restmod",we.c,(e,t)=>e.model(Ee.a.apiBasePath+"/v1/collabultra/ping").mix({$extend:{Record:{getCollabUltraInfo(){return this.$send({method:"GET",url:this.$scope.$url()},(function(e){this.$unwrap(e.data)})).$allow([403,404]).$asPromise()}}}})]);const Ut=Ie.V;Ce.a.factory(Ut,["restmod",we.c,(e,t)=>{const n=Ee.a.apiBasePath+"/v1/utilities/entitlements";return e.model(n).mix({$config:{primaryKey:"uid"},$extend:{Record:{hasEntitlement(){return!!this.uid}}}})}]);const Ht=Ie.W;Ce.a.factory(Ht,["restmod",e=>e.model(Ee.a.apiBasePath+"/v1/externalCourses").mix({schedule:{hasMany:Ie.T},startDate:{serialize:"date"},endDate:{serialize:"date"},$extend:{Collection:{}},$hooks:{"before-request":function(e){Ee.a.features.externalCourse||"GET"===e.method&&e.url===`${Ee.a.apiBasePath}/v1/externalCourses`&&(e.cache={get:()=>({paging:{nextPage:"",previousPage:"",count:0,limit:1e5,offset:0},permissions:null,results:[]})})}}})]);const zt=Ie.X;Ce.a.factory(zt,["restmod",we.c,(e,t)=>e.model().mix({ui:{mask:!0,init:()=>({})}})]);var qt=n("t6LE"),Wt=n("JrDC"),Kt=n("wgY5");const Jt="ultra.components.services.models.grade.gradeGroupAttempt",Qt=Ie.hb,Zt="start";Ce.a.factory(Qt,["restmod",Ye.serviceName,we.c,(e,t,n)=>e.model().mix(qt.serviceName,{attempts:{ignore:"CU"},members:{ignore:"CU"},$extend:{Scope:{$destroyUrlFor:e=>Ee.a.apiBasePath+"/v1/courses/"+Wt.a(t,e.$scope)+"/gradebook/groupAttempts/"+e.id},Record:{getFeedbackToUser(){return this.feedbackToUser},getLastFeedbackAuthor(){return this.lastFeedbackAuthor||this.attempts[0]&&this.attempts[0].lastFeedbackAuthor},getGradeAttempt(){return this.attempts&&this.attempts.length?1===this.attempts.length?this.attempts[0]:this.submittedBy?pt.find(this.attempts,(e=>e.userId===this.submittedBy)):pt.sortBy(this.attempts,["creationDate"])[0]:null},isPrePostGrade(){return!this.isCompleted()||!this.readyToPost},isDisplayablePostedGrade(){return this.isCompleted()&&this.readyToPost}},Collection:{getNumAttemptsSubmittedLate(e){return this.filter((t=>t.isSubmitted()&&Kt(t.attemptDate).isAfter(e))).length},getNumAttemptsToGrade(){return this.filter((e=>e.isNeedsGrading()&&!e.isPostable())).length},getNumAttemptsToPost(){return this.filter((e=>e.isPostable())).length},getNumOfGradedAttempts(){return this.filter((e=>e.isGraded())).length},isAllGradedAndPosted(){return this.length>0&&this.every((e=>e.isCompleted()))},isFirstAttemptPosted(){var e;return null===(e=this.getFirstAttempt())||void 0===e?void 0:e.isCompleted()},isLastSubmittedAttemptPosted(){var e;return null===(e=this.getLastSubmittedAttempt())||void 0===e?void 0:e.isCompleted()},getAttemptIndexById(e){return this.findIndex((t=>t.id===e))},getAttemptById(e){return pt.find(this,(t=>t.id===e))},getFirstAttempt(){return this.length?this[0]:void 0},getLastSubmittedAttempt(){return this.length?this[this.length-1]:void 0}}},$hooks:{"after-update":function(e){this.attempts&&this.attempts.length&&e.config.params&&(this.attempts=t.$new(e.config.params.courseId).gradebook.attempts.$decode(this.attempts))},"after-fetch":function(e){this.attempts&&this.attempts.length&&e.config.params&&(this.attempts=t.$new(e.config.params.courseId).gradebook.attempts.$decode(this.attempts))},"after-feed":function(e){this.permissions&&(this.permissions.deleteAttempt=this.permissions.delete,this.permissions.editAttempt=this.permissions.editGrade);!function(e){const t=e.toolAttemptDetail,n=e.attempts;if(!t||!n)return;const i=Object.keys(t)[0];i&&n.forEach((e=>{if(e.toolAttemptDetail)return;const n=e.id,s=pt.cloneDeep(t);if(!s[i])return;e.toolAttemptDetail=s;const a=e.toolAttemptDetail[i].questionAttempts;a&&a.forEach((e=>{e.attemptId=n}))}))}(this)}}})]);const Yt=Ie.eb;Ce.a.factory(Yt,["restmod",we.c,(e,t)=>e.model().mix({ui:{mask:!0,init:()=>({})},$hooks:{"after-feed":function(e){this.localizableTitle||(this.localizableTitle={bundle:"gradebook_type",languageKey:this.title,serviceLevel:null})}}})]);var Xt=n("Kpdw"),en=n("e6jQ"),tn=n("7CA4");const nn=Ie.r;Ce.a.factory(nn,["restmod",we.c,Ye.serviceName,(e,t,n)=>e.model().mix({$hooks:{ui:{mask:!0,init:()=>({updateTimestamp:0})},"after-feed":function(){this.calculateDerivedSummaries()}},$extend:{Record:{calculateDerivedSummaries(){this.numNeedsGrading=we.b(this.numGroupsNeedsGrading,this.numStudentsNeedsGrading),this.numPosted=we.b(this.numGroupsPosted,this.numStudentsPosted),this.numEligibleToBeGraded=null!=this.numGroupsPosted?this.numGroupsEligibleToBeGraded:this.numStudentsEligibleToBeGraded,this.numSubmissionGradedNeedsPosting=we.b(this.numGroupsSubmissionGradedNeedsPosting,this.numStudentsSubmissionGradedNeedsPosting),this.numStudentsEligibleToBeGradedExternalSubmission=this.numStudentsEligibleToBeGraded-this.numStudentsGradedNeedsPosting-this.numStudentsPosted-this.numberOfOverriddenGradesToPost,this.numGroupsEligibleToBeGradedExternalSubmission=this.numGroupsEligibleToBeGraded-this.numGroupsGradedNeedsPosting-this.numGroupsPosted,null!=this.numGroupsGradedNeedsPosting?(this.numGradedNeedsPosting=this.numGroupsGradedNeedsPosting,this.numberOfStudentsOverriddenGradesToPost=this.numberOfOverriddenGradesToPost,this.numberOfOverriddenGradesToPost=0):this.numGradedNeedsPosting=this.numStudentsGradedNeedsPosting},isRestricted(){return this.restricted},getStatus(){return this.isRestricted()?tn.a.Restricted:this.numNeedsGrading>0?tn.a.NeedsGrading:this.totalNumberOfGradesToPost()>0?tn.a.NeedsPosting:this.numPosted===this.numEligibleToBeGraded&&this.numPosted>0?tn.a.AllPosted:0===this.numSubmissionsTotal?tn.a.NothingToGrade:0===this.numNeedsGrading?tn.a.AllGraded:void 0},isAllGradedAndPosted(){return this.numPosted===this.numEligibleToBeGraded&&this.numPosted>0},numStudentsGraded(){return this.numGradedNeedsPosting+this.numPosted+this.numberOfOverriddenGradesToPost},numStudentSubmissions(){return this.participantIds?this.participantIds.length:this.numGroupsSubmitted||this.numStudentsSubmitted},hasGradesToPost(){return null!=this.numGroupsGradedNeedsPosting?this.numGroupsGradedNeedsPosting>0:this.numGradedNeedsPosting>0||this.numberOfOverriddenGradesToPost>0},totalNumberOfGradesToPost(){return this.numGradedNeedsPosting+this.numberOfOverriddenGradesToPost}},Model:{inferKey:()=>en.a(),unpack:(e,t)=>(pt.forOwn(e,((e,t,n)=>{pt.startsWith(t,"$")||"ui"===t||(n[t]=null)})),we.f(e,t))},Collection:{expandingColumns(e,t){let n={};return this.$collection().$on("after-fetch-many",(i=>{const s=i.data.results;n=s.reduce(((e,t)=>(e[t.columnId]=t,e)),n),e.forEach((e=>{e.id in n?e.summary.$unwrap(n[e.id]):t&&e.summary.$unwrap(t)}))}))}}}})]);var sn=n("KrjC");const an="ultra.components.models.grade.gradeSchema",on=Ie.jb;Ce.a.factory(on,["restmod",we.c,(e,t)=>e.model().mix({ui:{mask:!0,init:()=>({})},$extend:{Record:{getPossiblePoints(){if(this.scaleType===He.ac.Score)throw new Error("Possible points must be entered by the user for schemas with a scale type of Score");return 100}}}})]);var rn=n("3PCF");const ln=Ie.db;Ce.a.factory(ln,["restmod",we.c,"$injector","$ngRedux",(e,t,n,i)=>e.model().mix({$hooks:{"before-fetch":function(e){e.method="POST",pt.isString(e.params.membershipIds)&&(e.params.membershipIds=e.params.membershipIds.split(",")),pt.isString(e.params.gradeIds)&&(e.params.gradeIds=e.params.gradeIds.split(",")),pt.isString(e.params.columnIds)&&(e.params.columnIds=e.params.columnIds.split(",")),e.data={membershipIds:e.params.membershipIds,gradeIds:e.params.gradeIds,columnIds:e.params.columnIds},delete e.params.membershipIds,delete e.params.gradeIds,delete e.params.columnIds},"after-fetch":function(e){const t=n.get(Ye.serviceName),s=e.config.params.courseId;this.bulkViewUsers.forEach((e=>{const n=e.grades.map((e=>{var t;const n=null===(t=e.attempts)||void 0===t?void 0:t.find((t=>new Date(t.attemptDate).getTime()===new Date(e.lastAttemptDate).getTime()));return{...e.grade,lastAttemptId:null==n?void 0:n.id}}));i.dispatch(kt.X.gradebookGrade.setGradesInStore(n)),e.grades.forEach((e=>{const n=e.grade;e.grade=t.$new(s).gradebook.columns.$new(e.columnId).grades.$buildRaw(n),e.lastAttemptDate&&(e.lastAttemptDate=new Date(e.lastAttemptDate)),e.attempts&&e.attempts.length>0&&(e.attempts.forEach((i=>{const a=t.$new(s).gradebook.columns.$new(e.columnId).grades.$new(n.id).attempts.$buildRaw(i);e.grade.attempts.$add(a)})),e.grade.ui.attempt=e.grade.attempts[0]),e.grade.permissions=this.permissions,e.submissionResults&&e.submissionResults.results[rn.b]&&(e.originalityProcessed=e.submissionResults.results[rn.b].originalityProcessed,e.originalityScore=e.submissionResults.results[rn.b].originalityScore)}))}))}}})]);var cn=n("Bu0u");const dn=Ie.Y;class un{static fromValue(e){return un[e]}}un.ALL={resetShowComments:()=>!0,getValue:()=>"ALL",validate:e=>!0},un.BYCOLUMNS={resetShowComments:()=>!1,getValue:()=>"BYCOLUMNS",validate:e=>e&&!!e.length},un.HISTORYLOG={resetShowComments:()=>!0,getValue:()=>"HISTORYLOG",validate:e=>!0};class mn{static fromValue(e){return mn[e]}}mn.MYDEVICE={resetContentCollection:()=>!0,getValue:()=>"MYDEVICE",validate:e=>!0,openUrl:e=>{const t=Ue.j();window.location.href=t+e}},mn.CONTENTCOLLECTION={resetContentCollection:()=>!1,getValue:()=>"CONTENTCOLLECTION",validate:e=>!!e,openUrl:e=>()=>{}},Ce.a.factory(dn,["restmod",we.c,(e,t)=>e.model().mix({grades:{hasMany:Ie.gb},columns:{hasMany:Ie.fb},attempts:{hasMany:Ie.cb},categories:{hasMany:Ie.eb},performancecodes:{hasMany:Ie.ib},schemas:{hasMany:Ie.jb},bulkView:{hasOne:Ie.db,path:"grades/bulkView"},settings:{hasOne:Ie.Z},groupAttempts:{hasMany:Ie.hb},summaries:{hasMany:Ie.r},$extend:{Record:{getDownloadUrl(e){if(!e||!e.dataScopeType||!e.delimiterType)throw new cn.a({message:"dataScoreType and delimiterType must be set"});return this.$send({method:"POST",url:this.$url()+"/prepareDownload",data:{...e,dataScopeType:e.dataScopeType.getValue(),downloadTo:e.downloadTo.getValue()}},(function(e){this.$unwrap(e.data)})).$asPromise()},validateCalculatedFormula(e){if(!e)throw new cn.a({message:"formula data must be set"});return this.$send({method:"POST",url:this.$url()+"/validateCalculatedFormula",data:e}).$allow([400]).$asPromise().then((e=>200===e.$response.status))},parseUploadedGradebook(e){return this.$send({method:"GET",url:this.$url()+"/parseUploadedGradebook",params:e},(function(e){this.$unwrap(e.data)})).$allow([400,403,404]).$asPromise()},importGradebook(e){return this.$send({method:"POST",url:this.$url()+"/importGradebook",data:e},(function(e){this.$unwrap(e.data)})).$allow([400,403,404]).$asPromise()}}}})]);const pn=Ie.Z;Ce.a.factory(pn,["restmod",we.c,(e,t)=>e.model()]);const hn=Ie.bb;Ce.a.factory(hn,["restmod",e=>e.model().mix({$hooks:{"after-save":function(e){this.points=null,this.$unwrap(e.data),this.questionAttempt.visibleQuestionNumber=this.questionNumber},"before-save":function(e){e.url=e.url.substr(0,e.url.indexOf("/answers"))+"/answers/"+this.questionAttempt.id+"/grades",pt.merge(e.data,{questionType:this.questionAttempt.questionType}),this.questionNumber=this.questionAttempt.visibleQuestionNumber},"after-fetch-many":function(){this.forEach((e=>{e.permissions=this.permissions}))}},$extend:{Collection:{setPostStatusAndGroupAttemptId(e){this.forEach((t=>{t.ui.isPosted=e.isCompleted(),e.groupAttemptId&&(t.ui.groupAttemptId=e.groupAttemptId)}))}}},questionAttempt:{ignore:"CU"},ui:{init:()=>({}),mask:!0}})]);const gn=Ie.ib;Ce.a.factory(gn,["restmod","$q",we.c,(e,t,n)=>e.model().mix({})]);const bn=Ie.ab;Ce.a.factory(bn,["restmod",we.c,e=>e.model().mix({$extend:{hasAttachments(){return!pt.isUndefined(this.overallOriginalityProcessed)&&(this.attemptOriginality&&this.attemptOriginality.attachments.length||this.answerOriginalities.length&&this.answerOriginalities.some((e=>e.attachments.length)))},canShowReportPanel(){return this.overallOriginalityProcessed&&this.hasAttachments()}},$hooks:{"after-request":function(e){e.data.results&&(e.data=e.data.results[rn.b])}}})]);const fn=Ie.kb;Ce.a.factory(fn,["restmod",e=>{const t=Ee.a.apiBasePath+"/v1/calendars/institution/calendarItems";return e.model(t).mix(qe.serviceName)}]);const vn=Ie.lb;Ce.a.factory(vn,["restmod",we.c,(e,t)=>{const n=Ee.a.apiBasePath+"/v1/roles/institutionRoles";return e.model(n)}]);const yn=Ie.mb;Ce.a.factory(yn,["restmod",we.c,(e,t)=>{const n=Ee.a.apiBasePath+"/v1/languages";return e.model(n).mix({})}]);const kn=Ie.nb;var xn,Sn;!function(e){e.Approved="Approved",e.Excluded="Excluded",e.NeedsApproval="NeedsApproval"}(xn||(xn={})),function(e){e.Never="Never",e.SSLOnly="SSLOnly",e.Always="Always"}(Sn||(Sn={})),Ce.a.factory(kn,["restmod",e=>{const t=Ee.a.apiBasePath+"/v1/lti/domainConfigs";return e.model(t).mix({$extend:{Model:{findByDomain(e){return this.$build().$send({method:"GET",url:this.$url()+"?domain="+e},(function(e){return this.$unwrap(e.data)})).$allow([404]).$asPromise()}}}})}]);const Cn=Ie.pb;Ce.a.factory(Cn,["restmod",we.c,e=>{const t=Ee.a.apiBasePath+"/v1/lti/settings";return e.model(t).mix({$extend:{Model:{getSettings(){return this.$build().$send({method:"GET",url:this.$url()},(function(e){return this.$unwrap(e.data)})).$asPromise()}}}})}]);const En=Ie.ob;Ce.a.factory(En,["restmod",e=>{const t=Ee.a.apiBasePath+"/public/v1/lti/placements";return e.model(t).mix({isAvailable(){return He.Mb.Yes===this.availability.available},$hooks:{"after-feed":function(e){this.iconUrl=Ue.c(this.iconUrl)}}})}]);const In=Ie.qb;Ce.a.factory(In,["restmod",we.c,(e,t)=>{const n=Ee.a.apiBasePath+"/v1/users/me/preferences";return e.model(n).mix({$config:{primaryKey:"key"}})}]);const wn=Ie.rb;Ce.a.factory(wn,["restmod",we.c,e=>e.model()]);var An=n("1/43");const On=Ie.tb;Ce.a.factory(On,["restmod",we.c,e=>e.model()]);const Dn=Ie.ub;Ce.a.factory(Dn,["restmod",we.c,e=>e.model().mix({courseSettings:{hasMany:Ie.tb},organizationSettings:{hasMany:Ie.tb},$url:()=>Ee.a.apiBasePath+"/v1/notification/settings"})]);const Tn=Ie.vb;Ce.a.factory(Tn,["restmod",e=>e.model().mix(qe.serviceName,{})]);var Pn=n("FBBZ");const $n=Ie.wb;Ce.a.factory($n,["restmod",e=>{const t=Ee.a.partnerCloudBasePath+"/v1";return e.model(t).mix({$extend:{Model:{getPartnersByType(e){return this.$build().$send({method:"GET",url:this.$url()+"/providerContent?course_id="+e},(function(e){return this.$unwrap(e.data)})).$allow(["400-599"]).$asPromise()}}},$hooks:{"after-feed":function(e){const t=e=>{De.isDefined(e.internalPovider)&&De.isUndefined(e.internalProvider)&&(e.internalProvider=e.internalPovider)};pt.forEach(this.premierList,t),pt.forEach(this.signatureList,t),pt.forEach(this.otherList,t);const n=e=>!e.internalProvider||Pn.o(e);this.premierList=pt.filter(this.premierList,n),this.signatureList=pt.filter(this.signatureList,n),this.otherList=pt.filter(this.otherList,n)}}})}]);const Gn=Ie.Cb;Ce.a.factory(Gn,["restmod",e=>{const t=Ee.a.partnerCloudBasePath+"/v1/status";return e.model(t).mix({$extend:{Model:{getStatus(e){return this.$build().$send({method:"GET",url:this.$url()+"?course_id="+e},(function(e){return this.$unwrap(e.data)}),(function(){return this.$unwrap({enabled:!1,userCloudProvisioned:!1})})).$allow(["400-599"]).$asPromise()}}}})}]);const jn=Ie.yb;Ce.a.factory(jn,["restmod",we.c,(e,t)=>{const n=Ee.a.partnerCloudBasePath+"/v1/courses";return e.model(n).mix({partnerLinkedCourses:{hasMany:Ie.Ab,path:"providerBindings"},$extend:{Record:{updateProvisioning(e){return this.$scope.$build().$send({method:"POST",url:this.$scope.$url()+"/"+this.$pk+"/updateProvisioning/"+e},(function(e){this.$unwrap(e.data)})).$allow(["400-599"]).$asPromise()}}}})}]);const Ln=Ie.Ab;Ce.a.factory(Ln,["restmod",we.c,e=>e.model().mix({tools:{hasOne:Ie.Db,path:"tools"},id:{map:"@id"},$extend:{Model:{unpack:(e,t)=>t&&t.bindings}}})]);const Nn=Ie.xb;Ce.a.factory(Nn,["restmod",e=>{const t=Ee.a.partnerCloudBasePath+"/v1/courses";return e.model(t).mix({$extend:{Model:{getContentIds(e,t){return this.$build().$send({method:"GET",url:this.$url()+"/"+e+"/linkRefId/"+t+"/content/ids"},(function(e){return this.$unwrap(e.data)})).$asPromise()}}}})}]);n("3uIF");const Bn=Ie.Bb;Ce.a.factory(Bn,["restmod",e=>{const t=Ee.a.partnerCloudBasePath+"/v1";return e.model(t).mix({$extend:{Model:{getSettingsById(e){return this.$build().$send({method:"GET",url:this.$url()+"/providers/"+e+"/settings"},(function(e){return this.$unwrap(e.data)})).$allow(["400-599"]).$asPromise()}}}})}]);const Mn=Ie.Db;Ce.a.factory(Mn,["restmod",we.c,(e,t)=>e.model().mix({})]);const Rn=Ie.Eb;Ce.a.factory(Rn,["restmod",e=>e.model().mix(qe.serviceName,{})]);var Fn=n("0JpG");const Vn=Ie.Fb;function _n(e,t){e.activityDaily&&e.activityDaily.forEach((e=>{e.inCourseDuration=Un(e.inCourseDuration),e.ui={display:t.formatComposedDurationSync(e.inCourseDuration,Fn.ILocaleComposedDurationFormat.HoursMinutes)}})),e.activityWeekly&&e.activityWeekly.forEach((e=>{e.inCourseDuration=Un(e.inCourseDuration),e.ui={display:t.formatComposedDurationSync(e.inCourseDuration,Fn.ILocaleComposedDurationFormat.HoursMinutes)}}))}function Un(e){return 15*Math.round(e/15)*60}Ce.a.factory(Vn,["restmod",Fn.serviceName,(e,t)=>{const n=Ee.a.telemetryApiBasePath+"/v1/predict/courses";return e.model(n).mix({"activityDaily[].activityDate":{decode:"localDate"},"activityWeekly[].activityWeek":{decode:"localDate"},"assignments[].dueDate":{serialize:"date"},"assignmentGrades[].gradedDate":{serialize:"date"},"assignmentGrades[].submissionDate":{serialize:"date"},startDate:{serialize:"date"},endDate:{serialize:"date"},lastActivityDate:{serialize:"date"},"weeks[].weekOf":{decode:"localDate"},$hooks:{"after-fetch":function(){_n(this,t),this.instructors&&this.instructors.forEach((e=>{e.learnUser=z.learnUser}))}}})}]);const Hn=Ie.Gb;Ce.a.factory(Hn,["restmod",e=>e.model().mix({$extend:{Model:{$for(e,t){return this.$collection(t,{$urlFor:()=>Ee.a.telemetryApiBasePath+"/v1/predict/"+e})}},Collection:{$decode(e){return this.push(...e),this}}}})]);const zn=Ie.Jb;Ce.a.factory(zn,["restmod",e=>{const t=Ee.a.telemetryApiBasePath+"/v1/predict/favorites";return e.model(t).mix({$extend:{Model:{marketSnapshot(e,t){return this.$build().$send({method:"GET",params:t,url:this.$url()+"/"+e+"/marketSnapshot"},(function(e){return this.$unwrap(e.data)})).$asPromise()}}}})}]);const qn=Ie.Pb;Ce.a.factory(qn,["restmod",we.c,(e,t)=>{const n=Ee.a.telemetryApiBasePath+"/v1/predict/settings";return e.model(n).mix({$extend:{Model:{get(){return this.single(n).$fetch().$allow([403]).$asPromise()}}},$hooks:{"after-fetch":function(){De.isUndefined(this.advisorEmailEnabled)&&(this.advisorEmailEnabled=!0),De.isUndefined(this.instructorEmailEnabled)&&(this.instructorEmailEnabled=!0);const e=pt.indexOf(this.fields,"probability");-1!==e&&(this.fields[e]="goodProbability")}}})}]);const Wn=Ie.Rb;Ce.a.factory(Wn,["restmod",we.c,e=>{const t=Ee.a.apiBasePath+"/v1/telemetry/predict/systemSettings";return e.model(t).mix({$extend:{Model:{get(){return this.single(t).$fetch().$allow([404]).$asPromise()}}}})}]);const Kn=Ie.Ib;Ce.a.factory(Kn,["restmod",e=>e.model().mix({$extend:{Model:{$for(e,t){return this.$collection(t,{$urlFor:()=>Ee.a.telemetryApiBasePath+"/v1/predict/"+e})}},Collection:{$unwrap(e){return e.results||e.data?(e.data&&this.push(...e.data),e.results&&this.push(...e.results)):this.push(...e),this}}}})]);const Jn=Ie.Qb;function Qn(e){De.isDefined(e.goodProbability)&&(e.goodProbability=Math.round(100*e.goodProbability)),De.forEach(e.courses,(e=>{e.prediction&&(e.prediction.goodProbability=Math.round(100*e.prediction.goodProbability)),e.previousPrediction&&(e.previousPrediction.goodProbability=Math.round(100*e.previousPrediction.goodProbability)),De.forEach(e.weeks,(e=>{e.goodProbability=Math.round(100*e.goodProbability)}))}))}function Zn(){return De.isUndefined(this.ui)&&(this.ui={}),De.isUndefined(this.ui.learnUser)&&(this.ui.learnUser={givenName:this.firstName,familyName:this.lastName}),this.ui.learnUser}Ce.a.factory(Jn,["restmod","$q",Fn.serviceName,(e,t,n)=>{const i=Ee.a.telemetryApiBasePath+"/v1/predict/students",s=Ee.a.telemetryApiBasePath+"/v1/predict/courses/",a=Ee.a.telemetryApiBasePath+"/v1/predict/studentSearch",o=Ee.a.telemetryApiBasePath+"/v1/predict/message";Ee.a.telemetryApiBasePath;return e.model(i).mix({academicHoldDate:{serialize:"date"},birthDate:{serialize:"date"},financialHoldDate:{serialize:"date"},lastActivityDate:{serialize:"date"},"plannerInterests[].chosenDate":{serialize:"date"},plannerLocationChosenDate:{serialize:"date"},"courses[].activityDaily[].activityDate":{decode:"localDate"},"courses[].activityWeekly[].activityWeek":{decode:"localDate"},"courses[].assignments[].dueDate":{serialize:"date"},"courses[].assignmentGrades[].gradedDate":{serialize:"date"},"courses[].assignmentGrades[].submissionDate":{serialize:"date"},"courses[].startDate":{serialize:"date"},"courses[].endDate":{serialize:"date"},"courses[].lastActivityDate":{serialize:"date"},"courses[].weeks[].weekOf":{decode:"localDate"},$extend:{Model:{getCourseStudent(e,t,n){return this.single(s+t+"/students/"+e).$fetch(n).$allow([403]).$asPromise()},getCourseStudents(e,t){return this.$collection(t,{$urlFor:()=>s+e+"/students"}).$fetch(t).$allow([403]).$asPromise()},getStudent(e,n){const s=t.defer();return this.$collection({studentId:e},{$urlFor:()=>i}).$fetch(n).$asPromise().then((e=>{s.resolve(e[0])})).catch((()=>{s.reject()})),s.promise},postInstructorMessage(e,t,n){return this.$build().$send({method:"POST",url:s+n+"/students/"+t+"/message/advisor",data:e}).$asPromise()},postAdvisorMessage(e,t){return this.$build().$send({method:"POST",url:i+"/"+t+"/message/student",data:e}).$asPromise()},postMessage(e){return this.$build().$send({method:"POST",url:`${o}`,data:e}).$asPromise()},postMessageToStudents(e){return this.$build().$send({method:"POST",url:`${i}/message`,data:e}).$asPromise()},postMessageToStudentsByFilter(e,t){return this.$build().$send({method:"POST",url:`${i}/messageByFilter`,data:e,params:t}).$asPromise()},typeaheadSearch(e,n="",i=6,o=!1){const r=t.defer();let l=a+"?query="+encodeURIComponent(e);return n&&(l=`${s}${n}/studentSearch?query=${encodeURIComponent(e)}`),this.$build().$send({method:"GET",url:l,params:{emailRequired:!0===o?"true":"false",limit:i}},(function(e){e&&e.data&&e.data.results?r.resolve(e.data.results.map((e=>({firstName:e.firstName,lastName:e.lastName,studentDisplayId:e.studentDisplayId,lmsId:e.lmsId,avatar:{permanentUrl:e.avatarUrl},learnUser:Zn,email:e.email,advisors:e.advisors})))):r.resolve([])})).$allow([403]),r.promise}},Record:{learnUser:Zn}},$hooks:{"after-fetch":function(){Qn(this),this.courses.forEach((e=>{R.adjustEngagement(e,n)})),this.advisors&&this.advisors.forEach((e=>{e.learnUser=Zn}))},"after-fetch-many":function(){this.forEach((e=>{Qn(e),e.courses.forEach((e=>{R.adjustEngagement(e,n)})),e.advisors&&e.advisors.forEach((e=>{e.learnUser=Zn}))}))}}})}]);const Yn=Ie.Nb;Ce.a.factory(Yn,["restmod",we.c,(e,t)=>{const n=Ee.a.telemetryApiBasePath+"/v1/predict/permissions";return e.model(n).mix({$extend:{Model:{get(){return this.single(n).$fetch().$allow([403]).$asPromise()}}}})}]);const Xn=Ie.Kb;Ce.a.factory(Xn,["restmod","$q",(e,t)=>{const n=Ee.a.telemetryApiBasePath+"/v1/predict/ftue",i=Ee.a.telemetryApiBasePath+"/v1/predict/ftues";return e.model(n).mix({$extend:{Model:{setFtue(e){return this.$build().$send({method:"POST",url:this.$url()+"/"+e}).$asPromise()},delFtue(e){return this.$build().$send({method:"DELETE",url:this.$url()+"/"+e}).$asPromise()},delFtues(){return this.$build().$send({method:"DELETE",url:this.$url()}).$asPromise()},getFtue(e){const n=t.defer();return this.$build().$send({method:"GET",url:i,params:{timestamp:(new Date).getTime()}},(function(t){if(t&&t.data&&t.data.length){const i=t.data.filter((t=>t.componentKey===e));i&&i.length?n.resolve({key:i[0].componentKey,value:""}):n.resolve(null)}else n.resolve(null)})),n.promise},getFtues(){const e=t.defer();return this.$build().$send({method:"GET",url:i,params:{timestamp:(new Date).getTime()}},(function(t){if(t&&t.data&&t.data.length){const n=[];t.data.forEach((e=>{n.push({key:e.componentKey,value:""})})),n&&n.length?e.resolve(n):e.resolve(null)}else e.resolve(null)})),e.promise}}}})}]);const ei=Ie.Mb;Ce.a.factory(ei,["restmod","$q",we.c,(e,t,n)=>{const i=Ee.a.telemetryApiBasePath+"/v1/predict/notes";return e.model(i).mix({dateCreated:{serialize:"date"},dateModified:{serialize:"date"},isEdited:{mask:!0},isUndoing:{mask:!0},isAdding:{mask:!0},$extend:{Model:{getNotes(e,t){return(t=t||{}).timestamp=(new Date).getTime(),this.$collection(t,{$urlFor:()=>i+"/students/"+e}).$fetch(t).$allow([403]).$asPromise()},postNote(e,t){return this.$build().$send({method:"POST",url:i,data:{note:e,recipient:{recipientId:t.recipientId,email:t.email}}},(function(e){this.$unwrap(e.data)})).$asPromise()},updateNote(e,t){return this.$build().$send({method:"PUT",url:i,data:{noteId:e,note:t}},(function(e){return this.$unwrap(e.data)})).$asPromise()},deleteNote(e){return this.$build().$send({method:"DELETE",url:i+"/"+e},(function(e){this.$unwrap(e.data)})).$asPromise()},undoDeleteNote(e){return this.$build().$send({method:"PUT",url:`${i}/${e}`},(function(e){return e})).$asPromise()}}},$hooks:{"after-fetch-many":function(){this.forEach((e=>{De.isDefined(e.dateModified)?e.isEdited=e.dateCreated.getTime()<e.dateModified.getTime():e.isEdited=!1;const t=Object(pt.cloneDeep)(e.dateCreated);e.ui.dateCreated=t}))}}})}]);const ti=Ie.Ob;Ce.a.factory(ti,["restmod","$q",(e,t)=>{const n=Ee.a.telemetryApiBasePath+"/v1/predict/preferences";return e.model(n).mix({$extend:{Model:{setPreference(e,t){const n={componentKey:e,preference:t};return this.$build().$send({method:"POST",url:this.$url(),data:n}).$allow([403]).$asPromise()},delPreference(e){return this.$build().$send({method:"DELETE",url:this.$url()+"/"+e}).$asPromise()},delPreferences(){return this.$build().$send({method:"DELETE",url:this.$url()}).$asPromise()},getPreference(e){const i=t.defer();return this.$build().$send({method:"GET",url:`${n}/${e}`,params:{timestamp:(new Date).getTime()}},(function(t){if(t&&t.data&&t.data.length){const n=t.data.filter((t=>t.componentKey===e));n&&n.length?i.resolve({componentKey:n[0].componentKey,value:n[0].value}):i.resolve(null)}else i.resolve(null)})).$allow([403]),i.promise},getPreferences(){const e=t.defer();return this.$build().$send({method:"GET",url:n,params:{timestamp:(new Date).getTime()}},(function(t){if(t&&t.data&&t.data.length){const n=[];t.data.forEach((e=>{n.push({componentKey:e.componentKey,preference:e.preference})})),n&&n.length?e.resolve(n):e.resolve([])}else e.resolve([])})).$allow([403]),e.promise}}}})}]);const ni=Ie.Lb;Ce.a.factory(ni,["restmod","$q",(e,t)=>{const n=Ee.a.telemetryApiBasePath+"/v1/predict/preferences/config";return e.model(n).mix({$extend:{Model:{getInstitutionPreference(e){const i=t.defer();return this.$build().$send({method:"GET",url:`${n}/${e}`},(function(t){if(t&&t.data){const n=t.data;n.name===e?i.resolve(n):i.resolve(null)}else i.resolve(null)})).$allow([403]),i.promise}}}})}]);const ii=Ie.Hb;Ce.a.factory(ii,["restmod","$q",(e,t)=>{const n=Ee.a.telemetryApiBasePath+"/v1/predict/customFieldSettings";return e.model(n).mix({$extend:{Model:{getCustomFieldSettings(){const e=t.defer();return this.$build().$send({method:"GET",url:n},(function(t){t&&t.data?e.resolve(t.data):e.resolve([])})),e.promise}}}})}]);const si=Ie.Sb;Ce.a.factory(si,["restmod",we.c,e=>{const t=Ee.a.apiBasePath+"/public/v1/system/policies/privacy";return e.model(t).mix({$extend:{Model:{getPrivacyPolicy(){return this.$build().$send({method:"GET",url:this.$url()},(function(e){return this.$unwrap(e.data)})).$asPromise()}}}})}]);const ai=Ie.Tb,oi="Respondus";Ce.a.factory(ai,["restmod","$ngRedux",(e,t)=>{const n=Ee.a.apiBasePath+"/public/v1/proctoring/services";return e.model(n).mix({$hooks:{"after-fetch-many":function(e){const n=e.data.results;t.dispatch(kt.X.proctoringServices.setProctoringServicesInStore(n))}}})}]);const ri=Ie.Wb;Ce.a.factory(ri,["restmod","$q",(e,t)=>{const n=Ee.a.telemetryApiBasePath+"/v1/predict/courses/";return e.model(n).mix({$extend:{Model:{getRiskBucketDistribution(e){const i=t.defer();return this.$build().$send({method:"GET",url:`${n}${e}/riskBuckets`},(function(e){if(e&&e.data){const t=e.data;i.resolve(t)}else i.resolve(null)})).$allow([403]),i.promise}}}})}]);var li=n("XfOu");const ci=Ie.Yb;var di,ui;Ce.a.factory(ci,["restmod",we.c,(e,t)=>e.model(Ee.a.apiBasePath+"/v1/scheduledTasks").mix({$config:{primaryKey:"taskId"},startDate:{serialize:"date"},endDate:{serialize:"date"},isWaiting(){return He.Rb.Waiting===this.taskStatus}})]),function(e){e.Sender="SENDER",e.Receiver="RECEIVER"}(di||(di={})),function(e){e.Completed="completed",e.InProgress="in_progress",e.Exempt="exempt",e.NeedsGrading="needs_grading"}(ui||(ui={}));const mi=Ie.ac;Ce.a.factory(mi,["restmod",we.c,(e,t)=>{const n=Ee.a.apiBasePath+"/v1/streams";return e.model(n).mix({$extend:{Collection:{$fetch:()=>{throw new Error("fetch StreamContent collection not supported")},$refresh:()=>{throw new Error("refresh StreamContent collection not supported")},$create:()=>{throw new Error("create StreamContent collection not supported")}},Record:{$fetch(e){return this.$decorate({"before-request":function(t){t.method="POST",t.data=e}},(function(){return this.$super()}))},$resolve:()=>{throw new Error("resolve StreamContent not supported")},$save:()=>{throw new Error("save StreamContent not supported")},$destroy:()=>{throw new Error("destroy StreamContent not supported")}}},$hooks:{"before-request":e=>{e.timeout=3e4,e.headers={"Suppress-Session-Timestamp-Update":!0}}}})}]);const pi=Ie.cc;Ce.a.factory(pi,["restmod",we.c,(e,t)=>e.model().mix({now:{serialize:"date"},$url:()=>Ee.a.apiBasePath+"/v1/utilities/systemInfo",$extend:{Record:{getLegacyToolUrl(e){if(e in this.classicUrls)return Ue.c(this.classicUrls[e]);throw new Error("Key "+e+" is not found in systemInfo.classicUrls")}}}})]);const hi=Ie.dc;Ce.a.factory(hi,["restmod",we.c,(e,t)=>{const n=Ee.a.apiBasePath+"/v1/systemPreferences";return e.model(n).mix({$config:{primaryKey:"key"}})}]);n("DH9M");const gi=Ie.fc;function bi(e){return e/60}Ce.a.factory(gi,["restmod",e=>e.model().mix({$config:{primaryKey:"courseId"},$url(){return Ee.a.apiBasePath+"/v1/courses/"+this.$pk+"/telemetry/reports/activityVsGrade"},$hooks:{"after-fetch":function(){this.data.forEach((e=>e.activity=bi(e.activity)))}}})]);const fi=Ie.gc;Ce.a.factory(fi,["restmod",e=>{const t=Ee.a.apiBasePath+"/v1";return e.model(t).mix({$config:{primaryKey:"contentId"},available:{serialize:"date"},firstOpened:{serialize:"date"},firstSave:{serialize:"date"},lastSave:{serialize:"date"},startedTime:{serialize:"date"},"submissions[].date":{serialize:"date"},$extend:{Collection:{getContentActivityInDetail(e,t){return this.$collection().$send({method:"GET",url:this.$url()+"/courses/"+e+"/contents/"+t+"/telemetry/reports/studentContentActivityInDetail"},(function(e){this.$unwrap(e.data)}))}},Record:{containsInvalidData(){return this.ui&&this.ui.containsInvalidData||!1}}}})}]);const vi=e=>{const t=new Date(e);return new Date(t.getTime()+60*t.getTimezoneOffset()*1e3)},yi=Ie.hc;Ce.a.factory(yi,["restmod",e=>e.model().mix({$config:{primaryKey:"courseId"},$url(){return Ee.a.apiBasePath+"/v1/courses/"+this.$pk+"/telemetry/reports/courseActivity"},$hooks:{"after-fetch":function(){this.courseActivity.forEach((e=>{e.date=vi(e.date),e.activity=bi(e.activity),e.minScore=bi(e.minScore),e.maxScore=bi(e.maxScore),e.stdDev=bi(e.stdDev)}))}}})]);const ki=Ie.jc;Ce.a.factory(ki,["restmod",e=>e.model().mix({$config:{primaryKey:"courseId"},"currentStudent[].created":{serialize:"date"},"currentStudent[].dismissed":{serialize:"date"},$url(){return Ee.a.apiBasePath+"/v1/courses/"+this.$pk+"/telemetry/notifications"}})]);const xi=Ie.ic;Ce.a.factory(xi,["restmod",e=>e.model().mix({$config:{primaryKey:"courseId"},$url(){return Ee.a.apiBasePath+"/v1/courses/"+this.$pk+"/telemetry/reports/courseGrades"},$hooks:{"after-fetch":function(){this.courseGrades.forEach((e=>{e.date=vi(e.date)}))}}})]);const Si=Ie.kc;Ce.a.factory(Si,["restmod",e=>{const t=Ee.a.apiBasePath+"/v1";return e.model(t).mix({$extend:{Model:{getDiscussionActivityReport(e,t,n){const i=n?this.$url()+"/courses/"+e+"/contents/"+t+"/telemetry/reports/discussionActivity?groupId="+n:this.$url()+"/courses/"+e+"/contents/"+t+"/telemetry/reports/discussionActivity";return this.$build().$send({method:"GET",url:i},(function(e){this.$unwrap(e.data)}))}}}})}]);const Ci=Ie.lc;Ce.a.factory(Ci,["restmod",e=>{const t=Ee.a.apiBasePath+"/v1";return e.model(t).mix({$extend:{Model:{getDiscussionXrayReport(e,t,n){return this.$build().$send({method:"GET",url:this.$url()+"/courses/"+e+"/contents/"+t+"/telemetry/reports/discussionActivityScore/"+n},(function(e){this.$unwrap(e.data)}))}}},modifyDate:{serialize:"date"}})}]);const Ei=Ie.mc;Ce.a.factory(Ei,["restmod",e=>{const t=Ee.a.apiBasePath+"/v1";return e.model(t).mix({lastOpened:{serialize:"date"},$extend:{Collection:{getMultimediaActivityInDetail(e,t){return this.$collection().$send({method:"GET",url:this.$url()+"/courses/"+e+"/contents/"+t+"/telemetry/reports/studentMultimediaActivityInDetail"},(function(e){this.$unwrap(e.data)}))}}}})}]);const Ii=Ie.nc;Ce.a.factory(Ii,["restmod",e=>{const t=Ee.a.apiBasePath+"/v1";return e.model(t).mix({$extend:{Model:{getMultimediaStatistics(e,t){return this.$build().$send({method:"GET",url:this.$url()+"/courses/"+e+"/contents/"+t+"/telemetry/reports/studentMultimediaStatistics"},(function(e){this.$unwrap(e.data)}))}}}})}]);const wi=Ie.oc;Ce.a.factory(wi,["restmod",we.c,e=>e.model(Ee.a.apiBasePath+"/v1/telemetry/notifications")]);const Ai=Ie.pc;Ce.a.factory(Ai,["restmod",we.c,e=>e.model().mix({$config:{primaryKey:"notificationId"},$url(){return Ee.a.apiBasePath+"/v1/telemetry/notifications/"+this.$pk+"/users"}})]);const Oi=Ie.qc;Ce.a.factory(Oi,["restmod",e=>e.model().mix({$config:{primaryKey:"courseId"},$url(){return Ee.a.apiBasePath+"/v1/courses/"+this.$pk+"/telemetry/reports/studentActivity"},$hooks:{"after-fetch":function(){this.studentActivity.forEach((e=>{e.date=vi(e.date),e.activity=bi(e.activity)}))}}})]);const Di=Ie.rc;Ce.a.factory(Di,["restmod",e=>e.model().mix({$config:{primaryKey:"courseId"},$url(){return Ee.a.apiBasePath+"/v1/courses/"+this.$pk+"/telemetry/reports/studentGrades"},$hooks:{"after-fetch":function(){this.studentGrades.forEach((e=>{e.date=vi(e.date)}))}}})]);const Ti=Ie.sc;Ce.a.factory(Ti,["restmod",we.c,e=>e.model().mix({$url:()=>Ee.a.apiBasePath+"/v1/telemetry/courses?filter=sufficientData"})]);var Pi,$i=n("KiLF");!function(e){e.CurrentTerm="current",e.UpcomingTerm="upcoming"}(Pi||(Pi={}));const Gi=Ie.tc;Ce.a.factory(Gi,["restmod",we.c,(e,t)=>e.model(Ee.a.apiBasePath+"/v1/terms").mix({startDate:{serialize:"date"},endDate:{serialize:"date"}})]);var ji=n("/J7e");const Li=Ie.uc,Ni="UltraUI.";Ce.a.factory(Li,["restmod",we.c,(e,t)=>{const n=Ee.a.apiBasePath+"/v1/themes";return e.model(n).mix({ui:{mask:!0},getUsePrimaryColorOnAllBaseNav(){return ji.a(this.ui.usePrimaryColorOnAllBaseNav)},setUsePrimaryColorOnAllBaseNav(e){this.ui.usePrimaryColorOnAllBaseNav=ji.a(e)?"true":"false"},getUsePrimaryColorOnLogoBackground(){return ji.a(this.ui.usePrimaryColorOnLogoBackground)},setUsePrimaryColorOnLogoBackground(e){this.ui.usePrimaryColorOnLogoBackground=ji.a(e)?"true":"false"},$config:{primaryKey:"themeId"},$extend:{Record:{$fetch(){return this.$decorate({"before-request":function(e){e.url=n+`/${this.$pk.themeId}/settings`}},(function(){return this.$super()}))},$save(){return this.$decorate({"before-request":function(e){this.settings=[],Object.keys(this.ui).forEach((e=>{this.settings.push({key:Ni+e,value:this.ui[e]})})),e.url=n+`/${this.$pk.themeId}/settings`,e.data.settings=this.settings}},(function(){return this.$super()}))}},Model:{getDefault(){return this.$new({themeId:"default"}).$fetch()}}},$hooks:{"after-feed":function(){this.settings.forEach((e=>{if(e&&e.key){const t=e.key.replace(Ni,"");this.ui[t]=e.value}}))}}})}]);const Bi=Ie.wc;Ce.a.factory(Bi,["restmod",e=>e.model().mix({$extend:{Collection:{getToolById(e){return pt.find(this,["identifier",e])},isToolAvailable(e){return this.$build().$send({method:"GET",url:`${this.$url()}/${e}`}).$allow([403]).$asPromise().then((e=>{var t;return!(!e.$response.data||!(null===(t=e.$response.data.toolEnabledSetting)||void 0===t?void 0:t.isAvailable))}))}}}})]);const Mi=Ie.Zb;Ce.a.factory(Mi,["restmod",e=>e.model().mix({isTinCan(){return!(!this.learningStandard||st.ScormLearningStandard.TINCAN!==this.learningStandard)}})]);const Ri=Ie.vc;Ce.a.factory(Ri,["restmod",we.c,(e,t)=>e.model(Ee.a.apiBasePath+"/v1/tools")]);const Fi=Ie.bc;Ce.a.factory(Fi,["restmod",we.c,(e,t)=>e.model().mix({$hooks:{"after-destroy":function(){this.previewing=!1,this.user=null}}})]);const Vi=Ie.xc;Ce.a.factory(Vi,["restmod",we.c,(e,t)=>{const n=Ee.a.apiBasePath+"/v1/trial/supportTickets";return e.model(n)}]);const _i=Ie.yc;Ce.a.factory(_i,["restmod",we.c,(e,t)=>e.model().mix({})]),n.d(t,"N",(function(){return Ui})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return Fe})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return qe})),n.d(t,"l",(function(){return We})),n.d(t,"x",(function(){return l})),n.d(t,"m",(function(){return Ye})),n.d(t,"n",(function(){return c})),n.d(t,"p",(function(){return st})),n.d(t,"o",(function(){return d})),n.d(t,"s",(function(){return u})),n.d(t,"v",(function(){return dt})),n.d(t,"q",(function(){return m})),n.d(t,"r",(function(){return p})),n.d(t,"t",(function(){return h})),n.d(t,"u",(function(){return g})),n.d(t,"w",(function(){return Dt})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return v})),n.d(t,"y",(function(){return y})),n.d(t,"z",(function(){return k})),n.d(t,"A",(function(){return qt})),n.d(t,"E",(function(){return x})),n.d(t,"C",(function(){return Xt})),n.d(t,"k",(function(){return S})),n.d(t,"D",(function(){return sn})),n.d(t,"F",(function(){return C})),n.d(t,"B",(function(){return E})),n.d(t,"G",(function(){return I})),n.d(t,"H",(function(){return w})),n.d(t,"I",(function(){return A})),n.d(t,"J",(function(){return O})),n.d(t,"K",(function(){return D})),n.d(t,"M",(function(){return T})),n.d(t,"L",(function(){return P})),n.d(t,"O",(function(){return $})),n.d(t,"P",(function(){return An})),n.d(t,"Q",(function(){return G})),n.d(t,"R",(function(){return j})),n.d(t,"V",(function(){return L})),n.d(t,"T",(function(){return N})),n.d(t,"S",(function(){return B})),n.d(t,"U",(function(){return M})),n.d(t,"W",(function(){return R})),n.d(t,"X",(function(){return F})),n.d(t,"ab",(function(){return V})),n.d(t,"gb",(function(){return _})),n.d(t,"ib",(function(){return U})),n.d(t,"Z",(function(){return H})),n.d(t,"hb",(function(){return z})),n.d(t,"eb",(function(){return q})),n.d(t,"bb",(function(){return W})),n.d(t,"db",(function(){return K})),n.d(t,"fb",(function(){return J})),n.d(t,"cb",(function(){return Q})),n.d(t,"Y",(function(){return Z})),n.d(t,"jb",(function(){return Y})),n.d(t,"kb",(function(){return X})),n.d(t,"lb",(function(){return ee})),n.d(t,"mb",(function(){return li})),n.d(t,"nb",(function(){return te})),n.d(t,"ob",(function(){return ne})),n.d(t,"pb",(function(){return ie})),n.d(t,"qb",(function(){return se})),n.d(t,"sb",(function(){return ae})),n.d(t,"tb",(function(){return oe})),n.d(t,"ub",(function(){return re})),n.d(t,"wb",(function(){return le})),n.d(t,"vb",(function(){return ce})),n.d(t,"xb",(function(){return de})),n.d(t,"yb",(function(){return ue})),n.d(t,"zb",(function(){return me})),n.d(t,"Ab",(function(){return pe})),n.d(t,"Bb",(function(){return he})),n.d(t,"Cb",(function(){return ge})),n.d(t,"Db",(function(){return be})),n.d(t,"Eb",(function(){return fe})),n.d(t,"Fb",(function(){return ve})),n.d(t,"Gb",(function(){return ye})),n.d(t,"Hb",(function(){return ke})),n.d(t,"rb",(function(){return xe})),n.d(t,"Ib",(function(){return Se})),n.d(t,"Jb",(function(){return gt}));const Ui=Ce.a.name},"po/h":function(e,t){e.exports='<div class="base-grades course-grades-instructor" ng-class="{\'grades-list-view\': courseGradesGrader.isGradableItemsListView}">\n  <div ng-if="courseGradesGrader.isDesktop && !courseGradesGrader.isSmallScreen" class="guidance-wrapper"\n    aria-describedby="guidance-moment-grade-settings">\n\n    <div class="row collapse course-grades-header-buttons-wrapper js-course-skip-link-target" tabindex="-1">\n      <div class="gradebook-toolbar group-filters">\n        <bb-square-toggle one-icon-class="toggle-table"\n                          one-aria-label="components.directives.grade.course-grades-grader.views.list-button"\n                          one-view-value="list"\n                          two-icon-class="toggle-grid"\n                          two-aria-label="components.directives.grade.course-grades-grader.views.grid-button"\n                          two-view-value="grid"\n                          property="courseGradesGrader.squareToggleValue"\n                          analytics-id-tag-prefix="components.directives.grade.view.courseGrader"\n                          class="toggle-group-filters-enabled">\n        </bb-square-toggle>\n\n        <div class="gradebook-options">\n          <div class="grade-grid-search-box group-filters" ng-if="courseGradesGrader.isGridView">\n            <bb-typeahead-search-box id="student-search-box"\n                                    item-selected="courseGradesGrader.itemSelected(item)"\n                                    type-ahead-search="courseGradesGrader.typeAheadSearch(searchText)"\n                                    clear-search="courseGradesGrader.clearSelection()"\n                                    input-placeholder="components.directives.grade.search-box.placeholder"\n                                    sr-empty-results="components.directives.grade.search-box.emptyResults"\n                                    sr-results-found="components.directives.grade.search-box.resultsFound"\n                                    sr-no-results-found="components.directives.grade.search-box.noResultsFound"\n                                    sr-label="components.directives.grade.search-box.placeholder"\n                                    clear-aria-label="components.directives.grade.search-box.clear"\n                                    icon="search">\n\n                  <ng-switch on="item.type">\n                    <div ng-switch-when="user" class="element-card">\n                      <bb-user-avatar class="typeahead-user-avatar" user="::item.data.user"></bb-user-avatar>\n                      <div class="typeahead-student-name-id">\n                        <bb-username class="typeahead-name ellipse" user="item.data.user" has-title-attr="true"></bb-username>\n                        <div class="typeahead-id ellipse">{{::item.data.user.userName}}</div>\n                      </div>\n                    </div>\n                    <div ng-switch-when="column" class="element-card">\n                      <div bb-content-item-icon content-column="item.data.getMetadata()" show-alert-icon="item.data.getMetadata().getNumMissingIfLate() > 0" class="element-image" ng-if="item.data.getMetadata()"></div>\n                      <div class="typehead-title column-title ellipse">\n                        <div class="ellipse grade-title">{{::item.data.getMetadata().columnName}}</div>\n                        <div class="ellipse grade-type" bb-translate>components.directives.grade.search-box.columnName</div>\n                      </div>\n                    </div>\n                    <div ng-switch-when="category" class="element-card">\n                        <bb-ui-icon-large-document-multiple color="primary"></bb-ui-icon-large-document-multiple>\n                        <div class="typehead-title category-title ellipse">\n                          <div bb-translate class="ellipse grade-title" ng-if="::!item.data.getMetadata().gradebookCategory.isUserDefined">{{::item.data.getMetadata().gradebookCategory.localizableTitle.languageKey}}</div>\n                          <div bb-translate class="ellipse grade-title" ng-if="::item.data.getMetadata().gradebookCategory.isUserDefined">{{::item.data.getMetadata().gradebookCategory.title.split(\'.\')[0]}}</div>\n                          <div class="ellipse grade-type" bb-translate>components.directives.grade.search-box.category</div>\n                        </div>\n                    </div>\n                    <div ng-switch-default="noResult" class="element-card">\n                      <div class="no-result" bb-translate>components.directives.grade.search-box.noResultsFound</div>\n                  </div>\n                </ng-switch>\n            </bb-typeahead-search-box>\n          </div>\n          <bb-gradebook-advanced-filters-ftue ng-if="courseGradesGrader.isGridView && courseGradesGrader.showGradeListContainer()">\n          </bb-gradebook-advanced-filters-ftue>\n          <div ng-if="courseGradesGrader.isGridView && courseGradesGrader.showGradeListContainer()">\n            <a class="filter-panel-button super-clear button" bb-guidance-target component-key="grades.grader.search.filter"\n              bb-translate-attrs="{\'aria-label\': \'components.directives.grade.course-grades-grader.actions.openAdvancedFilters\'}"\n              bb-peek-sref="gradebook-grid-advanced-filters" analytics-id="components.directives.grade.search.filter.button">\n              <bb-ui-icon-small-filter-options class="group-filters-icon"></bb-ui-icon-small-filter-options>\n              <span bb-translate>components.directives.grade.course-grades-grader.actions.filter</span>\n            </a>\n          </div>\n\n          <div ng-if="courseGradesGrader.userHasViewGradebookPermission">\n            <a class="open-attempt-receipt-search button super-clear"\n              bb-translate-attrs="{\'aria-label\': \'components.directives.grade.course-grades-grader.actions.attemptReceiptSearch\', \'title\':\'components.directives.grade.course-grades-grader.actions.attemptReceiptSearch\'}"\n              bb-peek-sref="attempt-receipt-search"\n              analytics-id="components.directives.grade.actions.openAttemptReceiptSearch.link">\n              <bb-ui-icon-medium-content-view></bb-ui-icon-medium-content-view>\n            </a>\n          </div>\n\n          <div ng-if="courseGradesGrader.canUploadGradebook">\n            <a class="open-upload-settings button super-clear"\n              bb-translate-attrs="{\'aria-label\': \'components.directives.grade.course-grades-grader.actions.upload\', \'title\': \'components.directives.grade.course-grades-grader.actions.upload\'}"\n              bb-peek-sref="grade-upload-setting"\n              ng-if="!courseGradesGrader.course.isComplete()"\n              analytics-id="components.directives.grade.actions.upload.link">\n              <bb-ui-icon-small-upload></bb-ui-icon-small-upload>\n            </a>\n          </div>\n\n          <div ng-if="courseGradesGrader.canDownloadGradebook">\n            <a class="open-downLoad-settings button super-clear"\n              bb-translate-attrs="{\'aria-label\': \'components.directives.grade.course-grades-grader.actions.download\', \'title\': \'components.directives.grade.course-grades-grader.actions.download\'}"\n              bb-peek-sref="grade-download-setting"\n              ng-if="!courseGradesGrader.course.isComplete()"\n              analytics-id="components.directives.grade.actions.download.link">\n              <bb-ui-icon-small-download></bb-ui-icon-small-download>\n            </a>\n          </div>\n\n          <div ng-if="courseGradesGrader.userHasViewGradebookPermission" course-id="course.model.id">\n            <a class="open-gradebook-settings button super-clear js-open-settings"\n              bb-guidance-target component-key="grades.grader.course.settings"\n              bb-translate-attrs="{\'aria-label\': \'components.directives.grade.course-grades-grader.actions.openSettings\', \'title\': \'components.directives.grade.course-grades-grader.actions.openSettings\'}"\n              bb-peek-sref="grade-setting"\n              analytics-id="components.directives.grade.actions.openSettings.link">\n              <bb-ui-icon-medium-settings></bb-ui-icon-medium-settings>\n            </a>\n          </div>\n        </div>\n      </div>\n      <bb-filter-chips\n        ng-if="courseGradesGrader.isGridView && courseGradesGrader.hasUrlFilters"\n        analytics-id="gradebook.grid.filters">\n      </bb-filter-chips>\n    </div>\n    <bb-guidance id="guidance-moment-grade-settings" component-key="grades.grader.course.settings" class="guidance-element-overlay push-bottom"\n      role="tooltip">\n      <p>\n        <bb-translate>components.directives.grade.course-grades-grader.ftue.setting</bb-translate>\n      </p>\n    </bb-guidance>\n\n  </div>\n  <bb-gradebook-list-view-tabs\n    on-tab-changed="courseGradesGrader.changeListViewType"\n    selected-tab="courseGradesGrader.currentTabId"\n    ng-if="!courseGradesGrader.isGridView"\n  ></bb-gradebook-list-view-tabs>\n\n  <div ng-if="courseGradesGrader.isGridView || courseGradesGrader.isGradableItemsListView">\n    \x3c!-- Empty state template: this section of the page will be displayed when there is no content, and will invite users to create content --\x3e\n    <div class="is-empty-page js-course-skip-link-target"\n         ng-if="courseGradesGrader.columns.$resolved && courseGradesGrader.columns.length === 0 && !courseGradesGrader.hasUrlFilters">\n      <div class="is-empty-wrapper">\n        <div class="is-empty-explanation">\n          <img src="./static/images/ftue/course-grades-instructor.svg" bb-translate-attrs="{alt: \'components.directives.grade.course-grades-grader.empty.addItems\'}" />\n          <h1 class="is-empty-heading" bb-translate>components.directives.grade.course-grades-grader.empty.header</h1>\n          <p bb-translate>components.directives.grade.course-grades-grader.empty.description</p>\n        </div>\n        <div class="add-element">\n          <ul role="menu" class="element-list-add-menu small-block-grid-1 medium-block-grid-3 large-block-grid-4">\n            <li>\n              <a role="menuitem" bb-translate-attrs="{\'aria-label\': \'components.directives.grade.course-grades-grader.empty.addCalculation\'}"\n                 bb-peek-sref="gradebook-item.calculation" analytics-id="components.directives.grade.addCalculation.link">\n                <div>\n                  <bb-svg-icon size="small" icon="add"></bb-svg-icon>\n                  <span bb-translate>components.directives.grade.course-grades-grader.empty.addCalculation</span>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a role="menuitem" class="js-empty-add-item" bb-translate-attrs="{\'aria-label\': \'components.directives.grade.course-grades-grader.empty.addItem\'}"\n                 bb-peek-sref="grade-item.create" analytics-id="components.directives.addItem.link">\n                <div>\n                  <bb-svg-icon size="small" icon="add"></bb-svg-icon>\n                  <span bb-translate>components.directives.grade.course-grades-grader.empty.addItem</span>\n                </div>\n              </a>\n            </li>\n            <li ng-if="courseGradesGrader.attendanceIsAvailable">\n              <a role="menuitem" bb-translate-attrs="{\'aria-label\': \'components.directives.grade.course-grades-grader.empty.addAttendance\'}"\n                 bb-peek-sref="attendance" analytics-id="components.directives.grade.addAttendance.link">\n                <div>\n                  <bb-svg-icon size="small" icon="add"></bb-svg-icon>\n                  <span bb-translate>components.directives.grade.course-grades-grader.empty.addAttendance</span>\n                </div>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n\n    <div class="grade-list-container"\n         ng-if="courseGradesGrader.isGradableItemsListView && courseGradesGrader.showGradeListContainer()">\n      <div class="spinner bb-secondary-color-2" ng-if="!courseGradesGrader.columns" aria-hidden="true"></div>\n      <div bb-infinite-scroll="courseGradesGrader.renderMoreColumns()"\n           infinite-scroll-container="\'.bb-offcanvas-panel-wrap .panel-wrap\'"\n           infinite-scroll-current-count="courseGradesGrader.columns.length"\n           infinite-scroll-focusable-children-selector=".grader-column .name a, .floating-headers .item-headers .grade-grid-header-content-wrapper"\n           infinite-scroll-load-limit="courseGradesGrader.GRADE_COLUMN_LOAD_LIMIT"\n           infinite-scroll-localization-keys-prefix="components.directives.grade.course-grades-grader.infiniteScroll"\n           infinite-scroll-total-count="courseGradesGrader.totalColumnCount"\n           infinite-scroll-tray-id="course-grades-grader">\n        <bb-course-grades-grader-list course="courseGrades.course"\n                                      is-first="true"\n                                      columns="courseGradesGrader.columns"\n                                      show-setup-overall-column="courseGradesGrader.showSetupOverallColumn"\n                                      attendance-is-available="courseGradesGrader.attendanceIsAvailable"\n                                      on-click-sort-icon="courseGradesGrader.onClickSortIcon(headerName)"\n                                      sort-attributes="courseGradesGrader.sortAttributes">\n        </bb-course-grades-grader-list>\n      </div>\n    </div>\n\n    <div class="grade-grid-content"\n         ng-if="courseGradesGrader.isGridView && courseGradesGrader.showGradeListContainer()">\n      <div>\n        <bb-grade-grid-reborn course="courseGrades.course"\n                              columns="courseGradesGrader.visibleColumns"\n                              attendance-is-available="courseGradesGrader.attendanceIsAvailable"\n                              merged-courses="courseGradesGrader.mergedCourses"\n                              ng-show="!courseGradesGrader.areFilterResultsEmpty">\n        </bb-grade-grid-reborn>\n        <div class="is-empty-page advanced-filters"\n            ng-if="courseGradesGrader.areFilterResultsEmpty">\n          <div class="is-empty-wrapper">\n            <div class="is-empty-explanation">\n              <h1 class="is-empty-heading" bb-translate>components.directives.grade.course-grades-grader.empty.advancedFilters.header</h1>\n              <p bb-translate>components.directives.grade.course-grades-grader.empty.advancedFilters.description</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Student List View handles its own loading indicator and empty state --\x3e\n  <div ng-if="courseGradesGrader.isStudentListView" class="student-list-view-container">\n    <bb-student-list-view class="react-container"\n                          course-id="courseGrades.course.id">\n    </bb-student-list-view>\n  </div>\n</div>\n'},pqmn:function(e,t,n){"use strict";var i=n("nbDY"),s=n.n(i);class a extends s.a{}a.ROOT=new a("ROOT"),a.INTERACTIVE=new a("INTERACTIVE"),a.INDIRECT=new a("INDIRECT"),t.a=a},px9Z:function(e,t,n){},"q/wk":function(e,t,n){"use strict";var i=n("td+C"),s=n("adx1"),a=n("oPIA"),o=n("v6Sp"),r=n("x9Ok"),l=n("TWlR");class c extends s.a{constructor(e,t,n){super(),this.integrationService=e,this.routeListenerService=t,this.createMessenger=n,this.updateRoute=e=>{this.currentRoute=e},this.registerAsHelpProvider=(e,t)=>{const n=o.c.getHelpProvider(e.id);if(!e.id||n)return n?console.warn(`Cannot register provider: Provider already exists with an id of ${e.id}`):console.warn("Cannot register provider: no id was specified"),void this.integrationService.sendMessage({type:a.m,id:e.id,status:a.r.Failure},t);const i={iconUrl:e.iconUrl,providerId:e.id,providerType:e.providerType,integrationId:t.id,displayName:e.displayName};o.c.addHelpProvider(i),this.integrationService.sendMessage({type:a.m,id:e.id,status:a.r.Success,iconUrl:e.iconUrl},t);const s=o.c.getProviderByType(a.o.Auxiliary),r=o.c.getProviderByType(a.o.Primary);this.$emitEvent(this.helpChangedEvent,{auxiliaryProviders:s,primaryProviders:r})},this.helpChangedEvent="helpChanged",this.routeListenerService.subscribe(this.updateRoute)}init(){this.integrationService.addIntegrationMessageType(a.m,this.registerAsHelpProvider),this.helpRequestMessenger=this.createMessenger(a.n,{includeProcessingEvent:!1})}async sendHelp(e,t){await this.helpRequestMessenger.sendMessage({type:a.j,eventType:a.n,helpUrl:t,currentRouteName:this.currentRoute},e)}}t.a=new c(i.a,r.b,l.a)},q0yA:function(e,t){e.exports='<div bb-foundation-defer bb-load-bundle="components/directives/content-visibility" dev-suppress-hide="true">\n  <div class="panel-block restricted-form content-visibility-rules-container">\n    <div class="row collapse">\n      <div class="columns small-12 js-from-checkbox">\n        <input type="checkbox"\n               ng-model="contentVisibilityRulesOptions.startDateSelect"\n               class="from-check"\n               id="from-check-{{contentVisibilityRulesOptions.id}}"\n               name="fromCheck"\n               ng-change="contentVisibilityRulesOptions.handleCheckClick(\'from-check\')"\n               ng-show="!isReadOnlyMode()"\n               analytics-id="content.visibility.rules.options.startDateSelect.input.checkbox"/>\n        <label class="date-time-label" for="from-check-{{contentVisibilityRulesOptions.id}}" ng-show="!isReadOnlyMode()"\n          bb-translate>components.directives.content-visibility.startDate</label>\n        <label class="date-time-label"\n          ng-show="isReadOnlyMode() && (contentVisibilityRulesOptions.startDateSelect || isAllowedEmpty)"\n          bb-translate>\n          components.directives.content-visibility.startDate\n        </label>\n      </div>\n      <div\n        ng-show="contentVisibilityRulesOptions.startDateSelect || !isReadOnlyMode() || (isAllowedEmpty && isReadOnlyMode())"\n        class="columns small-12">\n        <div class="row collapse date-time-inputs" ng-class="{\'read-only-fields\': isReadOnlyMode()}">\n          <div class="columns small-6 js-date-input-container {{contentVisibilityRulesOptions.dateFromContainer}}"\n            ng-class="{\'read-only-form-field\': isReadOnlyMode(), \'form-field-disabled\': contentVisibilityRulesOptions.timeDateFromDisabled}">\n            \x3c!-- htmlhint:analytics-id:disable --\x3e\n            <input id="date-from"\n                   bb-date-picker\n                   orientation="auto left"\n                   container=".{{contentVisibilityRulesOptions.dateFromContainer}}"\n                   ng-model="startDate" name="dateFrom" aria-describedby="date-from-error"\n                   ng-model-options="{ allowInvalid: true }"\n                   first-day-of-week="contentVisibilityRulesOptions.localeSettings.calendar.firstDayOfWeek"\n                   bb-validate-date\n                   ng-class="{\'read-only-field\': isReadOnlyMode()}"\n                   ng-attr-bb-focus="contentVisibilityRulesOptions.shouldFocus(\'start-date\')"\n                   ng-blur="contentVisibilityRulesOptions.updateStartAndEndTime()"\n                   ng-required="contentVisibilityRulesOptions.isDateRequired(true)"\n                   ng-change="contentVisibilityRulesOptions.updateStartAndEndTime()"\n                   ng-disabled="contentVisibilityRulesOptions.timeDateFromDisabled"\n                   bb-translate-attrs="{\'aria-label\': \'components.directives.content-visibility.startDateAria\',\n                       \'placeholder\': \'components.directives.content-visibility.datePlaceholder\'}"\n                   analytics-id="content.visibility.rules.options.startDate.input.text"/>\n              \x3c!-- htmlhint:analytics-id:enable --\x3e\n          </div>\n          <div class="columns small-6 input group"\n            ng-class="{\'read-only-form-field\': isReadOnlyMode(), \'form-field-disabled\': contentVisibilityRulesOptions.timeDateFromDisabled}">\n            <bb-time-picker name="timeFrom"\n                            id="time-from"\n                            aria-describedby="time-from-error"\n                            invalid-validation-key="time"\n                            analytics-id="content.visibility.rules.options.startDate.input.text"\n                            ng-model="startTime"\n                            disabled="contentVisibilityRulesOptions.timeDateFromDisabled"\n                            bb-translate-attrs="{\'aria-label\': \'components.directives.content-visibility.startTimeAria\',\n                                \'placeholder\': \'components.directives.content-visibility.timePlaceholder\'}"\n            ></bb-time-picker>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="row collapse">\n      <div class="columns small-12">\n        <div bb-validation-messages for="dateFrom" class="row collapse" id="date-from-error">\n            <span ng-message="required">\n                <bb-translate>components.directives.content-visibility.startDateError</bb-translate>\n              </span>\n          <span ng-message="date" bb-translate>\n            {{::contentVisibilityRulesOptions.setErrorString(true, true)}}\n          </span>\n          <span ng-message="startAndOrEndDate">\n            <bb-translate>components.directives.content-visibility.startAndOrEndDateError</bb-translate>\n          </span>\n          <span ng-message="startAndOrEndDateOnsubmit">\n            <bb-translate>components.directives.content-visibility.startAndOrEndDateError</bb-translate>\n          </span>\n          <span ng-message="startBeforeDueDate">\n            <bb-translate>components.directives.content-visibility.dueDateBeforeError</bb-translate>\n          </span>\n          <span ng-transclude="customStartDateAndTimeValidationMessages"></span>\n        </div>\n      </div>\n      <div bb-validation-messages for="timeFrom" class="row collapse" id="time-from-error">\n          <span ng-message="required">\n              <bb-translate>components.directives.content-visibility.startTimeError</bb-translate>\n          </span>\n        <span ng-message="time">\n            {{::contentVisibilityRulesOptions.setErrorString(false, true)}}\n        </span>\n        <span ng-message="required">\n          <bb-translate>components.directives.content-visibility.startTimeError</bb-translate>\n        </span>\n        <span ng-transclude="customStartDateAndTimeValidationMessages"></span>\n      </div>\n    </div>\n    <div class="row collapse">\n      <div class="columns small-12 js-until-checkbox">\n        <input type="checkbox"\n               ng-model="contentVisibilityRulesOptions.untilDateSelect"\n               class="until-check"\n               id="until-check-{{contentVisibilityRulesOptions.id}}"\n               name="untilCheck"\n               ng-change="contentVisibilityRulesOptions.handleCheckClick(\'until-check\')"\n               ng-show="!isReadOnlyMode()"\n               analytics-id="content.visibility.rules.options.untilDate.input.checkbox"/>\n        <label class="date-time-label" for="until-check-{{contentVisibilityRulesOptions.id}}"\n          ng-show="!isReadOnlyMode()" bb-translate>components.directives.content-visibility.endDate</label>\n        <label class="date-time-label"\n          ng-show="isReadOnlyMode() && (contentVisibilityRulesOptions.untilDateSelect || isAllowedEmpty)" bb-translate>\n          components.directives.content-visibility.endDate\n        </label>\n      </div>\n      <div\n        ng-show="contentVisibilityRulesOptions.untilDateSelect || !isReadOnlyMode() || (isAllowedEmpty && isReadOnlyMode())"\n        class="columns small-12">\n        <div class="row collapse date-time-inputs" ng-class="{\'read-only-fields\': isReadOnlyMode()}">\n          <div class="columns small-6 js-date-input-container {{contentVisibilityRulesOptions.dateUntilContainer}}"\n            ng-class="{\'read-only-form-field\': isReadOnlyMode(), \'form-field-disabled\': contentVisibilityRulesOptions.timeDateUntilDisabled}">\n            \x3c!-- htmlhint:analytics-id:disable --\x3e\n            <input id="date-until"\n                   bb-date-picker\n                   orientation="auto left"\n                   container=".{{contentVisibilityRulesOptions.dateUntilContainer}}"\n                   ng-model="endDate"\n                   ng-model-options="{ allowInvalid: true }"\n                   first-day-of-week="contentVisibilityRulesOptions.localeSettings.calendar.firstDayOfWeek"\n                   bb-validate-date\n                   name="dateUntil"\n                   aria-describedby="date-until-error" ng-class="{\'read-only-field\': isReadOnlyMode()}"\n                   ng-attr-bb-focus="contentVisibilityRulesOptions.shouldFocus(\'end-date\')"\n                   ng-blur="contentVisibilityRulesOptions.updateStartAndEndTime()"\n                   ng-change="contentVisibilityRulesOptions.updateStartAndEndTime()"\n                   ng-required="contentVisibilityRulesOptions.isDateRequired(false)"\n                   ng-disabled="contentVisibilityRulesOptions.timeDateUntilDisabled"\n                   bb-translate-attrs="{\'aria-label\': \'components.directives.content-visibility.endDateAria\',\n                       \'placeholder\': \'components.directives.content-visibility.datePlaceholder\'}"\n                   analytics-id="content.visiblity.rules.options.endDate.input.input.text"/>\n            \x3c!-- htmlhint:analytics-id:enable --\x3e\n          </div>\n          <div class="columns small-6 input group"\n            ng-class="{\'read-only-form-field\': isReadOnlyMode(), \'form-field-disabled\': contentVisibilityRulesOptions.timeDateUntilDisabled}">\n            <bb-time-picker name="timeUntil"\n                            id="time-until"\n                            aria-describedby="time-until-error"\n                            analytics-id="content.visibility.rules.options.endDate.input.text"\n                            ng-model="endTime"\n                            disabled="contentVisibilityRulesOptions.timeDateUntilDisabled"\n                            invalid-validation-key="time"\n                            bb-translate-attrs="{\'aria-label\': \'components.directives.content-visibility.endTimeAria\',\n                                \'placeholder\': \'components.directives.content-visibility.timePlaceholder\'}"\n            ></bb-time-picker>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="row collapse">\n      <div class="columns small-12">\n        <div bb-validation-messages for="dateUntil" class="row collapse" id="date-until-error">\n          <span ng-message="required">\n            <bb-translate>components.directives.content-visibility.endDateError</bb-translate>\n          </span>\n          <span ng-message="date">\n            {{::contentVisibilityRulesOptions.setErrorString(true, false)}}\n          </span>\n          <span ng-message="requiredOnsubmit">\n            <bb-translate>components.directives.content-visibility.endDateError</bb-translate>\n          </span>\n          <span ng-message="untilAfterStart">\n            <bb-translate>components.directives.content-visibility.endDateBeforeError</bb-translate>\n          </span>\n          <span ng-message="untilAfterStartOnsubmit">\n            <bb-translate>components.directives.content-visibility.endDateBeforeError</bb-translate>\n          </span>\n          <span ng-message="untilDueDate">\n            <bb-translate>components.directives.content-visibility.dueDateAfterError</bb-translate>\n          </span>\n          <span ng-message="subsequentDueDate">\n            <bb-translate>components.directives.content-visibility.subsequentDueDateAfterError</bb-translate>\n          </span>\n          <span ng-transclude="customEndDateAndTimeValidationMessages"></span>\n        </div>\n      </div>\n      <div bb-validation-messages for="timeUntil" class="row collapse" id="time-until-error">\n        <span ng-message="time">\n           {{::contentVisibilityRulesOptions.setErrorString(false, false)}}\n        </span>\n        <span ng-message="required">\n          <bb-translate>components.directives.content-visibility.endTimeError</bb-translate>\n        </span>\n        <span ng-transclude="customEndDateAndTimeValidationMessages"></span>\n      </div>\n    </div>\n  </div>\n</div>\n'},q4pc:function(e,t){e.exports='<bb-modal id="notification-modal-api-error"\n          class="notification"\n          modal-title-key="components.services.error-modal.error-too-long.title"\n          analytics-id-tag-prefix="components.services.error-modal.error-too-long">\n  <div name="modal-contents">\n    <p bb-translate>components.services.error-modal.error-too-long.description</p>\n    <bb-session-debug-modal-button></bb-session-debug-modal-button>\n  </div>\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button js-primary-button"\n          analytics-id="components.services.error-modal.dismiss"\n          bb-translate>components.services.error-modal.dismiss</button>\n</bb-modal>\n'},qDdO:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-class-pulse-future",use:"icon-small-class-pulse-future-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-class-pulse-future"><path d="M9 14c0 .5523-.4477 1-1 1s-1-.4477-1-1 .4477-1 1-1 1 .4477 1 1zM11 6.5a.5.5 0 11-1 0 .5.5 0 011 0zM5.5 9.5a.5.5 0 11-1 0 .5.5 0 011 0z" stroke-width="2" /><path d="M15 11l-4.5-4.5-5.5 3-4-2.357" stroke-width="2" /><path d="M9 2c0 .5523-.4477 1-1 1s-1-.4477-1-1 .4477-1 1-1 1 .4477 1 1z" stroke-width="2" /><path d="M15 2H1v12h14V2z" stroke-width="2" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},qH3X:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const i="rb_grade_grid_",s={REFRESH_OVERALL_EDITOR:`${i}refresh_overall_editor`,REFRESH_CELL_EDITOR:`${i}refresh_cell_editor`,SELECT_GROUP:`${i}select_group`,REFRESH:`${i}refresh`,FOCUSIN_CELL:`${i}focusin`,FOCUSOUT_CELL:`${i}focusout`,ENTER_EDITOR:`${i}enter_editor`,CLOSE_EDITOR:`${i}close_editor`,ADVANCED_FILTERS_COLUMNS:`${i}advanced-filter-columns`,ADVANCED_FILTERS_ROWS:`${i}advanced-filter-rows`,GRADEBOOK_CLEAR_SEARCHBOX_SELECTION:`${i}gradebook-clear-searchbox-selection`,GRADEBOOK_USER_SELECTED:`${i}gradebook-user-selected`,GRADEBOOK_COLUMN_SELECTED:`${i}gradebook-column-selected`,GRADEBOOK_CATEGORY_SELECTED:`${i}gradebook-category-selected`}},qOsI:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("PCGa");var i=n("Llzl"),s=n("0JpG"),a=n("TnpK"),o=n("nmzr");const r="ultra.base.calendar.routes";i.module(r,[s.moduleName,a.b]).config([a.c,e=>{e.peekState(o.f.CALENDAR_SETTINGS,{url:"/settings",resolve:{translations:[s.serviceName,e=>e.loadBundle("features/base/calendar/base-calendar")]},require:()=>n.e(657).then(n.bind(null,"OHPy")),pageTitle:"base.calendar.settings.title"}).peekState(o.f.CREATE_EVENT,{url:"/event/create?selectedDate?calendarId",resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/base/calendar/base-calendar"),t.loadBundle("components/directives/panel-header"),t.loadBundle("components/directives/close-without-saving-modal")])]},onExit:["$rootScope",e=>{e.$broadcast("calendar-refresh")}],require:()=>Promise.all([n.e(26),n.e(22),n.e(31),n.e(39),n.e(78)]).then(n.bind(null,"V4Gf")),pageTitle:"base.calendar.create.addEvent"}).peekState(o.f.EDIT_EVENT,{url:"/event/edit/:calendarId/:itemSourceType/:itemSourceId?updateSeries&repeatRuleType&repeatRuleCourseId&repeatRuleUserId",resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/base/calendar/base-calendar"),t.loadBundle("components/directives/panel-header"),t.loadBundle("components/directives/close-without-saving-modal")])]},onExit:["$rootScope",e=>{e.$broadcast("calendar-refresh")}],require:()=>Promise.all([n.e(26),n.e(22),n.e(31),n.e(39),n.e(78)]).then(n.bind(null,"V4Gf")),pageTitle:"base.calendar.create.editEvent"}).peekState(o.f.VIEW_EVENT,{url:"/event/view/:calendarId/:itemSourceType/:itemSourceId?repeatRuleType&repeatRuleCourseId&repeatRuleUserId",resolve:{translations:[s.serviceName,e=>e.loadBundle("features/base/calendar/base-calendar")]},require:()=>Promise.all([n.e(22),n.e(658)]).then(n.bind(null,"dWqS")),pageTitle:"base.calendar.create.viewEvent"}).peekState(o.f.COURSE_SCHEDULE,{url:"/class-schedule?selectedDate&courseId",resolve:{translations:[s.serviceName,e=>e.loadBundle("features/base/calendar/base-calendar")]},onExit:["$rootScope",e=>{e.$broadcast("calendar-refresh")}],require:()=>Promise.all([n.e(22),n.e(39),n.e(628)]).then(n.bind(null,"TayV")),pageTitle:"base.calendar.schedule.classSchedule"}).peekState(o.f.OFFICE_HOURS,{url:"/office-hours?selectedDate?calendarId",resolve:{translations:["$q",s.serviceName,(e,t)=>e.all([t.loadBundle("features/base/calendar/base-calendar"),t.loadBundle("components/directives/panel-header"),t.loadBundle("components/directives/close-without-saving-modal")])]},onExit:["$rootScope",e=>{e.$broadcast("calendar-refresh")}],require:()=>Promise.all([n.e(26),n.e(22),n.e(31),n.e(39),n.e(78)]).then(n.bind(null,"V4Gf")),pageTitle:"base.calendar.addOfficeHours"})}])},qZC8:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="course.placements.inlineGradableModalTitle"\n          analytics-id-tag-prefix="course.placements.basePlacement">\n  <div name="modal-contents">\n    <p bb-translate>course.placements.inlineGradableSupport</p>\n  </div>\n  \x3c!-- htmlhint:analytics-id:disable --\x3e\n  <button name="modal-footer-button-primary"\n          ng-click="dismissCallback()"\n          class="button js-primary-button"\n          bb-translate\n          analytics-id="course.placements.basePlacement.ok.button">\n    global.ok\n  </button>\n  \x3c!-- htmlhint:analytics-id:enable --\x3e\n</bb-modal>'},qhd3:function(e,t,n){"use strict";n.r(t),n.d(t,"sortCompareUsers",(function(){return m})),n.d(t,"serviceName",(function(){return p})),n.d(t,"USER_API_PATH",(function(){return h}));n("QLzv");var i=n("nsO7"),s=n("Llzl"),a=n("5MwF"),o=n("Rjd/"),r=n("yCC5"),l=n("nkTj"),c=n("g66W"),d=n("cYWG"),u=n("zGdY");function m(e,t){if(!e&&!t)return 0;if(e&&!t)return-1;if(!e&&t)return 1;if(e&&t){if(e.familyName&&!t.familyName)return-1;if(!e.familyName&&t.familyName)return 1;if((e.familyName||t.familyName)&&e.familyName!==t.familyName)return e.familyName&&t.familyName?e.familyName.localeCompare(t.familyName):0;if(!e.givenName&&!t.givenName)return 0;if(e.givenName&&!t.givenName)return-1;if(!e.givenName&&t.givenName)return 1;if(!e.givenName&&!t.givenName||e.givenName===t.givenName){if(e.userName&&!t.userName)return-1;if(!e.userName&&t.userName)return 1;if(!e.userName&&!t.userName)return 0;if(e.userName&&t.userName)return e.userName.localeCompare(t.userName)}else if(e.givenName&&t.givenName)return e.givenName.localeCompare(t.givenName)}return 0}const p=r.zc,h=a.a.apiBasePath+"/v1/users";o.a.factory(p,["$http","restmod","$q",l.c,(e,t,n,a)=>{const o=t.model(h).mix({calendarItems:{hasMany:r.Eb},memberships:{hasMany:r.N,hooks:{"before-fetch-many":function(t){t.params=t.params||{},i.isUndefined(t.params.includeCount)&&(t.params.includeCount=!0);const n=t.params.limit,a=t.params.offset,o=(t,i,r)=>e.get(t,{params:i}).then((e=>{if(!(e&&200===e.status&&e.data&&e.data.results&&e.data.paging))return e;r=r||[];const i=e.data.results,l=e.data.paging;if(!((r=r.concat(i)).length>=n||i.length<l.limit)){const i=s.extend(s.copy(e.config.params),{offset:(a||0)+r.length});return r.length<n&&(i.limit=n-r.length),delete i.includeCount,o(t,i,r)}return e.data.results=r,e.data.paging.limit=n,e.data.paging.offset=a,e}));t.cache={get:()=>o(t.url,t.params)}}}},blocks:{hasMany:r.h},birthDate:{encode:e=>new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)),decode:e=>{const t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0,0)}},isGuest(){return Array.isArray(this.systemRoles)&&this.systemRoles[0]===u.X.Guest},isAnonymousStudent(){return this.ui&&this.ui.anonymousStudent},isInstructor(){return this.memberships.some((e=>e.isActAsInstructorMembership()))},isStudent(){return this.memberships.some((e=>e.isStudentMembership()))},getInitials(){if(this.givenName&&this.familyName&&!c.g(this.givenName)&&!c.g(this.familyName)&&!c.h(this.givenName)&&!c.h(this.familyName))return(""+this.givenName.charAt(0)+this.familyName.charAt(0)).toLowerCase()},$extend:{Collection:{batchGetCollection(e){const t=n.defer();return this.$collection().$send({method:"PUT",url:this.$url(),data:e},(e=>{t.resolve(e.data)}),(e=>{t.reject(e)})),t.promise}}}});return o.getUserConfiguration=function(){const e=n.defer();return this.$collection().$send({method:"GET",url:this.$url()+"/fieldsConfiguration",params:{visibleOnly:!0,[d.a]:Number.MAX_VALUE}},(t=>{e.resolve(t.data)}),(t=>{e.reject(t)})),e.promise},o.mixinUsers=a.getDataMixin(((e,t)=>o.findMany(e,t,[404])),"userId","user"),o.getAnonymousStudent=e=>o.$build({id:e,familyName:"",givenName:"",ui:{anonymousStudent:!0,anonymousStudentId:e}}),o}])},qiBf:function(e,t,n){"use strict";var i=n("ERkP"),s=n.n(i),a=n("VQ4P"),o=n("Oa+x"),r=n("np6O"),l=n("4vxQ"),c=n("/n7R"),d=n("Agfx");const u=Object(d.makeStyles)((e=>Object(d.createStyles)({sessionDebugButton:{width:"100%","& input":{borderWidth:"0px",marginBottom:"0px"},"& .copyButton":{minWidth:"0px",paddingLeft:"10px"}},errorText:{color:e.palette.error.main,fontSize:e.typography.fontSizeSmall,textAlign:"left"}})));var m=n("uDfI"),p=n("IbyE");var h=n("GIU+");var g=n("mMhX"),b=n("w8C8");const f=Object(d.makeStyles)((e=>Object(d.createStyles)({checkmark:{color:e.palette.success.main}}))),v=e=>{const{isTextCopied:t}=e,n=f().checkmark;return t?i.createElement(g.Check,{className:n}):i.createElement(b.a,null)};var y=n("7O4Y"),k=n("zGdY");n.d(t,"a",(function(){return x}));const x=e=>{const{ariaDescribedby:t,sessionDebug:n}=e,d=Object(a.a)(),{sessionDebugButton:g,errorText:b}=u(),{submitSessionDebug:f,isUpdating:x,logCode:S,submissionErrorCode:C}=(()=>{const e=Object(m.d)();Object(i.useEffect)((()=>{e(p.X.sessionDebug.resetSessionDebugState())}),[e]);const t=Object(m.e)(p.gc.sessionDebug.isUpdating),n=Object(m.e)(p.gc.sessionDebug.getLogCode),s=Object(m.e)(p.gc.sessionDebug.getSubmissionErrorCode);return{submitSessionDebug:Object(i.useCallback)((t=>{e(p.X.sessionDebug.submitSessionDebug(t))}),[e]),isUpdating:t,logCode:n,submissionErrorCode:s}})(),[E,I]=(()=>{const[e,t]=Object(i.useState)(!1);return[e,Object(i.useCallback)((e=>{Object(h.a)(e),t(!0)}),[]),Object(i.useCallback)((()=>{t(!1)}),[])]})();const w=s.a.createElement(c.AnalyticsTooltip,{analyticsId:"supportPanel.sessionDebug.codeCopied.tooltip",title:d("supportPanel.sessionDebug.codeCopiedTooltipText"),placement:"top-end",PopperProps:{style:{zIndex:1000100},open:E}},s.a.createElement(r.AnalyticsIconButton,{className:"copyButton",analyticsId:"supportPanel.sessionDebug.copyLogCode.button",onClick:()=>I(S),"aria-label":d(E?"supportPanel.sessionDebug.codeCopiedButtonAriaLabel":"supportPanel.sessionDebug.copyCodeButtonAriaLabel",{logCode:S})},s.a.createElement(v,{isTextCopied:E})));return S?s.a.createElement(l.a,{className:g,analyticsId:"supportPanel.sessionDebug.logCode.textDisplay",disabled:!0,InputProps:{endAdornment:w},value:S}):s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{"aria-describedby":t,className:g,analyticsId:"supportPanel.sessionDebug.submit.button",onClick:()=>f(n),disabled:x||C>0},d("supportPanel.sessionDebug.submissionButtonText")),C>0&&s.a.createElement("p",{className:Object(y.a)(b,"js-error-text")},d(C===k.S.TooManyRequests?"supportPanel.sessionDebug.submissionQuotaText":"supportPanel.sessionDebug.submissionErrorText")))}},qtHE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("Sa5G"),a=n("wQOJ"),o=n("TnpK");const r="ultra.base.institution-page.routes";i.module(r,[o.b]).config([o.c,e=>{e.peekState("allLinks",{url:"/all?moduleId",require:()=>Promise.all([n.e(0),n.e(21),n.e(23),n.e(741)]).then(n.bind(null,"Dovs")),pageTitle:"base.nav.institutionPage",resolve:{IP:[a.b,o.d,(e,t)=>{const n=t.nextParams;return e.getModuleIsVisible(n.moduleId).then((e=>{if(!e)return t.goToRoute("base.institution-page")}))}]}}).peekState("editPageImage",{systemEntitlement:s.t.ModifyPortalOptionsModuleManagement,url:"/editPage?type",require:()=>Promise.all([n.e(0),n.e(21),n.e(23),n.e(630)]).then(n.bind(null,"JKPj")),pageTitle:"base.nav.institutionPage",peekStates:["contentCollection","browserSettings"],allowChildPeekStates:!0,peekViewName:"edit-page-image-peek"}).peekState("editModule",{systemEntitlement:s.t.ModifyPortalOptionsModuleManagement,url:"/edit?moduleId&expandRoles",panelClass:"full",require:()=>Promise.all([n.e(0),n.e(21),n.e(23),n.e(731)]).then(n.bind(null,"axDv")),peekStates:["linkImage","system-content-market"],pageTitle:"base.nav.institutionPage"}).peekState("createModule",{systemEntitlement:s.t.CreatePortalOptionsModuleManagement,url:"/create?type&sequence",panelClass:"full",require:()=>Promise.all([n.e(0),n.e(21),n.e(23),n.e(730)]).then(n.bind(null,"57Mq")),peekStates:["linkImage","system-content-market"],pageTitle:"base.nav.institutionPage"}).peekState("linkImage",{systemEntitlement:s.t.ModifyPortalOptionsModuleManagement,url:"/linkImage?linkId",require:()=>Promise.all([n.e(0),n.e(21),n.e(23),n.e(631)]).then(n.bind(null,"kHrt")),pageTitle:"base.nav.institutionPage",peekStates:["contentCollection","browserSettings"],allowChildPeekStates:!0,peekViewName:"edit-link-image-peek"}).peekState("contentCollection",{systemEntitlement:s.t.ModifyPortalOptionsModuleManagement,url:"/contentCollection",require:()=>n.e(629).then(n.bind(null,"HgOS")),pageTitle:"base.nav.institutionPage",panelClass:"full",peekViewName:"ip-content-collection-peek"}).peekState("browserSettings",{systemEntitlement:s.t.ModifyPortalOptionsModuleManagement,url:"/browserSettings",require:()=>n.e(678).then(n.bind(null,"usdo")),pageTitle:"base.nav.institutionPage",panelClass:"peek"})}])},qzMN:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-content-collection",use:"icon-small-content-collection-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-content-collection"><path d="M14 15H2V9h3v1h6V9h3v6zM13 9V4H3v5M4 4V1h8v3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},r133:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("Llzl"),s=n("Fvsw"),a=n("0JpG"),o=n("0+Qs"),r=n("BXQP");const l="ultra.directives.bbDuration",c="refresh.relative.dates";class d{constructor(e,t,n,i){this.scope=e,this.bbContext=t,this.bbLocalize=n,this.interval=i,this.date="",this.time="",this.lessThanOneDay=!1;const s=e.$watch("date",(()=>{this._localizeRelativeDate(),e.autoUpdate&&!e.autoUpdate()&&e.date&&s()}));e.$on(c,(()=>{this._localizeRelativeDate()})),this.interval((()=>{this._localizeRelativeDate()}),this.scope,d.DEFAULT_REFRESH_INTERVAL)}needAgo(){return!!(this.scope.hasAgo&&this.scope.hasAgo()&&this.lessThanOneDay)}separateDatetime(){return!(!this.scope.separateDatetime||!this.scope.separateDatetime())}_localizeRelativeDate(){if(this.scope.date){let e={},t=new Date;const n=this.scope.isRelativeToServerDate&&this.scope.isRelativeToServerDate();(null==n||n)&&(e={relativeTo:this.bbContext.getServerTime()},t=this.bbContext.getServerTime());const i=t.getTime()-this.scope.date.getTime();if(i>=6e4&&this.scope.date.setSeconds(30),this.lessThanOneDay=i<=864e5,this.needAgo()||this.separateDatetime()){const t=this.bbLocalize.getFormatEnum(a.ILocaleDateFormat,this.scope.dateFormat)||a.ILocaleDateFormat.Short;this.bbLocalize.formatDuration(this.scope.date,this.scope,e,t).then((e=>{this.date=e.date||"",this.time=e.time||""}))}}}}d.DEFAULT_REFRESH_INTERVAL=18e4,d.$inject=["scope",s.b,a.serviceName,o.b];class u{constructor(e){this.$injector=e,this.restrict="E",this.replace=!0,this.template=r,this.scope={date:"=",autoUpdate:"&?",isRelativeToServerDate:"&?",dateFormat:"@?",hasAgo:"&?",separateDatetime:"&?"},this.link=e=>{e.duration=this.$injector.instantiate(d,{scope:e})}}}u.$inject=["$injector"],i.module(l,[s.a,a.moduleName,o.a]).directive("bbDuration",["$injector",e=>e.instantiate(u)])},r6lH:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var i=n("nsO7"),s=n("Llzl"),a=n("jhBu"),o=n("Sa5G"),r=n("ZQFV"),l=n("0JpG"),c=n("pjml"),d=n("wgY5"),u=n("nmzr"),m=n("+O05");const p="ultra.service.telemetry",h="telemetry";class g{constructor(e,t,n,i,s,a,o,r,l,c,d,u,m,p,h,g,b){this.cacheFactory=e,this.$q=t,this.entitlement=n,this.bbLocalize=i,this.ActivityVsGradeModel=s,this.ContentActivityInDetailModel=a,this.CourseActivityModel=o,this.CourseGradesModel=r,this.CourseNotificationsModel=l,this.MultimediaActivityInDetailModel=c,this.MultimediaStatisticsModel=d,this.NotificationUsers=u,this.StudentActivityModel=m,this.StudentGradesModel=p,this.SufficientDataModel=h,this.TelemetryDiscussionActivityModel=g,this.TelemetryDiscussionXrayModel=b,this.SUFFICIENT_DATA_KEY="SufficientData",this.sufficientDataCache=e.createCache("sufficientTelemetryData"),this.notificationsCache=e.createCache("notifications")}loadActivityVsGradeData(e){return this.ActivityVsGradeModel.$find(e).$allow([404]).$asPromise()}loadStudentGradeData(e,t){return this.StudentGradesModel.$find(e,t?{userId:t}:{}).$allow([404,400]).$asPromise()}loadCourseGradeData(e){return this.CourseGradesModel.$find(e).$allow([404,400]).$asPromise()}loadStudentActivityData(e,t){return this.StudentActivityModel.$find(e,t?{userId:t}:{}).$allow([400]).$asPromise()}loadContentActivityInDetailData(e,t){return this.ContentActivityInDetailModel.$collection().getContentActivityInDetail(e,t).$asPromise()}loadMultimediaActivityInDetailData(e,t){return this.MultimediaActivityInDetailModel.$collection().getMultimediaActivityInDetail(e,t).$asPromise()}loadMultimediaStatisticsData(e,t){return this.MultimediaStatisticsModel.getMultimediaStatistics(e,t).$asPromise()}loadCourseActivityData(e){return this.CourseActivityModel.$find(e).$allow([400]).$asPromise()}loadNotificationUsers(e,t,n){const s={};return t&&(s.limit=t),n&&(s.offset=n),this.NotificationUsers.$find(e,s).$asPromise().then((e=>i.keyBy(e.users,"userId")))}loadNotifications(e,t,n,i){return this.getNotificationsPromise(e,t,n,i).promise}loadDiscussionActivityData(e,t,n){return n?this.TelemetryDiscussionActivityModel.getDiscussionActivityReport(e,t,n).$asPromise():this.TelemetryDiscussionActivityModel.getDiscussionActivityReport(e,t).$asPromise()}loadDiscussionXrayReport(e,t,n){return this.TelemetryDiscussionXrayModel.getDiscussionXrayReport(e,t,n).$asPromise()}hasSufficientActivityData(e){return this.getSufficientDataPromise().promise.then((t=>!(!t||!t.coursesWithActivity)&&i.includes(t.coursesWithActivity,e)))}hasSufficientGradeData(e){return this.getSufficientDataPromise().promise.then((t=>!(!t||!t.coursesWithGrades)&&i.includes(t.coursesWithGrades,e)))}canViewAllUserData(e){return this.entitlement.hasCourseEntitlement(r.q.ViewGrades,e)}formatMessageRecipients(e){return(e||[]).map((e=>e.id)).join(",")}determineContentSupportsActivityData(e){const t=this.$q.defer();return m.a.isExternalSubmissionsAssessment(e)?t.resolve(!1):this.contentSupportsActivityData(e)?this.canViewAllUserData(e.courseId).then((e=>{t.resolve(e)})).catch((e=>{t.reject(e)})):t.resolve(!1),t.promise}contentSupportsActivityData(e){return(o.g.TestLink.isEqualTo(e.contentHandler)||o.g.UltraAssignment.isEqualTo(e.contentHandler))&&e.hasGradingColumn()}determinePanelSref(e,t){return this.canViewAllUserData(e).then((n=>n?this.createPanelSref(u.M.INSTRUCTOR_CLASS,e,t):this.createPanelSref(u.M.STUDENT_PROGRESS,e,t)))}createPanelSref(e,t,n){let i='({ courseId: "'+t+'"';return n&&(i+=', notificationId: "'+n+'"'),i+=" })",e.toString()+i}exportFilename(e,t,n,i,s){let a="";e&&(a=e.courseId+"_");const o=this.bbLocalize.formatDateSync(new Date,l.ILocaleDateFormat.ISO).replace(/[^0-9]/g,"");let r="";t&&n&&t.id!==n.id&&(r=t.userName+"_");const c=i?"_"+i:"";let d="";return s&&(d=s.replace(/\s+/g,"_")+"_"),a+r+d+o+c}getSufficientDataPromise(){let e=this.sufficientDataCache.get(this.SUFFICIENT_DATA_KEY);return e||(e={promise:this.SufficientDataModel.$new().$fetch().$allow([404,400]).$asPromise()},this.sufficientDataCache.put(this.SUFFICIENT_DATA_KEY,e)),e}getNotificationsPromise(e,t,n,i){const s=e+t+n+i;let a=this.notificationsCache.get(s);if(!a){const o={};t&&(o.userId=t),n&&(o.includeDismissed=n),i&&(o.notificationType=i),a={promise:this.CourseNotificationsModel.$find(e,o).$asPromise()},a.promise.then((e=>(e.currentStudent.forEach((e=>{e.ui={createdDay:d.utc(e.created).startOf("day").toDate()}})),e))),this.notificationsCache.put(s,a)}return a}}g.$inject=["DSCacheFactory","$q",a.b,l.serviceName,c.sb.serviceName,c.tb.serviceName,c.ub.serviceName,c.vb.serviceName,c.wb.serviceName,c.zb.serviceName,c.Ab.serviceName,c.Cb.serviceName,c.Db.serviceName,c.Eb.serviceName,c.Fb.serviceName,c.xb.serviceName,c.yb.serviceName];s.module(p,[c.N,a.a]).service(h,g)},rEGj:function(e,t,n){"use strict";n.r(t)},rEZX:function(e,t,n){"use strict";var i=n("zGdY");var s=class{constructor(e,t){(null==t?void 0:t.scaleType)===i.ac.Text?this.isNumeric=!1:this.isNumeric=!Number.isNaN(parseFloat(e)),this.grade=e}getGrade(){return this.grade}};t.a=class{constructor(e,t,n){this.column=e,this.courseId=e.courseId,this.gradeValue=new s(t,n)}}},rRc3:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("xQgz");const a="ultra.components.directives.bbUiIcon.large.Folder";Object(i.a)(s.a,a,"bbUiIconLargeFolder")},rmtn:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("Sa5G"),a=n("0JpG"),o=n("TnpK");const r="ultra.base.admin.brand.routes";i.module(r,[a.moduleName,o.b]).config([o.c,e=>{e.peekState("brands",{panelClass:"full",allowChildPeekStates:!0,url:"/brands",systemEntitlement:s.s.ViewBrands,require:()=>Promise.all([n.e(0),n.e(21),n.e(49),n.e(23),n.e(50),n.e(737)]).then(n.bind(null,"olMq")),pageTitle:"base.admin.branding.brandList.title",peekStates:["create-brand","brand-detail","modify-custom-css"]}).peekState("modify-custom-css",{panelClass:"full",allowChildPeekStates:!0,url:"/custom-css/modify",systemEntitlement:s.s.ModifyCustomCss,require:()=>n.e(675).then(n.bind(null,"uGYO")),pageTitle:"base.admin.branding.addCustomCSS.title"}).peekState("create-brand",{panelClass:"full",allowChildPeekStates:!0,url:"/create",systemEntitlement:s.s.CreateBrand,require:()=>Promise.all([n.e(0),n.e(21),n.e(49),n.e(23),n.e(50),n.e(165)]).then(n.bind(null,"3ay5")),pageTitle:"base.admin.branding.createBrand.title",peekStates:["colorSelection"]}).peekState("brand-detail",{panelClass:"full",allowChildPeekStates:!0,url:"/brand/:brandId",systemEntitlement:s.s.ViewBrands,require:()=>Promise.all([n.e(0),n.e(21),n.e(49),n.e(23),n.e(50),n.e(165)]).then(n.bind(null,"3ay5")),pageTitle:"base.admin.branding.brandDetails.title",peekStates:["colorSelection"]})}])},rtZE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n("nsO7"),s=n("Llzl");
/*
 * An Angular service which helps with creating recursive directives.
 * @author Mark Lagendijk
 * @license MIT
 */
const a="ultra.service.RecursionHelper",o="recursionHelper";
/**
 * An Angular service which helps with creating recursive directives.
 * @author Mark Lagendijk
 * @license MIT
 *
 * Sample usage:
 * ```typescript
 *
 * var link = (scope: IScope, element: JQuery) => {
 *   // do stuff
 * };
 *
 * var compile = (element: JQuery) => {
 *   return recursiveHelper.compile(element, link);
 * };
 *
 * ```
 *
 */
class r{constructor(e){this.$compile=e,this.compileContents=i.memoize(this.compileContents)}compileContents(e,t){return this.$compile(t)}compile(e,t,n){s.isFunction(n)&&(n={post:n});const i=t.contents();return t.empty(),{pre:n&&n.pre?n.pre:null,post:(t,s,...a)=>{this.compileContents(e,i)(t,(function(e){s.append(e)})),n&&n.post&&n.post.apply(null,[t,s,...a])}}}}r.$inject=["$compile"];s.module(a,[]).service(o,r)},rxY8:function(e,t,n){"use strict";var i=n("71td"),s=n("nsO7");class a{constructor(e,t){this.element=e,this.settings=t,this.nextFrame=s.throttle((()=>{window.requestAnimationFrame((()=>{e.setAttribute("keyframe",this.state+"-"+("00"+(this.frame=Math.min(this.frame+1,20))).substr(-2)),this.frame<20?this.nextFrame():(this[this.state+"Callback"]||this.settings[this.state+"Callback"]||i.noop)()}))}),50),this.settings=i.extend({successCallback:i.noop,errorCallback:i.noop,canvasSize:54},t),i(e).width(this.settings.canvasSize).height(this.settings.canvasSize)}start(){this.state="start",this.frame=1,this.startCallback=i.noop,this.nextFrame()}loadComplete(){this.afterWaiting((()=>{this.state="success",this.frame=1,this.nextFrame()}))}loadError(){this.afterWaiting((()=>{this.state="error",this.frame=1,this.nextFrame()}))}reset(){this.state="reset",this.frame=20,this.nextFrame()}afterWaiting(e){"start"===this.state&&20===this.frame||"reset"===this.state?e():this.startCallback=()=>{e(),this.startCallback=null}}}i.fn.inlineLoader=function(e){return this.addClass("xloader2").each((function(){this.InlineLoader=new a(this,e)})),this};var o=n("Llzl");n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));const r="ultra.components.services.spinner",l="spinner";class c{constructor(e){this.$rootScope=e}initInlineLoader(e,t){return e.inlineLoader(t),new d(e,this.$rootScope)}}c.$inject=["$rootScope"];class d{constructor(e,t){this.element=e,this.$rootScope=t}start(){this.element[0].InlineLoader.start()}complete(){this.element[0].InlineLoader.loadComplete()}error(){this.element[0].InlineLoader.loadError()}reset(){this.element[0].InlineLoader.reset()}animate(e){this.start(),e.then((()=>{this.complete()}),(()=>{this.error()}))}}o.module(r,[]).service(l,c)},"s+Z7":function(e,t,n){"use strict";n("st/R");var i=n("71td"),s=n("Llzl"),a=n("+wu9");n.d(t,"a",(function(){return o}));const o="ultra.components.directives.typeahead-selected-options";class r{constructor(e){this.scope=e}removeOption(e){this.scope.removeOption({item:e}),this.scope.focusElementId&&i("#typeahead-search-box-"+this.scope.focusElementId).focus()}}r.$inject=["scope"];class l{constructor(e){this.$injector=e,this.restrict="E",this.replace=!0,this.template=a,this.scope={selectedOptions:"=",removeOption:"&",selectedOptionsListLabel:"@",focusElementId:"@?"},this.link=e=>{e.typeaheadSelectedOptions=this.$injector.instantiate(r,{scope:e})}}}l.$inject=["$injector"],s.module(o,[]).directive("bbTypeaheadSelectedOptions",["$injector",e=>e.instantiate(l)])},s1u2:function(e,t){e.exports='<div class="grade-grid-cell grade-grid-header-cell">\n  <div class="content content-header-bg" tabindex="0" role="columnheader"\n       ng-class="{\'is-restricted\': columnMetadata.isHiddenFromStudents(), \'is-unavailable\': !gradeGridColumnHeaderReborn.toolAvailable || !col.hasContextMenuOptions()}"\n       ng-click="gradeGridColumnHeaderReborn.popupMenu($event)"\n       analytics-id="components.directives.grade.grid.gradeGridColumnHeaderReborn.popupMenu">\n    <div bb-content-item-icon content-column="columnMetadata" show-alert-icon="showAlertIcon()" class="element-image" role="presentation"></div>\n    <div class="ellipse grade-name" title="{{columnMetadata.columnName}}" aria-labelledby="summary-info-{{columnMetadata.id}}">{{columnMetadata.columnName}}</div>\n  </div>\n\n  <div class="grade-grid-header-summary" tabindex="0" id="summary-points-{{columnMetadata.id}}">\n    <span class="sr-only">{{columnMetadata.columnName}}</span>\n    <span class="ellipse points" title="{{gradeGridColumnHeaderReborn.getSchemaText()}}">{{gradeGridColumnHeaderReborn.getSchemaText()}}</span>\n  </div>\n\n  <div ng-if="col.isShowSummary() && columnMetadata.isVisibleToStudents() && !columnMetadata.summary.isAllGradedAndPosted() && !columnMetadata.isCalculated()"\n    class="grade-grid-header-summary"\n    tabindex="0"\n    id="summary-info-{{columnMetadata.id}}">\n    <div ng-if="gradeGridColumnHeaderReborn.isRestricted()">\n      <span class="sr-only">{{columnMetadata.columnName}}</span>\n      <span ng-if="isGroupTest" class="sr-only" bb-translate>components.directives.grade.grader-column.statuses.restricted</span>\n      <span class="sr-only">{{gradeGridColumnHeaderReborn.getSchemaText()}}</span>\n      <bb-button-complex-tooltip></bb-button-complex-tooltip>\n      <span class="ellipse grade-status" bb-translate>components.directives.grade.grader-column.statuses.restricted</span>\n    </div>\n\n    <div ng-if="!gradeGridColumnHeaderReborn.isRestricted()">\n      <span class="sr-only">{{columnMetadata.columnName}}</span>\n      <span ng-if="isGroupTest" class="sr-only" bb-translate>components.directives.grade.grid.groupAriaLabel</span>\n      <span class="sr-only">{{gradeGridColumnHeaderReborn.getSchemaText()}}</span>\n      <span class="ellipse grade-count"\n            bb-translate-attrs="{\'title\': \'components.directives.grade.grid.gradedTip\'}" translate-attrs-values="{count: isGroupTest ? columnMetadata.summary.numStudentsGradedNeedsPosting + columnMetadata.summary.numStudentsPosted + columnMetadata.summary.numberOfStudentsOverriddenGradesToPost : columnMetadata.summary.numStudentsGraded()}"\n            bb-translate translate-values="{count: isGroupTest ? columnMetadata.summary.numStudentsGradedNeedsPosting + columnMetadata.summary.numStudentsPosted + columnMetadata.summary.numberOfStudentsOverriddenGradesToPost : columnMetadata.summary.numStudentsGraded()}">components.directives.grade.grid.graded</span>\n      <span class="grade-pipe"></span>\n      <span class="ellipse grade-posted-count"\n            bb-translate-attrs="{\'title\': \'components.directives.grade.grid.postedTip\'}" translate-attrs-values="{count: isGroupTest ? columnMetadata.summary.numStudentsPosted : columnMetadata.summary.numPosted}"\n            bb-translate translate-values="{count: isGroupTest ? columnMetadata.summary.numStudentsPosted : columnMetadata.summary.numPosted}">components.directives.grade.grid.posted</span>\n    </div>\n  </div>\n\n  <div ng-if="col.isShowSummary() && columnMetadata.isVisibleToStudents() && columnMetadata.summary.isAllGradedAndPosted() && !columnMetadata.isCalculated()"\n    class="grade-grid-header-summary"\n    ng-class="{\'grade-complete-status\': !gradeGridColumnHeaderReborn.isRestricted()}"\n    tabindex="0"\n    bb-translate-attrs="{\'title\': \'components.directives.grade.grader-column.statuses.restricted\'}"\n    id="summary-info-{{columnMetadata.id}}">\n    <div ng-if="gradeGridColumnHeaderReborn.isRestricted()">\n      <span class="sr-only">{{columnMetadata.columnName}}</span>\n      <span ng-if="isGroupTest" class="sr-only" bb-translate>components.directives.grade.grader-column.statuses.restricted</span>\n      <span class="sr-only">{{gradeGridColumnHeaderReborn.getSchemaText()}}</span>\n      <bb-button-complex-tooltip></bb-button-complex-tooltip>\n      <span class="ellipse grade-status" bb-translate>components.directives.grade.grader-column.statuses.restricted</span>\n    </div>\n\n    <div ng-if="!gradeGridColumnHeaderReborn.isRestricted()">\n      <span class="sr-only">{{columnMetadata.columnName}}</span>\n      <span ng-if="isGroupTest" class="sr-only" bb-translate>components.directives.grade.grid.groupAriaLabel</span>\n      <span class="sr-only">{{gradeGridColumnHeaderReborn.getSchemaText()}}</span>\n      <bb-svg-icon size="small" icon="complete" status="success"></bb-svg-icon>\n      <span class="ellipse grade-status" bb-translate>components.directives.grade.grid.completeLabel</span>\n    </div>\n  </div>\n\n  <div ng-if="col.isShowSummary() && columnMetadata.isVisibleToStudents() && columnMetadata.summary.isAllGradedAndPosted() && !columnMetadata.isCalculated()" class="grade-grid-header-summary"\n    tabindex="0"\n    bb-translate-attrs="{\'title\': \'components.directives.grade.grader-column.statuses.restricted\'}"\n    id="summary-info-{{columnMetadata.id}}">\n    <div ng-if="gradeGridColumnHeaderReborn.isRestricted()">\n      <span class="sr-only">{{columnMetadata.columnName}}</span>\n      <span ng-if="isGroupTest" class="sr-only" bb-translate>components.directives.grade.grader-column.statuses.restricted</span>\n      <span class="sr-only">{{gradeGridColumnHeaderReborn.getSchemaText()}}</span>\n      <bb-button-complex-tooltip></bb-button-complex-tooltip>\n      <span class="ellipse grade-status" bb-translate>components.directives.grade.grader-column.statuses.restricted</span>\n    </div>\n\n    <div ng-if="!gradeGridColumnHeaderReborn.isRestricted()">\n      <span class="sr-only">{{columnMetadata.columnName}}</span>\n      <span ng-if="isGroupTest" class="sr-only" bb-translate>components.directives.grade.grid.groupAriaLabel</span>\n      <span class="sr-only">{{gradeGridColumnHeaderReborn.getSchemaText()}}</span>\n      <bb-svg-icon size="small" icon="complete" status="success"></bb-svg-icon>\n      <span class="ellipse grade-status" bb-translate>components.directives.grade.grid.completeLabel</span>\n    </div>\n  </div>\n\n  <div ng-if="col.isShowSummary() && columnMetadata.isVisibleToStudents() && columnMetadata.summary.isAllGradedAndPosted() && !columnMetadata.isCalculated()"\n    class="grade-grid-header-summary"\n    tabindex="0"\n    bb-translate-attrs="{\'title\': \'components.directives.grade.grid.completeLabel\'}"\n    id="summary-info-{{columnMetadata.id}}">\n    <div ng-if="gradeGridColumnHeaderReborn.isRestricted()">\n      <span class="sr-only">{{columnMetadata.columnName}}</span>\n      <span ng-if="isGroupTest" class="sr-only" bb-translate>components.directives.grade.grader-column.statuses.restricted</span>\n      <span class="sr-only">{{gradeGridColumnHeaderReborn.getSchemaText()}}</span>\n      <bb-button-complex-tooltip></bb-button-complex-tooltip>\n      <span class="ellipse grade-status" bb-translate>components.directives.grade.grader-column.statuses.restricted</span>\n    </div>\n\n    <div ng-if="!gradeGridColumnHeaderReborn.isRestricted()">\n      <span class="sr-only">{{columnMetadata.columnName}}</span>\n      <span ng-if="isGroupTest" class="sr-only" bb-translate>components.directives.grade.grid.groupAriaLabel</span>\n      <span class="sr-only">{{gradeGridColumnHeaderReborn.getSchemaText()}}</span>\n      <bb-svg-icon size="small" icon="complete" status="success"></bb-svg-icon>\n      <span class="ellipse grade-status" bb-translate>components.directives.grade.grid.completeLabel</span>\n    </div>\n  </div>\n\n  <div ng-if="(!col.isShowSummary() || !columnMetadata.isVisibleToStudents()) && !columnMetadata.isCalculated()"\n    class="grade-grid-header-summary"\n    tabindex="0"\n    id="summary-info-{{columnMetadata.id}}">\n    <div ng-if="gradeGridColumnHeaderReborn.isRestricted()">\n      <span class="sr-only">{{columnMetadata.columnName}}</span>\n      <span ng-if="isGroupTest" class="sr-only" bb-translate>components.directives.grade.grader-column.statuses.restricted</span>\n      <span class="sr-only">{{gradeGridColumnHeaderReborn.getSchemaText()}}</span>\n      <bb-button-complex-tooltip></bb-button-complex-tooltip>\n      <span class="ellipse grade-status" bb-translate>components.directives.grade.grader-column.statuses.restricted</span>\n    </div>\n\n    <div ng-if="!gradeGridColumnHeaderReborn.isRestricted()">\n      <span class="sr-only">{{columnMetadata.columnName}}</span>\n      <span ng-if="isGroupTest" class="sr-only" bb-translate>components.directives.grade.grid.groupAriaLabel</span>\n      <span class="sr-only">{{gradeGridColumnHeaderReborn.getSchemaText()}}</span>\n      <span class="ellipse grade-status"></span>\n    </div>\n  </div>\n\n  <div ng-if="columnMetadata.isCalculated()"\n    class="grade-grid-header-summary"\n    tabindex="0"\n    id="summary-info-{{columnMetadata.id}}">\n    <div ng-if="gradeGridColumnHeaderReborn.isRestricted()">\n      <span class="sr-only">{{columnMetadata.columnName}}</span>\n      <span ng-if="isGroupTest" class="sr-only" bb-translate>components.directives.grade.grader-column.statuses.restricted</span>\n      <span class="sr-only">{{gradeGridColumnHeaderReborn.getSchemaText()}}</span>\n      <bb-button-complex-tooltip></bb-button-complex-tooltip>\n      <span class="ellipse grade-status" bb-translate>components.directives.grade.grader-column.statuses.restricted</span>\n    </div>\n\n    <div ng-if="!gradeGridColumnHeaderReborn.isRestricted()">\n      <span class="sr-only">{{columnMetadata.columnName}}</span>\n      <span class="sr-only">{{gradeGridColumnHeaderReborn.getSchemaText()}}</span>\n      <span class="ellipse items-count" ng-if="columnMetadata.itemsCount !== undefined"\n        bb-translate-attrs="{\'title\': \'components.directives.grade.grid.itemsTip\'}"\n        translate-attrs-values="{count: columnMetadata.itemsCount}" bb-translate\n        translate-values="{count: columnMetadata.itemsCount}">components.directives.grade.grid.items.plural</span>\n    </div>\n  </div>\n</div>\n'},s4xR:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-attendance",use:"icon-small-attendance-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-attendance"><path d="M15 15V2H1v13h14zM4.5 1v1h7V1h-7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M5 9l2 2 4-5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},s52B:function(e,t){e.exports='<div class="rb-grid-container" ng-style="container.getContainerStyle()" role="grid">\n  <div class="rb-ax-focus-placeholder sr-only" tabindex="-1"></div>\n  <div class="rb-grid-header-wrapper">\n    <div class="rb-grid-header">\n      <div class="rb-grid-canvas" ng-style="container.getHeaderCanvasStyle()" role="rowgroup">\n        <div class="rb-row rb-header-row" ng-class="::container && {\'rb-row-border\': container.headerBorder} || undefined" role="row">\n          <div rb-grid-cell="col.headerTemplate"\n               class="rb-cell rb-header-cell"\n               ng-class="[\'rb-col-\' + col.id, \'rb-column-position-\' + col.id, {\'rb-cell-border\': col.border}]"\n               role="columnheader"\n               ng-repeat="col in container.renderedColumns track by $index"\n               ng-click="container.callbacks.header($event)"\n               analytics-id="components.directives.gridContainer.header.{{::col.id}}.button">\n            <div class="rb-add-column-placeholder" ng-if="::container.canAddColumn()" ng-mouseenter="container.columnAdder.enter($event, col)"></div>\n          </div>\n          <div class="rb-add-column-placeholder first" ng-if="::container.canAddColumn()" ng-mouseenter="container.columnAdder.enter($event)"></div>\n        </div>\n      </div>\n    </div>\n    <div ng-if="container.hasVScrollbar" class="rb-grid-scrollbar-placeholder-y"></div>\n  </div>\n  <div class="rb-grid-body" ng-style="container.getBodyStyle()">\n    <div class="rb-grid-canvas" ng-style="container.getBodyCanvasStyle()" role="rowgroup">\n      <div class="rb-row rb-cell-row" ng-repeat="row in container.renderedRows track by $index" role="row"\n          ng-class="[\'rb-row-position-\' + row.id, container && {\'rb-row-border\': container.rowBorder} || undefined]">\n        <div rb-grid-cell="col.cellTemplate"\n             class="rb-cell"\n             ng-class="[\'rb-col-\' + col.id, \'rb-row-\' + row.id, \'rb-column-position-\' + col.id, {\'rb-cell-border\': col.border}]"\n             role="gridcell"\n             ng-repeat="col in container.renderedColumns track by $index"\n             ng-click="container.callbacks.cell($event)"\n             analytics-id="components.directives.gridContainer.callback"\n        ></div>\n      </div>\n    </div>\n  </div>\n  <div ng-if="!container.hasHScrollbar" class="rb-grid-scrollbar-placeholder-x"></div>\n  <div class="rb-add-column" ng-if="::container && container.canAddColumn()">\n    <div class="column-header-button-wrapper" ng-mouseleave="container.columnAdder.leave()">\n      <a class="small button clear icon button-add-content hide"\n         href="javascript:void(0);"\n         ng-click="container.columnAdder.onClick($event)"\n         role="button"\n         aria-haspopup="true"\n         analytics-id="components.directives.grade.grid.addBtuAriaLabel.link">\n        <span class="sr-only" bb-translate>components.directives.grade.grid.addBtuAriaLabel</span>\n      </a>\n    </div>\n  </div>\n</div>\n'},sB2Z:function(e,t){e.exports='<div class="content-wrapper" ng-class="{\'nocontent\': !content.canViewAsInstructor()}">\n  <div class="name">\n    <ng-switch on="content.getContentDisplay().viewHandler()" ng-class="{\'has-indicator\': content.ui.hasIndicator}">\n      <div ng-switch-when="resource/x-bb-folder" class="engagement-folder">\n        <bb-content-item-folder></bb-content-item-folder>\n      </div>\n      <a ng-switch-when="resource/x-bb-forumlink"\n         bb-peek-sref="discussion.view.with-grading({contentId:content.id})"\n         bb-prevent-click-if="content.isConditionalReleaseLocked()"\n         ng-attr-tabindex="{{ content.isConditionalReleaseLocked() ? -1 : 0 }}"\n         class="content-title"\n         analytics-id="content.item.engagement.outline.forumLink.link"\n         aria-describedby="activity-indicator-{{::content.id}}"\n      >\n        <span>{{ content.title }}</span>\n      </a>\n      <div ng-switch-default class="content-title">{{ content.title }}</div>\n      <bb-svg-icon role="img" aria-hidden="false" bb-translate-attrs="::{\'aria-label\':\'components.directives.content-item-base.aria-label.indicator\'}" ng-if="content.ui.hasIndicator" id="activity-indicator-{{::content.id}}" class="indicator" size="small" icon="activity-indicator" status="active"></bb-svg-icon>\n    </ng-switch>\n  </div>\n  <div ng-if="content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date">\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-if="!dueDate" class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-if="dueDate && !gradeDetail" class="content-due-date-label">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-if="dueDate && !gradeDetail" class="content-due-date"></bb-datetime>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.canHaveAttempts() && content.hasDueDate()" class="due-date"\n       ng-class="{\'is-late\': contentItemBase.isLate}" ng-switch="dueDate != null">\n    \x3c!-- submission card --\x3e\n    \x3c!--  TODO: submissionCard is disabled until LRN-101279 is fixed --\x3e\n    \x3c!-- <bb-submission-card ng-if="gradeDetail"  grade-detail="gradeDetail" inline="true"></bb-submission-card>\n    <bb-submission-card ng-if="!gradeDetail" grading-column="gradingColumn" inline="true"></bb-submission-card> --\x3e\n    \x3c!-- no due date --\x3e\n    <span bb-translate ng-switch-default class="content-no-due-date-label">components.directives.content-item-base.no-due-date</span>\n    \x3c!-- due date --\x3e\n    <span bb-translate ng-switch-when="true" class="content-due-date-label">components.directives.content-item-base.due-date</span>\n    <bb-datetime format="Short" value="dueDate" ng-switch-when="true" class="content-due-date"></bb-datetime>\n  </div>\n  <div ng-if="contentItemBase.isModifyPermissionLoaded && content.canHaveAttempts() && content.isGroupContent" class="group-info">\n    <div class="group-name">\n      <span><bb-svg-icon size="small" icon="groups"></bb-svg-icon></span>\n      <a href="javascript:void(0);"\n         ng-if="contentItemBase.hasViewGroupsAsAdmin"\n         ng-click="contentItemBase.editGroups()"\n         analytics-id="content.item.engagement.outline.contentItemBase.editGroups.link"\n      >\n        <bb-group-count content="content"></bb-group-count>\n      </a>\n      <span ng-if="contentItemBase.canViewGroups && !contentItemBase.hasViewGroupsAsAdmin">\n        <bb-group-count content="content"></bb-group-count>\n      </span>\n      <div ng-if="!contentItemBase.canViewGroups && !contentItemBase.hasViewGroupsAsAdmin" class="title">\n        <bb-group-student-enrollment content="content"></bb-group-student-enrollment>\n      </div>\n    </div>\n  </div>\n  <div ng-if="!content.canViewAsInstructor() && content.isConditionalReleaseLocked()"\n    role="tooltip"\n    class="lock-info"\n    tabindex="0"\n    bb-complex-tooltip\n    enhanced-tooltip="true"\n    tooltip-position="bottom"\n    tooltip-open-on-activation="true"\n    tooltip-disable-on-mouse-over="true"\n    tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n    tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}">\n    <span bb-translate="components.directives.content-item-base.conditionalRelease.lock-info"></span>\n    <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n  </div>\n  <div class="student-created-info" ng-if="::contentItemEngagementOutline.isDiscussionCreatedByStudent()">\n    <span bb-translate="components.directives.content-item-base.content.discussionAuthorship.student"></span>\n  </div>\n  <div class="name-controls stop-click-propagation"\n    ng-class="{\n      \'name-conditional-release\': !content.canViewAsInstructor() && content.isConditionalReleaseLocked(),\n      \'selector-disabled\': content.isInForcedSequenceModule()\n    }"\n    ng-if="contentItemBase.showVisibility()">\n    <bb-content-visibility-selector content="content"\n                                    link-content="contentItemBase.targetContent"\n                                    onchange-func="contentItemBase.updateContentVisibility()"\n                                    disable-restricted="contentItemBase.disableRestricted"\n                                    open-panel-on-restricted="true"\n                                    verbose-restricted-label="true"></bb-content-visibility-selector>\n  </div>\n  <div ng-if="content.canViewAsInstructor() && content.isConditionalRelease()" class="conditional-release-control">\n    <div class="rules">\n      <a href="javascript:void(0);"\n        ng-click="contentItemEngagementOutline.openConditionalRelease()"\n        bb-complex-tooltip\n        enhanced-tooltip="true"\n        tooltip-position="bottom"\n        tooltip-enable-on-mouse-over-for-all-breakpoints="true"\n        tooltip-enable-on-mouse-leave-for-all-breakpoints="true"\n        tooltip-auto-update="true"\n        tooltip-scope="contentItemBase.conditionalRelease.tooltipScope"\n        tooltip-template="{{::contentItemBase.conditionalRelease.getConditionalReleaseComplexTooltipTemplate()}}"\n        analytics-id="components.directives.content-item-base.conditionalRelease.link">\n        <span>{{contentItemBase.conditionalRelease.getConditionDescription()}}</span>\n        <span class="sr-only">{{contentItemBase.conditionalRelease.tooltips}}</span>\n      </a>\n    </div>\n  </div>\n</div>\n'},sLTT:function(e,t,n){"use strict";n("KCTV"),n("Jedz"),n("+iNq"),n("Igru"),n("ueuW"),n("xX6i"),n("NNy8"),n("bxwa"),n("SqHH");var i=n("Llzl"),s=n("nsO7"),a=n("Sa5G"),o=n("jhBu"),r=n("0JpG"),l=n("oQrK"),c=n("+4Px"),d=n("pjml"),u=n("e6jQ"),m=n("TnpK"),p=n("ZzYr"),h=n("Qbdf"),g=n("Z6BI"),b=n("1ZbL");const f="ultra.components.services.courseLinkVisibilityWarningBanner",v={Class:n("/5AG").o,renderLocalized:!0,withProvider:!0};i.module(f,[]).component("courseLinkVisibilityWarningBanner",Object(b.a)(v));var y=n("umYj"),k=n("nmzr"),x=n("zGdY"),S=n("IbyE");n.d(t,"a",(function(){return C}));const C="ultra.directives.contentVisibilitySelector";class E{constructor(e,t,n,i,o,r,l,m,p){if(this.iScope=e,this.element=t,this.$q=n,this.$ngRedux=i,this.bbLocalize=o,this.entitlementService=r,this.ultraState=l,this.$modal=m,this.currentCourse=p,this.contentHandler="",this.isBbPage=!1,this.showInfoBanner=!1,this.todayDate=new Date,this.visibilityOptions=[],this.scope=e,this.scope.contentVisibilitySelector=this,this.showCourseLinkWarning(),this.visibleOptionKey=`components.directives.content-visibility.${p.course.isOrganization?"organization.":""}visible`,this.hiddenOptionKey=`components.directives.content-visibility.${p.course.isOrganization?"organization.":""}hidden`,this.contentId=this.scope.content.id,this.contentHandler=this.scope.content.contentHandler?this.scope.content.contentHandler.toString():"",null==this.contentId){const e=this.scope.$watch((()=>this.scope.content.id),(t=>{t&&(null==this.contentId&&(this.contentId=t),e())}))}if(this.selectorId=u.a(),this.contentHandler&&d.p.ContentHandler.Folder.isEqualTo(this.contentHandler)&&null!=this.scope.content.contentDetail){const e=this.scope.content.contentDetail[d.p.ContentHandler.Folder.toString()];e&&e.isBbPage&&(this.isBbPage=!0)}if(this.useNativeSelect()&&this.initVisibilityOptions(),this.scope.content.permissions){const e=this.scope.content.permissions;this.entitledToViewDesigner=s.isFunction(this.scope.content.canViewAsInstructor)&&this.scope.content.canViewAsInstructor(),e.adaptiveRelease?(this.entitledToViewConditionalRelease=e.adaptiveRelease.view,this.entitledToDeleteConditionalRelease=e.adaptiveRelease.delete):this.loadAdaptiveReleaseEntitlements()}else this.entitlementService.hasCourseEntitlement(a.f.ViewAsDesigner,this.scope.content.courseId).then((e=>{this.entitledToViewDesigner=e})),this.loadAdaptiveReleaseEntitlements();t.find(".item-visibility-selector, .item-visibility-selector a").on("keydown",(e=>{e.keyCode===c.f&&e.preventDefault()}))}getIconSize(){return this.scope.hasMediumIcon?"medium":"small"}loadAdaptiveReleaseEntitlements(){const e=this.entitlementService.hasCourseEntitlement(a.j.ViewAdaptiveRelease,this.scope.content.courseId).then((e=>{this.entitledToViewConditionalRelease=e})),t=this.entitlementService.hasCourseEntitlement(a.j.DeleteAdaptiveRelease,this.scope.content.courseId).then((e=>{this.entitledToDeleteConditionalRelease=e}));return this.$q.all([e,t])}onChange(){this.scope.onchangeFunc&&this.scope.onchangeFunc()}onBlur(){this.scope.onblurFunc&&this.scope.onblurFunc()}disableRestricted(){return!!this.scope.disableRestricted&&this.scope.disableRestricted()}onRestrictedSelected(){this.scope.onRestrictedSelectedFunc&&this.scope.onRestrictedSelectedFunc()}selectVisible(){this.visibilitySelected(x.w.Visible)}selectHidden(){this.visibilitySelected(x.w.Hidden)}selectConditionalRelease(){const e={contentId:this.contentId};this.ultraState.goPeekState(k.k.CONDITIONAL_RELEASE_PEEK_PANEL,e)}isEditable(){if(!this.isVisibilitySelectorMenuEmpty()){if(this.scope.content.canEdit())return!0;if(this.scope.content.canEditAvailability&&this.scope.content.canEditAvailability())return!0;if(!this.scope.content.id)return!0}return!1}validateChange(e){if(this.scope.validationFunc){const t=this.scope.validationFunc({visibility:e});return void 0===t||t}return!0}visibilitySelected(e){this.validateChange(e)&&this.confirmVisibilityChange().then((()=>{this.changeVisibility(e)}))}confirmVisibilityChange(){var e,t,n,i;let s=null;return(null===(t=null===(e=this.scope.content)||void 0===e?void 0:e.isConditionalRelease)||void 0===t?void 0:t.call(e))&&!(null===(i=null===(n=this.scope.content)||void 0===n?void 0:n.hasOnlyForcedSequenceConditionalReleaseCriteria)||void 0===i?void 0:i.call(n))&&(s=y),s?this.bbLocalize.loadBundle("features/course/conditional-release/conditional-release").then((()=>this.$modal.open({template:s,scope:this.scope}).result)):this.$q.resolve()}changeVisibility(e){this.scope.content&&this.scope.content.isConditionalRelease&&this.scope.content.isConditionalRelease()&&this.scope.content.conditionalReleaseAsync("DELETE"),this.scope.content.setVisibility(e),x.w.Restricted===e&&this.onRestrictedSelected(),this.onChange(),this.onBlur()}static getAdaptiveReleaseCriteria(e){return e&&e.rules?e.rules.map((e=>e.criteria)).reduce(((e,t)=>t.concat(e)),[]):null}canDeleteCriteria(e){switch(e.type){case"Grade_Range":case"Grade_Range_Percentage":return this.scope.content.permissions.adaptiveRelease.criteria.performance.delete;case"Date_Range":return this.scope.content.permissions.adaptiveRelease.criteria.dates.delete;default:return this.scope.content.permissions.adaptiveRelease.delete}}canDeleteAllCriteria(e){return e.every((e=>this.canDeleteCriteria(e)))}canShowVisibleHidden(){const e=E.getAdaptiveReleaseCriteria(this.scope.content.adaptiveReleaseRules);return this.entitledToDeleteConditionalRelease||!e||this.canDeleteAllCriteria(e)}showVisibleHiddenMenuOptions(){const e=this.scope.content.isConditionalRelease&&this.scope.content.isConditionalRelease();return!e||e&&this.canShowVisibleHidden()}showConditionalReleaseMenuOption(){return!this.disableRestricted()&&this.scope.content.id&&this.entitledToViewConditionalRelease}showCourseLinkWarning(){if("function"==typeof this.scope.content.isCourseLink&&this.scope.content.isCourseLink())this.showInfoBanner=!0;else if(this.scope.content.id&&"function"==typeof this.scope.content.hasCourseLinks&&!S.j.isFolderContentItem(this.scope.content)&&!S.j.isDiscussion(this.scope.content)&&!S.C.isLearningModule(this.scope.content)&&!S.j.isLink(this.scope.content))return this.scope.content.hasCourseLinks().then((e=>{e&&(this.showInfoBanner=e)}));return this.$q.when()}isVisibilitySelectorMenuEmpty(){return!this.showVisibleHiddenMenuOptions()&&!this.showConditionalReleaseMenuOption()}isVisibilitySelectorEnabled(){return!this.scope.isVisibilitySelectorEnabled||this.scope.isVisibilitySelectorEnabled()}useNativeSelect(){return!l.a.detect().desktop()}initVisibilityOptions(){this.bbLocalize.loadBundle("components/directives/content-visibility").then((()=>{this.visibilityOptions=[{show:!0,visibility:x.w.Visible,text:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:this.visibleOptionKey}),onSelect:()=>{this.selectVisible()}},{show:!0,visibility:x.w.Hidden,text:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:this.hiddenOptionKey}),onSelect:()=>{this.selectHidden()}},{show:this.showConditionalReleaseMenuOption(),visibility:x.w.Restricted,text:this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.content-visibility.conditional-availability"}),onSelect:()=>{this.selectConditionalRelease()}}],this.selectedVisibilityOption=s.find(this.visibilityOptions,(e=>e.visibility===this.scope.content.getVisibilityAsStudent()))}))}isVisibleToStudents(){var e,t,n,i;return(null===(t=null===(e=this.scope.content)||void 0===e?void 0:e.hasOnlyForcedSequenceConditionalReleaseCriteria)||void 0===t?void 0:t.call(e))?this.scope.content.isAvailable:!!(null===(i=null===(n=this.scope.content)||void 0===n?void 0:n.isVisibleToStudents)||void 0===i?void 0:i.call(n))}isHiddenFromStudents(){var e,t,n,i;return(null===(t=null===(e=this.scope.content)||void 0===e?void 0:e.hasOnlyForcedSequenceConditionalReleaseCriteria)||void 0===t?void 0:t.call(e))?!this.scope.content.isAvailable:!!(null===(i=null===(n=this.scope.content)||void 0===n?void 0:n.isHiddenFromStudents)||void 0===i?void 0:i.call(n))}isConditionalRelease(){var e,t;return!this.isVisibleToStudents()&&!this.isHiddenFromStudents()&&!!(null===(t=null===(e=this.scope.content)||void 0===e?void 0:e.isConditionalRelease)||void 0===t?void 0:t.call(e))}}E.$inject=["scope","element","$q","$ngRedux",r.serviceName,o.b,m.d,"$modal",h.e];class I{constructor(e){this.$injector=e,this.restrict="E",this.scope={content:"=",onblurFunc:"&?",onchangeFunc:"&?",onRestrictedSelectedFunc:"&?",openPanelOnRestricted:"&?",disableRestricted:"&?",validationFunc:"&?",isVisibilitySelectorEnabled:"&?",hasMediumIcon:"=?"},this.template=g,this.link=(e,t)=>{e.contentVisibilitySelector=this.$injector.instantiate(E,{scope:e,element:t})}}}I.$inject=["$injector"],i.module(C,[p.a,h.b,f]).directive("bbContentVisibilitySelector",["$injector",e=>e.instantiate(I)])},sNuB:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("JzsJ");var i=n("Llzl"),s=n("0JpG"),a=n("TnpK");const o="ultra.course.goal-alignment.router";i.module(o,[a.b]).config([a.c,e=>{e.peekState("goal-picker-legacy",{panelClass:"full",url:"/goalPickerLegacy",resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/goal-alignment/goal")]},require:()=>n.e(635).then(n.bind(null,"8MxD")),pageTitle:"course.goal-alignment.goal.header",params:{goalAlignableContent:null}})}])},sa5q:function(e,t){e.exports='<div ng-switch on="content.canViewAsInstructor() || !content.shouldRestrict()">\n  \x3c!-- Center content title when it is only one line of text (without edit capability, description, or date restrictions). --\x3e\n  <a class="content-title"\n     bb-peek-sref="content-manage.edit.document({id:content.id})"\n     ng-switch-when="true"\n     ng-class="{\'name-middle\': contentItemBase.shouldAlignMiddle()}"\n     aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n     analytics-id="content.item.page.edit.document.link"\n     aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n     tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}">\n     <span>{{ content.title }}</span>\n  </a>\n  <span class="content-title"\n        ng-switch-default\n        ng-class="{\'name-middle\': contentItemBase.shouldAlignMiddle()}"\n        aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n        tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}">{{ content.title }}</span>\n</div>\n'},"sb+l":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("Llzl"),s=n("Sa5G"),a=n("0JpG"),o=n("w9Zy"),r=n("jhBu"),l=n("pjml"),c=n("TnpK");const d="ultra.base.stream.routes";i.module(d,[a.moduleName,o.d,r.a,l.N,c.b]).config([c.c,e=>{e.peekState("announcement",{url:"/announcement/:streamEntryId",require:()=>Promise.all([n.e(26),n.e(31),n.e(618)]).then(n.bind(null,"/Lzo")),pageTitle:"base.stream.entryTitle.announcement"}).peekState("stream-message",{url:"/message/:courseId/:conversationId",require:()=>Promise.all([n.e(35),n.e(642)]).then(n.bind(null,"yVjE")),pageTitle:"base.stream.entryTitle.message"}).peekState("content-group",{url:"/content/:streamEntryId",require:()=>Promise.all([n.e(26),n.e(31),n.e(662)]).then(n.bind(null,"G506")),resolve:{translations:[a.serviceName,e=>e.loadBundle("features/base/stream/content/content")]},pageTitle:"base.stream.content.pageTitle"}).peekState("notification-create",{abstract:!0,url:"/notification",resolve:{translations:[a.serviceName,e=>e.loadBundle("features/base/stream/notification")],isAdmin:[r.b,e=>e.hasSystemEntitlement(s.s.ViewAdminTop).then((e=>e))]},panelClass:"full",require:()=>n.e(592).then(n.bind(null,"s7sT")),pageTitle:"base.stream.notification.create.pageTitle"}).peekState("notification-create.steps",{url:"/create",panelClass:"full",pageTitle:"base.stream.notification.create.pageTitle",views:{"notification-step1@":{require:()=>n.e(141).then(n.bind(null,"At0Z"))},"notification-step2@":{require:()=>n.e(149).then(n.bind(null,"SPbX"))}}}).peekState("notification-edit",{abstract:!0,url:"/notification",resolve:{translations:[a.serviceName,e=>e.loadBundle("features/base/stream/notification")]},panelClass:"full",require:()=>n.e(593).then(n.bind(null,"OhPa")),pageTitle:"base.stream.notification.edit.pageTitle"}).peekState("notification-edit.steps",{url:"/edit",panelClass:"full",pageTitle:"base.stream.notification.edit.pageTitle",views:{"notification-step1@":{require:()=>n.e(141).then(n.bind(null,"At0Z"))},"notification-step2@":{require:()=>n.e(149).then(n.bind(null,"SPbX"))}}})}])},sgjL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var i=n("nsO7"),s=n("Llzl"),a=n("e6jQ"),o=n("Q/M7");const r="ultraUi.components.services.postMessageDispatcher",l="postMessageDispatcher";class c{constructor(e){this.$window=e,this.eventHandlers={},this.eventListenerBound=!1,this.superEventHandler=e=>{e.origin===o.j()&&e.data&&e.data.messageId&&i.forOwn(this.eventHandlers,(t=>{t.messageId===e.data.messageId&&t.eventHandler(e.data,e.source)}))}}callEventHandler(e,t){i.forOwn(this.eventHandlers,(n=>{n.messageId===e&&n.eventHandler(t,window)}))}registerEventHandler(e,t,n,s=!1){if(s){const t=[];i.forOwn(this.eventHandlers,((n,i)=>{n.messageId===e&&t.push(i)})),t.forEach((e=>{this.removeEventHandler(e)}))}const o=a.a();this.eventHandlers[o]={eventHandler:t,messageId:e},this.handleEventListener(),n.$on("$destroy",(()=>{this.removeEventHandler(o),this.handleEventListener()}))}removeEventHandler(e){this.eventHandlers[e]&&delete this.eventHandlers[e]}getDispatcherStatus(){return{count:Object.keys(this.eventHandlers).length,bound:this.eventListenerBound}}testDispatcherEventHandler(e){this.superEventHandler(e)}handleEventListener(){Object.keys(this.eventHandlers).length>0?this.eventListenerBound||this.addEventListener():this.removeEventListener()}addEventListener(){this.$window.addEventListener("message",this.superEventHandler,!1),this.eventListenerBound=!0}removeEventListener(){this.$window.removeEventListener("message",this.superEventHandler),this.eventListenerBound=!1}}c.$inject=["$window"];s.module(r,[]).service(l,c)},sqUP:function(e,t){e.exports='<bb-modal id="notification-modal-api-error"\n          class="notification"\n          modal-title-key="components.services.error-modal.error-insufficient-storage.title"\n          analytics-id-tag-prefix="components.services.error-modal.error-insufficient-storage">\n  <div name="modal-contents">\n    <div>\n      <p bb-translate>components.services.error-modal.error-insufficient-storage.information</p>\n    </div>\n    <div>\n      <p bb-translate>components.services.error-modal.error-insufficient-storage.description</p>\n    </div>\n    <bb-session-debug-modal-button></bb-session-debug-modal-button>\n  </div>\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button js-primary-button"\n          analytics-id="components.services.error-modal.dismiss"\n          bb-translate>components.services.error-modal.dismiss</button>\n</bb-modal>\n'},"st/R":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-clear",use:"icon-small-clear-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-clear"><path d="M1 8c0-3.866 3.134-7 7-7v0c3.866 0 7 3.134 7 7v0c0 3.866-3.134 7-7 7v0c-3.866 0-7-3.134-7-7v0zM10 6l-4 4M6 6l4 4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},suMx:function(e,t,n){"use strict";n("q1bP");var i=n("Llzl"),s=n("Nyb7");const a="ultra.components.directives.statistics.complexStatistic";class o{constructor(e,t,n){this.scope=e,this.element=t,this.$compile=n;const i=this.$compile(this.scope.item().complexTemplate)(this.scope.item().complexScope);t.append(i)}}o.$inject=["scope","element","$compile"];class r{constructor(e){this.$injector=e,this.replace=!0,this.restrict="A",this.template=s,this.scope={item:"&"},this.link=(e,t)=>{e.complexStatistic=this.$injector.instantiate(o,{scope:e,element:t})}}}r.$inject=["$injector"],i.module(a,[]).directive("bbComplexStatistic",["$injector",e=>e.instantiate(r)]);var l=n("zphb");const c="ultra.components.directives.statistics.simpleStatistic";class d{constructor(e,t){this.scope=e,this.$sce=t,this.scope.item().trusted=t.trustAsHtml(this.scope.item().data)}}d.$inject=["scope","$sce"];class u{constructor(e){this.$injector=e,this.replace=!0,this.restrict="A",this.template=l,this.scope={item:"&"},this.link=e=>{e.simpleStatistic=this.$injector.instantiate(d,{scope:e})}}}u.$inject=["$injector"],i.module(c,[]).directive("bbSimpleStatistic",["$injector",e=>e.instantiate(u)]);var m=n("c2Z8");n.d(t,"a",(function(){return p}));const p="ultra.components.directives.statistics";class h{constructor(e){this.scope=e,this.smallPerRow=e.smallPerRow()||1,this.largePerRow=e.largePerRow()||4,this.scope.$watch("config()",(e=>{e&&(this.config=e.length>10?e.slice(0,10):e,this.total=this.config.length)}))}}h.$inject=["scope"];class g{constructor(e){this.$injector=e,this.replace=!0,this.restrict="AE",this.template=m,this.scope={config:"&",smallPerRow:"&",largePerRow:"&"},this.link=e=>{e.statistics=this.$injector.instantiate(h,{scope:e})}}}g.$inject=["$injector"],i.module(p,["dibari.angular-ellipsis",a,c]).directive("bbStatistics",["$injector",e=>e.instantiate(g)])},"t04/":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-course_catalog_default",use:"icon-small-course_catalog_default-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-course_catalog_default"><path d="M5 14.5c-2 1.0446-4 0-4 0v-13c2-1 4 0 4 0v13zM15 14.5c-2 1.125-4 0-4 0v-13s2-1 4 0v13zM8 11v1m0-7v1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M11 14.5357c-3 1.0447-6 0-6 0V1.5s3-1 6 0v13.0357z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},t3AZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Llzl"),s=n("0JpG");const a="ultra.components.directives.translateAttrsDirective",o="bbTranslateAttrs";class r{constructor(e,t,n,i,s,a){this.$q=e,this.bbLocalize=t,this.scope=n,this.element=i,this.attrs=s,this.origAttrs=a,this.currentAttrs={},this.currentValues={},this.getOrigAttrsString=()=>this.origAttrs[o],this.getOrigValuesString=()=>this.origAttrs.translateAttrsValues,this.getAttrsString=()=>this.attrs[o],this.getValuesString=()=>this.attrs.translateAttrsValues,this.updateValues=()=>Object.assign(this.currentValues,this.scope.$eval(this.getValuesString()));let r=!0;this.isOnetimeBind(this.getOrigAttrsString())?this.updateAttrs():(this.scope.$watch(this.updateAttrs.bind(this),this.translate.bind(this),!0),r=!1),this.isValuesStringDefined()&&!this.isOnetimeBind(this.getOrigValuesString())&&(this.scope.$watch(this.updateValues.bind(this),this.translate.bind(this),!0),r=!1);const l=n.$root.$on("$translateChangeSuccess",this.translate.bind(this));n.$on("$destroy",l),r&&this.translate()}updateAttrs(){return Object.assign(this.currentAttrs,this.scope.$eval(this.getAttrsString()))}isValuesStringDefined(){return null!=this.getOrigValuesString()}isOnetimeBind(e){return 0===e.indexOf("::")}translate(){const e={},t=this.bbLocalize.getLocale(this.scope);i.forEach(this.currentAttrs,((n,i)=>{e[i]=this.bbLocalize.translate({locale:t,key:n,params:this.currentValues,noWrap:!0,noEscape:!0})})),this.$q.all(e).then((e=>{Object.keys(e).forEach((t=>{this.attrs.$set(t,e[t],!0,t)}))}))}}class l{constructor(e,t){this.$q=e,this.bbLocalize=t,this.restrict="A",this.scope=!1,this.compile=(e,t)=>{t[o];return(e,n,i)=>new r(this.$q,this.bbLocalize,e,n,i,t)}}}l.$inject=["$q",s.serviceName],i.module(a,[s.moduleName]).directive(o,["$injector",e=>e.instantiate(l)])},t6LE:function(e,t,n){"use strict";n.r(t),n.d(t,"moduleName",(function(){return g})),n.d(t,"serviceName",(function(){return b})),n.d(t,"ToolAttemptDetailItemEx",(function(){return f})),n.d(t,"isGroupAttempt",(function(){return k}));n("QLzv");var i=n("nsO7"),s=n("5MwF"),a=n("vYaK"),o=n("yCC5"),r=n("Rjd/"),l=n("JrDC"),c=n("wgY5"),d=n("IbyE"),u=n("nkTj"),m=n("94iD"),p=n("6vR2"),h=n("zGdY");const g="ultra.components.services.models.grade.gradeAttempt",b=o.cb;class f{constructor(e,t){this.gradeAttempt=e,this.toolAttemptDetailItem=t,this._softTimeLimitDate=c(this.gradeAttempt.creationDate).add(this.softTimeLimitSecond,"seconds").toDate(),this._graceTimeLimitSecond=this.softTimeLimitSecond+f.GRACE_PERIOD_SECOND,this._graceDate=c(this.gradeAttempt.creationDate).add(this._graceTimeLimitSecond,"seconds").toDate(),this._isSubmittedInGracePeriod=c(this.gradeAttempt.attemptDate).isBetween(c(this.gradeAttempt.creationDate),c(this._graceDate)),this._hasAnswerIsModifiedInGracePeriod=i.filter(this.toolAttemptDetailItem.questionAttempts,(e=>!i.isEmpty(e.saveTimes)&&c(this.getLastModifyTime(e)).isBetween(this._softTimeLimitDate,this._graceDate))).length>0}get elapsedDuration(){return c.duration(c(this.gradeAttempt.attemptDate).diff(c(this.gradeAttempt.creationDate)))}get elapsedSec(){return Math.ceil(this.elapsedDuration.asSeconds())}get softTimeLimitSecond(){return this.isTimerCompletionH()?this.toolAttemptDetailItem.softTimeLimitSeconds:this.toolAttemptDetailItem.timeLimitSeconds}needAttention(){return!i.isUndefined(this.toolAttemptDetailItem.timeLimitSeconds)&&(this.elapsedSec>this._graceTimeLimitSecond||this._isSubmittedInGracePeriod&&this._hasAnswerIsModifiedInGracePeriod)}getExceedTime(){return Math.floor(c.duration(this.elapsedSec-this.softTimeLimitSecond,"seconds").asMinutes())}isCompleted(){return this.gradeAttempt.isCompleted()}isTimerCompletionH(){return this.toolAttemptDetailItem.timerCompletion===h.gc.HardStop}isTimerCompletionC(){return this.toolAttemptDetailItem.timerCompletion===h.gc.Continual}getLastModifyTime(e){return i.maxBy(e.saveTimes,(e=>e.date)).date}isAnsweredAfterSoftTimeLimit(e){return!i.isEmpty(e.saveTimes)&&c(this.getLastModifyTime(e)).isAfter(this._softTimeLimitDate)}getQuestionsAnsweredAfterSoftTimeLimit(){return i.filter(this.toolAttemptDetailItem.questionAttempts,(e=>this.isAnsweredAfterSoftTimeLimit(e)))}}f.GRACE_PERIOD_SECOND=60;const v=function(e){i.forEach(e,((e,t)=>{e.timeLimitSec=e.timeLimitSec||e.timeLimitSeconds}))},y=(e,t)=>{t.length>0&&e.dispatch(d.X.questionAttempt.setQuestionAttemptsInStore(t))};function k(e){return void 0!==e.attempts}const x=e=>{var t,n,i;const s=null!==(t=(e.toolAttemptDetail?Object.keys(e.toolAttemptDetail):[])[0])&&void 0!==t?t:d.Q.Test.toString(),a=null===(n=e.toolAttemptDetail)||void 0===n?void 0:n[s];let o=null!==(i=null==a?void 0:a.questionAttempts)&&void 0!==i?i:[];return k(e)&&e.attempts.forEach((e=>{o=o.map((t=>({...t,groupAttemptId:t.attemptId,attemptId:e.id})))})),o};r.a.factory(b,["restmod",u.c,a.serviceName,"$ngRedux",(e,t,n,a)=>e.model().mix({creationDate:{serialize:"date"},modifiedDate:{serialize:"date"},attemptDate:{serialize:"date"},attemptFirstGradedDate:{serialize:"date"},attemptLastGradedDate:{serialize:"date"},"attemptReceipt.submissionDate":{serialize:"date"},originality:{hasOne:o.ab,path:"submissionResults"},assessment:{hasOne:o.f,path:"assessment"},stagedAttemptGrades:{init:()=>[]},$hooks:{"after-fetch":function(){y(a,x(this)),v(this.toolAttemptDetail)},"after-fetch-many":function(){let e=[];i.forEach(this,(t=>{e=e.concat(x(t)),v(t.toolAttemptDetail)})),y(a,e)},"after-save":e=>{const t=Object(p.a)(e.data);a.dispatch(d.X.gradebookAttempt.setGradeAttemptInStore(t))}},$extend:{Scope:{$destroyUrlFor:e=>s.a.apiBasePath+"/v1/courses/"+l.a(n,e.$scope)+"/gradebook/attempts/"+e.id},Record:{isPostable(){return this.readyToPost&&(h.l.NeedsGrading===this.status||h.l.NeedsMoreGrading===this.status)},isCompleted(){return h.l.Completed===this.status},isGraded(){return this.displayGrade&&(null!=this.displayGrade.score||null!=this.displayGrade.grade)||this.readyToPost},isGradable(e){const t=this.getToolAttemptDetailItem(e);return t&&t.assessment&&!t.assessment.hasAnswerableQuestions},isInProgress(){return h.l.InProgress===this.status||h.l.InMoreProgress===this.status},isSubmitted(){return!this.isInProgress()},isNeedsGrading(){return h.l.NeedsGrading===this.status||h.l.NeedsMoreGrading===this.status},isReconciled(){return null!=this.reconciliationMode},getToolAttemptDetailItem(e){return this.toolAttemptDetail?this.toolAttemptDetail[e.toString()]:null},getToolAttemptDetailItemEx(e){const t=this.getToolAttemptDetailItem(e);return null!=t?new f(this,t):null},getTimedTestAttemptDetail(){const e=this.getTimedTestApiData();return e?new m.a(e):null},getTimedTestAttemptDetailWithDueDate(e){return new m.a({...this.getTimedTestApiData(),dueDate:e})},getTimedTestApiData(){const e=this.getToolAttemptDetailItem(d.Q.Test);return null==e?null:{elapsedSec:e.elapsedSeconds,timeLimitSec:e.timeLimitSeconds,softLimitSec:e.softTimeLimitSeconds,timerCompletion:e.timerCompletion}},getFeedbackToUser(){return this.feedbackToUser},getGroupIndividualFeedbackToUser(){return this.groupAttemptId&&this.overrideStatus===h.j.FeedbackOverride?this.feedbackToUser:null},getLastFeedbackAuthor(){return this.lastFeedbackAuthor},isPrePostGrade(){return!this.isCompleted()||!this.readyToPost||!this.userId},isDisplayablePostedGrade(){return this.isCompleted()&&this.readyToPost&&null!=this.userId}},Collection:{getNumAttemptsToGrade(){return this.filter((e=>e.isNeedsGrading()&&!e.isPostable())).length},getNumAttemptsToReconcile(){return this.getNumAttemptsToGrade()},getNumAttemptsToPost(){return this.filter((e=>e.isPostable())).length},getNumAttemptsSubmittedLate(e){return this.filter((t=>t.isSubmitted()&&c(t.attemptDate).isAfter(e))).length},getNumAttemptsSubmitted(){return this.filter((e=>e.isSubmitted())).length},getNumOfGradedAttempts(){return this.filter((e=>e.isGraded())).length},isAllGradedAndPosted(){return this.length>0&&this.every((e=>e.isCompleted()))},isAtLeastOneGradedAndPosted(){return this.length>0&&this.some((e=>e.isCompleted()))},isFirstAttemptPosted(){var e;return null===(e=this.getFirstAttempt())||void 0===e?void 0:e.isCompleted()},isLastSubmittedAttemptPosted(){var e;return null===(e=this.getLastSubmittedAttempt())||void 0===e?void 0:e.isCompleted()},getAttemptIndexById(e){return i.findIndex(this,(t=>{var n;return(null!==(n=t.groupAttemptId)&&void 0!==n?n:t.id)===e}))},getFirstAttempt(){return this.length?this[0]:void 0},getLastSubmittedAttempt(){return this.length?this[this.length-1]:void 0}}}})])},t6zR:function(e,t,n){"use strict";var i=n("wDWF");let s,a;class o{static getBasePageStorageKey(){return s||(s="ultra.ui.basepage."+i.a(o.userId)),s}static getPeekPageStorageKey(){return a||(a="ultra.ui.peekpage."+i.a(o.userId)),a}}t.a=o},tBL6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("VAMW"),s=n("6fZB"),a=n("zGdY");class o{constructor(e){this.$q=e}isParentInLearningModule(e,t){var n;return!!(null===(n=t.children)||void 0===n?void 0:n.some((t=>e.parentId===t.id)))}isInLearningModule(e,t){return e.parentId===t.id||this.isParentInLearningModule(e,t)}getParentFolderInLearningModule(e,t){var n;return null===(n=t.children)||void 0===n?void 0:n.find((t=>e.parentId===t.id))}updateCourseLinksForContents(e,t){e.forEach((e=>{var n,i,s;(null===(n=e.children)||void 0===n?void 0:n.length)?this.updateCourseLinksForContents(e.children,t):t.includes(null===(s=null===(i=e.ui)||void 0===i?void 0:i.linkSource)||void 0===s?void 0:s.id)&&e.visibility!==a.w.Visible&&e.$fetch().$asPromise().then((()=>{e.getLinkContentSource({fromServer:!0})}))}))}refreshCourseLinksVisibility(e,t,n=[]){return e.forEach((e=>{var i,s,o;if(null===(i=e.children)||void 0===i?void 0:i.length)return this.refreshCourseLinksVisibility(e.children,t,n);e.isCourseLink()&&e.visibility!==a.w.Visible&&t===(null===(o=null===(s=e.ui)||void 0===s?void 0:s.linkSource)||void 0===o?void 0:o.id)&&n.push(e.$fetch().$asPromise().then((()=>{e.getLinkContentSource({fromServer:!0})})))})),this.$q.all(n).then((()=>this.$q.resolve()))}refreshCourseLinksWhichTargetIsInLearningModule(e,t,n){var i,s;return n&&(null==e?void 0:e.isInForcedSequenceModule())?this.refreshCourseLinksVisibility(t.$scope,null===(s=null===(i=t.ui)||void 0===i?void 0:i.linkSource)||void 0===s?void 0:s.id):this.$q.resolve()}refreshChildren(e,t,n){var i,s;if(!e||!(null==t?void 0:t.children))return this.$q.resolve();const a=this.getParentFolderInLearningModule(e,t);if(e&&t.isForcedSequenceModule()&&n&&this.isInLearningModule(e,t)){const n=[t.$fetch().$asPromise(),null===(i=t.getChildren({limit:t.children.length+1}))||void 0===i?void 0:i.$asPromise()];return(null==a?void 0:a.children)&&n.push(null===(s=a.getChildren({limit:a.children.length+1}))||void 0===s?void 0:s.$asPromise()),this.$q.all(n).then((([,n,i])=>{n.forEach(((e,i)=>{var s,a;const o=null===(s=t.children)||void 0===s?void 0:s.findIndex((t=>t.id===e.id));o>=0&&(n[i].ui=null===(a=t.children[o])||void 0===a?void 0:a.ui,n[i]=Object.assign(t.children[o],n[i]))})),a&&i&&i.forEach(((e,t)=>{const n=a.children.findIndex((t=>t.id===e.id));-1!==n&&(a.children[n]=Object.assign(a.children[n],i[t]))}));const s=[e.id],o=t.children.findIndex((t=>t.id===e.id));-1!==o&&t.children[o+1]&&s.push(t.children[o+1].id),this.updateCourseLinksForContents(t.$scope,s.filter(Boolean))}))}return this.$q.resolve()}}class r{constructor(e){this.$q=e,this.key=i.d.LearningModuleRefreshChildrenOperations,this.angularRefresher=new o(this.$q)}refreshChildren(e,t,n){const i=this.angularRefresher.refreshChildren(e,t,n);return Object(s.a)(i)}refreshCourseLinksWhichTargetIsInLearningModule(e,t,n){const i=this.angularRefresher.refreshCourseLinksWhichTargetIsInLearningModule(n,e,t);return Object(s.a)(i)}}},tMbR:function(e,t,n){"use strict";var i=n("ERkP"),s=n("ubfy"),a=n("np6O"),o=n("dIht"),r=n("7O4Y"),l=n("In+A"),c=n("Hj9i"),d=n("Afl9");let u=1;const m=()=>{const e=u;return u+=1,e};n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b}));const p="guidance.featureAnnouncement",h="guidance-react_feature-announcement_",g=e=>{const{announcementTitle:t,content:n,componentKey:u,linkHref:g,linkText:b,buttonAriaLabel:f,doneButtonText:v,onCloseAnnouncement:y,closeLabel:k}=e,[x]=i.useState(m),S=`feature-announcement__icon-button__${x}`,C=Object(d.a)(),[E,I]=i.useState(!1),[w,A]=Object(c.a)(`${p}.${u}`);if(!w&&!E)return null;const O={id:`${h}${u}`,selector:`.${S}`,title:t,content:n};return g&&b&&(O.link=i.createElement(s.b,{analyticsId:`${p}.link`,href:g,target:"_blank"},b)),i.createElement("div",null,i.createElement(a.AnalyticsIconButton,{analyticsId:`${p}.icon-button`,"aria-label":f,className:Object(r.a)(S,!E&&C.animatedIconButton),onClick:()=>((e,t)=>{l.f.stopQueue(),e(!0),t()})(I,A),onFocus:e=>e.stopPropagation()},i.createElement(o.a,{className:C.icon})),i.createElement(s.a,{analyticsId:`${p}.tour`,open:E,steps:[O],onClose:()=>{y&&y(),(e=>{e(!1),l.f.startQueue()})(I)},showHighlight:!1,showBackdrop:!1,strings:{doneSingleText:v,closeLabel:k}}))},b=()=>!!document.querySelector(`*[id^="${h}"]`)},tPPx:function(e,t,n){"use strict";n.r(t),n.d(t,"COURSE_ROLES_LIMIT",(function(){return o})),n.d(t,"toBeLocalizedRoleLabels",(function(){return l})),n.d(t,"toBeLocalizedOrgRoleLabels",(function(){return c})),n.d(t,"serviceName",(function(){return d})),n.d(t,"USER_API_PATH",(function(){return u}));n("QLzv");var i=n("5MwF"),s=n("Rjd/"),a=n("yCC5");const o=1e3,r={S:0,T:1,B:2,G:3,BB_FACILITATOR:4,P:5,U:6},l={S:"global.course.role.S",P:"global.course.role.P",BB_FACILITATOR:"global.course.role.BB_FACILITATOR",T:"global.course.role.T",B:"global.course.role.B",G:"global.course.role.G",U:"global.course.role.U"},c={S:"global.organization.role.S",P:"global.organization.role.P",BB_FACILITATOR:"global.organization.role.BB_FACILITATOR",T:"global.organization.role.T",B:"global.organization.role.B",G:"global.organization.role.G",U:"global.organization.role.U"},d=a.S,u=i.a.apiBasePath+"/v1/roles/courseRoles";s.a.factory(d,["restmod",e=>e.model(u).mix({localizedCourseName:{mask:!0},$extend:{Collection:{loadLocalizedNames(e){return this.forEach((t=>{t.isRemovable?t.localizedRoleName=e?t.orgName.rawValue:t.courseName.rawValue:t.localizedRoleName=e?"global.organization.role."+t.identifier:"global.course.role."+t.identifier})),this},sortByStudentFirst(e){return this.$action((function(){this.sort((function(t,n){const i=t.identifier,s=n.identifier;if(i in r&&s in r)return r[i]-r[s];if(i in r&&!(s in r))return-1;if(!(i in r)&&s in r)return 1;let a,o;return"organization"===e?(a=t.orgName.languageKey,o=n.orgName.languageKey):(a=t.courseName.languageKey,o=n.courseName.languageKey),a>o?1:a<o?-1:0}))}))}}}})])},"tQ/B":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return k}));var i=n("D57K"),s=n("aHpC"),a=n("Qbdf"),o=n("TnpK"),r=n("0JpG"),l=n("RPob");const c="ultra.service.course-context.title-handle",d="coursePageTitleHandling",u=d+"Provider",m={},p={};function h(e,t){p[e]={handlerClass:t}}function g(e){const t=p[e];if(!t)throw new Error(`Handler '${e}' not registered`);return t}function b(e,t,n,i){e&&(n=n||[],Object.keys(e).forEach((s=>{if(i&&s in t||n.some((e=>s===e)))return;const a=e[s];t[s]=a})))}let f=class e{constructor(t){this.injector=t,this.providerName=d,this.$args={},this.$get=["$injector",t=>t.instantiate(e)]}get provides(){return this.$args.provides||"BasePageTitleHandler"}get instance(){return this.$instance?this.$instance:this.getHandler()}get args(){return this.$args}config(e){return new v(this,e||{})}clean(){return this.instance.clean(),Object.keys(this.args).forEach((e=>{delete this.args[e]})),this.$instance=null,this}setDefaultHandler(e){return this.$args.provides=e,this.isInitialized()&&(this.$instance=this.getHandler(this.provides)),this}isInitialized(e){if(this.injector)return!0;if(e)throw new Error("Provider not initialized")}registerHandler(e,t){h(e,t)}getHandlerRegistry(e){return g(e||this.provides)}getHandlerClass(e){return function(e){var t;return null===(t=g(e))||void 0===t?void 0:t.handlerClass}(e||this.provides)}getHandler(e,t){if(this.isInitialized(!0)){const n=e||this.provides;if(n===this.$args.provides&&this.$instance)return this.$instance;const i=this.getHandlerRegistry(n);return i.handler||(i.handler=this.injector.instantiate(i.handlerClass),i.handler.getProviderConfig=()=>this.args,i.handler.args={...this.args}),t&&(this.$args.provides=n,this.$instance=i.handler),i.handler}}};f=Object(i.a)([Object(i.c)(0,Object(s.b)("$injector"))],f);class v{constructor(e,t){this.provider=e,this.args=t}build(e){var t;const n=e.injector||this.provider.injector;if(delete e.injector,!n)throw new Error("No injector to build Handler");const i=n.get(this.provider.providerName);return this.args.provides&&this.args.provides!==i.provides&&(i.instance.stopListeningOnAll(),i.setDefaultHandler(this.args.provides)),(null===(t=this.args.clean)||void 0===t||t)&&i.clean(),b(this.args,i.args,["clean"]),this.instance=i.instance.build(e),this}process(e,...t){return this.isBuilt(!0),this.instance.process(e,...t)}isBuilt(e){if(this.instance)return!0;if(e)throw new Error("Handler not initialized")}}let y=class{constructor(e,t,n,i){this.$injector=e,this.$rootScope=t,this.ultraState=n,this.bbLocalize=i}get pageTitle(){return this.args.pageTitle}set pageTitle(e){this.args.pageTitle=e}get name(){return this.args.name}set name(e){this.args.name=e}build(e){return b(e,this.args),b(this.getProviderConfig(),this.args),this.args.listenOn&&(Array.isArray(this.args.listenOn)?this.args.listenOn.forEach((e=>{this.listenOn(e)})):this.listenOn(this.args.listenOn)),this}clean(){return this.stopListeningOnAll(),Object.keys(this.args).forEach((e=>{delete this.args[e]})),this}getUltraPageName(){const e=this.pageTitle||"base.ultra";return this.args.resolveOrgCourseKey&&this.pageTitle?this.translateCourseOrg(e.substring(0,e.length-".course".length)):this.translate(e)}translateCourseOrg(e){const t="organizations"===this.ultraState.getCurrentUrlParams().coursesOrOrganizations,n=Object(l.m)(t,l.a.AppendSection);return this.translate(n(e))}translate(e){return this.bbLocalize.translate({locale:this.$rootScope.index.locale,key:e})}process(e,...t){return this.getUltraPageName().then((e=>{this.$rootScope.index.title=`${e}`}))}listenOn(e,t=!0){this.stopListeningOn(e);let n=null;n=Array.isArray(t)?(e,...n)=>{if(t.some((e=>this.ultraState.current.name===e)))return this.process(e,...n)}:t?(e,...t)=>{if(this.name===this.ultraState.current.name)return this.process(e,...t)}:(e,...t)=>this.process(e,...t);const i=this.$rootScope.$on(e,n);return m[e]=i,i}stopListeningOn(e){if(Object.keys(m).includes(e))return m[e](),delete m[e],!0}stopListeningOnAll(){Object.keys(m).forEach((e=>{m[e](),delete m[e]}))}};y=Object(i.a)([Object(i.c)(0,Object(s.b)("$injector")),Object(i.c)(1,Object(s.b)("$rootScope")),Object(i.c)(2,Object(s.b)(o.d)),Object(i.c)(3,Object(s.b)(r.serviceName))],y);let k=class extends y{constructor(e,t,n,i,s){super(e,t,n,i),this.$injector=e,this.$rootScope=t,this.ultraState=n,this.bbLocalize=i,this.currentCourse=s}process(e,...t){return this.getUltraPageName().then((e=>{this.$rootScope.index.title=`${e} / ${this.currentCourse.course.name}`}))}};k=Object(i.a)([Object(i.c)(0,Object(s.b)("$injector")),Object(i.c)(1,Object(s.b)("$rootScope")),Object(i.c)(2,Object(s.b)(o.d)),Object(i.c)(3,Object(s.b)(r.serviceName)),Object(i.c)(4,Object(s.b)(a.e))],k);h("BasePageTitleHandler",y),h("CoursePageTitleHandler",k);const x=[o.b,r.moduleName];angular.module(c,x).provider(d,class extends f{})},tTiy:function(e,t){e.exports='<div class="discussion-assignment">\n  <button class="button-add-content js-show-add-options"\n          data-show-add-options ng-click="addContentButton.toggleMenu()"\n          ng-class="{hide: !(addContentButton.isButtonVisible || addContentButton.alwaysShow || addContentButton.isMenuVisible)}"\n          aria-expanded="{{addContentButton.isMenuVisible}}"\n          aria-controls="{{::\'add-content-menu-\' + addMenuId}}"\n          aria-label="{{addContentButton.addButtonAriaLabel}}"\n          ng-focus="addContentButton.showButton()"\n          ng-blur="addContentButton.hideButton()"\n          analytics-id="components.directives.add-content-button.attempts.button">\n  </button>\n  \x3c!-- use ng-show to keep the element when close add buttons, make sure the upload directive handlers will not be lost --\x3e\n  <ul role="menu" class="element-list-add-menu outline-menu angular-animate"\n      aria-expanded="{{addContentButton.isMenuVisible}}"\n      ng-attr-id="{{::\'add-content-menu-\' + addMenuId}}"\n      ng-if="::addContentButton.isMenuVisible || undefined"\n      ng-show="addContentButton.isMenuVisible">\n    <li>\n      <bb-file-upload\n        url="/v1/files"\n        data="{}"\n        monitor-leave="true"\n        allow-multiple="true"\n        target-div="{{\'#\' + fileListViewId}}"\n        disable-drag="disableDrag && disableDrag()"\n        hide-transclude-during-upload="false"  is-third-party-upload="false"\n        third-party-download-handler="addContentButton.downloadFile"\n        skip-zip-file-check="true">\n        <div class="columns medium-12" ng-class="{\'medium-center\': attempt.isMobile}">\n          <a href="javascript:void(0);"\n             role="menuitem"\n             bb-translate-attrs="{\'aria-label\':\'course.content.buildContentArea.addFiles\'}"\n             ng-click="addContentButton.toggleMenu()"\n             analytics-id="components.directives.add-content-button.attempts.fileUpload.link">\n            <bb-svg-icon size="small" icon="upload"></bb-svg-icon>\n            <span bb-translate>course.content.fileUpload.addFiles</span>\n          </a>\n        </div>\n      </bb-file-upload>\n    </li>\n  </ul>\n</div>\n'},"tb/u":function(e,t){e.exports='<div>\n  <bb-user-avatar ng-repeat="user in displayUsers" user="user"></bb-user-avatar>\n</div>'},tcaZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("D57K"),s=n("Llzl"),a=n("In+A"),o=n("5KgE"),r=n("aHpC");const l="ultra.components.directives.firstTimeContainer";let c=class{constructor(e){this.firstTimeHelper=e,this.manager=a.f}};c=Object(i.a)([Object(i.c)(0,Object(r.b)(o.c))],c);class d{constructor(){this.restrict="AE",this.controller=c,this.link=(e,t,n,i)=>{i.manager.startQueue(),e.$on("hide-ftue-component",((e,t)=>{i.manager.hideComponent(t)}))}}}s.module(l,[o.b]).directive("bbFirstTimeContainer",["$injector",e=>e.instantiate(d)])},"td+C":function(e,t,n){"use strict";(function(e){var i=n("nsO7"),s=n("zGdY"),a=n("IbyE"),o=n("Q/M7"),r=n("6vR2"),l=n("v6Sp"),c=n("oPIA"),d=n("ObAk"),u=n("x9Ok");t.a=new class{constructor(){this.helloMessageListener=e=>{var t,n,i;const s=Array.from(this.integrations.values()).find((t=>t.iframe.contentWindow===e.source));if(!s&&(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.type)!==c.p)return;if((null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.type)!==c.p)return void console.warn(`Received unexpected postMessage. Expected event type [${c.p}], but got [${null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.type}] instead`,e);if(!s)return void console.warn("Could not find a valid integration for message -- did the event come from an unexpected frame?");const a=Object(o.i)(s.url);if(Object(o.i)(s.url)!==e.origin)return void console.warn(`Message came from origin [${e.origin}], but we were expecting [${a}]. Authorization requests must come from the same origin that was configured in the LTI placement.`);const r=new MessageChannel;s.integrationChannel=r.port1,s.integrationChannel.onmessage=e=>{this.onIntegrationMessage(e.data,s)},s.iframe.contentWindow.postMessage({type:c.p},e.origin,[r.port2])},this.onIntegrationMessage=(e,t)=>{if(!e)return;const n=l.a.authScopes.get(e.type);if(n){if(!n(e,t))return}const i=this.integrationMessageEvents.get(e.type);i?i(e,t):console.warn(`No valid method to call with provided event type ${e.type}.`)},this.sendAuthorizedMessage=async(e,t)=>{if(!e||!e.token)return this.sendAuthorizationError(t,"Received authorized message without token");const n=e.token;try{const e=await Object(a.tb)(n);if(null==e.scope){const e=`Could not authenticate, no auth scopes provided for ${t}`;return this.sendAuthorizationError(t,e)}const i=new Set(e.scope.split(/\s+/));this.checkPremiumAccess(t,i),t.authScopes=i,t.integrationChannel.postMessage({type:c.d})}catch(e){const n=e,i=n.error&&n.error.error,s="invalid_request"===i,a=n.error&&n.error.error_description,o=s?"Expired or invalid token.":`Server side error occurred: ${i}, ${a}`;return this.sendAuthorizationError(t,o)}},this.checkPremiumAccess=(e,t)=>{if(!t.has(c.J)){const t="This integration does not have UEF access enabled.";this.sendAuthorizationError(e,t)}},this.sendAuthorizationError=(e,t)=>{const n={type:c.eb,errorInformation:t};this.sendMessage(n,e),this.removeIframe(e)},this.removeIframe=e=>{this.document.body.querySelector(`#${e.iframe.id}`).remove()},this.sendRouteEvent=e=>{const t=u.b.getCurrentRoute();this.sendMessage({type:c.j,eventType:c.hb.Route,routeName:t.currentRouteName,routeData:t.currentParams},e)},this.integrations=new Map,this.integrationMessageEvents=new Map,this.integrationSubscriptionManager=new d.a}async init(e){if(this.window=e,this.document=e.document,this.isSafeMode())return console.warn("In integration safe mode -- not loading integrations"),null;try{const e=await Object(s.ld)(a.hc,{query:{type:s.Kb.UltraUI}});return this.window.addEventListener("message",this.helloMessageListener),this.initIntegrationMessageTypes(),this.initIntegrationSubscriptionCallbacks(),this.loadIntegrations(e),e}catch(e){return null}}loadIntegrations(t){!t||this.integrations&&this.integrations.size>0||t.results.forEach((t=>{if(t.availability.available!==s.Mb.Yes)return;const n=e(`<iframe id="${t.id}" src="${Object(o.c)(t.launchLink)}"></iframe>`).hide();this.document.body.appendChild(n[0]),this.integrations.set(t.id,{id:t.id,hasAuthorized:!1,iframe:n[0],url:t.url,authScopes:new Set})}))}isSafeMode(){return"true"===Object(o.m)("noExtensions",this.window.location.href)}addIntegrationMessageType(e,t){this.integrationMessageEvents.get(e)||this.integrationMessageEvents.set(e,t)}addSubscriptionEventCallback(e,t){return this.integrationSubscriptionManager.onSubscriptionEventCallback(e,t)}addUnsubscriptionEventCallback(e,t){return this.integrationSubscriptionManager.onUnsubscriptionEventCallback(e,t)}initIntegrationMessageTypes(){this.addIntegrationMessageType(c.d,this.sendAuthorizedMessage),this.addIntegrationMessageType(c.db,this.integrationSubscriptionManager.subscribeToEvents),this.addIntegrationMessageType(c.fb,this.integrationSubscriptionManager.unsubscribeFromEvents)}initIntegrationSubscriptionCallbacks(){this.addSubscriptionEventCallback(c.hb.PortalNew,(e=>{l.e.getUnownedPortals().forEach((t=>{e.integrationChannel.postMessage({type:c.j,eventType:c.hb.PortalNew,portalId:t.portalId,selector:t.selector,selectorData:t.selectorData})}))})),this.addSubscriptionEventCallback(c.hb.Route,(e=>{const t=u.b.getCurrentRoute();this.sendMessage({type:c.j,eventType:c.hb.Route,routeName:t.currentRouteName,routeData:t.currentParams},e)}))}sendEventMessage(e,t){const n=this.integrationSubscriptionManager.getSubscribedIntegrations(e.eventType);if(!n)return;(t?[this.findIntegration(t)]:n).forEach((t=>{t&&this.sendMessage(Object(r.b)(e),t)}))}findIntegration(e){return this.integrations.get(e)}sendMessage(e,t){let n;n=Object(i.isString)(t)?this.findIntegration(t):t,n.integrationChannel.postMessage(Object(r.b)(e))}}}).call(this,n("71td"))},tecA:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n("D57K"),s=n("Llzl"),a=n("0JpG"),o=n("TnpK"),r=n("+4Px"),l=n("g66W"),c=n("aHpC");const d="text-editor-update-original-value";let u=class{constructor(e,t,n,i,s){this.scope=e,this.element=t,this.ctrl=n,this.bbLocalize=i,this.bbUltraState=s,this.focusOnAuthorControls=!1,this.isTextTouched=!1,this.myDirection="down",this.preventBlur=!1,this.currentStateName=s.current.name,e.disableInlineEditing=null!=e.disableInlineEditing&&e.disableInlineEditing,this.scope.$stopDigestPropagation=!0,this.originalNgModel=this.scope.ngModel,e.direction&&null!=e.direction()&&(this.myDirection=e.direction());const a=!(this.scope.ngModel&&this.scope.ngModel.length);e.$emit("text-editor-empty",{textEditor:this,isEmpty:a}),e.$root.$on("bb-bbml-editor-bbml-pre-redraw",(()=>{this.updateOriginalValues()})),e.$on("text-editor-set-pristine",(()=>{this.isTextTouched=!1})),e.$on("text-editor-viewValue-initialized",(()=>{this.truncatedViewValue=this.ctrl.$viewValue})),e.$on("text-editor-reset-to-original-value",(()=>{this.isDirty()&&this.updateOriginalValues(),this.resetEditor(!1)})),e.$on(d,(()=>{this.updateOriginalValues(),this.isTextTouched=!1})),e.$on("$destroy",(()=>{this.isTextTouched=!1}))}isEditorDirty(){return this.isTextTouched}getContentLabel(){const e=this.getPlaceholderKey();return this.truncatedViewValue||e}getPlaceholderKey(){return this.scope.placeholderAttrsValues===this.originalPlaceholderAttrValues&&null!=this.placeholderText||(this.placeholderText=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:this.scope.placeholderKey,params:this.scope.$eval(this.scope.placeholderAttrsValues)}),this.originalPlaceholderAttrValues=this.scope.placeholderAttrsValues),this.placeholderText}get truncatedViewValue(){return this._truncatedViewValue}set truncatedViewValue(e){const t=this.element.find(".editor-element"),n=t.length?t.text():void 0;this._truncatedViewValue=l.f(n,100)}onChange(e){e&&e.keyCode===r.u||this.scope.hasFocus&&(this.isTextTouched=!0,this.scope.onchangeFunc&&this.scope.onchangeFunc({event:e}))}onKeydown(e){}isUploadProgressModalOpen(){const e=s.element(".progress-indicator-modal");return e&&e.length>0}isAddContentSelectorOpened(){return this.bbUltraState.current.name.length>this.currentStateName.length&&l.i(this.bbUltraState.current.name,this.currentStateName)}onBeforeBlur(){return!this.preventBlur&&!this.scope.disableInlineEditing}onBlur(){return this.scope.hasFocus=!1,this.ctrl.$focused=!1,this.scope.onblurFunc&&this.scope.onblurFunc(),!0}onFocus(){this.focusOnAuthorControls=!1,this.scope.readonly()||this.scope.hasFocus||(this.scope.hasFocus=!0,this.ctrl.$focused=!0,this.scope.onFocusFunc&&this.scope.onFocusFunc(),this.scope.$emit("entering-edit-state"))}isDirty(){return!(this.originalText||this.isTextTouched)}updateOriginalValues(){this.scope.ngModel===this.originalNgModel&&(this.originalText=this.scope.ngModel,this.originalPlainText=this.scope.plainText)}restoreFromOriginalValues(){this.originalText||(this.originalText="",this.originalPlainText=""),this.scope.ngModel=this.originalText,this.scope.plainText=this.originalPlainText}resetEditor(e){this.restoreFromOriginalValues()}isValidInputLength(){let e=null;if(null!=this.scope.getInputMaxLength&&(e=this.scope.getInputMaxLength()),null==e)return!0;if(e){const t=this.scope.plainText;return!!t&&t.trim().length<=e}return!0}};u=Object(i.a)([Object(i.c)(0,Object(c.b)("scope")),Object(i.c)(1,Object(c.b)("element")),Object(i.c)(2,Object(c.b)("ctrl")),Object(i.c)(3,Object(c.b)(a.serviceName)),Object(i.c)(4,Object(c.b)(o.d))],u)},tfx2:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));var i=n("D57K"),s=n("ERkP"),a=(n("FwJ5"),n("nsO7")),o=n("dCrD"),r=n("Oyr+"),l=n("0x+l"),c=n("nmzr"),d=n("aHpC"),u=n("Y+9S");const m="show-cloud-upload-progress";let p=class extends o.a{constructor(e,t,n){if(super(e,t,n),this.scope=t,this.element=n,this.uploadFile=()=>{this.saveLocationForFileUpload(),this.element.find(".file-upload").click()},this.uploadCloudFile=()=>{this.saveLocationForFileUpload(),this.scope.isButtonLocationChangable&&this.scope.$emit(m,this.positionForFiles.positionAfter),this.element.find(".doc-add-media").click(),Object(u.o)(u.c.CloudStorageOpened)},this.openContentMarket=()=>this.getLocationData().then((e=>{this.ultraState.goPeekState(c.i.CONTENT_MARKET,e)})),this.initContextMenuItems(),t.$on("always-show-time-expires",(()=>{this.turnOffAlwaysShow()})),t.isButtonLocationChangable&&t.$on("change-add-content-button-position",((e,t)=>{t.reopen&&!this.isMenuVisible&&this.toggleOverflowMenu()})),t.$on(r.e,((e,n,i)=>{if(i===r.c.OutlineAddContentButtonFileSelected&&n===t.fileListViewLocalId){const e=this.positionForFiles||this.getInsertLocationData();this.closeMenu(),t.$emit(r.e,e.parentId,e.positionBefore,e.positionAfter,e.depth,n,t.content,r.c.AssignDropTarget),this.assignPosition()}})),this.scope.isRenderByDefault&&this.scope.isRenderByDefault()){const e=this.scope.$watch("addContentButton.isMenuVisible",(t=>{t&&(this.scope.addContentButton.removeDefaultRenderClass=!0,e())}))}this.scope.$watch("parentId()",((e,t)=>{e!==t&&this.initContextMenuItems()}))}toggleOverflowMenu(){this.initContextMenuItems().then((()=>{this.toggleMenu()})).catch((()=>{}))}initContextMenuItems(){const e=this.element.closest("[data-base-state-name]").data("baseStateName"),t=this.getInsertLocationData();return this.$q.all({isCloudServiceAvailable:this.isCloudServiceAvailablePromise,createHref:this.ultraState.peekHref(c.k.CREATE_CONTENT_PEEK_PANEL,t,e),copyHref:this.ultraState.peekHref(c.k.COPY_CONTENT_PEEK_PANEL,t,e),contentCollectionHref:this.ultraState.peekHref(c.h.CONTENT_COLLECTION,t,e)}).then((e=>{const t=this.bbLocalize.getLocale(this.scope);this.items=[{key:"create",className:"js-create",href:e.createHref,name:this.bbLocalize.translateSync({locale:t,key:"components.directives.add-content-button.create"}),icon:s.createElement(l.Add,null)},{key:"copy",className:"js-copy",href:e.copyHref,name:this.bbLocalize.translateSync({locale:t,key:"components.directives.add-content-button.copy"}),icon:s.createElement(l.Duplicate,null)},{key:"upload-file",className:"js-upload-file",onClick:this.uploadFile,name:this.bbLocalize.translateSync({locale:t,key:"components.directives.add-content-button.upload"}),icon:s.createElement(l.Upload,null)},{key:"upload-cloud-file",className:"js-upload-cloud-file",onClick:this.uploadCloudFile,name:this.bbLocalize.translateSync({locale:t,key:"components.directives.add-content-button.importContentFromCloudStorage.title"}),icon:s.createElement(l.UploadCloud,null)},{key:"content-market",className:"js-content-market",onClick:this.openContentMarket,name:this.bbLocalize.translateSync({locale:t,key:"components.directives.add-content-button.contentMarket"}),icon:s.createElement(l.ContentMarket,null)},{key:"content-collection",className:"js-content-collection",href:e.contentCollectionHref,name:this.bbLocalize.translateSync({locale:t,key:"components.directives.add-content-button.contentCollection"}),icon:s.createElement(l.ContentCollection,null)}],this.isCloudServiceAvailable||Object(a.remove)(this.items,(e=>"upload-cloud-file"===e.key)),this.currentCourse.canCopy()||Object(a.remove)(this.items,(e=>"copy"===e.key))}))}saveLocationForFileUpload(){this.scope.isButtonLocationChangable&&(this.positionForFiles=this.getInsertLocationData())}getLocationData(){const e=this.scope.rootContent(),t=this.getInsertLocationData();return this.contentSvc.getParentFolder(t.parentId,this.contextCourse.courseId,e).$asPromise().then((e=>{if(e.children){return{position:""+e.children.getInsertionIndex(t.positionBefore,t.positionAfter,!0,e.hasMoreChildren),parentId:t.parentId,positionBefore:t.positionBefore,positionAfter:t.positionAfter,depth:t.depth}}}))}};p.$inject=[],p=Object(i.a)([Object(i.c)(0,Object(d.b)("$injector")),Object(i.c)(1,Object(d.b)("scope")),Object(i.c)(2,Object(d.b)("element"))],p)},tka7:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("nbDY"),s=n.n(i);class a extends s.a{}a.Assign=new a("assign"),a.Unassign=new a("unassign"),a.Delete=new a("delete"),a.Retain=new a("retain")},tmbA:function(e,t){e.exports='<bb-modal class="notification automatic-zero-setting-confirmation"\n          modal-translate-options="modalTranslateOptions"\n          modal-aria-type="alertdialog"\n          analytics-id-tag-prefix="components.directives.pastDueZeroSettings">\n  <div name="modal-contents">\n    \x3c!-- Instructions --\x3e\n    <p bb-translate>{{ modalTranslateOptions.instructions.key }}</p>\n    \x3c!-- Past due zero: Unassign zero --\x3e\n    <div ng-if="!pastDueZero.isPastZeroAssigned">\n      <fieldset ng-if="modalTranslateOptions.choices && modalTranslateOptions.choices.length > 0"\n                class="fieldset-options">\n        <legend class="sr-only" bb-translate="{{ modalTranslateOptions.title.key }}"></legend>\n        <div class="option-item" ng-repeat="option in modalTranslateOptions.choices">\n          <input type="radio" \n                 name="{{ ::option.name }}" \n                 id="{{ ::option.id }}"\n                 ng-model="modalTranslateOptions.choiceModal"\n                 ng-value="option.value"\n                 analytics-id="components.directives.grade.pastDueZero.option.input.radio">\n          <label for="{{ ::option.id }}" bb-translate>{{ ::option.localizedKey }}</label>\n          <p ng-if="!!option.descriptionKey"\n             class="past-due-unassign-description"\n             bb-translate>\n            {{ ::option.descriptionKey }}\n          </p>\n        </div>\n      </fieldset>\n    </div>\n  </div>\n  <button name="modal-footer-button-primary" \n          type="button" \n          class="button confirm-ok js-primary-button" \n          ng-click="okAction()" \n          analytics-id="{{modalTranslateOptions.confirm.key}}"\n          bb-translate>\n    {{modalTranslateOptions.confirm.key}}\n  </button>\n  <button name="modal-footer-button-secondary" \n          type="button" \n          class="button button--secondary confirm-cancel js-secondary-button" \n          ng-click="cancelAction()" \n          analytics-id="{{modalTranslateOptions.cancel.key}}"\n          bb-translate>\n    {{modalTranslateOptions.cancel.key}}\n  </button>\n</bb-modal>'},towz:function(e,t,n){},tqR7:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Llzl"),s=n("lEL+");const a="ultra.components.directives.clickOutside";class o{constructor(e,t,n,i,s){this.scope=e,this.element=t,this.attrs=n,this.$document=i,this.timeout=s;const a=e=>this.applyExpression(e),o=this.getContainer()||i;this.scope.$watch(this.attrs.isActive,((e,t)=>{e?this.timeout((()=>{o.on("click",a)}),this.scope,0,!1):o.off("click",a)})),this.scope.$on("$destroy",(()=>{o.off("click",a)}))}applyExpression(e){const t=this.element.is(e.target),n=this.element.has(e.target).length>0;t||n||this.scope.$apply(this.attrs.bbClickOutside)}getContainer(){if("currentPanelOnly"in this.attrs){let e=this.element;for(;e.parent().length;)if(e=e.parent(),e.is(".bb-offcanvas-panel,#main-content-inner"))return e}}}o.$inject=["scope","element","attrs","$document",s.b];class r{constructor(e){this.$injector=e,this.priority=100,this.restrict="A",this.compile=(e,t)=>({pre:(e,t,n)=>this.$injector.instantiate(o,{scope:e,element:t,attrs:n})})}}r.$inject=["$injector"],i.module(a,[]).directive("bbClickOutside",["$injector",e=>e.instantiate(r)])},trPQ:function(e,t){e.exports='<div bb-grade-grid-menu-reborn id="{{id}}" class="reborn-dropdown-menu">\n  <ul class="f-dropdown f-dropdown-overflow-menu reborn-dropdown cell-dropdown" role="menu">\n    <li ng-if="cell.canBeView" \n        role="presentation">\n        <button role="menuitem" \n                class="js-view-submission button clear"  \n                ng-click="cell.view()"\n                analytics-id="components.directives.grade.grid.viewItem">\n          <bb-svg-icon size="small" icon="visible"></bb-svg-icon>\n          <bb-translate  class="ellipse">components.directives.grade.grid.viewItem</bb-translate>\n        </button>\n    </li>\n    <li ng-class="{disable: !isReadyToPost()}"\n        ng-if="cell.canPost()"\n        role="presentation">\n        <button role="menuitem" \n                class="js-post-grade button clear" \n                ng-click="post()" \n                ng-disabled="!isReadyToPost()"\n                analytics-id="components.directives.grade.grid.post">\n          <bb-svg-icon size="small" icon="post"></bb-svg-icon>\n          <bb-translate class="ellipse" bb-translate>components.directives.grade.grid.post</bb-translate>\n        </button>\n    </li>\n  </ul>\n</div>'},u4ux:function(e,t,n){"use strict";n("ZKRZ"),n("yCl+"),n("l+9M"),n("1NX5"),n("TR8k"),n("vgq2"),n("DUMb"),n("v0wN"),n("Ycix"),n("8wib");var i=n("Llzl"),s=n("nsO7"),a=n("9zo4"),o=n("cs5G"),r=n("0JpG"),l=n("w9Zy"),c=n("Qbdf"),d=n("Fvsw"),u=n("lEL+"),m=n("TnpK"),p=n("vYaK"),h=n("FpRh"),g=n("laCM"),b=n("sLTT"),f=n("M8+u"),v=n("1ZbL"),y=n("ERkP"),k=n("TUnR"),x=n("GuFu"),S=n("C+e0");const C="ultra.features.course.content.group.course-group-visibility-ftue",E={Class:Object(S.a)((({localize:e})=>{const t=Object(x.i)("components.directives.content-visibility","components.directives.content-visibility.organization");return y.createElement(k.a,{componentKey:"components.directives.contentVisibility.groupVisibility",announcementTitle:e.translate("components.directives.content-visibility.groupVisibility.title"),content:e.translate(t("components.directives.content-visibility.groupVisibility.content")),buttonAriaLabel:e.translate("components.directives.content-visibility.groupVisibility.buttonAriaLabel"),doneButtonText:e.translate("components.directives.content-visibility.groupVisibility.doneButtonText"),linkHref:e.translate("components.directives.content-visibility.groupVisibility.moreInfoLinkUrl"),linkText:e.translate("components.directives.content-visibility.groupVisibility.moreInfoLinkText"),closeLabel:e.translate("global.close")})})),renderLocalized:!0,withProvider:!0};i.module(C,[r.moduleName]).component("bbCourseGroupVisibilityFtue",Object(v.a)(E));var I=n("Ij+l"),w=n("zmy6"),A=n("BEvj"),O=n("PoQW");const D="ultra.components.directives.react-toolkit.teaching-bubble";class T extends y.Component{render(){const e=document.getElementById(this.props.targetId);if(!this.props.show)return null;const t=this.props.calloutProps||{},n={directionalHint:O.DirectionalHint.bottomLeftEdge,directionalHintFixed:!0,minPagePadding:0,preventDismissOnResize:!0,...t};return y.createElement(A.TeachingBubble,{analyticsId:this.props.analyticsId,targetElement:e,headline:this.props.headline,onDismiss:this.props.dismiss,calloutProps:n,teachingBubbleTooltipId:this.props.tooltipId},this.props.message)}}const P={Class:T,bindingNames:["analyticsId","targetId","tooltipId","headline","message","show","dismiss","calloutProps"],withThemeProvider:!1,withErrorModalBoundary:!1};i.module(D,[]).component("bbUiTeachingBubble",Object(v.a)(P));var $=n("eAzf"),G=n("PFA5"),j=n("e6jQ"),L=n("7/CN"),N=n("Fdwu"),B=n("+4Px"),M=n("pjml"),R=n("XjwN"),F=n("5KgE"),V=n("g66W");n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return H}));const _="ultra.components.directives.content.panelHeader";var U,H;!function(e){e.ContentOnly="ContentOnly",e.ContentAndDelete="ContentAndDelete",e.ContentAndHandler="ContentAndHandler",e.ContentAndDeleteAndHandler="ContentAndDeleteAndHandler",e.DeleteAndHandler="DeleteAndHandler",e.None="None"}(U||(U={})),function(e){e.Gear="settings",e.Info="information"}(H||(H={}));class z{constructor(e,t,n,i,a,o,r,l,c,d,u,m,p){if(this.scope=e,this.element=t,this.attrs=n,this.accessibility=i,this.timeout=a,this.bbOffcanvas=o,this.context=r,this.CourseModel=l,this.localize=c,this.ultraState=d,this.contextCourse=u,this.allyService=m,this.firstTimeHelper=p,this.isEditButtonHovering=!1,this.inputId=`bb-panel-header-input-${Object(j.b)()}`,this.teachingBubbleTooltipId=`bb-panel-header-tooltip-${Object(j.b)()}`,this.teachingBubbleHasBeenShown=!0,this.teachingBubbleAnalyticsId=`bb-panel-header-tooltip-${Object(j.b)()}`,this.shouldShowFtueTeachingBubble=!1,this.dismissTeachingBubble=()=>{var e,t;this.teachingBubbleHasBeenShown=!0,null===(t=(e=this.scope).dismissTeachingBubble)||void 0===t||t.call(e),this.scope.$apply()},this.getTeachingBubbleComponentKey=()=>Object(V.a)(`TEACHING_BUBBLE_COMPONENT_KEY_${this.scope.localizationKey}`,F.a),this.getAriaLabel=(()=>{const e=s.memoize((e=>this.localize.translateSync({locale:this.localize.getLocale(this.scope),key:"components.directives.header.aria.edit",params:{title:e},noWrap:!0,noEscape:!0})));return()=>e(this.scope.panelTitle)})(),this.scope.panelHeader=this,this.accessibility.isFocusDelayed=!0,this.configure(),c.loadBundle("components/directives/panel-header").then((()=>{this.placeholderLocalizationKey&&(this.translatedPlaceholder=this.localize.translateSync({locale:this.localize.getLocale(this.scope),key:this.placeholderLocalizationKey,params:{date:this.context.getServerTime()},noWrap:!0})),(!this.scope.panelTitle||this.scope.focusTitleForEdit&&this.scope.focusTitleForEdit())&&this.scope.canEdit?(this.onEditMode(),this.scope.keepTitleOnEdit&&this.scope.keepTitleOnEdit()?this.element.find(".panel-header-title").get(0).setSelectionRange(0,0):this.scope.panelTitle&&(this.scope.panelTitle=""),this.timeout((()=>{this.setTeachingBubbleState()}),this.scope,0)):(this.editMode=!1,this.focusReadonlyPanelTitle()&&this.forceTitleFocus())})),this.scope.setPlaceholderAsDefaultTitle&&this.scope.setPlaceholderAsDefaultTitle()&&!this.scope.panelTitle){e.$watch((()=>this.element.find("input.panel-title").attr("placeholder")),(e=>{e&&(this.scope.panelTitle=e)}))}this.scope.$on("panel-header-force-edit-mode",((e,t)=>{this.editMode=t})),this.scope.$on("$destroy",(()=>{this.setFtueTeachingBubbleAsShown()}))}configure(){this.configureLocalizationKeys(),this.element.closest(".panel-wrap").addClass("has-bb-panel-header"),this.contextCourse.course?this.courseName=this.contextCourse.course.displayName:this.scope.$watch("::content",(e=>{e&&this.CourseModel.$find(e.courseId).$then((e=>{this.courseName=e.displayName}))})),this.scope.$watch("::content",(e=>{e&&this.allyService.isAvailable().then((e=>{e&&(this.canShowAlly=!0,this.allyService.update(this.scope,this.scope.content.id,this.allyService.getXythosIdFromContentItem(this.scope.content)))}))}))}focusReadonlyPanelTitle(){const{disableTitleAutofocus:e,focusTitleForEdit:t}=this.scope;return!e&&!(null==t?void 0:t())}forceTitleFocus(){if(null!=this.scope.panelTitle)this.accessibility.focusCorrectElementOnPanel();else{const e=this.scope.$watch("panelTitle",(t=>{null!=t&&(this.accessibility.focusCorrectElementOnPanel(),e())}))}}get panelHeaderTitle(){return this.scope.panelHeaderTitle?this.scope.panelHeaderTitle:this.courseName}getTeachingBubbleTargetElementId(){return this.inputId}getTeachingBubbleTooltipId(){return this.teachingBubbleTooltipId}getTeachingBubbleAnalyticsId(){return this.teachingBubbleAnalyticsId}inputExists(){return this.element.find(`#${this.getTeachingBubbleTargetElementId()}`).length>0}getTeachingBubbleHeadline(){return this.localize.translateSync({key:this.teachingBubbleHeadlineLocalizationKey,locale:this.localize.getLocale(this.scope)})}getTeachingBubbleMessage(){return this.localize.translateSync({key:`components.directives.header.teachingBubble.${this.contextCourse.course&&this.contextCourse.course.isOrganization?"organization.":""}message`,locale:this.localize.getLocale(this.scope)})}setTeachingBubbleState(){if(this.scope.setTeachingBubbleAsFtue){const e=this.element.closest(".bb-offcanvas-panel").attr("data-base-state-name"),t=this.getTeachingBubbleComponentKey();this.firstTimeHelper.shouldShow(t,e,!1).then((e=>{this.shouldShowFtueTeachingBubble=e,this.teachingBubbleHasBeenShown=!this.shouldShowFtueTeachingBubble}))}else this.teachingBubbleHasBeenShown=!1}setFtueTeachingBubbleAsShown(){if(this.scope.setTeachingBubbleAsFtue&&this.shouldShowFtueTeachingBubble){const e=this.getTeachingBubbleComponentKey();this.firstTimeHelper.hide(e)}}onBlurTitle(e){const t=e.target,n=e.relatedTarget;t&&n&&Object(L.d)(t)!==Object(L.d)(n)?this.scope.panelTitle&&this.scope.panelTitle.length||(this.scope.panelTitle=this.translatedPlaceholder,this.delayedTitleBlur()):(this.onReadMode(),this.scope.hasError||this.delayedTitleBlur())}delayedTitleBlur(){this.scope.onblurFuncTitle&&this.timeout((()=>{this.scope.onblurFuncTitle()}),this.scope,0)}onChangeTitle(){var e,t;const n=!this.teachingBubbleHasBeenShown;this.teachingBubbleHasBeenShown=!0,this.scope.onchangeFuncTitle&&!this.scope.hasError&&this.scope.onchangeFuncTitle(),n&&(null===(t=(e=this.scope).dismissTeachingBubble)||void 0===t||t.call(e))}onBlurVisibility(){this.onReadMode(),this.scope.onblurFuncVisibility&&!this.scope.hasError&&this.scope.onblurFuncVisibility()}onChangeVisibility(){this.scope.onchangeFuncVisibility&&!this.scope.hasError&&this.scope.onchangeFuncVisibility()}onRestrictedSelected(){this.scope.onRestrictedSelectedFuncTitle&&!this.scope.hasError&&this.scope.onRestrictedSelectedFuncTitle()}validateVisibilityChange(e){if(this.scope.validationFuncVisibility){const t=this.scope.validationFuncVisibility({visibility:e});return void 0===t||t}return!0}onEditButtonMouseOver(){this.isEditButtonHovering=!0}onEditButtonMouseLeave(){this.isEditButtonHovering=!1}validateTitle(){this.autoTitle(),this.scope.panelTitle?this.editMode=!1:this.editMode=!0}onEditMode(){this.scope.canEdit?(this.editMode=!0,this.panelTitleOrig=this.scope.panelTitle,this.bbOffcanvas.safeFocus(this.element.find(".panel-header-title"))):this.editMode=!1}titlePressKey(e){e.keyCode!==B.f&&e.keyCode!==B.t||!this.scope.canEdit||(e.preventDefault(),this.bbOffcanvas.safeFocus(this.element.find(".edit-title")))}blurTitle(e){const t=e.target;t.removeAttribute("bb-focus"),t.setAttribute("tabindex","-1")}pressKey(e){if(13===e.keyCode){e.preventDefault(),e.stopPropagation();this.element.find(".panel-header-title").get(0).blur()}else e.keyCode===B.g&&this.editMode&&this.scope.panelTitle!==this.panelTitleOrig&&(e.preventDefault(),e.stopPropagation(),this.scope.panelTitle=this.panelTitleOrig,this.editMode||this.bbOffcanvas.safeFocus(this.element.find(".panel-title")))}onReadMode(){this.scope.filterTitleTags&&this.scope.filterTitleTags()&&this.filterTitleTags(),this.validateTitle()}filterTitleTags(){this.scope.panelTitle&&(this.scope.panelTitle=this.scope.panelTitle.replace(N.a,""))}configureLocalizationKeys(){const e="components.directives.header";this.scope.localizationKey?(this.placeholderLocalizationKey=`${e}.placeholder.${this.scope.localizationKey}`,this.teachingBubbleHeadlineLocalizationKey=`${e}.teachingBubble.headline.${this.scope.localizationKey}`,this.panelAriaLocalizationKey=this.scope.ariaLocalizationKey?`${e}.aria.title.${this.scope.ariaLocalizationKey}`:this.placeholderLocalizationKey):this.scope.content&&this.scope.content.$then((()=>{if(this.scope.content.contentHandler){const t=this.scope.content.contentHandler.toString().replace("resource/","");this.placeholderLocalizationKey=`${e}.placeholder.${t}`,this.panelAriaLocalizationKey=this.scope.ariaLocalizationKey?`${e}.aria.title.${this.scope.ariaLocalizationKey}`:this.placeholderLocalizationKey,this.teachingBubbleHeadlineLocalizationKey=`${e}.teachingBubble.headline.${t}`}}))}gotoConversation(e){var t,n;!1!==(null===(n=(t=this.scope).onNavigateToConversation)||void 0===n?void 0:n.call(t))&&this.ultraState.goPeekState("conversations",{courseId:this.scope.content.courseId,contentId:this.scope.content.id,groupId:e||"default"})}autoTitle(){if(!this.scope.panelTitle&&this.scope.autoTitle&&this.scope.autoTitle()){const e=this.translatedPlaceholder;this.scope.panelTitle=e}}shouldShowTeachingBubble(){return!this.teachingBubbleHasBeenShown&&this.scope.showEmptyTitleReminder&&this.inputExists()}getDeleteDirectiveArgumentType(){let e=U.None;return this.scope.content&&this.scope.content.contentHandler?(e=U.ContentOnly,this.attrs.ondeleteFunc?(e=U.ContentAndDelete,this.scope.ondeleteConfirmHandler&&(e=U.ContentAndDeleteAndHandler)):this.scope.ondeleteConfirmHandler&&(e=U.ContentAndHandler)):this.attrs.ondeleteFunc&&this.scope.ondeleteConfirmHandler&&(e=U.DeleteAndHandler),e}getButtonGroupClass(){let e=0,t=0;return this.scope.showConversations&&this.scope.showConversations()&&(e+=1,t+=1),this.scope.showParticipants&&this.scope.showParticipants()&&(e+=1),this.scope.showSettings&&this.scope.showSettings()&&(e+=1,t+=1),this.scope.showDelete&&this.scope.showDelete()&&(this.scope.showSettings&&this.scope.showSettings()||(e+=1),t+=1),"small-buttons-"+e+" large-buttons-"+t}getSettingsIcon(){return this.scope.settingsIcon?this.scope.settingsIcon:H.Gear.toString()}openSettingsPanel(){null!=this.scope.settingsDisabled&&this.scope.settingsDisabled()||this.ultraState.goPeekState(this.scope.settingsPeekRef)}isVisibilitySelectorEnabled(){return!this.scope.isVisibilitySelectorEnabled||this.scope.isVisibilitySelectorEnabled()}}z.$inject=["scope","element","attrs",a.c,u.b,l.e,d.b,M.m.serviceName,r.serviceName,m.d,c.e,o.b,F.c];class q{constructor(e){this.$injector=e,this.restrict="E",this.template=R,this.transclude={panelHeaderCustomIcons:"?bbPanelHeaderCustomIcons",panelHeaderActions:"?bbPanelHeaderCustomActions"},this.scope={showCourse:"&?",panelHeaderTitle:"@?",panelHeaderTitleTranslateKey:"@?",content:"=",contentId:"=?",canEdit:"=",mode:"@?",hasError:"=?",hasSlider:"&?",showDelete:"&?",ondeleteFunc:"&?",ondeleteConfirmHandler:"@?",choices:"=?",showConversations:"&?",onconversationsFunc:"&?",onNavigateToConversation:"&?",showVisibility:"&?",onchangeFuncVisibility:"&?",onblurFuncVisibility:"&?",disableRestricted:"&?",openPanelOnRestricted:"&?",validationFuncVisibility:"&?",panelTitle:"=?",setPlaceholderAsDefaultTitle:"&?",localizationKey:"@",ariaLocalizationKey:"@",localizationAttrsValues:"@",onchangeFuncTitle:"&?",onblurFuncTitle:"&?",onRestrictedSelectedFuncTitle:"&?",maxLength:"=?",autoTitle:"&?",disableTitleAutofocus:"<?",focusTitleForEdit:"&?",keepTitleOnEdit:"&?",showSubmissionsGrading:"&?",summary:"=?",isFiltered:"=?",filteredCount:"=?",showAllyIcon:"&?",showSettings:"&?",settingsDisabled:"&?",settingsIcon:"@?",settingsPeekRef:"@?",settingsLabel:"@?",showParticipants:"&?",isVisibilitySelectorEnabled:"&?",filterTitleTags:"&?",showEmptyTitleReminder:"&?",dismissTeachingBubble:"&?",setTeachingBubbleAsFtue:"@?"},this.link=(e,t,n)=>{e.panelHeader=this.$injector.instantiate(z,{scope:e,element:t,attrs:n})}}}q.$inject=["$injector",p.serviceName,M.m.serviceName],i.module(_,[a.b,l.d,G.a,b.a,f.a,C,I.a,w.a,m.b,$.a,D,h.a,g.a,F.b]).directive("bbPanelHeader",["$injector",e=>e.instantiate(q)])},uAJz:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-peer-review",use:"icon-small-peer-review-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-peer-review"><path d="M6.5 10C7.8807 10 9 8.8807 9 7.5S7.8807 5 6.5 5 4 6.1193 4 7.5 5.1193 10 6.5 10zM6.5 10C3.2288 10 1 12.5 1 15M11.5 6C12.8807 6 14 4.8807 14 3.5S12.8807 1 11.5 1 9 2.1193 9 3.5 10.1193 6 11.5 6zM12 6c.7226 0 1.4451.464 2 1.0569M10 13l2 2 3-5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},uC9d:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var i=n("nsO7");const s="learnApiCacheMessageService";class a{constructor(){this.listen=i.noop,this.clearCache=i.noop}}class o{constructor(e){this.$rootScope=e,this.init=()=>{this.clearCacheOnLearnScreenClose()},this.clearCacheOnLearnScreenClose=()=>this.$rootScope.$on("$stateChangeStart",((e,t,n,i)=>{-1!==["base.admin","base.courses.peek.course.classic.outline"].indexOf(i.name)&&this.clearCache()})),this.clearCache=e=>this.cacheServiceCallback({type:"clear",pattern:e}),this.listen=e=>{this.cacheServiceCallback=e},this.init()}}o.$inject=["$rootScope"]},uFkY:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c}));const i="assessment:reload-on-attempt-feedback-save",s="single-attempt-grading-list:reload-on-feedback-save",a="grade-comment-update";function o(e,t,n){return e.$broadcast(i,t,n)}function r(e,t){return e.$on(i,t)}function l(e,t){return e.$broadcast(s,t)}function c(e,t){return e.$on(s,t)}},uNsL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("nmzr"),a=n("0JpG"),o=n("TnpK");const r="ultra.course.content-collection.router";i.module(r,[a.moduleName,o.b]).config([o.c,e=>{e.peekState(s.h.CONTENT_COLLECTION,{url:"/contentcollection?parentId&positionBefore&positionAfter",require:()=>n.e(632).then(n.bind(null,"tsxV")),resolve:{translations:["$q",a.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content-collection/content-collection")])]},panelClass:"full",pageTitle:"course.contentCollection.contentCollection",peekStates:["content-collection-edit","content-collection-picker","content-collection-settings"],peekViewName:"content-collection-child@"}).peekState("content-collection-edit",{url:"/edit",require:()=>n.e(602).then(n.bind(null,"klLK")),panelClass:"peek",pageTitle:"course.contentCollection.itemSettings",peekStates:[],params:{items:null,fileRow:null}}).peekState("content-collection-settings",{url:"/settings",require:()=>n.e(663).then(n.bind(null,"ks8w")),panelClass:"peek",pageTitle:"course.contentCollection.browserSettings",peekStates:[]}).peekState("content-collection-picker",{url:"/picker?pickerType&multi",require:()=>n.e(684).then(n.bind(null,"sSTc")),panelClass:"full",pageTitle:"course.contentCollection.browseContentCollection",peekStates:[],params:{pickerType:"File",multi:"true"}})}])},ueuW:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-lock",use:"icon-small-lock-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-lock"><path d="M3 8h10v7H3V8zM5 8V4c0-1.5 1-3 3-3m0 0c.5 0-.5 0 0 0zm0 0c2 0 3 1.5 3 3v4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},ujI6:function(e,t,n){"use strict";n("RB+a");var i=n("Llzl"),s=n("71td"),a=n("tqR7"),o=n("H8CZ"),r=n("lEL+"),l=n("+4Px"),c=n("ytQ2");n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));const d="ultra.components.directives.foundationOffcanvas",u="OFFCANVASE-TOGGLE-CLOSE",m="OFFCANVAS-TOGGLE-OPEN";class p{constructor(e,t,n,i,a,o,r){this.scope=e,this.element=t,this.attrs=n,this.$compile=i,this.$parse=a,this.$q=o,this.timeout=r,this.overrideButtonClass=!1,this.isPanelOpen=!1,this.justOpenedPanel=!1,this.isFromKeyBoard=!1,this.wiredup=!1,this.position="right",this.dialogModel=!1,this.initialProperties(),r((()=>{if(this.openButtonElement=s("#"+this.attrs.bbFoundationOffcanvasOpenButton),0===this.openButtonElement.length)throw new Error('The bbFoundationOffcanvas directive couldn\'t find an "Open Menu" button with an ID of '+this.attrs.bbFoundationOffcanvasOpenButton);this.openButtonElement.on("click.bbFoundationOffcanvas",(()=>{this.scope.$apply((()=>{this.togglePanel()}))})),this.openButtonElement.on("keydown.bbFoundationOffcanvas",(e=>{e.keyCode===l.f&&(this.isFromKeyBoard=!0)}))}),e,0,!1)}initialProperties(){this.attrs.bbFoundationOffcanvasPosition&&(this.position=this.attrs.bbFoundationOffcanvasPosition),this.attrs.bbFoundationOffcanvasEventDelegate&&(this.scope.$on(m,(()=>{this.openPanel()})),this.scope.$on(u,(()=>{this.closePanel()}))),this.attrs.bbFoundationOffcanvasDialogModel&&(this.dialogModel=this.attrs.bbFoundationOffcanvasDialogModel)}wireup(){return this.wiredup=!0,this.timeout((()=>{if(this.closeButtonElement=s("#"+this.attrs.bbFoundationOffcanvasCloseButton),0===this.closeButtonElement.length)throw new Error('The bbFoundationOffcanvas directive couldn\'t find a "Close Menu" button with an ID of '+this.attrs.bbFoundationOffcanvasCloseButton);if(this.wrapperElement=this.element,this.offcanvasPanelElement=this.element.children().children(),1!==this.offcanvasPanelElement.length)throw new Error("bbFoundationOffcanvas directive must have exactly one child element. Fix the usage in the html template.");if(this.offcanvasPanelElement.addClass(this.position+"-off-canvas-menu"),this.attrs.bbFoundationOffcanvasOverrideButtonClass&&(this.overrideButtonClass=this.$parse(this.attrs.bbFoundationOffcanvasOverrideButtonClass)(this.scope)),this.offcanvasPanelElement.find("a, button").attr("tabindex","-1"),this.closeButtonElement.addClass("exit-off-canvas-overlay").on("click.bbFoundationOffcanvas",(()=>{this.scope.$apply((()=>{this.closePanel()}))})),this.offcanvasPanelElement.find("a, button").last().on("keydown.bbFoundationOffcanvas",(e=>{e.keyCode!==l.u||e.shiftKey||(e.preventDefault(),this.scope.$apply((()=>{this.closePanel()})))})),this.offcanvasPanelElement.find("a, button").first().on("keydown.bbFoundationOffcanvas",(e=>{e.keyCode===l.u&&e.shiftKey&&(e.preventDefault(),this.scope.$apply((()=>{this.closePanel()})))})),this.scope.$on("foundation-offcanvas-close-panel",(()=>{this.closePanel()})),null!=this.attrs.bbFoundationOffcanvasCommonParent){if(this.commonParent=s("#"+this.attrs.bbFoundationOffcanvasCommonParent),0===this.commonParent.length)throw new Error("The bbFoundationOffcanvas directive couldn't find a common parent element with an ID of "+this.attrs.bbFoundationOffcanvasCommonParent)}else this.commonParent=s(this.wrapperElement).parents().has(this.closeButtonElement).first();if(this.commonParent.hasClass("group-list")||this.commonParent.addClass("off-canvas-wrap off-canvas-overlay"),!this.overrideButtonClass){const e=this.offcanvasPanelElement.find("li").not(".ng-hide").length;this.commonParent.addClass("buttons-"+e)}o.b(this.commonParent,(e=>(this.isPanelOpen&&(e.data.noTransitions||"right"===e.originalEvent.propertyName)&&(this.isFromKeyBoard?this.offcanvasPanelElement.find("a, button").first().focus():(this.offcanvasPanelElement.parent().attr("tabindex",0),this.offcanvasPanelElement.parent().focus())),!1))),this.element.foundation(),this.scope.$on("$destroy",(()=>{this.element.off("click.bbFoundationOffcanvas"),this.closeButtonElement.off("click.bbFoundationOffcanvas"),this.offcanvasPanelElement.find("a, button").last().off("keydown.bbFoundationOffcanvas"),this.offcanvasPanelElement.find("a, button").first().off("keydown.bbFoundationOffcanvas"),this.commonParent.removeClass("off-canvas-wrap off-canvas-overlay")}))}),this.scope,0,!1)}getPosition(){switch(this.position){case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return"right"}}_openPanel(){this.offcanvasPanelElement.css("display","block"),this.justOpenedPanel=!0,this.timeout((()=>{this.offcanvasPanelElement.foundation("offcanvas","show","move-"+this.getPosition()),this.isPanelOpen=!0,this.offcanvasPanelElement.find("a, button").attr("tabindex","0"),this.justOpenedPanel=!1}),this.scope,0,!1)}openPanel(){if(this.wiredup)this._openPanel();else{const e=this.$q.defer();this.scope.$watch("::foundationOffcanvas.wiredup",(t=>{t&&e.resolve()})),this.$q.all([this.wireup(),e.promise]).then((()=>{this._openPanel()}))}}closePanel(){this.offcanvasPanelElement.foundation("offcanvas","hide","move-"+this.getPosition()),this.isPanelOpen=!1,this.isFromKeyBoard=!1,this.offcanvasPanelElement.parent().removeAttr("tabindex"),this.offcanvasPanelElement.find("a, button").attr("tabindex","-1"),this.openButtonElement.focus(),this.timeout((()=>{this.isPanelOpen||this.offcanvasPanelElement.css("display","none")}),this.scope,300,!1)}handleClickOutside(){this.dialogModel||s("body").hasClass("modal-open")||this.justOpenedPanel||this.closePanel()}togglePanel(){this.isPanelOpen?this.closePanel():this.openPanel()}}p.$inject=["scope","element","attrs","$compile","$parse","$q",r.b];class h{constructor(e){this.$injector=e,this.transclude=!0,this.restrict="E",this.link=(e,t,n)=>{if(null==n.bbFoundationOffcanvasOpenButton||null==n.bbFoundationOffcanvasCloseButton)throw new Error('Please provide jQuery selectors for both the "Open Menu" and "Close Menu" buttons');const i=n.$observe("bbFoundationOffcanvasCloseButton",(s=>{s&&(e.foundationOffcanvas=this.$injector.instantiate(p,{scope:e,element:t,attrs:n}),i())}))},this.template=c}}h.$inject=["$injector"],i.module(d,[a.a,r.a]).directive("bbFoundationOffcanvas",["$injector",e=>e.instantiate(h)])},umYj:function(e,t){e.exports='<bb-modal id="remove-conditional-availability-confirmation-modal" \n          class="notification js-dismiss-modal" \n          role="alertdialog" \n          bb-translate-attrs="{\'aria-label\': \'course.conditionalRelease.removeConditionalAvailability.title\'}"\n          modal-title-key="course.conditionalRelease.removeConditionalAvailability.title"\n          analytics-id-tag-prefix="course.conditionalRelease.removeConditionalAvailability">\n  <div name="modal-contents">\n    <p bb-translate>\n      course.conditionalRelease.removeConditionalAvailability.instructions\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" \n          class="button js-primary-button" \n          ng-click="$parent.$close()" \n          bb-translate\n          analytics-id="global.continue">\n    global.continue\n  </button>\n  <button name="modal-footer-button-secondary" \n          class="button button--secondary js-secondary-button" \n          ng-click="$parent.$dismiss()" \n          bb-translate\n          analytics-id="global.cancel">\n    global.cancel\n  </button>\n</bb-modal>\n'},usTV:function(e,t){e.exports='<div class="square-toggle">\n  <input class="toggle-input input-one"\n         ng-checked="property === oneViewValue"\n         aria-checked="{{property === oneViewValue}}"\n         id="square-toggle-option-one-{{ ::squareToggle.oneControlId }}"\n         name="square-toggle-name-{{ ::squareToggle.radioGroupName }}"\n         type="radio"\n         value="{{ ::oneViewValue }}"\n         aria-controls="{{ ::oneAriaControls }}"\n         ng-click="squareToggle.handleClick($event)"\n         ng-keyup="squareToggle.handleKeyUp($event)"\n         enhanced-tooltip="true"\n         tooltip-template="{{ ::oneTooltipTemplate }}"\n         tooltip-scope="oneTooltipScope()"\n         tooltip-position="bottom"\n         tooltip-disable-on-mouse-over="true"\n         analytics-id="{{analyticsIdTagPrefix}}.option1.input.radio">\n  <label class="toggle-label input label-one js-label-{{oneIconClass}}"\n         for="square-toggle-option-one-{{ ::squareToggle.oneControlId }}">\n    <bb-svg-icon size="custom" icon="{{oneIconClass}}"></bb-svg-icon>\n    <span class="sr-only" bb-translate>{{ ::oneAriaLabel }}</span>\n  </label>\n  <input class="toggle-input input-two"\n         ng-checked="property === twoViewValue"\n         aria-checked="{{property === twoViewValue}}"\n         id="square-toggle-option-two-{{ ::squareToggle.twoControlId }}"\n         name="square-toggle-name-{{ ::squareToggle.radioGroupName }}"\n         type="radio"\n         value="{{ ::twoViewValue }}"\n         aria-controls="{{ ::twoAriaControls }}"\n         ng-click="squareToggle.handleClick($event)"\n         ng-keyup="squareToggle.handleKeyUp($event)"\n         enhanced-tooltip="true"\n         tooltip-template="{{ ::twoTooltipTemplate }}"\n         tooltip-scope="twoTooltipScope()"\n         tooltip-position="bottom"\n         tooltip-disable-on-mouse-over="true"\n         analytics-id="{{analyticsIdTagPrefix}}.option2.input.radio">\n  <label class="toggle-label input label-two js-label-{{twoIconClass}}"\n         for="square-toggle-option-two-{{ ::squareToggle.twoControlId }}">\n    <bb-svg-icon size="custom" icon="{{twoIconClass}}"></bb-svg-icon>\n    <span class="sr-only" bb-translate>{{ ::twoAriaLabel }}</span>\n  </label>\n  <a href="javascript:void(0);" class="button" role="presentation" tabindex="-1"\n     analytics-id="{{analyticsIdTagPrefix}}.presentation.link"></a>\n</div>\n'},v0wN:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-groups",use:"icon-medium-groups-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-groups"><g clip-path="url(#icon-medium-groups_clip0)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 23.0644C17.3246 21.1155 14.8704 20 12 20s-5.3246 1.1155-7 3.0644M12 20c2.7614 0 5-2.2386 5-5s-2.2386-5-5-5-5 2.2386-5 5 2.2386 5 5 5zM18.5 8C20.433 8 22 6.433 22 4.5S20.433 1 18.5 1 15 2.567 15 4.5 16.567 8 18.5 8z" /><path d="M23 11s-1-3-4.5-3c-2.1456 0-3.3517 1.1274-3.9639 2M5.5 8C3.567 8 2 6.433 2 4.5S3.567 1 5.5 1 9 2.567 9 4.5 7.433 8 5.5 8zM1 11s1-3 4.5-3c2.1456 0 3.3517 1.1274 3.9639 2" /></g><defs><clipPath id="icon-medium-groups_clip0"><path d="M0 0h24v24H0z" /></clipPath></defs></symbol>'});s.add(a);e.exports=a},v6Sp:function(e,t,n){"use strict";var i=(e,t)=>{if(!e||!t)return;return(e.split(/\s+/)||[]).map((e=>{const n=t.get(e);return n||console.warn(`Invalid class name: ${e}`),n})).filter((e=>!!e)).join(" ")||void 0},s=n("ERkP"),a=n("fN3Q"),o=n("oPIA");const r=new Map,l=new Map,c=new Map,d={addComponentType:(e,t,n)=>{if(r.get(e))return void console.warn(`${e} already exists in the componentManager, nothing was modified.`);const i={existingPortals:new Set,ultraWhiteList:n||new Map,maxNumberRendered:t};r.set(e,i)},addGlobalComponent:(e,t)=>{c.set(e,t)},getComponent:(e,t)=>{if(!r.has(e))return;return r.get(e).ultraWhiteList.get(t)||c.get(t)},getGlobalComponent:e=>c.get(e),getWhitelist:e=>{const t=r.get(e);return t?t.ultraWhiteList:new Map},hasComponent:(e,t)=>{if(!r.has(e))return!1;return r.get(e).ultraWhiteList.has(t)||c.has(t)},hasComponentType:e=>r.has(e)||l.has(e),isValidComponent:e=>{const{componentContext:t,componentName:n,contents:i,integrationId:s}=e,a=t?r.get(t):void 0;if(!a&&t)return console.warn(`${t} has not been registered.`),!1;const o=(null==a?void 0:a.ultraWhiteList.get(n))||c.get(n);if(!o)return console.warn(`The component '${n}' has not been added the '${t}' white list.`),!1;if(!i.tag||i.tag!==n)return console.warn(`Incorrect tag: should be ${n} but received ${i.tag}.`),!1;return!i.props&&o.props?(console.warn(`Props are needed for '${n}', but no value for 'props' was given.`),!1):o.isValid(i,s)},overMaxComponents:e=>{const t=r.get(e),n=t?t.existingPortals.size:0,i=t&&t.maxNumberRendered;return!i||n>=i},removeComponentType:e=>{r.get(e)&&r.delete(e)},removeComponentFromPortal:(e,t)=>{const n=r.get(e);n&&n.existingPortals.delete(t)},removeGlobalComponent:e=>c.delete(e),updateComponentPortalList:(e,t)=>{const n=r.get(e);n?n.existingPortals.add(t):console.warn(`${e} is not a registered component.`)},setCustomWhiteList:(e,t,n)=>{let i=l.get(e);i||(i=new Map),i.set(t,n),l.set(e,i)},getCustomWhiteList:(e,t)=>{const n=l.get(e);return null==n?void 0:n.get(t)},removeCustomWhiteList:e=>{l.delete(e)},hasCustomWhiteList:(e,t)=>{const n=l.get(e);return!!(null==n?void 0:n.has(t))}},u=new Set,m={},p=e=>{u.forEach((t=>{try{t(o.gb.FailedValidationPortal,e)}catch(e){console.error("Failed to call validation listener",e)}}))};function h(e){const{portalType:t,contents:n,child:i,skipCustomValidation:s,integrationId:a}=e;if("string"==typeof n)return{passed:!0};const o=d.getGlobalComponent(n.tag);if(o&&!d.isValidComponent({componentName:n.tag,contents:n,integrationId:a})&&!s)return{passed:!1,message:`Component validation failed for ${n.tag}`};if(!o&&!t)return{passed:!0};const r=t&&d.getComponent(t,n.tag),l=t&&d.hasCustomWhiteList(t,n.tag);if(!(i||r||o||s||l))return{passed:!1,message:`Initial tag is incorrect for a ${t} portal.`};if(r&&!d.isValidComponent({componentContext:t,componentName:n.tag,contents:n,integrationId:a})&&!s)return{passed:!1,message:`Component validation failed for ${n.tag} on ${t}`};if(!n.children||"string"==typeof n.children)return{passed:!0};for(const e of n.children){const n=h({portalType:t,skipCustomValidation:s,contents:e,integrationId:a,child:!0});if(!n.passed)return n}return{passed:!0}}const g={addPortal:e=>{m[e.portalId]=e,e.portalType&&d.updateComponentPortalList(e.portalType,e.portalId),u.forEach((t=>{try{t(o.gb.NewPortal,e)}catch(e){console.error("Failed to call new portal listener",e)}}))},updatePortal:(e,t)=>{const n=t&&t(e.portalId,e.contents);if(n)return p(n),!1;const i=m[e.portalId],s=h({portalType:null==i?void 0:i.portalType,skipCustomValidation:null==i?void 0:i.skipCustomValidation,contents:e.contents,integrationId:e.requestingIntegrationId});return s.passed?(i&&i.setPortalContents(e.contents),!!i):(p({portalId:e.portalId,error:o.M.InvalidContents,errorMessage:s.message||"Invalid contents provided on update request",requestingIntegrationId:e.requestingIntegrationId}),!1)},addPortalListener:e=>{u.add(e),Object.values(m).forEach((t=>{e(o.gb.NewPortal,t)}))},removePortal:e=>{if(!e.portalId)return;if(m[e.portalId]){const t=m[e.portalId]&&m[e.portalId].portalType;t&&d.removeComponentFromPortal(t,e.portalId),delete m[e.portalId]}u.forEach((t=>{try{t(o.gb.RemovedPortal,e)}catch(e){console.error("Failed to call remove portal listener",e)}}))},getPortalData:e=>m[e],sendPortalCallback:e=>{u.forEach((t=>{try{t(o.gb.CallbackPortal,e)}catch(e){console.error("Failed to call callback listener",e)}}))},setPortalOwnership:(e,t)=>{const n=m[e];n&&n.setOwningIntegrationId(t)},sendValidationFailure:p,getUnownedPortals:()=>Object.keys(m).filter((e=>!m[e].getOwningIntegrationId())).map((e=>m[e])),validateContents:h},b=(e,t,n,i)=>()=>{const s={type:o.g.PortalCallback,portalId:n,callbackId:e,event:t,owningIntegrationId:i};g.sendPortalCallback(s)},f=(e,t,n,i,s)=>e.reduce(((e,a)=>{var r,l,c;if(a in o.N){if(!(null===(l=null===(r=t.props)||void 0===r?void 0:r[a])||void 0===l?void 0:l.callbackId))return console.warn(`custom onXX handlers for integration components must provide a callback id\n           Expect form similar to "onXX: {callbackId: '1'}": ${a}`),e;e[a]=((e,t,n,i)=>{var s;const a=null===(s=t.props)||void 0===s?void 0:s[e].callbackId;return b(a,e,n,i)})(a,t,n,i)}else{let o=null===(c=null==t?void 0:t.props)||void 0===c?void 0:c[a];if(s){const e=s.transformers&&s.transformers.get(a.toLowerCase());e&&(o=e(o,n,i))}e[a]=o}return e}),{}),v=e=>{const{contentItem:t,portalType:n,portalId:i,owningIntegration:s}=e;if(!t.props)return{};const a=n?d.getComponent(n,t.tag):d.getGlobalComponent(t.tag);if(!a)return{};const o=Object.keys(t.props).filter((e=>a.props&&e in a.props));return f(o,t,i,s,{attributes:Object.keys(a.props||{}),transformers:a.transformers})},y=e=>{const{selector:t,selectorData:n,portalId:i,initialOwningIntegrationId:o,initialContents:r,portalType:l,skipCustomValidation:c,onContentsChanged:u,onRegistered:m}=e;if(l&&!d.hasComponentType(l))return console.error(`Portal Type: ${l} is not listed in the componentManager,\n      either add it to the ComponentManager along with a whitelist or remove the attribute`),null;const[p,h]=Object(s.useState)(r),[b,f]=Object(s.useState)(o),[v]=Object(s.useState)(i||Object(a.v4)());return Object(s.useEffect)((()=>(g.addPortal({portalId:v,selector:t,selectorData:n,setPortalContents:e=>{h(e),setTimeout((()=>u&&u(e)))},setOwningIntegrationId:e=>{f(e)},getOwningIntegrationId:()=>b,portalType:l,skipCustomValidation:!!c}),m&&m(),()=>{g.removePortal({portalId:v,selector:t,selectorData:n})})),[v,t,n,l,b,c,u]),s.createElement(s.Fragment,null,k(p&&[p],b,v,l))},k=(e,t,n,a)=>e?"string"==typeof e?[e]:e.map(((e,r)=>{if(!e)return null;if(a){const i=d.getComponent(a,e.tag);if(i){const s=v({contentItem:e,portalType:a,portalId:n,owningIntegration:t});return i.render(n,{key:r,...s},k(e.children,t,n,a))}}const l=d.getGlobalComponent(e.tag);if(l){const i=v({contentItem:e,portalId:n,owningIntegration:t});return l.render(n,{key:r,...i},k(e.children,t,n))}let c;if(a&&(c=d.getCustomWhiteList(a,e.tag)),c||(c=o.ib.get(e.tag)),c){const l=((e,t,n)=>{if(!e.props)return{};const i=o.ib.get(e.tag);if(!(null==i?void 0:i.attributes))return{};const s=Object.keys(e.props).filter((e=>i.attributes.includes(e)));return f(s,e,t,n,i)})(e,n,t);return""===l.src||""===l.href?null:(l.href&&(l.target="_blank"),l.key=r,l.className=i(l.className,c.classNameMappings)||c.classNameDefault,s.createElement(e.tag,l,k(e.children,t,n,a)))}return null})):null;const x=e=>{const{portals:t,selector:n,portalType:i}=e;return s.createElement(s.Fragment,null,t.map(((e,t)=>{const a=function(e){return{...e.selectorData,registrationId:e.registrationRecord.registrationId,registrationName:e.registrationRecord.registrationName}}(e);return s.createElement(y,{key:t,selector:n,selectorData:a,initialOwningIntegrationId:e.registrationRecord.integrationId,portalType:i})})))},S=new Map;S.set(o.I,o.E),S.set(o.X.PanelNew,o.E),S.set(o.X.PanelClose,o.E),S.set(o.hb.Click,o.b),S.set(o.hb.Hover,o.b),S.set(o.hb.PortalNew,o.E),S.set(o.hb.PortalRemove,o.E),S.set(o.hb.Route,o.cb),S.set(o.hb.RouteChanging,o.cb),S.set(o.m,o.l),S.set(o.O.ModalNew,o.F),S.set(o.O.ModalClose,o.F),S.set(o.R.NotificationNew,o.G),S.set(o.R.NotificationClose,o.G);const C=(e,t)=>{if(!t.authScopes||t.authScopes.size<=0)return console.warn(`Received event without integration (${t&&t.id}) being authenticated.`),!1;const n=S.get(e.type);return!!(t.authScopes.has(o.a)||n&&t.authScopes.has(n))||(console.warn(`Invalid auth scope for ${e.type}, ${n} is required.`),!1)},E=new Map;E.set(o.I,C),E.set(o.db,((e,t)=>{if(!t.authScopes||t.authScopes.size<=0)return console.warn(`Received event without integration (${t&&t.id}) being authenticated.`),!1;if(t.authScopes.has(o.a))return!0;const n=new Map;e.subscriptions.forEach((e=>{const t=S.get(e);t&&n.set(t,e)}));const i=[];return e.subscriptions.forEach((e=>{const s=S.get(e);s&&t.authScopes.has(s)?n.delete(s):i.push(e)})),i.length===n.size||(n.forEach((t=>{const i=n.get(t);i?console.warn(`Invalid auth scope for ${e.type}, ${t} is required for the ${i} event.`):console.warn(`Unrecognized auth scope ${t}.`)})),!1)})),E.set(o.X.PanelNew,C),E.set(o.X.PanelClose,C),E.set(o.m,C),E.set(o.O.ModalNew,C),E.set(o.O.ModalClose,C),E.set(o.R.NotificationNew,C),E.set(o.R.NotificationClose,C);const I={authScopes:E},w=new Map,A={addHelpProvider:e=>{w.set(e.providerId,e)},removeHelpProvider:e=>{w.delete(e)},getHelpProvider:e=>w.get(e),getProviderByType:e=>Array.from(w.values()).filter((t=>t.providerType===e)),getProviders:()=>Array.from(w.values())};n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return y})),n.d(t,"f",(function(){return x})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return b})),n.d(t,"a",(function(){return I})),n.d(t,"c",(function(){return A}))},vJBG:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("td+C"),s=n("oPIA"),a=n("IbyE"),o=n("3PCF"),r=n("9OUN"),l=n("TWlR");const c=new class{constructor(e){this.integrationService=e,this.registerOriginalityProvider=(e,t)=>{if(!e.submissionServicesUniqueHandle)return console.warn("Cannot register provider: no submissionServicesUniqueHandle was specified"),void this.integrationService.sendMessage({type:s.C,submissionServicesUniqueHandle:e.submissionServicesUniqueHandle,status:s.r.Failure,errorMessage:"submissionServicesUniqueHandle should be provided"},t);const n={submissionServicesUniqueHandle:e.submissionServicesUniqueHandle,integrationId:t.id};this.addIntegration(n),this.integrationService.sendMessage({type:s.C,submissionServicesUniqueHandle:e.submissionServicesUniqueHandle,status:s.r.Success},t)},this.saveOriginalityConfiguration=async(e,t)=>{var n;const i=this.listeners.get(t.uniqueHandle);if(!i)throw new Error(`No listener registered for ${t.uniqueHandle}`);try{const a=await this.saveSettingsMessenger.sendMessage({type:s.D,contentId:e.id,contentHandle:e.contentHandler.toString(),enabled:t.capabilities.OriginalityReport.enabled},i.integrationId);return a.success&&await this.saveSubmissionService(e.courseId,null===(n=e.getAssociatedGradingColumn())||void 0===n?void 0:n.id,t),a}catch(e){return{success:!1,error:this.localizationService.translateSync({key:"course.content.originalityReport.settings.errorSavingSettings",locale:this.localizationService.getAppLocale(),noWrap:!0,params:{integrationDisplayName:t.displayName}})}}},this.listeners=new Map}init(e,t){this.integrationService.addIntegrationMessageType(s.C,this.registerOriginalityProvider),this.ngRedux=t,this.subscribeToRedux(t),this.localizationService=e,this.integrationService.addIntegrationMessageType(s.C,this.registerOriginalityProvider),this.saveSettingsMessenger=Object(l.a)(s.D,{})}subscribeToRedux(e){e.connect((()=>({})),(e=>Object(r.b)({loadSubmissionServices:a.X.submissionServices.loadSubmissionServices,saveSubmissionService:a.X.submissionServices.saveSubmissionService},e)))(this)}addIntegration(e){this.listeners.set(e.submissionServicesUniqueHandle,e)}removeIntegration(e){this.listeners.delete(e.submissionServicesUniqueHandle)}async fetchDefaultOriginalityReportSubmissionService(e,t){await this.loadSubmissionServices(e,t);const n=a.gc.submissionServices.getDefaultOriginalityReportSubmissionService(this.ngRedux.getState(),t);if(n&&(n.uniqueHandle===o.b||this.listeners.get(n.uniqueHandle)))return n}getOriginalityIntegrationByUniqueId(e){return this.listeners.get(e)}}(i.a)},vT39:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var i=n("nsO7"),s=n("0JpG"),a=n("6Ksg");const o="ultra.directives.validate.bbmlmarkup.sanitize",r={style:e=>null,":default":t=>{const n=e("<span></span>");return n.text(t.text()),n}};class l extends a.a{constructor(){super(...arguments),this.validate=t=>{if(null===this.whitelist)return!0;let n=!0;if(1!==t[0].nodeType)return!0;const s=t[0].tagName.toLowerCase();if(Object.prototype.hasOwnProperty.call(this.whitelist,s)){const e=this.whitelist[s];i.each(Array.prototype.slice.apply(t[0].attributes),(i=>{Object.prototype.hasOwnProperty.call(e,i.name.toLowerCase())||(t.removeAttr(i.name),n=!1)}))}else{n=!1;const e=(r[s]||r[":default"])(t);if(null===e)return t.remove(),!1;t.replaceWith(e),t=e}return i.each(t.children(),(t=>{n=this.validate(e(t))&&n})),n},this.getValidator=(t,n,s,a)=>t=>{const s=this.$q.defer();return this.initialWhitelist().then((()=>{let o=!0;const r=e("<span></span>");r.html(t),i.each(r,(t=>{o=this.validate(e(t))&&o})),o||a.$setViewValue(n.html()),s.resolve()})),s.promise}}}angular.module(o,[s.moduleName]).directive("bbSanitizeBbmlMarkup",["$injector",e=>e.instantiate(l)])}).call(this,n("71td"))},vWx0:function(e,t,n){"use strict";n("JzsJ");var i=n("hlSw"),s=n("Llzl"),a=n("w9Zy"),o=n("bF8R"),r=n("vdfi"),l=n("Fvsw"),c=n("Qbdf"),d=n("jhBu"),u=n("nsO7"),m=n("yC9S"),p=n("5MwF"),h=n("Y/dt"),g=n("z6Q5"),b=n("fYJU"),f=n("12mu"),v=n("pjml"),y=n("lEL+"),k=n("0JpG"),x=n("TnpK"),S=n("E01l");const C="ultra.modules.groupattempt.activities",E="ultra.services.groupattempt.activities",I="ultra.services.groupattempt.activities.dialog",w="bbGroupAttemptActivitiesPeek",A=new RegExp("assessment\\.overview\\.attempt("+x.a.replace(/\./g,"\\.")+".+)?$"),O={USER_CANCELLED:"USER_CANCELLED",USER_RELEASE_CONTROL:"USER_RELEASE_CONTROL",USER_REJECT_CONTROL:"USER_REJECT_CONTROL"},D=s.module(C,["ng"]);D.factory(E,["$injector","$q","$log","$http","$rootScope",b.b,y.b,x.d,function(e){const t=e.get("$q"),n=e.get("$http"),i=e.get("$rootScope"),s=e.get(b.b);m.b.OnRootScope(i,"$stateChangeError",(function(t,n,i){A.test(n.name)&&e.get(x.d).go(n.name.replace(/\.attempt$/,""),i)}));return{new:(e,i)=>{const a=(e,t)=>{e.userId=t.userId,e.queue=t.queue,e.groupAttemptId=t.groupAttemptId,e.status=t.status};let o=t.when(null);const r={myId:s.userId,request(){return o=o.then((()=>{const s=t.defer();return n.put(`${p.a.apiBasePath}/v1/courses/${e}/gradebook/groupAttempts/${i}/activities`,{}).then((e=>{a(this,e.data),s.resolve(this)})),s.promise})),o},keepAlive(s){o=o.then((o=>{const l=t.defer();return u.some(this.queue.concat(this.userId),(e=>this.myId===e))?n({method:"PATCH",url:`${p.a.apiBasePath}/v1/courses/${e}/gradebook/groupAttempts/${i}/activities`}).then((e=>(a(this,e.data),t.when(s(this)).then((e=>{if(u.some(this.queue.concat(this.userId),(e=>this.myId===e))&&e){const e=(new Date).getTime(),t=()=>{window.requestAnimationFrame((()=>{(new Date).getTime()-e>=5e3?r.keepAlive(s):t()}))};t()}}))))).finally((()=>{l.resolve(this)})):l.resolve(this),l.promise}))},release(){return o=o.then((()=>{const s=t.defer();return n.delete(`${p.a.apiBasePath}/v1/courses/${e}/gradebook/groupAttempts/${i}/activities`).then((e=>{a(this,e.data),s.resolve(this)})),s.promise})),o},kickout:()=>(o=o.then((()=>n.delete(`${p.a.apiBasePath}/v1/courses/${e}/gradebook/groupAttempts/${i}/activities/waiting`))),o),peek(){return o=o.then((()=>{const s=t.defer();return n.get(`${p.a.apiBasePath}/v1/courses/${e}/gradebook/groupAttempts/${i}/activities`).then((e=>{a(this,e.data),s.resolve(this)})),s.promise})),o}};return r}}}]),D.factory(I,["$injector","$q","$log","$http","$rootScope",k.serviceName,x.d,f.b,g.b,v.Jb.serviceName,function(e){const t=e.get(f.b),n=e.get("$rootScope"),i=e.get(g.b),s=e.get(v.Jb.serviceName),a=e.get(k.serviceName),o="features.course.content.assessment.group-attempt.activities",r=(e,n)=>{const a=t.open({template:S,scope:e,controller:["$scope",function(e){}]});return a.refresh=function(t){i.performBatch((()=>{const n=e.queuedUsers;e.owner&&(n[e.owner.id]=e.owner),e.queuedUsers={},t.userId&&t.userId!==(e.owner||{}).id&&s.$find(t.userId).$then((t=>{e.owner=t})),t.queue.forEach(((t,i)=>{Object.prototype.hasOwnProperty.call(n,t)?e.queuedUsers[t]=n[t]:s.$find(t).$then((n=>{e.queuedUsers[t]=n}))}))}))},a.scope=e,a.refresh(n),a.result.finally((()=>{a.scope.$destroy()})),a};return{openRequest:e=>{const t=n.$new();let i;return u.extend(t,{hideOK:!0,modalTranslateOptions:{title:{key:`${o}.title_group_member_editing`}},modalStrings:{instructions:a.translateSync({locale:null,key:`${o}.msg_taken_by_other_group_member`}),ok:a.translateSync({locale:null,key:`${o}.takecontrol`}),cancel:a.translateSync({locale:null,key:`${o}.cancel`})},queuedUsers:{},additionalClass:"requesting",okAction:()=>{t.$broadcast(O.USER_REQUEST_CONTROL)},cancelAction:()=>{i.dismiss()}}),i=r(t,e),i},openNotify:e=>{const t=n.$new();let i;return u.extend(t,{hideOK:!1,modalTranslateOptions:{title:{key:`${o}.title_group_member_requesting`}},modalStrings:{instructions:a.translateSync({locale:null,key:`${o}.msg_taking_by_other_group_member`}),ok:a.translateSync({locale:null,key:`${o}.leave`}),cancel:a.translateSync({locale:null,key:`${o}.ignore`})},queuedUsers:{},additionalClass:"notifying",okAction:()=>{t.$broadcast(O.USER_RELEASE_CONTROL)},cancelAction:()=>{i.dismiss()}}),i=r(t,e),i},openDeclined:e=>{const t=n.$new();let i;return u.extend(t,{hideCancel:!0,modalTranslateOptions:{title:{key:`${o}.title_group_member_request_decline`}},modalStrings:{instructions:a.translateSync({locale:null,key:`${o}.msg_control_request_declined`}),ok:a.translateSync({locale:null,key:`${o}.ok`})},queuedUsers:{},additionalClass:"declined",okAction:()=>{i.dismiss()}}),i=r(t,e),i}}}]),D.directive(w,[x.d,y.b,E,function(e,t,n){return{restrict:"A",link:(i,s,a)=>{s.addClass("group-attempt-activities-observe");const o=i.$watch(a[w],(a=>{if(a&&o(),a&&a.groupId&&a.isInProgress()){const o=n.new(e.params.courseId,a.id),r=()=>{o.peek().then((e=>{e.status&&(a.status=e.status),u.extend(i,{groupAttemptOwnerId:e.userId});const n="group-attempt-has-owner";e.userId?s.addClass(n):s.removeClass(n),t(r,i,5e3)}))};r()}}))}}}]);class T{constructor(e){let t;this.delegatee=e,this.isResolvingControl=!1,u.forEach(e,((e,t)=>{this[t]=e}));const n=["$injector","$http","$q","$rootScope",y.b,x.d,v.m.serviceName],i=this;i.resolve=i.resolve||{};const a=e=>{const n=e.get("$q"),i=e.get("$rootScope"),s=e.get(y.b),a=e.get(x.d),o=e.get(v.m.serviceName),r=e.get(E),l=e.get(I);if(!this.isRelatedState(a.next.name))return n.when(!0);if(this.isResolvingControl)return n.reject();this.isResolvingControl=!0;const c=n.defer(),d=a.nextParams;return o.$new(d.courseId).contents.$find(d.contentId||d.assignmentId).$then((e=>{if(!e.isGroupContent)return c.resolve(!0),void(t=null);t=r.new(d.courseId,d.attemptId),t.peek().then((e=>{if(e.userId&&e.myId!==e.userId){i.$broadcast("hideInitialLoadingArea");const t=l.openRequest(e);t.result.then((()=>{}),(()=>{e.release(),c.reject()})),e.request().then((()=>{e.keepAlive((()=>e.myId===e.userId?(t.close(),c.resolve(!0),!1):e.queue.some((t=>e.myId===t))?(t.refresh(e),!0):(t.dismiss("ACCESS_CONTROL_TAKEN"),c.reject(),s((()=>{l.openDeclined(e)}),i,200),!1)))}))}else c.resolve(!0)}))})),c.promise.finally((()=>{this.isResolvingControl=!1}))},o=i.resolve;if(o.translateGroupAttemptControl=[k.serviceName,e=>{e.loadBundle("features/course/content/assessment/group-attempt/activities/group-attempt-activities")}],o.attempt){const e=o.attempt;o.attempt=["contentData"].concat(n).concat(((t,i)=>{const s=i.get("$q"),o=i.get(x.d);return s.when(i.invoke(n.concat(a))).then((()=>i.invoke(e,null,{contentData:t}))).then((e=>this.isRelatedState(o.next.name)&&e.isSubmitted()?(i.get(x.d).goPeekState("assessment.overview.attempt.review",{attemptId:e.id}),s.reject()):e))}))}else o.takeControlOnGroupAttempt=n.concat(a);const r=this,l=r.onExit;r.onExit=n.concat((e=>{this.isRelatedState(e.get(x.d).prev.name)&&(l&&e.invoke(l),t&&(t.release(),(r.__childScope||{$destroy:s.noop}).$destroy()))}));const c=r.onEnter;r.onEnter=n.concat((e=>{const n=e.get("$rootScope"),i=e.get(I),s=e.get(x.d);if(!this.isRelatedState(s.next.name))return;if(c&&e.invoke(c),!t)return;let a,o=!1;const l=()=>{o=!0},d=()=>{o=!1},u=n.$new();u.$on(h.b,l),u.$on(h.d,l),u.$on(h.a,d),u.$on(h.c,d),r.__childScope=u,t.request().then((e=>{e.keepAlive((e=>!!o||!!this.isRelatedState(s.current.name)&&(e.userId!==e.myId?(s.leavePeekState(),!1):(e.userId===e.myId&&e.queue.length>0?a?a.refresh(e):(a=i.openNotify(e),a.result.then((()=>{}),(()=>{e.kickout(),a=null})),a.scope.$on(O.USER_RELEASE_CONTROL,(()=>{a.close(),n.$broadcast(h.e);const t=u.$on("$stateChangeAbort",((n,i)=>{"ABORTED_BY_FILE_UPLOAD"===(i||{}).reason&&(t(),e.kickout()),a=null}))}))):a&&(a.close(),a=null),!0))))}))}))}isRelatedState(e){return A.test(e)}}var P=n("JXhc"),$=n("gkef"),G=n("X455"),j=n("36CG"),L=n("+O05"),N=n("nmzr"),B=n("Sa5G"),M=n("zGdY"),R=n("0B2D"),F=n("kirn");n.d(t,"a",(function(){return V}));const V="ultra.course.content.assessment.routes";const _={onEnter:["contentData","attempt",a.e,x.d,"$stateParams",$.b,function(e,t,n,i,s,a){s.skipTransitionEvents||(!s.viewOriginalityReport||s.forceOpenFeedbackPanel?(i.isPeekPanelOpen()&&n.expandTopPanel(),function(e,t,n,i,s){var a;const o=null===(a=null==e?void 0:e.gradingColumn)||void 0===a?void 0:a.peerGrading,r=n.next.name.includes("assessment-submission-feedback"),l=n.next.name.includes("assessment-submission-feedback-tab"),c=n.next.name.includes("rubric"),d=!n.prev.name,u=s.isSmallBreakpoint();if(o||r||l||c||d||u)return!1;const m=L.a.studentCanViewAttemptGradeAndFeedback(t,e.gradeDetail);return i.forceOpenFeedbackPanel&&m}(e,t,i,s,a)&&i.goPeekState(N.c.ASSESSMENT_ATTEMPT_REVIEW_FEEDBACK_TAB,{attemptId:t.id})):i.goPeekState(N.c.ASSESSMENT_ATTEMPT_REVIEW_ORIGINALITY_TAB))}],onExit:["contentData",a.e,x.d,"$q","$stateParams",function(e,t,n,i,s){if(!s.skipTransitionEvents&&e.gradingColumn.isMultipleAttempts()){let s=i.when();n.isPeekPanelOpen()&&(s=t.shrinkTopPanel()),s.then((()=>{n.goPeekState("assessment.overview.multiple-attempt",{contentId:e.courseContent.id,columnId:e.gradingColumn.id,gradeId:e.gradeDetail.id,courseId:e.courseContent.courseId,viewOriginalityReport:this.viewOriginalityReport})}))}}]};s.module(V,[d.a,x.b,r.c,P.c,C,c.b,j.a,L.g]).config([x.c,c.c,G.b,j.b,(e,t,s)=>{e.peekState("assessment",{abstract:!0,url:"/assessment/{contentId:_[0-9]+_1}?courseId",resolve:{[c.d]:t.resolve}}).peekState("assessment.open",{url:"/open",params:{contentId:null,courseId:null,isCollectExternalSubmissions:!1},routingFunction:[v.m.serviceName,d.b,x.d,(e,t,n)=>{const i=n.nextParams.contentId,s=n.nextParams.courseId,a=n.nextParams.isCollectExternalSubmissions;t.hasAnyCourseEntitlement([B.j.ViewAssessment,B.j.ModifyAssessment],s).then((e=>{if(e)n.goPeekState(N.x.GRADEBOOK_ITEM_ASSESSMENT,{courseId:s,contentId:i,gradeitemView:"details",assessmentType:"test"});else{let e=N.c.ASSESSMENT_OVERVIEW;a&&(e=N.c.ASSESSMENT_EXTERNAL_OVERVIEW),n.goPeekState(e,{courseId:s,contentId:i})}}))}]}).peekState("assessment.overview",{url:"/overview",resolve:{contentData:[c.d,o.b,x.d,j.c,(e,t,n,i)=>t.loadContentAndGrades({course:e,contentId:n.nextParams.contentId,contentExtraExpand:"alignedGoals"}).then((e=>(i.setCurrentContent(e.courseContent),e)))],[G.c]:s.resolve,translations:["$q",k.serviceName,(e,t)=>e.all([t.loadBundle("features/course/goal-alignment/goal"),t.loadBundle("features/course/content/assessment/assessment"),t.loadBundle("components/services/proctoring")])],onEnter:["contentData",l.b,(e,t)=>{t.column=e.gradingColumn}],onExit:[l.b,e=>{e.column=null}]},peekViewName:"assessment-overview-peek@",allowChildPeekStates:!0,peekStates:["conversations",N.o.COURSE_MESSAGE,N.c.ASSESSMENT_PEER_GRADING],pageTitle:"course.content.assessment.overview.pageTitle",require:[()=>Promise.all([n.e(25),n.e(37),n.e(150)]).then(n.bind(null,"Xcx3")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(18),n.e(19),n.e(25),n.e(7),n.e(37),n.e(43),n.e(60)]).then(n.bind(null,"F2mp"))]}).peekState(N.c.ASSESSMENT_PEER_GRADING,{panelClass:"full",resolve:{translations:["$q",k.serviceName,(e,t)=>e.all([t.loadBundle("features/course/grades/submission-grading"),t.loadBundle("features/course/grades/submissions-grading")])],currentColumn:i.a.currentColumn,currentContent:i.a.currentContent},url:"/peerReview?columnId&gradeId&userId&attemptId&initialPeerIndex",onExit:["currentColumn",a.e,x.d,(e,t,n)=>{n.goPeekState("assessment.overview",{})}],reloadOnSearch:!1,require:[()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(726)]).then(n.bind(null,"MbeC")),()=>Promise.all([n.e(0),n.e(2),n.e(17),n.e(1),n.e(3),n.e(4),n.e(8),n.e(19),n.e(20),n.e(29),n.e(30),n.e(9),n.e(42),n.e(54),n.e(55),n.e(46),n.e(56),n.e(64)]).then(n.bind(null,"fVgT"))],pageTitle:"course.grades.peer-grading.title",peekViewName:"peer-grading-peek",peekStates:[]}).peekState(`${N.c.ASSESSMENT_PEER_GRADING_SUBMISSION_FEEDBACK_TAB}`,{url:"/inline-feedback?&mode",pageTitle:"course.content.assessment.feedback.title",panelClass:"full",params:{mode:"inline"},resolve:{translations:[k.serviceName,e=>e.loadBundle("features/course/feedback-authoring/feedback-authoring")]},views:{[`${N.c.ASSESSMENT_PEER_GRADING}@`]:{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4)]).then(n.bind(null,"15AK"))}}}).peekState(N.c.ASSESSMENT_EXTERNAL_OVERVIEW,{url:"/external-overview",panelClass:"full",resolve:{contentData:[c.d,o.b,x.d,j.c,(e,t,n,i)=>t.loadContentAndGrades({course:e,contentId:n.nextParams.contentId}).then((e=>(i.setCurrentContent(e.courseContent),e)))],[G.c]:s.resolve,currentContent:["contentData","$q",(e,t)=>t.when(e.courseContent)],currentColumn:["contentData","$q",(e,t)=>t.when(e.gradingColumn)],translations:["$q",k.serviceName,(e,t)=>e.all([t.loadBundle("features/course/goal-alignment/goal"),t.loadBundle("features/course/content/assessment/assessment")])],onEnter:["contentData",l.b,(e,t)=>{t.column=e.gradingColumn}],onExit:[l.b,e=>{e.column=null}]},peekViewName:"assessment-overview-peek",allowChildPeekStates:!0,peekStates:["conversations",N.o.COURSE_MESSAGE,"rubric-view","rubric-evaluation"],require:[()=>Promise.all([n.e(25),n.e(37),n.e(619)]).then(n.bind(null,"2cT1")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(18),n.e(19),n.e(25),n.e(37),n.e(562)]).then(n.bind(null,"8sa/"))]}).peekState("assessment.overview.attempt",new T({url:"/attempt/{attemptId:_[0-9]+_1}",onEnter:[a.e,x.d,(e,t)=>{t.isPeekPanelOpen()&&e.expandTopPanel()}],panelClass:"full",resolve:{currentContent:["contentData",j.c,(e,t)=>(t.setCurrentContent(e.courseContent),e.courseContent)],currentColumn:["contentData",e=>e.gradingColumn],attempt:["$q","contentData",v.m.serviceName,x.d,v.A.serviceName,v.E.serviceName,(e,t,n,i)=>{const s=i.nextParams.attemptId,a=t.courseContent.isGroupContent,o=n.$buildRaw({id:t.courseContent.courseId}).gradebook;return a?t.gradingColumn.getGroupAttemptByGroupAssociationId(t.courseContent.assignedGroups[0].groupAssociationId,!1,s).then((e=>{if(0===e.attempts.length&&e.isInProgress()){const t={expand:"attempts,attempts.toolAttemptDetail,toolAttemptDetail"};return e.withParams(t).$patch(["id"]).$asPromise()}return e.$asPromise()})):o.attempts.$find(s,{expand:["toolAttemptDetail","alignedGoals"].join(",")}).$then((e=>{t.attempt=e})).$asPromise()}]},params:{attemptId:null},peekStates:["conversations",N.o.COURSE_MESSAGE,"assessment-details","edit-file-settings","attempt-safe-assign-setting","rubric-evaluation","rubric-view",N.D.LTI,N.i.CONTENT_MARKET,r.b,P.b],peekViewName:"assessment-attempt-peek",pageTitle:"course.content.assessment.details.pageTitle",require:[()=>n.e(620).then(n.bind(null,"mJUP")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(18),n.e(19),n.e(25),n.e(7),n.e(37),n.e(43),n.e(60)]).then(n.bind(null,"F2mp"))]})).peekState("assessment.overview.multiple-attempt",{panelClass:"peek",url:"/multiple-attempt?columnId&gradeId",resolve:{currentColumn:["contentData",e=>e.gradingColumn.$fetch({expand:"associatedRubrics"}).$asPromise()]},params:{viewOriginalityReport:!1},pageTitle:"course.content.assessment.overview.multiple-attempt.pageTitle",require:[()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(20),n.e(29),n.e(30),n.e(633)]).then(n.bind(null,"ykN9"))]}).peekState(N.c.ASSESSMENT_ATTEMPT_IMS_PROCTORING,{url:"/proctoring/attempt?contentId&password&returnToProctoringToolOnEndAssessment",peekStates:["conversations",N.o.COURSE_MESSAGE,"edit-file-settings","attempt-safe-assign-setting","rubric-view",r.b,P.b],resolve:{translations:[k.serviceName,e=>e.loadAllBundles(["components/services/proctoring","features/course/content/assessment/assessment"])],[c.d]:t.resolve,contentData:[c.d,o.b,x.d,(e,t,n)=>t.loadContentAndGrades({course:e,contentId:n.nextParams.contentId})],currentContent:["contentData",e=>e.courseContent],currentColumn:["contentData",e=>e.gradingColumn],attempt:["contentData",L.h,x.d,(e,t,n)=>{const{gradingColumn:i,courseContent:s}=e,a=n.nextParams.password,o=s.isGroupContent,r=s.assignedGroups?s.assignedGroups[0].groupId:null;return t.launchAttempt(i,a,o,r)}],onEnter:["contentData","attempt",x.d,f.b,function(e,t,n,i){var s;const{courseContent:a}=e,o=null==t?void 0:t.$response;if((null==o?void 0:o.status)===M.S.Forbidden)switch(null===(s=null==o?void 0:o.data)||void 0===s?void 0:s.code){case M.i.AttemptCompletedOrForceCompletion:n.goPeekState(N.c.ASSESSMENT_OVERVIEW,{contentId:a.id}).then((()=>{i.open({scope:this.$rootScope,template:R})}));break;case M.i.AttemptPastDue:n.goPeekState(N.c.ASSESSMENT_OVERVIEW,{contentId:a.id}).then((()=>{i.open({scope:this.$rootScope,template:F})}))}}]},require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(27),n.e(18),n.e(19),n.e(25),n.e(7),n.e(43),n.e(89),n.e(145)]).then(n.bind(null,"RTst")),pageTitle:"components.services.proctoring.delivery.attempt.pageTitle",peekViewName:"proctored-assessment-peek",panelClass:"full"}).peekState("assessment-details",{panelClass:"peek",url:"/details",resolve:{contentData:[c.d,o.b,x.d,j.c,(e,t,n,i)=>t.loadContentAndGrades({course:e,contentId:n.nextParams.contentId}).then((e=>(i.setCurrentContent(e.courseContent),e)))],translations:["$q",k.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content/assessment/assessment")])]},params:{detailsView:!0,submitToGRD:null},require:[()=>Promise.all([n.e(25),n.e(37),n.e(150)]).then(n.bind(null,"Xcx3")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(18),n.e(19),n.e(25),n.e(7),n.e(37),n.e(43),n.e(60)]).then(n.bind(null,"F2mp"))],peekStates:["attempt-safe-assign-setting"]}).peekState(N.c.ASSESSMENT_ATTEMPT_REVIEW,{url:"/review?columnId&contentId",panelClass:"full",resolve:{contentData:["contentData",c.d,o.b,x.d,j.c,(e,t,n,i,s)=>e.gradeDetail.ui.groupAttempt?e:n.loadContentAndGrades({course:t,contentId:i.nextParams.contentId}).then((e=>(s.setCurrentContent(e.courseContent),e)))],[G.c]:s.resolve},require:[()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(19),n.e(20),n.e(29),n.e(30),n.e(42),n.e(137)]).then(n.bind(null,"H0q3"))],..._,params:{commentPanelInitiallyOpen:!1,viewOriginalityReport:!1,forceOpenFeedbackPanel:!1,skipTransitionEvents:!1,peekStateToOpen:null},peekViewName:"assessment-attempt-review-peek",peekStates:["assessment-submission-feedback","conversations",N.o.COURSE_MESSAGE,N.x.SUBMISSION_DEEP_LINK,"rubric-view","originality-report",P.b]}).peekState(N.c.ASSESSMENT_ATTEMPT_REVIEW_FEEDBACK_TAB,{url:"/inline-feedback?attemptId&userId&mode",pageTitle:"course.content.assessment.feedback.title",panelClass:"full",params:{mode:"inline"},resolve:{translations:[k.serviceName,e=>e.loadBundle("features/course/feedback-authoring/feedback-authoring")]},views:{[`${N.c.ASSESSMENT_ATTEMPT_REVIEW}@`]:{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4)]).then(n.bind(null,"15AK"))}},peekStates:[N.D.LTI,N.x.SUBMISSION_DEEP_LINK]}).peekState(N.c.ASSESSMENT_ATTEMPT_REVIEW_RUBRICS_TAB,{url:"/inline-rubric",pageTitle:"course.rubricInline.title",panelClass:"full",views:{[`${N.c.ASSESSMENT_ATTEMPT_REVIEW}@`]:{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(18),n.e(86)]).then(n.bind(null,"5N8L"))}},peekStates:[N.D.LTI,N.x.SUBMISSION_DEEP_LINK]}).peekState(N.c.ASSESSMENT_ATTEMPT_REVIEW_ORIGINALITY_TAB,{url:"/originality-report",pageTitle:"course.content.originalityReport.routeDefinition.routeTitle",panelClass:"full",views:{[`${N.c.ASSESSMENT_ATTEMPT_REVIEW}@`]:{require:()=>n.e(73).then(n.bind(null,"djtz"))}},peekStates:[N.D.LTI,N.x.SUBMISSION_DEEP_LINK]}),e.peekState(N.c.ASSESSMENT_SETTINGS,{panelClass:"peek",url:"/assessmentSettings?contentId?focusEleId?subpanelId",require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(7),n.e(557)]).then(n.bind(null,"mUfJ")),pageTitle:"course.content.assessment.windowTitle",resolve:{translations:["$q",k.serviceName,(e,t)=>e.all([t.loadBundle("features/course/goal-alignment/goal"),t.loadBundle("features/course/content/assessment/assessment")])]},peekViewName:"assessment-settings-peek",allowChildPeekStates:!0,peekStates:["assign-graders","course-group","goal-picker-legacy","rubric","proctoring-lti-tool","question-analysis"]}),e.peekState("assign-graders",{panelClass:"full",url:"/assignGraders",require:()=>n.e(600).then(n.bind(null,"BTMz")),pageTitle:"course.content.assessment.settings.delegatedGrading.assignGraders.pageTitle",resolve:{translations:[k.serviceName,e=>e.loadBundle("features/course/content/assessment/assessment")]},peekViewName:"assign-graders-peek"}),e.peekState("attempt-safe-assign-setting",{url:"/safeAssignSetting",require:()=>n.e(625).then(n.bind(null,"Sg/T")),params:{submitToGRD:null}}).peekState("assessment-submission-feedback",{url:"/feedback?userId",require:[()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4)]).then(n.bind(null,"15AK")),()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(19),n.e(25),n.e(7),n.e(12),n.e(139)]).then(n.bind(null,"EPkw"))],resolve:{translations:[k.serviceName,e=>e.loadBundle("features/course/feedback-authoring/feedback-authoring")],offCanvasArgs:["offCanvasArgs",e=>(e.overlay=!1,e.disableFocusHandling=!0,e)]},pageTitle:"course.content.assessment.feedback.title"}).peekState(N.x.CREATE_OFFLINE_ATTEMPT,{url:"/create-attempt?expandId&userId&groupId&columnId&contentId",require:()=>n.e(601).then(n.bind(null,"IvpR")),resolve:{translations:[k.serviceName,e=>e.loadBundle("features/course/content/assessment/attempt/create/create-attempt")]},pageTitle:"course.content.assessment.attempt.create.createAttempt",panelClass:"peek"}).peekState("proctoring-lti-tool",{panelClass:"full",url:"/proctoringLtiTool?toolHref&toolSubtitle",resolve:{translations:[k.serviceName,e=>e.loadBundle("components/services/proctoring")]},require:()=>n.e(604).then(n.bind(null,"a478")),pageTitle:"components.services.proctoring.ltiTool.pageTitle"}).peekState(N.x.SUBMISSION_DEEP_LINK,{url:"/submission-deep-link?deepLinkAttemptId&peerIndex",panelClass:"full",require:[()=>n.e(157).then(n.bind(null,"c7nl")),()=>n.e(147).then(n.bind(null,"iA/f"))],peekStates:["assessment-submission-feedback"],peekViewName:"submission-deep-link"}).peekState(N.x.SUBMISSION_DEEP_LINK_FEEDBACK_TAB,{url:"/inline-feedback?mode&deepLinkAttemptId",pageTitle:"course.content.assessment.feedback.title",panelClass:"full",params:{mode:"inline"},resolve:{translations:[k.serviceName,e=>e.loadBundle("features/course/feedback-authoring/feedback-authoring")]},views:{[`${N.x.SUBMISSION_DEEP_LINK}@`]:{require:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(4),n.e(167)]).then(n.bind(null,"bKLL"))}},peekStates:["per-assessment-settings",N.D.LTI,N.x.SUBMISSION_DEEP_LINK]}).peekState(N.c.ASSESSMENT_ATTEMPT_RESPONDUS_REQUIREMENT,{url:"/respondusRequirement?contentId",resolve:{translations:[k.serviceName,e=>e.loadBundle("components/services/proctoring")]},panelClass:"full",require:[()=>n.e(685).then(n.bind(null,"nHSO"))],pageTitle:"components.services.proctoring.delivery.attempt.pageTitle"})}])},vYaK:function(e,t,n){"use strict";n.r(t),n.d(t,"serviceName",(function(){return u}));n("QLzv");var i=n("nsO7"),s=n("5MwF"),a=n("ZQey"),o=n("yCC5"),r=n("pjml"),l=n("Rjd/"),c=n("nkTj"),d=n("zGdY");const u=o.t;l.a.factory(u,["restmod","$q","$http",c.c,(e,t,n,l)=>{const c=l.createHooksToFetchParent("course"),u=e.model(s.a.apiBasePath+"/v1/courses").mix({announcements:{hasMany:o.e},assessments:{hasMany:o.f},calendarItems:{hasMany:o.v,path:"calendars/calendarItems"},calendars:{hasOne:o.u},collab:{hasOne:o.w},collabUltra:{hasOne:o.y,path:"collabultra"},contents:{hasMany:o.A},conversions:{hasMany:o.s,path:"convertToUltra"},forums:{hasMany:o.I,path:"discussionboards/default/forums"},entitlements:{hasMany:o.G},gradebook:{hasOne:o.Y},instructorsMembership:{mask:"CU",hasMany:o.N,path:"memberships?roleBucket="+d.y.Teaching},exports:{hasMany:o.H},ltiPlacements:{hasMany:o.ob},memberships:{hasMany:o.N,hooks:c},membershipInvites:{hasMany:o.O,path:"membershipInvites"},messageFolders:{hasMany:o.Q},conversations:{hasMany:o.B},notifications:{hasMany:o.rb},preferences:{hasMany:o.R},schedule:{hasMany:o.T},term:{belongsTo:o.tc,key:"termId"},users:{hasMany:o.N,hooks:c},groups:{hasMany:o.K},rubrics:{hasMany:o.Xb,path:"rubrics"},analyticsReports:{hasMany:o.c,path:"analyticsReports"},tools:{hasMany:o.wc,path:"tools"},contentHandlers:{hasMany:o.wc,path:"contentHandlers"},indicators:{mask:!0,hasMany:o.M,path:"contents/indicators"},startDate:{serialize:"date"},endDate:{serialize:"date"},scormReportItems:{hasMany:o.Zb,path:"scormReportContents"},studentPreview:{hasOne:o.bc,path:"spreview"},conversationCounts:{hasOne:o.B,path:"/conversations/counts"},ui:{mask:!0,init:()=>({convertToUltraTaskStatus:"?"})},isUndecided(){return d.z.Undecided===this.ultraStatus},isClassic(){return d.z.Undecided===this.ultraStatus||d.z.Classic===this.ultraStatus},isUltraConfirmed(){return d.z.Ultra===this.ultraStatus},isUltra(){return d.z.Ultra===this.ultraStatus||this.isUltraPreview()},isUltraPreview(){return d.z.UltraPreview===this.ultraStatus},setUltraStatusDecided(){return this.$send({method:"PATCH",url:this.$scope.$url()+"/"+this.id,data:{ultraStatus:d.z.Ultra}},(function(e){this.ultraStatus=e.data.ultraStatus})).$asPromise()},chooseClassicCourseView(){return this.$send({method:"PATCH",url:this.$scope.$url()+"/"+this.id,data:{ultraStatus:d.z.Classic}},(function(e){this.$unwrap(e.data)})).$asPromise()},isOpen(){return!0===this.isAvailable&&!1===this.isClosed},isOpenClassic(){return this.isOpen()&&this.isClassic()},isOpenNonClassic(){return this.isOpen()&&!this.isClassic()},isPrivate(){return!1===this.isAvailable},appearsAsPrivate(){return"effectiveAvailabilityUnprivileged"in this&&!this.effectiveAvailabilityUnprivileged},isComplete(){return!0===this.isAvailable&&!0===this.isClosed},getStatus(){return this.isAvailable?this.isClosed?a.a.Complete:a.a.Open:a.a.Private},setStatus(e,t){a.a.Complete===e?(this.isAvailable=!0,this.isClosed=!0,this.ui.status=a.a.Complete):a.a.Open===e?(this.isAvailable=!0,this.isClosed=!1,this.ui.status=a.a.Open):a.a.Private===e&&(this.isAvailable=!1,this.isClosed=!1,this.ui.status=a.a.Private),t&&(this.effectiveAvailability=t.effectiveAvailability,this.effectiveAvailabilityUnprivileged=t.effectiveAvailabilityUnprivileged)},canAccess(){return this.ui&&this.ui.isExternal?!!this.ui.externalUrl:this.isUndecided()?this.permissions&&this.permissions.chooseUltraStatus:this.effectiveAvailability},canChooseUltraStatus(){return this.permissions.chooseUltraStatus},canExport(){return this.permissions.export&&!this.isUltraPreview()},canArchive(){return this.permissions.archive&&!this.isUltraPreview()},canViewAutoArchive(){return this.permissions.viewAutoArchive},canCopy(){return this.permissions.copy},canImport(){return this.permissions.import},convertToUltraCourse(){return this.ui.convertToUltraTaskId="",this.ui.convertToUltraTaskStatus="",this.$send({method:"POST",url:this.$scope.$url()+"/"+this.id+"/convertToUltra",data:{id:this.id}},(e=>{this.ui.convertToUltraTaskId=e.data.taskId,this.ui.convertToUltraTaskStatus=e.data.taskStatus,this.ui.conversionTaskTitle=e.data.taskTitle,this.ui.showConversionInProgress=!0,this.ui.showConversionComplete=!1})).$asPromise()},undoCourseConversion(){return this.ui.convertToUltraTaskId="",this.ui.convertToUltraTaskStatus="",this.$send({method:"POST",url:this.$scope.$url()+"/"+this.id+"/convertToUltra/undo",data:{id:this.id}},(e=>{this.ui.convertToUltraTaskId=e.data.taskId,this.ui.convertToUltraTaskStatus=e.data.taskStatus,this.ui.conversionTaskTitle=e.data.taskTitle,this.ui.showConversionInProgress=!0,this.ui.showConversionComplete=!1})).$allow([400,404]).$asPromise()},refreshConvertToUltraStatus(){return this.$send({method:"GET",url:this.$scope.$url()+"/"+this.id+"/convertToUltra/conversionStatus"},(e=>{this.ui.convertToUltraTaskId=e.data.taskId,this.ui.convertToUltraTaskStatus=e.data.taskStatus,this.ui.conversionTaskTitle=e.data.taskTitle})).$allow([404,403]).$asPromise()},getInstructors(){return(this.instructorsMembership||[]).map((e=>e.user))},getBaseRoute(){return this.isOrganization?"base.organizations":"base.courses"},importContents(e,t){return this.$scope.$build().$send({method:"POST",url:this.$scope.$url()+"/"+this.id+"/imports?fileName="+encodeURIComponent(e)+"&fileLocation="+t,data:{cxAction:"CX_ACTION_IMPORT",includeItems:["alignments","announcement","availabilityRule","assessment","content","calendar","collabSessions","glossary","gradebookItems","groups","discussionBoard","settings","staffInformation","tasks","blog","journal","rubric","customArea(bb-retention)","customArea(bb-wiki)"]}},(function(e){this.$unwrap(e.data)})).$asPromise()},copyCourse(e,t,n,i,s,a){return this.$scope.$build().$send({method:"POST",url:this.$scope.$url()+"/"+this.id+"/copy",data:{srcCourseId:e,contentItems:t.contentItems,assessmentItems:t.assessmentItems,rubricItems:t.rubricItems,targetContentId:n,positionBefore:i,positionAfter:s,shouldSendNotifyEmail:a}},(function(e){this.$unwrap(e.data)})).$asPromise()},getImportCopyTaskStatus(e){return this.$scope.$build().$send({method:"GET",url:this.$scope.$url()+"/"+this.id+"/convertToUltra/"+e},(function(e){this.$unwrap(e.data)})).$allow([404]).$asPromise()},getGranularCopyTaskStatus(e=[]){return this.$scope.$build().$send({method:"GET",url:this.$scope.$url()+"/"+this.id+"/ultraConversionReports?taskIds="+e.join()},(function(e){this.$unwrap(e.data)})).$allow([404]).$asPromise()},getTaskErrorDetailMessages(e,t){return t=t||this.$scope.$url()+`/${this.id}/ultraConversionReports/${e}/messages`,this.$scope.$build().$send({method:"GET",url:t},(function(e){this.$unwrap(e.data)})).$asPromise()},canConvert(){return this.permissions.convert},hasSchedule(){return!i.isEmpty(this.schedule)},getLocale(){return this.isLocaleEnforced&&this.locale},isToolAvailable(e){return this.tools.isToolAvailable(e)},getAnnouncementsCount(){return this.$scope.$build().$send({method:"GET",url:this.$scope.$url()+"/"+this.id+"/announcements/counts"},(function(e){this.$unwrap(e.data)})).$asPromise()},getCourseGroupSetCount(){return this.$scope.$build().$send({method:"GET",url:this.$scope.$url()+"/"+this.id+"/groupsets/count"},(function(e){this.$unwrap(e.data)})).$asPromise()},getChildrenCourses(){return this.$scope.$build().$send({method:"GET",url:this.$scope.$url().replace(s.a.apiBasePath,s.a.apiBasePath+"/public")+"/"+this.id+"/children?fields=id,childCourse.name"}).$allow([400]).$asPromise().then((e=>e.$response.data.results&&e.$response.data.results))},attendanceRecordsExist(){return this.$scope.$build().$send({method:"GET",url:`${this.$scope.$url()}/${this.$pk}/attendanceRecords`,params:{limit:"1"}}).$suppressErrorDialog().$asPromise().then((e=>e.$response.data.results&&e.$response.data.results.length>0))},$extend:{Model:{findCourseByCourseId(e,t=!1){let n=this.$collection().$send({method:"GET",url:this.$url()+"/find",params:{courseId:e}});return t&&(n=n.$allow([404])),n.$asPromise().then((e=>{if(e&&e.$response&&200===e.$response.status)return e.$response&&e.$response.data}))}}},$hooks:{"after-fetch":function(){r.t.sortInstructorsMembership(this.instructorsMembership)},"after-feed":function(e){e.instructorsMembership&&this.instructorsMembership.$decode(e.instructorsMembership)}}});return u.mixinCourses=l.getDataMixin(u.findMany.bind(u),"courseId","course"),u}])},vcLy:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-started",use:"icon-small-started-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-started"><circle cx="8" cy="8" r="7" transform="rotate(-90 8 8)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M12 8H4s0 4 4 4 4-4 4-4z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M10.8247 9a3.594 3.594 0 01-.2191.5528c-.1907.3814-.461.7323-.8478.9901C9.3773 10.7966 8.825 11 8 11c-.825 0-1.3773-.2034-1.7578-.4571-.3868-.2578-.657-.6087-.8478-.9901A3.5857 3.5857 0 015.1754 9h5.6493z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},vdfi:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var i=n("nsO7"),s=n("Llzl"),a=n("0JpG"),o=n("hlSw"),r=n("TnpK"),l=n("3bn4"),c=n("zGdY");const d="ultra.course.content.assessment.content-goal-alignment",u="ultra.course.content.assessment.content-goal-alignment.service",m="content-goal-alignment",p="content-goal-alignment-for-student",h=["course","goal-alignment","goal"],g="refreshCache";class b{constructor(e){this.$q=null,this.defers=null,this.cachedGoalAlignment=null,this.isLoading=!1,this.$q=e}isReady(){return null!==this.cachedGoalAlignment||this.isLoading}updataState(){this.cachedGoalAlignment=null,this.isLoading=!0}getData(){if(null===this.cachedGoalAlignment){this.defers=this.defers||[];const e=this.$q.defer();return this.defers.push(e),e.promise}return this.cachedGoalAlignment}updateData(e){return this.cachedGoalAlignment=e,this.isLoading=!1,(this.defers||[]).forEach((e=>{e.resolve(this.cachedGoalAlignment)})),this.defers=null,this.cachedGoalAlignment}cleanData(){this.cachedGoalAlignment=null,this.isLoading=!1}}class f extends l.a{constructor(){super(...arguments),this.panelClass="peek content-assessment-goal-peek"}getCache(e){return f.cache=f.cache||new b(e)}resolveGoalAlignableContent(){return["$q","currentContent","currentCourse","currentColumn",a.serviceName,"$injector",g,(e,t,n,i,a,r,l=!1)=>{if(t&&!t.id)return e.when([]);const d=this.getCache(e);return!l&&d.isReady()?e.when(d.getData()):(d.updataState(),e.when(null).then((()=>{if(!t)return r.invoke(o.a.currentContent,null,{currentCourse:n,translations:{}}).then((e=>{t=e}))})).then((()=>{if(!i)return r.invoke(o.a.currentColumn,null,{currentCourse:n,currentContent:t}).then((e=>{i=e}))})).then((()=>e.all([n.contents.$find(t.id,{expand:"alignedGoals,permissions"}).$asPromise(),n.assessments.$buildRaw({id:t.getDeployedAssessment().assessment.id}).questions.$fetch({expand:"alignedGoals"}).$asPromise(),n.gradebook.columns.$find(i.id,{expand:["associatedRubrics","rubricAssociations.rubricDefinition.alignedGoals","rubricAssociations.rubricDefinition.permissions","rubricAssociations.rubricDefinition.rows.alignedGoals"].join(",")}).$asPromise(),a.loadBundle(`features/${h.join("/")}`)]).then((([e,t,i])=>{let o=1;const r=t.map((e=>{if(c.Qb.PresentationOnly!==e.questionType){const t=o++;return s.extend(e,{getContentTitleForGoalAlignment:()=>a.translateSync({locale:n.locale,key:"components.directives.assessment-question.question-title",params:{index:t}})})}return e}));return this.groupGoals(n.contents.$buildRaw(e),r,i,a)})))).then((e=>d.updateData(e))))}]}getPeekStateName(){return m}groupGoals(e,t,n,a){const o=n.rubricAssociations&&n.rubricAssociations.length>0?n.rubricAssociations[0].rubricDefinition:{},r=e.isTest()?"goalsAlignedWithTest":"goalsAlignedWithAssignment";return[{getContentTitleForGoalAlignment:()=>a.translateSync({locale:null,key:`${h.join(".")}.${r}`}),getContentIdForGoalAlignment:s.bind(e,e.getContentIdForGoalAlignment),isCurrentUserEligibleToAlignGoals:s.bind(e,e.isCurrentUserEligibleToAlignGoals),alignedGoals:e.alignedGoals?e.alignedGoals.map((t=>(t.content=e,t))):[],coreContent:e},{getContentTitleForGoalAlignment:()=>a.translateSync({locale:null,key:`${h.join(".")}.goalsAlignedWithQuestions`}),getContentIdForGoalAlignment:()=>e.getContentIdForGoalAlignment()+".all.questions",isCurrentUserEligibleToAlignGoals:()=>!1,alignedGoals:i.flatten(t.map((e=>e.alignedGoals?e.alignedGoals.map((t=>(t.content=e,t))):[])))},{getContentTitleForGoalAlignment:()=>a.translateSync({locale:null,key:`${h.join(".")}.goalsAlignedWithRubric`}),getContentIdForGoalAlignment:()=>e.getContentIdForGoalAlignment()+".all.rubricrows",isCurrentUserEligibleToAlignGoals:()=>!1,alignedGoals:i.flatten((o.rows||[]).map((e=>e.alignedGoals.map((t=>(e.getContentTitleForGoalAlignment=()=>e.header,e.getContentIdForGoalAlignment=function(){return"blackboard.plugin.rubric.api.core.data.RubricRow;"+this.id},t.content=e,t))))))}]}getOverrideSubTitle(){return["currentCourse","currentContent",(e,t)=>t.id?e.contents.$find(t.id).$asPromise().then((e=>e.title)):""]}}f.$inject=["$injector","$q"];class v extends f{resolveGoalAlignableContent(e){return["$q","currentCourse","contentData",a.serviceName,(t,n,i,a)=>{let o=t.when(null);return e?o=t.when(e):i.courseContent.isGroupContent&&i.groupAttempt?o=i.gradingColumn.getGroupAttemptByGroupAssociationId(i.courseContent.assignedGroups[0].groupAssociationId):!i.courseContent.isGroupContent&&i.attempt&&(o=n.gradebook.attempts.$find(i.attempt.id,{expand:"toolAttemptDetail,alignedGoals"}).$asPromise()),t.all([i.courseContent.alignedGoals?i.courseContent.$asPromise():n.contents.$find(i.courseContent.id,{expand:"alignedGoals"}).$asPromise(),o,n.gradebook.columns.$find(i.gradingColumn.id,{expand:["associatedRubrics","rubricAssociations.rubricDefinition.alignedGoals","rubricAssociations.rubricDefinition.permissions","rubricAssociations.rubricDefinition.rows.alignedGoals"].join(",")}).$allow([c.S.Forbidden]).$asPromise(),a.loadBundle(`features/${h.join("/")}`),a.loadBundle("components/directives/assessment/assessment-question")]).then((([e,t,o])=>{const r=[];if(t&&t.$pk){const e=t.getToolAttemptDetailItem(i.gradingColumn.scoreProviderHandle);(e&&e.questionAttempts||[]).forEach((e=>{r.push(s.extend(e.question,{getContentTitleForGoalAlignment:()=>a.translateSync({locale:n.locale,key:"components.directives.assessment-question.question-title",params:{index:e.visibleQuestionNumber}}),getContentIdForGoalAlignment(){return`blackboard.data.qti.asi.AsiObject;${this.id}`},isCurrentUserEligibleToAlignGoals:()=>!1}))}))}return this.groupGoals(e,r,o,a)}))}]}getPeekStateName(){return p}getOverrideSubTitle(){return["contentData",e=>e.courseContent&&e.courseContent.title||""]}}s.module(d,[r.b,a.moduleName]).config([r.c,e=>{[new f,new v].forEach((t=>{e.peekState(t.getPeekStateName(),t)}))}]).value(g,!1).service(u,["$injector",a.serviceName,function(e){return{alignedGoalsCount:-1,resolveGoalAlignableContents(t,n,s,a=!1){return e.invoke((new f).resolveGoalAlignableContent(),null,{currentCourse:t,currentContent:n,currentColumn:s,[g]:a}).then((e=>(this.alignedGoalsCount=i.flatten(i.compact(e.map((e=>e.alignedGoals)))).length,[e,this.alignedGoalsCount])))},resolveGoalAlignableContentsForStudent:(t,n,s)=>e.invoke((new v).resolveGoalAlignableContent(s),null,{currentCourse:t,contentData:n}).then((e=>[e,i.flatten(i.compact(e.map((e=>e.alignedGoals)))).length]))}}])},vgq2:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-discussion",use:"icon-medium-discussion-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-discussion"><path d="M8 21.4025a10.4446 10.4446 0 01-1.75-.8072L1 22l1.4318-5.2034C1.5217 15.2417 1 13.4318 1 11.5 1 5.701 5.701 1 11.5 1c4.5718 0 8.4611 2.9218 9.9025 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M9 16c0 3.866 3.134 7 7 7 1.3878 0 2.6812-.3803 3.7692-1.0769L23 23l-1.0769-3.2308C22.6197 18.6812 23 17.3878 23 16c0-3.866-3.134-7-7-7s-7 3.134-7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="13" cy="16" r=".5" /><circle cx="16" cy="16" r=".5" /><circle cx="19" cy="16" r=".5" /></symbol>'});s.add(a);e.exports=a},vhkR:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return P}));var i=n("nsO7"),s=n("Llzl"),a=n("pjml"),o=n("VAMW"),r=n("4nF1"),l=n("Qbdf"),c=n("0JpG"),d=n("12mu"),u=n("sgjL"),m=n("TnpK"),p=n("Sa5G"),h=n("Q/M7"),g=n("fYJU"),b=n("yytE"),f=n("qZC8"),v=n("36CG"),y=n("jhBu"),k=n("lEL+"),x=n("e6jQ"),S=n("zGdY"),C=n("CY5M"),E=n("nmzr"),I=n("FBBZ"),w=n("6fZB"),A=n("IbyE"),O=n("td+C"),D=n("oPIA");const T="ultra.components.services.lti",P="lti";class ${constructor(e){this.service=e,this.key=o.d.Lti}getDomainConfigStatusType(e){const t=this.service.getDomainConfigStatusType(e);return t?t.toString():null}getPlacements(e,t=!1){return Object(w.a)(this.service.getPlacements(e,t))}async ltiLaunch({courseId:e,contentId:t,content:n,showPreLaunchPanel:i}){return this.service.ltiLaunch({courseId:e,contentId:t,content:n,showPreLaunchPanel:i})}}class G{constructor(e,t,n,i,s,a,r,l,c,d,u,m,p,h,g,b,f,v){this.$q=e,this.$rootScope=t,this.$stateParams=n,this.$window=i,this.cacheFactory=s,this.contextCourse=a,this.bbLocalize=r,this.modalService=l,this.postMessageDispatcherService=c,this.stateService=d,this.CourseModel=u,this.PartnerContentIdModel=m,this.PartnerSettingsModel=p,this.PlacementModel=h,this.contextUser=g,this.currentContent=b,this.entitlement=f,this.timeout=v,this.shortMaxAge=5e3,this.thirtyMinuteMaxAge=18e5,this.placementCache=s.createCache("PlacementCache",{deleteOnExpire:"passive",maxAge:this.thirtyMinuteMaxAge}),this.placementsCache=s.createCache("PlacementsCache",{deleteOnExpire:"passive",maxAge:this.shortMaxAge}),Object(o.f)(new $(this))}configureAndInitInlineLaunch(e,t){var n;const i=this.$q.defer(),s=this.contextCourse.courseId||this.$stateParams.courseId,a=null!==(n=this.$stateParams.contentId)&&void 0!==n?n:this.$stateParams.id,o=Object(C.j)({bbFileData:e,courseId:s,contentId:a});if(o.linkType){if(!p.g.ExternalLink.isEqualTo(o.linkType)&&t&&t.preventDefault(),o.linkRefId)return this.ltiLaunch(o)}else i.reject({errorMessage:"Failed to render the iframe from src"});return i.promise}getPlacements(e,t=!1){if(t)return this.PlacementModel.$search(e).$asPromise();let n=this.placementsCache.get(s.toJson(e||{}));return n||(n={promise:this.PlacementModel.$search(e).$asPromise()},this.placementsCache.put(s.toJson(e||{}),n)),n.promise}getAvailablePlacements(e,t=!1){return this.getPlacements(e,t).then((e=>e.filter((e=>e.isAvailable()))))}ltiLaunch(e){var t;const n=this.$q.defer();let s;return e.gradeDetail&&A.Q.PartnerCloud.isEqualTo(e.gradeDetail.column.scoreProviderHandle)?(s=(null===(t=e.gradeDetail.ui)||void 0===t?void 0:t.attempt)?e.gradeDetail.ui.attempt.groupAttemptId?e.gradeDetail.ui.attempt.groupAttemptId:e.gradeDetail.ui.attempt.id:e.gradeDetail.lastAttemptId,this._getMembership(e.courseId).then((t=>{const i=Object(I.d)({gradableItemId:e.gradeDetail.column.id,courseId:e.gradeDetail.column.courseId,attemptId:s,membershipId:t.id,linkId:e.gradeDetail.column.linkId});this.launch(i,!0),n.resolve()}))):this.$q.all([this.entitlement.hasCourseEntitlement(p.s.ViewAdmin,e.courseId),this._getContent(e.courseId,e.content,e.contentId,e.linkType,e.linkRefId)]).then((([t,s])=>{if(!s||!e.showPreLaunchPanel||t)return this._ltiLaunch(i.merge(e,{content:s})).then(n.resolve,n.reject);this._getMembership(e.courseId).then((t=>{if(!this._isGradable(s)||!this._isStudentInCourse(t))return this._ltiLaunch(i.merge(e,{content:s})).then(n.resolve,n.reject);this.stateService.goPeekState(E.D.LTI_LAUNCH,{courseId:s.courseId,contentId:s.id}).then((()=>{e.showPreLaunchPanel||this.markCompleted(s.id,s.courseId,s),n.resolve()})).catch((e=>{n.reject({errorMessage:"Failed to open the gradable lti launch panel",errorResponse:e})}))}))})).catch((e=>{n.reject({errorMessage:"Failed to get entitlement or course content",errorResponse:e})})),n.promise}markCompleted(e,t,n){return(n?this.$q.resolve(n):this._getContent(t,null,e,null,null)).then((e=>{var t;return this.currentContent.setCurrentContent(e),e&&(null===(t=e.permissions)||void 0===t?void 0:t.canHaveReviewState)&&e.state!==S.u.Completed&&e.inSequence?e.updateState(S.u.Completed,!0):e}))}launch(e,t=!1,n,i,s){var a,o;e=h.c(e),e=h.a(e,"from_ultra","true");const r=h.b(e),l=this.contextCourse.courseId||this.$stateParams.courseId||r.course_id,c=this.$stateParams.contentId||this.$stateParams.id||r.content_id||r.parentId;return t?(O.a.sendEventMessage({type:D.j,eventType:D.hb.LtiLaunch,launchData:{courseId:l,coursesOrOrganizations:(null===(o=null===(a=this.contextCourse)||void 0===a?void 0:a.course)||void 0===o?void 0:o.isOrganization)?"organizations":"courses",isLaunchedInNewWindow:!0,toolHref:e}}),this.$window.open(e),this.timeout((()=>this.markCompleted(c,l)),this.$rootScope,3e3),"lti-service: Link was launched in a new window."):n?e:(i?this.stateService.goPeekState(E.D.LTI_LAUNCH_PEEK,{toolHref:e,courseId:l,contentId:c}).then((()=>{s&&this.stateService.goPeekState(E.D.LTI_EDIT_CLOUD_DOCUMENT)})):this.stateService.goPeekState(E.D.LTI_LAUNCH_FRAME,{toolHref:e}),this.timeout((()=>this.markCompleted(c,l)),this.$rootScope,3e3),"lti-service: Link was launched in a peek panel.")}_ltiLaunch(e){let t;if(e.content){t=this.getLaunchLinkFromContent(e.content);const n=this.getDomainConfigStatusType(e.content);if(!t){if(n&&a.K.LTIStatusType.NeedsApproval===n){const t=this.$rootScope.$new();return t.email=this._getSupportEmail(e.content),t.hasEmail=!!t.email,this.modalService.open({scope:t,template:b,resolve:{translations:[c.serviceName,e=>e.loadBundle("features/course/content/course-content")]}}),this.$q.resolve()}return this.$q.reject({errorMessage:"Attempted to launch an LTI link without a valid launchLink."})}if(void 0!==this.placementExists(e.content)&&!this.placementExists(e.content))return this.$q.reject({errorMessage:"The placement of this LTI Link does not exist"})}else t={link:this._getLaunchLinkFromLinkRef(e)};return this._initLaunchTarget(i.merge(e,{launchLink:t}))}_initLaunchTarget(e){const t=Object(C.m)(e.linkRefId);if(e.content)return this._launchFromContent(e.content,e.launchLink,t,e.launchSettings);if(p.g.LtiPlacement.isEqualTo(e.linkType))return this._getPlacementById(e.linkRefId).then((t=>{let n=e.launchLink.link,i=t.launchInNewWindow;return h.n(t.url)||(n=h.a(n,"target_override","window"),i=!0),S.Kb.ContentItemMessage===t.type&&(p.p.Inline.isEqualTo(this.$stateParams.mode)?(n=h.a(n,"inline","true"),this.$stateParams.id&&(n=h.a(n,"content_id",this.$stateParams.id))):(this.$stateParams.position&&(n=h.a(n,"position",this.$stateParams.position)),this.$stateParams.parentId&&(n=h.a(n,"content_id",this.$stateParams.parentId)),n=h.a(n,"inline","false"))),this.launch(n,i)}),(()=>this.launch(e.launchLink.link)));if(p.g.PartnerCloud.isEqualTo(e.linkType))return this.PartnerSettingsModel.getSettingsById(t).then((t=>this.launch(e.launchLink.link,!t.responsive)));if(p.g.LtiLink.isEqualTo(e.linkType)){const t=e.launchLink.link;return!e.launchInNewWindow&&e.url&&h.n(e.url)?this.$q.resolve(this.launch(t,!1,e.renderAsEmbed)):this.$q.resolve(this.launch(t,!0))}}_launchFromContent(e,t,n,i){const s=e.contentHandler;if(p.g.LtiPlacement.startsWith(s)||p.g.LtiLink.isEqualTo(s)){const n=A.E.CloudDocument===e.contentDetail[s.toString()].itemOrigin;return this.$q.resolve(this.launch(t.link,t.launchNewWindow,!1,n,i))}if(p.g.PartnerCloud.isEqualTo(s)){const i=e.contentDetail;return!n&&i&&i[p.g.PartnerCloud.handle]&&(n=i[p.g.PartnerCloud.handle].providerId),this.PartnerSettingsModel.getSettingsById(n).then((e=>this.launch(t.link,!e.responsive)))}}getLaunchLinkFromContent(e){return Object(C.k)(e)}_getPlacementById(e){let t=this.placementCache.get(e);return t||(t={promise:this.PlacementModel.$find(e).$asPromise()},t.promise.then((()=>{this.placementCache.put(e,t)}))),t.promise}_getLaunchLinkFromLinkRef(e){return Object(C.l)(e)}getDomainConfigStatusType(e){var t,n,i;return(null===(i=null===(n=null===(t=e.contentDetail)||void 0===t?void 0:t[e.contentHandler.toString()])||void 0===n?void 0:n.domainConfig)||void 0===i?void 0:i.statusType)?e.contentDetail[e.contentHandler.toString()].domainConfig.statusType:null}ltiToolProviderExists(e){var t,n;return null===(n=null===(t=e.contentDetail)||void 0===t?void 0:t[e.contentHandler.toString()])||void 0===n?void 0:n.existsLTIProvider}placementExists(e){var t,n;return null===(n=null===(t=e.contentDetail)||void 0===t?void 0:t[e.contentHandler.toString()])||void 0===n?void 0:n.existsPlacement}ltiEditColumn(e){this._getContent(e.courseId,e.ui.content,e.contentId,null,null).then((t=>{e.ui.content=t;const n=r.a.create(t).getEditState();this.stateService.goPeekState(n,{id:t.id})}))}isLTILink(e){return null!=e.scoreProviderHandle&&(A.Q.PartnerCloud.isEqualTo(e.scoreProviderHandle)||A.Q.LTILink.isEqualTo(e.scoreProviderHandle))}populateNewPlacement(e,t){const n=a.p.ContentHandler.LtiPlacement.handle+"-"+t.handle;e.isAvailable=!1,e.isPartiallyVisible=!1,e.visibility=S.w.Hidden,e.contentHandler=new a.p.ContentHandler(n,null),e.permissions={edit:!0},e.contentDetail={},e.contentDetail[n]={},e.title=t.name.trim().substr(0,333),t.description&&t.description.length>0&&(e.description=t.description.trim().substr(0,250))}_isStudentInCourse(e){return e.isStudentMembership()}_isGradable(e){return!!(e&&e.contentDetail&&e.contentDetail[e.contentHandler.toString()]&&e.contentDetail[e.contentHandler.toString()].gradingColumn)&&!!e.contentDetail[e.contentHandler.toString()].gradingColumn}_getContent(e,t,n,i,s){return t?this.$q.when(t):n?this.CourseModel.$new(e).contents.$find(n).$asPromise():s&&p.g.PartnerCloud.isEqualTo(i)?this.PartnerContentIdModel.getContentIds(e,s).then((t=>t.contentIds&&t.contentIds.length>0?this.CourseModel.$new(e).contents.$find(t.contentIds[0]).$asPromise():this.$q.when(null))):this.$q.when(null)}_getMembership(e){return this.CourseModel.$new(e).users.$find(this.contextUser.userId).$asPromise()}_getSupportEmail(e){return e.contentDetail&&e.contentDetail[e.contentHandler.toString()]&&e.contentDetail[e.contentHandler.toString()].supportEmail?e.contentDetail[e.contentHandler.toString()].supportEmail:null}convertInlineLTILinkToBbMLLink(e){return e.map((e=>{var t,n;const a=e.data;p.g.LtiLink.isEqualTo(e.data.linkType)&&("iframe"===(null===(n=null===(t=e.data)||void 0===t?void 0:t.target)||void 0===n?void 0:n.toLowerCase())&&(a.bbtype="embedded-app",e.data.height&&(a.height=e.data.height),e.data.width&&(a.width=e.data.width),delete a.target),a.linkRefUuid||(a.linkRefUuid=Object(x.b)()));const o={type:s.isDefined(a)&&!p.g.ExternalLink.isEqualTo(a.linkType)?"lti":"external",title:e.title,url:"",data:i.escape(s.toJson(s.isDefined(a)?a:{}))};return s.isDefined(a)&&p.g.ExternalLink.isEqualTo(a.linkType)&&(o.url=a.url),o}))}isEmbeddedGradable(e){let t=!1;return e.forEach((e=>{e.data.gradable&&(t=!0)})),t}returnToContentState(){const e=this.stateService.current.name.split(".peek.");let t=1;e.length>2&&(t=e[e.length-2]===E.i.CONTENT_MARKET?2:1);const n=e.splice(0,e.length-t).join(".peek.");this.stateService.goPeekState(n)}_registerEmbedLinkEventHandler(e,t){this.postMessageDispatcherService.registerEventHandler("embedded-links",((t,n)=>{window!==n&&n.close(),this.returnToContentState();const i=t=>{const n=this.convertInlineLTILinkToBbMLLink(t);e(n.map((e=>({data:e.data,type:e.type.includes("lti")?"lti":"external",url:e.url,title:e.title}))))};this.isEmbeddedGradable(t.items)?this.showEmbeddedNotGradableModal(i,t.items):i(t.items)}),t,!0)}getOpenContentMarketConf(e){return t=>{this._registerEmbedLinkEventHandler(t,e),this.stateService.goPeekState(E.i.CONTENT_MARKET,{mode:"inline"})}}getOpenSystemContentMarketConf(e){return t=>{this._registerEmbedLinkEventHandler(t,e),this.stateService.goPeekState("system-content-market",{mode:"inline"})}}getEditorPluginOptions(e){return{getEmbedSrc:this.configureAndInitInlineLaunch.bind(this),openContentMarket:this.getOpenContentMarketConf(e)}}getYoutubeEditorPluginOptions(){return{courseId:this.contextCourse.courseId,getEmbedSrc:this.configureAndInitInlineLaunch.bind(this)}}showEmbeddedNotGradableModal(e,t){const n=this.$rootScope.$new(!0),i=this.modalService.open({scope:n,template:f,resolve:{translations:[c.serviceName,e=>e.loadBundle("features/course/content-market/content-market")]}});n.dismissCallback=()=>{e(t),i.dismiss()}}}G.$inject=["$q","$rootScope","$stateParams","$window","DSCacheFactory",l.e,c.serviceName,d.b,u.b,m.d,a.m.serviceName,a.S.serviceName,a.U.serviceName,a.L.serviceName,g.b,v.g,y.b,k.b];s.module(T,[l.b,u.a,m.b,v.d,a.N]).service(P,G).config(["$compileProvider",e=>{e.aHrefSanitizationWhitelist(/^\s*(https?|mailto):/)}])},viYV:function(e,t){e.exports='<div bb-grade-grid-menu-reborn id="{{id}}" class="reborn-dropdown-menu">\n  <ul class="f-dropdown f-dropdown-overflow-menu reborn-dropdown cell-dropdown" role="menu">\n    <li role=“presentation”>\n        <button role="menuitem" \n                class="js-view-submission button clear" \n                ng-click="cell.view()" \n                ng-disabled="!cell.canBeView"\n                analytics-id="components.directives.grade.grid.viewItemRecord" >\n          <bb-svg-icon size="small" icon="visible"></bb-svg-icon>\n          <bb-translate  course-org-token-resolver class="ellipse">components.directives.grade.grid.viewItemRecord</bb-translate>\n        </button>\n    </li>\n  </ul>\n</div>'},"w0/N":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-rubric",use:"icon-small-rubric-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-rubric"><path d="M11 12h4v3h-4v-3zM4 12h4v3H4v-3zM1 12v3M1 5v3M11 5h4v3h-4V5zM4 5h4v3H4V5zM8 1H4M15 1h-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},w9Zy:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return f}));var i=n("D57K"),s=(n("NLMr"),n("71td")),a=n("Llzl"),o=n("5MwF"),r=n("9zo4"),l=n("0JpG"),c=n("lEL+"),d=n("TT9l"),u=n("aHpC");const m="ultra.services.BbOffcanvas",p="bbOffcanvas",h="OffCanvasPanelClosed",g="OffCanvasPanelOpened";let b=class{constructor(e,t,n,i,s,a){this.$compile=e,this.$q=t,this.$rootScope=n,this.accessibility=i,this.bbLocalize=s,this.timeout=a,this.document=document,this.openElements=[],this.openElementsPromise=[]}open(e){return this.openOffcanvas(e)}openOffcanvas(e){return this.$q.when(e.template).then((t=>{const n=s(t);if(n.length>1&&!o.a.production)throw new Error("Current page has multiple root element! Please refactor the page to have only one root element");n.attr("data-base-state-name",e.stateName),0===this.openElements.length&&1===this.openElementsPromise.length&&n.addClass("first");const i=e.scope||this.$rootScope,a=(i.$newOffcanvasScope||i.$new).apply(i);this.$rootScope.bbOffcanvasOpened=!1,this.bbOffcanvasOpening=!0;const l=e.opened,c=e.close,u=this;if(e.trapFocus=!1,e.open=()=>{e.disableFocusHandling||u.accessibility.applyAccessibilityHandlingForPanel(n)},r.a.isLastNavigationByKeyboard&&s("body").addClass("hide-focus-outline"),e.opened=function(){u.$compile(n)(a);const t=(...e)=>{u.$rootScope.bbOffcanvasOpened=!0,u.bbOffcanvasOpening=!1,l&&l.apply(this,e),r.a.isLastNavigationByKeyboard&&s("body").removeClass("hide-focus-outline"),u.$rootScope.$broadcast(g)};u.$rootScope.$$phase?t():u.$rootScope.$apply(t),u.accessibility.isElementInActivePanel(s(document.activeElement))||u.accessibility.focusCorrectElementOnPanel(n),n.hasClass("peek")&&n.hasClass("overlay-disabled")&&!e.disableFocusHandling&&u.enableFocusSkipLinks(a)},e.close=(...t)=>(n.hasClass("peek")&&n.hasClass("overlay-disabled")&&!e.disableFocusHandling&&this.disableFocusSkipLinks(),c.apply(this,t)),e.closed=()=>{e.disableFocusHandling||this.accessibility.revertAccessibilityHandling(),this.$rootScope.$broadcast(h)},e.overlay||n.addClass("overlay-disabled"),e.disableFocusHandling){n.addClass("focus-handling-disabled"),n.attr("role","region"),n.attr("aria-label",this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(a),key:"global.panel"}));const e=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(a),key:"global.focusJumpLink"});n.append('<button class="focus-skip-link focus-skip-link-disabled" tabindex="0">'+e+"</button>")}n.bbOffcanvas(e);const m=new f(n,this.accessibility);e.banner&&d.a.pushBanner({state:{stateName:e.stateName,panelClass:e.panelClass},orphan:()=>{m.setBanner()(void 0)},adopt:m.setBanner()}),m.open();const p=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(a),key:"global.close"}),b=n.find(".bb-close");return b&&b.length>0&&(b[0].setAttribute("aria-label",p),b[0].setAttribute("analytics-id",`bb-close.${e.pageTitle}`),n.find(".top-border").length>0&&b.addClass("has-top-border")),n.attr("data-page-title",this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(a),key:e.pageTitle})),m}))}addBbOffcanvasElement(e){this.openElements.push(e),this.synchronizeOffcanvasDepth()}addBbOffcanvasElementPromise(e,t){this.openElementsPromise.push(this.$q.when(e)),this.openElementsPromise[this.openElementsPromise.length-1].then((e=>{e.name=t,this.addBbOffcanvasElement(e),this.openElementsPromise.pop()}),(()=>{this.openElementsPromise.pop()}))}close(e){for(;0!==this.openElements.length;){const t=this.openElements.pop();if(this.synchronizeOffcanvasDepth(),t.close(),this.$rootScope.bbOffcanvasOpened&&t.name===e)break}this.$rootScope.$broadcast(h)}synchronizeOffcanvasDepth(){s(this.document.body).attr("bb-offcanvas-depth",this.openElements.length)}getElement(e){let t;return t=this.openElementsPromise.length?this.$q.all(this.openElementsPromise):this.$q.when(),t.then((()=>this.openElements.filter((t=>t.name===e))[0]))}getTopElement(){return this.getNthElementFromTop(0)}getNthElementFromTop(e){let t=null;return this.openElementsPromise.length>e?t=this.openElementsPromise[this.openElementsPromise.length-e-1]:this.openElements.length>e&&(t=this.openElements[this.openElements.length-e-1]),this.$q.when(t)}getCoursePanel(){let e;return e=this.openElementsPromise.length?this.$q.all(this.openElementsPromise):this.$q.when(),e.then((()=>this.openElements.filter((e=>{const t=e.name.match(/base\.[A-Za-z]+\.peek\.course\.[A-Za-z]+\.peek$/);return t&&0!==t.length}))[0]))}showTopPanelCloseButton(){this.getTopElement().then((e=>{e&&e.showCloseButton()}))}expandTopPanel(){this.getTopElement().then((e=>{e&&!e.isPanelExpanded()&&e.expandPanel()}))}shrinkTopPanel(){return this.getTopElement().then((e=>{e&&e.isPanelExpanded()&&e.expandPanel()}))}safeFocus(e){if(this.bbOffcanvasOpening){const t=this.$rootScope.$watch((()=>this.bbOffcanvasOpening),(n=>{!1===n&&(t(),this.timeout((()=>{e.focus()}),this.$rootScope,0,!1))}))}else this.timeout((()=>{e.focus()}),this.$rootScope,0,!1);this.accessibility.isFocusDelayed=!1}enableFocusSkipLinks(e){this.$q.all([this.getTopElement(),this.getNthElementFromTop(1)]).then((t=>{const[n,i]=t;if(null!=n&&null!=i){const t=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(e),key:"global.focusJumpLabel",noWrap:!0,params:{pageTitle:i.getElement().attr("data-page-title")}}),s=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(e),key:"global.focusJumpLabel",noWrap:!0,params:{pageTitle:n.getElement().attr("data-page-title")}});n.enableFocusSkipLink(i,t),i.enableFocusSkipLink(n,s)}}))}disableFocusSkipLinks(){this.getTopElement().then((e=>{e&&e.disableFocusSkipLink()})),this.getNthElementFromTop(1).then((e=>{e&&e.disableFocusSkipLink()}))}};b=Object(i.a)([Object(i.c)(0,Object(u.b)("$compile")),Object(i.c)(1,Object(u.b)("$q")),Object(i.c)(2,Object(u.b)("$rootScope")),Object(i.c)(3,Object(u.b)(r.c)),Object(i.c)(4,Object(u.b)(l.serviceName)),Object(i.c)(5,Object(u.b)(c.b))],b);class f{constructor(e,t,n){this.element=e,this.accessibility=t,this.name=n}getElement(){return this.element}open(){this.element.addClass("hide-in-background"),this.element.bbOffcanvas("open")}close(){this.element.bbOffcanvas("remove")}setBanner(){return s(this.element)[0].setBanner}expandPanel(){this.element.bbOffcanvas("expandPanel")}isPanelExpanded(){return this.element.hasClass("full")}hideCloseButton(){this.element.find(".bb-close").addClass("bb-close-hide")}showCloseButton(){this.element.find(".bb-close.bb-close-hide").removeClass("bb-close-hide")}enableFocusSkipLink(e,t){this.element.find(".focus-skip-link").removeClass("focus-skip-link-disabled").attr("aria-label",t).on("click.focusSkip",(()=>{this.element.hasClass("peek")?this.accessibility.revertAccessibilityHandling():(this.accessibility.applyAccessibilityHandlingForPanel(e.getElement()),this.accessibility.focusCorrectElementOnPanel(e.getElement()))}))}disableFocusSkipLink(){this.element.find(".focus-skip-link").addClass("focus-skip-link-disabled").off("click.focusSkip")}}a.module(m,[r.b,l.moduleName,c.a]).service(p,b)},w9mJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n("Llzl");const s="ultra.service.promiseQueue",a="promiseQueue";class o{constructor(){this.queue=[],this.processing=!1,this.MAX_QUEUE_LENGTH=2e3}enqueue(e){this.queue.length<this.MAX_QUEUE_LENGTH?(this.queue.push(e),this.processQueue()):console.error("Maximum queue length reached. Item was not enqueued.")}enqueueArray(e){if(this.queue.length>0)throw Error("Queue is not currently empty. Cannot queue new array.");if(e.length>this.MAX_QUEUE_LENGTH)throw Error("Too many items to queue. "+e.length+" exceeds maximum of "+this.MAX_QUEUE_LENGTH);e.forEach((e=>{this.queue.push(e)})),this.processQueue()}processQueue(e){if(this.processing)return;const t=this.queue.shift();if(t){this.processing=!0;let n=e;try{t(e).then((e=>{n=e})).finally((()=>{this.processing=!1,this.processQueue(n)}))}catch(e){throw this.processing=!1,e}}}_processQueue(){return this.processQueue()}}class r{constructor(){this.queues=Object.create(null)}getQueue(e){let t=this.queues[e];return t||(t=this.queues[e]=new o),t}}i.module(s,[]).service(a,r)},wAzH:function(e,t,n){},wDWF:function(e,t,n){"use strict";function i(e){if(!e)return 0;let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return t>>>0}n.d(t,"a",(function(){return i}))},wJOA:function(e,t){e.exports='<div class="grade-grid-cell grade-grid-body-cell"\n     tabindex="0"\n     ng-click="gradeGridColumnOverallReborn.enterEditor($event)"\n     analytics-id="components.directives.grade.grid.gradeGridColumnOverallReborn.enterEdit"\n>\n  <div class="overall-display-grade" ng-class="{\'editor-disable\': gradeGridColumnOverallReborn.disabledEditor}"\n       aria-label="{{gradeGridColumnOverallReborn.ariaLabelContent}}">\n    \x3c!--<bb-display-grade column="col.data" display-type="GradeColor" grade-detail="gradeGridColumnOverallReborn.gradeDetail"></bb-display-grade>--\x3e\n    <bb-display-grade-pill\n      column="col.data"\n      grade="gradeGridColumnOverallReborn.gradeDetail"></bb-display-grade-pill>\n  </div>\n</div>\n'},wKTs:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-upload",use:"icon-small-upload-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-upload"><path d="M14 5h1v9H1V5h1M6 4l2-2 2 2M8 10V2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},wQOJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("D57K"),s=n("5MwF"),a=n("Q/M7"),o=n("aHpC"),r=n("Fvsw");const l="ultra.services.institutionApi",c="institutionApi";var d;!function(e){e.V1="1.0",e.V2="2.0"}(d||(d={}));let u=class{constructor(e,t,n){this.$http=e,this.$q=t,this.context=n,this.getUserCanEdit=e=>this.canEditFetch(e).then((({canEdit:e})=>e),(()=>!1)),this.getUserCanView=e=>this.canEditFetch(e).then((({ipHasVisible:e})=>e>0),(()=>!1)),this.getEffectiveVariantIdWithPermissions=()=>{const e=this.context.getBrand(),t=e.isDefault?null:e.portalBrandId;return this.getEffectivePageVariantId(t).then((e=>this.canEditFetch(e).then((({canEdit:t,ipHasVisible:n})=>({variantId:e,canEdit:t,canView:n>0}))))).catch((()=>({variantId:void 0,canEdit:!1,canView:!1})))},this.getModuleIsVisible=e=>this.getModuleVisibility(e).then((({visible:e})=>e),(()=>!1)),this.getHealth=()=>{if(this.ipHealthPromise)return this.ipHealthPromise;const e=a.c(s.a.institutionApiBasePath+"/health");return this.ipHealthPromise=this.$http.get(e,this._getConfig())},this._getConfig=()=>({headers:{Accept:`application/json; version=${d.V2.toString()}`}})}importIP(){return Promise.all([n.e(0),n.e(21),n.e(23)]).then(n.bind(null,"26Ar")).then((({default:e})=>e))}canEditFetch(e){return this.$q.when(this.importIP().then((t=>t.pageService.canEditFetch(d.V2,e))))}getEffectivePageVariantId(e){return this.$q.when(this.importIP().then((t=>t.pageService.getEffectivePageVariantId(e))))}getModuleVisibility(e){return this.$q.when(this.importIP().then((t=>t.moduleService.getModuleVisibility(e))))}};u=Object(i.a)([Object(i.c)(0,Object(o.b)("$http")),Object(i.c)(1,Object(o.b)("$q")),Object(i.c)(2,Object(o.b)(r.b))],u);angular.module(l,[r.a]).service(c,u)},wWlP:function(e,t,n){"use strict";const i=(()=>{const e=[],t=[];function n(){return e[e.length-1]}function i(){const e=n();t.forEach((t=>t(e)))}return{add:function(t,n){e.push({key:t,value:n}),i()},addTopListener:function(e){t.push(e)},get:function(t){let n;for(let i=0;i<e.length;i++)if(t===e[i].key){n=e[i];break}return n},keys:function(){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].key);return t},top:n,remove:function(t){let n=-1;for(let i=0;i<e.length;i++)if(t===e[i].key){n=i;break}const s=e.splice(n,1)[0];return i(),s},removeTop:function(){const t=e.splice(e.length-1,1)[0];return i(),t},length:function(){return e.length}}})();t.a=i},wy9x:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("Llzl"),s=n("Jwnl"),a=n("Y+9S");const o="ultra.components.directives.content.contentItem.contentItemType.contentItemFolder";class r{constructor(e,t,n){this.scope=e,this.element=t,this.attrs=n}toggleFolder(){if(!this.scope.content.ui.isOpen){const e={type:a.c.FolderOpened,status:a.b.Success,contentId:this.scope.content.id};Object(a.r)(e)}this.scope.$emit("toggle-folder",this.scope.content)}shouldAlignMiddle(){const e=this.scope.content;return!e.canViewAsInstructor()&&(!e.description&&(!e.isVisible()||!e.adaptiveReleaseRules))}}r.$inject=["scope","element","attrs"];class l{constructor(e){this.$injector=e,this.restrict="E",this.template=s,this.scope=!1,this.link=(e,t,n)=>{e.contentItemFolder=this.$injector.instantiate(r,{scope:e,element:t,attrs:n})}}}l.$inject=["$injector"],i.module(o,[]).directive("bbContentItemFolder",["$injector",e=>e.instantiate(l)])},wylW:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n("D57K"),s=n("aHpC"),a=n("tQ/B"),o=n("TnpK"),r=n("Qbdf"),l=n("0JpG"),c=n("ZQFV");const d="course-grades-student-tab",u="CourseGradebookStudentTitleHandler";let m=class extends a.a{constructor(e,t,n,i,s,a){super(e,t,n,i,s),this.$injector=e,this.$rootScope=t,this.ultraState=n,this.bbLocalize=i,this.currentCourse=s,this.$q=a}process(e,t,n){const i=t===c.M.Progress?"course.content.progress.pageTitle":"base.nav.grades";return this.bbLocalize.translate({key:i,locale:this.bbLocalize.getLocale(this.$rootScope)}).then((e=>{this.$rootScope.index.title=[e,n,this.currentCourse.course.name].filter((e=>!!e)).join(" / ")}))}};m=Object(i.a)([Object(i.c)(0,Object(s.b)("$injector")),Object(i.c)(1,Object(s.b)("$rootScope")),Object(i.c)(2,Object(s.b)(o.d)),Object(i.c)(3,Object(s.b)(l.serviceName)),Object(i.c)(4,Object(s.b)(r.e)),Object(i.c)(5,Object(s.b)("$q"))],m),Object(a.d)(u,m)},"x+T+":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n("Llzl"),s=n("pjml");const a="ultra.service.entitlementCache",o="entitlementCache",r="SYSTEM_ENTITLEMENTS";class l{constructor(e,t,n){this.$q=e,this.CourseModel=t,this.EntitlementModel=n,this.entitlements=new Map,this.entitlementDefers=new Map}fetchSystemEntitlements(){return this.EntitlementModel.$collection().$fetch().$asPromise()}fetchCourseEntitlements(e){return this.CourseModel.$new(e).entitlements.$fetch().$asPromise()}loadCourseEntitlements(e){if(!e)return this.$q.resolve();if(this.hasCachedCourseEntitlements(e))return this.$q.resolve();const t=this.$q.defer();if(!this.entitlementDefers.has(e)){let t;this.entitlementDefers.set(e,new Set),t=e===r?this.fetchSystemEntitlements():this.fetchCourseEntitlements(e),t.then((t=>{const n=t.filter((e=>e.hasEntitlement())).map((e=>e.uid));this.entitlements.set(e,new Set(n)),this.entitlementDefers.get(e).forEach((e=>e.resolve()))}),(t=>this.entitlementDefers.get(e).forEach((e=>e.reject(t))))).finally((()=>this.entitlementDefers.delete(e)))}return this.entitlementDefers.get(e).add(t),t.promise}getCachedCourseEntitlements(e){return this.hasCachedCourseEntitlements(e)?this.entitlements.get(e):new Set}hasCachedCourseEntitlements(e){return this.entitlements.has(e)}clearEntitlementCache(e){this.entitlements.delete(e)}}l.$inject=["$q",s.m.serviceName,s.y.serviceName];i.module(a,[s.N]).service(o,l)},x9Ok:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d}));var i=n("D57K"),s=n("Llzl"),a=n("aHpC"),o=n("ZzR9");const r="ultra.components.services.route.routeListener",l="routeListener";let c=class{constructor(e){this.$rootScope=e}addRouteListener(){this.$rootScope.$on(o.b.$stateChangeSuccess,((e,t,n)=>{const i=t.name;u.emitRouteEvent(d.Changed,i,n)})),this.$rootScope.$on(o.b.$stateChangeStart,((e,t,n)=>{const i=t.name;u.emitRouteEvent(d.Changing,i,n)}))}};c=Object(i.a)([Object(i.c)(0,Object(a.b)("$rootScope"))],c);var d;s.module(r,[]).service(l,c),function(e){e[e.Changed=0]="Changed",e[e.Changing=1]="Changing"}(d||(d={}));const u=new class{constructor(){this.subscribers={[d.Changed]:[],[d.Changing]:[]},this.subscribe(((e,t)=>{this.currentRoute={currentRouteName:e,currentParams:t}}))}subscribe(e,t=d.Changed){return this.subscribers[t].push(e),()=>{this.subscribers[t]=this.subscribers[t].filter((t=>t!==e))}}emitRouteEvent(e,t,n){this.subscribers[e].forEach((e=>e(t,n)))}getCurrentRoute(){return this.currentRoute}};t.b=u},xAaQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("Llzl"),s=n("wy9x"),a=n("jhBu"),o=n("Sa5G"),r=n("TnpK"),l=n("sB2Z"),c=n("nmzr");const d="ultra.components.directives.content.contentItem.contentItemEngagementOutline";class u{constructor(e,t,n){this.scope=e,this.entitlementService=t,this.ultraState=n,this.entitlementService.hasCourseEntitlement(o.f.ModifyContent,this.scope.content.courseId).then((e=>{this.entitledToModifyContent=e}))}get canOpenConditionalRelease(){return!!(this.scope.content&&this.scope.content.permissions&&this.scope.content.permissions.adaptiveRelease&&this.scope.content.permissions.adaptiveRelease.view)}openConditionalRelease(){this.isCourseCompletedAndInInstructorView()||this.ultraState.goPeekState(c.k.CONDITIONAL_RELEASE_PEEK_PANEL,{contentId:this.scope.content.id})}isCourseCompletedAndInInstructorView(){return!this.scope.content.canEdit()&&this.scope.content.canViewAsInstructor()}isDiscussionCreatedByStudent(){var e;let t=!1;const n=null===(e=this.scope.content.contentDetail)||void 0===e?void 0:e["resource/x-bb-forumlink"];return n&&(t=n.isDiscussionCreatedByStudent),!!t}}u.$inject=["scope",a.b,r.d];class m{constructor(e){this.$injector=e,this.restrict="E",this.template=l,this.scope=!1,this.link=e=>{e.contentItemEngagementOutline=this.$injector.instantiate(u,{scope:e})}}}m.$inject=["$injector"],i.module(d,[s.a,r.b]).directive("bbContentItemEngagementOutline",["$injector",e=>e.instantiate(m)])},xMZ0:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("OhrW");const a="ultra.components.directives.bbUiIcon.large.DocumentText";Object(i.a)(s.a,a,"bbUiIconLargeDocumentText")},xN03:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-download",use:"icon-small-download-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-download"><path d="M4 4H1v11h14V4h-3M8 1v11" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M6 10l2 2 2-2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},xX6i:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-time",use:"icon-medium-time-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-time"><circle cx="12" cy="12" r="11" stroke-width="2" /><path d="M12 5v7l4 4M10 14l-3 3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},xcel:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var i=n("Llzl"),s=n("nsO7"),a=n("LN5R"),o=n("o5Lu"),r=n("lEL+"),l=n("0JpG"),c=n("jhBu"),d=n("iViV"),u=n("pjml"),m=n("+4Px"),p=n("cbVV"),h=n("TmUJ"),g=n("C2vp"),b=n("Sa5G"),f=n("dF44"),v=n("qH3X"),y=n("Ui4O"),k=n("trPQ"),x=n("viYV"),S=n("E7GM"),C=n("ZQFV");const E="ultra.components.directives.gradeGridColumnReborn";class I{constructor(e,t,n,i,a,o,r,l,c,d,u,m,h){this.rootScope=e,this.window=t,this.$q=n,this.CourseModel=i,this.gradeService=a,this.$compile=o,this.scope=r,this.element=l,this.attrs=c,this.gradeGridRebornController=d,this.timeout=u,this.bbLocalize=m,this.entitlementService=h,this.isRestrictedGroupContent=!1,this.hasEntitlementsToGradeCell=()=>{if(this.isRestrictedGroupContent)return!1;if(!this.cell.canBeEdited)return!1;const e=this.cell;return e.data&&e.data.grade?this.gradeService.canGrade(e.data.grade.gradeScoreDesignation):!(!e.column||!e.column.data)&&this.gradeService.canGrade(e.column.data.gradeScoreDesignation)},this.isCellGradeable=e=>!this.isRestrictedGroupContent&&(!s.isUndefined(e)&&(!this.gridData.course.isComplete()&&(!(s.isUndefined(this.group)&&e.column instanceof p.g)&&e.canBeEdited))),this.canGradeCell=()=>this.isCellGradeable(this.cell)&&this.hasEntitlementsToGradeCell(),this._isUpdating=!1,this.initializeEventHandler(),this.gridData=this.gradeGridRebornController.getGridData(),this.hasItemExceptionView=this.entitlementService.isEntitled(C.q.ViewException,this.gridData.course.id),this.hasAssessmentExceptionView=this.entitlementService.isEntitled(b.b.ViewException,this.gridData.course.id),r.isDisabled=!(this.hasItemExceptionView&&this.hasAssessmentExceptionView),r.$watchGroup(["row","col"],(e=>{const[t,n]=e;this.initializeCell(t.id,n.id),this.initializeState(),this.initializeUI()})),r.$on(v.a.REFRESH,((e,t)=>{this._isUpdating=!1;const n=t.rowId,i=t.columnIds;s.forEach(i,(e=>{this.scope.row.id===n&&this.cell.column.id===e&&(this.initializeCell(n,e,!1),this.initializeUI(),this.scope.$broadcast(v.a.REFRESH_CELL_EDITOR))}))})),r.$on(f.b.ENTER_CELL,((e,t)=>t.find(".grade-grid-cell").click())),r.$on("$destroy",(()=>{})),r.$on(v.a.ENTER_EDITOR,((e,t)=>{s.isUndefined(t.group)||s.isUndefined(this.group)||t.group.groupId!==this.group.groupId||this.cell.column.id!==t.columnId||(this._freezeGroup=!0)})),r.$on(v.a.CLOSE_EDITOR,((e,t)=>{this.group&&this._freezeGroup&&(this._freezeGroup=!1)}))}initializeState(){this._isEditing=!1,this.resetGradePost()}initializeCell(e,t,n=!0){this.cell=this.gridData.getCell(e,t),this.setUpScreenReader(this.cell,this.score),this._oldScore=this._score=void 0,this.group&&n&&this.element.children(".grade-grid-cell").removeClass(`group-id-${this.group.groupId} group-grade-cell selected`),this._group=void 0,this._isOtherGroupMemberGraded=void 0,this.cell instanceof g.e&&(this._group=this.cell.group,this.element.children(".grade-grid-cell").addClass(`group-id-${this.group.groupId} group-grade-cell`)),this.setSelectEventListener()}setSelectEventListener(){this.group&&s.isUndefined(this.unbindSelectEvent)&&!this.isRestrictedGroupContent?this.unbindSelectEvent=this.scope.$on(v.a.SELECT_GROUP,((e,t)=>{this.group.groupId===t.groupId&&this.cell.column.id===t.columnId&&t.enter?this.element.children(".group-grade-cell").addClass("selected"):this.element.children(".group-grade-cell").removeClass("selected")})):s.isUndefined(this.group)&&!s.isUndefined(this.unbindSelectEvent)&&(this.unbindSelectEvent(),this.unbindSelectEvent=void 0)}initializeEventHandler(){this.element.parents(".rb-cell").mouseenter((()=>this.mouseEnterHandler())).mouseleave((()=>this.mouseLeaveHandler())).focus((()=>this.keyEnterHandler())).blur((()=>this.keyLeaveHandler())).focusin((()=>{this.focusin(),this.mouseEnterHandler(),this.showPointsPossible()})).focusout((()=>{this.focusout(),this.mouseLeaveHandler(),this.hidePointsPossible()})).click((()=>{this.showPointsPossible()}))}focusin(){this.isRestrictedGroupContent||this.rootScope.$broadcast(v.a.FOCUSIN_CELL,{rowId:this.scope.row.id,columnId:this.cell.column.id})}focusout(){this.isRestrictedGroupContent||this.rootScope.$broadcast(v.a.FOCUSOUT_CELL,{rowId:this.scope.row.id,columnId:this.cell.column.id})}showElement(e){e.removeClass("hide")}hideElement(e){e.addClass("hide")}initializeUI(){const e=this.element.constructor.fn,t=e.show,n=e.hide;e.show=function(){return this.removeClass("hide")},e.hide=function(){return this.addClass("hide")},(this.group||this.cell.column.data&&this.cell.column.data.groupContent)&&(this.isRestrictedGroupContent=!this.entitlementService.isEntitled(b.o.ViewGroups,this.gridData.course.id));const i=this.element.children(".grade-grid-cell");if(this.isLoading)i.removeClass("grade-now-bg").find(".score, .ungraded, .anonymous").hide();else{if(!this.gridData.canViewGrades||this.isRestrictedGroupContent)if(this.cell.data)i.addClass("grade-now-bg"),i.find(".score").show().find("#displayedScore").show().find("#display").text("--").show();else{const e=i.find("#displayedScore");e.children("#display").text("").hide(),e.hide()}else{const e=this.displayedScore;this.cell.isAnonymousGrading||e||this.isExempt?i.removeClass("grade-now-bg"):i.addClass("grade-now-bg"),this.isEditing||this.cell.isAnonymousGrading?i.children(".score").hide():i.children(".score").show();const t=i.find("#displayedScore");if(e?(t.children("#display").text(e).show(),this.isExempt?t.children("#exempt").show():t.children("#exempt").hide(),t.show()):(t.children("#display").text("").hide(),this.isExempt?(t.children("#exempt").show(),t.show()):(t.children("#exempt").hide(),t.hide())),this.isPastDueZero?(i.find("#pastDueZero").show(),this.isExempt&&(i.find("#pastDueZero").hide(),i.find("#displayedScore").children("#display").text("").hide())):i.find("#pastDueZero").hide(),!this.isPosted||this.isPastDueZero||this.isExempt?i.find("#posted").hide():i.find("#posted").show(),!this.canGradeCell()||e||this.isExempt?i.find("#gradeNow").hide():i.find("#gradeNow").show(),this.hasNewSubmission&&!this.isExempt?i.find("#newSubmission").show():i.find("#newSubmission").hide(),this.canGradeCell()?i.find("#blank").hide():i.find("#blank").show(),this.cell instanceof g.c&&this.ungradedItemCount&&this.ungradedItemCount>0&&!this.isExempt?(this.ungraded=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.grid.ungraded",params:{count:this.ungradedItemCount},noWrap:!0,noEscape:!0}),i.find("#ungraded").show()):i.find("#ungraded").hide(),this.cell instanceof g.c&&!this.isExempt){const e=this.pointsPossible;i.find("#pointsPossible").text(s.isUndefined(e)?"":e.toString())}this.cell.isAnonymousGrading&&!this.isExempt?i.find(".anonymous").show():i.find(".anonymous").hide()}}e.show=t,e.hide=n}showPointsPossible(){if(this.cell instanceof g.c){const e=this.element.children(".grade-grid-cell");e.addClass("purple-outline"),e.find("#displayedScore").children("#display").text(this.score),this.showElement(e.find("#displayedScore")),this.showElement(e.find("#slash")),this.showElement(e.find("#pointsPossible")),this.timeout((()=>{const e=this.scope.$on(f.b.SCROLL_H,(()=>{this.hidePointsPossible(),e(),t()})),t=this.scope.$on(f.b.SCROLL_V,(()=>{this.hidePointsPossible(),t(),e()}))}),this.scope,200)}}hidePointsPossible(){if(this.cell instanceof g.c){const e=this.element.children(".grade-grid-cell");e.removeClass("purple-outline"),e.find("#displayedScore").children("#display").text(this.displayedScore),this.hideElement(e.find("#slash")),this.hideElement(e.find("#pointsPossible"))}}resetGradePost(){this._isReadyToPost=void 0}get isReady(){return!s.isUndefined(this.cell)}get isLoading(){return!this.isReady||!this.cell.isLoaded}get isPosted(){return!s.isUndefined(this.cell)&&this.cell.isPosted}get hasNewSubmission(){return!s.isUndefined(this.cell)&&this.cell.hasNewSubmission}get isPastDueZero(){return!s.isUndefined(this.cell)&&this.cell.isPastDueZero}get isExempt(){return this.isReady&&this.cell.isExempt}get displayedScore(){if(!this.isLoading)return this.formatScore()}get ungradedItemCount(){var e;if(this.isReady){if(null===(e=this.cell.data)||void 0===e?void 0:e.grade)return this.cell.data.grade.ungradedItemCount;if(this.gridData.getColumnMetadata(this.cell.column.id))return this.gridData.getColumnMetadata(this.cell.column.id).itemsCount}}get pointsPossible(){if(this.isReady&&this.cell.data&&this.displayedScore){const e=this.cell.data.grade.pointsPossible;return s.isUndefined(e)?e:Math.round(100*e)/100}}get score(){if(this.isReady){if(s.isUndefined(this._score)){const e=this.cell.getScore(this.scope);this._oldScore=this._score=e}return this._score}}set score(e){this._score=e}get isReadonly(){if(this.isReady)return!1}get isEditing(){return this._isEditing}get group(){return this._group}mouseEnterHandler(){this.group&&!this.isRestrictedGroupContent&&this.rootScope.$broadcast(v.a.SELECT_GROUP,{groupId:this.group.groupId,columnId:this.cell.column.id,enter:!0})}mouseLeaveHandler(){!this.group||this._freezeGroup||this.isRestrictedGroupContent||this.rootScope.$broadcast(v.a.SELECT_GROUP,{groupId:this.group.groupId,columnId:this.cell.column.id,enter:!1})}keyEnterHandler(){if(!this.cell.isAnonymousGrading)return;const e=this.element.find(".anonymous").children();e&&e.focus()}keyLeaveHandler(){if(!this.cell.isAnonymousGrading)return;const e=this.element.find(".anonymous").children();e&&e.blur()}insertCellEditor(){this.editorScope=this.scope.$new(!1,this.scope),this.$compile(I.CELL_EDITOR_TEMPLATE)(this.editorScope,(e=>this.element.children(".grade-grid-body-cell").append(e))),this.timeout((()=>{this.addInputKeyEventListeners();const e=this.scope.$on(f.b.SCROLL_H,(()=>{s.isEmpty(this.score)&&this.element.children(".grade-grid-cell").addClass("grade-now-bg"),this.closeEditor(),e(),t()})),t=this.scope.$on(f.b.SCROLL_V,(()=>{s.isEmpty(this.score)&&this.element.children(".grade-grid-cell").addClass("grade-now-bg"),this.closeEditor(),t(),e()}))}),this.scope,200)}removeCellEditor(){this.element.find("#bb-grade-grid-cell-editor-reborn").remove()}isConfirmDialogExisting(){return!!e(".grade-grid-group-confirm-dialog").length}enterEditor(e){if(!this.isConfirmDialogExisting()&&this.isCellGradeable(this.cell)&&!this.isLoading&&!this._isEditing){if(this.cell.column.data.isAttendance())this.gradeGridRebornController.attendanceIsAvailable&&(this.cell.canBeView&&this.popupMenu(e,!1),this.rootScope.$broadcast(v.a.SELECT_GROUP,{groupId:void 0,columnId:this.cell.column.id,enter:!1}));else{const t=this.hasEntitlementsToGradeCell();(this.cell.canBeView||this.cell.canPost())&&(t||(this.isReadyToPost=!!this.score),this.popupMenu(e,!0)),t&&!this.isExempt&&(this._isEditing=!0,this.hideElement(this.element.find(".score")),this.element.children(".grade-grid-cell").removeClass("grade-now-bg"),this.insertCellEditor(),this.group?this.rootScope.$broadcast(v.a.ENTER_EDITOR,{group:this.group,columnId:this.cell.column.id}):this.rootScope.$broadcast(v.a.SELECT_GROUP,{groupId:void 0,columnId:this.cell.column.id,enter:!1}))}this.getIsOtherGroupMemberGraded()}}getIsOtherGroupMemberGraded(){this.group&&this.getGroupGrades(this.cell.column.id).then((()=>{this.isOtherGroupMemberGraded()}))}set isReadyToPost(e){this._isReadyToPost=e}get isReadyToPost(){return this._isReadyToPost}post(e,t){return t?this.cell.column.data.postReadyGroupAttempts({groupAssociationId:this.group.groupAssociationId}):this.cell.column.data.grades.$new(e.id).postReadyGrades()}fetchSummary(e){return this.cell.column.data.summary.$fetch(e).$asPromise()}popupMenu(t,n){const i=`grade-grid-cell-menu-reborn-${this.scope.row.id}-${this.scope.col.id}`;if(!this.gradeGridRebornController.isMenuExisting(i)){const s=e(t.target).closest(".grade-grid-cell").offset(),a=80;s.top+=a;const o=this.scope.$new(!0);o.cell=this.cell,o.post=()=>{(this.savePromise||this.$q.when()).then(((e=this.cell.getGrade())=>{this.postDefer&&(this.postDefer.resolve(!0),this.timeout.cancel(this.postDeferTimeout)),e&&(this.isGroupAssessment()?this.post(e,!0).then((()=>this.fetchSummary({timestamp:Date.now()}))).then((()=>{this.gridData.getGroupIdUserIdMap()[this.group.groupId].forEach((e=>{this.gridData.refreshDataCell(this.gridData.getRowByUserId(e),this.cell.column)})),this.rootScope.$broadcast(f.b.DATA_UPDATE),this.resetGradePost()})):this.post(e,!1).then((()=>this.fetchSummary({timestamp:Date.now()}))).then((()=>{this.gridData.refreshDataCell(this.cell.row,this.cell.column),this.rootScope.$broadcast(f.b.DATA_UPDATE),this.resetGradePost()})))}))},o.isReadyToPost=()=>!this._isUpdating&&this.cell.isReadyToPost&&this.isReadyToPost&&(!this.isGroupAssessment()||this._isOtherGroupMemberGraded),o.adjustPosition=e=>{s.top+e.height()>this.gradeGridRebornController.getGradeGridContainerElementBottom()&&(s.top-=a+e.height()),e.offset(s)},n?this.gradeGridRebornController.popupMenu(i,k,o):this.gradeGridRebornController.popupMenu(i,x,o),this.addMenuKeyEventListeners(),t.preventDefault(),t.stopPropagation()}}popupConfirmDialog(t){const n=`group-cell-confirm-dialog-reborn-${this.scope.row.id}-${this.scope.col.id}`,i=this.$q.defer();if(!this.gradeGridRebornController.isMenuExisting(n)){const s=this.scope.$new(!0);s.waiting=200,s.onBeforeDestroy=e=>{i.resolve(!0)},s.saveGroup=()=>{i.resolve(!0)},s.saveOne=()=>{i.resolve(!1)},s.isSaveOneDisabled=""===this.score,t.top+=80,s.adjustPosition=e=>{const n=t.left+e.width(),i=t.top+e.height(),s=this.gradeGridRebornController.getGradeGridContainerElementRight(),a=this.gradeGridRebornController.getGradeGridContainerElementBottom();n>s&&(t.left-=n-s+Object(h.a)()),i>a&&(t.top-=e.height()+80),e.offset(t)},s.$on("$destroy",(()=>{this.scope.$emit(f.b.LEAVE_CELL)})),this.gradeGridRebornController.popupMenu(n,S,s),this.timeout((()=>{const t=e(`#${n}`).find("button");t.on("keydown",(function(n){if(m.A(n))t.eq((t.index(this)+1)%t.length).focus();else if(m.z(n))t.eq((t.index(this)-1+t.length)%t.length).focus();else{if(n.keyCode!==m.g)return;e(window).click()}n.preventDefault(),n.stopPropagation()})),t.first().focus()}),this.scope,0,!1)}return i.promise}isOtherGroupMemberGraded(){this._isOtherGroupMemberGraded=s.isUndefined(s.findKey(this.studentIdGradeMap,((e,t)=>{const n=e.getScore();return this.cell.row.metadata.user.id!==t&&(""===n||s.isNull(n)||s.isUndefined(n))})))}addInputKeyEventListeners(){this.element.find("#bb-grade-grid-cell-editor-reborn input").on("keydown",(e=>{const t=this.gradeGridRebornController.getMenuitems();if(m.A(e))t.first().focus();else{if(!m.z(e))return;t.last().focus()}e.preventDefault(),e.stopPropagation()}))}addMenuKeyEventListeners(){this.timeout((()=>{const t=this.gradeGridRebornController.getPopupMenu();t.on("keydown",(n=>{const i=this.gradeGridRebornController.getMenuitems();if(m.A(n)){const t=i.index(e(n.target))+1;t<i.length?i.eq(t).focus():this.element.find(".grade-grid-cell").trigger("click",!0)}else if(m.z(n)){const t=i.index(e(n.target))-1;t>=0?i.eq(t).focus():this.element.find(".grade-grid-cell").trigger("click",!0)}else if(m.y(n))this.scope.$emit(f.b.LEAVE_CELL);else{if(n.keyCode!==m.g)return;t.data("destroy")(),this.scope.$emit(f.b.LEAVE_CELL)}n.preventDefault(),n.stopPropagation()}))}),this.scope,0,!1)}gotoNextCell(){this.nextDeferred=this.$q.defer(),this.nextDeferred.promise.then((()=>{this.scope.$emit(f.b.ENTER_NEXT_CELL)}))}onInputBlur(t,n,i){if(!this.isLoading&&this._isEditing)if(this.savePromise=this.$q.when(),this.postDefer=this.$q.defer(),this.postPromise=this.postDefer.promise,n){let n;this.score=i,s.isEmpty(this.score)&&this.element.children(".grade-grid-cell").addClass("grade-now-bg"),this.isDirty()?(n=this.$q.defer(),this.savePromise=n.promise):this.nextDeferred&&(this.nextDeferred.resolve(),this.nextDeferred=void 0);let a=this.$q.when(!1);this.isGroupAssessment()&&this.isDirty()&&(a=this.popupConfirmDialog(e(t.target).closest(".grade-grid-cell").offset())),a.then((e=>{this.showScoreTemporarily(),this.saveGrade(e,n),this.closeEditor()}))}else s.isEmpty(this.score)&&this.element.children(".grade-grid-cell").addClass("grade-now-bg"),this.closeEditor(),this.nextDeferred&&(this.nextDeferred.resolve(),this.nextDeferred=void 0)}showScoreTemporarily(){if(this.isDirty()){const e=this.element.find("#display");e.text(this.score);const t=this.element.find("#posted");s.isEmpty(this.score)?(this.hideElement(t),this.hideElement(this.element.find("#displayedScore")),this.showElement(this.element.find("#gradeNow"))):(this.hideElement(this.element.find("#gradeNow")),this.showElement(this.element.find("#displayedScore")),this.showElement(e))}}closeEditor(){!this.isLoading&&this._isEditing&&(this._isEditing=!1,this.removeCellEditor(),this.editorScope.$destroy(),this.showElement(this.element.find(".score")),this.rootScope.$broadcast(v.a.CLOSE_EDITOR,{group:this.group,columnId:this.cell.column.id}))}formatScore(){const e=this.cell.data;let t;return!s.isNull(e)&&e.grade&&e.grade.displayGrade&&(t=this.gradeService.getGradeToDisplay(e.grade.displayGrade,this.scope,this.gridData.getSchema()[this.cell.column.data.gradingSchemaId].scaleType),this.setUpScreenReader(this.cell,t)),t}isDirty(){return s.isUndefined(this._oldScore)&&!s.isEmpty(this.score)||!s.isUndefined(this._oldScore)&&this.bbLocalize.parseNumberSync(this._oldScore,this.scope).toString()!==this.bbLocalize.parseNumberSync(this.score,this.scope).toString()}createGradeSubmission(){const e=this.gridData.getSchema()[this.cell.column.data.gradingSchemaId],t=this.gradeService.createGradeSubmission(this.cell.column.data,this.gradeService.parseGrade(this.score,e,this.scope),e);return t.clearGrade=this.gradeService.wasGradeCleared(this._oldScore,this.score),t}getGroupGrades(e){this.studentIdGradeMap={};const t=this.gridData.getGroupIdUserIdMap()[this.group.groupId].map((e=>this.gridData.getRowByUserId(e).metadata.id));return this.CourseModel.$new(this.gridData.course.id).gradebook.bulkView.$fetch({membershipIds:t,columnIds:[e]}).$asPromise().then((e=>{e.bulkViewUsers.forEach((e=>{this.studentIdGradeMap[e.studentId]=e.grades[0].grade}))}))}prepareSaveGroupGrade(){return this.$q.when().then((()=>{this.gridData.getGroupById(this.group.groupId).memberships.forEach((e=>{e.ui={gradeDetail:this.studentIdGradeMap[e.userId]}}))}))}saveGrade(e,t){if(this.isDirty()){this._oldScore=this._score,s.isUndefined(t)&&(t=this.$q.defer(),this.savePromise=t.promise);const n=this.createGradeSubmission();let i=this.$q.when();n.clearGrade&&this.cell.isCleanAttemptGrade&&(i=this.CourseModel.$new(this.gridData.course.id).gradebook.columns.$new(this.cell.column.id).grades.$new(this.cell.data.grade.id).attempts.$fetch().$asPromise().then((e=>e[0]))),i.then((t=>(e?this.prepareSaveGroupGrade():this.$q.when()).then((()=>this.gradeService.saveGrade(n,this.cell.data&&this.cell.data.grade,t,e?{group:this.gridData.getGroupById(this.group.groupId)}:{userId:this.cell.row.metadata.user.id}))))).then((i=>{!n.clearGrade&&this.cell.isPosted&&this.cell.isNeedAutoPost?this.post(i,e):t.resolve(i)})).then((()=>(this.postDeferTimeout=this.timeout((()=>{this.postDefer.resolve(!1)}),this.scope,100,!1),this.postPromise.then((e=>e?void 0:this.fetchSummary()))))).then((()=>{this.refresh(e),this.nextDeferred&&(this.nextDeferred.resolve(),this.nextDeferred=void 0)}))}}refresh(e){const t=this.getAffectedColumns().concat([this.cell.column]),n=this.getOverallColumn();n&&t.push(n);const i=[this.cell.row];e&&this.gridData.getGroupIdUserIdMap()[this.group.groupId].forEach((e=>{const t=this.gridData.getRowByUserId(e);t!==this.cell.row&&i.push(t)})),s.forEach(i,(e=>{s.forEach(t,(t=>{this.gridData.refreshDataCell(e,t)}))})),this._isUpdating=!0,this.rootScope.$broadcast(f.b.DATA_UPDATE)}getAffectedColumns(){return this.cell.column instanceof p.c?this.cell.column.findAffectedColumns():[]}getOverallColumn(){return s.find(this.gridData.getColumns(),(e=>e instanceof p.k))}setUpScreenReader(e,t){this.userName=`${e.row.metadata.user.givenName} ${e.row.metadata.user.familyName}`;const n=e.column.data.columnName;if(this.ariaLabelContent=t?this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:this.canGradeCell()?"components.directives.grade.grid.tableCellAriaLabel":"components.directives.grade.grid.tableCellAriaLabelReadOnly",params:{userName:this.userName,assignmentName:n,grade:t},noWrap:!0,noEscape:!0}):this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:this.canGradeCell()?"components.directives.grade.grid.tableCellAriaLabelEmpty":"components.directives.grade.grid.tableCellAriaLabelEmptyReadOnly",params:{userName:this.userName,assignmentName:n},noWrap:!0,noEscape:!0}),this.isPosted){const e=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.grid.postedLabel",noWrap:!0,noEscape:!0});this.ariaLabelContent=`${this.ariaLabelContent} ${e}`}if(this.isPastDueZero){const e=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.grid.pastDueZero",noWrap:!0,noEscape:!0});this.ariaLabelContent=`${this.ariaLabelContent} ${e}`}if(this.isExempt){const e=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.grid.exemptLabel",noWrap:!0,noEscape:!0});this.ariaLabelContent=`${this.ariaLabelContent} ${e}`}if(this.group&&(this.ariaLabelContent=`${this.ariaLabelContent} ${this.group.groupTitle}`),this.hasNewSubmission){const e=this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.grid.newSubmissionLabel",noWrap:!0,noEscape:!0});this.ariaLabelContent=`${e} ${this.ariaLabelContent}`}}isGroupAssessment(){return this.group&&this.cell instanceof g.e&&!(this.cell instanceof g.f)}}I.CELL_EDITOR_TEMPLATE='<div bb-grade-grid-cell-editor-reborn id="bb-grade-grid-cell-editor-reborn" class="editor"></div>',I.$inject=["$rootScope","$window","$q",u.m.serviceName,o.n,"$compile","scope","element","attrs","gradeGridRebornController",r.b,l.serviceName,c.b];class w{constructor(e){this.$injector=e,this.restrict="E",this.template=y,this.scope=!0,this.require=`^${a.a}`,this.link=(e,t,n,i)=>{e.gradeGridColumnReborn=this.$injector.instantiate(I,{scope:e,element:t,attrs:n,gradeGridRebornController:i})}}}w.$inject=["$injector"],i.module(E,[d.a]).directive("bbGradeGridColumnReborn",["$injector",e=>e.instantiate(w)])}).call(this,n("71td"))},xiEu:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("zYa8"),s=n("fWA+");const a="ultra.components.directives.bbUiIcon.large.DocumentMultiple";Object(i.a)(s.a,a,"bbUiIconLargeDocumentMultiple")},xjJw:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-calendar",use:"icon-small-calendar-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-calendar"><path d="M1 15h14V2H1v13zM5 1v1h6V1H5zM5 12h1M1 6h14M5 9h1M10 12h1M10 9h1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},xoIb:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-feedback",use:"icon-medium-feedback-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-feedback"><path d="M1 1h22v19h-8l-3 3-3-3H1V1zM6 6h12M6 9h12M6 12h12M6 15h7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},"y+vt":function(e,t,n){"use strict";n("67oV");var i=n("Llzl"),s=n("qH3X"),a=n("0JpG"),o=n("pF15");n.d(t,"a",(function(){return r}));const r="ultra.components.directives.gradeSearchFilterReborn";class l{constructor(e,t,n){this.scope=e,this.$rootScope=t,this.bbLocalize=n,this.initial()}initial(){this.getCheckedMergedCourse()||this.clearAll(),this.criteriaBlocks=[{id:"merged_course",expanded:!0,name:"merged_course",criteriaDetails:this.scope.mergedCourses}]}clearAll(){this.$rootScope.$broadcast(s.a.GRADEBOOK_CLEAR_SEARCHBOX_SELECTION,!0)}collapseMergedCourse(e){this.criteriaBlocks.some((t=>t.id===e.id))&&(e.expanded=!e.expanded)}getCheckedMergedCourse(){return this.scope.mergedCourses&&this.scope.mergedCourses.filter((e=>!0===e.ui.checked)).length}getToggleButtonLabel(e){return e.expanded?this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.filter-panel.collapse"}):this.bbLocalize.translateSync({locale:this.bbLocalize.getLocale(this.scope),key:"components.directives.grade.filter-panel.expand"})}}l.$inject=["scope","$rootScope",a.serviceName];class c{constructor(e){this.$injector=e,this.restrict="E",this.template=o,this.scope={mergedCourses:"<"},this.link=(e,t,n)=>{e.gradeGridSearchFilterReborn=this.$injector.instantiate(l,{scope:e,element:t,attrs:n})}}}c.$inject=["$injector"],i.module(r,[]).directive("bbGradeGridSearchFilterReborn",["$injector",e=>e.instantiate(c)])},y3by:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("nmzr"),s=n("Llzl"),a=n("0JpG"),o=n("TnpK");const r="ultra.course.content-market.router";s.module(r,[a.moduleName,o.b]).config([o.c,e=>{e.peekState(i.i.CONTENT_MARKET,{url:"/contentmarket?parentId&positionBefore&positionAfter&position",require:()=>Promise.all([n.e(17),n.e(75),n.e(144),n.e(584)]).then(n.bind(null,"NZF1")),resolve:{translations:["$q",a.serviceName,(e,t)=>e.all([t.loadBundle("features/course/content-market/content-market"),t.loadBundle("features/course/books-and-tools/books-and-tools")])]},panelClass:"full",pageTitle:"course.contentMarket.contentMarketName",peekStates:["partner-tool",i.D.LTI],params:{mode:null}})}])},yA26:function(e,t,n){"use strict";n.r(t),n.d(t,"moduleName",(function(){return r})),n.d(t,"controllerName",(function(){return l})),n.d(t,"template",(function(){return c})),n.d(t,"requireName",(function(){return d})),n.d(t,"BbOffcanvasController",(function(){return u})),n.d(t,"Controller",(function(){return m}));var i=n("D57K"),s=n("Llzl"),a=n("w9Zy"),o=n("aHpC");const r="ultra.controllers.bbOffcanvas",l="BbOffcavasController",c="",d="components/services/bb-offcanvas/bb-offcanvas-controller";let u=class{constructor(e,t,n){const i=t.open({template:e.template,trapFocus:e.trapFocus,panelClass:e.panelClass||"peek",pageTitle:e.pageTitle,anchor:e.anchor,showType:e.showType,container:e.container,scope:e.scope||n,close:e.close,closed:e.closed,open:e.open,opened:e.opened,overlay:null==e.overlay||e.overlay,stateName:e.stateName,disableFocusHandling:!!e.disableFocusHandling,banner:e.banner});t.addBbOffcanvasElementPromise(i,e.stateName)}};u=Object(i.a)([Object(i.c)(0,Object(o.b)("offCanvasArgs")),Object(i.c)(1,Object(o.b)(a.e)),Object(i.c)(2,Object(o.b)("$scope"))],u);class m extends u{}s.module(r,[a.d]).controller(l,u)},yC9S:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r}));var i=n("Llzl"),s=n("nsO7");class a{static OnRootScope(e,t,n){return a.unbindOnDestroy(e,e.$root.$on(t,n))}static OnScope(e,t,n){return a.unbindOnDestroy(e,e.$on(t,n))}static unbindOnDestroy(e,t){return e.$on("$destroy",t),t}static OnWindow(t,n,i){const o=e(window);o.on(t,n);const r=Object(s.once)((()=>o.off(t,n)));return a.unbindOnDestroy(i,r),r}}function o(e){return t=>{if(!e.module&&!e.moduleName)throw Error("Component must define a module or moduleName");(e.module?e.module:i.module(e.moduleName,e.requireModules||[])).component(e.componentName,i.extend(e,{controller:t}))}}class r{constructor(e){this.$ngRedux=e}$onInit(){this.unsubscribeRedux=this.$ngRedux.connect(this.mapStateToProps.bind(this),this.selectActions()||this.mapDispatchToActions.bind(this))(((e,t)=>{this.componentWillReceiveState(e),this.actions=t,this.props=e}))}$onDestroy(){this.unsubscribeRedux()}selectActions(){return{}}mapDispatchToActions(e){return{}}}}).call(this,n("71td"))},yCC5:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"Ub",(function(){return d})),n.d(t,"Vb",(function(){return u})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return g})),n.d(t,"u",(function(){return b})),n.d(t,"v",(function(){return f})),n.d(t,"D",(function(){return v})),n.d(t,"U",(function(){return y})),n.d(t,"kb",(function(){return k})),n.d(t,"vb",(function(){return x})),n.d(t,"Eb",(function(){return S})),n.d(t,"t",(function(){return C})),n.d(t,"w",(function(){return E})),n.d(t,"y",(function(){return I})),n.d(t,"x",(function(){return w})),n.d(t,"A",(function(){return A})),n.d(t,"E",(function(){return O})),n.d(t,"F",(function(){return D})),n.d(t,"H",(function(){return T})),n.d(t,"z",(function(){return P})),n.d(t,"s",(function(){return $})),n.d(t,"Yb",(function(){return G})),n.d(t,"I",(function(){return j})),n.d(t,"J",(function(){return L})),n.d(t,"P",(function(){return N})),n.d(t,"Q",(function(){return B})),n.d(t,"B",(function(){return M})),n.d(t,"C",(function(){return R})),n.d(t,"N",(function(){return F})),n.d(t,"O",(function(){return V})),n.d(t,"R",(function(){return _})),n.d(t,"S",(function(){return U})),n.d(t,"T",(function(){return H})),n.d(t,"K",(function(){return z})),n.d(t,"L",(function(){return q})),n.d(t,"M",(function(){return W})),n.d(t,"W",(function(){return K})),n.d(t,"G",(function(){return J})),n.d(t,"l",(function(){return Q})),n.d(t,"m",(function(){return Z})),n.d(t,"n",(function(){return Y})),n.d(t,"p",(function(){return X})),n.d(t,"o",(function(){return ee})),n.d(t,"q",(function(){return te})),n.d(t,"V",(function(){return ne})),n.d(t,"X",(function(){return ie})),n.d(t,"cb",(function(){return se})),n.d(t,"hb",(function(){return ae})),n.d(t,"eb",(function(){return oe})),n.d(t,"fb",(function(){return re})),n.d(t,"r",(function(){return le})),n.d(t,"gb",(function(){return ce})),n.d(t,"jb",(function(){return de})),n.d(t,"db",(function(){return ue})),n.d(t,"Y",(function(){return me})),n.d(t,"Z",(function(){return pe})),n.d(t,"ib",(function(){return he})),n.d(t,"bb",(function(){return ge})),n.d(t,"ab",(function(){return be})),n.d(t,"lb",(function(){return fe})),n.d(t,"mb",(function(){return ve})),n.d(t,"nb",(function(){return ye})),n.d(t,"pb",(function(){return ke})),n.d(t,"ob",(function(){return xe})),n.d(t,"qb",(function(){return Se})),n.d(t,"rb",(function(){return Ce})),n.d(t,"sb",(function(){return Ee})),n.d(t,"tb",(function(){return Ie})),n.d(t,"ub",(function(){return we})),n.d(t,"wb",(function(){return Ae})),n.d(t,"Cb",(function(){return Oe})),n.d(t,"yb",(function(){return De})),n.d(t,"Ab",(function(){return Te})),n.d(t,"xb",(function(){return Pe})),n.d(t,"zb",(function(){return $e})),n.d(t,"Bb",(function(){return Ge})),n.d(t,"Db",(function(){return je})),n.d(t,"Fb",(function(){return Le})),n.d(t,"Gb",(function(){return Ne})),n.d(t,"Jb",(function(){return Be})),n.d(t,"Ob",(function(){return Me})),n.d(t,"Lb",(function(){return Re})),n.d(t,"Pb",(function(){return Fe})),n.d(t,"Rb",(function(){return Ve})),n.d(t,"Ib",(function(){return _e})),n.d(t,"Qb",(function(){return Ue})),n.d(t,"Nb",(function(){return He})),n.d(t,"Kb",(function(){return ze})),n.d(t,"Mb",(function(){return qe})),n.d(t,"Hb",(function(){return We})),n.d(t,"Wb",(function(){return Ke})),n.d(t,"Sb",(function(){return Je})),n.d(t,"Tb",(function(){return Qe})),n.d(t,"Xb",(function(){return Ze})),n.d(t,"Zb",(function(){return Ye})),n.d(t,"ac",(function(){return Xe})),n.d(t,"cc",(function(){return et})),n.d(t,"dc",(function(){return tt})),n.d(t,"bc",(function(){return nt})),n.d(t,"ec",(function(){return it})),n.d(t,"fc",(function(){return st})),n.d(t,"gc",(function(){return at})),n.d(t,"hc",(function(){return ot})),n.d(t,"ic",(function(){return rt})),n.d(t,"jc",(function(){return lt})),n.d(t,"kc",(function(){return ct})),n.d(t,"lc",(function(){return dt})),n.d(t,"mc",(function(){return ut})),n.d(t,"nc",(function(){return mt})),n.d(t,"oc",(function(){return pt})),n.d(t,"pc",(function(){return ht})),n.d(t,"qc",(function(){return gt})),n.d(t,"rc",(function(){return bt})),n.d(t,"sc",(function(){return ft})),n.d(t,"tc",(function(){return vt})),n.d(t,"uc",(function(){return yt})),n.d(t,"wc",(function(){return kt})),n.d(t,"vc",(function(){return xt})),n.d(t,"xc",(function(){return St})),n.d(t,"yc",(function(){return Ct})),n.d(t,"zc",(function(){return Et}));const i="AnalyticsEventModel",s="AnalyticsForLearnModel",a="AnnotationsModel",o="AnnouncementModel",r="AllyModel",l="AssessmentDetail",c="AssessmentExceptionModel",d="Question",u="QuestionAttempt",m="BlockedUserModel",p="BrandModel",h="CalendarModel",g="CalendarItemModel",b="CourseCalendarsModel",f="CourseCalendarItemModel",v="CourseDueDateCalendarItemModel",y="DueDateCalendarItemModel",k="InstitutionCalendarItemModel",x="OfficeHoursModel",S="PersonalCalendarItemModel",C="CourseModel",E="CourseCollab",I="CourseCollabUltra",w="CourseCollabSession",A="CourseContentModel",O="CourseEngagementParticipant",D="CourseEngagementUserStateModel",T="CourseExportModel",P="CourseConditionalReleaseModel",$="ConversionTaskModel",G="ScheduledTaskModel",j="CourseForumModel",L="CourseForumCountModel",N="CourseMessageModel",B="CourseMessageFolderModel",M="CourseConversationModel",R="CourseConversationMessageModel",F="CourseMembershipModel",V="CourseMembershipInviteModel",_="CoursePreferenceModel",U="CourseRole",H="CourseScheduleModel",z="CourseGroupModel",q="CourseGroupAssociationModel",W="CourseIndicatorModel",K="ExternalCourse",J="CourseEntitlementModel",Q="CloudDriveModel",Z="CloudDriveContent",Y="CloudDriveDownloadMessage",X="CloudDriveTask",ee="CloudDriveMeModel",te="CollabUltraPing",ne="EntitlementModel",ie="FileModel",se="GradeAttemptModel",ae="GradeGroupAttemptModel",oe="GradeCategoryModel",re="GradeColumnModel",le="ColumnSummaryModel",ce="GradeDetailModel",de="GradeSchemaModel",ue="GradeBulkViewModel",me="GradebookModel",pe="GradebookSettingsModel",he="GradeNotationModel",ge="GradedQuestionAttemptModel",be="GradedOriginalityModel",fe="InstitutionRoleModel",ve="LanguagesModel",ye="LtiDomainConfigModel",ke="LtiSettingsModel",xe="LtiPlacementModel",Se="MyPreferenceModel",Ce="NotificationModel",Ee="NotificationGeneralSettingsModel",Ie="NotificationSettingModel",we="NotificationSettingsContainerModel",Ae="PartnerModel",Oe="PartnerStatusModel",De="PartnerCourseModel",Te="PartnerLinkedCourseModel",Pe="PartnerContentIdModel",$e="PartnerGradeModel",Ge="PartnerSettingsModel",je="PartnerToolModel",Le="PredictCourseModel",Ne="PredictCourseSearch",Be="PredictFavoriteModel",Me="PredictPreferences",Re="PredictInstitutionPreference",Fe="PredictSettingsModel",Ve="PredictSystemSettingsModel",_e="PredictDynamicOptionModel",Ue="PredictStudentModel",He="PredictPermissionsModel",ze="PredictFtueModel",qe="PredictNoteModel",We="PredictCustomFieldSettingsModel",Ke="RiskBucketDistributionModel",Je="PrivacyPolicyModel",Qe="ProctoringServiceModel",Ze="Rubric",Ye="ScormReportItemModel",Xe="StreamModel",et="SystemInfoModel",tt="SystemPreferenceModel",nt="StudentPreviewModel",it="TargetedNotificationModel",st="TelemetryActivityVsGradeModel",at="TelemetryContentActivityInDetailModel",ot="TelemetryCourseActivityModel",rt="TelemetryCourseGradesModel",lt="TelemetryCourseNotificationsModel",ct="TelemetryDiscussionActivityModel",dt="TelemetryDiscussionXrayModel",ut="TelemetryMultimediaActivityInDetailModel",mt="TelemetryMultimediaStatisticsModel",pt="TelemetryNotificationsModel",ht="TelemetryNotificationUsersModel",gt="TelemetryStudentActivityModel",bt="TelemetryStudentGradesModel",ft="TelemetrySufficientDataModel",vt="TermModel",yt="ThemeModel",kt="ToolAvailabilityModel",xt="ToolsModel",St="TrialSupportTicketsModel",Ct="UploadingFile",Et="UserModel"},"yCl+":function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-discussion",use:"icon-small-discussion-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-discussion"><path d="M15 8c0 3.866-3.134 7-7 7a6.983 6.983 0 01-2.528-.4704L1 15l.5-4.3969C1.1775 9.7984 1 8.9199 1 8c0-3.866 3.134-7 7-7s7 3.134 7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="5" cy="8" r=".5" /><circle cx="8" cy="8" r=".5" /><circle cx="11" cy="8" r=".5" /></symbol>'});s.add(a);e.exports=a},yDoS:function(e,t,n){},yGso:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("Llzl"),s=n("k9iv"),a=n("0JpG"),o=n("w9Zy"),r=n("Fvsw"),l=n("ZzN+"),c=n("pjml"),d=n("TnpK");const u="ultra.base.courses.routes";i.module(u,[s.b,a.moduleName,r.a,o.d,c.N,d.b,l.a]).config([d.c,e=>{e.peekState("external",{abstract:!0}).peekState("external.create",{url:"/external/create",resolve:{translations:[a.serviceName,e=>e.loadBundle("features/base/courses/external/external-course")]},require:()=>Promise.all([n.e(22),n.e(39),n.e(161)]).then(n.bind(null,"hwlu")),pageTitle:"course.external.panelTitleAdd"}).peekState("external.edit",{url:"/external/edit/:id",resolve:{translations:[a.serviceName,e=>e.loadBundle("features/base/courses/external/external-course")]},require:()=>Promise.all([n.e(22),n.e(39),n.e(161)]).then(n.bind(null,"hwlu")),pageTitle:"course.external.panelTitleEdit"}).peekState("external.description",{url:"/external/description/:courseId",resolve:{currentCourse:["$stateParams",c.m.serviceName,c.z.serviceName,(e,t,n)=>{const i=e.courseId;return n.$new(i).$fetch().$asPromise().then((e=>{const n=t.$new();return n.id=e.id,n.name=e.title,n.description=e.description,n.displayName=e.title,n}))}],translations:[a.serviceName,e=>e.loadBundle("features/course/description/course-description")]},require:()=>n.e(155).then(n.bind(null,"8WQs")),pageTitle:"course.description.header"})}])},yMoE:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("oi1r"),s=n("o5Lu"),a=n("zGdY");class o{constructor(e,t,n,i,s){this.grade=e,this.$q=t,this._gradeDetail=n,this.scope=i,this.schemaService=s,this.wasValueErased=!1}init(e,t){this.column=e;const n=e=>{this.schema=e,this.scaleType=null==e?void 0:e.scaleType};return t?this.$q.when(n(t)):this.schemaService.loadGradeSchema(e).then((e=>{n(e)}))}shouldShowTotalPoints(){var e,t;return(null!=this._displayValue||(null===(e=this.schema)||void 0===e?void 0:e.scaleType)===a.ac.Score)&&((null===(t=this.schema)||void 0===t?void 0:t.scaleType)===a.ac.Score&&!this.isDisplayValueTooLargeForTotalPoints())}isDisplayValueTooLargeForTotalPoints(){return this._displayValue&&this._displayValue.toString().length>s.h.DEFAULT_GRADEBOOK_SETTINGS_BEFORE_DECIMAL+s.h.DEFAULT_GRADEBOOK_SETTINGS_AFTER_DECIMAL+2}set displayGrade(e){var t,n;if(e){if(this.displayValue=this.grade.getGradeToDisplay(e,this.scope,null===(t=this.schema)||void 0===t?void 0:t.scaleType),this._nonFormattedScore=e.score,this._perfCode=e.perfCode,this._perfCode)return this.perfCodeDesc=this._perfCode.description,void(this._parsedValue=this.grade.getGradeToDisplay({perfCode:this._perfCode},this.scope,a.ac.Score));switch(this.perfCodeDesc="",null===(n=this.schema)||void 0===n?void 0:n.scaleType){case a.ac.Tabular:{let e=null;if(this.column.externalGrade&&this.gradeDetail&&this.gradeDetail.isOverrideGrade()){const t=this.gradeDetail.pointsPossible||this.column.possible||100;e={score:this._nonFormattedScore&&this._nonFormattedScore*t/100}}else e={score:this._nonFormattedScore};this._parsedValue=this.grade.getGradeToDisplay(e,this.scope,a.ac.Score);break}case a.ac.Percent:{let e=null;if(this.column.externalGrade)e={score:this._nonFormattedScore};else{e={score:this._nonFormattedScore&&this._nonFormattedScore/100*this.column.possible}}this._parsedValue=this.grade.getGradeToDisplay(e,this.scope,a.ac.Score);break}case a.ac.Score:this._parsedValue=this.displayValue;break;case a.ac.Complete:this._parsedValue=this.grade.getGradeToDisplay({...e,grade:null},this.scope,this.schema.scaleType);break;case a.ac.Text:this._parsedValue=e.grade}}}get displayValue(){return this._displayValue}set displayValue(e){this.wasValueErased=this.grade.wasGradeCleared(this.displayValue,e),this._displayValue=e}get parsedValue(){return this._parsedValue}set parsedValue(e){this._parsedValue=e}get gradeDetail(){return this._gradeDetail}set gradeDetail(e){this._gradeDetail=e}hasPerfCode(){return!!this._perfCode}getGradeColor(){var e,t,n;return(null===(t=null===(e=this.gradeDetail)||void 0===e?void 0:e.displayGrade)||void 0===t?void 0:t.isOverride)&&this.column.externalGrade||this.scaleType===a.ac.Text||(null===(n=this.gradeDetail)||void 0===n?void 0:n.isExempt)?"gray":this.displayValue?this.scaleType!==a.ac.Percent?this.getGradeColorScoreSchema():this.grade.getPercentileColor(this._nonFormattedScore):void 0}getGradeColorScoreSchema(){const e=this.gradeDetail?this.gradeDetail.pointsPossible:this.column.possible;if(e>0){const t=this._nonFormattedScore/e*100;return this.grade.getPercentileColor(t)}return"na"}}o.$inject=[s.n,"$q","gradeDetail","scope",i.b]},yV5t:function(e,t){e.exports='<a class="content-title"\n   ng-click="contentItemScormLaunch.scormLaunch()"\n   href="javascript:void(0);"\n   aria-describedby="{{contentItemBase.getAriaDescribedBy()}}"\n   analytics-id="content.item.scormlaunch.link"\n   aria-hidden="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() }}"\n   tabindex="{{ contentItemBase.setForcedSequenceLearningModuleAttributes() ? -1 : 0 }}">\n  <span>{{ content.title }}</span>\n</a>\n'},yXB1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("Llzl"),s=n("0JpG"),a=n("TnpK");const o="ultra.course.exports.router";i.module(o,[a.b,s.moduleName]).config([a.c,e=>{e.peekState("exports",{url:"/exportsPanel",resolve:{translations:[s.serviceName,e=>e.loadBundle("features/course/exports/course-export")]},require:()=>n.e(63).then(n.bind(null,"m+3A")),pageTitle:"course.export.exportPanel.head"})}])},yYax:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.ASCENDING="ascending",e.DESCENDING="descending",e.NONE="none",e.OTHER="other"}(i||(i={}))},yZnR:function(e,t){e.exports='<bb-modal id="max-size-warning-modal" class="notification max-size-warning-modal"\n         modal-title-key="components.directives.fileUpload.maxSizeWarningTitle"\n         analytics-id-tag-prefix="max-size-warning-modal"\n         modal-aria-type="alertdialog"\n         >\n  <div name="modal-contents">\n    <p class="warning-message" bb-translate="components.directives.fileUpload.maxSizeWarningMessage" translate-values="{maxFileSize: calculateSizeInMib(maxFileSize)}"></p>\n    <div class="files-info">\n      <ul class="files-info-list">\n        <li ng-repeat="file in overSizedFiles">\n          <p class="file-info" bb-translate="components.directives.fileUpload.maxSizeWarningFiles" translate-values="{fileName: file.name, fileSize: calculateSizeInMib(file.size)}"></p>\n        </li>\n      </ul>\n    </div>\n    <p class="alternate-storage-info">\n      <span bb-translate translate-values="{alternateStorage}">\n        {{shouldRecommendAltStorageLocations ? \'components.directives.fileUpload.maxSizeWarningAlternateStorage\' : \'components.directives.fileUpload.maxSizeWarningNoAlternateStorage\'}}\n      </span>\n      <span ng-if="shouldIncludeSupportLink" ng-bind-html="supportLink"></span>\n    </p>\n  </div>\n  <button name="modal-footer-button-primary" class="button js-primary-button" ng-click="closeModal()" analytics-id="components.directives.fileUpload.maxSizeWarningPrimary">\n      <bb-translate>components.directives.fileUpload.maxSizeWarningPrimary</bb-translate>\n  </button>\n</bb-modal>\n'},yiTm:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-medium-groups",use:"icon-medium-groups-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-groups"><g clip-path="url(#icon-medium-groups_clip0)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 23.0644C17.3246 21.1155 14.8704 20 12 20s-5.3246 1.1155-7 3.0644M12 20c2.7614 0 5-2.2386 5-5s-2.2386-5-5-5-5 2.2386-5 5 2.2386 5 5 5zM18.5 8C20.433 8 22 6.433 22 4.5S20.433 1 18.5 1 15 2.567 15 4.5 16.567 8 18.5 8z" /><path d="M23 11s-1-3-4.5-3c-2.1456 0-3.3517 1.1274-3.9639 2M5.5 8C3.567 8 2 6.433 2 4.5S3.567 1 5.5 1 9 2.567 9 4.5 7.433 8 5.5 8zM1 11s1-3 4.5-3c2.1456 0 3.3517 1.1274 3.9639 2" /></g><defs><clipPath id="icon-medium-groups_clip0"><path d="M0 0h24v24H0z" /></clipPath></defs></symbol>'});s.add(a);e.exports=a},"yo/t":function(e,t){e.exports='<div>\n  <div class="notification-container {{::toastStatus()}}">\n    <div class="close-notification">&times;</div>\n    <div class="progress-indicator icon">\n      <i class="{{::toastIcon()}}"></i>\n    </div>\n    <span class="progress-status {{::toastClass()}}">\n    </span>\n  </div>\n</div>\n'},ytQ2:function(e,t){e.exports='<div ng-if="::foundationOffcanvas.wiredup || undefined"\n      class="bb-foundation-offcanvas"\n      ng-transclude\n      bb-click-outside="foundationOffcanvas.handleClickOutside()"\n      is-active="foundationOffcanvas.isPanelOpen"\n      aria-hidden="{{!foundationOffcanvas.isPanelOpen}}"\n      current-panel-only>\n</div>'},yytE:function(e,t){e.exports='<bb-modal class="notification"\n          modal-title-key="course.content.ltiNeedsApprovalTitle"\n          analytics-id-tag-prefix="course.content.ltiNeedsApproval">\n  <div name="modal-contents">\n    <p ng-if="hasEmail" bb-translate>course.content.ltiNeedsApprovalDescription</p>\n    <p ng-if="hasEmail"><a href="mailto:{{ ::email }}" analytics-id="components.services.lti.needsApproval.email.link">{{ ::email }}</a></p>\n    <p ng-if="!hasEmail" bb-translate>course.content.ltiNeedsApprovalDescriptionNoEmail</p>\n  </div>\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button js-primary-button"\n          analytics-id="global.ok"\n          bb-translate>global.ok</button>\n</bb-modal>'},"z+6U":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Llzl"),s=n("sa5q");const a="ultra.components.directives.content.contentItem.contentItemType.contentItemPage";class o{constructor(e){this.scope=e}shouldAlignMiddle(){return!this.scope.content.canViewAsInstructor()}}o.$inject=["scope"];class r{constructor(e){this.$injector=e,this.restrict="E",this.template=s,this.scope=!1,this.link=(e,t,n)=>{e.contentItemPage=this.$injector.instantiate(o,{scope:e,element:t,attrs:n})}}}r.$inject=["$injector"],i.module(a,[]).directive("bbContentItemPage",["$injector",e=>e.instantiate(r)])},z6Q5:function(e,t,n){"use strict";var i=n("nsO7"),s=n("Llzl"),a=n("5MwF"),o=n("lEL+");const r=[];function l(){return r[r.length-1]}n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u}));const c="ultra.service.batch-utility-rest-api",d="ultra.service.batch-utility-rest-api.service",u="batch-utility-rest-api-param",m=[];function p(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}class h{constructor(e,t,n,i){this.position=e,this.deferred=t,this.reqConfig=n,this.token=i}}let g=0;s.module(c,["ng",o.a]).config(["$httpProvider",function(e){e.interceptors.push(["$injector","$log",(e,t)=>{const n={};return{request(o){const r=e.get("$q");if(o.params&&o.params[u]&&new RegExp("^"+p(o.params[u].baseUrl)).test(o.url)){const c=r.defer(),d=o.params[u];return delete o.params[u],d.trackId=d.trackId||""+g++,Object.prototype.hasOwnProperty.call(n,d.trackId)||(n[d.trackId]={token:d,queue:[]},d.sendDeferred.promise.then((l=d.trackId,function(){const o=n[l],r=new RegExp("^"+p(o.token.baseUrl));!a.a.features.batchRestAPI&&o.token.batchUrl===a.a.apiBasePath+"/v1/utilities/batch"||1===o.queue.length?(delete n[l],e.get("$q").all(o.queue.map((t=>{const n=function(e){return t.deferred.resolve(s.extend({},t.reqConfig,{method:"JSONP",cache:{get:()=>[e.status,e.data,e.headers]}})),{statusCode:e.status,body:e.data,method:t.reqConfig.method,headers:{},relativeUrl:t.reqConfig.url.replace(a.a.apiBasePath+"/","")}};return e.get("$http")(t.reqConfig).then(n,n)}))).then((e=>{o.token.finalDeferred.resolve(e)}))):o.queue.length>1?e.get("$http")({method:"PUT",url:o.token.batchUrl,data:o.queue.map(((e,n)=>{const s=e.reqConfig;return t.debug(`${s.method} ${s.url} will be sent by batch request "${o.token.batchUrl}?xb=${o.token.trackId}[${n}]"`),{method:s.method,relativeUrl:s.url.replace(r,"")+"?"+i(s.params).omitBy(i.isUndefined).map(((e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`)).value().join("&"),body:s.data}})),params:{xb:l}}).then((e=>{o.queue.forEach((t=>{const n=t.reqConfig,i=e.data[t.position];t.deferred.resolve(s.extend({},n,{method:"JSONP",cache:{get:()=>[i.statusCode,i.body,i.headers]}}))})),o.token.finalDeferred.resolve(e.data),delete n[l]})):(o.token.finalDeferred.resolve([]),delete n[l])}))),n[d.trackId].queue.push(new h(n[d.trackId].queue.length,c,o,d)),c.promise}var l;return r.when(o)}}}])}]).config(["$provide",function(e){e.decorator("$http",["$delegate",function(e){const t=function(t){var n;return m.length>0&&(t.params=t.params||{},Object.prototype.hasOwnProperty.call(t.params,u)||(t.params[u]=i.last(m))),l()&&l().$emit("BEFORE_REQUEST",t),void 0!==(n=(t.params||{})[u])&&(n.totalRequests=(n.totalRequests||0)+1),e(t)};return function(...e){i.each(e,(function(e){t[e]=function(n,i){return t(s.extend({},i||{},{method:e,url:n}))}}))}("get","delete","head","jsonp"),function(...e){i.each(e,(function(e){t[e]=function(n,i,a){return t(s.extend({},a||{},{method:e,url:n,data:i}))}}))}("post","put","patch"),function(...n){i.each(n,(function(n){Object.defineProperty(t,n,{enumerable:!0,get:()=>e[n],set(t){e[n]=t}})}))}("defaults","pendingRequests"),t}])}]).factory(d,["$rootScope","$q","$log",o.b,function(e,t,n,s){const o={performBatch(e,t,n){const i=this.newToken.apply(this,Array.prototype.slice.call(arguments).splice(1));m.push(i);const s=this.awaitBatch(e);return i.autoSend=!0,s()},awaitBatch(e){if(0===m.length)throw new Error("No batch token in current context! Please invoke in the callstack of performBatch");const s=i.last(m);return s.autoSend=!1,()=>{let a;i.last(m)!==s&&m.push(s),s.autoSend=!0;try{a=e(s)}catch(e){n.error(e)}return m.pop(),s.autoSend&&s.send(),a?t.resolve(a):s.finalDeferred.promise}},newToken(e=a.a.apiBasePath+"/v1/utilities/batch",n=a.a.apiBasePath+"/"){const i=t.defer();return{send(){return this.totalRequests?this.sendDeferred.resolve():this.finalDeferred.resolve([]),this.finalDeferred.promise},sendDeferred:t.defer(),finalDeferred:i,batchUrl:e,baseUrl:n,autoSend:!1,promise:i.promise,totalRequests:0}}};return o}])},zFCC:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n("nsO7"),s=n("Llzl"),a=n("lEL+");const o="ultra.service.intersectionobserver.directive",r="bbIntersectionObserver";s.module(o,[a.a]).directive(r,[function(){return{restrict:"A",scope:!1,controller:["$scope","$element",a.b,function(e,t,n){if("IntersectionObserver"in window){const t=[],s=new IntersectionObserver((a=>{i(a).map((e=>({entry:e,data:i.find(t,(t=>t.el===e.target))}))).each((({entry:e,data:n})=>{n.fn(n.el,n.scope,e)&&(i.remove(t,(t=>t.el===e.target)),s.unobserve(e.target))})),n(i.noop,e)}),{root:null,rootMargin:"0px",threshold:0});e.$on("$destroy",(function(){s.disconnect()})),Object.assign(this,{link(e,n,a){n.$on("$destroy",(()=>{s.unobserve(e),i.remove(t,(t=>t.el===e))})),s.observe(e),t.push({el:e,scope:n,fn:a})},unlink(e){s.unobserve(e),i.remove(t,(t=>t.el===e))}})}else Object.assign(this,{link(e,t,n){n(e,t,{isIntersecting:!0,boundingClientRect:void 0,intersectionRatio:void 0,intersectionRect:void 0,rootBounds:void 0,target:e,time:void 0})},unlink:i.noop})}]}}])},zIHT:function(e,t){e.exports='<bb-modal id="student-preview-modal" role="alertdialog" class="notification" bb-translate-attrs="{\'aria-label\': \'components.services.studentPreview.modalTitleKey\'}"\n          modal-title-key="{{::courseOrgTokenPrefix}}.studentPreview.modalTitleKey" aria-describedby="first-time-confimation"\n          analytics-id-tag-prefix="course.outline.studentPreview.firstTimeConfirmation">\n  <div name="modal-contents">\n    <bb-svg-icon size="custom" icon="preview-user-avatar"></bb-svg-icon>\n    <p id="first-time-info" bb-translate>\n      {{::courseOrgTokenPrefix}}.studentPreview.firstTimeConfirmation\n    </p>\n  </div>\n  <button name="modal-footer-button-primary"\n          type="button"\n          class="button js-discard-changes js-primary-button"\n          ng-click="$parent.$close()"\n          analytics-id="course.outline.studentPreview.firstTimeConfirmation.startPreview.button">\n    <span bb-translate="components.services.studentPreview.startPreview"></span>\n  </button>\n  <button name="modal-footer-button-secondary"\n          type="button"\n          class="button button--secondary js-cancel-discard js-secondary-button"\n          ng-click="$parent.$dismiss()"\n          analytics-id="course.outline.studentPreview.cancel.button">\n    <span bb-translate="components.services.studentPreview.cancel"></span>\n  </button>\n</bb-modal>\n'},zJP2:function(e,t,n){"use strict";var i=n("9OUN"),s=n("IbyE"),a=n("oPIA"),o=n("td+C"),r=n("TWlR");t.a=new class{constructor(e){this.integrationService=e,this.registerProctoringProvider=(e,t)=>e.proctoringPlacementHandle?this.hasIntegration(e.proctoringPlacementHandle)?(console.warn(`Cannot register provider: ${e.proctoringPlacementHandle} already registered`),void this.integrationService.sendMessage({type:a.K,proctoringPlacementHandle:e.proctoringPlacementHandle,status:a.r.Failure,error:a.bb.ExistingRegistration,errorMessage:"proctoringPlacementHandle already registered"},t)):(this.addIntegration({proctoringPlacementHandle:e.proctoringPlacementHandle,integrationId:t.id}),void this.integrationService.sendMessage({type:a.K,proctoringPlacementHandle:e.proctoringPlacementHandle,status:a.r.Success},t)):(console.warn("Cannot register provider: proctoringPlacementHandle was not specified"),void this.integrationService.sendMessage({type:a.K,proctoringPlacementHandle:e.proctoringPlacementHandle,status:a.r.Failure,error:a.bb.MissingPlacementHandle,errorMessage:"proctoringPlacementHandle was not provided"},t)),this.listeners=new Map}init(e){this.integrationService.addIntegrationMessageType(a.K,this.registerProctoringProvider),this.correlatedMessenger=Object(r.a)(a.L,{}),this.ngRedux=e,this.subscribeToRedux(e)}getProctoringIntegration(e){return this.listeners.get(e)}addIntegration(e){this.listeners.set(e.proctoringPlacementHandle,e)}hasIntegration(e){return void 0!==this.getProctoringIntegration(e)}subscribeToRedux(e){e.connect(null,(e=>Object(i.b)({loadProctoringServices:s.X.proctoringServices.loadProctoringServices},e)))(this)}async loadAvailableProctoringServices(){return await this.loadProctoringServices(),s.gc.proctoringServices.getAvailableProctoringServices(this.ngRedux.getState())}async loadAvailableProctoringServicesWithIntegration(){return(await this.loadAvailableProctoringServices()).filter((e=>this.hasIntegration(e.handle)))}async loadProctoringService(e){if(!e)return Promise.resolve(void 0);await this.loadProctoringServices();return s.gc.proctoringServices.getProctoringServices(this.ngRedux.getState()).find((t=>t.handle===e))}async promptIntegrationToSaveSettings(e,t,n,i){const s=this.getProctoringIntegration(e);if(!s)throw new Error(`No proctoring UEF integration registered for ${e}, or it is currently unavailable.`);return this.correlatedMessenger.sendMessage({type:a.L,courseUuid:t,contentId:n,enabled:i,proctoringPlacementHandle:e},s.integrationId)}}(o.a)},zPsu:function(e,t,n){"use strict";var i=n("tN4z"),s=n("ERkP"),a=n("Uhei"),o=n("7nmT"),r=n("uDfI"),l=n("EGyI"),c=n("C+e0"),d=n("dJc8"),u=n("zGdY"),m=n("MC1S");const p=["StudentActivityAvailable","StudentGradeDataAvailable","StudentsFallingBehind","StudentsFallingBehindAbsent","StudentsFallingBehindFailing","StudentsFallingBehindAbsentFailing","NoRecentActivity","GradeAtRisk_GradeInLowest","GradeAtRisk_GradeBelowThreshold","GradeLowered","LowActivity","PerformanceIncreased_GradeIncreased","PerformanceIncreased_ActivityIncreased","HighActivity","HighGrade","Calendar","BlogEntryPosted","BlogEntryEdited","BlogEntryComment","JournalEntryPosted","JournalEntryEdited","JournalEntryComment","WikiEntryPosted","WikiEntryEdited","WikiEntryComment"],h={version:1,settings:p.map((e=>({id:e,isEnabled:!0,isEditable:!0})))};var g=n("9EWH");const b="NN",f="ultraui.stream.admin.settings";var v,y;!function(e){e.Email="EM",e.Mobile="MO",e.Stream="DA"}(v||(v={})),function(e){e.DefaultOn="defaultOn",e.DefaultOff="defaultOff",e.AlwaysOn="alwaysOn",e.AlwaysOff="alwaysOff",e.NotApplicable="notApplicable"}(y||(y={}));const k=e=>{let t;t=e&&e.value?JSON.parse(e.value):I();const n=[];return t.settings.forEach((e=>{n.push({context:u.Hb.Course,source:b,event:e.id,method:v.Stream,isEnabled:e.isEnabled,isEditable:e.isEditable})})),x(n)},x=e=>{const t={};return e.forEach((e=>{const n=C(e),i="ns.admin.description."+n.toLowerCase().replace(/_/g,".");if(Object.prototype.hasOwnProperty.call(t,n))t[n].modalities[e.method]={...e,isDirty:!1};else{const s={};s[e.method]={...e,isDirty:!1},t[n]={key:n,title:i,modalities:s}}})),t},S=e=>Object.values(e).filter((e=>e.key.startsWith("COURSE_"))),C=e=>e.context.toString()+"_"+e.source+"_"+e.event,E=(e,t,n)=>{const i=S(e);return null!=t?S(e).sort(((e,i)=>{const s=n(e.title),a=n(i.title);return t===m.SortDirection.Ascending?s.localeCompare(a):a.localeCompare(s)})):i},I=()=>{const e={version:1,settings:[]};return p.forEach((t=>{e.settings.push({id:t,isEnabled:!0,isEditable:!0})})),e},w=e=>{const t=e.split("_NN_").pop();return void 0===t||p.indexOf(t)<0};var A=n("jZnR");class O extends s.PureComponent{render(){const{localize:e,defaultSetting:t,modality:n,onChange:i,analyticsId:a,classes:o}=this.props,{translate:r}=e;return t===y.NotApplicable?s.createElement("div",{className:o.notApplicable},r("ns.admin.modality.option.notApplicable")):s.createElement(m.Dropdown,{defaultSelectedKey:t,options:[{key:y.DefaultOn,text:r("ns.admin.modality.option.defaultOn"),className:"js-default-on"},{key:y.DefaultOff,text:r("ns.admin.modality.option.defaultOff"),className:"js-default-off"},{key:y.AlwaysOn,text:r("ns.admin.modality.option.alwaysOn"),className:"js-always-on"},{key:y.AlwaysOff,text:r("ns.admin.modality.option.alwaysOff"),className:"js-always-off"}],onChanged:e=>{let t,s;switch(e.key.toString()){case"defaultOff":t=!1,s=!0;break;case"alwaysOn":t=!0,s=!1;break;case"alwaysOff":t=!1,s=!1;break;default:t=!0,s=!0}i(n,t,s)},label:r("ns.admin.dropdownLabel"),analyticsId:`${a}`})}}const D=Object(c.a)(Object(d.a)((e=>Object(A.a)({notApplicable:{color:e.palette.text.secondary,fontStyle:"italic"}})),{name:"NotificationMenu"})(O));class T extends s.PureComponent{render(){const{localize:e,key:t,modalityList:n,onChange:i,analyticsId:a,classes:o}=this.props,{translate:r}=e;return s.createElement("table",{className:o.accordionSetting},s.createElement("tbody",null,s.createElement("tr",{className:o.accordionModality},s.createElement("td",{className:o.accordionModalityName},r("ns.admin.modality.type.stream")),s.createElement("td",{className:o.accordionModalityOption},s.createElement(D,{key:t,modality:v.Stream,defaultSetting:n[0],onChange:i,analyticsId:`${a}.streamMenu`}))),s.createElement("tr",{className:o.accordionModality},s.createElement("td",{className:o.accordionModalityName},r("ns.admin.modality.type.email")),s.createElement("td",{className:o.accordionModalityOption},s.createElement(D,{key:t,modality:v.Email,defaultSetting:n[1],onChange:i,analyticsId:`${a}.emailMenu`}))),s.createElement("tr",{className:o.accordionModality},s.createElement("td",{className:o.accordionModalityName},r("ns.admin.modality.type.mobile")),s.createElement("td",{className:o.accordionModalityOption},s.createElement(D,{key:t,modality:v.Mobile,defaultSetting:n[2],onChange:i,analyticsId:`${a}.mobileMenu`})))))}}const P=Object(c.a)(Object(d.a)((e=>Object(A.a)({accordionSetting:{width:"100%"},accordionModality:{height:"62px",borderBottom:`1px solid ${e.palette.secondary.light}`,"&:last-child":{borderBottom:"none"}},accordionModalityName:{paddingLeft:"20px"},accordionModalityOption:{width:"180px",paddingRight:"20px"}})),{name:"AccordionTabContent"})(T));var $=n("/n7R"),G=n("8jBL"),j=n("np6O");class L extends s.PureComponent{render(){const{analyticsId:e,ariaLabel:t,content:n,classes:i}=this.props,a="notificationSettingsTooltip";return s.createElement($.AnalyticsTooltip,{title:n,id:a,analyticsId:`${e}.tooltip`},s.createElement("div",{className:i.iconButtonWrapper},s.createElement(j.AnalyticsIconButton,{className:"tooltip-button","aria-label":t,"aria-describedby":a,"data-is-visible":!0,analyticsId:`${e}.tooltipButton`},s.createElement(G.Information,null))))}}const N=Object(d.a)((e=>Object(A.a)({iconButtonWrapper:{"& .tooltip-button":{color:e.palette.secondary.main,[e.breakpoints.up("md")]:{color:e.palette.text.secondary}}}})),{name:"NotificationSettingsTooltipBase"})(L);var B=n("5Jir");const M=s.createContext({});var R=n("IbyE"),F=n("7kIc"),V=n("7O4Y");const _="notificationSetttings.adminPanel";class U extends s.Component{constructor(e){super(e),this.onSettingChange=(e,t,n,i)=>{const{t:s}=this.props,a=((e,t,n,i,s)=>{const a={...e},o=Object(g.a)(a[t].modalities[n.toString()],(e=>{e.isEnabled=i,e.isEditable=s,e.isDirty=!0}));if(a[t].modalities[n.toString()]=o,w(t)){const o=t.split("_");o[0]="ORG";const r=o.join("_"),l=Object(g.a)(e[r].modalities[n.toString()],(e=>{e.isEditable=s,e.isEnabled=i,e.isDirty=!0}));a[r].modalities[n.toString()]=l}return a})(this.state.notificationSettingsMap,n,i,e,t);this.setState((e=>({notificationSettingsMap:a,notificationSettingsList:E(a,e.sortDirection,s)})),(()=>{this.props.onSettingChange()}))},this.getModalitySetting=e=>e?e.isEditable?e.isEnabled?y.DefaultOn:y.DefaultOff:e.isEnabled?y.AlwaysOn:y.AlwaysOff:y.NotApplicable,this.createTableRows=e=>{const{t}=this.props;return e.map((e=>({key:e.key,cells:[s.createElement("span",null,t(e.title)),s.createElement(D,{key:e.key,modality:v.Stream,defaultSetting:this.getModalitySetting(e.modalities[v.Stream]),onChange:(t,n,i)=>this.onSettingChange(n,i,e.key,t),analyticsId:"notificationSetttings.adminPanel.streamMenu"}),s.createElement(D,{key:e.key,modality:v.Email,defaultSetting:this.getModalitySetting(e.modalities[v.Email]),onChange:(t,n,i)=>this.onSettingChange(n,i,e.key,t),analyticsId:"notificationSetttings.adminPanel.emailMenu"}),s.createElement(D,{key:e.key,modality:v.Mobile,defaultSetting:this.getModalitySetting(e.modalities[v.Mobile]),onChange:(t,n,i)=>this.onSettingChange(n,i,e.key,t),analyticsId:"notificationSetttings.adminPanel.mobileMenu"})]})))},this.createAccordionTabs=e=>{const{t}=this.props;return e.map((e=>s.createElement(m.AccordionTab,{key:e.key,title:t(e.title),expanded:!1,showExpander:!0,borderSize:F.Separator.Thin,className:this.props.classes.accordionNotificationTab,contents:s.createElement(P,{key:e.key,onChange:(t,n,i)=>this.onSettingChange(n,i,e.key,t),modalityList:[this.getModalitySetting(e.modalities[v.Stream]),this.getModalitySetting(e.modalities[v.Email]),this.getModalitySetting(e.modalities[v.Mobile])],analyticsId:"notificationSetttings.adminPanel.accordionTabContent"}),analyticsId:"notificationSetttings.adminPanel.accordianTab"})))},this.handleTitleSort=e=>{const{t}=this.props;this.setState((n=>({sortDirection:e,notificationSettingsList:E(n.notificationSettingsMap,e,t)})))},this.saveChanges=e=>{(e=>Object.keys(e).some((t=>Object.keys(e[t].modalities).some((n=>e[t].modalities[n].isDirty)))))(e)&&(this.props.persistAdminNotificationMethodSettings((e=>Object.keys(e).reduce(((t,n)=>(w(n)&&Object.keys(e[n].modalities).forEach((i=>{const s=e[n].modalities[i];!0===s.isDirty&&t.push(Object(g.a)(s,(e=>{delete e.isDirty})))})),t)),[]))(e)),this.props.persistAdminRegistrySettings((e=>{const t={version:1,settings:Object.keys(e).reduce(((t,n)=>{if(!w(n)){const i=n.split("_NN_").pop(),s=e[n].modalities[v.Stream];t.push({id:i,isEnabled:s.isEnabled,isEditable:s.isEditable})}return t}),[])};return{key:f,value:JSON.stringify(t)}})(e))),this.props.closePanel()},this.onSpinner=()=>s.createElement("div",{className:this.props.classes.spinnerWrapper},s.createElement(m.Spinner,{size:m.SpinnerSize.xLarge})),this.footer=()=>{const{t:e}=this.props;return s.createElement(m.BbPanelFooter,{primaryButtonProps:{text:e("ns.admin.save"),onClick:()=>this.saveChanges(this.state.notificationSettingsMap)},secondaryButtonProps:{text:e("ns.admin.cancel"),onClick:this.props.closePanel},analyticsId:"notificationSetttings.adminPanel.panelFooter"})},this.state={sortDirection:m.SortDirection.Ascending,isLoading:!0,notificationSettingsMap:{},notificationSettingsList:[]}}onRender(){var e;const{t,classes:n}=this.props,i=[{key:"notification",name:t("ns.admin.notification"),onSort:this.handleTitleSort},{key:"stream",name:t("ns.admin.modality.type.stream")},{key:"email",name:t("ns.admin.modality.type.email")},{key:"mobile",name:t("ns.admin.modality.type.mobile")}],a=this.createTableRows(this.state.notificationSettingsList),o=this.createAccordionTabs(this.state.notificationSettingsList);return(null===(e=this.props.UltraWindowSize)||void 0===e?void 0:e.isLargeBreakpoint())?s.createElement(m.SortableTable,{hasActionableCells:!0,headers:i,rows:a,tableName:t("ns.admin.title"),analyticsId:"notificationSetttings.adminPanel.sortableTable"}):s.createElement("ul",{className:n.accordionTabList},o)}render(){const{t:e,classes:t}=this.props,{isLoading:n}=this.state,i=n?this.onSpinner():this.onRender(),a=n?null:this.footer(),o=e("ns.admin.pageHelpUrl");return s.createElement(M.Provider,{value:{}},s.createElement("div",{className:Object(V.a)("react-container",t.adminPanelWrapper)},s.createElement("div",{className:t.headerWrapper},s.createElement(m.BbPanelHeader,{type:m.BbPanelType.full,title:e("ns.admin.title"),panelContentRight:s.createElement(N,{content:e("ns.admin.tooltipContent"),ariaLabel:e("ns.admin.tooltipAriaLabel"),analyticsId:_}),analyticsId:"notificationSetttings.adminPanel.panelHeader",navMenuAriaLabel:e("global.navigationMenu")})),i,s.createElement("div",{className:t.pageHelpWrapper},s.createElement(m.PageHelp,{url:o,className:"notification-admin-page-help",analyticsId:"notificationSetttings.adminPanel.pageHelp"})),a))}componentDidMount(){const{loadAdminNotificationSettings:e,loadAdminRegistrySettings:t}=this.props;e(),t({key:f})}static getDerivedStateFromProps(e,t){if(!e.isSystemPreferenceLoading&&t.isLoading&&e.adminNotificationSettings.length>0){const t={...x(e.adminNotificationSettings),...k(e.adminRegistrySettings)},{t:n}=e;return{notificationSettingsMap:t,notificationSettingsList:E(t,m.SortDirection.Ascending,n),isLoading:!1}}return null}}const H=Object(r.b)((e=>({adminNotificationSettings:R.gc.notificationMethodSetting.getAdminNotificationMethodSettings(e),adminRegistrySettings:R.gc.systemPreference.getSystemPreferenceByKey(e,f),isSystemPreferenceLoading:R.gc.systemPreference.isSystemPreferenceLoading(e,f)})),{loadAdminNotificationSettings:R.X.notificationMethodSetting.loadAdminNotificationMethodSettings,persistAdminNotificationMethodSettings:R.X.notificationMethodSetting.persistAdminNotificationMethodSettings,loadAdminRegistrySettings:R.X.systemPreference.loadSystemPreference,persistAdminRegistrySettings:R.X.systemPreference.persistSystemPreference})(Object(l.a)(Object(B.windowResizingResponsiveComponentWrapper)(Object(d.a)((e=>Object(A.a)({accordionNotificationTab:{backgroundColor:e.palette.background.default,marginBottom:"12px"},accordionTabList:{overflow:"auto",listStyle:"none",margin:"0",padding:"20px"},adminPanelWrapper:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",flexDirection:"column",backgroundColor:e.palette.background.b3,"& .ms-Panel-header":{[e.breakpoints.up("md")]:{padding:"0 30px"}},"& .bb-AccordionTab-Title-Container":{fontWeight:e.typography.fontWeightSemiBold,padding:"12px 20px"},"& .bb-SortableTable":{padding:"30px"},"& .bb-SortableTableHeaderCell":{borderTop:"none"},"& .ms-Dropdown-label":{position:"absolute",width:"1px",height:"1px",margin:"-1px",padding:"0",overflow:"hidden",border:"0"}},headerWrapper:{backgroundColor:e.palette.background.default},spinnerWrapper:{position:"absolute",left:"50%",top:"50%",marginLeft:"-25px"},pageHelpWrapper:{transition:"top 250ms cubic-bezier(0.55, 0, 0.1, 1)","text-align":"right","z-index":"9999","margin-top":"-38px","pointer-events":"none","& .notification-admin-page-help":{position:"relative",right:"32px",top:"-10px",a:{"pointer-events":"auto"}}}})),{name:"NotificationAdminPanel"})(U)))),z=e=>class extends s.PureComponent{render(){return s.createElement(q.Consumer,null,(t=>s.createElement(e,{...t,...this.props})))}},q=s.createContext({});var W;!function(e){e.Guest="GUEST",e.Instructor="INSTRUCTOR",e.Student="STUDENT",e.Dual="DUAL",e.None="NONE"}(W||(W={}));var K=W;const J={InstitutionAnnouncements:{id:"InstitutionAnnouncements",displayKey:"ns.streams.category.InstitutionAnnouncements"},CourseAnnouncements:{id:"CourseAnnouncements",displayKey:"ns.streams.category.CourseAnnouncements"},GradedItemDue:{id:"GradedItemDue",displayKey:"ns.streams.category.GradedItemDue"},NewMessages:{id:"NewMessages",displayKey:"ns.streams.category.NewMessages"},NewContent:{id:"NewContent",displayKey:"ns.streams.category.NewContent"},GradesPosted:{id:"GradesPosted",displayKey:"ns.streams.category.GradesPosted"},NewGradeableItems:{id:"NewGradeableItems",displayKey:"ns.streams.category.NewGradeableItems"},GradesNeedReconciling:{id:"GradesNeedReconciling",displayKey:"ns.streams.category.GradesNeedReconciling"},StudentPerformanceAlert:{id:"StudentPerformanceAlert",displayKey:"ns.streams.category.StudentPerformanceAlert"},Discussion:{id:"Discussion",displayKey:"ns.streams.category.Discussion"},GradesAndActivity:{id:"GradesAndActivity",displayKey:"ns.streams.category.GradesAndActivity"},Calendar:{id:"Calendar",displayKey:"ns.streams.category.Calendar"},CourseAvailable:{id:"CourseAvailable",displayKey:"ns.streams.category.CourseAvailable"},Blog:{id:"Blog",displayKey:"ns.streams.category.Blog"},Journal:{id:"Journal",displayKey:"ns.streams.category.Journal"},Wiki:{id:"Wiki",displayKey:"ns.streams.category.Wiki"}};var Q=n("fEQk"),Z=n("0x+l");const Y=e=>Object(A.a)({accordionTitleContainer:{display:"flex",alignItems:"center",boxShadow:`0 -1px 0 0 ${e.palette.background.b9} inset`},accordionTitleContents:{flex:"1 1 auto"},accordionContents:{borderBottom:`1px solid ${e.palette.border.main}`},accordionIconButton:{height:"58px"},styledAccordionList:{listStyle:"none",margin:0}});let X=0;class ee extends s.Component{constructor(){super(...arguments),this.onClick=e=>{e.stopPropagation(),e.preventDefault(),this.props.onToggle()}}render(){return s.createElement(j.AnalyticsIconButton,{className:Object(V.a)("js-accordion-expander",this.props.classes.accordionIconButton),onClick:this.onClick,"aria-label":this.props.expanderAriaLabel,"aria-expanded":this.props.open,analyticsId:`${this.props.analyticsId}.${this.props.open?"close":"open"}.items.button`},this.props.open?s.createElement(Z.ArrowUp,null):s.createElement(Z.ArrowDown,null))}}const te=Object(d.a)(Y,{name:"AccordionExpander"})(ee);class ne extends s.PureComponent{constructor(e){super(e),this.state={id:"accordion_"+X},X+=1}render(){const{contents:e,expanded:t,onToggle:n,showExpander:i,className:a,title:o,expanderAriaLabelledBy:r,analyticsId:l,expanderAriaLabel:c,classes:d}=this.props,{id:u}=this.state;return s.createElement("li",{className:`js-${a}`},s.createElement("div",{className:d.accordionTitleContainer},s.createElement("div",{className:d.accordionTitleContents},o),i&&s.createElement(te,{open:t,onToggle:n,analyticsId:l,expanderAriaLabel:c})),t&&s.createElement("div",{className:d.accordionContents,id:`${u}_content`,"aria-labelledby":r},e))}}const ie=Object(d.a)(Y,{name:"AccordionTab"})(ne),se=e=>Object(A.a)({categoryCheckbox:{margin:"8px 0",width:"100%"},categoryTriStateCheckboxStyles:{margin:"0"},categoryLabelStyles:{"& span:nth-of-type(2)":{fontSize:"16px",fontWeight:e.typography.fontWeightSemiBold,fontFamily:e.typography.fontFamily,paddingRight:"26px"}},categoryCheckboxStyles:{margin:"12px 0"},categoryList:{listStyle:"none"},categoryListItem:{display:"flex",alignItems:"center",":not(:last-child)":{boxShadow:`0 -1px 0 0 ${e.palette.border.main} inset`}}});class ae extends s.PureComponent{constructor(){super(...arguments),this.onToggle=(e,t)=>{const{definition:n,onSettingsUpdated:i}=this.props;if(i){const e={...this.props.currentSettings};e[n.id]={...e[n.id],isEnabled:t},i(e)}}}render(){var e;const{definition:t,localize:n,currentSettings:a,analyticsId:o,classes:r}=this.props,{translate:l}=n,c=null===(e=t.displayKey.split(".").pop())||void 0===e?void 0:e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),d=!!(a&&a[t.id]&&a[t.id].isEnabled);return s.createElement("li",{className:r.categoryListItem,key:t.id},s.createElement(i.AnalyticsFormControlLabel,{label:l(t.displayKey),className:Object(V.a)(`js-${c}-checkbox`,r.categoryCheckbox),htmlFor:`stream-settings-item-${t.id}`,control:s.createElement(i.AnalyticsCheckbox,{id:`stream-settings-item-${t.id}`,onChange:this.onToggle,checked:d,analyticsId:`${o}.${d?"disable":"enable"}.checkbox`}),analyticsId:`${o}.${d?"disable":"enable"}.label`}))}}const oe=Object(c.a)(z(Object(d.a)(se,{name:"StreamSettingsItem"})(ae)));class re extends s.PureComponent{constructor(e){super(e),this.onAccordionToggle=()=>{1!==this.props.availableNotifications.length&&this.setState((e=>({isOpen:!e.isOpen})))},this.onCategoryToggle=()=>{const e=this.getTriStateCheckboxState(),t={...this.props.currentSettings};this.props.availableNotifications.forEach((n=>{t[n.id]={...t[n.id],isEnabled:e===Q.CheckStateTypesEnum.PARTIAL||e===Q.CheckStateTypesEnum.UNCHECKED}})),this.props.onSettingsUpdated(t)},this.getTriStateCheckboxState=()=>{const e=this.props.availableNotifications.reduce(((e,t)=>e+(this.props.currentSettings&&this.props.currentSettings[t.id]&&this.props.currentSettings[t.id].isEnabled?1:0)),0);return e===this.props.availableNotifications.length?Q.CheckStateTypesEnum.CHECKED:e?Q.CheckStateTypesEnum.PARTIAL:Q.CheckStateTypesEnum.UNCHECKED},this.state={isOpen:!1}}getAccordionId(){return this.props.category.id.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}renderCheckbox(){const{localize:e,analyticsId:t,classes:n}=this.props,{translate:a}=e,o=this.getTriStateCheckboxState()===Q.CheckStateTypesEnum.CHECKED,r=this.getAccordionId();return s.createElement(i.AnalyticsFormControlLabel,{label:a(this.props.category.displayKey),className:Object(V.a)(`js-${r}-category`,n.categoryCheckboxStyles,n.categoryLabelStyles),htmlFor:`stream-setting-label-${r}`,control:s.createElement(i.AnalyticsCheckbox,{id:`stream-setting-label-${r}`,onChange:this.onCategoryToggle,checked:o,analyticsId:`${t}.item.${o?"disable":"enable"}.checkbox`}),analyticsId:`${t}.item.${o?"disable":"enable"}.label`})}renderTristateCheckbox(e){const{localize:t,analyticsId:n,classes:a}=this.props,{translate:o}=t,r=this.getTriStateCheckboxState(),l=this.getAccordionId(),c=r!==Q.CheckStateTypesEnum.CHECKED?"enable":"disable";return s.createElement(i.AnalyticsFormControlLabel,{label:o("ns.streams.category.itemWithMultipleContent",{categoryName:o(this.props.category.displayKey),numContents:e}),className:Object(V.a)(`js-${l}-category`,a.categoryTriStateCheckboxStyles,a.categoryLabelStyles),htmlFor:`stream-setting-id-${l}`,control:s.createElement(i.AnalyticsCheckbox,{id:`stream-setting-id-${l}`,checked:this.getTriStateCheckboxState()===Q.CheckStateTypesEnum.CHECKED,indeterminate:this.getTriStateCheckboxState()===Q.CheckStateTypesEnum.PARTIAL,onChange:this.onCategoryToggle,analyticsId:`${n}.category.${c}.checkbox`}),analyticsId:`${n}.category.${c}.label`})}renderTitle(){const{availableNotifications:e}=this.props,t=e.length;return t>1?this.renderTristateCheckbox(t):this.renderCheckbox()}renderContents(){return s.createElement("ul",{className:this.props.classes.categoryList},this.props.availableNotifications.map((e=>s.createElement(oe,{definition:e,key:e.id,analyticsId:`${this.props.analyticsId}.${e.displayKey.replace(" ","")}`}))))}render(){const e=this.props.availableNotifications.length>0,t=this.props.availableNotifications.length>1;if(!e)return null;const{translate:n}=this.props.localize;return s.createElement(ie,{title:this.renderTitle(),contents:this.renderContents(),className:this.getAccordionId(),expanded:this.state.isOpen,onToggle:this.onAccordionToggle,showExpander:t,expanderAriaLabel:n(this.props.category.displayKey),analyticsId:`${this.props.analyticsId}.category.tab`})}}const le=Object(c.a)(z(Object(d.a)(se,{name:"StreamSettingsCategory"})(re)));class ce extends s.PureComponent{constructor(){super(...arguments),this.filterSettings=e=>{const t={membership:this.getCurrentMembership(),settingsMap:this.props.notificationSettingsMap};return Vt.filter((n=>n.category===e&&n.isStreamSettingVisible(t)))}}render(){return s.createElement("ul",{className:this.props.classes.styledAccordionList},Object.values(J).map((e=>s.createElement(le,{key:e.id,category:e,availableNotifications:this.filterSettings(e),analyticsId:`notificationSettings.stream.panel.categoryList.item.${e.displayKey.replace(" ","")}`}))))}getCurrentMembership(){return this.props.userEnrolledInCourse?this.props.isInstructor&&!this.props.isStudent?K.Instructor:!this.props.isInstructor&&this.props.isStudent?K.Student:this.props.isGuest?K.Guest:K.Dual:K.None}}const de=Object(c.a)(z(Object(d.a)(Y,{name:"StreamSettingsList"})(ce)));class ue extends s.PureComponent{constructor(e){super(e),this.onSettingsUpdated=e=>{this.setState({currentSettings:e}),this.props.onSettingsUpdated(e)};const t=x(e.adminNotificationSettings);this.state={currentSettings:e.currentSettings,notificationSettingsMap:t}}componentDidMount(){const{loadAdminRegistrySettings:e}=this.props;e({key:f})}static getDerivedStateFromProps(e,t){if(!e.isSystemPreferenceLoading&&e.adminNotificationSettings.length>0){const n={...x(e.adminNotificationSettings),...k(e.adminRegistrySettings)};return{currentSettings:t.currentSettings,notificationSettingsMap:n}}return null}getHelpMessage(){const{t:e,userEnrolledInCourse:t,isInstructor:n,isGuest:i,isStudent:s}=this.props;return e(t?i&&!s&&!n?"ns.panel.helpMessage.guest":n?"ns.panel.helpMessage.instructor":"ns.panel.helpMessage.student":"ns.panel.helpMessage.noEnrollment")}render(){const{t:e}=this.props;return s.createElement(q.Provider,{value:{currentSettings:this.state.currentSettings,onSettingsUpdated:this.onSettingsUpdated,isInstructor:this.props.isInstructor,isStudent:this.props.isStudent,isGuest:this.props.isGuest,userEnrolledInCourse:this.props.userEnrolledInCourse}},s.createElement("h2",{className:this.props.classes.panelTitle},e("ns.panel.title")),s.createElement("div",null,this.getHelpMessage()),!this.props.isSystemPreferenceLoading&&this.state.notificationSettingsMap?s.createElement(de,{notificationSettingsMap:this.state.notificationSettingsMap}):s.createElement("div",{className:this.props.classes.spinnerWrapper},s.createElement(m.Spinner,{size:m.SpinnerSize.xLarge})))}}const me=Object(r.b)((e=>({adminRegistrySettings:R.gc.systemPreference.getSystemPreferenceByKey(e,f),isSystemPreferenceLoading:R.gc.systemPreference.isSystemPreferenceLoading(e,f)})),{loadAdminRegistrySettings:R.X.systemPreference.loadSystemPreference})(Object(l.a)(Object(d.a)((e=>Object(A.a)({panelTitle:{fontSize:"20px !important",fontWeight:e.typography.fontWeightSemiBold,fontFamily:e.typography.fontFamily+" !important",marginBottom:"17px !important",lineHeight:"28px !important"},spinnerWrapper:{position:"absolute",left:"50%",top:"50%",marginLeft:"-25px"}})),{name:"StreamSettingsPanel"})(ue))),pe=e=>t=>xe(e,t.settingsMap)&&(t.membership===K.Dual||t.membership===K.Student),he=e=>t=>xe(e,t.settingsMap)&&(t.membership===K.Dual||t.membership===K.Instructor),ge=e=>t=>xe(e,t.settingsMap)&&t.membership!==K.None&&t.membership!==K.Guest,be=e=>t=>xe(e,t.settingsMap),fe=e=>t=>Se(e,t),ve=e=>(t,n)=>Ce(e,t,n);var ye;!function(e){e.Announcement="bb-announcement",e.Blog="bb_blog",e.Calendar="bb_calendar",e.Grades="bb_mygrades",e.Message="bb_message",e.Nautilus="bb-nautilus",e.Wiki="bb_Wiki",e.Telemetry="bb_tel"}(ye||(ye={}));const ke=(e,t)=>t.some((t=>t.includes(e))),xe=(e,t)=>{if(!e||0===e.length)return!0;for(let n=0;n<e.length;n+=1){const i=e[n],s=t[Ee(i)];if(s){const e=s.modalities[v.Stream];if(e&&e.isEditable)return!0}}return!1},Se=(e,t)=>{if(!e)return!1;for(const n of e){const e=t.find((e=>n===`${e.source}:${e.event}`&&v.Stream===e.method));if(e&&e.isEnabled)return!0}return!1},Ce=(e,t,n)=>{if(!e||0===e.length)return t;const i=e.reduce(((e,t)=>{const i=n.find((e=>t===`${e.source}:${e.event}`&&v.Stream===e.method));return i&&e.push(i),e}),[]);return i.length&&i.every((e=>!e.isEditable))?i.some((e=>e.isEnabled)):t},Ee=e=>"COURSE_"+e.replace(":","_");var Ie,we;!function(e){e.BlogEntryComment="NN:BlogEntryComment",e.BlogEntryEdited="NN:BlogEntryEdited",e.BlogEntryPosted="NN:BlogEntryPosted",e.Calendar="NN:Calendar",e.GradeAtRisk_GradeBelowThreshold="NN:GradeAtRisk_GradeBelowThreshold",e.GradeAtRisk_GradeInLowest="NN:GradeAtRisk_GradeInLowest",e.GradeLowered="NN:GradeLowered",e.HighActivity="NN:HighActivity",e.HighGrade="NN:HighGrade",e.JournalEntryComment="NN:JournalEntryComment",e.JournalEntryEdited="NN:JournalEntryEdited",e.JournalEntryPosted="NN:JournalEntryPosted",e.LowActivity="NN:LowActivity",e.NoRecentActivity="NN:NoRecentActivity",e.PerformanceIncreased_ActivityIncreased="NN:PerformanceIncreased_ActivityIncreased",e.PerformanceIncreased_GradeIncreased="NN:PerformanceIncreased_GradeIncreased",e.StudentActivityAvailable="NN:StudentActivityAvailable",e.StudentGradeDataAvailable="NN:StudentGradeDataAvailable",e.StudentsFallingBehind="NN:StudentsFallingBehind",e.StudentsFallingBehindAbsent="NN:StudentsFallingBehindAbsent",e.StudentsFallingBehindAbsentFailing="NN:StudentsFallingBehindAbsentFailing",e.StudentsFallingBehindFailing="NN:StudentsFallingBehindFailing",e.WikiEntryComment="NN:WikiEntryComment",e.WikiEntryEdited="NN:WikiEntryEdited",e.WikiEntryPosted="NN:WikiEntryPosted"}(Ie||(Ie={})),function(e){e.AssessmentAttemptAvailableResent="TE:TE_AVAIL_RESEND",e.AssessmentAvailable="TE:TE_AVAIL",e.AssessmentDue="TE:DUE",e.AssessmentNeedsGrading="TE:TE_SUBMIT",e.AssesmentOverdue="TE:OVERDUE",e.GroupAssessmentNeedsGrading="TE:TE_GT_SUBMIT",e.LateAssessmentNeedsGrading="TE:TE_SUBMIT_LATE",e.LateGroupAssessmentNeedsGrading="TE:TE_GT_SUBMIT_LATE",e.PeerSubmissionAttemptAvailableResent="PS:PS_AVAIL_RESEND",e.PeerSubmissionAvailable="PS:PS_AVAIL",e.PeerSubmissionDue="PS:DUE",e.PeerSubmissionNeedsGrading="PS:PS_SUBMIT",e.PeerSubmissionOverdue="PS:OVERDUE",e.LatePeerSubmissionNeedsGrading="PS:PS_SUBMIT_LATE",e.PeerEvaluationAttemptAvailableResent="PE:PE_AVAIL_RESEND",e.PeerEvaluationAvailable="PE:PE_AVAIL",e.PeerEvaluationDue="PE:DUE",e.PeerEvaluationNeedsGrading="PE:PE_SUBMIT",e.PeerEvaluationOverdue="PE:OVERDUE",e.LatePeerEvaluationNeedsGrading="PE:PE_SUBMIT_LATE",e.AssignmentAvailable="AS:AS_AVAIL",e.AssignmentAvailableResend="AS:AS_AVAIL_RESEND",e.AssignmentDue="AS:DUE",e.AssignmentNeedsGrading="AS:AS_ATTEMPT",e.AssignmentOverdue="AS:OVERDUE",e.GroupAssignmentAvailable="AS:AS_GA_AVAIL",e.GroupAssignmentAvailableResend="AS:AS_GA_AVAIL_RESEND",e.GroupAssignmentNeedsGrading="AS:AS_GA_ATTEMPT",e.LateAssignmentNeedsGrading="AS:AS_LATE_ATTEMPT",e.LateGroupAssignmentNeedsGrading="AS:AS_GA_LATE_ATTEMPT",e.BlogNeedsGrading="BL:BL_ATTEMPT",e.GroupBlogNeedsGrading="BL:BL_GR_ATTEMPT",e.ForumNeedsGrading="DF:DF_ATTEMPT",e.GroupForumNeedsGrading="DF:DF_GR_ATTEMPT",e.GroupThreadNeedsGrading="DT:DT_GR_ATTEMPT",e.ThreadNeedsGrading="DT:DT_ATTEMPT",e.GradebookAttemptUpdate="GB:GB_ATT_UPDATED",e.GradebookItemDue="GB:DUE",e.GradebookItemOverdue="GB:OVERDUE",e.GradebookNeedsReconciliation="GB:GB_NEEDS_RECON",e.ManualGradeCleared="GB:GB_GRA_CLEARED",e.ManualGradeUpdated="GB:GB_GRA_UPDATED",e.GroupJournalNeedsGrading="JN:JN_GR_ATTEMPT",e.JournalNeedsGrading="JN:JN_ATTEMPT",e.LateScormItemNeedsGrading="SC:SC_SUBMIT_LATE",e.ScormItemAvailable="SC:SC_AVAIL",e.ScormItemDue="SC:DUE",e.ScormItemOverdue="SC:OVERDUE",e.ScormItemNeedsGrading="SC:SC_SUBMIT",e.ScormItemGradeUpdated="SC:SC_GRA_UPDATED",e.SurveyAvailable="SU:SU_AVAIL",e.SurveyDue="SU:DUE",e.SurveyOverdue="SU:OVERDUE",e.SurveySubmitted="SU:SU_SUBMIT",e.GroupWikiNeedsGrading="WK:WK_GR_ATTEMPT",e.WikiNeedsGrading="WK:WK_ATTEMPT",e.AnnouncementAvailable="AN:AN_AVAIL",e.ContentAvailable="CO:CO_AVAIL",e.CourseAvailable="CR:CR_AVAIL",e.CourseMessageReceived="CM:CM_RCVD",e.QuotaAvailable="QU:QU_AVAIL"}(we||(we={}));const Ae=[we.AnnouncementAvailable],Oe={id:"InstitutionAnnouncements",category:J.InstitutionAnnouncements,displayKey:"",canHandle:e=>ke(e.type,[we.AnnouncementAvailable])&&e.providerId===ye.Announcement,defaultSetting:fe(Ae),isStreamEntryVisible:ve(Ae),isStreamSettingVisible:be(Ae)},De=[we.AssessmentDue,we.AssignmentDue,we.ScormItemDue,we.SurveyDue,we.GradebookItemDue,we.PeerSubmissionDue,we.PeerEvaluationDue],Te=[we.AssesmentOverdue,we.AssignmentOverdue,we.ScormItemOverdue,we.SurveyOverdue,we.GradebookItemOverdue,we.PeerSubmissionOverdue,we.PeerEvaluationOverdue],Pe={id:"GradedItemDue",category:J.GradedItemDue,displayKey:"ns.streams.definition.GradedItemDue.GradedItemDue",canHandle:e=>ke(e.type,De),defaultSetting:fe(De),isStreamEntryVisible:ve(De),isStreamSettingVisible:pe(De)},$e={id:"GradedItemOverdue",category:J.GradedItemDue,displayKey:"ns.streams.definition.GradedItemDue.GradedItemOverdue",canHandle:e=>ke(e.type,Te),defaultSetting:fe(Te),isStreamEntryVisible:ve(Te),isStreamSettingVisible:pe(Te)},Ge=[we.AssessmentAvailable,we.AssignmentAvailable,we.AssessmentAttemptAvailableResent,we.AssignmentAvailableResend,we.GroupAssignmentAvailable,we.GroupAssignmentAvailableResend,we.PeerSubmissionAvailable,we.PeerSubmissionAttemptAvailableResent,we.PeerEvaluationAvailable,we.PeerEvaluationAttemptAvailableResent],je=[we.SurveyAvailable,we.QuotaAvailable,we.ContentAvailable,we.ScormItemAvailable],Le={id:"NewAssessmentsAdded",category:J.NewContent,displayKey:"ns.streams.definition.NewContent.NewAssessmentsAdded",canHandle:e=>ke(e.type,Ge),defaultSetting:fe(Ge),isStreamEntryVisible:ve(Ge),isStreamSettingVisible:ge(Ge)},Ne={id:"NewContentAdded",category:J.NewContent,displayKey:"ns.streams.definition.NewContent.NewContentAdded",canHandle:e=>ke(e.type,je)&&"resource/x-bb-forumlink"!==e.contentHandler,defaultSetting:fe(je),isStreamEntryVisible:ve(je),isStreamSettingVisible:ge(je)},Be=[we.GradebookAttemptUpdate,we.ManualGradeUpdated,we.ManualGradeCleared,we.ScormItemGradeUpdated],Me={id:"GradesPosted",category:J.GradesPosted,displayKey:"",canHandle:e=>ke(e.type,[we.GradebookAttemptUpdate,we.ManualGradeUpdated,we.ManualGradeCleared,we.ScormItemGradeUpdated])||ye.Grades===e.type,defaultSetting:fe(Be),isStreamEntryVisible:ve(Be),isStreamSettingVisible:pe(Be)},Re=[we.GroupAssignmentNeedsGrading,we.GroupBlogNeedsGrading,we.GroupForumNeedsGrading,we.GroupJournalNeedsGrading,we.GroupThreadNeedsGrading,we.GroupWikiNeedsGrading,we.AssessmentNeedsGrading,we.AssignmentNeedsGrading,we.GroupAssessmentNeedsGrading,we.LateGroupAssessmentNeedsGrading,we.BlogNeedsGrading,we.ForumNeedsGrading,we.JournalNeedsGrading,we.LateAssessmentNeedsGrading,we.LateAssignmentNeedsGrading,we.LateGroupAssignmentNeedsGrading,we.LateScormItemNeedsGrading,we.ScormItemNeedsGrading,we.ThreadNeedsGrading,we.WikiNeedsGrading,we.PeerSubmissionNeedsGrading,we.LatePeerSubmissionNeedsGrading,we.PeerEvaluationNeedsGrading,we.LatePeerEvaluationNeedsGrading],Fe={id:"NewGradeableItems",category:J.NewGradeableItems,displayKey:"",canHandle:e=>ke(e.type,Re),defaultSetting:fe(Re),isStreamEntryVisible:ve(Re),isStreamSettingVisible:he(Re)},Ve=[Ie.StudentActivityAvailable],_e=[Ie.StudentGradeDataAvailable],Ue=[Ie.StudentsFallingBehind],He=[Ie.StudentsFallingBehindAbsent],ze=[Ie.StudentsFallingBehindFailing],qe=[Ie.StudentsFallingBehindAbsentFailing],We={id:"StudentActivityAvailable",category:J.StudentPerformanceAlert,displayKey:"ns.streams.definition.StudentPerformanceAlert.StudentActivityAvailable",isStreamEntryVisible:ve(Ve),isStreamSettingVisible:he(Ve),canHandle:e=>e.type.includes(ye.Telemetry)&&"SufficientActivityData"===e.telemetryNotificationType,defaultSetting:fe(Ve)},Ke={id:"StudentGradeDataAvailable",category:J.StudentPerformanceAlert,displayKey:"ns.streams.definition.StudentPerformanceAlert.StudentGradeDataAvailable",isStreamEntryVisible:ve(_e),isStreamSettingVisible:he(_e),canHandle:e=>e.type.includes(ye.Telemetry)&&"SufficientGradeData"===e.telemetryNotificationType,defaultSetting:fe(_e)},Je={id:"StudentsFallingBehind",category:J.StudentPerformanceAlert,displayKey:"ns.streams.definition.StudentPerformanceAlert.StudentsFallingBehind",isStreamEntryVisible:ve(Ue),isStreamSettingVisible:he(Ue),canHandle:e=>e.type.includes(ye.Telemetry)&&"StudentsInTrouble"===e.telemetryNotificationType&&!!e.studentsInTrouble&&"0"!==e.studentsInTrouble.studentsInTrouble&&"0"===e.studentsInTrouble.studentsInTroubleAbsent&&"0"===e.studentsInTrouble.studentsInTroubleFailing,defaultSetting:fe(Ue)},Qe={id:"StudentsFallingBehindAbsent",category:J.StudentPerformanceAlert,displayKey:"ns.streams.definition.StudentPerformanceAlert.StudentsFallingBehindAbsent",isStreamEntryVisible:ve(He),isStreamSettingVisible:he(He),canHandle:e=>e.type.includes(ye.Telemetry)&&"StudentsInTrouble"===e.telemetryNotificationType&&!!e.studentsInTrouble&&"0"!==e.studentsInTrouble.studentsInTrouble&&"0"!==e.studentsInTrouble.studentsInTroubleAbsent&&"0"===e.studentsInTrouble.studentsInTroubleFailing,defaultSetting:fe(He)},Ze={id:"StudentsFallingBehindFailing",category:J.StudentPerformanceAlert,displayKey:"ns.streams.definition.StudentPerformanceAlert.StudentsFallingBehindFailing",isStreamEntryVisible:ve(ze),isStreamSettingVisible:he(ze),canHandle:e=>e.type.includes(ye.Telemetry)&&"StudentsInTrouble"===e.telemetryNotificationType&&!!e.studentsInTrouble&&"0"!==e.studentsInTrouble.studentsInTrouble&&"0"===e.studentsInTrouble.studentsInTroubleAbsent&&"0"!==e.studentsInTrouble.studentsInTroubleFailing,defaultSetting:fe(ze)},Ye={id:"StudentsFallingBehindAbsentFailing",category:J.StudentPerformanceAlert,displayKey:"ns.streams.definition.StudentPerformanceAlert.StudentsFallingBehindAbsentFailing",isStreamEntryVisible:ve(qe),isStreamSettingVisible:he(qe),canHandle:e=>e.type.includes(ye.Telemetry)&&"StudentsInTrouble"===e.telemetryNotificationType&&!!e.studentsInTrouble&&"0"!==e.studentsInTrouble.studentsInTrouble&&"0"!==e.studentsInTrouble.studentsInTroubleAbsent&&"0"!==e.studentsInTrouble.studentsInTroubleFailing,defaultSetting:fe(qe)},Xe=[Ie.NoRecentActivity],et=[Ie.GradeAtRisk_GradeBelowThreshold,Ie.GradeAtRisk_GradeInLowest],tt=[Ie.GradeLowered],nt=[Ie.LowActivity],it=[Ie.PerformanceIncreased_ActivityIncreased,Ie.PerformanceIncreased_GradeIncreased],st=[Ie.HighActivity],at=[Ie.HighGrade],ot={id:"NoRecentActivity",category:J.GradesAndActivity,displayKey:"ns.streams.definition.GradesAndActivity.NoRecentActivity",isStreamEntryVisible:ve(Xe),isStreamSettingVisible:pe(Xe),canHandle:e=>!(!e.type.includes(ye.Telemetry)||"NoRecentActivity"!==e.telemetryNotificationType),defaultSetting:fe(Xe)},rt={id:"GradeAtRisk",category:J.GradesAndActivity,displayKey:"ns.streams.definition.GradesAndActivity.GradeAtRisk",isStreamEntryVisible:ve(et),isStreamSettingVisible:pe(et),canHandle:e=>!(!e.type.includes(ye.Telemetry)||"GradeInLowest"!==e.telemetryNotificationType&&"GradeBelowThreshold"!==e.telemetryNotificationType),defaultSetting:fe(et)},lt={id:"GradeLowered",category:J.GradesAndActivity,displayKey:"ns.streams.definition.GradesAndActivity.GradeLowered",isStreamEntryVisible:ve(tt),isStreamSettingVisible:pe(tt),canHandle:e=>!(!e.type.includes(ye.Telemetry)||"GradeDropped"!==e.telemetryNotificationType),defaultSetting:fe(tt)},ct={id:"LowActivity",category:J.GradesAndActivity,displayKey:"ns.streams.definition.GradesAndActivity.LowActivity",isStreamEntryVisible:ve(nt),isStreamSettingVisible:pe(nt),canHandle:e=>!(!e.type.includes(ye.Telemetry)||"ActivityInLowest"!==e.telemetryNotificationType),defaultSetting:fe(nt)},dt={id:"PerformanceIncreased",category:J.GradesAndActivity,displayKey:"ns.streams.definition.GradesAndActivity.PerformanceIncreased",isStreamEntryVisible:ve(it),isStreamSettingVisible:pe(it),canHandle:e=>!(!e.type.includes(ye.Telemetry)||"GradeIncreased"!==e.telemetryNotificationType&&"ActivityIncreased"!==e.telemetryNotificationType),defaultSetting:fe(it)},ut={id:"HighActivity",category:J.GradesAndActivity,displayKey:"ns.streams.definition.GradesAndActivity.HighActivity",isStreamEntryVisible:ve(st),isStreamSettingVisible:pe(st),canHandle:e=>!(!e.type.includes(ye.Telemetry)||"ActivityInHighest"!==e.telemetryNotificationType),defaultSetting:fe(st)},mt={id:"HighGrade",category:J.GradesAndActivity,displayKey:"ns.streams.definition.GradesAndActivity.HighGrade",isStreamEntryVisible:ve(at),isStreamSettingVisible:pe(at),canHandle:e=>!(!e.type.includes(ye.Telemetry)||"GradeInHighest"!==e.telemetryNotificationType),defaultSetting:fe(at)},pt=[Ie.Calendar],ht={id:"Calendar",category:J.Calendar,displayKey:"",isStreamEntryVisible:ve(pt),isStreamSettingVisible:be(pt),canHandle:e=>ye.Calendar===e.type,defaultSetting:fe(pt)},gt=[we.CourseAvailable],bt={id:"CourseAvailable",category:J.CourseAvailable,displayKey:"",canHandle:e=>ke(e.type,gt),defaultSetting:fe(gt),isStreamEntryVisible:ve(gt),isStreamSettingVisible:be(gt)},ft=[Ie.BlogEntryPosted],vt=[Ie.BlogEntryEdited],yt=[Ie.BlogEntryComment],kt={id:"BlogEntryPosted",category:J.Blog,displayKey:"ns.streams.definition.Blog.BlogEntryPosted",isStreamEntryVisible:ve(ft),isStreamSettingVisible:ge(ft),canHandle:e=>ye.Blog===e.type&&"BL_EP"===e.eventType,defaultSetting:fe(ft)},xt={id:"BlogEntryEdited",category:J.Blog,displayKey:"ns.streams.definition.Blog.BlogEntryEdited",isStreamEntryVisible:ve(vt),isStreamSettingVisible:ge(vt),canHandle:e=>ye.Blog===e.type&&"BL_EE"===e.eventType,defaultSetting:fe(vt)},St={id:"BlogEntryComment",category:J.Blog,displayKey:"ns.streams.definition.Blog.BlogEntryComment",isStreamEntryVisible:ve(yt),isStreamSettingVisible:he(yt),canHandle:e=>ye.Blog===e.type&&"BL_CP"===e.eventType,defaultSetting:fe(yt)},Ct=[Ie.JournalEntryPosted],Et=[Ie.JournalEntryEdited],It=[Ie.JournalEntryComment],wt={id:"JournalEntryPosted",category:J.Journal,displayKey:"ns.streams.definition.Journal.JournalEntryPosted",isStreamEntryVisible:ve(Ct),isStreamSettingVisible:ge(Ct),canHandle:e=>ye.Blog===e.type&&"JR_EP"===e.eventType,defaultSetting:fe(Ct)},At={id:"JournalEntryEdited",category:J.Journal,displayKey:"ns.streams.definition.Journal.JournalEntryEdited",isStreamEntryVisible:ve(Et),isStreamSettingVisible:ge(Et),canHandle:e=>ye.Blog===e.type&&"JR_EE"===e.eventType,defaultSetting:fe(Et)},Ot={id:"JournalEntryComment",category:J.Journal,displayKey:"ns.streams.definition.Journal.JournalEntryComment",isStreamEntryVisible:ve(It),isStreamSettingVisible:he(It),canHandle:e=>ye.Blog===e.type&&"JR_CP"===e.eventType,defaultSetting:fe(It)},Dt=[Ie.WikiEntryPosted],Tt=[Ie.WikiEntryEdited],Pt=[Ie.WikiEntryComment],$t={id:"WikiEntryPosted",category:J.Wiki,displayKey:"ns.streams.definition.Wiki.WikiEntryPosted",isStreamEntryVisible:ve(Dt),isStreamSettingVisible:ge(Dt),canHandle:e=>ye.Wiki===e.type&&"EP"===e.eventType,defaultSetting:fe(Dt)},Gt={id:"WikiEntryEdited",category:J.Wiki,displayKey:"ns.streams.definition.Wiki.WikiEntryEdited",isStreamEntryVisible:ve(Tt),isStreamSettingVisible:ge(Tt),canHandle:e=>ye.Wiki===e.type&&"EE"===e.eventType,defaultSetting:fe(Tt)},jt={id:"WikiEntryComment",category:J.Wiki,displayKey:"ns.streams.definition.Wiki.WikiEntryComment",isStreamEntryVisible:ve(Pt),isStreamSettingVisible:ge(Pt),canHandle:e=>ye.Wiki===e.type&&"CP"===e.eventType,defaultSetting:fe(Pt)},Lt=[we.GradebookNeedsReconciliation],Nt={id:"GradesNeedReconciling",category:J.GradesNeedReconciling,displayKey:"",canHandle:e=>ke(e.type,Lt),defaultSetting:fe(Lt),isStreamEntryVisible:ve(Lt),isStreamSettingVisible:he(Lt)},Bt=[we.ContentAvailable],Mt={id:"NewDiscussionForum",category:J.Discussion,displayKey:"ns.streams.definition.Discussion.NewDiscussionForum",canHandle:e=>ke(e.type,Bt)&&"resource/x-bb-forumlink"===e.contentHandler,defaultSetting:fe(Bt),isStreamEntryVisible:ve(Bt),isStreamSettingVisible:ge(Bt)},Rt=[we.AnnouncementAvailable],Ft={InstitutionAnnouncements:Oe,CourseAnnouncements:{id:"CourseAnnouncements",category:J.CourseAnnouncements,displayKey:"",canHandle:e=>ke(e.type,Rt)&&e.providerId===ye.Nautilus,defaultSetting:fe(Rt),isStreamEntryVisible:ve(Rt),isStreamSettingVisible:be(Rt)},GradedItemDue:Pe,GradedItemOverdue:$e,NewAssessmentsAdded:Le,NewContentAdded:Ne,GradesPosted:Me,NewGradeableItems:Fe,GradesNeedReconciling:Nt,StudentActivityAvailable:We,StudentGradeDataAvailable:Ke,StudentsFallingBehind:Je,StudentsFallingBehindAbsent:Qe,StudentsFallingBehindFailing:Ze,StudentsFallingBehindAbsentFailing:Ye,NewDiscussionForum:Mt,NoRecentActivity:ot,GradeAtRisk:rt,GradeLowered:lt,LowActivity:ct,PerformanceIncreased:dt,HighActivity:ut,HighGrade:mt,Calendar:ht,CourseAvailable:bt,BlogEntryPosted:kt,BlogEntryEdited:xt,BlogEntryComment:St,JournalEntryPosted:wt,JournalEntryEdited:At,JournalEntryComment:Ot,WikiEntryPosted:$t,WikiEntryEdited:Gt,WikiEntryComment:jt},Vt=Object.values(Ft);n.d(t,"g",(function(){return _t})),n.d(t,"f",(function(){return Ut})),n.d(t,"e",(function(){return Ht})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return Vt}));const _t=(e,t,n)=>{const l=s.createElement(a.a,{locale:n.locale,babelfishInstance:n.babelfishInstance,babelfishFormatInstance:n.babelfishFormatInstance,bundlesToLoad:["notification-settings/locales/[locale]/ns.json"],isRtl:n.isRtl},s.createElement(r.a,{store:t},s.createElement(i.AnalyticsJssThemeProvider,{theme:"light",isRtl:n.isRtl},s.createElement(me,{adminNotificationSettings:n.adminNotificationSettings,currentSettings:n.currentSettings,onSettingsUpdated:n.onSettingsUpdated,isGuest:n.isGuest,isInstructor:n.isInstructor,isStudent:n.isStudent,userEnrolledInCourse:n.userEnrolledInCourse}))));o.render(l,e)},Ut=(e,t,n)=>{const l=s.createElement(a.a,{locale:n.locale,babelfishInstance:n.babelfishInstance,babelfishFormatInstance:n.babelfishFormatInstance,bundlesToLoad:["notification-settings/locales/[locale]/ns.json"],isRtl:n.isRtl},s.createElement(r.a,{store:t},s.createElement(i.AnalyticsJssThemeProvider,{theme:"light",isRtl:n.isRtl},s.createElement(H,{closePanel:n.closePanel,onSettingChange:n.onSettingChange}))));o.render(l,e)},Ht=e=>{o.unmountComponentAtNode(e)}},zXZW:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Llzl"),s=n("4HXK");const a="ultra.services.errorHandler",o=["$delegate","$injector",(e,t)=>{let n;return Object.assign((function(i,a){e(i,a),n||(n=t.get(s.b)),"undefined"!=typeof NREUM&&NREUM.noticeError(i)}),e)}];i.module(a,[s.a]).config(["$provide",e=>{e.decorator("$exceptionHandler",o)}])},zYa8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("Llzl"),s=n("ERkP"),a=n("1ZbL");function o(e,t,n){const o={Class:t=>s.createElement(e,{...t}),attributes:["color","className","titleAccess"],withErrorModalBoundary:!1};i.module(t,[]).component(n,Object(a.a)(o))}},zbCZ:function(e,t,n){},zexu:function(e,t,n){var i=n("ziER"),s=n("5JeM"),a=new i({id:"icon-small-undo",use:"icon-small-undo-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-undo"><path d="M3 3L1 5l2 2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M1 5h11c2 0 3 2.0474 3 4s-1 4-3 4H4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});s.add(a);e.exports=a},zlFc:function(e,t){e.exports='<bb-modal id="notification-modal-api-error"\n          class="notification"\n          modal-title-key="components.services.error-modal.error-forbidden.title"\n          analytics-id-tag-prefix="components.services.error-modal.error-forbidden">\n  <div name="modal-contents">\n    <p bb-translate>components.services.error-modal.error-forbidden.description</p>\n    <pre>{{ response | json }}</pre>\n    <bb-session-debug-modal-button></bb-session-debug-modal-button>\n  </div>\n  <button name="modal-footer-button-primary"\n          ng-click="$parent.$dismiss()"\n          class="button js-primary-button"\n          analytics-id="components.services.error-modal.dismiss"\n          bb-translate>components.services.error-modal.dismiss</button>\n</bb-modal>\n'},zmy6:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));n("jMVO");var i=n("Llzl"),s=n("lEL+");const a="ultra.components.directives.placeholder";class o{constructor(t,n){this.$injector=t,this.timeout=n,this.restrict="A",this.scope=!1,this.require="?ngModel",this.link=(t,n,i,s)=>{if("input"!==n.prop("tagName").toLowerCase())throw new Error("Attempted to use bb-placeholder directive on a non-input element");const a=()=>{const i=n,s=i.attr("title"),a=i.prev("span");this.timeout((()=>{i.val()&&i.val()!==s?a.css("visibility","hidden"):(a.css("visibility",""),s&&a.css("margin-left",(t=>{const n=e("<div></div>").text(t).css("visibility","hidden").appendTo(document.body),i=n.width();return n.remove(),i})(s)+2+"px"))}),t,0,!1)};n.wrap('<div class="bb-placeholder"></div>'),n.before('<span class="panel-title bb-placeholder__text">'+i.bbPlaceholder+"</span>"),n.on("cut",a),n.on("keydown",a),n.on("keyup",a),n.on("paste",a),n.on("change",a),n.on("blur",a),n.on("focus click",a),i.$observe("bbPlaceholder",(e=>{n.prev("span").text(e),this.timeout((()=>{n.trigger("keydown")}),t,0,!1)})),s&&t.$watch((()=>s.$modelValue),(()=>{a()}))}}}o.$inject=["$injector",s.b],i.module(a,[s.a]).directive("bbPlaceholder",["$injector",e=>e.instantiate(o)])}).call(this,n("71td"))},zoPb:function(e,t,n){"use strict";n.r(t),n.d(t,"ConversionContentCategory",(function(){return d})),n.d(t,"ConversionReportStatus",(function(){return i})),n.d(t,"ConversionQueueTaskStatus",(function(){return s})),n.d(t,"serviceName",(function(){return u}));var i,s,a=n("yCC5"),o=n("Rjd/"),r=n("nkTj"),l=n("nbDY"),c=n.n(l);class d extends c.a{constructor(e,t,n){super(e),this.category=e,this.categoryKey=t,this.categoryImage=n,this.mediumIconsByCategory={Assessment:"test",Announcements:"announcements",Blog:"blog",Course:"course",CourseLink:"link",CourseSettings:"settings",DiscussionBoard:"discussion",Gradebook:"grades",Group:"groups",Message:"messages",ReleaseSettings:"settings",Rubric:"rubric",TableOfContents:"content-collection",Wiki:"wiki",Content:"document-blank"}}getLocalizableCategoryNameKey(){return this.categoryKey}getMediumCategoryIconOrDefault(){return this.mediumIconsByCategory[this.category]||"document-blank"}getCategoryIconName(){return this.categoryImage?this.categoryImage:"document-blank"}}d.Assessment=new d("Assessment","ultra.convert.category.assessment","test"),d.Announcements=new d("Announcements","ultra.convert.category.announcements","announcement"),d.Blog=new d("Blog","ultra.convert.category.blog","blog"),d.Collab=new d("Collab","ultra.convert.category.collab"),d.Course=new d("Course","ultra.convert.category.course","course"),d.CourseLink=new d("CourseLink","ultra.convert.category.courseLink","link"),d.CourseSettings=new d("CourseSettings","ultra.convert.category.courseSettings","settings"),d.Content=new d("Content","ultra.convert.category.content","document-blank"),d.ContentSettings=new d("ContentSettings","ultra.convert.category.contentSettings","settings"),d.DiscussionBoard=new d("DiscussionBoard","ultra.convert.category.discussionBoard","discussion"),d.Gradebook=new d("Gradebook","ultra.convert.category.gradebook","grades"),d.Group=new d("Group","ultra.convert.category.group","groups"),d.Message=new d("Message","ultra.convert.course.message.unsupported","messages"),d.ProgressTracking=new d("ProgressTracking","ultra.convert.category.progressTracking"),d.ReleaseSettings=new d("ReleaseSettings","ultra.convert.category.releaseSettings","settings"),d.Rubric=new d("Rubric","ultra.convert.category.rubric","rubric"),d.TableOfContents=new d("TableOfContents","ultra.convert.category.tableOfContents","content-collection"),d.Task=new d("Task","ultra.convert.category.task"),d.Wiki=new d("Wiki","ultra.convert.category.wiki","wiki"),function(e){e.Success="Success",e.Failure="Failure",e.Partial="Partial",e.Unavailable="Unavailable"}(i||(i={})),function(e){e.Waiting="WAITING",e.Assigned="ASSIGNED",e.Running="RUNNING",e.Complete="COMPLETE",e.CompleteErrors="COMPLETE_ERRORS",e.Incomplete="INCOMPLETE"}(s||(s={}));const u=a.s;o.a.factory(u,["restmod",r.c,(e,t)=>e.model().mix({$config:{primaryKey:"taskId"}})])},zphb:function(e,t){e.exports='<div class="simple-statistic-contents" ng-class="::item().cssClass">\n  <div bb-tooltip enhanced-tooltip="true" data-tooltip-on-overflow-only="true" title="{{ ::item().data }}">\n    <div class="stat-data"\n         ng-attr-aria-label="{{ item().aria ? item().aria : undefined }}"\n         data-ng-bind-html="::item().trusted"\n         data-ellipsis></div>\n  </div>\n  <div ng-if="::item().subtext" class="stat-sub-text" bb-translate>{{ ::item().subtext }}</div>\n  <div ng-if="::!item().subtext && item().reserveSubtextSpace" class="stat-sub-text" aria-hidden="true">&nbsp;</div>\n</div>'}});