(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{"06yj":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("6/tG");const s="ultra.components.directives.bbUiIcon.large.DocumentCloud";Object(a.a)(i.a,s,"bbUiIconLargeDocumentCloud")},"2szi":function(e,t,n){var a=n("ziER"),i=n("5JeM"),s=new a({id:"icon-medium-forward-arrow",use:"icon-medium-forward-arrow-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-forward-arrow"><path d="M13 1l10 11-10 11M23 12H1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"4uUs":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("RrOo");const s="ultra.components.directives.bbUiIcon.large.Test";Object(a.a)(i.a,s,"bbUiIconLargeTest")},"59Vg":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("wnlu");const s="ultra.components.directives.bbUiIcon.large.Textbook";Object(a.a)(i.a,s,"bbUiIconLargeTextbook")},"7zkF":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("MTZf");const s="ultra.components.directives.bbUiIcon.large.Scormengine";Object(a.a)(i.a,s,"bbUiIconLargeScormengine")},"8SVz":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("Llzl"),i=n("AuQm"),s=n("1ZbL");const o="ultra.directives.linkify-text",c={Class:i.C,attributes:["analyticsIdTagPrefix","plainText"]};a.module(o,[]).component("bbLinkifyText",Object(s.a)(c))},"9V5A":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("3yh1");const s="ultra.components.directives.bbUiIcon.large.LearningModule";Object(a.a)(i.a,s,"bbUiIconLargeLearningModule")},A51O:function(e,t,n){var a=n("ziER"),i=n("5JeM"),s=new a({id:"icon-small-arrow-right",use:"icon-small-arrow-right-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-arrow-right"><path d="M5 1l7 7-7 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},Au0D:function(e,t,n){"use strict";var a=n("D57K"),i=n("71td"),s=n("Llzl"),o=n("nbDY"),c=n.n(o),r=n("wgY5"),l=n("mCEN"),d=n("lEL+");const h="ultra.components.directives.scroll";class u{constructor(e,t,n,a){this.$rootScope=e,this.$window=t,this.timeout=n,this.THROTTLE_MILLISECONDS=a,this.restrict="AE",this.scope={scrollDownLoad:"&",scrollUpLoad:"&?",scrollContainer:"=?",scrollDistance:"=?",scrollDisabled:"=?",scrollUseDocumentBottom:"=?"},this.link=(e,t,n)=>{let a,i,o,c,r,l,d,h;const u=s.element(this.$window);l=null,d=null,a=null,i=null,c=!0,h=!1;const m=e=>(e=e[0]||e,Number.isNaN(Number(e.offsetHeight))?m(e.document.documentElement):e.offsetHeight),b=e=>{if(e[0].getBoundingClientRect&&!e.css("none"))return e[0].getBoundingClientRect().top+r(e)};r=e=>(e=e[0]||e,Number.isNaN(Number(window.pageYOffset))?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset),o=()=>{let n,s,o,c;i===u?(n=m(i)+r(i[0].document.documentElement),o=b(t)+m(t)):(n=m(i),s=0,void 0!==b(i)&&(s=b(i)),o=b(t)-s+m(t)),h&&(o=m((t[0].ownerDocument||t[0].document).documentElement)),c=o-n;const p=c<=m(i)*l;c=s-b(t);const g=c<=m(i)*l;if(p){if(a=!0,d)return e.$$phase||this.$rootScope.$$phase?e.scrollDownLoad:e.$apply(e.scrollDownLoad)}else{if(!g)return a=!1;if(a=!0,d&&e.scrollUpLoad)return e.$$phase||this.$rootScope.$$phase?e.scrollUpLoad:e.$apply(e.scrollUpLoad)}};const p=(t,n)=>{let a,i=0;const s=()=>(i=(new Date).getTime(),this.timeout.cancel(a),a=null,t.call(null),null);return()=>{const o=(new Date).getTime(),c=n-(o-i);return c<=0?(this.timeout.cancel(a),a=null,i=o,t.call(null)):a?void 0:a=this.timeout(s,e,c)}};null!=this.THROTTLE_MILLISECONDS&&(o=p(o,this.THROTTLE_MILLISECONDS)),e.$on("$destroy",(function(){return i.off("scroll",o)})),e.$watch("scrollDistance",(e=>l=parseInt(e,10)||0)),e.$watch("scrollDisabled",(e=>{if(d=!e,d&&a)return a=!1,o()})),e.$watch("scrollUseDocumentBottom",(e=>h=e));const g=function(e){if(null!=i&&i.off("scroll",o),i="function"==typeof e.last&&e!==u?e.last():e,null!=e)return i.on("scroll",o)};return g(u),e.$watch("scrollContainer",(e=>{if(null!=e&&0!==e.length){if(null!=(e=s.element(document.querySelector(e))))return g(e);throw new Error("invalid infinite-scroll-container attribute.")}})),null!=n.scrollParent&&g(s.element(t.parent())),null!=n.scrollImmediateCheck&&(c=e.$eval(n.scrollImmediateCheck)),this.timeout((function(){if(c)return o()}),e,0)}}}u.$inject=["$rootScope","$window",d.b,"THROTTLE_MILLISECONDS"],s.module(h,[d.a]).value("THROTTLE_MILLISECONDS",500).directive("bbScroll",["$injector",e=>e.instantiate(u)]);var m=n("0JpG"),b=n("7pcG"),p=n("Fvsw"),g=n("fYJU"),v=n("9hUw"),w=n("VdDF"),y=n("aHpC"),f=n("kuNy");const D="ultra.components.directives.calendar.deadlines";let I=class{constructor(e,t,n,a,i,s,o,c,r,l){let d;this.scope=e,this.element=t,this.attrs=n,this.$q=a,this.calendar=i,this.context=s,this.currentUser=o,this.localize=c,this.peerReview=r,this.timeout=l,this.blankRegex=/\s/g,this.isLoadingDown=!1,this.isLoadingUp=!1,this.isFirstLoad=!0,this.isMonthViewPre=!1,this.downLoadedCounter=-1,this.upLoadedCounter=-1,this.downAllCount=0,this.upAllCount=0,this.lastViewDeadlinesItemIndex=0,this.dueDateCalendarItems=[],this.deadlinesItems=[],this.dueDateCalendarItemIcons={},this.allowClick=e=>{var t,n,a;return!e.dynamicCalendarItemProps||(!!(null===(t=e.dynamicCalendarItemProps)||void 0===t?void 0:t.attemptable)||(null===(n=e.permissions)||void 0===n?void 0:n.edit)||!!(null===(a=e.dynamicCalendarItemProps)||void 0===a?void 0:a.handle))},e.deadlines=this,this.container=t.find(".scroll-container"),this.timeout((()=>this.adjustFootHeight()),this.scope,0,!1),this.today=this.context.getServerTime(),this.loadBaseDate=e.currentViewDate&&e.currentViewDate.toDate()||this.today,this.container.on("scroll",(()=>{const e=(new Date).getTime();(!d||e-d>5)&&(d=e,this.scope.$apply((()=>this.updateCurrentViewDate())))})),e.$watchGroup(["!deadlines.isLoadingDown","!deadlines.isLoadingUp","!deadlines.dueDateCalendarItems.length"],(e=>{this.scope.isEmpty=e.every((e=>e))})),e.$on("deadline-scroll",((e,t)=>{this.scrollToDueDateItem(t)})),e.$on("deadline-refresh",(()=>{this.timeout((()=>{this.clearStatus(),this.isLoadingDown=!0,this.loadMore(!0),e.$emit("calendar-refresh")}),this.scope,500)})),e.$on("deadline-resize",(()=>this.adjustFootHeight())),e.$on("$destroy",(()=>{this.container.off("scroll")}))}adjustFootHeight(){let e=this.container.height()+10;for(let t=0;t<this.deadlinesItems.length;t++){if(e-=this.element.find("#"+this.getDeadlinesItemId(this.deadlinesItems[t].date)).height(),e<=0)break}this.element.find(".deadline-foot").height(Math.max(0,e))}updateCurrentViewDate(){if(!this.deadlinesItems.length)return;let e=this.lastViewDeadlinesItemIndex,t=this.getDeadlinesItemTopFromContainer(this.lastViewDeadlinesItemIndex);for(;t>0&&e>0;)e-=1,t=this.getDeadlinesItemTopFromContainer(e);for(;t<0&&e<this.deadlinesItems.length-1;)t=this.getDeadlinesItemTopFromContainer(e+1),t<0&&(e+=1);this.lastViewDeadlinesItemIndex=e;const n=r(this.deadlinesItems[e].date).startOf("day");n.isSame(this.scope.currentViewDate)||(this.scope.currentViewDate=n)}clearStatus(){this.dueDateCalendarItems=[],this.downLoadedCounter=this.upLoadedCounter=-1,this.downAllCount=this.upAllCount=0}loadMoreDown(){this.isLoadingDown||this.isLoadingUp||this.downLoadedCounter>=0&&this.downLoadedCounter>=this.downAllCount||(this.isFirstLoad?this.isFirstLoad=!1:(this.isLoadingDown=!0,this.timeout((()=>{this.loadMore(!0)}),this.scope,500)))}loadMoreUp(){this.isLoadingDown||this.isLoadingUp||this.upLoadedCounter>=0&&this.upLoadedCounter>=this.upAllCount||(this.isLoadingUp=!0,this.timeout((()=>{this.loadMore(!1)}),this.scope,500))}loadMore(e){let t=this.loadBaseDate;e||(t=r(t).subtract({days:1}).toDate());let n=20;e?this.downAllCount&&(n=Math.min(n,this.downAllCount-this.downLoadedCounter)):this.upAllCount&&(n=Math.min(n,this.upAllCount-this.upLoadedCounter));const a={date:t,date_compare:e?"greaterOrEqual":"lessOrEqual",offset:e?Math.max(this.downLoadedCounter,0):Math.max(this.upLoadedCounter,0),limit:n,includeCount:!0};return this.scope.dueDateItemSource.$refresh(a).$then((t=>{t.forEach((e=>{this.calendar.getCalendarItemIcon(e).then((t=>{this.dueDateCalendarItemIcons[e.itemSourceId]||(this.dueDateCalendarItemIcons[e.itemSourceId]=t)})),e.ui.calendarName=e.calendarNameLocalizable.rawValue||this.localize.translateSync({locale:this.localize.getLocale(this.scope),key:"base."+e.calendarNameLocalizable.languageKey})})),this.calendar.mixinColorIndexToCalendarItems(t,this.currentUser.userId),e?(this.downAllCount=t.paging.count,this.downLoadedCounter<0?this.downLoadedCounter=t.length:this.downLoadedCounter+=t.length,this.dueDateCalendarItems=this.dueDateCalendarItems.concat(t)):(this.upAllCount=t.paging.count,this.upLoadedCounter<0?this.upLoadedCounter=t.length:this.upLoadedCounter+=t.length,this.dueDateCalendarItems=t.reverse().concat(this.dueDateCalendarItems)),this.dueDateItemTransformToDeadlines(),this.timeout((()=>this.adjustFootHeight()),this.scope,0)})).$always((()=>{this.isLoadingDown=this.isLoadingUp=!1,this.timeout((()=>this.updateCurrentViewDate()),this.scope,0)})).$asPromise()}dueDateItemTransformToDeadlines(){let e=!1;if(this.dueDateCalendarItems.length){let t=-1;this.dueDateCalendarItems.forEach((n=>{-1!==t&&this.isSameDay(n.endDate,this.deadlinesItems[t].date)||(t+=1,this.deadlinesItems[t]=[],this.deadlinesItems[t].date=n.endDate,this.isSameDay(this.deadlinesItems[t].date,this.today)&&(e=!0)),this.deadlinesItems[t].push(n)})),this.deadlinesItems.splice(t+1,this.deadlinesItems.length)}else this.deadlinesItems=[];if(!e){const e=r(this.today);let t=this.isSameDay(this.today,this.loadBaseDate);if(t||(t=this.deadlinesItems.some((t=>e.isBefore(t.date,"day")))&&this.deadlinesItems.some((t=>e.isAfter(t.date,"day")))),t){let t=0;for(let n=0;n<this.deadlinesItems.length;n++)if(e.isBefore(this.deadlinesItems[n].date,"day")){t=n;break}const n=[];n.date=this.today,t<this.deadlinesItems.length?this.deadlinesItems.splice(t,0,n):this.deadlinesItems.push(n)}}}isSameDay(e,t){return w.a.isSameDay(e,t)}getDeadlinesItemTopFromContainer(e){const t=this.deadlinesItems[e];return this.element.find("#"+this.getDeadlinesItemId(t.date)).offset().top-this.container.offset().top}getDateTrackString(e){return e.toDateString().replace(this.blankRegex,"_")}scrollToDueDateItem(e){const t=this.scope.isMonthViewActive();if(t&&(e=r(e).startOf("month").toDate()),e){const n=r(e).startOf("day");n.isSame(this.scope.currentViewDate)||(this.scope.currentViewDate=n),this.timeout((()=>{const n=this.getItemIndexToScrollTo(e,t);this.isMonthViewPre=t;let a=0;n&&n.length?a=n.offset().top-this.container.offset().top+this.container.scrollTop():(this.loadBaseDate=e,this.clearStatus(),this.loadMore(!0)),this.container.animate({scrollTop:a+10})}),this.scope,0,!1)}}getItemIndexToScrollTo(e,t){const n=r(e).startOf("day");for(let e=0;e<this.deadlinesItems.length;e++){const a=r(this.deadlinesItems[e].date).startOf("day"),i=r(this.deadlinesItems[e].date).startOf(t&&this.isMonthViewPre?"month":"day");if(!i.isBefore(n))return!e&&i.isAfter(n)?null:this.element.find("#"+this.getDeadlinesItemId(a.toDate()))}return null}getItemTitle(e){return this.calendar.getCalendarItemTitle(e,this.localize.getLocale(this.scope))}getDeadlinesItemId(e){return this.scope.prefix+"-deadlines-"+e.toDateString().replace(this.blankRegex,"_")}getFormatEndDate(e){const t=this.localize.formatDatetimeSync(e,m.ILocaleDatetimeFormat.Short,this.scope);return this.localize.translateSync({locale:this.localize.getLocale(this.scope),key:"components.directives.calendar.format.dueTime",params:{startTime:t},noWrap:!0,noEscape:!0})}isNoDeadlinesItem(){return!this.isLoadingDown&&!this.isLoadingUp&&!this.dueDateCalendarItems.length}isAllDownLoaded(){return!this.isLoadingDown&&this.downAllCount===this.downLoadedCounter}};I=Object(a.a)([Object(a.c)(0,Object(y.b)("scope")),Object(a.c)(1,Object(y.b)("element")),Object(a.c)(2,Object(y.b)("attrs")),Object(a.c)(3,Object(y.b)("$q")),Object(a.c)(4,Object(y.b)(b.b)),Object(a.c)(5,Object(y.b)(p.b)),Object(a.c)(6,Object(y.b)(g.b)),Object(a.c)(7,Object(y.b)(m.serviceName)),Object(a.c)(8,Object(y.b)(v.b)),Object(a.c)(9,Object(y.b)(d.b))],I);class k{constructor(e){this.$injector=e,this.restrict="E",this.template=f,this.scope={dueDateItemSource:"=",currentViewDate:"=",prefix:"=",viewDueDateItem:"=?",isEmpty:"=?",hideCourseLink:"&?",isMonthViewActive:"&"},this.link=(e,t,n)=>{e.deadlines=this.$injector.instantiate(I,{scope:e,element:t,attrs:n})}}}k.$inject=["$injector"],s.module(D,[b.a,l.a,p.a,g.a,m.moduleName,v.a,h,d.a]).directive("bbDeadlines",["$injector",e=>e.instantiate(k)]);var C=n("ZzYr"),S=n("V0gA"),T=n("0+Qs"),V=n("TnpK"),x=n("yC9S"),O=n("wDWF"),L=n("+4Px"),E=n("Q/M7"),M=n("8SVz"),j=n("nLcF");n("2Ync"),n("F8QG"),n("r+pC"),n("2szi"),n("nfEd"),n("Xc1Q"),n("6BRP"),n("A51O");n.d(t,"b",(function(){return $})),n.d(t,"a",(function(){return P}));const $="ultra.components.directives.calendar",A=i.fullCalendar,z=A.views.month;function U(e){z.call(this,e),this.isEventDraggable=this.isEventResizable=e=>!1}A.views.monthWithoutDD=U,U.prototype=function(e){const t=function(){};return t.prototype=e,new t}(z.prototype);let W=0;class P extends c.a{}P.Schedule=new P("schedule"),P.Deadline=new P("deadline");class R extends c.a{}R.MONTH=new R("month"),R.DAY=new R("day");class B extends c.a{}B.MONTH=new B("monthWithoutDD"),B.AGENDA_DAY=new B("agendaDay");const N=["startDate","endDate","title","editable","location","dynamicCalendarItemProps.eventType","ui.courseColorClass"];class F{constructor(){this.cache={}}getInternalDateString(e){return e.year()+"-"+e.dayOfYear()}sort(){Object.keys(this.cache).forEach((e=>{const t=this.cache[e];t.hasSorted||t.events.sort(((e,t)=>{const n=e.startMoment.diff(t.startMoment);return 0===n?e.raw.itemSourceId<t.raw.itemSourceId?-1:1:n}))}))}removeEventObject(e){const t=this.cache[this.getInternalDateString(e.startMoment)];if(t){const n=t.events.indexOf(e);-1!==n&&t.events.splice(n,1)}}updateEventObject(e,t){const n=t?this.getInternalDateString(t):null,a=this.getInternalDateString(e.startMoment);if(n!==a){if(n){const t=this.cache[n];if(t){const n=t.events.indexOf(e);-1!==n&&t.events.splice(n,1)}}const t=this.cache[a]=this.cache[a]||{events:[],hasSorted:!0};t.events.push(e),t.hasSorted=!1}}getEventObjectsByDate(e){const t=this.cache[this.getInternalDateString(e)];return t&&t.events||[]}}let H=class{constructor(e,t,n,a,s,o,c,l,d,h,u,b,p){this.$compile=e,this.$q=t,this.scope=n,this.element=a,this.attrs=s,this.calendar=o,this.context=c,this.currentUser=l,this.interval=d,this.localize=h,this.peerReview=u,this.state=b,this.timeout=p,this.scheduleView=R.DAY.toString(),this.events=[],this.keyToFullCalendarEvents={},this.keyToValueCache={},this.dateCache=new F,this.dayAxisTexts=[],this.weekdayTexts=[],this.datesInCurrentWeek=[],this.datesInCurrentWeekDayTexts=new Map,this.datesInCurrentMonth=[],this.monthsInSmallMonthView=[],this.allDayEventsInCurrentDay=[],this.forceRefetch=!1,this.scheduleViewDropDownValues=[{value:R.DAY.toString(),localizedKey:"components.directives.calendar.day"},{value:R.MONTH.toString(),localizedKey:"components.directives.calendar.month"}],this.isLoading=!1,this.calendarOverflow=!1,this.isOnTouchDevice=!1,this.dayClickCallback=(e,t)=>{t.stopImmediatePropagation(),t.preventDefault(),this.isMonthView()&&this.scope.$apply((()=>{this.openDateInDayView(r(e))}))},this.eventResizeCallback=(e,t,n,a,i,s)=>{this.onEventObjectUpdated(e,t,!0).then((()=>{}),(e=>n()))},this.eventDropCallback=(e,t,n,a,i,s)=>{this.onEventObjectUpdated(e,t,!1).then((()=>{}),(e=>n()))},this.allowClick=e=>{var t,n,a;return!e.dynamicCalendarItemProps||(!!(null===(t=e.dynamicCalendarItemProps)||void 0===t?void 0:t.attemptable)||(null===(n=e.permissions)||void 0===n?void 0:n.edit)||!!(null===(a=e.dynamicCalendarItemProps)||void 0===a?void 0:a.handle))},n.idPrefix=(W++,"bb-calendar"+W),this.isOnTouchDevice=window.Modernizr.touch,this.isRtl=h.isRTL(n);const g=c.getServerTime();this.today=r(c.getServerTime()).startOf("day"),this.yesterday=r(c.getServerTime()).startOf("day").subtract("days",1),n.currentViewDate=this.today.clone(),n.currentDeadlineViewDate=this.today.clone(),this.setView(n.calendarView);const v=()=>{P.Schedule.isEqualTo(this.view)&&R.DAY.isEqualTo(this.scheduleView)||P.Deadline.isEqualTo(this.view)?(this.calendarOverflow=!0,a.closest(".panel-wrap").addClass("course-calendar-overflow")):(this.calendarOverflow=!1,a.closest(".panel-wrap").removeClass("course-calendar-overflow"))},w=()=>{(P.Schedule.isEqualTo(this.view)&&R.DAY.isEqualTo(this.scheduleView)||P.Deadline.isEqualTo(this.view))&&(p.cancel(this.windowScrollToTop),this.windowScrollToTop=p((()=>{i(window).scrollTop(0)}),n,200,!0))};window.Modernizr.touch&&x.b.OnWindow("scroll",w,n);const y=()=>{const e=i("#month-scroll");let t=e.find(".current-month");const n=e.parent().find(".month-fixed-title");t.length||(t=e.find(".month-item-first").addClass("current-month")),t=e.find(".current-month");let a=t.find(".month-title"),s=a.outerHeight(),o=t.position()&&t.position().top,c=t.outerHeight();o>0?(a.css("top",0).show(),t.prev().addClass("current-month"),t.removeClass("current-month")):c+o<0&&(a.css("top",c-s).show(),t.next().addClass("current-month"),t.removeClass("current-month")),t=e.find(".current-month"),a=t.find(".month-title"),s=a.outerHeight(),o=t.position()&&t.position().top,c=t.outerHeight(),c+o>=s?(a.css("top",Math.abs(o)).hide(),n.html(a.html()).show()):(n.hide(),a.css("top",c-s).show())},f=()=>{const e=i("#month-scroll"),t=e.find(".month-scroll-content"),a=e.height(),s=t.height(),o=e.scrollTop(),c=s-a-o<=1;if(o<=0){const a=t.find(".month-item-first").clone().addClass("copyitem");t.prepend(a),this.loadPreviousMonth(),this.timeout((()=>{const n=t.find(".month-item-first").not(".copyitem").outerHeight();a.remove(),e.scrollTop(n)}),n,0)}else c&&this.loadNextMonth();y()},D=e=>{const t=i("#month-scroll");null!=e&&e>0?t.scrollTop(e):t.scrollTop()<=0&&t.scrollTop(1),y()};h.loadBundle("components/directives/calendar").then((()=>p((()=>{h.loadLocale(h.getLocale(this.scope)).then((()=>{const e=h.translateSync({locale:h.getLocale(this.scope),key:"components.directives.calendar.duePrefix"});this._loadDayAxisTexts(),this.loadWeekdayTexts(),this.scheduleViewDropDownValues.forEach((e=>{e.localizedString=h.translateSync({locale:h.getLocale(this.scope),key:e.localizedKey})})),this.calendarElement=this.element.find(".fullcalendar-container"),this.calendarElement.fullCalendar({isRTL:this.isRtl,header:null,defaultView:R.DAY.isEqualTo(this.scheduleView)?B.AGENDA_DAY.toString():B.MONTH.toString(),now:g,timezone:"local",eventLimit:4,eventLimitClick:(e,t)=>{this.scope.$apply((()=>{this.openDateInDayView(e.date)}))},eventLimitText:e=>h.translateSync({locale:h.getLocale(this.scope),key:"components.directives.calendar.more.plural",params:{count:e},noWrap:!0}),fixedWeekCount:!1,firstDay:this.scope.firstDayOfWeek,slotDuration:"0:30:00",slotEventOverlap:!1,allDaySlot:!1,scrollTime:"09:00:00",defaultDate:g,editable:!1,events:(e,t,n,a)=>{e=this.convertToLocaleTime(e),t=this.convertToLocaleTime(t),this.fetchRangeStart&&this.fetchRangeEnd&&this.fetchRangeStart.isBefore(e)&&this.fetchRangeEnd.isAfter(t)&&!this.forceRefetch?a(this.events):(this.forceRefetch=!1,this.isLoading=!0,this.scope.scheduleItemSource.$refresh(this.getTimeBasedPagingQueryOptions(e,t)).$then((e=>o.mixinColorIndexToCalendarItems(e,l.userId).then((e=>o.mixinMetadataToCalendarItems(e,this.localize.getLocale(this.scope)))))).$then((n=>{this.fetchRangeStart=e.clone(),this.fetchRangeEnd=t.clone(),this.refreshScheduleItems()})).$always((()=>{a(this.events)})))},eventClick:(e,t,n)=>{if(!(t.target&&t.target.parentElement&&i(t.target.parentElement).hasClass("course-link")))if(t.stopImmediatePropagation(),t.preventDefault(),this.isMonthView())this.scope.$apply((()=>{this.openDateInDayView(e.startMoment)}));else if(t.target&&t.target.parentElement&&i(t.target.parentElement).hasClass("external-course-link"))this.externalCourseUrl&&Object(E.o)(this.externalCourseUrl);else if(this.scope.viewCalendarItem){const t=e.raw;this.scope.viewCalendarItem(t)}},dayClick:this.dayClickCallback,dayRender:(e,t)=>{const n=r(e);i(t).attr({tabindex:"0",role:"link"}).attr("aria-label",this.localize.translateSync({locale:this.localize.getLocale(this.scope),key:"components.directives.calendar.openDateInDayView",params:{date:n.toDate()},noWrap:!0,noEscape:!0})).on("keypress",(e=>{e.which===L.f&&this.scope.$apply((()=>{this.openDateInDayView(n)}))}))},viewRender:(e,t)=>{this.currentTimeUpdateInterval&&this.interval.cancel(this.currentTimeUpdateInterval),this.isMonthView()?(this.updateWeekdayTexts(),this.updateDateHtml()):this.isDayView()&&(this.updateDayAxisTexts(),this.calendarElement.find(".fc-time-grid-container").attr("tabindex","-1"),this.isViewingToday()&&(this.insertTimeMarker(),this.updateTimeMarker(),this.currentTimeUpdateInterval=d((()=>{this.updateTimeMarker()}),n,6e4,0,!1))),this.calendarElement.find(".fc-event-container").addClass("element-card-container")},eventRender:(t,a,s)=>{const o=i(a),c=t.raw;c.ui.courseColorClass&&o.addClass(c.ui.courseColorClass);const l=o.find(".fc-time");l.addClass("ellipsis");const d=o.find(".fc-title");this.isRtl&&d.before(l);const h=r(t.start),u=r(t.end),b=u.diff(h,"minutes"),p=this.localize.formatTimeSync(t.startMoment.toDate(),m.ILocaleTimeFormat.Short,this.scope),g=this.localize.formatTimeSync(t.endMoment.toDate(),m.ILocaleTimeFormat.Short,this.scope);if(R.MONTH.isEqualTo(this.scheduleView))l.text(c.isDueItem()?e:p);else if(R.DAY.isEqualTo(this.scheduleView)){o.addClass("element-card").addClass("tile"),Math.abs(u.diff(h,"hours",!0))<=.5&&o.addClass("event-short");const e=d.text();d.text(""),i("<a href></a>").text(e).appendTo(d),i("<span> </span>").appendTo(d);const t=this.localize.translateSync({locale:this.localize.getLocale(this.scope),key:"components.directives.calendar.format.timeSpan",params:{startTime:p,endTime:g},noWrap:!0,noEscape:!0});l.find("span").text(t),l.attr("data-start",p),l.attr("data-full",t),d.after(l);const a=i("<span></span>");if(n.hideCourseLink&&n.hideCourseLink()||(S.MetadataOnCalendarItemCardLinkType.Course===c.ui.linkType?(a.addClass("course-link"),a.append(i("<a href></a>")),a.children("a").text(c.ui.calendarName),a.children("a").attr("analytics-id","components.directives.calendar.openItemFromCalendar"),a.children("a").on("click",(e=>{e.preventDefault(),this.state.goPeekState("course.outline",{courseId:c.calendarId})}))):(a.addClass("calendar-item-metadata"),a.append(i("<span></span>")),a.children("span").text(c.ui.calendarName)),a.addClass("ellipsis")),c.isConditionalRelease()&&o.addClass("conditionalRelease-item"),this.allowClick(c)||o.addClass(".element-card").addClass("disable-click"),c.isDueItem()){o.addClass("due-item");const e=i('<div class="element-image"></div>');this.calendar.getCalendarItemIcon(c).then((t=>{e.append(this.$compile(`<bb-ui-content-icon icon="'${t}'" color="primary"></bb-ui-content-icon>`)(this.scope))})),e.appendTo(o),l.remove();const t=this.localize.translateSync({locale:this.localize.getLocale(this.scope),key:"components.directives.calendar.format.dueTime",params:{startTime:p},noWrap:!0,noEscape:!0}),n=i('<div class="content fc-time"><span class="dueDate"></span></div>');if(n.find(".dueDate").text(t),a.text().length>0){const e=i('<span class="calendarName"></span>');e.append(a),n.append(e),n.find(".calendarName").before(" ∙ ")}n.appendTo(o.find(".fc-content"))}else{a.text().length>0&&(l.children("span").after(a),l.children("span").last().before(" ∙ "));const e=i('<div class="fc-location"></div>');b>60?e.addClass("fc-location-wrap"):e.addClass("ellipsis");const t=this.$compile(`<bb-linkify-text plain-text="${c.location}" analytics-id-tag-prefix="calendar.item.location"></bb-linkify-text>`)(this.scope);e.append(t),t.children().first().children("a").on("click",(e=>{e.stopPropagation()})),l.after(e)}}l.wrapInner(i("<bdi/>")),d.wrapInner(i("<bdi/>"))},eventAfterAllRender:e=>{this.isLoading=!1,this.isMonthView()&&this.calendarElement.find(".fc-monthWithoutDD-view .fc-more").each(((e,t)=>{const n=i(t),a=n.text();i('<span class="fc-more">').text(a).replaceAll(n)}))},eventResize:this.eventResizeCallback,eventDrop:this.eventDropCallback}),this.resizeCalendar(),x.b.OnWindow("resize",(()=>this.resizeCalendar()),n),x.b.OnWindow("resize",D,n),i("#month-scroll").on("scroll",f),n.$on("$destroy",(()=>{this.calendarElement.fullCalendar("destroy"),i("#month-scroll").off("scroll",f)}))}))}),n,0,!0))),n.$watch("calendar.view",(()=>{v(),P.Schedule.isEqualTo(this.view)&&this.calendarElement&&p((()=>{this.calendarElement.fullCalendar("render"),this.calendarElement.fullCalendar("rerenderEvents")}),n,0,!0),P.Deadline.isEqualTo(this.view)&&(this.scope.currentViewDate=this.scope.currentDeadlineViewDate.clone().startOf("day")),this.timeout((()=>this.resizeCalendar()),this.scope,0)})),n.$watch("calendar.scheduleView",(()=>{v(),this.calendarElement&&(this.calendarElement.fullCalendar("changeView",R.DAY.isEqualTo(this.scheduleView)?B.AGENDA_DAY.toString():B.MONTH.toString()),this.view=P.Schedule.toString());for(let e=0;e<this.scheduleViewDropDownValues.length;e++)if(this.scheduleViewDropDownValues[e].value===this.scheduleView){this.scheduleViewSelectedDropDown=this.scheduleViewDropDownValues[e];break}this.timeout((()=>this.resizeCalendar()),this.scope,0)})),n.$watch("calendar.scheduleViewSelectedDropDown",(e=>{e&&(this.scheduleView=e.value,R.MONTH.isEqualTo(this.scheduleView)&&(this.refreshMonthsInSmallMonthView(),this.timeout((()=>D(1)),n,100)))})),n.$watch("currentViewDate.format()",(()=>{this.calendarElement&&(this.isLoading=!0,this.calendarElement.fullCalendar("gotoDate",n.currentViewDate.toDate())),this.allDayEventsInCurrentDay=this.getAllDayEventsByDate(n.currentViewDate),this.refreshDaysInWeek(),this.$q.when(this.refreshDaysInMonth()).then((()=>{this.refreshMonthsInSmallMonthView(),this.timeout((()=>D(1)),n,100)}))})),n.$watch("currentDeadlineViewDate.format()",(()=>{this.isDeadlineView()&&(this.scope.currentViewDate=this.scope.currentDeadlineViewDate.clone().startOf("day"))})),n.$on("calendar-refresh",(()=>this.refreshEvents()))}setView(e){switch(e){case P.Deadline:this.openDeadlineView();break;case P.Schedule:default:this.openScheduleView()}}resizeCalendar(){const e=(new Date).getTime();this.lastResizeTime&&e-this.lastResizeTime<200||(this.lastResizeTime=e,this.scope.$broadcast("deadline-resize"),this.updateTimeMarker())}updateTimeMarker(){if(!this.calendarElement)return;const e=this.calendarElement.find(".time-marker");if(!e.length)return;if(!this.isDayView()||!this.isViewingToday())return void e.hide();const t=this.calendarElement.find(".fc-time-grid").outerHeight(),n=e.outerHeight(),a=t*(r(this.context.getServerTime()).unix()-this.today.unix())/86400-n/2,i=this.localize.formatTimeSync(this.context.getServerTime(),m.ILocaleTimeFormat.Short,this.scope);e.find("div span").text(i),e.css({top:a+"px"}).show()}insertTimeMarker(){if(this.calendarElement.find(".time-marker").length)return;const e=this.calendarElement.find(".fc-time-grid");e.length&&i('<div class="time-marker"><div><span></span></div>').hide().appendTo(e)}_loadDayAxisTexts(){const e=new m.ILocaleTimeFormat(this.localize.getTimePatternSync()[0],m.LocaleCategory.Skeleton),t=this.today.clone();for(let n=0;n<24;n++){const a=t.clone().add({hours:n}).toDate();this.dayAxisTexts.push(this.localize.formatTimeSync(a,e,this.scope))}}updateDayAxisTexts(){if(!this.isDayView())return;const e=this.calendarElement.find(".fc-agendaDay-view .fc-time-grid .fc-slats .fc-axis.fc-time span"),t=Math.min(this.dayAxisTexts.length,e.length);for(let n=0;n<t;n++)i(e[n]).text(this.dayAxisTexts[n]);this.calendarElement.find(".fc-agendaDay-view .fc-time-grid .fc-slats .fc-axis.fc-time").width("");this.calendarElement.fullCalendar("getView").updateWidth()}loadWeekdayTexts(){const e=this.today.clone().subtract({days:this.today.day()});for(let t=0;t<7;t++){const n=e.clone().add({days:t}).toDate();this.weekdayTexts.push({wide:this.localize.formatDateSync(n,m.ILocaleDateFormat.LongWeekday,this.scope),abbreviated:this.localize.formatDateSync(n,m.ILocaleDateFormat.MediumWeekday,this.scope),narrow:this.localize.formatDateSync(n,m.ILocaleDateFormat.ShortWeekday,this.scope)})}this.setWeekDay(this.weekdayTexts)}setWeekDay(e){let t=this.scope.firstDayOfWeek;for(;t--;){const t=e.shift();this.weekdayTexts.push(t)}}updateWeekdayTexts(){if(!this.isMonthView())return;const e=this.calendarElement.find(".fc-monthWithoutDD-view th.fc-day-header"),t=this.isRtl?this.weekdayTexts.slice().reverse():this.weekdayTexts,n=Math.min(t.length,e.length);for(let a=0;a<n;a++){const n=i(e[a]).text("");n.append('<span class="weekday-text"></span>'),n.find(".weekday-text").text(t[a].abbreviated)}}updateDateHtml(){if(!this.isMonthView())return;const e=this.calendarElement.find(".fc-day-number");for(let t=0;t<e.length;t++){const n=i(e[t]),a=Number.parseInt(n.text(),10),s=this.localize.formatNumberSync(a,this.scope);n.html(`<span>${s}</span>`)}}refreshDaysInWeek(){const e=this.getFirstDay();if(this.datesInCurrentWeek.length&&e.isSame(this.datesInCurrentWeek[0]))return;const t=e.clone().add({weeks:1});this.datesInCurrentWeek=[],this.datesInCurrentWeekDayTexts.clear();let n=e;for(;n.isBefore(t);){const e=this.localize.formatNumberSync(n.date(),this.scope);this.datesInCurrentWeekDayTexts.set(n,e),this.datesInCurrentWeek.push(n),n=n.clone().add({days:1})}}getDateInCurrentWeekDayText(e){var t;return null!==(t=this.datesInCurrentWeekDayTexts.get(e))&&void 0!==t?t:e.date()}getFirstDay(){let e=this.scope.currentViewDate.day()-this.scope.firstDayOfWeek;return e<0&&(e=7+e),this.scope.currentViewDate.clone().subtract({days:e})}refreshDaysInMonth(){const e=this.scope.currentViewDate.clone().startOf("month");if(this.datesInCurrentMonth.length&&e.isSame(this.datesInCurrentMonth[0]))return;const t=e.clone().add({months:1});this.datesInCurrentMonth=[];let n=e;for(;n.isBefore(t);)this.datesInCurrentMonth.push(n),n=n.clone().add({days:1})}getDaysInMonth(e){const t=e.clone().startOf("month"),n=t.clone().add({months:1}),a=[];let i=t;for(;i.isBefore(n);)a.push(i),i=i.clone().add({days:1});return a}refreshMonthsInSmallMonthView(){this.monthsInSmallMonthView=[],this.monthsInSmallMonthView.push(this.datesInCurrentMonth)}getTimeBasedPagingQueryOptions(e,t){const n=e.clone().subtract({days:e.day()});let a=t.clone();return t.day()&&(a=a.subtract({days:t.day()}).add({days:7})),{since:n.toDate().toISOString(),until:a.toDate().toISOString()}}onEventObjectUpdated(e,t,n){e.editable=!1,e.durationEditable=!1,n?e.endMoment=r(e.end):(e.startMoment.add(t),e.endMoment.add(t));const a=e.startMoment.toDate(),i=e.endMoment.toDate();return e.raw.$action((()=>this.scope.onItemTimeUpdate(e.raw,a,i).then((()=>{e.raw.startDate=a,e.raw.endDate=i,this.scope.$broadcast("calendar-refresh")})))).$asPromise()}getScheduleItemSignatures(){return this.scope.scheduleItemSource&&this.scope.scheduleItemSource.length?this.scope.scheduleItemSource.map((e=>{const t=N.map((t=>this.getItemPropertyString(e,t))).join("`");return this.getScheduleItemKeySignature(e)+"|"+Object(O.a)(t)})):[]}getScheduleItemKeySignature(e){return this.getItemPropertyString(e,"itemSourceType")+""+this.getItemPropertyString(e,"itemSourceId")}getItemPropertyString(e,t){return t.split(".").forEach((t=>{null==(e=e[t])&&(e="")})),s.isDate(e)?e.toUTCString():e.toString()}refreshScheduleItems(){const e=this.getScheduleItemSignatures(),t=[],n=Object.keys(this.keyToValueCache);e.forEach((e=>{const a=e.indexOf("|"),i=e.substring(0,a),s=e.substring(a+"|".length);if(i in this.keyToValueCache){const e=n.indexOf(i);-1!==e&&n.splice(e,1);s!==this.keyToValueCache[i]&&(t.push(i),this.keyToValueCache[i]=s)}else t.push(i),this.keyToValueCache[i]=s})),this.removeEventObjects(n);const a={};this.scope.scheduleItemSource&&this.scope.scheduleItemSource.forEach((e=>{a[this.getScheduleItemKeySignature(e)]=e})),t.forEach((e=>{this.refreshEventObjects(a[e])})),this.dateCache.sort(),this.allDayEventsInCurrentDay=this.getAllDayEventsByDate(this.scope.currentViewDate)}updateScheduleItems(e,t){this.fetchRangeStart&&this.fetchRangeEnd&&this.fetchRangeStart.isBefore(e)&&this.fetchRangeEnd.isAfter(t)&&!this.forceRefetch||(this.forceRefetch=!1,this.isLoading=!0,this.scope.scheduleItemSource.$refresh({since:e.clone().toDate().toISOString(),until:t.clone().toDate().toISOString()}).$then((e=>this.calendar.mixinColorIndexToCalendarItems(e,this.currentUser.userId).then((e=>this.calendar.mixinMetadataToCalendarItems(e,this.localize.getLocale(this.scope)))))).$then((n=>{this.fetchRangeStart=e.clone(),this.fetchRangeEnd=t.clone(),this.refreshScheduleItems()})).$always((()=>{this.isLoading=!1})))}removeEventObjects(e){for(let t=this.events.length-1;t>=0;t--){const n=this.events[t],a=this.getScheduleItemKeySignature(n.raw);-1!==e.indexOf(a)&&(this.events.splice(t,1),this.dateCache.removeEventObject(n))}e.forEach((e=>{delete this.keyToFullCalendarEvents[e],delete this.keyToValueCache[e]}))}refreshEventObjects(e){const t=this.getScheduleItemKeySignature(e),n=this.keyToFullCalendarEvents[t]=this.keyToFullCalendarEvents[t]||[],a=(n.length&&n[0].raw.isAllDayEvent(),this.getSplitTimeByDay(e.startDate,e.endDate)),i=n.length,s=a.length;for(let t=0,o=Math.min(i,s);t<o;t++){const i=n[t],s=i.startMoment;this.updateEventObject(i,e,a[t]),(a.length>1||this.isOnTouchDevice)&&(i.editable=!1,i.durationEditable=!1),this.dateCache.updateEventObject(i,s)}if(s>i)for(let t=i;t<s;t++){const i={id:(W++,"event-"+W),raw:null,start:null,startMoment:null,title:null};this.updateEventObject(i,e,a[t]),(a.length>1||this.isOnTouchDevice)&&(i.editable=!1,i.durationEditable=!1),n.push(i),this.events.push(i),this.dateCache.updateEventObject(i)}else if(i>s){for(let e=i-1;e>=s;e--){const t=n[e],a=this.events.indexOf(t);-1!==a&&(this.events.splice(a,1),this.dateCache.removeEventObject(t))}n.splice(s)}}enlargeEventViewTime(e,t){let n=r(e).add({hours:t});const a=r(e).startOf("day").add({days:1});return a.diff(n)<0&&(n=a),{start:n.clone().subtract({hours:t}),end:n}}getSplitTimeByDay(e,t){let n=r(e);const a=r(t);let i=n.clone().startOf("day").add({days:1});if(!a.isAfter(i))return[{start:n,end:a}];const s=[];for(;!i.isAfter(a);)s.push({start:n,end:i}),n=i,i=n.clone().add({days:1});return s.push({start:n,end:a}),s}updateEventObject(e,t,n){e.raw=t,e.allDay=t.isAllDayEvent(),e.startMoment=n.start,e.endMoment=n.end,e.title=this.getItemTitle(t),e.editable=t.permissions&&t.permissions.edit,e.durationEditable=!t.disableResizing&&e.editable;const a=this.getEventViewTime(n,e.raw.isDueItem());e.start=a.start.toDate(),e.end=a.end.toDate()}getItemTitle(e){return this.calendar.getCalendarItemTitle(e,this.localize.getLocale(this.scope))}getEventViewTime(e,t){let n={start:this.roundBackward(e.start),end:this.roundForward(e.end)};return t&&(n=this.enlargeEventViewTime(n.start.toDate(),1)),n}roundBackward(e){return this.roundTime(e,0)}roundForward(e){return this.roundTime(e,1)}roundTime(e,t){if((e=e.clone().startOf("minute")).minutes()%30){const n=30*Math.floor(e.minutes()/30+t);e.minutes(n)}return e}convertToLocaleTime(e){const t=r(this.context.getServerTime()).startOf("day");return t.year(e.year()).month(e.month()).date(e.date()),t}transitionToDayView(){if(this.view!==P.Schedule.toString()||this.scheduleView!==R.DAY.toString())if(this.scope.currentViewDate.isSame(this.today,"month"))this.openDateInDayView(this.today);else{const e=this.scope.currentViewDate.clone();e.date(1),this.openDateInDayView(e)}}openDateInDayView(e){this.gotoDate(e),this.openDayView()}openDayView(){this.view=P.Schedule.toString(),this.scheduleView=R.DAY.toString()}isDayView(){return this.view===P.Schedule.toString()&&R.DAY.isEqualTo(this.scheduleView)}openMonthView(){this.view=P.Schedule.toString(),this.scheduleView=R.MONTH.toString()}isMonthView(){return this.view===P.Schedule.toString()&&R.MONTH.isEqualTo(this.scheduleView)}isMonthViewActive(){return R.MONTH.isEqualTo(this.scheduleView)}openScheduleView(){this.view=P.Schedule.toString()}openDeadlineView(){this.view!==P.Deadline.toString()&&this.scrollToDueDateItem(this.scope.currentViewDate.toDate())}isDeadlineView(){return P.Deadline.isEqualTo(this.view)}gotoDate(e){this.scope.currentViewDate=this.convertToLocaleTime(e)}gotoToday(){this.scope.currentViewDate=this.today.clone(),this.isDeadlineView()&&this.scrollToDueDateItem(this.today.toDate())}isViewingToday(){return this.scope.currentViewDate.isSame(this.today)}isTodayInCurrentMonth(){return this.scope.currentViewDate.isSame(this.today,"month")}isInactiveMonth(e){return this.scope.currentViewDate.year()!==e.year()||this.scope.currentViewDate.month()!==e.month()}gotoPreviousWeek(){this.scope.currentViewDate.subtract({weeks:1})}gotoNextWeek(){this.scope.currentViewDate.add({weeks:1})}gotoPreviousMonth(){this.scope.currentViewDate.subtract({months:1})}gotoNextMonth(){this.scope.currentViewDate.add({months:1})}loadPreviousMonth(){if(this.monthsInSmallMonthView&&this.monthsInSmallMonthView.length){const e=this.monthsInSmallMonthView[0][0].clone().subtract({months:1}),t=this.getDaysInMonth(e);this.monthsInSmallMonthView.unshift(t),this.updateScheduleItems(t[0].clone().subtract({days:1}),this.fetchRangeEnd)}}loadNextMonth(){if(this.monthsInSmallMonthView&&this.monthsInSmallMonthView.length){const e=this.monthsInSmallMonthView.length-1,t=this.monthsInSmallMonthView[e][0].clone().add({months:1}),n=this.getDaysInMonth(t);this.monthsInSmallMonthView.push(n),this.updateScheduleItems(this.fetchRangeStart,n[n.length-1].clone().add({days:1}))}}getScheduledItemsLocaleKeyForDay(e){return 3===(this.getEventObjectsByDate(e,3).length||0)?"components.directives.calendar.ariaLabel.scheduledItemsThreeOrMore":"components.directives.calendar.ariaLabel.scheduledItems.plural"}getEventObjectsByDate(e,t){let n=this.dateCache.getEventObjectsByDate(e);return null!=t&&t<n.length&&(n=n.slice(0,t)),n}getEventObjectCountsByDate(e){return this.dateCache.getEventObjectsByDate(e).length}getAllDayEventsByDate(e){return this.getEventObjectsByDate(e).filter((e=>e.raw.isAllDayEvent()))}getDueEventObjectCountsByDate(e){return this.dateCache.getEventObjectsByDate(e).filter((e=>e.raw.isDueItem())).length}refreshEvents(){this.calendarElement&&(this.forceRefetch=!0,this.isDeadlineView()||this.calendarElement.fullCalendar("refetchEvents"))}scrollToDueDateItem(e){this.scope.$broadcast("deadline-scroll",e),this.view="deadline"}shouldShowToday(){return this.isDayView()&&!this.isViewingToday()||this.isMonthView()&&!this.isTodayInCurrentMonth()||this.isDeadlineView()&&!this.scope.isDeadlineEmpty}};H=Object(a.a)([Object(a.c)(0,Object(y.b)("$compile")),Object(a.c)(1,Object(y.b)("$q")),Object(a.c)(2,Object(y.b)("scope")),Object(a.c)(3,Object(y.b)("element")),Object(a.c)(4,Object(y.b)("attrs")),Object(a.c)(5,Object(y.b)(b.b)),Object(a.c)(6,Object(y.b)(p.b)),Object(a.c)(7,Object(y.b)(g.b)),Object(a.c)(8,Object(y.b)(T.b)),Object(a.c)(9,Object(y.b)(m.serviceName)),Object(a.c)(10,Object(y.b)(v.b)),Object(a.c)(11,Object(y.b)(V.d)),Object(a.c)(12,Object(y.b)(d.b))],H);class Y{constructor(e){this.$injector=e,this.restrict="E",this.template=j,this.scope={scheduleItemSource:"=",dueDateItemSource:"=",hideCourseLink:"&?",viewCalendarItem:"=?",onItemTimeUpdate:"=",currentViewDate:"=?",calendarView:"=?view",showMonthViewGuidance:"=",showAllCoursesMonthViewGuidance:"=?",showOneCourseMonthViewGuidance:"=?",guidancePageContainerSelector:"&?",showCreateEntry:"<?",firstDayOfWeek:"<?"},this.link=(e,t,n)=>{e.calendar=this.$injector.instantiate(H,{scope:e,element:t,attrs:n})}}}Y.$inject=["$injector"],s.module($,[b.a,l.a,p.a,C.a,g.a,D,T.a,m.moduleName,v.a,d.a,V.b,M.a]).directive("bbCalendar",["$injector",e=>e.instantiate(Y)])},F2PN:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("BY8f");const s="ultra.components.directives.bbUiIcon.large.Journal";Object(a.a)(i.a,s,"bbUiIconLargeJournal")},FH9J:function(e,t){e.exports='<div ng-switch="$ctrl.icon">\n  <bb-ui-icon-large-assignments ng-switch-when="assignment" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-assignments>\n  <bb-ui-icon-large-attendance ng-switch-when="attendance" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-attendance>\n  <bb-ui-icon-large-blog ng-switch-when="blog" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-blog>\n  <bb-ui-icon-large-calculation ng-switch-when="calculation" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-calculation>\n  <bb-ui-icon-large-discussion ng-switch-when="discussion" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-discussion>\n  <bb-ui-icon-large-document-blank ng-switch-when="document-blank" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-document-blank>\n  <bb-ui-icon-large-document-cloud ng-switch-when="document-cloud" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-document-cloud>\n  <bb-ui-icon-large-document-text ng-switch-when="document-text" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-document-text>\n  <bb-ui-icon-large-folder ng-switch-when="folder|folder-open" ng-switch-when-separator="|" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-folder>\n  <bb-ui-icon-large-homework ng-switch-when="homework" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-homework>\n  <bb-ui-icon-large-photo ng-switch-when="photo" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-photo>\n  <bb-ui-icon-large-journal ng-switch-when="journal" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-journal>\n  <bb-ui-icon-large-learning-module ng-switch-when="learning-module" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-learning-module>\n  <bb-ui-icon-large-link ng-switch-when="link" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-link>\n  <bb-ui-icon-large-lti ng-switch-when="lti" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-lti>\n  <bb-ui-icon-large-overall-grade ng-switch-when="overall-grade" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-overall-grade>\n  <bb-ui-icon-large-pdf ng-switch-when="pdf" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-pdf>\n  <bb-ui-icon-large-presentation ng-switch-when="presentation" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-presentation>\n  <bb-ui-icon-large-scormengine ng-switch-when="scormengine" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-scormengine>\n  <bb-ui-icon-large-spreadsheet ng-switch-when="spreadsheet" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-spreadsheet>\n  <bb-ui-icon-large-survey ng-switch-when="survey" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-survey>\n  <bb-ui-icon-large-test ng-switch-when="test|quiz|exam" ng-switch-when-separator="|" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-test>\n  <bb-ui-icon-large-textbook ng-switch-when="textbook" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-textbook>\n  <bb-ui-icon-large-video ng-switch-when="video" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-video>\n  <bb-ui-icon-large-audio ng-switch-when="audio" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-audio>\n  <bb-ui-icon-large-zip ng-switch-when="zip" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-zip>\n  <bb-ui-icon-large-collaborative-cloud ng-switch-when="collaborative-cloud" color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-collaborative-cloud>\n  <bb-ui-icon-large-document-blank ng-switch-default color="{{$ctrl.color}}" title-access="{{$ctrl.titleAccess}}"></bb-ui-icon-large-document-blank>\n</div>\n'},"P/1j":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("36Bh");const s="ultra.components.directives.bbUiIcon.large.Link";Object(a.a)(i.a,s,"bbUiIconLargeLink")},X4V6:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("Ul6e");const s="ultra.components.directives.bbUiIcon.large.Spreadsheet";Object(a.a)(i.a,s,"bbUiIconLargeSpreadsheet")},Xc1Q:function(e,t,n){var a=n("ziER"),i=n("5JeM"),s=new a({id:"icon-small-arrow-down",use:"icon-small-arrow-down-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-arrow-down"><path d="M1 4l7 7 7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},ckcj:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("69Wd");const s="ultra.components.directives.bbUiIcon.large.Assignments";Object(a.a)(i.a,s,"bbUiIconLargeAssignments")},"dha+":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("13AT");const s="ultra.components.directives.bbUiIcon.large.Lti";Object(a.a)(i.a,s,"bbUiIconLargeLti")},k12r:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("SBxA");const s="ultra.components.directives.bbUiIcon.large.Survey";Object(a.a)(i.a,s,"bbUiIconLargeSurvey")},kuNy:function(e,t){e.exports='<div class="deadline-list">\n  <div ng-show="isEmpty" class="calendar-nothing-due">\n    <img class="" src="./static/images/ftue/calendar-empty-state.svg" alt=" " role="presentation" />\n    <p class="calendar-nothing-due-msg">\n      <span class="calendar-nothing-due-headline" bb-translate>components.directives.calendar.emptyDeadlinesHeading</span>\n      <br>\n      <span class="calendar-nothing-due-subheadline" bb-translate>components.directives.calendar.emptyDeadlinesSubHeading</span>\n    </p>\n  </div>\n  <div class="deadlines" ng-hide="isEmpty">\n    <div class="scroll-container">\n      <div bb-scroll scroll-down-load="deadlines.loadMoreDown()" scroll-up-load="deadlines.loadMoreUp()" scroll-parent="true">\n        <div class="due text-center progressive-load" ng-show="deadlines.isLoadingUp">\n          <div class="spinner bb-secondary-color-2"></div>\n        </div>\n        <div id="{{deadlines.getDeadlinesItemId(deadlinesItem.date)}}"\n             ng-repeat="deadlinesItem in deadlines.deadlinesItems track by deadlines.getDateTrackString(deadlinesItem.date)">\n          <div class="date-container">\n            <h2 class="due-date">\n              <bb-translate ng-if="::deadlines.isSameDay(deadlinesItem.date, deadlines.today)">components.directives.calendar.navigation.today</bb-translate>\n              <div bb-date="{{deadlinesItem[0].endDate}}" format="LongWeekday" ng-if="::!deadlines.isSameDay(deadlinesItem.date, deadlines.today)"></div>\n              <span>&nbsp;-&nbsp;<bb-date format="long">deadlinesItem.date</bb-date></span>\n            </h2>\n          </div>\n          <div class="due-item-block" ng-show="deadlinesItem.length !== 0">\n            <div class=" element-card-container deadline-course">\n              <div class="element-card due-item  element-card-deadline {{dueDateItem.ui.courseColorClass}}"\n                   ng-class="::{\'disable-click\': !deadlines.allowClick(dueDateItem)}"\n                   ng-repeat="dueDateItem in deadlinesItem track by dueDateItem.itemSourceId">\n                <div class="element-image">\n                  <bb-ui-content-icon icon="deadlines.dueDateCalendarItemIcons[dueDateItem.itemSourceId]" color="primary"></bb-ui-content-icon>\n                </div>\n                <div class="element-details">\n                  <div class="name" ng-class="{\'isConditionalRelease\': dueDateItem.isConditionalRelease()}">\n                    \x3c!-- htmlhint:analytics-id:disable --\x3e\n                    <a href="javascript:void(0);"\n                       ng-click="viewDueDateItem(dueDateItem)"\n                       bb-prevent-click-if="dueDateItem.isConditionalRelease()"\n                       analytics-id="components.directives.calendar.deadlines.navigation.openDueDateItem">\n                      {{::deadlines.getItemTitle(dueDateItem)}}\n                    </a>\n                    \x3c!-- htmlhint:analytics-id:enable --\x3e\n                  </div>\n                  <div class="content">\n                    <span>{{deadlines.getFormatEndDate(dueDateItem.endDate)}}</span>\n                    <span ng-if="!(hideCourseLink && hideCourseLink())"> ∙ </span>\n                    \x3c!-- htmlhint:analytics-id:disable --\x3e\n                    <a bb-peek-sref="course.outline({courseId:dueDateItem.calendarId})"\n                      ng-if="!(hideCourseLink && hideCourseLink())"\n                      ng-class="::{\'disable-click\': !deadlines.allowClick(dueDateItem)}"\n                      analytics-id="components.directives.calendar.deadlines.navigation.openCourseOutline">\n                      {{dueDateItem.ui.calendarName}}\n                    </a>\n                    \x3c!-- htmlhint:analytics-id:enable --\x3e\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class="due text-center progressive-load" ng-show="deadlines.isLoadingDown">\n          <div class="spinner bb-secondary-color-2"></div>\n        </div>\n        \x3c!-- Make the height of deadline items part big enough to show scroll bar --\x3e\n        <div class="deadline-foot"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'},mCEN:function(e,t,n){"use strict";var a=n("D57K"),i=n("yC9S"),s=n("aHpC"),o=n("0JpG"),c=n("ckcj"),r=n("zYa8"),l=n("me+T");const d="ultra.components.directives.bbUiIcon.large.Attendance";Object(r.a)(l.a,d,"bbUiIconLargeAttendance");var h=n("pWJj"),u=n("cXGx");const m="ultra.components.directives.bbUiIcon.large.Calculation";Object(r.a)(u.a,m,"bbUiIconLargeCalculation");var b=n("o/Pg"),p=n("MlM1");const g="ultra.components.directives.bbUiIcon.large.DocumentBlank";Object(r.a)(p.a,g,"bbUiIconLargeDocumentBlank");var v=n("06yj"),w=n("xMZ0"),y=n("rRc3"),f=n("K16Q");const D="ultra.components.directives.bbUiIcon.large.Homework";Object(r.a)(f.a,D,"bbUiIconLargeHomework");var I=n("r7jL");const k="ultra.components.directives.bbUiIcon.large.Photo";Object(r.a)(I.a,k,"bbUiIconLargePhoto");var C=n("F2PN"),S=n("9V5A"),T=n("P/1j"),V=n("dha+"),x=n("y8aX");const O="ultra.components.directives.bbUiIcon.large.OverallGrade";Object(r.a)(x.a,O,"bbUiIconLargeOverallGrade");var L=n("i+uu");const E="ultra.components.directives.bbUiIcon.large.Pdf";Object(r.a)(L.a,E,"bbUiIconLargePdf");var M=n("k6dK");const j="ultra.components.directives.bbUiIcon.large.Presentation";Object(r.a)(M.a,j,"bbUiIconLargePresentation");var $=n("7zkF"),A=n("X4V6"),z=n("4uUs"),U=n("59Vg"),W=n("Uw7Y");const P="ultra.components.directives.bbUiIcon.large.Video";Object(r.a)(W.a,P,"bbUiIconLargeVideo");var R=n("FvSu");const B="ultra.components.directives.bbUiIcon.large.Audio";Object(r.a)(R.a,B,"bbUiIconLargeAudio");var N=n("jT78"),F=n("k12r"),H=n("xDwL");const Y="ultra.components.directives.bbUiIcon.large.Participation";Object(r.a)(H.a,Y,"bbUiIconLargeParticipation");var q=n("IL+z");const G="ultra.components.directives.bbUiIcon.large.CollaborativeCloud";Object(r.a)(q.a,G,"bbUiIconLargeCollaborativeCloud");var J=n("FH9J");n.d(t,"a",(function(){return K}));const K="ultra.components.directives.bbUiContentIcon";let _=class{constructor(e,t){this.$scope=e,this.localize=t}$onChanges(){this.setTitleAccess()}setTitleAccess(){this.notDecorative&&this.icon&&(this.titleAccess=this.localize.translateSync({key:`components.directives.element-image.element-image-accessibility.img-icon-${this.icon}`,locale:this.localize.getLocale(this.$scope)}))}};_=Object(a.a)([Object(i.a)({moduleName:K,componentName:"bbUiContentIcon",bindings:{icon:"<",color:"@?",notDecorative:"<?"},template:J,requireModules:[o.moduleName,b.a,c.a,d,B,h.a,m,b.a,g,v.a,w.a,y.a,D,C.a,S.a,T.a,V.a,O,E,k,j,$.a,A.a,z.a,U.a,P,N.a,F.a,Y,G]}),Object(a.c)(0,Object(s.b)("$scope")),Object(a.c)(1,Object(s.b)(o.serviceName))],_)},nLcF:function(e,t){e.exports='<div bb-load-bundle="components/directives/calendar">\n  <div id="calendar-wrapper" class="calendar-wrapper" ng-class="{\'calendar-month-view\': calendar.isMonthView(), \'calendar-day-view\': calendar.isDayView(), \'calendar-overflow\': calendar.calendarOverflow, \'calendar-deadline-view\': calendar.view === \'deadline\'}">\n    <div class="calendar-head-container">\n      <div class="calendar-head guidance-wrapper guidance-wrapper-inline">\n        <div class="row collapse padded">\n          <div class="small-7 large-4 columns switch-toggle-wrapper">\n            \x3c!-- TOGGLE (SCHEDULE/DUE DATES) --\x3e\n            \x3c!-- TODO: The following button-group needs to be reworked for V2 to align with HTML/CSS structure found within Course Gradebook --\x3e\n            <ul class="button-group radius calendar-toggle schedule-due">\n              <li>\n                <button aria-controls="viewHeader"\n                        class="small left-button button"\n                        id="{{idPrefix}}-schedule"\n                        ng-class="{\'active-switch\': calendar.view === \'schedule\'}"\n                        bb-translate\n                        ng-click="calendar.openScheduleView()"\n                        bb-translate-attrs="{\'aria-label\':\n                          {{calendar.view === \'schedule\'}} ?\n                          \'components.directives.calendar.ariaLabel.viewSwitch.scheduleSelected\' :\n                          \'components.directives.calendar.ariaLabel.viewSwitch.schedule\',\'title\':\n                          {{calendar.view === \'schedule\'}} ?\n                          \'components.directives.calendar.ariaLabel.viewSwitch.scheduleSelected\' :\n                          \'components.directives.calendar.ariaLabel.viewSwitch.schedule\'}"\n                        analytics-id="components.directives.calendar.viewSwitch.schedule">\n                  components.directives.calendar.viewSwitch.schedule\n                </button>\n              </li>\n              <li>\n                <button aria-controls="deadlineContainer"\n                        class="small right-button button js-viewSwitch-deadline-button"\n                        id="{{idPrefix}}-deadline"\n                        ng-class="{\'active-switch\': calendar.view === \'deadline\'}"\n                        bb-translate\n                        ng-click="calendar.openDeadlineView()"\n                        bb-translate-attrs="{\'aria-label\':\n                          {{calendar.view === \'deadline\'}} ?\n                          \'components.directives.calendar.ariaLabel.viewSwitch.deadlineSelected\' :\n                          \'components.directives.calendar.ariaLabel.viewSwitch.deadline\',\n                          \'title\':\n                          {{calendar.view === \'deadline\'}} ?\n                          \'components.directives.calendar.ariaLabel.viewSwitch.deadlineSelected\' :\n                          \'components.directives.calendar.ariaLabel.viewSwitch.deadline\'}"\n                        analytics-id="components.directives.calendar.viewSwitch.deadline">\n                  components.directives.calendar.viewSwitch.deadline\n                </button>\n              </li>\n            </ul>\n          </div>\n          <div class="small-5 large-4 columns view-toggle-wrapper">\n            \x3c!-- TOGGLE (DAY/MONTH) --\x3e\n            <ul class="button-group radius calendar-toggle day-month"\n                ng-class="{\'no-margin-toggle\': !showCreateEntry}">\n              <li>\n                <button aria-controls="viewHeader"\n                        class="small left-button button"\n                        id="{{idPrefix}}-day"\n                        ng-class="{\'active-switch\': calendar.scheduleView === \'day\'}"\n                        ng-click="calendar.transitionToDayView()"\n                        component-key="calendar.monthView"\n                        bb-translate bb-translate-attrs="{\'aria-label\':\n                          {{calendar.scheduleView === \'day\'}} ? \'components.directives.calendar.ariaLabel.daySelected\' : \'components.directives.calendar.ariaLabel.day\',\n                          \'title\':\n                          {{calendar.scheduleView === \'day\'}} ? \'components.directives.calendar.ariaLabel.daySelected\' : \'components.directives.calendar.ariaLabel.day\'}"\n                        analytics-id="components.directives.calendar.day">\n                  components.directives.calendar.day\n                </button>\n              </li>\n              <li>\n                <button aria-controls="fullCalendar"\n                        class="small right-button button month-link js-calendar-month-button"\n                        id="{{idPrefix}}-month"\n                        ng-class="{\'active-switch\': calendar.scheduleView === \'month\'}"\n                        ng-click="calendar.openMonthView()"\n                        ng-model="calendar.scheduleView"\n                        bb-translate\n                        bb-translate-attrs="{\'aria-label\':\n                          {{calendar.scheduleView === \'month\'}} ?\n                          \'components.directives.calendar.ariaLabel.monthSelected\' : \'components.directives.calendar.ariaLabel.month\',\n                          \'title\':\n                          {{calendar.scheduleView === \'month\'}} ?\n                          \'components.directives.calendar.ariaLabel.monthSelected\' : \'components.directives.calendar.ariaLabel.month\'}"\n                        analytics-id="components.directives.calendar.month">\n                  components.directives.calendar.month\n                </button>\n              </li>\n            </ul>\n\n            <div class="calendar-toggle calendar-today-toggle" ng-show="calendar.shouldShowToday()">\n              <button aria-controls="calendar-wrapper"\n                      class="small right-button button today-toggle"\n                      ng-class="{\'no-margin-toggle\': !showCreateEntry}"\n                      ng-click="calendar.gotoToday()"\n                      bb-click-focus="#{{idPrefix}}-day"\n                      aria-selected="false"\n                      bb-translate\n                      bb-translate-attrs="{\'aria-label\':\n                          \'components.directives.calendar.ariaLabel.navigation.today\', \'title\':\'components.directives.calendar.ariaLabel.navigation.today\'}"\n                      analytics-id="components.directives.calendar.navigation.today">\n                components.directives.calendar.navigation.today\n              </button>\n            </div>\n            <div class="select-wrapper view-menu show-for-small-only" bb-guidance-target component-key="calendar.monthView">\n              <div class="select-value"><span>{{calendar.scheduleViewSelectedDropDown.localizedString}}</span></div>\n              <select id="calendar-views"\n                      name="calendar-views"\n                      bb-translate-attrs="{\'aria-label\':\'components.directives.calendar.views\'}"\n                      tabindex="0"\n                      ng-options="dropdown.localizedString for dropdown in calendar.scheduleViewDropDownValues"\n                      ng-model="calendar.scheduleViewSelectedDropDown"\n                      analytics-id="components.directives.calendar.scheduleViewSelected.select">\n              </select>\n            </div>\n          </div>\n        </div>\n        <bb-guidance id="guidance-moment-month-view" component-key="calendar.monthView" page-container-selector="{{guidancePageContainerSelector()}}" class="guidance-element-overlay" role="tooltip" ng-if="showMonthViewGuidance">\n          <div ng-if="showAllCoursesMonthViewGuidance"><bb-translate>components.directives.calendar.allCoursesMonthViewGuidance</bb-translate></div>\n          <div ng-if="showOneCourseMonthViewGuidance && showCreateEntry"><bb-translate course-org-token-resolver>\n            components.directives.calendar.oneCourseTeacherMonthViewGuidance\n          </bb-translate></div>\n          <div ng-if="showOneCourseMonthViewGuidance && !showCreateEntry"><bb-translate course-org-token-resolver>\n            components.directives.calendar.oneCourseStudentMonthViewGuidance\n          </bb-translate></div>\n        </bb-guidance>\n      </div>\n      <div class="month-container show-for-medium-up large-push-4 large-4  small-12 columns text-center">\n        <div class="month">\n          <button class="prev super-clear large icon left"\n                  ng-class="{\'in-month-view\': calendar.isMonthView()}"\n                  ng-click="calendar.gotoPreviousMonth()"\n                  ng-show="calendar.isMonthView()"\n                  bb-translate-attrs="{\'title\': \'components.directives.calendar.navigation.previousMonth\'}"\n                  analytics-id="components.directives.calendar.navigation.previousMonth.button">\n            <span class="sr-only" bb-translate>components.directives.calendar.navigation.previousMonth</span>\n            <bb-svg-icon icon="back-arrow" size="medium"></bb-svg-icon>\n          </button>\n          <h2>\n            <a class="js-course-skip-link-target"\n               href="javascript:void(0);"\n               ng-show="!calendar.isMonthView()"\n               ng-click="calendar.openMonthView()"\n               bb-guidance-target\n               component-key="calendar.monthView"\n               bb-date="{{currentViewDate.toDate()}}"\n               format="MonthAndYear"\n               auto-update="true"\n               aria-describedby="guidance-moment-month-view"\n               translate-attrs-values="{ date: currentViewDate.toDate() }"\n               analytics-id="components.directives.calendar.navigation.openMonthView.link">\n            </a>\n          </h2>\n          <h2>\n            <div class="month-link"\n                 bb-guidance-target\n                 component-key="calendar.monthView"\n                 ng-show="calendar.isMonthView()"\n                 bb-date="{{currentViewDate.toDate()}}"\n                 format="MonthAndYear"\n                 auto-update="true">\n            </div>\n          </h2>\n          <button class="next super-clear large icon right"\n                  ng-class="{\'in-month-view\': calendar.isMonthView()}"\n                  ng-click="calendar.gotoNextMonth()"\n                  ng-show="calendar.isMonthView()"\n                  bb-translate-attrs="{\'title\': \'components.directives.calendar.navigation.nextMonth\'}"\n                  analytics-id="components.directives.calendar.navigation.nextMonth.button">\n            <span class="sr-only" bb-translate>components.directives.calendar.navigation.nextMonth</span>\n            <bb-svg-icon icon="forward-arrow" size="medium"></bb-svg-icon>\n          </button>\n        </div>\n      </div>\n      <div class="row collapse week-carousel-container" ng-show="calendar.isDayView()">\n        <div class="columns large-12 week-carousel">\n          <div class="row collapse">\n            <div class="columns small-centered small-12 arrows">\n              <button class="prev super-clear large icon left"\n                      ng-click="calendar.gotoPreviousWeek()"\n                      bb-translate-attrs="{\'title\': \'components.directives.calendar.navigation.previousWeek\'}"\n                      analytics-id="components.directives.calendar.navigation.previousWeek.button">\n                <span class="sr-only" bb-translate>components.directives.calendar.navigation.previousWeek</span>\n                <bb-svg-icon icon="back-arrow" size="medium"></bb-svg-icon>\n              </button>\n              <button class="next super-clear large icon right"\n                      ng-click="calendar.gotoNextWeek()"\n                      bb-translate-attrs="{\'title\': \'components.directives.calendar.navigation.nextWeek\'}"\n                      analytics-id="components.directives.calendar.navigation.nextWeek.button">\n                <span class="sr-only" bb-translate>components.directives.calendar.navigation.nextWeek</span>\n                <bb-svg-icon icon="forward-arrow" size="medium"></bb-svg-icon>\n              </button>\n            </div>\n            <div class="columns small-12 large-8 medium-centered calendar-week-header" ng-class="{\'week-push\': calendar.isDayView() && !calendar.isViewingToday()}">\n              <button class="prev super-clear large icon left"\n                      ng-click="calendar.gotoPreviousWeek()"\n                      bb-translate-attrs="{\'title\': \'components.directives.calendar.navigation.previousWeek\'}"\n                      analytics-id="components.directives.calendar.navigation.previousWeek.button">\n                <span class="sr-only" bb-translate>components.directives.calendar.navigation.previousWeek</span>\n                <bb-svg-icon icon="back-arrow" size="medium"></bb-svg-icon>\n              </button>\n\n              <div class="calendar-week small-9">\n                <ul class="small-block-grid-7 days">\n                  <li ng-repeat="weekday in calendar.weekdayTexts">\n                    <span class="week-letter visible-for-large-up">{{weekday.narrow}}</span>\n                    <span class="week-letter visible-for-medium-only">{{weekday.narrow}}</span>\n                    <span class="week-letter visible-for-small-only">{{weekday.narrow}}</span>\n                  </li>\n                </ul>\n                \x3c!--these are not tabs and do not have the keyboard support--\x3e\n                <ul class="small-block-grid-7 days">\n                  <li class="week-day date" ng-repeat="day in calendar.datesInCurrentWeek">\n                    <button ng-class="{\'date-selected\': currentViewDate.isSame(day), \'inactive-month\': calendar.isInactiveMonth(day),\n                              \'fc-today\': calendar.today.isSame(day), \'js-yesterday\': calendar.yesterday.isSame(day)}"\n                            aria-describedby="{{\'day-id-\' + day.valueOf()}}"\n                            ng-click="calendar.gotoDate(day)"\n                            aria-controls="viewHeader"\n                            bb-translate-attrs="{\'aria-label\': {{currentViewDate.isSame(day)}} ? \'components.directives.calendar.ariaLabel.dayPickerSelected\' : \'components.directives.calendar.ariaLabel.dayPicker\',\n                              \'title\': {{currentViewDate.isSame(day)}} ? \'components.directives.calendar.ariaLabel.dayPickerSelected\' : \'components.directives.calendar.ariaLabel.dayPicker\'}"\n                            translate-attrs-values="{ date: day.toDate() }"\n                            analytics-id="{{currentViewDate.isSame(day) ? \'components.directives.calendar.ariaLabel.dayPickerSelected.button\' : \'components.directives.calendar.ariaLabel.dayPicker.\' + day.toDate().getDay() + \'.button\'}}">\n                      {{calendar.getDateInCurrentWeekDayText(day)}}\n                    </button>\n                  </li>\n                </ul>\n                <ul class="small-block-grid-7 days event-dots">\n                  <li class="week-day"\n                      ng-repeat="day in calendar.datesInCurrentWeek"\n                      ng-class="{\'current-day\': currentViewDate.isSame(day)}">\n                    <span class="sr-only" id="{{\'day-id-\' + day.valueOf()}}" bb-translate translate-values="{count: {{calendar.getEventObjectsByDate(day, 3).length || 0}}}">{{calendar.getScheduledItemsLocaleKeyForDay(day)}}</span>\n                    <span class="event-dot {{item.raw.ui.courseColorClass}}" ng-repeat="item in calendar.getEventObjectsByDate(day, 3)"></span>\n                  </li>\n                </ul>\n              </div>\n\n              <button class="next super-clear large icon right"\n                      ng-click="calendar.gotoNextWeek()"\n                      bb-translate-attrs="{\'title\': \'components.directives.calendar.navigation.nextWeek\'}"\n                      analytics-id="components.directives.calendar.navigation.nextWeek.button">\n                <span class="sr-only" bb-translate>components.directives.calendar.navigation.nextWeek</span>\n                <bb-svg-icon icon="forward-arrow" size="medium"></bb-svg-icon>\n              </button>\n\n            </div>\n          </div>\n\n        </div>\n      </div>\n     </div>\n    \x3c!-- For both day view and month view --\x3e\n    <div class="day-view-header" ng-show="calendar.isDayView()" id="viewHeader">\n      <span class="show-calendar-date-long" bb-date="{{currentViewDate.toDate()}}" format="Long" auto-update="true"></span>\n      <span class="show-calendar-date-medium" bb-date="{{currentViewDate.toDate()}}" format="Medium" auto-update="true"></span>\n      <a href="javascript:void(0);"\n         class="button button--secondary small today-button round"\n         ng-show="!calendar.isViewingToday()"\n         ng-click="calendar.gotoToday()"\n         bb-translate\n         analytics-id="components.directives.calendar.navigation.today">\n        components.directives.calendar.navigation.today\n      </a>\n      <button class="right items-due"\n              ng-if="calendar.isDayView() && calendar.getDueEventObjectCountsByDate(currentViewDate) > 0"\n              ng-click="calendar.scrollToDueDateItem(currentViewDate.toDate())"\n              bb-translate-attrs="{\'title\': \'components.directives.calendar.dueItems.plural\'}"\n              translate-attrs-values="{count: calendar.getDueEventObjectCountsByDate(currentViewDate)}"\n              analytics-id="components.directives.calendar.dueItems.scrollTo.button">\n        <bb-svg-icon icon="attention" size="small" aria-hidden="true"></bb-svg-icon>\n        <span bb-translate translate-values="{ count: calendar.getDueEventObjectCountsByDate(currentViewDate) }">components.directives.calendar.dueItems.plural</span>\n        <bb-svg-icon icon="arrow-right" size="small" aria-hidden="true"></bb-svg-icon>\n      </button>\n    </div>\n    <div class="all-day" ng-show="calendar.isDayView() && calendar.allDayEventsInCurrentDay.length > 0">\n      <div class="all-day-label">\n        <span class="hide-for-small-only" bb-translate>components.directives.calendar.allDay</span>\n        <span class="hide-for-medium-up">&nbsp;</span>\n      </div>\n      <div>\n        <ul class="all-day-events small-block-grid-3 medium-block-grid-4 large-block-grid-5">\n          <li ng-repeat="item in calendar.getAllDayEventsByDate(currentViewDate) track by $index"\n              ng-click="viewCalendarItem(item.raw)"\n              analytics-id="component.directives.calendar.allDay.viewItem.button">\n            <div class="event">\n              <div class="element-card-container">\n                <div class="element-card tile {{item.raw.ui.courseColorClass}}">\n                  <div class="element-details">\n                    <div class="name">\n                      <a href="javascript:void(0);"\n                         ng-class="::{\'disable-click\': !calendar.allowClick(item.raw)}"\n                         aria-haspopup="true"\n                         class="course-name"\n                         analytics-id="components.directives.calendar.allDay.viewItem.link">\n                        {{item.title}}\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div class="fullcalendar-container" ng-show="calendar.view === \'schedule\'" id="fullCalendar">\n      <div class="spinner bb-secondary-color-2 relatively-centered" ng-show="calendar.isLoading" aria-hidden="true"></div>\n    </div>\n    \x3c!-- Use $parent.currentViewDate because bb-load-bundle will create a scope --\x3e\n    <bb-deadlines due-date-item-source="dueDateItemSource" is-empty="isDeadlineEmpty" hide-course-link="hideCourseLink && hideCourseLink()"\n      ng-show="calendar.view === \'deadline\'" current-view-date="currentDeadlineViewDate" is-month-view-active="calendar.isMonthViewActive()"\n      prefix="idPrefix" view-due-date-item="viewCalendarItem" id="deadlineContainer"></bb-deadlines>\n    <div class="month-list-container show-for-small-only" ng-show="calendar.isMonthView()">\n      <h3 class="month-fixed-title"></h3>\n      <div id="month-scroll" class="month-scroll">\n        <div class="month-scroll-content">\n          <div class="month-item" ng-class="{\'month-item-first\': $first, \'month-item-last\': $last}" ng-repeat="month in calendar.monthsInSmallMonthView">\n            <h3 class="month-title" bb-date="{{month[0].toDate()}}" format="MonthAndYear" auto-update="true"></h3>\n            <ul class="month-list">\n              <li ng-repeat="day in month">\n                <div class="columns date">\n                  <h5 bb-date="{{day.toDate()}}" format="MediumWeekday" auto-update="true"></h5>\n                  <h4>{{day.date()}}</h4>\n                  <bb-svg-icon icon="attention"\n                               size="small"\n                               ng-show="calendar.getDueEventObjectCountsByDate(day) > 0"\n                               ng-click="calendar.scrollToDueDateItem(day.toDate())"\n                               tabindex="0"\n                               role="button"\n                               analytics-id="{{\'components.directives.calendar.openDateInDueDates.\' + day.toDate().getDay() + \'.button\'}}">\n                    <span class="sr-only" bb-translate translate-values="{date: day.toDate()}">components.directives.calendar.openDateInDueDates</span>\n                  </bb-svg-icon>\n                </div>\n                <div class="event-list" ng-click="calendar.openDateInDayView(day)" analytics-id="{{\'components.directives.calendar.openDateInDayView.\' + day.toDate().getDay() + \'.button\'}}\'">\n                  <ul>\n                    <li ng-class="item.raw.ui.courseColorClass" ng-repeat="item in calendar.getEventObjectsByDate(day, 3)">\n                      <span><b>{{item.raw.isDueItem() ? calendar.dueMonthItemText : item.raw.ui.startTimeString}}</b> {{item.title}}</span>\n                    </li>\n                  </ul>\n                  <div ng-show="calendar.getEventObjectCountsByDate(day) > 3"\n                       bb-translate translate-values="{ count: calendar.getEventObjectCountsByDate(day) - 3 }">\n                       components.directives.calendar.more.plural\n                  </div>\n                </div>\n                <div class="arrow-icon"\n                     ng-click="calendar.openDateInDayView(day)"\n                     analytics-id="{{\'components.directives.calendar.openDateInDayView.\' + day.toDate().getDay() + \'.button\'}}\'">\n                  <bb-svg-icon\n                    icon="arrow-right"\n                    size="small"\n                    tabindex="0"\n                    role="button"\n                    bb-translate-attrs="{\'aria-label\': \'components.directives.calendar.ariaLabel.dayPicker\'}"\n                    translate-attrs-values="{ date: day.toDate() }">\n                    <span class="sr-only" bb-translate translate-values="{date: day.toDate()}">components.directives.calendar.openDateInDayView</span>\n                  </bb-svg-icon>\n                </div>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},nfEd:function(e,t,n){var a=n("ziER"),i=n("5JeM"),s=new a({id:"icon-small-arrow-up",use:"icon-small-arrow-up-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-arrow-up"><path d="M15 11L8 4l-7 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},"o/Pg":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("4iFr");const s="ultra.components.directives.bbUiIcon.large.Discussion";Object(a.a)(i.a,s,"bbUiIconLargeDiscussion")},pWJj:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("5ikY");const s="ultra.components.directives.bbUiIcon.large.Blog";Object(a.a)(i.a,s,"bbUiIconLargeBlog")},"r+pC":function(e,t,n){var a=n("ziER"),i=n("5JeM"),s=new a({id:"icon-medium-back-arrow",use:"icon-medium-back-arrow-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-back-arrow"><path d="M11 23L1 12 11 1M1 12h22" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},rRc3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("xQgz");const s="ultra.components.directives.bbUiIcon.large.Folder";Object(a.a)(i.a,s,"bbUiIconLargeFolder")},smDF:function(e,t,n){var a=n("ziER"),i=n("5JeM"),s=new a({id:"icon-medium-add-circle",use:"icon-medium-add-circle-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-add-circle"><circle cx="12" cy="12" r="11" stroke-width="2" /><path d="M12 7v10M7 12h10" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});i.add(s);e.exports=s},tqR7:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("Llzl"),i=n("lEL+");const s="ultra.components.directives.clickOutside";class o{constructor(e,t,n,a,i){this.scope=e,this.element=t,this.attrs=n,this.$document=a,this.timeout=i;const s=e=>this.applyExpression(e),o=this.getContainer()||a;this.scope.$watch(this.attrs.isActive,((e,t)=>{e?this.timeout((()=>{o.on("click",s)}),this.scope,0,!1):o.off("click",s)})),this.scope.$on("$destroy",(()=>{o.off("click",s)}))}applyExpression(e){const t=this.element.is(e.target),n=this.element.has(e.target).length>0;t||n||this.scope.$apply(this.attrs.bbClickOutside)}getContainer(){if("currentPanelOnly"in this.attrs){let e=this.element;for(;e.parent().length;)if(e=e.parent(),e.is(".bb-offcanvas-panel,#main-content-inner"))return e}}}o.$inject=["scope","element","attrs","$document",i.b];class c{constructor(e){this.$injector=e,this.priority=100,this.restrict="A",this.compile=(e,t)=>({pre:(e,t,n)=>this.$injector.instantiate(o,{scope:e,element:t,attrs:n})})}}c.$inject=["$injector"],a.module(s,[]).directive("bbClickOutside",["$injector",e=>e.instantiate(c)])},xMZ0:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("zYa8"),i=n("OhrW");const s="ultra.components.directives.bbUiIcon.large.DocumentText";Object(a.a)(i.a,s,"bbUiIconLargeDocumentText")}}]);